(self.webpackChunkmedic_app=self.webpackChunkmedic_app||[]).push([[179],{1306:(rc,lu,Qe)=>{"use strict";function Fn(e){return"function"==typeof e}function Ee(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const aa=Ee(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function bi(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Ci{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Fn(i))try{i()}catch(o){n=o instanceof aa?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{No(o)}catch(l){n=n??[],l instanceof aa?n=[...n,...l.errors]:n.push(l)}}if(n)throw new aa(n)}}add(n){var t;if(n&&n!==this)if(this.closed)No(n);else{if(n instanceof Ci){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&bi(t,n)}remove(n){const{_teardowns:t}=this;t&&bi(t,n),n instanceof Ci&&n._removeParent(this)}}Ci.EMPTY=(()=>{const e=new Ci;return e.closed=!0,e})();const Pt=Ci.EMPTY;function Ur(e){return e instanceof Ci||e&&"closed"in e&&Fn(e.remove)&&Fn(e.add)&&Fn(e.unsubscribe)}function No(e){Fn(e)?e():e.unsubscribe()}const _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Un={setTimeout(...e){const{delegate:n}=Un;return(n?.setTimeout||setTimeout)(...e)},clearTimeout(e){const{delegate:n}=Un;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Oa(e){Un.setTimeout(()=>{const{onUnhandledError:n}=_t;if(!n)throw e;n(e)})}function oc(){}const yo=xp("C",void 0,void 0);function xp(e,n,t){return{kind:e,value:n,error:t}}let Xa=null;function bp(e){if(_t.useDeprecatedSynchronousErrorHandling){const n=!Xa;if(n&&(Xa={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=Xa;if(Xa=null,t)throw i}}else e()}class Um extends Ci{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ur(n)&&n.add(this)):this.destination=Ea}static create(n,t,i){return new Cp(n,t,i)}next(n){this.isStopped?Mn(function r5(e){return xp("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Mn(function n5(e){return xp("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Mn(yo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Cp extends Um{constructor(n,t,i){let r;if(super(),Fn(n))r=n;else if(n){let o;({next:r,error:t,complete:i}=n),this&&_t.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe()):o=n,r=r?.bind(o),t=t?.bind(o),i=i?.bind(o)}this.destination={next:r?ac(r):oc,error:ac(t??nn),complete:i?ac(i):oc}}}function ac(e,n){return(...t)=>{try{e(...t)}catch(i){_t.useDeprecatedSynchronousErrorHandling?function Ym(e){_t.useDeprecatedSynchronousErrorHandling&&Xa&&(Xa.errorThrown=!0,Xa.error=e)}(i):Oa(i)}}}function nn(e){throw e}function Mn(e,n){const{onStoppedNotification:t}=_t;t&&Un.setTimeout(()=>t(e,n))}const Ea={closed:!0,next:oc,error:nn,complete:oc},it="function"==typeof Symbol&&Symbol.observable||"@@observable";function jt(e){return e}function Gn(e){return 0===e.length?jt:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let Wn=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function fe(e){return e&&e instanceof Um||function Dn(e){return e&&Fn(e.next)&&Fn(e.error)&&Fn(e.complete)}(e)&&Ur(e)}(t)?t:new Cp(t,i,r);return bp(()=>{const{operator:l,source:h}=this;o.add(l?l.call(o,h):h?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Gr(i))((r,o)=>{const l=new Cp({next:h=>{try{t(h)}catch(f){o(f),l.unsubscribe()}},error:o,complete:r});this.subscribe(l)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[it](){return this}pipe(...t){return Gn(t)(this)}toPromise(t){return new(t=Gr(t))((i,r)=>{let o;this.subscribe(l=>o=l,l=>r(l),()=>i(o))})}}return e.create=n=>new e(n),e})();function Gr(e){var n;return null!==(n=e??_t.Promise)&&void 0!==n?n:Promise}const tt=Ee(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class e extends Wn{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Ri(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new tt}next(t){bp(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(t)}})}error(t){bp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){bp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Pt:(o.push(t),new Ci(()=>bi(o,t)))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Wn;return t.source=this,t}}return e.create=(n,t)=>new Ri(n,t),e})();class Ri extends nt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:Pt}}function Is(e){return Fn(e?.lift)}function Gt(e){return n=>{if(Is(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class rt extends Um{constructor(n,t,i,r,o){super(n),this.onFinalize=o,this._next=t?function(l){try{t(l)}catch(h){n.error(h)}}:super._next,this._error=r?function(l){try{r(l)}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Je(e,n){return Gt((t,i)=>{let r=0;t.subscribe(new rt(i,o=>{i.next(e.call(n,o,r++))}))})}function zt(e,n,t,i){var l,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,i);else for(var h=e.length-1;h>=0;h--)(l=e[h])&&(o=(r<3?l(o):r>3?l(n,t,o):l(n,t))||o);return r>3&&o&&Object.defineProperty(n,t,o),o}function Ml(e){return this instanceof Ml?(this.v=e,this):new Ml(e)}function g2(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(S){i[S]&&(r[S]=function(M){return new Promise(function(O,I){o.push([S,M,O,I])>1||h(S,M)})})}function h(S,M){try{!function f(S){S.value instanceof Ml?Promise.resolve(S.value.v).then(m,_):b(o[0][2],S)}(i[S](M))}catch(O){b(o[0][3],O)}}function m(S){h("next",S)}function _(S){h("throw",S)}function b(S,M){S(M),o.shift(),o.length&&h(o[0][0],o[0][1])}}function ih(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function n1(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(l){return new Promise(function(h,f){!function r(o,l,h,f){Promise.resolve(f).then(function(m){o({value:m,done:h})},l)}(h,f,(l=e[o](l)).done,l.value)})}}}const rh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Nt(e){return Fn(e?.then)}function lc(e){return Fn(e[it])}function cc(e){return Symbol.asyncIterator&&Fn(e?.[Symbol.asyncIterator])}function Pl(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cu=function Ls(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oh(e){return Fn(e?.[cu])}function uc(e){return g2(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield Ml(t.read());if(r)return yield Ml(void 0);yield yield Ml(i)}}finally{t.releaseLock()}})}function Al(e){return Fn(e?.getReader)}function Fo(e){if(e instanceof Wn)return e;if(null!=e){if(lc(e))return function Wm(e){return new Wn(n=>{const t=e[it]();if(Fn(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(rh(e))return function Ud(e){return new Wn(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Nt(e))return function Gd(e){return new Wn(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Oa)})}(e);if(cc(e))return Wd(e);if(oh(e))return function a5(e){return new Wn(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Al(e))return function Qh(e){return Wd(uc(e))}(e)}throw Pl(e)}function Wd(e){return new Wn(n=>{(function zl(e,n){var t,i,r,o;return function Tl(e,n,t,i){return new(t||(t=Promise))(function(o,l){function h(_){try{m(i.next(_))}catch(b){l(b)}}function f(_){try{m(i.throw(_))}catch(b){l(b)}}function m(_){_.done?o(_.value):function r(o){return o instanceof t?o:new t(function(l){l(o)})}(_.value).then(h,f)}m((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ih(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(l){r={error:l}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ms(e,n,t,i=0,r=!1){const o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Cr(e,n,t=1/0){return Fn(n)?Cr((i,r)=>Je((o,l)=>n(i,o,r,l))(Fo(e(i,r))),t):("number"==typeof n&&(t=n),Gt((i,r)=>function v2(e,n,t,i,r,o,l,h){const f=[];let m=0,_=0,b=!1;const S=()=>{b&&!f.length&&!m&&n.complete()},M=I=>m<i?O(I):f.push(I),O=I=>{o&&n.next(I),m++;let N=!1;Fo(t(I,_++)).subscribe(new rt(n,V=>{r?.(V),o?M(V):n.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(m--;f.length&&m<i;){const V=f.shift();l?ms(n,l,()=>O(V)):O(V)}S()}catch(V){n.error(V)}}))};return e.subscribe(new rt(n,M,()=>{b=!0,S()})),()=>{h?.()}}(i,r,e,t)))}function Oc(e=1/0){return Cr(jt,e)}const cr=new Wn(e=>e.complete());function s5(e){return e&&Fn(e.schedule)}function jd(e){return e[e.length-1]}function b3(e){return Fn(jd(e))?e.pop():void 0}function Rs(e){return s5(jd(e))?e.pop():void 0}function r1(e,n=0){return Gt((t,i)=>{t.subscribe(new rt(i,r=>ms(i,e,()=>i.next(r),n),()=>ms(i,e,()=>i.complete(),n),r=>ms(i,e,()=>i.error(r),n)))})}function jm(e,n=0){return Gt((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Sp(e,n){if(!e)throw new Error("Iterable cannot be null");return new Wn(t=>{ms(t,n,()=>{const i=e[Symbol.asyncIterator]();ms(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function xo(e,n){return n?function T3(e,n){if(null!=e){if(lc(e))return function C3(e,n){return Fo(e).pipe(jm(n),r1(n))}(e,n);if(rh(e))return function $m(e,n){return new Wn(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(Nt(e))return function w3(e,n){return Fo(e).pipe(jm(n),r1(n))}(e,n);if(cc(e))return Sp(e,n);if(oh(e))return function o1(e,n){return new Wn(t=>{let i;return ms(t,n,()=>{i=e[cu](),ms(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(l){return void t.error(l)}o?t.complete():t.next(r)},0,!0)}),()=>Fn(i?.return)&&i.return()})}(e,n);if(Al(e))return function S3(e,n){return Sp(uc(e),n)}(e,n)}throw Pl(e)}(e,n):Fo(e)}function Qr(...e){const n=Rs(e),t=function MT(e,n){return"number"==typeof jd(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?Fo(i[0]):Oc(t)(xo(i,n)):cr}function wr(e){return e<=0?()=>cr:Gt((n,t)=>{let i=0;n.subscribe(new rt(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function a1(e={}){const{connector:n=(()=>new nt),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let l=null,h=null,f=null,m=0,_=!1,b=!1;const S=()=>{h?.unsubscribe(),h=null},M=()=>{S(),l=f=null,_=b=!1},O=()=>{const I=l;M(),I?.unsubscribe()};return Gt((I,N)=>{m++,!b&&!_&&S();const V=f=f??n();N.add(()=>{m--,0===m&&!b&&!_&&(h=el(O,r))}),V.subscribe(N),l||(l=new Cp({next:G=>V.next(G),error:G=>{b=!0,S(),h=el(M,t,G),V.error(G)},complete:()=>{_=!0,S(),h=el(M,i),V.complete()}}),xo(I).subscribe(l))})(o)}}function el(e,n,...t){return!0===n?(e(),null):!1===n?null:n(...t).pipe(wr(1)).subscribe(()=>e())}function Sn(e){for(let n in e)if(e[n]===Sn)return n;throw Error("Could not find renamed property on target object.")}function bo(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ir(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ir).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function ah(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Tp=Sn({__forward_ref__:Sn});function Yi(e){return e.__forward_ref__=Yi,e.toString=function(){return Ir(this())},e}function It(e){return Wr(e)?e():e}function Wr(e){return"function"==typeof e&&e.hasOwnProperty(Tp)&&e.__forward_ref__===Yi}function Xm(e){return e&&!!e.\u0275providers}const tl="https://g.co/ng/security#xss";class dt extends Error{constructor(n,t){super(function $d(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}(n,t)),this.code=n}}function jn(e){return"string"==typeof e?e:null==e?"":String(e)}function Dp(e,n){throw new dt(-201,!1)}function qa(e,n){null==e&&function ur(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function Jr(e){return C2(e,qd)||C2(e,zp)}function C2(e,n){return e.hasOwnProperty(n)?e[n]:null}function S2(e){return e&&(e.hasOwnProperty(l1)||e.hasOwnProperty(c1))?e[l1]:null}const qd=Sn({\u0275prov:Sn}),l1=Sn({\u0275inj:Sn}),zp=Sn({ngInjectableDef:Sn}),c1=Sn({ngInjectorDef:Sn});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let kp;function Za(e){const n=kp;return kp=e,n}function Op(e,n,t){const i=Jr(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Et.Optional?null:void 0!==n?n:void Dp(Ir(e))}const zr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ed={},T2="__NG_DI_FLAG__",vs="ngTempTokenPath",P3=/\n/gm,Zd="__source";let hu;function td(e){const n=hu;return hu=e,n}function u5(e,n=Et.Default){if(void 0===hu)throw new dt(-203,!1);return null===hu?Op(e,void 0,n):hu.get(e,n&Et.Optional?null:void 0,n)}function Ve(e,n=Et.Default){return(function uu(){return kp}()||u5)(It(e),n)}function bn(e,n=Et.Default){return Ve(e,D2(n))}function D2(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Km(e){const n=[];for(let t=0;t<e.length;t++){const i=It(e[t]);if(Array.isArray(i)){if(0===i.length)throw new dt(900,!1);let r,o=Et.Default;for(let l=0;l<i.length;l++){const h=i[l],f=u1(h);"number"==typeof f?-1===f?r=h.token:o|=f:r=h}n.push(Ve(r,o))}else n.push(Ve(i))}return n}function Kd(e,n){return e[T2]=n,e.prototype[T2]=n,e}function u1(e){return e[T2]}function Zo(e){return{toString:e}.toString()}var la=(()=>((la=la||{})[la.OnPush=0]="OnPush",la[la.Default=1]="Default",la))(),il=(()=>{return(e=il||(il={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",il;var e})();const du={},hr=[],h1=Sn({\u0275cmp:Sn}),P2=Sn({\u0275dir:Sn}),d1=Sn({\u0275pipe:Sn}),Qm=Sn({\u0275mod:Sn}),fu=Sn({\u0275fac:Sn}),rl=Sn({__NG_ELEMENT_ID__:Sn});let ch=0;function ut(e){return Zo(()=>{const t=!0===e.standalone,i={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===la.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||hr,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||il.Emulated,id:"c"+ch++,styles:e.styles||hr,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=e.dependencies,l=e.features;return r.inputs=A2(e.inputs,i),r.outputs=A2(e.outputs),l&&l.forEach(h=>h(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ic).filter(kl):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ka).filter(kl):null,r})}function Ic(e){return qi(e)||Bo(e)}function kl(e){return null!==e}function Wt(e){return Zo(()=>({type:e.type,bootstrap:e.bootstrap||hr,declarations:e.declarations||hr,imports:e.imports||hr,exports:e.exports||hr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function A2(e,n){if(null==e)return du;const t={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,n&&(n[r]=o)}return t}const St=ut;function Ns(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function qi(e){return e[h1]||null}function Bo(e){return e[P2]||null}function Ka(e){return e[d1]||null}function La(e,n){const t=e[Qm]||null;if(!t&&!0===n)throw new Error(`Type ${Ir(e)} does not have '\u0275mod' property.`);return t}function ca(e){return Array.isArray(e)&&"object"==typeof e[1]}function El(e){return Array.isArray(e)&&!0===e[1]}function m1(e){return 0!=(4&e.flags)}function e0(e){return e.componentOffset>-1}function Il(e){return 1==(1&e.flags)}function Xt(e){return null!==e.template}function h5(e){return 0!=(256&e[2])}function Ce(e,n){return e.hasOwnProperty(fu)?e[fu]:null}class Ne{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Le(){return lt}function lt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Zt),Ct}function Ct(){const e=or(this),n=e?.current;if(n){const t=e.previous;if(t===du)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function Zt(e,n,t,i){const r=this.declaredInputs[t],o=or(e)||function fh(e,n){return e[pn]=n}(e,{previous:du,current:null}),l=o.current||(o.current={}),h=o.previous,f=h[r];l[r]=new Ne(f&&f.currentValue,n,h===du),e[i]=n}Le.ngInherit=!0;const pn="__ngSimpleChanges__";function or(e){return e[pn]||null}function Ja(e){for(;Array.isArray(e);)e=e[0];return e}function yu(e,n){return Ja(n[e])}function Ll(e,n){return Ja(n[e.index])}function ua(e,n){return e.data[n]}function gh(e,n){return e[n]}function Rl(e,n){const t=n[e];return ca(t)?t:t[0]}function Vo(e){return 64==(64&e[2])}function gc(e,n){return null==n?null:e[n]}function tf(e){e[18]=0}function Zi(e,n){e[5]+=n;let t=e,i=e[3];for(;null!==i&&(1===n&&1===t[5]||-1===n&&0===t[5]);)i[5]+=n,t=i,i=i[3]}const Si={lFrame:g5(null),bindingsEnabled:!0};function RT(){return Si.bindingsEnabled}function xt(){return Si.lFrame.lView}function vr(){return Si.lFrame.tView}function Xe(e){return Si.lFrame.contextLView=e,e[8]}function Ze(e){return Si.lFrame.contextLView=null,e}function al(){let e=FT();for(;null!==e&&64===e.type;)e=e.parent;return e}function FT(){return Si.lFrame.currentTNode}function nf(e,n){const t=Si.lFrame;t.currentTNode=e,t.isParent=n}function BT(){return Si.lFrame.isParent}function O2(){Si.lFrame.isParent=!1}function sl(){const e=Si.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Np(){return Si.lFrame.bindingIndex}function E2(){return Si.lFrame.bindingIndex++}function mh(e){const n=Si.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function nI(e,n){const t=Si.lFrame;t.bindingIndex=t.bindingRootIndex=e,YT(n)}function YT(e){Si.lFrame.currentDirectiveIndex=e}function UT(e){const n=Si.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function GT(){return Si.lFrame.currentQueryIndex}function WT(e){Si.lFrame.currentQueryIndex=e}function jT(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function rI(e,n,t){if(t&Et.SkipSelf){let r=n,o=e;for(;!(r=r.parent,null!==r||t&Et.Host||(r=jT(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;n=r,e=o}const i=Si.lFrame=XT();return i.currentTNode=n,i.lView=e,!0}function $T(e){const n=XT(),t=e[1];Si.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function XT(){const e=Si.lFrame,n=null===e?null:e.child;return null===n?g5(e):n}function g5(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function _1(){const e=Si.lFrame;return Si.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const I3=_1;function m5(){const e=_1();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ll(){return Si.lFrame.selectedIndex}function Fp(e){Si.lFrame.selectedIndex=e}function Eo(){const e=Si.lFrame;return ua(e.tView,e.selectedIndex)}function wo(){Si.lFrame.currentNamespace="svg"}function mc(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:h,ngAfterViewInit:f,ngAfterViewChecked:m,ngOnDestroy:_}=o;l&&(e.contentHooks||(e.contentHooks=[])).push(-t,l),h&&((e.contentHooks||(e.contentHooks=[])).push(t,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,h)),f&&(e.viewHooks||(e.viewHooks=[])).push(-t,f),m&&((e.viewHooks||(e.viewHooks=[])).push(t,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,m)),null!=_&&(e.destroyHooks||(e.destroyHooks=[])).push(t,_)}}function Bp(e,n,t){Ho(e,n,3,t)}function rd(e,n,t,i){(3&e[2])===t&&Ho(e,n,t,i)}function _5(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function Ho(e,n,t,i){const o=i??-1,l=n.length-1;let h=0;for(let f=void 0!==i?65535&e[18]:0;f<l;f++)if("number"==typeof n[f+1]){if(h=n[f],null!=i&&h>=i)break}else n[f]<0&&(e[18]+=65536),(h<o||-1==o)&&(sI(e,t,n,f),e[18]=(4294901760&e[18])+f+2),f++}function sI(e,n,t,i){const r=t[i]<0,o=t[i+1],h=e[r?-t[i]:t[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{o.call(h)}finally{}}}else try{o.call(h)}finally{}}class I2{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function KT(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],l=t[i++],h=t[i++];e.setAttribute(n,l,h,o)}else{const o=r,l=t[++i];_c(o)?e.setProperty(n,o,l):e.setAttribute(n,o,l),i++}}return i}function vc(e){return 3===e||4===e||6===e}function _c(e){return 64===e.charCodeAt(0)}function a0(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||x5(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function x5(e,n,t,i,r){let o=0,l=e.length;if(-1===n)l=-1;else for(;o<e.length;){const h=e[o++];if("number"==typeof h){if(h===n){l=-1;break}if(h>n){l=o-1;break}}}for(;o<e.length;){const h=e[o];if("number"==typeof h)break;if(h===t){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==l&&(e.splice(l,0,n),o=l+1),e.splice(o++,0,t),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function b1(e){return-1!==e}function s0(e){return 32767&e}function l0(e,n){let t=function b5(e){return e>>16}(e),i=n;for(;t>0;)i=i[15],t--;return i}let c0=!0;function R3(e){const n=c0;return c0=e,n}let V$=0;const af={};function sf(e,n){const t=od(e,n);if(-1!==t)return t;const i=n[1];i.firstCreatePass&&(e.injectorIndex=n.length,Vp(i.data,e),Vp(n,null),Vp(i.blueprint,null));const r=lf(e,n),o=e.injectorIndex;if(b1(r)){const l=s0(r),h=l0(r,n),f=h[1].data;for(let m=0;m<8;m++)n[o+m]=h[l+m]|f[l+m]}return n[o+8]=r,o}function Vp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function od(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function lf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=JT(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function vh(e,n,t){!function jr(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(rl)&&(i=t[rl]),null==i&&(i=t[rl]=V$++);const r=255&i;n.data[e+(r>>5)]|=1<<r}(e,n,t)}function L2(e,n,t){if(t&Et.Optional||void 0!==e)return e;Dp()}function R2(e,n,t,i){if(t&Et.Optional&&void 0===i&&(i=null),!(t&(Et.Self|Et.Host))){const r=e[9],o=Za(void 0);try{return r?r.get(n,i,t&Et.Optional):Op(n,i,t&Et.Optional)}finally{Za(o)}}return L2(i,0,t)}function C1(e,n,t,i=Et.Default,r){if(null!==e){if(1024&n[2]){const l=function H$(e,n,t,i,r){let o=e,l=n;for(;null!==o&&null!==l&&1024&l[2]&&!(256&l[2]);){const h=w1(o,l,t,i|Et.Self,af);if(h!==af)return h;let f=o.parent;if(!f){const m=l[21];if(m){const _=m.get(t,af,i);if(_!==af)return _}f=JT(l),l=l[15]}o=f}return r}(e,n,t,i,af);if(l!==af)return l}const o=w1(e,n,t,i,af);if(o!==af)return o}return R2(n,t,i,r)}function w1(e,n,t,i,r){const o=function S1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(rl)?e[rl]:void 0;return"number"==typeof n?n>=0?255&n:uI:n}(t);if("function"==typeof o){if(!rI(n,e,i))return i&Et.Host?L2(r,0,i):R2(n,t,i,r);try{const l=o(i);if(null!=l||i&Et.Optional)return l;Dp()}finally{I3()}}else if("number"==typeof o){let l=null,h=od(e,n),f=-1,m=i&Et.Host?n[16][6]:null;for((-1===h||i&Et.SkipSelf)&&(f=-1===h?lf(e,n):n[h+8],-1!==f&&N2(i,!1)?(l=n[1],h=s0(f),n=l0(f,n)):h=-1);-1!==h;){const _=n[1];if(w5(o,h,_.data)){const b=C5(h,n,t,l,i,m);if(b!==af)return b}f=n[h+8],-1!==f&&N2(i,n[1].data[h+8]===m)&&w5(o,h,n)?(l=_,h=s0(f),n=l0(f,n)):h=-1}}return r}function C5(e,n,t,i,r,o){const l=n[1],h=l.data[e+8],_=_h(h,l,t,null==i?e0(h)&&c0:i!=l&&0!=(3&h.type),r&Et.Host&&o===h);return null!==_?Hp(n,l,_,h):af}function _h(e,n,t,i,r){const o=e.providerIndexes,l=n.data,h=1048575&o,f=e.directiveStart,_=o>>20,S=r?h+_:e.directiveEnd;for(let M=i?h:h+_;M<S;M++){const O=l[M];if(M<f&&t===O||M>=f&&O.type===t)return M}if(r){const M=l[f];if(M&&Xt(M)&&M.type===t)return f}return null}function Hp(e,n,t,i){let r=e[t];const o=n.data;if(function x1(e){return e instanceof I2}(r)){const l=r;l.resolving&&function sh(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new dt(-200,`Circular dependency in DI detected for ${e}${t}`)}(function $n(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():jn(e)}(o[t]));const h=R3(l.canSeeViewProviders);l.resolving=!0;const f=l.injectImpl?Za(l.injectImpl):null;rI(e,i,Et.Default);try{r=e[t]=l.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&function rf(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const l=lt(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,l),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,l)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,o))}(t,o[t],n)}finally{null!==f&&Za(f),R3(h),l.resolving=!1,I3()}}return r}function w5(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function N2(e,n){return!(e&Et.Self||e&Et.Host&&n)}class T1{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return C1(this._tNode,this._lView,n,D2(i),t)}}function uI(){return new T1(al(),xt())}function Nr(e){return Zo(()=>{const n=e.prototype.constructor,t=n[fu]||uf(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[fu]||uf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function uf(e){return Wr(e)?()=>{const n=uf(It(e));return n&&n()}:Ce(e)}function JT(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[6]:null}const hf="__parameters__",F2="__prop__metadata__";function ff(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}function yh(e,n,t){return Zo(()=>{const i=ff(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const l=new r(...o);return h.annotation=l,h;function h(f,m,_){const b=f.hasOwnProperty(hf)?f[hf]:Object.defineProperty(f,hf,{value:[]})[hf];for(;b.length<=_;)b.push(null);return(b[_]=b[_]||[]).push(l),f}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function yc(e,n,t,i){return Zo(()=>{const r=ff(n);function o(...l){if(this instanceof o)return r.apply(this,l),this;const h=new o(...l);return function f(m,_){const b=m.constructor,S=b.hasOwnProperty(F2)?b[F2]:Object.defineProperty(b,F2,{value:{}})[F2];S[_]=S.hasOwnProperty(_)&&S[_]||[],S[_].unshift(h),i&&i(m,_,...l)}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class pt{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=mt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qo=Function;function Cu(e,n){e.forEach(t=>Array.isArray(t)?Cu(t,n):n(t))}function fI(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function S5(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function gi(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}function wu(e,n,t){let i=u0(e,n);return i>=0?e[1|i]=t:(i=~i,function Ni(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function T5(e,n){const t=u0(e,n);if(t>=0)return e[1|t]}function u0(e,n){return function eM(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const o=i+(r-i>>1),l=e[o<<t];if(n===l)return o<<t;l>n?r=o:i=o+1}return~(r<<t)}(e,n,1)}const gf=Kd(yh("Inject",e=>({token:e})),-1),M1=Kd(yh("Optional"),8),mf=Kd(yh("SkipSelf"),4);var Nl=(()=>((Nl=Nl||{})[Nl.Important=1]="Important",Nl[Nl.DashCase=2]="DashCase",Nl))();const k5=new Map;let lM=0;const uM="__ngContext__";function ul(e,n){ca(n)?(e[uM]=n[20],function E5(e){k5.set(e[20],e)}(n)):e[uM]=n}function gM(e,n){return undefined(e,n)}function G2(e){const n=e[3];return El(n)?n[3]:n}function W2(e){return W3(e[13])}function Su(e){return W3(e[4])}function W3(e){for(;null!==e&&!El(e);)e=e[4];return e}function j2(e,n,t,i,r){if(null!=i){let o,l=!1;El(i)?o=i:ca(i)&&(l=!0,i=i[0]);const h=Ja(i);0===e&&null!==t?null==r?L5(n,t,h):sd(n,t,h,r||null,!0):1===e&&null!==t?sd(n,t,h,r||null,!0):2===e?function to(e,n,t){const i=_f(e,n);i&&function $2(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,h,l):3===e&&n.destroyNode(h),null!=o&&function ld(e,n,t,i,r){const o=t[7];o!==Ja(t)&&j2(n,e,i,o,r);for(let h=10;h<t.length;h++){const f=t[h];Ch(f[1],f,e,n,i,o)}}(n,e,o,t,r)}}function A1(e,n,t){return e.createElement(n,t)}function RI(e,n){const t=e[9],i=t.indexOf(n),r=n[3];512&n[2]&&(n[2]&=-513,Zi(r,-1)),t.splice(i,1)}function _M(e,n){if(e.length<=10)return;const t=10+n,i=e[t];if(i){const r=i[17];null!==r&&r!==e&&RI(r,i),n>0&&(e[t-1][4]=i[4]);const o=S5(e,10+n);!function II(e,n){Ch(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const l=o[19];null!==l&&l.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Fa(e,n){if(!(128&n[2])){const t=n[11];t.destroyNode&&Ch(e,n,t,3,null,null),function dl(e){let n=e[13];if(!n)return Bl(e[1],e);for(;n;){let t=null;if(ca(n))t=n[13];else{const i=n[10];i&&(t=i)}if(!t){for(;n&&!n[4]&&n!==e;)ca(n)&&Bl(n[1],n),n=n[3];null===n&&(n=e),ca(n)&&Bl(n[1],n),t=n&&n[4]}n=t}}(n)}}function Bl(e,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function NI(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof I2)){const o=t[i+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const h=r[o[l]],f=o[l+1];try{f.call(h)}finally{}}else try{o.call(r)}finally{}}}}(e,n),function nX(e,n){const t=e.cleanup,i=n[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const l=t[o+3];l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{const l=i[r=t[o+1]];t[o].call(l)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();n[7]=null}}(e,n),1===n[1].type&&n[11].destroy();const t=n[17];if(null!==t&&El(n[3])){t!==n[3]&&RI(t,n);const i=n[19];null!==i&&i.detachView(e)}!function zI(e){k5.delete(e[20])}(n)}}function p0(e,n,t){return function FI(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===il.None||o===il.Emulated)return null}return Ll(i,t)}}(e,n.parent,t)}function sd(e,n,t,i,r){e.insertBefore(n,t,i,r)}function L5(e,n,t){e.appendChild(n,t)}function yM(e,n,t,i,r){null!==i?sd(e,n,t,i,r):L5(e,n,t)}function _f(e,n){return e.parentNode(n)}function j3(e,n,t){return X3(e,n,t)}let V5,Cc,cd,X3=function $3(e,n,t){return 40&e.type?Ll(e,t):null};function q3(e,n,t,i){const r=p0(e,i,n),o=n[11],h=j3(i.parent||n[6],i,n);if(null!=r)if(Array.isArray(t))for(let f=0;f<t.length;f++)yM(o,r,t[f],h,!1);else yM(o,r,t,h,!1)}function m0(e,n){if(null!==n){const t=n.type;if(3&t)return Ll(n,e);if(4&t)return Ti(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return m0(e,i);{const r=e[n.index];return El(r)?Ti(-1,r):Ja(r)}}if(32&t)return gM(n,e)()||Ja(e[n.index]);{const i=R5(e,n);return null!==i?Array.isArray(i)?i[0]:m0(G2(e[16]),i):m0(e,n.next)}}return null}function R5(e,n){return null!==n?e[16][6].projection[n.projection]:null}function Ti(e,n){const t=10+e+1;if(t<n.length){const i=n[t],r=i[1].firstChild;if(null!==r)return m0(i,r)}return n[7]}function z1(e,n,t,i,r,o,l){for(;null!=t;){const h=i[t.index],f=t.type;if(l&&0===n&&(h&&ul(Ja(h),i),t.flags|=2),32!=(32&t.flags))if(8&f)z1(e,n,t.child,i,r,o,!1),j2(n,e,r,h,o);else if(32&f){const m=gM(t,i);let _;for(;_=m();)j2(n,e,r,_,o);j2(n,e,r,h,o)}else 16&f?q2(e,n,i,t,r,o):j2(n,e,r,h,o);t=l?t.projectionNext:t.next}}function Ch(e,n,t,i,r,o){z1(t,i,e.firstChild,n,r,o,!1)}function q2(e,n,t,i,r,o){const l=t[16],f=l[6].projection[i.projection];if(Array.isArray(f))for(let m=0;m<f.length;m++)j2(n,e,r,f[m],o);else z1(e,n,f,l[3],r,o,!0)}function B5(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function bM(e,n,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&KT(e,n,i),null!==r&&B5(e,n,r),null!==o&&function F5(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function Bs(e){return function H5(){if(void 0===V5&&(V5=null,zr.trustedTypes))try{V5=zr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return V5}()?.createHTML(e)||e}function Tu(){if(void 0===cd&&(cd=null,zr.trustedTypes))try{cd=zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cd}function Q3(e){return Tu()?.createHTML(e)||e}function Z2(e){return Tu()?.createScriptURL(e)||e}class jp{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tl})`}}class UI extends jp{getTypeName(){return"HTML"}}class K2 extends jp{getTypeName(){return"Style"}}class J3 extends jp{getTypeName(){return"Script"}}class GI extends jp{getTypeName(){return"URL"}}class SM extends jp{getTypeName(){return"ResourceURL"}}function Vs(e){return e instanceof jp?e.changingThisBreaksApplicationSecurity:e}function Rc(e,n){const t=function U5(e){return e instanceof jp&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${tl})`)}return t===n}class jI{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Bs(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class $I{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Bs(n),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Bs(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(n){const t=n.attributes;for(let r=t.length-1;0<r;r--){const l=t.item(r).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&n.removeAttribute(l)}let i=n.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const qI=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ty(e){return(e=String(e)).match(qI)?e:"unsafe:"+e}function Nc(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Q2(...e){const n={};for(const t of e)for(const i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}const MM=Nc("area,br,col,hr,img,wbr"),G5=Nc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),W5=Nc("rp,rt"),j5=Q2(MM,Q2(G5,Nc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Q2(W5,Nc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Q2(W5,G5)),DM=Nc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KI=Q2(DM,Nc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rX=Nc("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!j5.hasOwnProperty(t))return this.sanitizedSomething=!0,!rX.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),l=o.name,h=l.toLowerCase();if(!KI.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let f=o.value;DM[h]&&(f=ty(f)),this.buf.push(" ",l,'="',$p(f),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();j5.hasOwnProperty(t)&&!MM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push($p(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const oX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,J2=/([^\#-~ |!])/g;function $p(e){return e.replace(/&/g,"&amp;").replace(oX,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(J2,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let v0;function $5(e,n){let t=null;try{v0=v0||function ey(e){const n=new $I(e);return function XI(){try{return!!(new window.DOMParser).parseFromString(Bs(""),"text/html")}catch{return!1}}()?new jI(n):n}(e);let i=n?String(n):"";t=v0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=v0.getInertBodyElement(i)}while(i!==o);return Bs((new tr).sanitizeChildren(PM(t)||t))}finally{if(t){const i=PM(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function PM(e){return"content"in e&&function X5(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var no=(()=>((no=no||{})[no.NONE=0]="NONE",no[no.HTML=1]="HTML",no[no.STYLE=2]="STYLE",no[no.SCRIPT=3]="SCRIPT",no[no.URL=4]="URL",no[no.RESOURCE_URL=5]="RESOURCE_URL",no))();function Xp(e){const n=_0();return n?Q3(n.sanitize(no.HTML,e)||""):Rc(e,"HTML")?Q3(Vs(e)):$5(function K3(){return void 0!==Cc?Cc:typeof document<"u"?document:void 0}(),jn(e))}function qp(e){const n=_0();return n?n.sanitize(no.URL,e)||"":Rc(e,"URL")?Vs(e):ty(jn(e))}function zM(e){const n=_0();if(n)return Z2(n.sanitize(no.RESOURCE_URL,e)||"");if(Rc(e,"ResourceURL"))return Z2(Vs(e));throw new dt(904,!1)}function _0(){const e=xt();return e&&e[12]}const y0=new pt("ENVIRONMENT_INITIALIZER"),Fc=new pt("INJECTOR",-1),x0=new pt("INJECTOR_DEF_TYPES");class tL{get(n,t=ed){if(t===ed){const i=new Error(`NullInjectorError: No provider for ${Ir(n)}!`);throw i.name="NullInjectorError",i}return t}}function nL(...e){return{\u0275providers:kM(0,e),\u0275fromNgModule:!0}}function kM(e,...n){const t=[],i=new Set;let r;return Cu(n,o=>{const l=o;k1(l,t,[],i)&&(r||(r=[]),r.push(l))}),void 0!==r&&q5(r,t),t}function q5(e,n){for(let t=0;t<e.length;t++){const{providers:r}=e[t];b0(r,o=>{n.push(o)})}}function k1(e,n,t,i){if(!(e=It(e)))return!1;let r=null,o=S2(e);const l=!o&&qi(e);if(o||l){if(l&&!l.standalone)return!1;r=e}else{const f=e.ngModule;if(o=S2(f),!o)return!1;r=f}const h=i.has(r);if(l){if(h)return!1;if(i.add(r),l.dependencies){const f="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const m of f)k1(m,n,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!h){let m;i.add(r);try{Cu(o.imports,_=>{k1(_,n,t,i)&&(m||(m=[]),m.push(_))})}finally{}void 0!==m&&q5(m,n)}if(!h){const m=Ce(r)||(()=>new r);n.push({provide:r,useFactory:m,deps:hr},{provide:x0,useValue:r,multi:!0},{provide:y0,useValue:()=>Ve(r),multi:!0})}const f=o.providers;null==f||h||b0(f,_=>{n.push(_)})}}return r!==e&&void 0!==e.providers}function b0(e,n){for(let t of e)Xm(t)&&(t=t.\u0275providers),Array.isArray(t)?b0(t,n):n(t)}const Z5=Sn({provide:String,useValue:Sn});function t_(e){return null!==e&&"object"==typeof e&&Z5 in e}function O1(e){return"function"==typeof e}const K5=new pt("Set Injector scope."),oy={},oL={};let Q5;function n_(){return void 0===Q5&&(Q5=new tL),Q5}class wh{}class E1 extends wh{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zp(n,l=>this.processProvider(l)),this.records.set(Fc,C0(void 0,this)),r.has("environment")&&this.records.set(wh,C0(void 0,this));const o=this.records.get(K5);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(x0.multi,hr,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=td(this),i=Za(void 0);try{return n()}finally{td(t),Za(i)}}get(n,t=ed,i=Et.Default){this.assertNotDestroyed(),i=D2(i);const r=td(this),o=Za(void 0);try{if(!(i&Et.SkipSelf)){let h=this.records.get(n);if(void 0===h){const f=function aL(e){return"function"==typeof e||"object"==typeof e&&e instanceof pt}(n)&&Jr(n);h=f&&this.injectableDefInScope(f)?C0(EM(n),oy):null,this.records.set(n,h)}if(null!=h)return this.hydrate(n,h)}return(i&Et.Self?n_():this.parent).get(n,t=i&Et.Optional&&t===ed?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[vs]=l[vs]||[]).unshift(Ir(n)),r)throw l;return function Qd(e,n,t,i){const r=e[vs];throw n[Zd]&&r.unshift(n[Zd]),e.message=function OT(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Ir(n);if(Array.isArray(n))r=n.map(Ir).join(" -> ");else if("object"==typeof n){let o=[];for(let l in n)if(n.hasOwnProperty(l)){let h=n[l];o.push(l+":"+("string"==typeof h?JSON.stringify(h):Ir(h)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(P3,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[vs]=null,e}(l,n,"R3InjectorError",this.source)}throw l}finally{Za(o),td(r)}}resolveInjectorInitializers(){const n=td(this),t=Za(void 0);try{const i=this.get(y0.multi,hr,Et.Self);for(const r of i)r()}finally{td(n),Za(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(Ir(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(n){let t=O1(n=It(n))?n:It(n&&n.provide);const i=function Bc(e){return t_(e)?C0(void 0,e.useValue):C0(ay(e),oy)}(n);if(O1(n)||!0!==n.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=C0(void 0,oy,!0),r.factory=()=>Km(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===oy&&(t.value=oL,t.value=t.factory()),"object"==typeof t.value&&t.value&&function LM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=It(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function EM(e){const n=Jr(e),t=null!==n?n.factory:Ce(e);if(null!==t)return t;if(e instanceof pt)throw new dt(204,!1);if(e instanceof Function)return function sX(e){const n=e.length;if(n>0)throw gi(n,"?"),new dt(204,!1);const t=function w2(e){const n=e&&(e[qd]||e[zp]);if(n){const t=function Ap(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new dt(204,!1)}function ay(e,n,t){let i;if(O1(e)){const r=It(e);return Ce(r)||EM(r)}if(t_(e))i=()=>It(e.useValue);else if(function iL(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Km(e.deps||[]));else if(function ry(e){return!(!e||!e.useExisting)}(e))i=()=>Ve(It(e.useExisting));else{const r=It(e&&(e.useClass||e.provide));if(!function IM(e){return!!e.deps}(e))return Ce(r)||EM(r);i=()=>new r(...Km(e.deps))}return i}function C0(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Zp(e,n){for(const t of e)Array.isArray(t)?Zp(t,n):t&&Xm(t)?Zp(t.\u0275providers,n):n(t)}class J5{}class sy{}class w0{resolveComponentFactory(n){throw function sL(e){const n=Error(`No component factory found for ${Ir(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let io=(()=>{class e{}return e.NULL=new w0,e})();function eb(){return yf(al(),xt())}function yf(e,n){return new Vt(Ll(e,n))}let Vt=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=eb,e})();function i_(e){return e instanceof Vt?e.nativeElement:e}class Kp{}let _r=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function di(){const e=xt(),t=Rl(al().index,e);return(ca(t)?t:e)[11]}(),e})(),cL=(()=>{class e{}return e.\u0275prov=mt({token:e,providedIn:"root",factory:()=>null}),e})();class xf{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const lX=new xf("15.1.4"),tb={};function Cf(e){return e.ngOriginalError}class ud{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Cf(n);for(;t&&Cf(t);)t=Cf(t);return t||null}}function T0(e){return e.ownerDocument.defaultView}function L1(e){return e.ownerDocument}function wf(e){return e instanceof Function?e():e}function o_(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}const VM="ng-template";function hL(e,n,t){let i=0;for(;i<e.length;){let r=e[i++];if(t&&"class"===r){if(r=e[i],-1!==o_(r.toLowerCase(),n,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===n)return!0;return!1}}return!1}function dL(e){return 4===e.type&&e.value!==VM}function HM(e,n,t){return n===(4!==e.type||t?e.value:VM)}function YM(e,n,t){let i=4;const r=e.attrs||[],o=function pL(e){for(let n=0;n<e.length;n++)if(vc(e[n]))return n;return e.length}(r);let l=!1;for(let h=0;h<n.length;h++){const f=n[h];if("number"!=typeof f){if(!l)if(4&i){if(i=2|1&i,""!==f&&!HM(e,f,t)||""===f&&1===n.length){if(Sh(i))return!1;l=!0}}else{const m=8&i?f:n[++h];if(8&i&&null!==e.attrs){if(!hL(e.attrs,m,t)){if(Sh(i))return!1;l=!0}continue}const b=UM(8&i?"class":f,r,dL(e),t);if(-1===b){if(Sh(i))return!1;l=!0;continue}if(""!==m){let S;S=b>o?"":r[b+1].toLowerCase();const M=8&i?S:null;if(M&&-1!==o_(M,m,0)||2&i&&m!==S){if(Sh(i))return!1;l=!0}}}}else{if(!l&&!Sh(i)&&!Sh(f))return!1;if(l&&Sh(f))continue;l=!1,i=f|1&i}}return Sh(i)||l}function Sh(e){return 0==(1&e)}function UM(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){const l=n[r];if(l===e)return r;if(3===l||6===l)o=!0;else{if(1===l||2===l){let h=n[++r];for(;"string"==typeof h;)h=n[++r];continue}if(4===l)break;if(0===l){r+=4;continue}}r+=o?1:2}return-1}return function hX(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function GM(e,n,t=!1){for(let i=0;i<n.length;i++)if(YM(e,n[i],t))return!0;return!1}function gL(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function ib(e,n){return e?":not("+n.trim()+")":n}function a_(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let l=e[t];if("string"==typeof l)if(2&i){const h=e[++t];r+="["+l+(h.length>0?'="'+h+'"':"")+"]"}else 8&i?r+="."+l:4&i&&(r+=" "+l);else""!==r&&!Sh(l)&&(n+=ib(o,r),r=""),i=l,o=o||!Sh(i);t++}return""!==r&&(n+=ib(o,r)),n}const Mi={};function J(e){s_(vr(),xt(),ll()+e,!1)}function s_(e,n,t,i){if(!i)if(3==(3&n[2])){const o=e.preOrderCheckHooks;null!==o&&Bp(n,o,t)}else{const o=e.preOrderHooks;null!==o&&rd(n,o,0,t)}Fp(t)}function $M(e,n=null,t=null,i){const r=vL(e,n,t,i);return r.resolveInjectorInitializers(),r}function vL(e,n=null,t=null,i,r=new Set){const o=[t||hr,nL(e)];return i=i||("object"==typeof e?void 0:Ir(e)),new E1(o,n||n_(),i||null,r)}let xs=(()=>{class e{static create(t,i){if(Array.isArray(t))return $M({name:""},i,t,"");{const r=t.name??"";return $M({name:r},t.parent,t.providers,r)}}}return e.THROW_IF_NOT_FOUND=ed,e.NULL=new tL,e.\u0275prov=mt({token:e,providedIn:"any",factory:()=>Ve(Fc)}),e.__NG_ELEMENT_ID__=-1,e})();function de(e,n=Et.Default){const t=xt();return null===t?Ve(e,n):C1(al(),t,It(e),n)}function e9(e,n){const t=e.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const l=e.data[o];WT(t[i]),l.contentQueries(2,n[o],o)}}}function uy(e,n,t,i,r,o,l,h,f,m,_){const b=n.blueprint.slice();return b[0]=r,b[2]=76|i,(null!==_||e&&1024&e[2])&&(b[2]|=1024),tf(b),b[3]=b[15]=e,b[8]=t,b[10]=l||e&&e[10],b[11]=h||e&&e[11],b[12]=f||e&&e[12]||null,b[9]=m||e&&e[9]||null,b[6]=o,b[20]=function O5(){return lM++}(),b[21]=_,b[16]=2==n.type?e[16]:b,b}function Du(e,n,t,i,r){let o=e.data[n];if(null===o)o=function t9(e,n,t,i,r){const o=FT(),l=BT(),f=e.data[n]=function yX(e,n,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=f),null!==o&&(l?null==o.child&&null!==f.parent&&(o.child=f):null===o.next&&(o.next=f)),f}(e,n,t,i,r),function VT(){return Si.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const l=function E3(){const e=Si.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return nf(o,!0),o}function h_(e,n,t,i){if(0===t)return-1;const r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function lb(e,n,t){$T(n);try{const i=e.viewQuery;null!==i&&v9(1,i,t);const r=e.template;null!==r&&n9(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&e9(e,n),e.staticViewQueries&&v9(2,e.viewQuery,t);const o=e.components;null!==o&&function mX(e,n){for(let t=0;t<n.length;t++)Fr(e,n[t])}(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[2]&=-5,m5()}}function cb(e,n,t,i){const r=n[2];if(128!=(128&r)){$T(n);try{tf(n),function p5(e){return Si.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&n9(e,n,t,2,i);const l=3==(3&r);if(l){const m=e.preOrderCheckHooks;null!==m&&Bp(n,m,null)}else{const m=e.preOrderHooks;null!==m&&rd(n,m,0,null),_5(n,0)}if(function YL(e){for(let n=W2(e);null!==n;n=Su(n)){if(!n[2])continue;const t=n[9];for(let i=0;i<t.length;i++){const r=t[i];512&r[2]||Zi(r[3],1),r[2]|=512}}}(n),function g9(e){for(let n=W2(e);null!==n;n=Su(n))for(let t=10;t<n.length;t++){const i=n[t],r=i[1];Vo(i)&&cb(r,i,r.template,i[8])}}(n),null!==e.contentQueries&&e9(e,n),l){const m=e.contentCheckHooks;null!==m&&Bp(n,m)}else{const m=e.contentHooks;null!==m&&rd(n,m,1),_5(n,1)}!function JM(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Fp(~r);else{const o=r,l=t[++i],h=t[++i];nI(l,o),h(2,n[o])}}}finally{Fp(-1)}}(e,n);const h=e.components;null!==h&&function cy(e,n){for(let t=0;t<n.length;t++)R1(e,n[t])}(n,h);const f=e.viewQuery;if(null!==f&&v9(2,f,i),l){const m=e.viewCheckHooks;null!==m&&Bp(n,m)}else{const m=e.viewHooks;null!==m&&rd(n,m,2),_5(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Zi(n[3],-1))}finally{m5()}}}function n9(e,n,t,i,r){const o=ll(),l=2&i;try{Fp(-1),l&&n.length>22&&s_(e,n,22,!1),t(i,r)}finally{Fp(o)}}function r9(e,n,t){if(m1(n)){const r=n.directiveEnd;for(let o=n.directiveStart;o<r;o++){const l=e.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}}function o9(e,n,t){RT()&&(function LL(e,n,t,i){const r=t.directiveStart,o=t.directiveEnd;e0(t)&&function BL(e,n,t){const i=Ll(n,e),r=OL(t),o=e[10],l=fb(e,uy(e,r,null,t.onPush?32:16,i,n,o,o.createRenderer(i,t),null,null,null));e[n.index]=l}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||sf(t,n),ul(i,n);const l=t.initialInputs;for(let h=r;h<o;h++){const f=e.data[h],m=Hp(n,e,h,t);ul(m,n),null!==l&&VL(0,h-r,m,f,0,l),Xt(f)&&(Rl(t.index,n)[8]=Hp(n,e,h,t))}}(e,n,t,Ll(t,n)),64==(64&t.flags)&&hy(e,n,t))}function a9(e,n,t=Ll){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const l=i[o+1],h=-1===l?t(n,e):e[l];e[r++]=h}}}function OL(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=s9(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function s9(e,n,t,i,r,o,l,h,f,m){const _=22+i,b=_+r,S=function vX(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:Mi);return t}(_,b),M="function"==typeof m?m():m;return S[1]={type:e,blueprint:S,template:t,queries:null,viewQuery:h,declTNode:n,data:S.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:f,consts:M,incompleteFirstPass:!1}}function l9(e,n,t,i){const r=$r(n);null===t?r.push(i):(r.push(t),e.firstCreatePass&&k0(e).push(i,r.length-1))}function ub(e,n,t,i){for(let r in e)if(e.hasOwnProperty(r)){t=null===t?{}:t;const o=e[r];null===i?hb(t,n,r,o):i.hasOwnProperty(r)&&hb(t,n,i[r],o)}return t}function hb(e,n,t,i){e.hasOwnProperty(t)?e[t].push(n,i):e[t]=[n,i]}function Pu(e,n,t,i,r,o,l,h){const f=Ll(n,t);let _,m=n.inputs;!h&&null!=m&&(_=m[i])?(dr(e,t,_,i,r),e0(n)&&c9(t,n.index)):3&n.type&&(i=function xX(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=l?l(r,n.value||"",i):r,o.setProperty(f,i,r))}function c9(e,n){const t=Rl(n,e);16&t[2]||(t[2]|=32)}function z0(e,n,t,i){let r=!1;if(RT()){const o=null===i?null:{"":-1},l=function NL(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const l=t[o];if(GM(n,l.selectors,!1))if(i||(i=[]),Xt(l))if(null!==l.findHostDirectiveDefs){const h=[];r=r||new Map,l.findHostDirectiveDefs(l,h,r),i.unshift(...h,l),d9(e,n,h.length)}else i.unshift(l),d9(e,n,0);else r=r||new Map,l.findHostDirectiveDefs?.(l,i,r),i.push(l)}return null===i?null:[i,r]}(e,t);let h,f;null===l?h=f=null:[h,f]=l,null!==h&&(r=!0,u9(e,n,t,h,o,f)),o&&function CX(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const o=t[n[r+1]];if(null==o)throw new dt(-301,!1);i.push(n[r],o)}}}(t,i,o)}return t.mergedAttrs=a0(t.mergedAttrs,t.attrs),r}function u9(e,n,t,i,r,o){for(let m=0;m<i.length;m++)vh(sf(t,n),e,i[m].type);!function f9(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let m=0;m<i.length;m++){const _=i[m];_.providersResolver&&_.providersResolver(_)}let l=!1,h=!1,f=h_(e,n,i.length,null);for(let m=0;m<i.length;m++){const _=i[m];t.mergedAttrs=a0(t.mergedAttrs,_.hostAttrs),FL(e,t,n,f,_),bs(f,_,r),null!==_.contentQueries&&(t.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(t.flags|=64);const b=_.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),h=!0),f++}!function db(e,n,t){const r=n.directiveEnd,o=e.data,l=n.attrs,h=[];let f=null,m=null;for(let _=n.directiveStart;_<r;_++){const b=o[_],S=t?t.get(b):null,O=S?S.outputs:null;f=ub(b.inputs,_,f,S?S.inputs:null),m=ub(b.outputs,_,m,O);const I=null===f||null===l||dL(n)?null:HL(f,_,l);h.push(I)}null!==f&&(f.hasOwnProperty("class")&&(n.flags|=8),f.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=h,n.inputs=f,n.outputs=m}(e,t,o)}function hy(e,n,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,l=function iI(){return Si.lFrame.currentDirectiveIndex}();try{Fp(o);for(let h=i;h<r;h++){const f=e.data[h],m=n[h];YT(h),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&RL(f,m)}}finally{Fp(-1),YT(l)}}function RL(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function d9(e,n,t){n.componentOffset=t,(e.components||(e.components=[])).push(n.index)}function bs(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Xt(n)&&(t[""]=e)}}function FL(e,n,t,i,r){e.data[i]=r;const o=r.factory||(r.factory=Ce(r.type)),l=new I2(o,Xt(r),de);e.blueprint[i]=l,t[i]=l,function h9(e,n,t,i,r){const o=r.hostBindings;if(o){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const h=~n.index;(function IL(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(l)!=h&&l.push(h),l.push(t,i,o)}}(e,n,i,h_(e,t,r.hostVars,Mi),r)}function dd(e,n,t,i,r,o){const l=Ll(e,n);!function dy(e,n,t,i,r,o,l){if(null==o)e.removeAttribute(n,r,t);else{const h=null==l?jn(o):l(o,i||"",r);e.setAttribute(n,r,h,t)}}(n[11],l,o,e.value,t,i,r)}function VL(e,n,t,i,r,o){const l=o[n];if(null!==l){const h=i.setInput;for(let f=0;f<l.length;){const m=l[f++],_=l[f++],b=l[f++];null!==h?i.setInput(t,b,m,_):t[_]=b}}}function HL(e,n,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const l=e[o];for(let h=0;h<l.length;h+=2)if(l[h]===n){i.push(o,l[h+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function p9(e,n,t,i){return[e,!0,!1,n,null,0,i,t,null,null]}function R1(e,n){const t=Rl(n,e);if(Vo(t)){const i=t[1];48&t[2]?cb(i,t,i.template,t[8]):t[5]>0&&d_(t)}}function d_(e){for(let i=W2(e);null!==i;i=Su(i))for(let r=10;r<i.length;r++){const o=i[r];if(Vo(o))if(512&o[2]){const l=o[1];cb(l,o,l.template,o[8])}else o[5]>0&&d_(o)}const t=e[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Rl(t[i],e);Vo(r)&&r[5]>0&&d_(r)}}function Fr(e,n){const t=Rl(n,e),i=t[1];(function UL(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(i,t),lb(i,t,t[8])}function fb(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function m9(e){for(;e;){e[2]|=32;const n=G2(e);if(h5(e)&&!n)return e;e=n}return null}function pb(e,n,t,i=!0){const r=n[10];r.begin&&r.begin();try{cb(e,n,e.template,t)}catch(l){throw i&&WL(n,l),l}finally{r.end&&r.end()}}function v9(e,n,t){WT(0),n(e,t)}function $r(e){return e[7]||(e[7]=[])}function k0(e){return e.cleanup||(e.cleanup=[])}function WL(e,n){const t=e[9],i=t?t.get(ud,null):null;i&&i.handleError(n)}function dr(e,n,t,i,r){for(let o=0;o<t.length;){const l=t[o++],h=t[o++],f=n[l],m=e.data[l];null!==m.setInput?m.setInput(f,r,i,h):f[h]=r}}function fy(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(null!==n)for(let l=0;l<n.length;l++){const h=n[l];"number"==typeof h?o=h:1==o?r=ah(r,h):2==o&&(i=ah(i,h+": "+n[++l]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function gb(e,n,t,i,r=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&i.push(Ja(o)),El(o))for(let h=10;h<o.length;h++){const f=o[h],m=f[1].firstChild;null!==m&&gb(f[1],f,m,i)}const l=t.type;if(8&l)gb(e,n,t.child,i);else if(32&l){const h=gM(t,n);let f;for(;f=h();)i.push(f)}else if(16&l){const h=R5(n,t);if(Array.isArray(h))i.push(...h);else{const f=G2(n[16]);gb(f[1],f,h,i,!0)}}t=r?t.projectionNext:t.next}return i}class py{get rootNodes(){const n=this._lView,t=n[1];return gb(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(El(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(_M(n,i),S5(t,i))}this._attachedToViewContainer=!1}Fa(this._lView[1],this._lView)}onDestroy(n){l9(this._lView[1],this._lView,null,n)}markForCheck(){m9(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pb(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eX(e,n){Ch(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=n}}class SX extends py{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;pb(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class gy extends io{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=qi(n);return new eg(t,this.ngModule)}}function y9(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class my{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=D2(i);const r=this.injector.get(n,tb,i);return r!==tb||t===tb?r:this.parentInjector.get(n,t,i)}}class eg extends sy{get inputs(){return y9(this.componentDef.inputs)}get outputs(){return y9(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function dX(e){return e.map(a_).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=(r=r||this.ngModule)instanceof wh?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new my(n,o):n,h=l.get(Kp,null);if(null===h)throw new dt(407,!1);const f=l.get(cL,null),m=h.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",b=i?function _X(e,n,t){return e.selectRootElement(n,t===il.ShadowDom)}(m,i,this.componentDef.encapsulation):A1(m,_,function jL(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),S=this.componentDef.onPush?288:272,M=s9(0,null,null,1,0,null,null,null,null,null),O=uy(null,M,null,S,null,null,h,m,f,l,null);let I,N;$T(O);try{const V=this.componentDef;let G,X=null;V.findHostDirectiveDefs?(G=[],X=new Map,V.findHostDirectiveDefs(V,G,X),G.push(V)):G=[V];const K=function MX(e,n){const t=e[1];return e[22]=n,Du(t,22,2,"#host",null)}(O,b),ne=function XL(e,n,t,i,r,o,l,h){const f=r[1];!function qL(e,n,t,i){for(const r of e)n.mergedAttrs=a0(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(fy(n,n.mergedAttrs,!0),null!==t&&bM(i,t,n))}(i,e,n,l);const m=o.createRenderer(n,t),_=uy(r,OL(t),null,t.onPush?32:16,r[e.index],e,o,m,h||null,null,null);return f.firstCreatePass&&d9(f,e,i.length-1),fb(r,_),r[e.index]=_}(K,b,V,G,O,h,m);N=ua(M,22),b&&function vy(e,n,t,i){if(i)KT(e,t,["ng-version",lX.full]);else{const{attrs:r,classes:o}=function fX(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&n.push(o,e[++i]):8===r&&t.push(o);else{if(!Sh(r))break;r=o}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&KT(e,t,r),o&&o.length>0&&B5(e,t,o.join(" "))}}(m,V,b,i),void 0!==t&&function PX(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(N,this.ngContentSelectors,t),I=function DX(e,n,t,i,r,o){const l=al(),h=r[1],f=Ll(l,r);u9(h,r,l,t,null,i);for(let _=0;_<t.length;_++)ul(Hp(r,h,l.directiveStart+_,l),r);hy(h,r,l),f&&ul(f,r);const m=Hp(r,h,l.directiveStart+l.componentOffset,l);if(e[8]=r[8]=m,null!==o)for(const _ of o)_(m,n);return r9(h,l,e),m}(ne,V,G,X,O,[AX]),lb(M,O,null)}finally{m5()}return new $L(this.componentType,I,yf(N,O),O,N)}}class $L extends J5{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new SX(r),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){const o=this._rootLView;dr(o[1],o,r,n,t),c9(o,this._tNode.index)}}get injector(){return new T1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function AX(){const e=al();mc(xt()[1],e)}function Zn(e){let n=function _y(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(Xt(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new dt(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const l=e;l.inputs=x9(e.inputs),l.declaredInputs=x9(e.declaredInputs),l.outputs=x9(e.outputs);const h=r.hostBindings;h&&EX(e,h);const f=r.viewQuery,m=r.contentQueries;if(f&&kX(e,f),m&&OX(e,m),bo(e.inputs,r.inputs),bo(e.declaredInputs,r.declaredInputs),bo(e.outputs,r.outputs),Xt(r)&&r.data.animation){const _=e.data;_.animation=(_.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let l=0;l<o.length;l++){const h=o[l];h&&h.ngInherit&&h(e),h===Zn&&(t=!1)}}n=Object.getPrototypeOf(n)}!function zX(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=a0(r.hostAttrs,t=a0(t,r.hostAttrs))}}(i)}function x9(e){return e===du?{}:e===hr?[]:e}function kX(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function OX(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,o)=>{n(i,r,o),t(i,r,o)}:n}function EX(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}let by=null;function O0(){if(!by){const e=zr.Symbol;if(e&&e.iterator)by=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const i=n[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(by=i)}}}return by}function Cy(e){return!!vb(e)&&(Array.isArray(e)||!(e instanceof Map)&&O0()in e)}function vb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Tf(e,n,t){return e[n]=t}function es(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function N1(e,n,t,i){const r=es(e,n,t);return es(e,n+1,i)||r}function oi(e,n,t,i){const r=xt();return es(r,E2(),n)&&(vr(),dd(Eo(),r,e,n,t,i)),oi}function p_(e,n,t,i){return es(e,E2(),t)?n+jn(t)+i:Mi}function m_(e,n,t,i,r,o,l,h,f,m){const b=function fl(e,n,t,i,r,o){const l=N1(e,n,t,i);return N1(e,n+2,r,o)||l}(e,Np(),t,r,l,f);return mh(4),b?n+jn(t)+i+jn(r)+o+jn(l)+h+jn(f)+m:Mi}function ge(e,n,t,i,r,o,l,h){const f=xt(),m=vr(),_=e+22,b=m.firstCreatePass?function nR(e,n,t,i,r,o,l,h,f){const m=n.consts,_=Du(n,e,4,l||null,gc(m,h));z0(n,t,_,gc(m,f)),mc(n,_);const b=_.tViews=s9(2,_,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m);return null!==n.queries&&(n.queries.template(n,_),b.queries=n.queries.embeddedTView(_)),_}(_,m,f,n,t,i,r,o,l):m.data[_];nf(b,!1);const S=f[11].createComment("");q3(m,f,S,b),ul(S,f),fb(f,f[_]=p9(S,f,S,b)),Il(b)&&o9(m,f,b),null!=l&&a9(f,b,h)}function fn(e){return gh(function o0(){return Si.lFrame.contextLView}(),22+e)}function ee(e,n,t){const i=xt();return es(i,E2(),n)&&Pu(vr(),Eo(),i,e,n,i[11],t,!1),ee}function bb(e,n,t,i,r){const l=r?"class":"style";dr(e,t,n.inputs[l],l,i)}function se(e,n,t,i){const r=xt(),o=vr(),l=22+e,h=r[11],f=r[l]=A1(h,n,function v5(){return Si.lFrame.currentNamespace}()),m=o.firstCreatePass?function rR(e,n,t,i,r,o,l){const h=n.consts,m=Du(n,e,2,r,gc(h,o));return z0(n,t,m,gc(h,l)),null!==m.attrs&&fy(m,m.attrs,!1),null!==m.mergedAttrs&&fy(m,m.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,m),m}(l,o,r,0,n,t,i):o.data[l];return nf(m,!0),bM(h,f,m),32!=(32&m.flags)&&q3(o,r,f,m),0===function Na(){return Si.lFrame.elementDepthCount}()&&ul(f,r),function L$(){Si.lFrame.elementDepthCount++}(),Il(m)&&(o9(o,r,m),r9(o,m,r)),null!==i&&a9(r,m),se}function le(){let e=al();BT()?O2():(e=e.parent,nf(e,!1));const n=e;!function O3(){Si.lFrame.elementDepthCount--}();const t=vr();return t.firstCreatePass&&(mc(t,e),m1(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function ZT(e){return 0!=(8&e.flags)}(n)&&bb(t,n,xt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function lI(e){return 0!=(16&e.flags)}(n)&&bb(t,n,xt(),n.stylesWithoutHost,!1),le}function Fe(e,n,t,i){return se(e,n,t,i),le(),Fe}function wt(e,n,t){const i=xt(),r=vr(),o=e+22,l=r.firstCreatePass?function Hc(e,n,t,i,r){const o=n.consts,l=gc(o,i),h=Du(n,e,8,"ng-container",l);return null!==l&&fy(h,l,!0),z0(n,t,h,gc(o,r)),null!==n.queries&&n.queries.elementStart(n,h),h}(o,r,i,n,t):r.data[o];nf(l,!0);const h=i[o]=i[11].createComment("");return q3(r,i,h,l),ul(h,i),Il(l)&&(o9(r,i,l),r9(r,l,i)),null!=t&&a9(i,l),wt}function Dt(){let e=al();const n=vr();return BT()?O2():(e=e.parent,nf(e,!1)),n.firstCreatePass&&(mc(n,e),m1(e)&&n.queries.elementEnd(e)),Dt}function yr(e,n,t){return wt(e,n,t),Dt(),yr}function Ft(){return xt()}function R0(e){return!!e&&"function"==typeof e.then}function w9(e){return!!e&&"function"==typeof e.subscribe}const Cb=w9;function He(e,n,t,i){const r=xt(),o=vr(),l=al();return function T9(e,n,t,i,r,o,l){const h=Il(i),m=e.firstCreatePass&&k0(e),_=n[8],b=$r(n);let S=!0;if(3&i.type||l){const I=Ll(i,n),N=l?l(I):I,V=b.length,G=l?K=>l(Ja(K[i.index])):i.index;let X=null;if(!l&&h&&(X=function oR(e,n,t,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const l=r[o];if(l===t&&r[o+1]===i){const h=n[7],f=r[o+2];return h.length>f?h[f]:null}"string"==typeof l&&(o+=2)}return null}(e,n,r,i.index)),null!==X)(X.__ngLastListenerFn__||X).__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,S=!1;else{o=Sy(i,n,_,o,!1);const K=t.listen(N,r,o);b.push(o,K),m&&m.push(r,G,V,V+1)}}else o=Sy(i,n,_,o,!1);const M=i.outputs;let O;if(S&&null!==M&&(O=M[r])){const I=O.length;if(I)for(let N=0;N<I;N+=2){const ne=n[O[N]][O[N+1]].subscribe(o),ie=b.length;b.push(o,ne),m&&m.push(r,i.index,ie,-(ie+1))}}}(o,r,r[11],l,e,n,i),He}function M9(e,n,t,i){try{return!1!==t(i)}catch(r){return WL(e,r),!1}}function Sy(e,n,t,i,r){return function o(l){if(l===Function)return i;m9(e.componentOffset>-1?Rl(e.index,n):n);let f=M9(n,0,i,l),m=o.__ngNextListenerFn__;for(;m;)f=M9(n,0,m,l)&&f,m=m.__ngNextListenerFn__;return r&&!1===f&&(l.preventDefault(),l.returnValue=!1),f}}function ue(e=1){return function R$(e){return(Si.lFrame.contextLView=function id(e,n){for(;e>0;)n=n[15],e--;return n}(e,Si.lFrame.contextLView))[8]}(e)}function wb(e,n){let t=null;const i=function fL(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?GM(e,o,!0):gL(i,o))return r}else t=r}return t}function fr(e){const n=xt()[16][6];if(!n.projection){const i=n.projection=gi(e?e.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const l=e?wb(o,e):0;null!==l&&(r[l]?r[l].projectionNext=o:i[l]=o,r[l]=o),o=o.next}}}function Ki(e,n=0,t){const i=xt(),r=vr(),o=Du(r,22+e,16,null,t||null);null===o.projection&&(o.projection=n),O2(),32!=(32&o.flags)&&function VI(e,n,t){q2(n[11],0,n,t,p0(e,t,n),j3(t.parent||n[6],t,n))}(r,i,o)}function fi(e,n,t){return Ty(e,"",n,"",t),fi}function Ty(e,n,t,i,r){const o=xt(),l=p_(o,n,t,i);return l!==Mi&&Pu(vr(),Eo(),o,e,l,o[11],r,!1),Ty}function Sb(e,n){return e<<17|n<<2}function Mf(e){return e>>17&32767}function Tb(e){return 2|e}function F1(e){return(131068&e)>>2}function ng(e,n){return-131069&e|n<<2}function Mb(e){return 1|e}function z9(e,n,t,i,r){const o=e[t+1],l=null===n;let h=i?Mf(o):F1(o),f=!1;for(;0!==h&&(!1===f||l);){const _=e[h+1];k9(e[h],n)&&(f=!0,e[h+1]=i?Mb(_):Tb(_)),h=i?Mf(_):F1(_)}f&&(e[t+1]=i?Tb(o):Mb(o))}function k9(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&u0(e,n)>=0}const Va={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function O9(e){return e.substring(Va.key,Va.keyEnd)}function N0(e){return e.substring(Va.value,Va.valueEnd)}function B0(e,n){const t=Va.textEnd;return t===n?-1:(n=Va.keyEnd=function GX(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,Va.key=n,t),b_(e,n,t))}function uR(e,n){const t=Va.textEnd;let i=Va.key=b_(e,n,t);return t===i?-1:(i=Va.keyEnd=function Dy(e,n,t){let i;for(;n<t&&(45===(i=e.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(e,i,t),i=dR(e,i,t),i=Va.value=b_(e,i,t),i=Va.valueEnd=function Db(e,n,t){let i=-1,r=-1,o=-1,l=n,h=l;for(;l<t;){const f=e.charCodeAt(l++);if(59===f)return h;34===f||39===f?h=l=fR(e,f,l,t):n===l-4&&85===o&&82===r&&76===i&&40===f?h=l=fR(e,41,l,t):f>32&&(h=l),o=r,r=i,i=-33&f}return h}(e,i,t),dR(e,i,t))}function hR(e){Va.key=0,Va.keyEnd=0,Va.value=0,Va.valueEnd=0,Va.textEnd=e.length}function b_(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function dR(e,n,t,i){return(n=b_(e,n,t))<t&&n++,n}function fR(e,n,t,i){let r=-1,o=t;for(;o<i;){const l=e.charCodeAt(o++);if(l==n&&92!==r)return o;r=92==l&&92===r?0:l}throw new Error}function yn(e,n,t){return ku(e,n,t,!1),yn}function Ht(e,n){return ku(e,n,null,!0),Ht}function Pb(e,n){for(let t=function UX(e){return hR(e),uR(e,b_(e,0,Va.textEnd))}(n);t>=0;t=uR(n,t))w_(e,O9(n),N0(n))}function Di(e){Th(wu,fd,e,!0)}function fd(e,n){for(let t=function F0(e){return hR(e),B0(e,b_(e,0,Va.textEnd))}(n);t>=0;t=B0(n,t))wu(e,O9(n),!0)}function ku(e,n,t,i){const r=xt(),o=vr(),l=mh(2);o.firstUpdatePass&&I9(o,e,l,i),n!==Mi&&es(r,l,n)&&N9(o,o.data[ll()],r,r[11],e,r[l+1]=function B9(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ir(Vs(e)))),e}(n,t),i,l)}function Th(e,n,t,i){const r=vr(),o=mh(2);r.firstUpdatePass&&I9(r,null,o,i);const l=xt();if(t!==Mi&&es(l,o,t)){const h=r.data[ll()];if(V9(h,i)&&!E9(r,o)){let f=i?h.classesWithoutHost:h.stylesWithoutHost;null!==f&&(t=ah(f,t||"")),bb(r,h,l,t,i)}else!function Ay(e,n,t,i,r,o,l,h){r===Mi&&(r=hr);let f=0,m=0,_=0<r.length?r[0]:null,b=0<o.length?o[0]:null;for(;null!==_||null!==b;){const S=f<r.length?r[f+1]:void 0,M=m<o.length?o[m+1]:void 0;let I,O=null;_===b?(f+=2,m+=2,S!==M&&(O=b,I=M)):null===b||null!==_&&_<b?(f+=2,O=_):(m+=2,O=b,I=M),null!==O&&N9(e,n,t,i,O,I,l,h),_=f<r.length?r[f]:null,b=m<o.length?o[m]:null}}(r,h,l,l[11],l[o+1],l[o+1]=function R9(e,n,t){if(null==t||""===t)return hr;const i=[],r=Vs(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,o)}}function E9(e,n){return n>=e.expandoStartIndex}function I9(e,n,t,i){const r=e.data;if(null===r[t+1]){const o=r[ll()],l=E9(e,t);V9(o,i)&&null===n&&!l&&(n=!1),n=function C_(e,n,t,i){const r=UT(e);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=V0(t=Py(null,e,n,t,i),n.attrs,i),o=null);else{const l=n.directiveStylingLast;if(-1===l||e[l]!==r)if(t=Py(r,e,n,t,i),null===o){let f=function L9(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==F1(i))return e[Mf(i)]}(e,n,i);void 0!==f&&Array.isArray(f)&&(f=Py(null,e,n,f[1],i),f=V0(f,n.attrs,i),function Ab(e,n,t,i){e[Mf(t?n.classBindings:n.styleBindings)]=i}(e,n,i,f))}else o=function B1(e,n,t){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=V0(i,e[o].hostAttrs,t);return V0(i,n.attrs,t)}(e,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),t}(r,o,n,i),function HX(e,n,t,i,r,o){let l=o?n.classBindings:n.styleBindings,h=Mf(l),f=F1(l);e[i]=t;let _,m=!1;if(Array.isArray(t)?(_=t[1],(null===_||u0(t,_)>0)&&(m=!0)):_=t,r)if(0!==f){const S=Mf(e[h+1]);e[i+1]=Sb(S,h),0!==S&&(e[S+1]=ng(e[S+1],i)),e[h+1]=function cR(e,n){return 131071&e|n<<17}(e[h+1],i)}else e[i+1]=Sb(h,0),0!==h&&(e[h+1]=ng(e[h+1],i)),h=i;else e[i+1]=Sb(f,0),0===h?h=i:e[f+1]=ng(e[f+1],i),f=i;m&&(e[i+1]=Tb(e[i+1])),z9(e,_,i,!0),z9(e,_,i,!1),function YX(e,n,t,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&u0(o,n)>=0&&(t[i+1]=Mb(t[i+1]))}(n,_,e,i,o),l=Sb(h,f),o?n.classBindings=l:n.styleBindings=l}(r,o,n,t,l,i)}}function Py(e,n,t,i,r){let o=null;const l=t.directiveEnd;let h=t.directiveStylingLast;for(-1===h?h=t.directiveStart:h++;h<l&&(o=n[h],i=V0(i,o.hostAttrs,r),o!==e);)h++;return null!==e&&(t.directiveStylingLast=h),i}function V0(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),wu(e,l,!!t||n[++o]))}return void 0===e?null:e}function w_(e,n,t){wu(e,n,Vs(t))}function N9(e,n,t,i,r,o,l,h){if(!(3&n.type))return;const f=e.data,m=f[h+1],_=function BX(e){return 1==(1&e)}(m)?F9(f,n,t,r,F1(m),l):void 0;V1(_)||(V1(o)||function lR(e){return 2==(2&e)}(m)&&(o=F9(f,null,t,r,h,l)),function N5(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Nl.DashCase;null==r?e.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Nl.Important),e.setStyle(t,i,r,o))}}(i,l,yu(ll(),t),r,o))}function F9(e,n,t,i,r,o){const l=null===n;let h;for(;r>0;){const f=e[r],m=Array.isArray(f),_=m?f[1]:f,b=null===_;let S=t[r+1];S===Mi&&(S=b?hr:void 0);let M=b?T5(S,i):_===i?S:void 0;if(m&&!V1(M)&&(M=T5(f,i)),V1(M)&&(h=M,l))return h;const O=e[r+1];r=l?Mf(O):F1(O)}if(null!==n){let f=o?n.residualClasses:n.residualStyles;null!=f&&(h=T5(f,i))}return h}function V1(e){return void 0!==e}function V9(e,n){return 0!=(e.flags&(n?8:16))}function Be(e,n=""){const t=xt(),i=vr(),r=e+22,o=i.firstCreatePass?Du(i,r,1,n,null):i.data[r],l=t[r]=function vM(e,n){return e.createText(n)}(t[11],n);q3(i,t,l,o),nf(o,!1)}function Bt(e){return In("",e,""),Bt}function In(e,n,t){const i=xt(),r=p_(i,e,n,t);return r!==Mi&&function Sf(e,n,t){const i=yu(n,e);!function hl(e,n,t){e.setValue(n,t)}(e[11],i,t)}(i,ll(),r),In}function Jt(e,n,t){Th(wu,fd,p_(xt(),e,n,t),!0)}function Df(e,n,t,i,r){Th(wu,fd,function I0(e,n,t,i,r,o){const h=N1(e,Np(),t,r);return mh(2),h?n+jn(t)+i+jn(r)+o:Mi}(xt(),e,n,t,i,r),!0)}function Oy(e,n,t){const i=xt();if(es(i,E2(),n)){const o=vr(),l=Eo();Pu(o,l,i,e,n,function _9(e,n,t){return(null===e||Xt(e))&&(t=function Sr(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(t[n.index])),t[11]}(UT(o.data),l,i),t,!0)}return Oy}const H1=void 0;var qX=["en",[["a","p"],["AM","PM"],H1],[["AM","PM"],H1,H1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],H1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],H1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",H1,"{1} 'at' {0}",H1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _R(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Bn={};function Yl(e){const n=function ZX(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=Rb(n);if(t)return t;const i=n.split("-")[0];if(t=Rb(i),t)return t;if("en"===i)return qX;throw new dt(701,!1)}function Rb(e){return e in Bn||(Bn[e]=zr.ng&&zr.ng.common&&zr.ng.common.locales&&zr.ng.common.locales[e]),Bn[e]}var Kt=(()=>((Kt=Kt||{})[Kt.LocaleId=0]="LocaleId",Kt[Kt.DayPeriodsFormat=1]="DayPeriodsFormat",Kt[Kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kt[Kt.DaysFormat=3]="DaysFormat",Kt[Kt.DaysStandalone=4]="DaysStandalone",Kt[Kt.MonthsFormat=5]="MonthsFormat",Kt[Kt.MonthsStandalone=6]="MonthsStandalone",Kt[Kt.Eras=7]="Eras",Kt[Kt.FirstDayOfWeek=8]="FirstDayOfWeek",Kt[Kt.WeekendRange=9]="WeekendRange",Kt[Kt.DateFormat=10]="DateFormat",Kt[Kt.TimeFormat=11]="TimeFormat",Kt[Kt.DateTimeFormat=12]="DateTimeFormat",Kt[Kt.NumberSymbols=13]="NumberSymbols",Kt[Kt.NumberFormats=14]="NumberFormats",Kt[Kt.CurrencyCode=15]="CurrencyCode",Kt[Kt.CurrencySymbol=16]="CurrencySymbol",Kt[Kt.CurrencyName=17]="CurrencyName",Kt[Kt.Currencies=18]="Currencies",Kt[Kt.Directionality=19]="Directionality",Kt[Kt.PluralCase=20]="PluralCase",Kt[Kt.ExtraData=21]="ExtraData",Kt))();const Y0="en-US";let S_=Y0;function _D(e,n,t,i,r){if(e=It(e),Array.isArray(e))for(let o=0;o<e.length;o++)_D(e[o],n,t,i,r);else{const o=vr(),l=xt();let h=O1(e)?e:It(e.provide),f=ay(e);const m=al(),_=1048575&m.providerIndexes,b=m.directiveStart,S=m.providerIndexes>>20;if(O1(e)||!e.multi){const M=new I2(f,r,de),O=G0(h,n,r?_:_+S,b);-1===O?(vh(sf(m,l),o,h),yD(o,e,n.length),n.push(h),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),t.push(M),l.push(M)):(t[O]=M,l[O]=M)}else{const M=G0(h,n,_+S,b),O=G0(h,n,_,_+S),N=O>=0&&t[O];if(r&&!N||!r&&!(M>=0&&t[M])){vh(sf(m,l),o,h);const V=function FR(e,n,t,i,r){const o=new I2(e,t,de);return o.multi=[],o.index=n,o.componentProviders=0,NR(o,r,i&&!t),o}(r?_q:vq,t.length,r,i,f);!r&&N&&(t[O].providerFactory=V),yD(o,e,n.length,0),n.push(h),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),t.push(V),l.push(V)}else yD(o,e,M>-1?M:O,NR(t[r?O:M],f,!r&&i));!r&&i&&N&&t[O].componentProviders++}}}function yD(e,n,t,i){const r=O1(n),o=function rL(e){return!!e.useClass}(n);if(r||o){const f=(o?It(n.useClass):n).prototype.ngOnDestroy;if(f){const m=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const _=m.indexOf(t);-1===_?m.push(t,[i,f]):m[_+1].push(i,f)}else m.push(t,f)}}}function NR(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function G0(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function vq(e,n,t,i){return Xb(this.multi,[])}function _q(e,n,t,i){const r=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,h=Hp(t,t[1],this.providerFactory.index,i);o=h.slice(0,l),Xb(r,o);for(let f=l;f<h.length;f++)o.push(h[f])}else o=[],Xb(r,o);return o}function Xb(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Ln(e,n=[]){return t=>{t.providersResolver=(i,r)=>function mq(e,n,t){const i=vr();if(i.firstCreatePass){const r=Xt(e);_D(t,i.data,i.blueprint,r,!0),_D(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}class W0{}class xD{}class Iu extends W0{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gy(this);const i=La(n);this._bootstrapComponents=wf(i.bootstrap),this._r3Injector=vL(n,t,[{provide:W0,useValue:this},{provide:io,useValue:this.componentFactoryResolver}],Ir(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class qb extends xD{constructor(n){super(),this.moduleType=n}create(n){return new Iu(this.moduleType,n)}}class Yy extends W0{constructor(n,t,i){super(),this.componentFactoryResolver=new gy(this),this.instance=null;const r=new E1([...n,{provide:W0,useValue:this},{provide:io,useValue:this.componentFactoryResolver}],t||n_(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Af(e,n,t=null){return new Yy(e,n,t).injector}let xq=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=kM(0,t.type),r=i.length>0?Af([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=mt({token:e,providedIn:"environment",factory:()=>new e(Ve(wh))}),e})();function bD(e){e.getStandaloneInjector=n=>n.get(xq).getOrCreateStandaloneInjector(e)}function Ph(e,n,t){const i=sl()+e,r=xt();return r[i]===Mi?Tf(r,i,t?n.call(t):n()):function E0(e,n){return e[n]}(r,i)}function ei(e,n,t,i){return Kb(xt(),sl(),e,n,t,i)}function Cs(e,n,t,i,r){return jR(xt(),sl(),e,n,t,i,r)}function TD(e,n,t,i,r,o){return function Gy(e,n,t,i,r,o,l,h){const f=n+t;return function wy(e,n,t,i,r){const o=N1(e,n,t,i);return es(e,n+2,r)||o}(e,f,r,o,l)?Tf(e,f+3,h?i.call(h,r,o,l):i(r,o,l)):pl(e,f+3)}(xt(),sl(),e,n,t,i,r,o)}function pl(e,n){const t=e[n];return t===Mi?void 0:t}function Kb(e,n,t,i,r,o){const l=n+t;return es(e,l,r)?Tf(e,l+1,o?i.call(o,r):i(r)):pl(e,l+1)}function jR(e,n,t,i,r,o,l){const h=n+t;return N1(e,h,r,o)?Tf(e,h+2,l?i.call(l,r,o):i(r,o)):pl(e,h+2)}function Lu(e,n){const t=vr();let i;const r=e+22;t.firstCreatePass?(i=function ag(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Ce(i.type)),l=Za(de);try{const h=R3(!1),f=o();return R3(h),function iR(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,xt(),r,f),f}finally{Za(l)}}function sg(e,n,t){const i=e+22,r=xt(),o=gh(r,i);return G1(r,i)?Kb(r,sl(),n,o.transform,t,o):o.transform(t)}function jy(e,n,t,i){const r=e+22,o=xt(),l=gh(o,r);return G1(o,r)?jR(o,sl(),n,l.transform,t,i,l):l.transform(t,i)}function G1(e,n){return e[1].data[n].pure}function Qb(e){return n=>{setTimeout(e,void 0,n)}}const et=class XR extends nt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,o=t||(()=>null),l=i;if(n&&"object"==typeof n){const f=n;r=f.next?.bind(f),o=f.error?.bind(f),l=f.complete?.bind(f)}this.__isAsync&&(o=Qb(o),r&&(r=Qb(r)),l&&(l=Qb(l)));const h=super.subscribe({next:r,error:o,complete:l});return n instanceof Ci&&n.add(h),h}};function W1(){return this._results[O0()]()}class Jb{get changes(){return this._changes||(this._changes=new et)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=O0(),i=Jb.prototype;i[t]||(i[t]=W1)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const i=this;i.dirty=!1;const r=function bu(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function dI(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yo=(()=>{class e{}return e.__NG_ELEMENT_ID__=qR,e})();const eC=Yo,lg=class extends eC{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(n,t){const i=this._declarationTContainer.tViews,r=uy(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(r[19]=l.createEmbeddedView(i)),lb(i,r,n),new py(r)}};function qR(){return L_(al(),xt())}function L_(e,n){return 4&e.type?new lg(n,e,yf(e,n)):null}let Pi=(()=>{class e{}return e.__NG_ELEMENT_ID__=DD,e})();function DD(){return zD(al(),xt())}const Pq=Pi,Xy=class extends Pq{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return yf(this._hostTNode,this._hostLView)}get injector(){return new T1(this._hostTNode,this._hostLView)}get parentInjector(){const n=lf(this._hostTNode,this._hostLView);if(b1(n)){const t=l0(n,this._hostLView),i=s0(n);return new T1(t[1].data[i+8],t)}return new T1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=PD(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const l=n.createEmbeddedView(t||{},o);return this.insert(l,r),l}createComponent(n,t,i,r,o){const l=n&&!function pf(e){return"function"==typeof e}(n);let h;if(l)h=t;else{const b=t||{};h=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const f=l?n:new eg(qi(n)),m=i||this.parentInjector;if(!o&&null==f.ngModule){const S=(l?m:this.parentInjector).get(wh,null);S&&(o=S)}const _=f.create(m,r,void 0,o);return this.insert(_.hostView,h),_}insert(n,t){const i=n._lView,r=i[1];if(function r0(e){return El(e[3])}(i)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const b=i[3],S=new Xy(b,b[6],b[3]);S.detach(S.indexOf(n))}}const o=this._adjustIndex(t),l=this._lContainer;!function tX(e,n,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=n),i<o-10?(n[4]=t[r],fI(t,10+i,n)):(t.push(n),n[4]=null),n[3]=t;const l=n[17];null!==l&&t!==l&&function bc(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(l,n);const h=n[19];null!==h&&h.insertView(e),n[2]|=64}(r,i,l,o);const h=Ti(o,l),f=i[11],m=_f(f,l[7]);return null!==m&&function LI(e,n,t,i,r,o){i[0]=r,i[6]=n,Ch(e,i,t,1,r,o)}(r,l[6],f,i,m,h),n.attachToViewContainerRef(),fI(AD(l),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=PD(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=_M(this._lContainer,t);i&&(S5(AD(this._lContainer),t),Fa(i[1],i))}detach(n){const t=this._adjustIndex(n,-1),i=_M(this._lContainer,t);return i&&null!=S5(AD(this._lContainer),t)?new py(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function PD(e){return e[8]}function AD(e){return e[8]||(e[8]=[])}function zD(e,n){let t;const i=n[e.index];if(El(i))t=i;else{let r;if(8&e.type)r=Ja(i);else{const o=n[11];r=o.createComment("");const l=Ll(e,n);sd(o,_f(o,l),r,function g0(e,n){return e.nextSibling(n)}(o,l),!1)}n[e.index]=t=p9(i,n,r,e),fb(n,t)}return new Xy(t,e,n)}class R_{constructor(n){this.queryList=n,this.matches=null}clone(){return new R_(this.queryList)}setDirty(){this.queryList.setDirty()}}class tC{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const l=t.getByIndex(o);r.push(this.queries[l.indexInDeclarationView].clone())}return new tC(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==iC(n,t).matches&&this.queries[t].setDirty()}}class kD{constructor(n,t,i=null){this.predicate=n,this.flags=t,this.read=i}}class nC{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new nC(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class OD{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new OD(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,t,qy(t,o)),this.matchTNodeWithReadOption(n,t,_h(t,n,o,!1,!1))}else i===Yo?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,_h(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Vt||r===Pi||r===Yo&&4&t.type)this.addMatch(t.index,-2);else{const o=_h(t,n,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function qy(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function Aq(e,n,t,i){return-1===t?function Zy(e,n){return 11&e.type?yf(e,n):4&e.type?L_(e,n):null}(n,e):-2===t?function ZR(e,n,t){return t===Vt?yf(n,e):t===Yo?L_(n,e):t===Pi?zD(n,e):void 0}(e,n,i):Hp(e,e[1],t,n)}function KR(e,n,t,i){const r=n[19].queries[i];if(null===r.matches){const o=e.data,l=t.matches,h=[];for(let f=0;f<l.length;f+=2){const m=l[f];h.push(m<0?null:Aq(n,o[m],l[f+1],t.metadata.read))}r.matches=h}return r.matches}function ED(e,n,t,i){const r=e.queries.getByIndex(t),o=r.matches;if(null!==o){const l=KR(e,n,r,t);for(let h=0;h<o.length;h+=2){const f=o[h];if(f>0)i.push(l[h/2]);else{const m=o[h+1],_=n[-f];for(let b=10;b<_.length;b++){const S=_[b];S[17]===S[3]&&ED(S[1],S,m,i)}if(null!==_[9]){const b=_[9];for(let S=0;S<b.length;S++){const M=b[S];ED(M[1],M,m,i)}}}}}return i}function an(e){const n=xt(),t=vr(),i=GT();WT(i+1);const r=iC(t,i);if(e.dirty&&function n0(e){return 4==(4&e[2])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?ED(t,n,i,[]):KR(t,n,r,i);e.reset(o,i_),e.notifyOnChanges()}return!0}return!1}function mi(e,n,t){const i=vr();i.firstCreatePass&&(N_(i,new kD(e,n,t),-1),2==(2&n)&&(i.staticViewQueries=!0)),JR(i,xt(),n)}function Uo(e,n,t,i){const r=vr();if(r.firstCreatePass){const o=al();N_(r,new kD(n,t,i),o.index),function zq(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(r,e),2==(2&t)&&(r.staticContentQueries=!0)}JR(r,xt(),t)}function cn(){return function QR(e,n){return e[19].queries[n].queryList}(xt(),GT())}function JR(e,n,t){const i=new Jb(4==(4&t));l9(e,n,i,i.destroy),null===n[19]&&(n[19]=new tC),n[19].queries.push(new R_(i))}function N_(e,n,t){null===e.queries&&(e.queries=new nC),e.queries.track(new OD(n,t))}function iC(e,n){return e.queries.getByIndex(n)}function xn(e,n){return L_(e,n)}const uC=yc("Input",e=>({bindingPropertyName:e}));function t8(...e){}const hC=new pt("Application Initializer");let dC=(()=>{class e{constructor(t){this.appInits=t,this.resolve=t8,this.reject=t8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(R0(o))t.push(o);else if(Cb(o)){const l=new Promise((h,f)=>{o.subscribe({complete:h,error:f})});t.push(l)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ve(hC,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const B_=new pt("AppId",{providedIn:"root",factory:function n8(){return`${fC()}${fC()}${fC()}`}});function fC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vN=new pt("Platform Initializer"),kf=new pt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WD=new pt("appBootstrapListener"),V_=new pt("AnimationModuleType");let pC=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Of=new pt("LocaleId",{providedIn:"root",factory:()=>bn(Of,Et.Optional|Et.SkipSelf)||function _N(){return typeof $localize<"u"&&$localize.locale||Y0}()});class xN{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let jD=(()=>{class e{compileModuleSync(t){return new qb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=wf(La(t).declarations).reduce((l,h)=>{const f=qi(h);return f&&l.push(new eg(f)),l},[]);return new xN(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Uq=(()=>Promise.resolve(0))();function $D(e){typeof Zone>"u"?Uq.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class en{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function XD(){let e=zr.requestAnimationFrame,n=zr.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Wq(e){const n=()=>{!function CN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(zr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,a8(e),e.isCheckStableRunning=!0,o8(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),a8(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,l,h)=>{try{return qD(e),t.invokeTask(r,o,l,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),wN(e)}},onInvoke:(t,i,r,o,l,h,f)=>{try{return qD(e),t.invoke(r,o,l,h,f)}finally{e.shouldCoalesceRunChangeDetection&&n(),wN(e)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,a8(e),o8(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!en.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(en.isInAngularZone())throw new dt(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+r,n,Gq,t8,t8);try{return o.runTask(l,t,i)}finally{o.cancelTask(l)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const Gq={};function o8(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function a8(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function qD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wN(e){e._nesting--,o8(e)}class H_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}const ZD=new pt(""),vC=new pt("");let KD,s8=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KD||(function jq(e){KD=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{en.assertNotInAngularZone(),$D(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$D(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ve(en),Ve(_C),Ve(vC))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),_C=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return KD?.findTestabilityInTree(this,t,i)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ef=null;const QD=new pt("AllowMultipleToken"),yC=new pt("PlatformDestroyListeners");class dg{constructor(n,t){this.name=n,this.token=t}}function eP(e,n,t=[]){const i=`Platform: ${n}`,r=new pt(i);return(o=[])=>{let l=tP();if(!l||l.injector.get(QD,!1)){const h=[...t,...o,{provide:r,useValue:!0}];e?e(h):function Sc(e){if(Ef&&!Ef.get(QD,!1))throw new dt(400,!1);Ef=e;const n=e.get(xC);(function Ru(e){const n=e.get(vN,null);n&&n.forEach(t=>t())})(e)}(function DN(e=[],n){return xs.create({name:n,providers:[{provide:K5,useValue:"platform"},{provide:yC,useValue:new Set([()=>Ef=null])},...e]})}(h,i))}return function MN(e){const n=tP();if(!n)throw new dt(401,!1);return n}()}}function tP(){return Ef?.get(xC)??null}let xC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Y_(e,n){let t;return t="noop"===e?new H_:("zone.js"===e?void 0:e)||new en(n),t}(i?.ngZone,function bC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:en,useValue:r}];return r.run(()=>{const l=xs.create({providers:o,parent:this.injector,name:t.moduleType.name}),h=t.create(l),f=h.injector.get(ud,null);if(!f)throw new dt(402,!1);return r.runOutsideAngular(()=>{const m=r.onError.subscribe({next:_=>{f.handleError(_)}});h.onDestroy(()=>{l8(this._modules,h),m.unsubscribe()})}),function nP(e,n,t){try{const i=t();return R0(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(f,r,()=>{const m=h.injector.get(dC);return m.runInitializers(),m.donePromise.then(()=>(function T_(e){qa(e,"Expected localeId to be defined"),"string"==typeof e&&(S_=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(Of,Y0)||Y0),this._moduleDoBootstrap(h),h))})})}bootstrapModule(t,i=[]){const r=q1({},i);return function JD(e,n,t){const i=new qb(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(If);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new dt(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(yC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ve(xs))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function q1(e,n){return Array.isArray(n)?n.reduce(q1,e):{...e,...n}}let If=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Wn(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Wn(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{en.assertNotInAngularZone(),$D(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{en.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=Qr(o,l.pipe(a1()))}bootstrap(t,i){const r=t instanceof sy;if(!this._injector.get(dC).done)throw!r&&function nd(e){const n=qi(e)||Bo(e)||Ka(e);return null!==n&&n.standalone}(t),new dt(405,false);let l;l=r?t:this._injector.get(io).resolveComponentFactory(t),this.componentTypes.push(l.componentType);const h=function SN(e){return e.isBoundToModule}(l)?void 0:this._injector.get(W0),m=l.create(xs.NULL,[],i||l.selector,h),_=m.location.nativeElement,b=m.injector.get(ZD,null);return b?.registerApplication(_),m.onDestroy(()=>{this.detachView(m.hostView),l8(this.components,m),b?.unregisterApplication(_)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new dt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;l8(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(WD,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>l8(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new dt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(Ve(en),Ve(wh),Ve(ud))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function l8(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let pr=(()=>{class e{}return e.__NG_ELEMENT_ID__=zN,e})();function zN(e){return function kN(e,n,t){if(e0(e)&&!t){const i=Rl(e.index,n);return new py(i,i)}return 47&e.type?new py(n[16],n):null}(al(),xt(),16==(16&e))}class SC{constructor(){}supports(n){return Cy(n)}create(n){return new TC(n)}}const iZ=(e,n)=>n;class TC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||iZ}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const l=!i||t&&t.currentIndex<FN(i,r,o)?t:i,h=FN(l,r,o),f=l.currentIndex;if(l===i)r--,i=i._nextRemoved;else if(t=t._next,null==l.previousIndex)r++;else{o||(o=[]);const m=h-r,_=f-r;if(m!=_){for(let S=0;S<m;S++){const M=S<o.length?o[S]:o[S]=0,O=M+S;_<=O&&O<m&&(o[S]=M+1)}o[l.previousIndex]=_-m}}h!==f&&n(l,h,f)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Cy(n))throw new dt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,l,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let h=0;h<this.length;h++)o=n[h],l=this._trackByFn(h,o),null!==t&&Object.is(t.trackById,l)?(i&&(t=this._verifyReinsertion(t,o,l,h)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,l,h),i=!0),t=t._next}else r=0,function QL(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[O0()]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,h=>{l=this._trackByFn(r,h),null!==t&&Object.is(t.trackById,l)?(i&&(t=this._verifyReinsertion(t,h,l,r)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,l,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new lP(t,i),o,r),n}_verifyReinsertion(n,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new NN),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NN),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class lP{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rZ{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class NN{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new rZ,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FN(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}class cP{constructor(){}supports(n){return n instanceof Map||vb(n)}create(){return new MC}}class MC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||vb(n)))throw new dt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,t);const o=r._prev,l=r._next;return o&&(o._next=l),l&&(l._prev=o),r._next=null,r._prev=null,r}const i=new BN(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}}class BN{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uP(){return new U_([new SC])}let U_=(()=>{class e{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||uP()),deps:[[e,new mf,new M1]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new dt(901,!1)}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:uP}),e})();function hP(){return new G_([new cP])}let G_=(()=>{class e{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||hP()),deps:[[e,new mf,new M1]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new dt(901,!1)}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:hP}),e})();const VN=eP(null,"core",[]);let W_=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Ve(If))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();function Q0(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let DC=null;function Wc(){return DC}class fP{}const ki=new pt("DocumentToken");let pP=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(){return function dZ(){return Ve(GN)}()},providedIn:"platform"}),e})();const fZ=new pt("Location Initialized");let GN=(()=>{class e extends pP{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wc().getBaseHref(this._doc)}onPopState(t){const i=Wc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Wc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){WN()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){WN()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:function(){return function jN(){return new GN(Ve(ki))}()},providedIn:"platform"}),e})();function WN(){return!!window.history.pushState}function PC(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function gP(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Lf(e){return e&&"?"!==e[0]?"?"+e:e}let fg=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(){return bn(Nu)},providedIn:"root"}),e})();const AC=new pt("appBaseHref");let Nu=(()=>{class e extends fg{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??bn(ki).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return PC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Lf(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const l=this.prepareExternalUrl(r+Lf(o));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,o){const l=this.prepareExternalUrl(r+Lf(o));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(pP),Ve(AC,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mP=(()=>{class e extends fg{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=PC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let l=this.prepareExternalUrl(r+Lf(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,o){let l=this.prepareExternalUrl(r+Lf(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(pP),Ve(AC,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),zC=(()=>{class e{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function mZ(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(gP($N(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Lf(i))}normalize(t){return e.stripTrailingSlash(function gZ(e,n){return e&&new RegExp(`^${e}([/;?#]|$)`).test(n)?n.substring(e.length):n}(this._basePath,$N(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lf(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lf(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return e.normalizeQueryParams=Lf,e.joinWithSlash=PC,e.stripTrailingSlash=gP,e.\u0275fac=function(t){return new(t||e)(Ve(fg))},e.\u0275prov=mt({token:e,factory:function(){return function pZ(){return new zC(Ve(fg))}()},providedIn:"root"}),e})();function $N(e){return e.replace(/\/index.html$/,"")}var Gl=(()=>((Gl=Gl||{})[Gl.Decimal=0]="Decimal",Gl[Gl.Percent=1]="Percent",Gl[Gl.Currency=2]="Currency",Gl[Gl.Scientific=3]="Scientific",Gl))(),oo=(()=>((oo=oo||{})[oo.Format=0]="Format",oo[oo.Standalone=1]="Standalone",oo))(),vi=(()=>((vi=vi||{})[vi.Narrow=0]="Narrow",vi[vi.Abbreviated=1]="Abbreviated",vi[vi.Wide=2]="Wide",vi[vi.Short=3]="Short",vi))(),Jo=(()=>((Jo=Jo||{})[Jo.Short=0]="Short",Jo[Jo.Medium=1]="Medium",Jo[Jo.Long=2]="Long",Jo[Jo.Full=3]="Full",Jo))(),Kn=(()=>((Kn=Kn||{})[Kn.Decimal=0]="Decimal",Kn[Kn.Group=1]="Group",Kn[Kn.List=2]="List",Kn[Kn.PercentSign=3]="PercentSign",Kn[Kn.PlusSign=4]="PlusSign",Kn[Kn.MinusSign=5]="MinusSign",Kn[Kn.Exponential=6]="Exponential",Kn[Kn.SuperscriptingExponent=7]="SuperscriptingExponent",Kn[Kn.PerMille=8]="PerMille",Kn[Kn.Infinity=9]="Infinity",Kn[Kn.NaN=10]="NaN",Kn[Kn.TimeSeparator=11]="TimeSeparator",Kn[Kn.CurrencyDecimal=12]="CurrencyDecimal",Kn[Kn.CurrencyGroup=13]="CurrencyGroup",Kn))();function vd(e,n,t){const i=Yl(e),o=Wl([i[Kt.DayPeriodsFormat],i[Kt.DayPeriodsStandalone]],n);return Wl(o,t)}function kC(e,n){return Wl(Yl(e)[Kt.DateFormat],n)}function u8(e,n){return Wl(Yl(e)[Kt.TimeFormat],n)}function OC(e,n){return Wl(Yl(e)[Kt.DateTimeFormat],n)}function Ah(e,n){const t=Yl(e),i=t[Kt.NumberSymbols][n];if(typeof i>"u"){if(n===Kn.CurrencyDecimal)return t[Kt.NumberSymbols][Kn.Decimal];if(n===Kn.CurrencyGroup)return t[Kt.NumberSymbols][Kn.Group]}return i}function Q1(e){if(!e[Kt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Kt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wl(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function xP(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const IC=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j_={},h8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pa=(()=>((pa=pa||{})[pa.Short=0]="Short",pa[pa.ShortGMT=1]="ShortGMT",pa[pa.Long=2]="Long",pa[pa.Extended=3]="Extended",pa))(),Vn=(()=>((Vn=Vn||{})[Vn.FullYear=0]="FullYear",Vn[Vn.Month=1]="Month",Vn[Vn.Date=2]="Date",Vn[Vn.Hours=3]="Hours",Vn[Vn.Minutes=4]="Minutes",Vn[Vn.Seconds=5]="Seconds",Vn[Vn.FractionalSeconds=6]="FractionalSeconds",Vn[Vn.Day=7]="Day",Vn))(),Oi=(()=>((Oi=Oi||{})[Oi.DayPeriods=0]="DayPeriods",Oi[Oi.Days=1]="Days",Oi[Oi.Months=2]="Months",Oi[Oi.Eras=3]="Eras",Oi))();function LC(e,n,t,i){let r=function eF(e){if(nF(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,l=1]=e.split("-").map(h=>+h);return d8(r,o-1,l)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(IC))return function tF(e){const n=new Date(0);let t=0,i=0;const r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const l=Number(e[4]||0)-t,h=Number(e[5]||0)-i,f=Number(e[6]||0),m=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,l,h,f,m),n}(i)}const n=new Date(e);if(!nF(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=pg(t,n)||n;let h,l=[];for(;n;){if(h=h8.exec(n),!h){l.push(n);break}{l=l.concat(h.slice(1));const _=l.pop();if(!_)break;n=_}}let f=r.getTimezoneOffset();i&&(f=PP(i,f),r=function JN(e,n,t){const i=t?-1:1,r=e.getTimezoneOffset();return function MZ(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,i*(PP(n,r)-r))}(r,i,!0));let m="";return l.forEach(_=>{const b=function TZ(e){if(DP[e])return DP[e];let n;switch(e){case"G":case"GG":case"GGG":n=po(Oi.Eras,vi.Abbreviated);break;case"GGGG":n=po(Oi.Eras,vi.Wide);break;case"GGGGG":n=po(Oi.Eras,vi.Narrow);break;case"y":n=Ha(Vn.FullYear,1,0,!1,!0);break;case"yy":n=Ha(Vn.FullYear,2,0,!0,!0);break;case"yyy":n=Ha(Vn.FullYear,3,0,!1,!0);break;case"yyyy":n=Ha(Vn.FullYear,4,0,!1,!0);break;case"Y":n=NC(1);break;case"YY":n=NC(2,!0);break;case"YYY":n=NC(3);break;case"YYYY":n=NC(4);break;case"M":case"L":n=Ha(Vn.Month,1,1);break;case"MM":case"LL":n=Ha(Vn.Month,2,1);break;case"MMM":n=po(Oi.Months,vi.Abbreviated);break;case"MMMM":n=po(Oi.Months,vi.Wide);break;case"MMMMM":n=po(Oi.Months,vi.Narrow);break;case"LLL":n=po(Oi.Months,vi.Abbreviated,oo.Standalone);break;case"LLLL":n=po(Oi.Months,vi.Wide,oo.Standalone);break;case"LLLLL":n=po(Oi.Months,vi.Narrow,oo.Standalone);break;case"w":n=MP(1);break;case"ww":n=MP(2);break;case"W":n=MP(1,!0);break;case"d":n=Ha(Vn.Date,1);break;case"dd":n=Ha(Vn.Date,2);break;case"c":case"cc":n=Ha(Vn.Day,1);break;case"ccc":n=po(Oi.Days,vi.Abbreviated,oo.Standalone);break;case"cccc":n=po(Oi.Days,vi.Wide,oo.Standalone);break;case"ccccc":n=po(Oi.Days,vi.Narrow,oo.Standalone);break;case"cccccc":n=po(Oi.Days,vi.Short,oo.Standalone);break;case"E":case"EE":case"EEE":n=po(Oi.Days,vi.Abbreviated);break;case"EEEE":n=po(Oi.Days,vi.Wide);break;case"EEEEE":n=po(Oi.Days,vi.Narrow);break;case"EEEEEE":n=po(Oi.Days,vi.Short);break;case"a":case"aa":case"aaa":n=po(Oi.DayPeriods,vi.Abbreviated);break;case"aaaa":n=po(Oi.DayPeriods,vi.Wide);break;case"aaaaa":n=po(Oi.DayPeriods,vi.Narrow);break;case"b":case"bb":case"bbb":n=po(Oi.DayPeriods,vi.Abbreviated,oo.Standalone,!0);break;case"bbbb":n=po(Oi.DayPeriods,vi.Wide,oo.Standalone,!0);break;case"bbbbb":n=po(Oi.DayPeriods,vi.Narrow,oo.Standalone,!0);break;case"B":case"BB":case"BBB":n=po(Oi.DayPeriods,vi.Abbreviated,oo.Format,!0);break;case"BBBB":n=po(Oi.DayPeriods,vi.Wide,oo.Format,!0);break;case"BBBBB":n=po(Oi.DayPeriods,vi.Narrow,oo.Format,!0);break;case"h":n=Ha(Vn.Hours,1,-12);break;case"hh":n=Ha(Vn.Hours,2,-12);break;case"H":n=Ha(Vn.Hours,1);break;case"HH":n=Ha(Vn.Hours,2);break;case"m":n=Ha(Vn.Minutes,1);break;case"mm":n=Ha(Vn.Minutes,2);break;case"s":n=Ha(Vn.Seconds,1);break;case"ss":n=Ha(Vn.Seconds,2);break;case"S":n=Ha(Vn.FractionalSeconds,1);break;case"SS":n=Ha(Vn.FractionalSeconds,2);break;case"SSS":n=Ha(Vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=J1(pa.Short);break;case"ZZZZZ":n=J1(pa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=J1(pa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=J1(pa.Long);break;default:return null}return DP[e]=n,n}(_);m+=b?b(r,t,f):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function d8(e,n,t){const i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function pg(e,n){const t=function vZ(e){return Yl(e)[Kt.LocaleId]}(e);if(j_[t]=j_[t]||{},j_[t][n])return j_[t][n];let i="";switch(n){case"shortDate":i=kC(e,Jo.Short);break;case"mediumDate":i=kC(e,Jo.Medium);break;case"longDate":i=kC(e,Jo.Long);break;case"fullDate":i=kC(e,Jo.Full);break;case"shortTime":i=u8(e,Jo.Short);break;case"mediumTime":i=u8(e,Jo.Medium);break;case"longTime":i=u8(e,Jo.Long);break;case"fullTime":i=u8(e,Jo.Full);break;case"short":const r=pg(e,"shortTime"),o=pg(e,"shortDate");i=J0(OC(e,Jo.Short),[r,o]);break;case"medium":const l=pg(e,"mediumTime"),h=pg(e,"mediumDate");i=J0(OC(e,Jo.Medium),[l,h]);break;case"long":const f=pg(e,"longTime"),m=pg(e,"longDate");i=J0(OC(e,Jo.Long),[f,m]);break;case"full":const _=pg(e,"fullTime"),b=pg(e,"fullDate");i=J0(OC(e,Jo.Full),[_,b])}return i&&(j_[t][n]=i),i}function J0(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return null!=n&&i in n?n[i]:t})),e}function zh(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=t));let l=String(e);for(;l.length<n;)l="0"+l;return i&&(l=l.slice(l.length-n)),o+l}function Ha(e,n,t=0,i=!1,r=!1){return function(o,l){let h=function QN(e,n){switch(e){case Vn.FullYear:return n.getFullYear();case Vn.Month:return n.getMonth();case Vn.Date:return n.getDate();case Vn.Hours:return n.getHours();case Vn.Minutes:return n.getMinutes();case Vn.Seconds:return n.getSeconds();case Vn.FractionalSeconds:return n.getMilliseconds();case Vn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((t>0||h>-t)&&(h+=t),e===Vn.Hours)0===h&&-12===t&&(h=12);else if(e===Vn.FractionalSeconds)return function SZ(e,n){return zh(e,3).substring(0,n)}(h,n);const f=Ah(l,Kn.MinusSign);return zh(h,n,f,i,r)}}function po(e,n,t=oo.Format,i=!1){return function(r,o){return function wP(e,n,t,i,r,o){switch(t){case Oi.Months:return function yZ(e,n,t){const i=Yl(e),o=Wl([i[Kt.MonthsFormat],i[Kt.MonthsStandalone]],n);return Wl(o,t)}(n,r,i)[e.getMonth()];case Oi.Days:return function _Z(e,n,t){const i=Yl(e),o=Wl([i[Kt.DaysFormat],i[Kt.DaysStandalone]],n);return Wl(o,t)}(n,r,i)[e.getDay()];case Oi.DayPeriods:const l=e.getHours(),h=e.getMinutes();if(o){const m=function KN(e){const n=Yl(e);return Q1(n),(n[Kt.ExtraData][2]||[]).map(i=>"string"==typeof i?xP(i):[xP(i[0]),xP(i[1])])}(n),_=function EC(e,n,t){const i=Yl(e);Q1(i);const o=Wl([i[Kt.ExtraData][0],i[Kt.ExtraData][1]],n)||[];return Wl(o,t)||[]}(n,r,i),b=m.findIndex(S=>{if(Array.isArray(S)){const[M,O]=S,I=l>=M.hours&&h>=M.minutes,N=l<O.hours||l===O.hours&&h<O.minutes;if(M.hours<O.hours){if(I&&N)return!0}else if(I||N)return!0}else if(S.hours===l&&S.minutes===h)return!0;return!1});if(-1!==b)return _[b]}return vd(n,r,i)[l<12?0:1];case Oi.Eras:return function xZ(e,n){return Wl(Yl(e)[Kt.Eras],n)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,e,n,t,i)}}function J1(e){return function(n,t,i){const r=-1*i,o=Ah(t,Kn.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case pa.Short:return(r>=0?"+":"")+zh(l,2,o)+zh(Math.abs(r%60),2,o);case pa.ShortGMT:return"GMT"+(r>=0?"+":"")+zh(l,1,o);case pa.Long:return"GMT"+(r>=0?"+":"")+zh(l,2,o)+":"+zh(Math.abs(r%60),2,o);case pa.Extended:return 0===i?"Z":(r>=0?"+":"")+zh(l,2,o)+":"+zh(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function TP(e){return d8(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function MP(e,n=!1){return function(t,i){let r;if(n){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();r=1+Math.floor((l+o)/7)}else{const o=TP(t),l=function SP(e){const n=d8(e,0,1).getDay();return d8(e,0,1+(n<=4?4:11)-n)}(o.getFullYear()),h=o.getTime()-l.getTime();r=1+Math.round(h/6048e5)}return zh(r,e,Ah(i,Kn.MinusSign))}}function NC(e,n=!1){return function(t,i){return zh(TP(t).getFullYear(),e,Ah(i,Kn.MinusSign),n)}}const DP={};function PP(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function nF(e){return e instanceof Date&&!isNaN(e.valueOf())}const DZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function VC(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}function lF(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}const HC=/\s+/,YC=[];let Ss=(()=>{class e{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=YC,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(HC):YC}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(HC):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(HC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(t){return new(t||e)(de(U_),de(G_),de(Vt),de(_r))},e.\u0275dir=St({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class uF{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xr=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new uF(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,l),GC(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{GC(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(de(Pi),de(Yo),de(U_))},e.\u0275dir=St({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function GC(e,n){e.context.$implicit=n.item}let hn=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new hF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){LP("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){LP("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(de(Pi),de(Yo))},e.\u0275dir=St({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class hF{constructor(){this.$implicit=null,this.ngIf=null}}function LP(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ir(n)}'.`)}class v8{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let jl=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),jc=(()=>{class e{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new v8(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(de(Pi),de(Yo),de(jl,9))},e.\u0275dir=St({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),kh=(()=>{class e{constructor(t,i,r){r._addDefault(new v8(t,i))}}return e.\u0275fac=function(t){return new(t||e)(de(Pi),de(Yo),de(jl,9))},e.\u0275dir=St({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),Ys=(()=>{class e{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),l=-1===r.indexOf("-")?void 0:Nl.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(G_),de(_r))},e.\u0275dir=St({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Yr=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(de(Pi))},e.\u0275dir=St({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Le]}),e})();function _d(e,n){return new dt(2100,!1)}class X_{createSubscription(n,t){return n.subscribe({next:t,error:i=>{throw i}})}dispose(n){n.unsubscribe()}}class kZ{createSubscription(n,t){return n.then(t,i=>{throw i})}dispose(n){}}const iv=new kZ,fF=new X_;let jC=(()=>{class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(R0(t))return iv;if(w9(t))return fF;throw _d()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(de(pr,16))},e.\u0275pipe=Ns({name:"async",type:e,pure:!1,standalone:!0}),e})();const $C=new pt("DATE_PIPE_DEFAULT_TIMEZONE"),RP=new pt("DATE_PIPE_DEFAULT_OPTIONS");let NP=(()=>{class e{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return LC(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw _d()}}}return e.\u0275fac=function(t){return new(t||e)(de(Of,16),de($C,24),de(RP,24))},e.\u0275pipe=Ns({name:"date",type:e,pure:!0,standalone:!0}),e})(),FP=(()=>{class e{constructor(t){this._locale=t}transform(t,i,r){if(!function y8(e){return!(null==e||""===e||e!=e)}(t))return null;r=r||this._locale;try{return function PZ(e,n,t){return function g8(e,n,t,i,r,o,l=!1){let h="",f=!1;if(isFinite(e)){let m=function aF(e){let i,r,o,l,h,n=Math.abs(e)+"",t=0;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;"0"===n.charAt(o);o++);if(o===(h=n.length))i=[0],r=1;else{for(h--;"0"===n.charAt(h);)h--;for(r-=o,i=[],l=0;o<=h;o++,l++)i[l]=Number(n.charAt(o))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(e);l&&(m=function m8(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(m));let _=n.minInt,b=n.minFrac,S=n.maxFrac;if(o){const G=o.match(DZ);if(null===G)throw new Error(`${o} is not a valid digit info`);const X=G[1],K=G[3],ne=G[5];null!=X&&(_=VC(X)),null!=K&&(b=VC(K)),null!=ne?S=VC(ne):null!=K&&b>S&&(S=b)}!function kP(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen;const o=Math.min(Math.max(n,r),t);let l=o+e.integerLen,h=i[l];if(l>0){i.splice(Math.max(e.integerLen,l));for(let b=l;b<i.length;b++)i[b]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,l=o+1),i[0]=0;for(let b=1;b<l;b++)i[b]=0}if(h>=5)if(l-1<0){for(let b=0;b>l;b--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[l-1]++;for(;r<Math.max(0,o);r++)i.push(0);let f=0!==o;const m=n+e.integerLen,_=i.reduceRight(function(b,S,M,O){return O[M]=(S+=b)<10?S:S-10,f&&(0===O[M]&&M>=m?O.pop():f=!1),S>=10?1:0},0);_&&(i.unshift(_),e.integerLen++)}(m,b,S);let M=m.digits,O=m.integerLen;const I=m.exponent;let N=[];for(f=M.every(G=>!G);O<_;O++)M.unshift(0);for(;O<0;O++)M.unshift(0);O>0?N=M.splice(O,M.length):(N=M,M=[0]);const V=[];for(M.length>=n.lgSize&&V.unshift(M.splice(-n.lgSize,M.length).join(""));M.length>n.gSize;)V.unshift(M.splice(-n.gSize,M.length).join(""));M.length&&V.unshift(M.join("")),h=V.join(Ah(t,i)),N.length&&(h+=Ah(t,r)+N.join("")),I&&(h+=Ah(t,Kn.Exponential)+"+"+I)}else h=Ah(t,Kn.Infinity);return h=e<0&&!f?n.negPre+h+n.negSuf:n.posPre+h+n.posSuf,h}(e,function nv(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),r=i[0],o=i[1],l=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],h=l[0],f=l[1]||"";t.posPre=h.substring(0,h.indexOf("#"));for(let _=0;_<f.length;_++){const b=f.charAt(_);"0"===b?t.minFrac=t.maxFrac=_+1:"#"===b?t.maxFrac=_+1:t.posSuf+=b}const m=h.split(",");if(t.gSize=m[1]?m[1].length:0,t.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,o){const _=r.length-t.posPre.length-t.posSuf.length,b=o.indexOf("#");t.negPre=o.substring(0,b).replace(/'/g,""),t.negSuf=o.slice(b+_).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}(function yP(e,n){return Yl(e)[Kt.NumberFormats][n]}(n,Gl.Decimal),Ah(n,Kn.MinusSign)),n,Kn.Group,Kn.Decimal,t)}(function BP(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),r,i)}catch(o){throw _d()}}}return e.\u0275fac=function(t){return new(t||e)(de(Of,16))},e.\u0275pipe=Ns({name:"number",type:e,pure:!0,standalone:!0}),e})();let ao=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();const _F="browser";function q_(e){return e===_F}let HP=(()=>{class e{}return e.\u0275prov=mt({token:e,providedIn:"root",factory:()=>new xF(Ve(ki),window)}),e})();class xF{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function bF(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=YP(this.window.history)||YP(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function YP(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class UP{}class hK extends fP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nA extends hK{static makeCurrent(){!function dP(e){DC||(DC=e)}(new nA)}onAndCancel(n,t,i){return n.addEventListener(t,i,!1),()=>{n.removeEventListener(t,i,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function FF(){return w8=w8||document.querySelector("base"),w8?w8.getAttribute("href"):null}();return null==t?null:function dK(e){S8=S8||document.createElement("a"),S8.setAttribute("href",e);const n=S8.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){w8=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return lF(document.cookie,n)}}let S8,w8=null;const BF=new pt("TRANSITION_ID"),fK=[{provide:hC,useFactory:function T8(e,n,t){return()=>{t.get(dC).donePromise.then(()=>{const i=Wc(),r=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[BF,ki,xs],multi:!0}];let gK=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const ZC=new pt("EventManagerPlugins");let KC=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const l=r[o];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(Ve(ZC),Ve(en))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class VF{constructor(n){this._doc=n}addGlobalEventListener(n,t,i){const r=Wc().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let QC=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),J_=(()=>{class e extends QC{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const l=this._doc.createElement("style");l.textContent=o,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(JC),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(JC))}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function JC(e){Wc().remove(e)}const iA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rA=/%COMP%/g;function sA(e,n){return n.flat(100).map(t=>t.replace(rA,e))}function UF(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let e7=(()=>{class e{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new lA(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case il.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new WF(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case il.ShadowDom:return new yK(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=sA(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Ve(KC),Ve(J_),Ve(B_))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class lA{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(iA[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(cA(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(cA(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=iA[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=iA[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Nl.DashCase|Nl.Important)?n.style.setProperty(t,i,r&Nl.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Nl.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,UF(i)):this.eventManager.addEventListener(n,t,UF(i))}}function cA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class WF extends lA{constructor(n,t,i,r){super(n),this.component=i;const o=sA(r+"-"+i.id,i.styles);t.addStyles(o),this.contentAttr=function mK(e){return"_ngcontent-%COMP%".replace(rA,e)}(r+"-"+i.id),this.hostAttr=function vK(e){return"_nghost-%COMP%".replace(rA,e)}(r+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}class yK extends lA{constructor(n,t,i,r){super(n),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=sA(r.id,r.styles);for(let l=0;l<o.length;l++){const h=document.createElement("style");h.textContent=o[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let xK=(()=>{class e extends VF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const jF=["alt","control","meta","shift"],$F={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let bK=(()=>{class e extends VF{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const o=e.parseEventName(i),l=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wc().onAndCancel(t,o.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let l="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),l="code."),jF.forEach(m=>{const _=i.indexOf(m);_>-1&&(i.splice(_,1),l+=m+".")}),l+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=l,f}static matchEventFullKeyCode(t,i){let r=$F[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jF.forEach(l=>{l!==r&&(0,XF[l])(t)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const ZF=[{provide:kf,useValue:_F},{provide:vN,useValue:function wK(){nA.makeCurrent()},multi:!0},{provide:ki,useFactory:function qF(){return function CM(e){Cc=e}(document),document},deps:[]}],t7=eP(VN,"browser",ZF),KF=new pt(""),QF=[{provide:vC,useClass:class pK{addToWindow(n){zr.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},zr.getAllAngularTestabilities=()=>n.getAllTestabilities(),zr.getAllAngularRootElements=()=>n.getAllRootElements(),zr.frameworkStabilizers||(zr.frameworkStabilizers=[]),zr.frameworkStabilizers.push(i=>{const r=zr.getAllAngularTestabilities();let o=r.length,l=!1;const h=function(f){l=l||f,o--,0==o&&i(l)};r.forEach(function(f){f.whenStable(h)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?Wc().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:ZD,useClass:s8,deps:[en,_C,vC]},{provide:s8,useClass:s8,deps:[en,_C,vC]}],dA=[{provide:K5,useValue:"root"},{provide:ud,useFactory:function SK(){return new ud},deps:[]},{provide:ZC,useClass:xK,multi:!0,deps:[ki,en,kf]},{provide:ZC,useClass:bK,multi:!0,deps:[ki]},{provide:e7,useClass:e7,deps:[KC,J_,B_]},{provide:Kp,useExisting:e7},{provide:QC,useExisting:J_},{provide:J_,useClass:J_,deps:[ki]},{provide:KC,useClass:KC,deps:[ZC,en]},{provide:UP,useClass:gK,deps:[]},[]];let JF=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:B_,useValue:t.appId},{provide:BF,useExisting:B_},fK]}}}return e.\u0275fac=function(t){return new(t||e)(Ve(KF,12))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[...dA,...QF],imports:[ao,W_]}),e})(),eB=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:function(t){let i=null;return i=t?new t:function fA(){return new eB(Ve(ki))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let D8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(t){let i=null;return i=t?new(t||e):Ve(_A),i},providedIn:"root"}),e})(),_A=(()=>{class e extends D8{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case no.NONE:return i;case no.HTML:return Rc(i,"HTML")?Vs(i):$5(this._doc,String(i)).toString();case no.STYLE:return Rc(i,"Style")?Vs(i):i;case no.SCRIPT:if(Rc(i,"Script"))return Vs(i);throw new Error("unsafe value used in a script context");case no.URL:return Rc(i,"URL")?Vs(i):ty(String(i));case no.RESOURCE_URL:if(Rc(i,"ResourceURL"))return Vs(i);throw new Error(`unsafe value used in a resource URL context (see ${tl})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${tl})`)}}bypassSecurityTrustHtml(t){return function WI(e){return new UI(e)}(t)}bypassSecurityTrustStyle(t){return function TM(e){return new K2(e)}(t)}bypassSecurityTrustScript(t){return function Vl(e){return new J3(e)}(t)}bypassSecurityTrustUrl(t){return function Hs(e){return new GI(e)}(t)}bypassSecurityTrustResourceUrl(t){return function ha(e){return new SM(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:function(t){let i=null;return i=t?new t:function aB(e){return new _A(e.get(ki))}(Ve(xs)),i},providedIn:"root"}),e})();function Cn(...e){return xo(e,Rs(e))}class wn extends nt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const n7=Ee(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:sB}=Array,{getPrototypeOf:FK,prototype:yd,keys:BK}=Object;function lB(e){if(1===e.length){const n=e[0];if(sB(n))return{args:n,keys:null};if(function VK(e){return e&&"object"==typeof e&&FK(e)===yd}(n)){const t=BK(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:HK}=Array;function r7(e){return Je(n=>function YK(e,n){return HK(n)?e(...n):e(n)}(e,n))}function yA(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Go(...e){const n=Rs(e),t=b3(e),{args:i,keys:r}=lB(e);if(0===i.length)return xo([],n);const o=new Wn(function cB(e,n,t=jt){return i=>{xA(n,()=>{const{length:r}=e,o=new Array(r);let l=r,h=r;for(let f=0;f<r;f++)xA(n,()=>{const m=xo(e[f],n);let _=!1;m.subscribe(new rt(i,b=>{o[f]=b,_||(_=!0,h--),h||i.next(t(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,n,r?l=>yA(r,l):jt));return t?o.pipe(r7(t)):o}function xA(e,n,t){e?ms(t,e,n):n()}function sv(...e){return function UK(){return Oc(1)}()(xo(e,Rs(e)))}function nm(e){return new Wn(n=>{Fo(e()).subscribe(n)})}function lv(e,n){const t=Fn(e)?e:()=>e,i=r=>r.error(t());return new Wn(n?r=>n.schedule(i,0,r):i)}function o7(){return Gt((e,n)=>{let t=null;e._refCount++;const i=new rt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class a7 extends Wn{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Is(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ci;const t=this.getSubject();n.add(this.source.subscribe(new rt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ci.EMPTY)}return n}refCount(){return o7()(this)}}function so(e,n){return Gt((t,i)=>{let r=null,o=0,l=!1;const h=()=>l&&!r&&i.complete();t.subscribe(new rt(i,f=>{r?.unsubscribe();let m=0;const _=o++;Fo(e(f,_)).subscribe(r=new rt(i,b=>i.next(n?n(f,b,_,m++):b),()=>{r=null,h()}))},()=>{l=!0,h()}))})}function So(...e){const n=Rs(e);return Gt((t,i)=>{(n?sv(e,t,n):sv(e,t)).subscribe(i)})}function kr(e,n){return Gt((t,i)=>{let r=0;t.subscribe(new rt(i,o=>e.call(n,o,r++)&&i.next(o)))})}function xd(e){return Gt((n,t)=>{let i=!1;n.subscribe(new rt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function s7(e=bA){return Gt((n,t)=>{let i=!1;n.subscribe(new rt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function bA(){return new n7}function Tc(e,n){const t=arguments.length>=2;return i=>i.pipe(e?kr((r,o)=>e(r,o,i)):jt,wr(1),t?xd(n):s7(()=>new n7))}function Rf(e,n){return Fn(n)?Cr(e,n,1):Cr(e,1)}function Io(e,n,t){const i=Fn(e)||n||t?{next:e,error:n,complete:t}:e;return i?Gt((r,o)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let h=!0;r.subscribe(new rt(o,f=>{var m;null===(m=i.next)||void 0===m||m.call(i,f),o.next(f)},()=>{var f;h=!1,null===(f=i.complete)||void 0===f||f.call(i),o.complete()},f=>{var m;h=!1,null===(m=i.error)||void 0===m||m.call(i,f),o.error(f)},()=>{var f,m;h&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):jt}function ea(e){return Gt((n,t)=>{let o,i=null,r=!1;i=n.subscribe(new rt(t,void 0,void 0,l=>{o=Fo(e(l,ea(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function GK(e,n,t,i,r){return(o,l)=>{let h=t,f=n,m=0;o.subscribe(new rt(l,_=>{const b=m++;f=h?e(f,_,b):(h=!0,_),i&&l.next(f)},r&&(()=>{h&&l.next(f),l.complete()})))}}function e4(e,n){return Gt(GK(e,n,arguments.length>=2,!0))}function P8(e){return e<=0?()=>cr:Gt((n,t)=>{let i=[];n.subscribe(new rt(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function uB(e,n){const t=arguments.length>=2;return i=>i.pipe(e?kr((r,o)=>e(r,o,i)):jt,P8(1),t?xd(n):s7(()=>new n7))}function l7(e,n=!1){return Gt((t,i)=>{let r=0;t.subscribe(new rt(i,o=>{const l=e(o,r++);(l||n)&&i.next(o),!l&&i.complete()}))})}function mg(e){return Je(()=>e)}function Ua(e){return Gt((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const Ei="primary",A8=Symbol("RouteTitle");class hB{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function t4(e){return new hB(e)}function dB(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],h=e[o];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Oh(e,n){const t=e?Object.keys(e):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!c7(e[r],n[r]))return!1;return!0}function c7(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}return e===n}function CA(e){return Array.prototype.concat.apply([],e)}function wA(e){return e.length>0?e[e.length-1]:null}function Ts(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function vg(e){return Cb(e)?e:R0(e)?xo(Promise.resolve(e)):Cn(e)}const z8=!1,jK={exact:function MA(e,n,t){if(!rm(e.segments,n.segments)||!k8(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!MA(e.children[i],n.children[i],t))return!1;return!0},subset:h7},u7={exact:function cv(e,n){return Oh(e,n)},subset:function DA(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>c7(e[t],n[t]))},ignored:()=>!0};function TA(e,n,t){return jK[t.paths](e.root,n.root,t.matrixParams)&&u7[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function h7(e,n,t){return PA(e,n,n.segments,t)}function PA(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!rm(r,t)||n.hasChildren()||!k8(r,t,i))}if(e.segments.length===t.length){if(!rm(e.segments,t)||!k8(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!h7(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(rm(e.segments,r)&&k8(e.segments,r,i)&&e.children[Ei])&&PA(e.children[Ei],n,o,i)}}function k8(e,n,t){return n.every((i,r)=>u7[t](e[r].parameters,i.parameters))}class im{constructor(n=new $i([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=t4(this.queryParams)),this._queryParamMap}toString(){return zA.serialize(this)}}class $i{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Ts(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return O8(this)}}class n4{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=t4(this.parameters)),this._parameterMap}toString(){return gB(this)}}function rm(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let uv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(){return new d7},providedIn:"root"}),e})();class d7{parse(n){const t=new xB(n);return new im(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${r4(n.root,!0)}`,i=function XK(e){const n=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(r=>`${E8(t)}=${E8(r)}`).join("&"):`${E8(t)}=${E8(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function $K(e){return encodeURI(e)}(n.fragment)}`:""}`}}const zA=new d7;function O8(e){return e.segments.map(n=>gB(n)).join("/")}function r4(e,n){if(!e.hasChildren())return O8(e);if(n){const t=e.children[Ei]?r4(e.children[Ei],!1):"",i=[];return Ts(e.children,(r,o)=>{o!==Ei&&i.push(`${o}:${r4(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function fB(e,n){let t=[];return Ts(e.children,(i,r)=>{r===Ei&&(t=t.concat(n(i,r)))}),Ts(e.children,(i,r)=>{r!==Ei&&(t=t.concat(n(i,r)))}),t}(e,(i,r)=>r===Ei?[r4(e.children[Ei],!1)]:[`${r}:${r4(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ei]?`${O8(e)}/${t[0]}`:`${O8(e)}/(${t.join("//")})`}}function pB(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function E8(e){return pB(e).replace(/%3B/gi,";")}function f7(e){return pB(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function p7(e){return decodeURIComponent(e)}function Nf(e){return p7(e.replace(/\+/g,"%20"))}function gB(e){return`${f7(e.path)}${function mB(e){return Object.keys(e).map(n=>`;${f7(n)}=${f7(e[n])}`).join("")}(e.parameters)}`}const vB=/^[^\/()?;=#]+/;function o4(e){const n=e.match(vB);return n?n[0]:""}const qK=/^[^=?&#]+/,yB=/^[^&#]+/;class xB{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $i([],{}):new $i([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Ei]=new $i(n,t)),i}parseSegment(){const n=o4(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new dt(4009,z8);return this.capture(n),new n4(p7(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=o4(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=o4(this.remaining);r&&(i=r,this.capture(i))}n[p7(t)]=p7(i)}parseQueryParam(n){const t=function _B(e){const n=e.match(qK);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function ZK(e){const n=e.match(yB);return n?n[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Nf(t),o=Nf(i);if(n.hasOwnProperty(r)){let l=n[r];Array.isArray(l)||(l=[l],n[r]=l),l.push(o)}else n[r]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=o4(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new dt(4010,z8);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Ei);const l=this.parseChildren();t[o]=1===Object.keys(l).length?l[Ei]:new $i([],l),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new dt(4011,z8)}}function kA(e){return e.segments.length>0?new $i([],{[Ei]:e}):e}function g7(e){const n={};for(const i of Object.keys(e.children)){const o=g7(e.children[i]);(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function bB(e){if(1===e.numberOfChildren&&e.children[Ei]){const n=e.children[Ei];return new $i(e.segments.concat(n.segments),n.children)}return e}(new $i(e.segments,n))}function Ff(e){return e instanceof im}function OA(e,n,t,i,r){if(0===t.length)return om(n.root,n.root,n.root,i,r);const o=function EA(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new m7(!0,0,e);let n=0,t=!1;const i=e.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Ts(o.outlets,(f,m)=>{h[m]="string"==typeof f?f.split("/"):f}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((h,f)=>{0==f&&"."===h||(0==f&&""===h?t=!0:".."===h?n++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new m7(t,n,i)}(t);return o.toRoot()?om(n.root,n.root,new $i([],{}),i,r):function l(f){const m=function JK(e,n,t,i){if(e.isAbsolute)return new a4(n.root,!0,0);if(-1===i)return new a4(t,t===n.root,0);return function IA(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new dt(4005,!1);r=i.segments.length}return new a4(i,!1,r-o)}(t,i+(I8(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,n,e.snapshot?._urlSegment,f),_=m.processChildren?_g(m.segmentGroup,m.index,o.commands):LA(m.segmentGroup,m.index,o.commands);return om(n.root,m.segmentGroup,_,i,r)}(e.snapshot?._lastPathIndex)}function I8(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function L8(e){return"object"==typeof e&&null!=e&&e.outlets}function om(e,n,t,i,r){let l,o={};i&&Ts(i,(f,m)=>{o[m]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),l=e===n?t:CB(e,n,t);const h=kA(g7(l));return new im(h,o,r)}function CB(e,n,t){const i={};return Ts(e.children,(r,o)=>{i[o]=r===n?t:CB(r,n,t)}),new $i(e.segments,i)}class m7{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&I8(i[0]))throw new dt(4003,!1);const r=i.find(L8);if(r&&r!==wA(i))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a4{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function LA(e,n,t){if(e||(e=new $i([],{})),0===e.segments.length&&e.hasChildren())return _g(e,n,t);const i=function v7(e,n,t){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;const l=e.segments[r],h=t[i];if(L8(h))break;const f=`${h}`,m=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!TB(f,m,l))return o;i+=2}else{if(!TB(f,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new $i(e.segments.slice(0,i.pathIndex),{});return o.children[Ei]=new $i(e.segments.slice(i.pathIndex),e.children),_g(o,0,r)}return i.match&&0===r.length?new $i(e.segments,{}):i.match&&!e.hasChildren()?_7(e,n,t):i.match?_g(e,0,r):_7(e,n,t)}function _g(e,n,t){if(0===t.length)return new $i(e.segments,{});{const i=function eQ(e){return L8(e[0])?e[0].outlets:{[Ei]:e}}(t),r={};return!i[Ei]&&e.children[Ei]&&1===e.numberOfChildren&&0===e.children[Ei].segments.length?_g(e.children[Ei],n,t):(Ts(i,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[l]=LA(e.children[l],n,o))}),Ts(e.children,(o,l)=>{void 0===i[l]&&(r[l]=o)}),new $i(e.segments,r))}}function _7(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const o=t[r];if(L8(o)){const f=tQ(o.outlets);return new $i(i,f)}if(0===r&&I8(t[0])){i.push(new n4(e.segments[n].path,SB(t[0]))),r++;continue}const l=L8(o)?o.outlets[Ei]:`${o}`,h=r<t.length-1?t[r+1]:null;l&&h&&I8(h)?(i.push(new n4(l,SB(h))),r+=2):(i.push(new n4(l,{})),r++)}return new $i(i,{})}function tQ(e){const n={};return Ts(e,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[i]=_7(new $i([],{}),0,t))}),n}function SB(e){const n={};return Ts(e,(t,i)=>n[i]=`${t}`),n}function TB(e,n,t){return e==t.path&&Oh(n,t.parameters)}const R8="imperative";class Bf{constructor(n,t){this.id=n,this.url=t}}class RA extends Bf{constructor(n,t,i="imperative",r=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vf extends Bf{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class N8 extends Bf{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class MB extends Bf{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=16}}class DB extends Bf{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nQ extends Bf{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iQ extends Bf{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NA extends Bf{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rQ extends Bf{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oQ extends Bf{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aQ{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sQ{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class y7{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lQ{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PB{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cQ{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FA{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dQ=(()=>{class e{createUrlTree(t,i,r,o,l,h){return OA(t||i.root,r,o,l,h)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),fQ=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(n){return dQ.\u0275fac(n)},providedIn:"root"}),e})();class F8{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=B8(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=B8(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=BA(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return BA(n,this._root).map(t=>t.value)}}function B8(e,n){if(e===n.value)return n;for(const t of n.children){const i=B8(e,t);if(i)return i}return null}function BA(e,n){if(e===n.value)return[n];for(const t of n.children){const i=BA(e,t);if(i.length)return i.unshift(n),i}return[]}class yg{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function dv(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class AB extends F8{constructor(n,t){super(n),this.snapshot=t,VA(this,n)}toString(){return this.snapshot.toString()}}function x7(e,n){const t=function pQ(e,n){const l=new b7([],{},{},"",{},Ei,n,null,e.root,-1,{});return new kB("",new yg(l,[]))}(e,n),i=new wn([new n4("",{})]),r=new wn({}),o=new wn({}),l=new wn({}),h=new wn(""),f=new am(i,r,l,h,o,Ei,n,t.root);return f.snapshot=t.root,new AB(new yg(f,[]),t)}class am{constructor(n,t,i,r,o,l,h,f){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=h,this.title=this.data?.pipe(Je(m=>m[A8]))??Cn(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(n=>t4(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(n=>t4(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fv(e,n="emptyOnly"){const t=e.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function zB(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class b7{get title(){return this.data?.[A8]}constructor(n,t,i,r,o,l,h,f,m,_,b){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=h,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=t4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=t4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kB extends F8{constructor(n,t){super(t),this.url=n,VA(this,t)}toString(){return HA(this._root)}}function VA(e,n){n.value._routerState=e,n.children.forEach(t=>VA(e,t))}function HA(e){const n=e.children.length>0?` { ${e.children.map(HA).join(", ")} } `:"";return`${e.value}${n}`}function s4(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Oh(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),Oh(n.params,t.params)||e.params.next(t.params),function WK(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Oh(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),Oh(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function C7(e,n){const t=Oh(e.params,n.params)&&function AA(e,n){return rm(e,n)&&e.every((t,i)=>Oh(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||C7(e.parent,n.parent))}function V8(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function sm(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return V8(e,i,r);return V8(e,i)})}(e,n,t);return new yg(i,r)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(h=>V8(e,h)),l}}const i=function gQ(e){return new am(new wn(e.url),new wn(e.params),new wn(e.queryParams),new wn(e.fragment),new wn(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(o=>V8(e,o));return new yg(i,r)}}const w7="ngNavigationCancelingError";function S7(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=Ff(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=l4(!1,0,n);return r.url=t,r.navigationBehaviorOptions=i,r}function l4(e,n,t){const i=new Error("NavigationCancelingError: "+(e||""));return i[w7]=!0,i.cancellationCode=n,t&&(i.url=t),i}function YA(e){return EB(e)&&Ff(e.url)}function EB(e){return e&&e[w7]}class UA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new H8,this.attachRef=null}}let H8=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new UA,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xg=!1;let pv=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ei,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=bn(H8),this.location=bn(Pi),this.changeDetector=bn(pr),this.environmentInjector=bn(wh)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,xg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,xg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,xg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new dt(4013,xg);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,f=new mQ(t,h,r.injector);if(i&&function vQ(e){return!!e.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(l);this.activated=r.createComponent(m,r.length,f)}else this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Le]}),e})();class mQ{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===am?this.route:n===H8?this.childContexts:this.parent.get(n,t)}}let T7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["ng-component"]],standalone:!0,features:[bD],decls:1,vars:0,template:function(t,i){1&t&&Fe(0,"router-outlet")},dependencies:[pv],encapsulation:2}),e})();function M7(e,n){return e.providers&&!e._injector&&(e._injector=Af(e.providers,n,`Route: ${e.path}`)),e._injector??n}function P7(e){const n=e.children&&e.children.map(P7),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Ei&&(t.component=T7),t}function Fu(e){return e.outlet||Ei}function LB(e,n){const t=e.filter(i=>Fu(i)===n);return t.push(...e.filter(i=>Fu(i)!==n)),t}function U8(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class A7{constructor(n,t,i,r){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),s4(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=dv(t);n.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),Ts(r,(o,l)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(n,t,l.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=dv(n);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=dv(n);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,t,i){const r=dv(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new cQ(o.value.snapshot))}),n.children.length&&this.forwardEvent(new lQ(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(s4(r),r===o)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,l.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),s4(h.route.value),this.activateChildRoutes(n,null,l.children)}else{const h=U8(r.snapshot),f=h?.get(io)??null;l.attachRef=null,l.route=r,l.resolver=f,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,i)}}class c4{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class gv{constructor(n,t){this.component=n,this.route=t}}function GA(e,n,t){const i=e._root;return G8(i,n?n._root:null,t,[i.value])}function u4(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function b2(e){return null!==Jr(e)}(e)?n.get(e):e:i}function G8(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=dv(n);return e.children.forEach(l=>{(function NB(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,l=n?n.value:null,h=t?t.getContext(e.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const f=function FB(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!rm(e.url,n.url);case"pathParamsOrQueryParamsChange":return!rm(e.url,n.url)||!Oh(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C7(e,n)||!Oh(e.queryParams,n.queryParams);default:return!C7(e,n)}}(l,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new c4(i)):(o.data=l.data,o._resolvedData=l._resolvedData),G8(e,n,o.component?h?h.children:null:t,i,r),f&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new gv(h.outlet.component,l))}else l&&mv(n,h,r),r.canActivateChecks.push(new c4(i)),G8(e,null,o.component?h?h.children:null:t,i,r)})(l,o[l.value.outlet],t,i.concat([l.value]),r),delete o[l.value.outlet]}),Ts(o,(l,h)=>mv(l,t.getContext(h),r)),r}function mv(e,n,t){const i=dv(e),r=e.value;Ts(i,(o,l)=>{mv(o,r.component?n?n.children.getContext(l):null:n,t)}),t.canDeactivateChecks.push(new gv(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function W8(e){return"function"==typeof e}function z7(e){return e instanceof n7||"EmptyError"===e?.name}const j8=Symbol("INITIAL_VALUE");function vv(){return so(e=>Go(e.map(n=>n.pipe(wr(1),So(j8)))).pipe(Je(n=>{for(const t of n)if(!0!==t){if(t===j8)return j8;if(!1===t||t instanceof im)return t}return!0}),kr(n=>n!==j8),wr(1)))}function QA(e){return function Js(...e){return Gn(e)}(Io(n=>{if(Ff(n))throw S7(0,n)}),Je(n=>!0===n))}const k7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JA(e,n,t,i,r){const o=ez(e,n,t);return o.matched?function YB(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?Cn(r.map(l=>{const h=u4(l,e);return vg(function VB(e){return e&&W8(e.canMatch)}(h)?h.canMatch(n,t):e.runInContext(()=>h(n,t)))})).pipe(vv(),QA()):Cn(!0)}(i=M7(n,i),n,t).pipe(Je(l=>!0===l?o:{...k7})):Cn(o)}function ez(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...k7}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||dB)(t,e,n);if(!r)return{...k7};const o={};Ts(r.posParams,(h,f)=>{o[f]=h.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function h4(e,n,t,i){if(t.length>0&&function zQ(e,n,t){return t.some(i=>O7(e,n,i)&&Fu(i)!==Ei)}(e,t,i)){const o=new $i(n,function UB(e,n,t,i){const r={};r[Ei]=i,i._sourceSegment=e,i._segmentIndexShift=n.length;for(const o of t)if(""===o.path&&Fu(o)!==Ei){const l=new $i([],{});l._sourceSegment=e,l._segmentIndexShift=n.length,r[Fu(o)]=l}return r}(e,n,i,new $i(t,e.children)));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function GB(e,n,t){return t.some(i=>O7(e,n,i))}(e,t,i)){const o=new $i(e.segments,function AQ(e,n,t,i,r){const o={};for(const l of i)if(O7(e,t,l)&&!r[Fu(l)]){const h=new $i([],{});h._sourceSegment=e,h._segmentIndexShift=n.length,o[Fu(l)]=h}return{...r,...o}}(e,n,t,i,e.children));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:t}}const r=new $i(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:t}}function O7(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function WB(e,n,t,i){return!!(Fu(e)===i||i!==Ei&&O7(n,t,e))&&("**"===e.path||ez(n,e,t).matched)}function bg(e,n,t){return 0===n.length&&!e.children[t]}const $8=!1;class X8{constructor(n){this.segmentGroup=n||null}}class E7{constructor(n){this.urlTree=n}}function Cg(e){return lv(new X8(e))}function tz(e){return lv(new E7(e))}class jB{constructor(n,t,i,r,o){this.injector=n,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const n=h4(this.urlTree.root,[],[],this.config).segmentGroup,t=new $i(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,Ei).pipe(Je(o=>this.createUrlTree(g7(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ea(o=>{if(o instanceof E7)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof X8?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Ei).pipe(Je(r=>this.createUrlTree(g7(r),n.queryParams,n.fragment))).pipe(ea(r=>{throw r instanceof X8?this.noMatchError(r):r}))}noMatchError(n){return new dt(4002,$8)}createUrlTree(n,t,i){const r=kA(n);return new im(r,t,i)}expandSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,t,i).pipe(Je(o=>new $i([],o))):this.expandSegment(n,i,t,i.segments,r,!0)}expandChildren(n,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return xo(r).pipe(Rf(o=>{const l=i.children[o],h=LB(t,o);return this.expandSegmentGroup(n,h,l,o).pipe(Je(f=>({segment:f,outlet:o})))}),e4((o,l)=>(o[l.outlet]=l.segment,o),{}),uB())}expandSegment(n,t,i,r,o,l){return xo(i).pipe(Rf(h=>this.expandSegmentAgainstRoute(n,t,i,h,r,o,l).pipe(ea(m=>{if(m instanceof X8)return Cn(null);throw m}))),Tc(h=>!!h),ea((h,f)=>{if(z7(h))return bg(t,r,o)?Cn(new $i([],{})):Cg(t);throw h}))}expandSegmentAgainstRoute(n,t,i,r,o,l,h){return WB(r,t,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,t,r,o,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,l):Cg(t):Cg(t)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?tz(o):this.lineralizeSegments(i,o).pipe(Cr(l=>{const h=new $i(l,{});return this.expandSegment(n,h,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,o,l){const{matched:h,consumedSegments:f,remainingSegments:m,positionalParamSegments:_}=ez(t,r,o);if(!h)return Cg(t);const b=this.applyRedirectCommands(f,r.redirectTo,_);return r.redirectTo.startsWith("/")?tz(b):this.lineralizeSegments(r,b).pipe(Cr(S=>this.expandSegment(n,t,i,S.concat(m),l,!1)))}matchSegmentAgainstRoute(n,t,i,r,o){return"**"===i.path?(n=M7(i,n),i.loadChildren?(i._loadedRoutes?Cn({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe(Je(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new $i(r,{})))):Cn(new $i(r,{}))):JA(t,i,r,n).pipe(so(({matched:l,consumedSegments:h,remainingSegments:f})=>l?this.getChildConfig(n=i._injector??n,i,r).pipe(Cr(_=>{const b=_.injector??n,S=_.routes,{segmentGroup:M,slicedSegments:O}=h4(t,h,f,S),I=new $i(M.segments,M.children);if(0===O.length&&I.hasChildren())return this.expandChildren(b,S,I).pipe(Je(X=>new $i(h,X)));if(0===S.length&&0===O.length)return Cn(new $i(h,{}));const N=Fu(i)===o;return this.expandSegment(b,I,S,O,N?Ei:o,!0).pipe(Je(G=>new $i(h.concat(G.segments),G.children)))})):Cg(t)))}getChildConfig(n,t,i){return t.children?Cn({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Cn({routes:t._loadedRoutes,injector:t._loadedInjector}):function PQ(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?Cn(!0):Cn(r.map(l=>{const h=u4(l,e);return vg(function WA(e){return e&&W8(e.canLoad)}(h)?h.canLoad(n,t):e.runInContext(()=>h(n,t)))})).pipe(vv(),QA())}(n,t,i).pipe(Cr(r=>r?this.configLoader.loadChildren(n,t).pipe(Io(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function OQ(e){return lv(l4($8,3))}())):Cn({routes:[],injector:n})}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Cn(i);if(r.numberOfChildren>1||!r.children[Ei])return lv(new dt(4e3,$8));r=r.children[Ei]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,r){const o=this.createSegmentGroup(n,t.root,i,r);return new im(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Ts(n,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(n,t,i,r){const o=this.createSegments(n,t.segments,i,r);let l={};return Ts(t.children,(h,f)=>{l[f]=this.createSegmentGroup(n,h,i,r)}),new $i(o,l)}createSegments(n,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new dt(4001,$8);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}class EQ{}class nz{constructor(n,t,i,r,o,l,h){this.injector=n,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=h}recognize(){const n=h4(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Ei).pipe(Je(t=>{if(null===t)return null;const i=new b7([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ei,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yg(i,t),o=new kB(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(n){const t=n.value,i=fv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r)}processChildren(n,t,i){return xo(Object.keys(i.children)).pipe(Rf(r=>{const o=i.children[r],l=LB(t,r);return this.processSegmentGroup(n,l,o,r)}),e4((r,o)=>r&&o?(r.push(...o),r):null),l7(r=>null!==r),xd(null),uB(),Je(r=>{if(null===r)return null;const o=d4(r);return function KB(e){e.sort((n,t)=>n.value.outlet===Ei?-1:t.value.outlet===Ei?1:n.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(n,t,i,r,o){return xo(t).pipe(Rf(l=>this.processSegmentAgainstRoute(l._injector??n,l,i,r,o)),Tc(l=>!!l),ea(l=>{if(z7(l))return bg(i,r,o)?Cn([]):Cn(null);throw l}))}processSegmentAgainstRoute(n,t,i,r,o){if(t.redirectTo||!WB(t,i,r,o))return Cn(null);let l;if("**"===t.path){const h=r.length>0?wA(r).parameters:{},f=L7(i)+r.length;l=Cn({snapshot:new b7(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nV(t),Fu(t),t.component??t._loadedComponent??null,t,tV(i),f,iV(t)),consumedSegments:[],remainingSegments:[]})}else l=JA(i,t,r,n).pipe(Je(({matched:h,consumedSegments:f,remainingSegments:m,parameters:_})=>{if(!h)return null;const b=L7(i)+f.length;return{snapshot:new b7(f,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nV(t),Fu(t),t.component??t._loadedComponent??null,t,tV(i),b,iV(t)),consumedSegments:f,remainingSegments:m}}));return l.pipe(so(h=>{if(null===h)return Cn(null);const{snapshot:f,consumedSegments:m,remainingSegments:_}=h;n=t._injector??n;const b=t._loadedInjector??n,S=function QB(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:O}=h4(i,m,_,S.filter(N=>void 0===N.redirectTo));if(0===O.length&&M.hasChildren())return this.processChildren(b,S,M).pipe(Je(N=>null===N?null:[new yg(f,N)]));if(0===S.length&&0===O.length)return Cn([new yg(f,[])]);const I=Fu(t)===o;return this.processSegment(b,S,M,O,I?Ei:o).pipe(Je(N=>null===N?null:[new yg(f,N)]))}))}}function JB(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function d4(e){const n=[],t=new Set;for(const i of e){if(!JB(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=d4(i.children);n.push(new yg(i.value,r))}return n.filter(i=>!t.has(i))}function tV(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function L7(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function nV(e){return e.data||{}}function iV(e){return e.resolve||{}}function sV(e){return"string"==typeof e.title||null===e.title}function iz(e){return so(n=>{const t=e(n);return t?xo(t).pipe(Je(()=>n)):Cn(n)})}const _v=new pt("ROUTES");let R7=(()=>{class e{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Cn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=vg(t.loadComponent()).pipe(Je(cV),Io(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ua(()=>{this.componentLoaders.delete(t)})),r=new a7(i,()=>new nt).pipe(o7());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Cn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Je(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,m,_=!1;Array.isArray(h)?m=h:(f=h.create(t).injector,m=CA(f.get(_v,[],Et.Self|Et.Optional)));return{routes:m.map(P7),injector:f}}),Ua(()=>{this.childrenLoaders.delete(i)})),l=new a7(o,()=>new nt).pipe(o7());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return vg(t()).pipe(Je(cV),Cr(r=>r instanceof xD||Array.isArray(r)?Cn(r):xo(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)(Ve(xs),Ve(jD))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cV(e){return function BQ(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let q8=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.configLoader=bn(R7),this.environmentInjector=bn(wh),this.urlSerializer=bn(uv),this.rootContexts=bn(H8),this.navigationId=0,this.afterPreactivation=()=>Cn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new sQ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new aQ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new wn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:R8,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kr(i=>0!==i.id),Je(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),so(i=>{let r=!1,o=!1;return Cn(i).pipe(Io(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),so(l=>{const h=t.browserUrlTree.toString(),f=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const _="";return this.events.next(new MB(l.id,t.serializeUrl(i.rawUrl),_,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),cr}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return uV(l.source)&&(t.browserUrlTree=l.extractedUrl),Cn(l).pipe(so(_=>{const b=this.transitions?.getValue();return this.events.next(new RA(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),b!==this.transitions?.getValue()?cr:Promise.resolve(_)}),function $B(e,n,t,i){return so(r=>function I7(e,n,t,i,r){return new jB(e,n,t,i,r).apply()}(e,n,t,r.extractedUrl,i).pipe(Je(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Io(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},i.urlAfterRedirects=_.urlAfterRedirects}),function rV(e,n,t,i,r){return Cr(o=>function ZB(e,n,t,i,r,o,l="emptyOnly"){return new nz(e,n,t,i,r,l,o).recognize().pipe(so(h=>null===h?function qB(e){return new Wn(n=>n.error(e))}(new EQ):Cn(h)))}(e,n,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe(Je(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Io(_=>{if(i.targetSnapshot=_.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!_.extras.skipLocationChange){const S=t.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);t.setBrowserUrl(S,_)}t.browserUrlTree=_.urlAfterRedirects}const b=new nQ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:_,extractedUrl:b,source:S,restoredState:M,extras:O}=l,I=new RA(_,this.urlSerializer.serialize(b),S,M);this.events.next(I);const N=x7(b,this.rootComponentType).snapshot;return Cn(i={...l,targetSnapshot:N,urlAfterRedirects:b,extras:{...O,skipLocationChange:!1,replaceUrl:!1}})}{const _="";return this.events.next(new MB(l.id,t.serializeUrl(i.extractedUrl),_,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),cr}}),Io(l=>{const h=new iQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Je(l=>i={...l,guards:GA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function HB(e,n){return Cr(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=t;return 0===l.length&&0===o.length?Cn({...t,guardsResult:!0}):function XA(e,n,t,i){return xo(e).pipe(Cr(r=>function KA(e,n,t,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Cn(o.map(h=>{const f=U8(n)??r,m=u4(h,f);return vg(function wQ(e){return e&&W8(e.canDeactivate)}(m)?m.canDeactivate(e,n,t,i):f.runInContext(()=>m(e,n,t,i))).pipe(Tc())})).pipe(vv()):Cn(!0)}(r.component,r.route,t,n,i)),Tc(r=>!0!==r,!0))}(l,i,r,e).pipe(Cr(h=>h&&function CQ(e){return"boolean"==typeof e}(h)?function qA(e,n,t,i){return xo(n).pipe(Rf(r=>sv(function TQ(e,n){return null!==e&&n&&n(new y7(e)),Cn(!0)}(r.route.parent,i),function ZA(e,n){return null!==e&&n&&n(new PB(e)),Cn(!0)}(r.route,i),function DQ(e,n,t){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(l=>function bQ(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(l)).filter(l=>null!==l).map(l=>nm(()=>Cn(l.guards.map(f=>{const m=U8(l.node)??t,_=u4(f,m);return vg(function BB(e){return e&&W8(e.canActivateChild)}(_)?_.canActivateChild(i,e):m.runInContext(()=>_(i,e))).pipe(Tc())})).pipe(vv())));return Cn(o).pipe(vv())}(e,r.path,t),function MQ(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Cn(!0);const r=i.map(o=>nm(()=>{const l=U8(n)??t,h=u4(o,l);return vg(function jA(e){return e&&W8(e.canActivate)}(h)?h.canActivate(n,e):l.runInContext(()=>h(n,e))).pipe(Tc())}));return Cn(r).pipe(vv())}(e,r.route,t))),Tc(r=>!0!==r,!0))}(i,o,e,n):Cn(h)),Je(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),Io(l=>{if(i.guardsResult=l.guardsResult,Ff(l.guardsResult))throw S7(0,l.guardsResult);const h=new NA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),kr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),iz(l=>{if(l.guards.canActivateChecks.length)return Cn(l).pipe(Io(h=>{const f=new rQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),so(h=>{let f=!1;return Cn(h).pipe(function LQ(e,n){return Cr(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Cn(t);let o=0;return xo(r).pipe(Rf(l=>function oV(e,n,t,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!sV(r)&&(o[A8]=r.title),function RQ(e,n,t,i){const r=function NQ(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return Cn({});const o={};return xo(r).pipe(Cr(l=>function aV(e,n,t,i){const r=U8(n)??i,o=u4(e,r);return vg(o.resolve?o.resolve(n,t):r.runInContext(()=>o(n,t)))}(e[l],n,t,i).pipe(Tc(),Io(h=>{o[l]=h}))),P8(1),mg(o),ea(l=>z7(l)?cr:lv(l)))}(o,e,n,i).pipe(Je(l=>(e._resolvedData=l,e.data=fv(e,t).resolve,r&&sV(r)&&(e.data[A8]=r.title),null)))}(l.route,i,e,n)),Io(()=>o++),P8(1),Cr(l=>o===r.length?Cn(t):cr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Io({next:()=>f=!0,complete:()=>{f||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Io(h=>{const f=new oQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),iz(l=>{const h=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Io(_=>{f.component=_}),Je(()=>{})));for(const _ of f.children)m.push(...h(_));return m};return Go(h(l.targetSnapshot.root)).pipe(xd(),wr(1))}),iz(()=>this.afterPreactivation()),Je(l=>{const h=function OB(e,n,t){const i=V8(e,n._root,t?t._root:void 0);return new AB(i,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:h}}),Io(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((e,n,t)=>Je(i=>(new A7(n,i.targetRouterState,i.currentRouterState,t).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Io({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Vf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Ua(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ea(l=>{if(o=!0,EB(l)){YA(l)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new N8(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),YA(l)){const f=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||uV(i.source)};t.scheduleNavigation(f,R8,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new DB(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(l))}catch(f){i.reject(f)}}return cr}))}))}cancelNavigationTransition(t,i,r){const o=new N8(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uV(e){return e!==R8}let rz=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ei);return i}getResolvedTitleForRoute(t){return t.data[A8]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(){return bn(hV)},providedIn:"root"}),e})(),hV=(()=>{class e extends rz{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(t){return new(t||e)(Ve(eB))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),VQ=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(){return bn(yv)},providedIn:"root"}),e})();class dV{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let yv=(()=>{class e extends dV{}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xv=new pt("",{providedIn:"root",factory:()=>({})});let N7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:function(){return bn(wg)},providedIn:"root"}),e})(),wg=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function F7(e){throw e}function az(e,n,t){return n.parse("/")}const Z8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let go=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=bn(pC),this.isNgZoneEnabled=!1,this.options=bn(xv,{optional:!0})||{},this.errorHandler=this.options.errorHandler||F7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||az,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=bn(N7),this.routeReuseStrategy=bn(VQ),this.urlCreationStrategy=bn(fQ),this.titleStrategy=bn(rz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=CA(bn(_v,{optional:!0})??[]),this.navigationTransitions=bn(q8),this.urlSerializer=bn(uv),this.location=bn(zC),this.isNgZoneEnabled=bn(en)instanceof en&&en.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new im,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=x7(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),R8,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(P7),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:h,preserveFragment:f}=i,m=f?this.currentUrlTree.fragment:l;let _=null;switch(h){case"merge":_={...this.currentUrlTree.queryParams,...o};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=o||null}return null!==_&&(_=this.removeEmptyProps(_)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,_,m??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ff(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,R8,null,i)}navigate(t,i={skipLocationChange:!1}){return function gV(e){for(let n=0;n<e.length;n++){if(null==e[n])throw new dt(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Z8}:!1===i?{...pV}:i,Ff(t))return TA(this.currentUrlTree,t,r);const o=this.parseUrl(t);return TA(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let h,f,m,_;return l?(h=l.resolve,f=l.reject,m=l.promise):m=new Promise((b,S)=>{h=b,f=S}),_="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:_,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:h,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(b=>Promise.reject(b))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Eh=(()=>{class e{constructor(t,i,r,o,l,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new nt;const f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof Vf&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Q0(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Q0(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Q0(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function e_(e,n,t){return function eL(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?zM:qp}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(de(go),de(am),function N3(e){return function cf(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(vc(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===n)return t[r+1];r+=2}}}return null}(al(),e)}("tabindex"),de(_r),de(Vt),de(fg))},e.\u0275dir=St({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&He("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&oi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Le]}),e})();class cz{}let B7=(()=>{class e{constructor(t,i,r,o,l){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(kr(t=>t instanceof Vf),Rf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Af(o.providers,t,`Route: ${o.path}`));const l=o._injector??t,h=o._loadedInjector??l;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(l,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return xo(r).pipe(Oc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Cn(null);const o=r.pipe(Cr(l=>null===l?Cn(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));return i.loadComponent&&!i._loadedComponent?xo([o,this.loader.loadComponent(i)]).pipe(Oc()):o})}}return e.\u0275fac=function(t){return new(t||e)(Ve(go),Ve(jD),Ve(wh),Ve(cz),Ve(R7))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uz=new pt("");let K8=(()=>{class e{constructor(t,i,r,o,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof RA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function kL(){throw new Error("invalid")}()},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function Cv(e,n){return{\u0275kind:e,\u0275providers:n}}function fz(){const e=bn(xs);return n=>{const t=e.get(If);if(n!==t.components[0])return;const i=e.get(go),r=e.get(mV);1===e.get(Y7)&&i.initialNavigation(),e.get(wv,null,Et.Optional)?.setUpPreloading(),e.get(uz,null,Et.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const mV=new pt("",{factory:()=>new nt}),Y7=new pt("",{providedIn:"root",factory:()=>1});const wv=new pt("");function gz(e){return Cv(0,[{provide:wv,useExisting:B7},{provide:cz,useExisting:e}])}const U7=new pt("ROUTER_FORROOT_GUARD"),vz=[zC,{provide:uv,useClass:d7},go,H8,{provide:am,useFactory:function V7(e){return e.routerState.root},deps:[go]},R7,[]];function GQ(){return new dg("Router",go)}let Sg=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[vz,[],{provide:_v,multi:!0,useValue:t},{provide:U7,useFactory:xV,deps:[[go,new M1,new mf]]},{provide:xv,useValue:i||{}},i?.useHash?{provide:fg,useClass:mP}:{provide:fg,useClass:Nu},{provide:uz,useFactory:()=>{const e=bn(HP),n=bn(en),t=bn(xv),i=bn(q8),r=bn(uv);return t.scrollOffset&&e.setOffset(t.scrollOffset),new K8(r,i,e,n,t)}},i?.preloadingStrategy?gz(i.preloadingStrategy).\u0275providers:[],{provide:dg,multi:!0,useFactory:GQ},i?.initialNavigation?_z(i):[],[{provide:G7,useFactory:fz},{provide:WD,multi:!0,useExisting:G7}]]}}static forChild(t){return{ngModule:e,providers:[{provide:_v,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Ve(U7,8))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[T7]}),e})();function xV(e){return"guarded"}function _z(e){return["disabled"===e.initialNavigation?Cv(3,[{provide:hC,multi:!0,useFactory:()=>{const n=bn(go);return()=>{n.setUpLocationChangeListener()}}},{provide:Y7,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Cv(2,[{provide:Y7,useValue:0},{provide:hC,multi:!0,deps:[xs],useFactory:n=>{const t=n.get(fZ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=n.get(go),l=n.get(mV);(function i(r){n.get(go).events.pipe(kr(l=>l instanceof Vf||l instanceof N8||l instanceof DB),Je(l=>l instanceof Vf||l instanceof N8&&(0===l.code||1===l.code)&&null),kr(l=>null!==l),wr(1)).subscribe(()=>{r()})})(()=>{r(!0)}),n.get(q8).afterPreactivation=()=>(r(!0),l.closed?Cn(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const G7=new pt("");class W7{}class Sv{}class Tg{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let i=n[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Tg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Tg;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Tg?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=n.value;if(o){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===o.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class XQ{encodeKey(n){return j7(n)}encodeValue(n){return j7(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const ZQ=/%(\d[a-f0-9])/gi,KQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j7(e){return encodeURIComponent(e).replace(ZQ,(n,t)=>KQ[t]??n)}function Q8(e){return`${e}`}class Hf{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new XQ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qQ(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,h]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],f=t.get(l)||[];f.push(h),t.set(l,f)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(Q8):[Q8(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Hf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Q8(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(Q8(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class JQ{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function g4(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function yz(e){return typeof Blob<"u"&&e instanceof Blob}function bV(e){return typeof FormData<"u"&&e instanceof FormData}class e6{constructor(n,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function J8(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Tg),this.context||(this.context=new JQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Hf,this.urlWithParams=t}serializeBody(){return null===this.body?null:g4(this.body)||yz(this.body)||bV(this.body)||function eJ(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bV(this.body)?null:yz(this.body)?this.body.type||null:g4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,l=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,h=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,m=n.params||this.params;const _=n.context??this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((b,S)=>b.set(S,n.setHeaders[S]),f)),n.setParams&&(m=Object.keys(n.setParams).reduce((b,S)=>b.set(S,n.setParams[S]),m)),new e6(t,i,o,{params:m,headers:f,context:_,reportProgress:h,responseType:r,withCredentials:l})}}var Pa=(()=>((Pa=Pa||{})[Pa.Sent=0]="Sent",Pa[Pa.UploadProgress=1]="UploadProgress",Pa[Pa.ResponseHeader=2]="ResponseHeader",Pa[Pa.DownloadProgress=3]="DownloadProgress",Pa[Pa.Response=4]="Response",Pa[Pa.User=5]="User",Pa))();class $7{constructor(n,t=200,i="OK"){this.headers=n.headers||new Tg,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class X7 extends $7{constructor(n={}){super(n),this.type=Pa.ResponseHeader}clone(n={}){return new X7({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class t6 extends $7{constructor(n={}){super(n),this.type=Pa.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new t6({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class n6 extends $7{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function xz(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let q7=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof e6)o=t;else{let f,m;f=r.headers instanceof Tg?r.headers:new Tg(r.headers),r.params&&(m=r.params instanceof Hf?r.params:new Hf({fromObject:r.params})),o=new e6(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=Cn(o).pipe(Rf(f=>this.handler.handle(f)));if(t instanceof e6||"events"===r.observe)return l;const h=l.pipe(kr(f=>f instanceof t6));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe(Je(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return h.pipe(Je(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return h.pipe(Je(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return h.pipe(Je(f=>f.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Hf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xz(r,i))}post(t,i,r={}){return this.request("POST",t,xz(r,i))}put(t,i,r={}){return this.request("PUT",t,xz(r,i))}}return e.\u0275fac=function(t){return new(t||e)(Ve(W7))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function bz(e,n){return n(e)}function tJ(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}const Z7=new pt("HTTP_INTERCEPTORS"),m4=new pt("HTTP_INTERCEPTOR_FNS");function iJ(){let e=null;return(n,t)=>(null===e&&(e=(bn(Z7,{optional:!0})??[]).reduceRight(tJ,bz)),e(n,t))}let K7,Cz=(()=>{class e extends W7{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(m4)));this.chain=i.reduceRight((r,o)=>function nJ(e,n,t){return(i,r)=>t.runInContext(()=>n(i,o=>e(o,r)))}(r,o,this.injector),bz)}return this.chain(t,i=>this.backend.handle(i))}}return e.\u0275fac=function(t){return new(t||e)(Ve(Sv),Ve(wh))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),CV=0;class wz{}function Sz(){return"object"==typeof window?window:{}}let SV=(()=>{class e{constructor(t,i){this.callbackMap=t,this.document=i,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+CV++}handle(t){if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");if(t.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new Wn(i=>{const r=this.nextCallback(),o=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${r}$1`),l=this.document.createElement("script");l.src=o;let h=null,f=!1;this.callbackMap[r]=S=>{delete this.callbackMap[r],h=S,f=!0};const m=()=>{l.parentNode&&l.parentNode.removeChild(l),delete this.callbackMap[r]};return l.addEventListener("load",S=>{this.resolvedPromise.then(()=>{m(),f?(i.next(new t6({body:h,status:200,statusText:"OK",url:o})),i.complete()):i.error(new n6({url:o,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),l.addEventListener("error",S=>{m(),i.error(new n6({error:S,status:0,statusText:"JSONP Error",url:o}))}),this.document.body.appendChild(l),i.next({type:Pa.Sent}),()=>{f||this.removeListeners(l),m()}})}removeListeners(t){K7||(K7=this.document.implementation.createHTMLDocument()),K7.adoptNode(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(wz),Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function TV(e,n){return"JSONP"===e.method?bn(SV).handle(e):n(e)}const MV=/^\)\]\}',?\n/;let DV=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wn(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((M,O)=>r.setRequestHeader(M,O.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&r.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();r.responseType="json"!==M?M:"text"}const o=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const M=r.statusText||"OK",O=new Tg(r.getAllResponseHeaders()),I=function aJ(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new X7({headers:O,status:r.status,statusText:M,url:I}),l},f=()=>{let{headers:M,status:O,statusText:I,url:N}=h(),V=null;204!==O&&(V=typeof r.response>"u"?r.responseText:r.response),0===O&&(O=V?200:0);let G=O>=200&&O<300;if("json"===t.responseType&&"string"==typeof V){const X=V;V=V.replace(MV,"");try{V=""!==V?JSON.parse(V):null}catch(K){V=X,G&&(G=!1,V={error:K,text:V})}}G?(i.next(new t6({body:V,headers:M,status:O,statusText:I,url:N||void 0})),i.complete()):i.error(new n6({error:V,headers:M,status:O,statusText:I,url:N||void 0}))},m=M=>{const{url:O}=h(),I=new n6({error:M,status:r.status||0,statusText:r.statusText||"Unknown Error",url:O||void 0});i.error(I)};let _=!1;const b=M=>{_||(i.next(h()),_=!0);let O={type:Pa.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(O.total=M.total),"text"===t.responseType&&r.responseText&&(O.partialText=r.responseText),i.next(O)},S=M=>{let O={type:Pa.UploadProgress,loaded:M.loaded};M.lengthComputable&&(O.total=M.total),i.next(O)};return r.addEventListener("load",f),r.addEventListener("error",m),r.addEventListener("timeout",m),r.addEventListener("abort",m),t.reportProgress&&(r.addEventListener("progress",b),null!==o&&r.upload&&r.upload.addEventListener("progress",S)),r.send(o),i.next({type:Pa.Sent}),()=>{r.removeEventListener("error",m),r.removeEventListener("abort",m),r.removeEventListener("load",f),r.removeEventListener("timeout",m),t.reportProgress&&(r.removeEventListener("progress",b),null!==o&&r.upload&&r.upload.removeEventListener("progress",S)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Ve(UP))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const Tz=new pt("XSRF_ENABLED"),PV="XSRF-TOKEN",Mz=new pt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>PV}),AV="X-XSRF-TOKEN",Tv=new pt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>AV});class Dz{}let zV=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lF(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki),Ve(kf),Ve(Mz))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function kV(e,n){const t=e.url.toLowerCase();if(!bn(Tz)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=bn(Dz).getToken(),r=bn(Tv);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var Ga=(()=>((Ga=Ga||{})[Ga.Interceptors=0]="Interceptors",Ga[Ga.LegacyInterceptors=1]="LegacyInterceptors",Ga[Ga.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ga[Ga.NoXsrfProtection=3]="NoXsrfProtection",Ga[Ga.JsonpSupport=4]="JsonpSupport",Ga[Ga.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ga))();function Mv(e,n){return{\u0275kind:e,\u0275providers:n}}function sJ(...e){const n=[q7,DV,Cz,{provide:W7,useExisting:Cz},{provide:Sv,useExisting:DV},{provide:m4,useValue:kV,multi:!0},{provide:Tz,useValue:!0},{provide:Dz,useClass:zV}];for(const t of e)n.push(...t.\u0275providers);return function iy(e){return{\u0275providers:e}}(n)}const OV=new pt("LEGACY_INTERCEPTOR_FN");function cJ({cookieName:e,headerName:n}){const t=[];return void 0!==e&&t.push({provide:Mz,useValue:e}),void 0!==n&&t.push({provide:Tv,useValue:n}),Mv(Ga.CustomXsrfConfiguration,t)}let IV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[sJ(Mv(Ga.LegacyInterceptors,[{provide:OV,useFactory:iJ},{provide:m4,useExisting:OV,multi:!0}]),cJ({cookieName:PV,headerName:AV}))]}),e})(),dJ=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[Mv(Ga.JsonpSupport,[SV,{provide:wz,useFactory:Sz},{provide:m4,useValue:TV,multi:!0}]).\u0275providers]}),e})();class LV{}class fJ{}const Cd="*";function Us(e,n){return{type:7,name:e,definitions:n,options:{}}}function ar(e,n=null){return{type:4,styles:n,timings:e}}function RV(e,n=null){return{type:2,steps:e,options:n}}function kn(e){return{type:6,styles:e,offset:null}}function is(e,n,t){return{type:0,name:e,styles:n,options:t}}function Ai(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function Pz(e,n,t=null){return{type:11,selector:e,animation:n,options:t}}function Az(e,n){return{type:12,timings:e,animation:n}}function zz(e){Promise.resolve().then(e)}class o6{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zz(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class BV{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,i=0,r=0;const o=this.players.length;0==o?zz(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function a6(e){return new dt(3e3,!1)}function u(){return typeof window<"u"&&typeof window.document<"u"}function d(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function p(e){switch(e.length){case 0:return new o6;case 1:return e[0];default:return new BV(e)}}function g(e,n,t,i,r=new Map,o=new Map){const l=[],h=[];let f=-1,m=null;if(i.forEach(_=>{const b=_.get("offset"),S=b==f,M=S&&m||new Map;_.forEach((O,I)=>{let N=I,V=O;if("offset"!==I)switch(N=n.normalizePropertyName(N,l),V){case"!":V=r.get(I);break;case Cd:V=o.get(I);break;default:V=n.normalizeStyleValue(I,N,V,l)}M.set(N,V)}),S||h.push(M),m=M,f=b}),l.length)throw function XV(e){return new dt(3502,!1)}();return h}function v(e,n,t,i){switch(n){case"start":e.onStart(()=>i(t&&y(t,"start",e)));break;case"done":e.onDone(()=>i(t&&y(t,"done",e)));break;case"destroy":e.onDestroy(()=>i(t&&y(t,"destroy",e)))}}function y(e,n,t){const o=x(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),l=e._data;return null!=l&&(o._data=l),o}function x(e,n,t,i,r="",o=0,l){return{element:e,triggerName:n,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function C(e,n,t){let i=e.get(n);return i||e.set(n,i=t),i}function w(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}let D=(e,n)=>!1,P=(e,n,t)=>[],z=null;function k(e){const n=e.parentNode||e.host;return n===z?null:n}(d()||typeof Element<"u")&&(u()?(z=(()=>document.documentElement)(),D=(e,n)=>{for(;n;){if(n===e)return!0;n=k(n)}return!1}):D=(e,n)=>e.contains(n),P=(e,n,t)=>{if(t)return Array.from(e.querySelectorAll(n));const i=e.querySelector(n);return i?[i]:[]});let B=null,H=!1;const q=D,Q=P;let oe=(()=>{class e{validateStyleProperty(t){return function Y(e){B||(B=function j(){return typeof document<"u"?document.body:null}()||{},H=!!B.style&&"WebkitAppearance"in B.style);let n=!0;return B.style&&!function F(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in B.style,!n&&H&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in B.style)),n}(t)}matchesElement(t,i){return!1}containsElement(t,i){return q(t,i)}getParentElement(t){return k(t)}query(t,i,r){return Q(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,l,h=[],f){return new o6(r,o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),ae=(()=>{class e{}return e.NOOP=new oe,e})();const be="ng-enter",we="ng-leave",Te="ng-trigger",Me=".ng-trigger",Ae="ng-animating",Ie=".ng-animating";function Ue(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:qe(parseFloat(n[1]),n[2])}function qe(e,n){return"s"===n?1e3*e:e}function ft(e,n,t){return e.hasOwnProperty("duration")?e:function $e(e,n,t){let r,o=0,l="";if("string"==typeof e){const h=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return n.push(a6()),{duration:0,delay:0,easing:""};r=qe(parseFloat(h[1]),h[2]);const f=h[3];null!=f&&(o=qe(parseFloat(f),h[4]));const m=h[5];m&&(l=m)}else r=e;if(!t){let h=!1,f=n.length;r<0&&(n.push(function gJ(){return new dt(3100,!1)}()),h=!0),o<0&&(n.push(function mJ(){return new dt(3101,!1)}()),h=!0),h&&n.splice(f,0,a6())}return{duration:r,delay:o,easing:l}}(e,n,t)}function ot(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function bt(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function kt(e,n=new Map,t){if(t)for(let[i,r]of t)n.set(i,r);for(let[i,r]of e)n.set(i,r);return n}function Rt(e,n,t){return t?n+":"+t+";":""}function dn(e){let n="";for(let t=0;t<e.style.length;t++){const i=e.style.item(t);n+=Rt(0,i,e.style.getPropertyValue(i))}for(const t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=Rt(0,Or(t),e.style[t]));e.setAttribute("style",n)}function ln(e,n,t){e.style&&(n.forEach((i,r)=>{const o=gl(r);t&&!t.has(r)&&t.set(r,e.style[o]),e.style[o]=i}),d()&&dn(e))}function mn(e,n){e.style&&(n.forEach((t,i)=>{const r=gl(i);e.style[r]=""}),d()&&dn(e))}function Xr(e){return Array.isArray(e)?1==e.length?e[0]:RV(e):e}const Ii=new RegExp("{{\\s*(.+?)\\s*}}","g");function zi(e){let n=[];if("string"==typeof e){let t;for(;t=Ii.exec(e);)n.push(t[1]);Ii.lastIndex=0}return n}function lo(e,n,t){const i=e.toString(),r=i.replace(Ii,(o,l)=>{let h=n[l];return null==h&&(t.push(function VV(e){return new dt(3003,!1)}()),h=""),h.toString()});return r==i?e:r}function Br(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const $l=/-+([a-z0-9])/g;function gl(e){return e.replace($l,(...n)=>n[1].toUpperCase())}function Or(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ai(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function HV(e){return new dt(3004,!1)}()}}function On(e,n){return window.getComputedStyle(e)[n]}function Pwe(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function Awe(e,n,t){if(":"==e[0]){const f=function zwe(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return n.push(function bJ(e){return new dt(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof f)return void n.push(f);e=f}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function $V(e){return new dt(3015,!1)}()),n;const r=i[1],o=i[2],l=i[3];n.push(Fue(r,l));"<"==o[0]&&!("*"==r&&"*"==l)&&n.push(Fue(l,r))}(i,t,n)):t.push(e),t}const JV=new Set(["true","1"]),eH=new Set(["false","0"]);function Fue(e,n){const t=JV.has(e)||eH.has(e),i=JV.has(n)||eH.has(n);return(r,o)=>{let l="*"==e||e==r,h="*"==n||n==o;return!l&&t&&"boolean"==typeof r&&(l=r?JV.has(e):eH.has(e)),!h&&i&&"boolean"==typeof o&&(h=o?JV.has(n):eH.has(n)),l&&h}}const kwe=new RegExp("s*:selfs*,?","g");function TJ(e,n,t,i){return new Owe(e).build(n,t,i)}class Owe{constructor(n){this._driver=n}build(n,t,i){const r=new Lwe(t);return this._resetContextStyleTimingState(r),ai(this,Xr(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],l=[];return"@"==n.name.charAt(0)&&t.errors.push(function yJ(){return new dt(3006,!1)}()),n.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const f=h,m=f.name;m.toString().split(/\s*,\s*/).forEach(_=>{f.name=_,o.push(this.visitState(f,t))}),f.name=m}else if(1==h.type){const f=this.visitTransition(h,t);i+=f.queryCount,r+=f.depCount,l.push(f)}else t.errors.push(function J7(){return new dt(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(n,t){const i=this.visitStyle(n.styles,t),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(f=>{zi(f).forEach(m=>{l.hasOwnProperty(m)||o.add(m)})})}),o.size&&(Br(o.values()),t.errors.push(function YV(e,n){return new dt(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const i=ai(this,Xr(n.animation),t);return{type:1,matchers:Pwe(n.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:c6(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(i=>ai(this,i,t)),options:c6(n.options)}}visitGroup(n,t){const i=t.currentTime;let r=0;const o=n.steps.map(l=>{t.currentTime=i;const h=ai(this,l,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:c6(n.options)}}visitAnimate(n,t){const i=function Nwe(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return MJ(ft(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=MJ(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=ft(t,n);return MJ(r.duration,r.delay,r.easing)}(n.timings,t.errors);t.currentAnimateTimings=i;let r,o=n.styles?n.styles:kn({});if(5==o.type)r=this.visitKeyframes(o,t);else{let l=n.styles,h=!1;if(!l){h=!0;const m={};i.easing&&(m.easing=i.easing),l=kn(m)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(l,t);f.isEmptyStep=h,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,t){const i=this._makeStyleAst(n,t);return this._validateStyleAst(i,t),i}_makeStyleAst(n,t){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let h of r)"string"==typeof h?h===Cd?i.push(h):t.errors.push(new dt(3002,!1)):i.push(bt(h));let o=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!o))for(let f of h.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,f)=>{const m=t.collectedStyles.get(t.currentQuerySelector),_=m.get(f);let b=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(t.errors.push(function UV(e,n,t,i,r){return new dt(3010,!1)}()),b=!1),o=_.startTime),b&&m.set(f,{startTime:o,endTime:r}),t.options&&function To(e,n,t){const i=n.params||{},r=zi(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function vJ(e){return new dt(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(n,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function GV(){return new dt(3011,!1)}()),i;let o=0;const l=[];let h=!1,f=!1,m=0;const _=n.steps.map(V=>{const G=this._makeStyleAst(V,t);let X=null!=G.offset?G.offset:function Rwe(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(G.styles),K=0;return null!=X&&(o++,K=G.offset=X),f=f||K<0||K>1,h=h||K<m,m=K,l.push(K),G});f&&t.errors.push(function kz(){return new dt(3012,!1)}()),h&&t.errors.push(function xJ(){return new dt(3200,!1)}());const b=n.steps.length;let S=0;o>0&&o<b?t.errors.push(function nw(){return new dt(3202,!1)}()):0==o&&(S=1/(b-1));const M=b-1,O=t.currentTime,I=t.currentAnimateTimings,N=I.duration;return _.forEach((V,G)=>{const X=S>0?G==M?1:S*G:l[G],K=X*N;t.currentTime=O+I.delay+K,I.duration=K,this._validateStyleAst(V,t),V.offset=X,i.styles.push(V)}),i}visitReference(n,t){return{type:8,animation:ai(this,Xr(n.animation),t),options:c6(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:c6(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:c6(n.options)}}visitQuery(n,t){const i=t.currentQuerySelector,r=n.options||{};t.queryCount++,t.currentQuery=n;const[o,l]=function Ewe(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(kwe,"")),e=e.replace(/@\*/g,Me).replace(/@\w+/g,t=>Me+"-"+t.slice(1)).replace(/:animating/g,Ie),[e,n]}(n.selector);t.currentQuerySelector=i.length?i+" "+o:o,C(t.collectedStyles,t.currentQuerySelector,new Map);const h=ai(this,Xr(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:n.selector,options:c6(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function WV(){return new dt(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:ft(n.timings,t.errors,!0);return{type:12,animation:ai(this,Xr(n.animation),t),timings:i,options:null}}}class Lwe{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function c6(e){return e?(e=ot(e)).params&&(e.params=function Iwe(e){return e?ot(e):null}(e.params)):e={},e}function MJ(e,n,t){return{duration:e,delay:n,easing:t}}function DJ(e,n,t,i,r,o,l=null,h=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:h}}class tH{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Vwe=new RegExp(":enter","g"),Ywe=new RegExp(":leave","g");function PJ(e,n,t,i,r,o=new Map,l=new Map,h,f,m=[]){return(new Uwe).buildKeyframes(e,n,t,i,r,o,l,h,f,m)}class Uwe{buildKeyframes(n,t,i,r,o,l,h,f,m,_=[]){m=m||new tH;const b=new AJ(n,t,m,r,o,_,[]);b.options=f;const S=f.delay?Ue(f.delay):0;b.currentTimeline.delayNextStep(S),b.currentTimeline.setStyles([l],null,b.errors,f),ai(this,i,b);const M=b.timelines.filter(O=>O.containsAnimation());if(M.length&&h.size){let O;for(let I=M.length-1;I>=0;I--){const N=M[I];if(N.element===t){O=N;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([h],null,b.errors,f)}return M.length?M.map(O=>O.buildKeyframes()):[DJ(t,[],[],[],0,S,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(n.options),o=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&t.transformIntoNewTimeline(l)}t.previousNode=n}visitAnimateRef(n,t){const i=t.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,i),this.visitReference(n.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,i){for(const r of n){const o=r?.delay;if(o){const l="number"==typeof o?o:Ue(lo(o,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(n,t,i){let o=t.currentTimeline.currentTime;const l=null!=i.duration?Ue(i.duration):null,h=null!=i.delay?Ue(i.delay):null;return 0!==l&&n.forEach(f=>{const m=t.appendInstructionToTimeline(f,l,h);o=Math.max(o,m.duration+m.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),ai(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const i=t.subContextCount;let r=t;const o=n.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nH);const l=Ue(o.delay);r.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>ai(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const i=[];let r=t.currentTimeline.currentTime;const o=n.options&&n.options.delay?Ue(n.options.delay):0;n.steps.forEach(l=>{const h=t.createSubContext(n.options);o&&h.delayNextStep(o),ai(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const i=n.strValue;return ft(t.params?lo(i,t.params,t.errors):i,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const i=t.currentAnimateTimings=this._visitTiming(n.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,n.styles.forEach(f=>{h.forwardTime((f.offset||0)*o),h.setStyles(f.styles,f.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=n}visitQuery(n,t){const i=t.currentTimeline.currentTime,r=n.options||{},o=r.delay?Ue(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nH);let l=i;const h=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let f=null;h.forEach((m,_)=>{t.currentQueryIndex=_;const b=t.createSubContext(n.options,m);o&&b.delayNextStep(o),m===t.element&&(f=b.currentTimeline),ai(this,n.animation,b),b.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,b.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const i=t.parentContext,r=t.currentTimeline,o=n.timings,l=Math.abs(o.duration),h=l*(t.currentQueryTotal-1);let f=l*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=h-f;break;case"full":f=i.currentStaggerTime}const _=t.currentTimeline;f&&_.delayNextStep(f);const b=_.currentTime;ai(this,n.animation,t),t.previousNode=n,i.currentStaggerTime=r.currentTime-b+(r.startTime-i.currentTimeline.startTime)}}const nH={};class AJ{constructor(n,t,i,r,o,l,h,f){this._driver=n,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nH,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new iH(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Ue(i.duration)),null!=i.delay&&(r.delay=Ue(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=lo(o[h],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const i=n.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return n}createSubContext(n=null,t,i){const r=t||this.element,o=new AJ(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=nH,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,i){const r={duration:t??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new Gwe(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,i,r,o,l){let h=[];if(r&&h.push(this.element),n.length>0){n=(n=n.replace(Vwe,"."+this._enterClassName)).replace(Ywe,"."+this._leaveClassName);let m=this._driver.query(this.element,n,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),h.push(...m)}return!o&&0==h.length&&l.push(function jV(e){return new dt(3014,!1)}()),h}}class iH{constructor(n,t,i,r){this._driver=n,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new iH(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Cd),this._currentKeyframe.set(t,Cd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},l=function Wwe(e,n){const t=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||n.keys();for(let o of i)t.set(o,Cd)}else kt(r,t)}),t}(n,this._globalTimelineStyles);for(let[h,f]of l){const m=lo(f,o,i);this._pendingStyles.set(h,m),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Cd),this._updateStyle(h,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,f)=>{const m=kt(h,new Map,this._backFill);m.forEach((_,b)=>{"!"===_?n.add(b):_===Cd&&t.add(b)}),i||m.set("offset",f/this.duration),r.push(m)});const o=n.size?Br(n.values()):[],l=t.size?Br(t.values()):[];if(i){const h=r[0],f=new Map(h);h.set("offset",0),f.set("offset",1),r=[h,f]}return DJ(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class Gwe extends iH{constructor(n,t,i,r,o,l,h=!1){super(n,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],l=i+t,h=t/l,f=kt(n[0]);f.set("offset",0),o.push(f);const m=kt(n[0]);m.set("offset",Hue(h)),o.push(m);const _=n.length-1;for(let b=1;b<=_;b++){let S=kt(n[b]);const M=S.get("offset");S.set("offset",Hue((t+M*i)/l)),o.push(S)}i=l,t=0,r="",n=o}return DJ(this.element,n,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Hue(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class zJ{}const jwe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $we extends zJ{normalizePropertyName(n,t){return gl(n)}normalizeStyleValue(n,t,i,r){let o="";const l=i.toString().trim();if(jwe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function _J(e,n){return new dt(3005,!1)}())}return l+o}}function Yue(e,n,t,i,r,o,l,h,f,m,_,b,S){return{type:0,element:e,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:l,timelines:h,queriedElements:f,preStyleProps:m,postStyleProps:_,totalTime:b,errors:S}}const kJ={};class Uue{constructor(n,t,i){this._triggerName=n,this.ast=t,this._stateStyles=i}match(n,t,i,r){return function Xwe(e,n,t,i,r){return e.some(o=>o(n,t,i,r))}(this.ast.matchers,n,t,i,r)}buildStyles(n,t,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(t,i):new Map}build(n,t,i,r,o,l,h,f,m,_){const b=[],S=this.ast.options&&this.ast.options.params||kJ,O=this.buildStyles(i,h&&h.params||kJ,b),I=f&&f.params||kJ,N=this.buildStyles(r,I,b),V=new Set,G=new Map,X=new Map,K="void"===r,ne={params:qwe(I,S),delay:this.ast.options?.delay},ie=_?[]:PJ(n,t,this.ast.animation,o,l,O,N,ne,m,b);let pe=0;if(ie.forEach(ye=>{pe=Math.max(ye.duration+ye.delay,pe)}),b.length)return Yue(t,this._triggerName,i,r,K,O,N,[],[],G,X,pe,b);ie.forEach(ye=>{const Se=ye.element,xe=C(G,Se,new Set);ye.preStyleProps.forEach(Pe=>xe.add(Pe));const De=C(X,Se,new Set);ye.postStyleProps.forEach(Pe=>De.add(Pe)),Se!==t&&V.add(Se)});const ve=Br(V.values());return Yue(t,this._triggerName,i,r,K,O,N,ie,ve,G,X,pe)}}function qwe(e,n){const t=ot(n);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(t[i]=e[i]);return t}class Zwe{constructor(n,t,i){this.styles=n,this.defaultParams=t,this.normalizer=i}buildStyles(n,t){const i=new Map,r=ot(this.defaultParams);return Object.keys(n).forEach(o=>{const l=n[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,h)=>{l&&(l=lo(l,r,t));const f=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,f,l,t),i.set(h,l)})}),i}}class Qwe{constructor(n,t,i){this.name=n,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Zwe(r.style,r.options&&r.options.params||{},i))}),Gue(this.states,"true","1"),Gue(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Uue(n,r,this.states))}),this.fallbackTransition=function Jwe(e,n,t){return new Uue(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,i,r){return this.transitionFactories.find(l=>l.match(n,t,i,r))||null}matchStyles(n,t,i){return this.fallbackTransition.buildStyles(n,t,i)}}function Gue(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const eSe=new tH;class tSe{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const i=[],o=TJ(this._driver,t,i,[]);if(i.length)throw function Ez(e){return new dt(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,t,i){const r=n.element,o=g(0,this._normalizer,0,n.keyframes,t,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,i={}){const r=[],o=this._animations.get(n);let l;const h=new Map;if(o?(l=PJ(this._driver,t,o,be,we,new Map,new Map,i,eSe,r),l.forEach(_=>{const b=C(h,_.element,new Map);_.postStyleProps.forEach(S=>b.set(S,null))})):(r.push(function Iz(){return new dt(3300,!1)}()),l=[]),r.length)throw function v4(e){return new dt(3504,!1)}();h.forEach((_,b)=>{_.forEach((S,M)=>{_.set(M,this._driver.computeStyle(b,M,Cd))})});const m=p(l.map(_=>{const b=h.get(_.element);return this._buildPlayer(_,new Map,b)}));return this._playersById.set(n,m),m.onDestroy(()=>this.destroy(n)),this.players.push(m),m}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function wJ(e){return new dt(3301,!1)}();return t}listen(n,t,i,r){const o=x(t,"","","");return v(this._getPlayer(n),i,o,r),()=>{}}command(n,t,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,t,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const Wue="ng-animate-queued",OJ="ng-animate-disabled",aSe=[],jue={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sSe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uf="__ng_removed";class EJ{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const i=n&&n.hasOwnProperty("value");if(this.value=function hSe(e){return e??null}(i?n.value:n),i){const o=ot(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Lz="void",IJ=new EJ(Lz);class lSe{constructor(n,t,i){this.id=n,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Gf(t,this._hostClassName)}listen(n,t,i,r){if(!this._triggers.has(t))throw function qV(e,n){return new dt(3302,!1)}();if(null==i||0==i.length)throw function ZV(e){return new dt(3303,!1)}();if(!function dSe(e){return"start"==e||"done"==e}(i))throw function KV(e,n){return new dt(3400,!1)}();const o=C(this._elementListeners,n,[]),l={name:t,phase:i,callback:r};o.push(l);const h=C(this._engine.statesByElement,n,new Map);return h.has(t)||(Gf(n,Te),Gf(n,Te+"-"+t),h.set(t,IJ)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(l);f>=0&&o.splice(f,1),this._triggers.has(t)||h.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function cm(e){return new dt(3401,!1)}();return t}trigger(n,t,i,r=!0){const o=this._getTrigger(t),l=new LJ(this.id,t,n);let h=this._engine.statesByElement.get(n);h||(Gf(n,Te),Gf(n,Te+"-"+t),this._engine.statesByElement.set(n,h=new Map));let f=h.get(t);const m=new EJ(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),h.set(t,m),f||(f=IJ),m.value!==Lz&&f.value===m.value){if(!function gSe(e,n){const t=Object.keys(e),i=Object.keys(n);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}(f.params,m.params)){const I=[],N=o.matchStyles(f.value,f.params,I),V=o.matchStyles(m.value,m.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{mn(n,N),ln(n,V)})}return}const S=C(this._engine.playersByElement,n,[]);S.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let M=o.matchTransition(f.value,m.value,n,m.params),O=!1;if(!M){if(!r)return;M=o.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:M,fromState:f,toState:m,player:l,isFallbackTransition:O}),O||(Gf(n,Wue),l.onStart(()=>{iw(n,Wue)})),l.onDone(()=>{let I=this.players.indexOf(l);I>=0&&this.players.splice(I,1);const N=this._engine.playersByElement.get(n);if(N){let V=N.indexOf(l);V>=0&&N.splice(V,1)}}),this.players.push(l),S.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const i=this._engine.driver.query(n,Me,!0);i.forEach(r=>{if(r[Uf])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,t,i,r){const o=this._engine.statesByElement.get(n),l=new Map;if(o){const h=[];if(o.forEach((f,m)=>{if(l.set(m,f.value),this._triggers.has(m)){const _=this.trigger(n,m,Lz,r);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,l),i&&p(h).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(t&&i){const r=new Set;t.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,m=i.get(l)||IJ,_=new EJ(Lz),b=new LJ(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:f,fromState:m,toState:_,player:b,isFallbackTransition:!0})})}}removeNode(n,t){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let l=n;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,t);else{const o=n[Uf];(!o||o===jue)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,t))}}insertNode(n,t){Gf(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(h=>{if(h.name==i.triggerName){const f=x(o,i.triggerName,i.fromState.value,i.toState.value);f._data=n,v(i.player,h.phase,f,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(i=>i.element===n)||t,t}}class cSe{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,i){this.bodyNode=n,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,t){const i=new lSe(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const f=r.get(h);if(f){const m=i.indexOf(f);i.splice(m+1,0,n),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(n)}else i.push(n);return r.set(t,n),n}register(n,t){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,t)),i}registerTrigger(n,t,i){let r=this._namespaceLookup[n];r&&r.register(t,i)&&this.totalAnimations++}destroy(n,t){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(n,t,i,r){if(rH(t)){const o=this._fetchNamespace(n);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(n,t,i,r){if(!rH(t))return;const o=t[Uf];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Gf(n,OJ)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),iw(n,OJ))}removeNode(n,t,i,r){if(rH(t)){const o=n?this._fetchNamespace(n):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==n&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,i,r,o){this.collectedLeaveElements.push(t),t[Uf]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,i,r,o){return rH(t)?this._fetchNamespace(n).listen(t,i,r,o):()=>{}}_buildInstruction(n,t,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,Me,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Ie,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return p(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Uf];if(t&&t.setForRemoval){if(n[Uf]=jue,t.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(OJ)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Gf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?p(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function QV(e){return new dt(3402,!1)}()}_flushAnimations(n,t){const i=new tH,r=[],o=new Map,l=[],h=new Map,f=new Map,m=new Map,_=new Set;this.disabledNodes.forEach(Oe=>{_.add(Oe);const Ye=this.driver.query(Oe,".ng-animate-queued",!0);for(let Ge=0;Ge<Ye.length;Ge++)_.add(Ye[Ge])});const b=this.bodyNode,S=Array.from(this.statesByElement.keys()),M=que(S,this.collectedEnterElements),O=new Map;let I=0;M.forEach((Oe,Ye)=>{const Ge=be+I++;O.set(Ye,Ge),Oe.forEach(ct=>Gf(ct,Ge))});const N=[],V=new Set,G=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const Ye=this.collectedLeaveElements[Oe],Ge=Ye[Uf];Ge&&Ge.setForRemoval&&(N.push(Ye),V.add(Ye),Ge.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(ct=>V.add(ct)):G.add(Ye))}const X=new Map,K=que(S,Array.from(V));K.forEach((Oe,Ye)=>{const Ge=we+I++;X.set(Ye,Ge),Oe.forEach(ct=>Gf(ct,Ge))}),n.push(()=>{M.forEach((Oe,Ye)=>{const Ge=O.get(Ye);Oe.forEach(ct=>iw(ct,Ge))}),K.forEach((Oe,Ye)=>{const Ge=X.get(Ye);Oe.forEach(ct=>iw(ct,Ge))}),N.forEach(Oe=>{this.processLeaveNode(Oe)})});const ne=[],ie=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(t).forEach(Ge=>{const ct=Ge.player,We=Ge.element;if(ne.push(ct),this.collectedEnterElements.length){const vn=We[Uf];if(vn&&vn.setForMove){if(vn.previousTriggersValues&&vn.previousTriggersValues.has(Ge.triggerName)){const Nn=vn.previousTriggersValues.get(Ge.triggerName),ht=this.statesByElement.get(Ge.element);if(ht&&ht.has(Ge.triggerName)){const Yt=ht.get(Ge.triggerName);Yt.value=Nn,ht.set(Ge.triggerName,Yt)}}return void ct.destroy()}}const Tt=!b||!this.driver.containsElement(b,We),Lt=X.get(We),An=O.get(We),Qt=this._buildInstruction(Ge,i,An,Lt,Tt);if(Qt.errors&&Qt.errors.length)return void ie.push(Qt);if(Tt)return ct.onStart(()=>mn(We,Qt.fromStyles)),ct.onDestroy(()=>ln(We,Qt.toStyles)),void r.push(ct);if(Ge.isFallbackTransition)return ct.onStart(()=>mn(We,Qt.fromStyles)),ct.onDestroy(()=>ln(We,Qt.toStyles)),void r.push(ct);const zn=[];Qt.timelines.forEach(vn=>{vn.stretchStartingKeyframe=!0,this.disabledNodes.has(vn.element)||zn.push(vn)}),Qt.timelines=zn,i.append(We,Qt.timelines),l.push({instruction:Qt,player:ct,element:We}),Qt.queriedElements.forEach(vn=>C(h,vn,[]).push(ct)),Qt.preStyleProps.forEach((vn,Nn)=>{if(vn.size){let ht=f.get(Nn);ht||f.set(Nn,ht=new Set),vn.forEach((Yt,gn)=>ht.add(gn))}}),Qt.postStyleProps.forEach((vn,Nn)=>{let ht=m.get(Nn);ht||m.set(Nn,ht=new Set),vn.forEach((Yt,gn)=>ht.add(gn))})});if(ie.length){const Oe=[];ie.forEach(Ye=>{Oe.push(function s(e,n){return new dt(3505,!1)}())}),ne.forEach(Ye=>Ye.destroy()),this.reportError(Oe)}const pe=new Map,ve=new Map;l.forEach(Oe=>{const Ye=Oe.element;i.has(Ye)&&(ve.set(Ye,Ye),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,pe))}),r.forEach(Oe=>{const Ye=Oe.element;this._getPreviousPlayers(Ye,!1,Oe.namespaceId,Oe.triggerName,null).forEach(ct=>{C(pe,Ye,[]).push(ct),ct.destroy()})});const ye=N.filter(Oe=>Kue(Oe,f,m)),Se=new Map;Xue(Se,this.driver,G,m,Cd).forEach(Oe=>{Kue(Oe,f,m)&&ye.push(Oe)});const De=new Map;M.forEach((Oe,Ye)=>{Xue(De,this.driver,new Set(Oe),f,"!")}),ye.forEach(Oe=>{const Ye=Se.get(Oe),Ge=De.get(Oe);Se.set(Oe,new Map([...Array.from(Ye?.entries()??[]),...Array.from(Ge?.entries()??[])]))});const Pe=[],Re=[],ke={};l.forEach(Oe=>{const{element:Ye,player:Ge,instruction:ct}=Oe;if(i.has(Ye)){if(_.has(Ye))return Ge.onDestroy(()=>ln(Ye,ct.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(ct.totalTime),void r.push(Ge);let We=ke;if(ve.size>1){let Lt=Ye;const An=[];for(;Lt=Lt.parentNode;){const Qt=ve.get(Lt);if(Qt){We=Qt;break}An.push(Lt)}An.forEach(Qt=>ve.set(Qt,We))}const Tt=this._buildAnimation(Ge.namespaceId,ct,pe,o,De,Se);if(Ge.setRealPlayer(Tt),We===ke)Pe.push(Ge);else{const Lt=this.playersByElement.get(We);Lt&&Lt.length&&(Ge.parentPlayer=p(Lt)),r.push(Ge)}}else mn(Ye,ct.fromStyles),Ge.onDestroy(()=>ln(Ye,ct.toStyles)),Re.push(Ge),_.has(Ye)&&r.push(Ge)}),Re.forEach(Oe=>{const Ye=o.get(Oe.element);if(Ye&&Ye.length){const Ge=p(Ye);Oe.setRealPlayer(Ge)}}),r.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<N.length;Oe++){const Ye=N[Oe],Ge=Ye[Uf];if(iw(Ye,we),Ge&&Ge.hasAnimation)continue;let ct=[];if(h.size){let Tt=h.get(Ye);Tt&&Tt.length&&ct.push(...Tt);let Lt=this.driver.query(Ye,Ie,!0);for(let An=0;An<Lt.length;An++){let Qt=h.get(Lt[An]);Qt&&Qt.length&&ct.push(...Qt)}}const We=ct.filter(Tt=>!Tt.destroyed);We.length?fSe(this,Ye,We):this.processLeaveNode(Ye)}return N.length=0,Pe.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const Ye=this.players.indexOf(Oe);this.players.splice(Ye,1)}),Oe.play()}),Pe}elementContainsData(n,t){let i=!1;const r=t[Uf];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(n).elementContainsData(t)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,i,r,o){let l=[];if(t){const h=this.playersByQueriedElement.get(n);h&&(l=h)}else{const h=this.playersByElement.get(n);if(h){const f=!o||o==Lz;h.forEach(m=>{m.queued||!f&&m.triggerName!=r||l.push(m)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(n,t,i){const o=t.element,l=t.isRemovalTransition?void 0:n,h=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const m=f.element,_=m!==o,b=C(i,m,[]);this._getPreviousPlayers(m,_,l,h,t.toState).forEach(M=>{const O=M.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),M.destroy(),b.push(M)})}mn(o,t.fromStyles)}_buildAnimation(n,t,i,r,o,l){const h=t.triggerName,f=t.element,m=[],_=new Set,b=new Set,S=t.timelines.map(O=>{const I=O.element;_.add(I);const N=I[Uf];if(N&&N.removedBeforeQueried)return new o6(O.duration,O.delay);const V=I!==f,G=function pSe(e){const n=[];return Zue(e,n),n}((i.get(I)||aSe).map(pe=>pe.getRealPlayer())).filter(pe=>!!pe.element&&pe.element===I),X=o.get(I),K=l.get(I),ne=g(0,this._normalizer,0,O.keyframes,X,K),ie=this._buildPlayer(O,ne,G);if(O.subTimeline&&r&&b.add(I),V){const pe=new LJ(n,h,I);pe.setRealPlayer(ie),m.push(pe)}return ie});m.forEach(O=>{C(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function uSe(e,n,t){let i=e.get(n);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&e.delete(n)}return i}(this.playersByQueriedElement,O.element,O))}),_.forEach(O=>Gf(O,Ae));const M=p(S);return M.onDestroy(()=>{_.forEach(O=>iw(O,Ae)),ln(f,t.toStyles)}),b.forEach(O=>{C(r,O,[]).push(M)}),M}_buildPlayer(n,t,i){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,i):new o6(n.duration,n.delay)}}class LJ{constructor(n,t,i){this.namespaceId=n,this.triggerName=t,this.element=i,this._player=new o6,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>v(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){C(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function rH(e){return e&&1===e.nodeType}function $ue(e,n){const t=e.style.display;return e.style.display=n??"none",t}function Xue(e,n,t,i,r){const o=[];t.forEach(f=>o.push($ue(f)));const l=[];i.forEach((f,m)=>{const _=new Map;f.forEach(b=>{const S=n.computeStyle(m,b,r);_.set(b,S),(!S||0==S.length)&&(m[Uf]=sSe,l.push(m))}),e.set(m,_)});let h=0;return t.forEach(f=>$ue(f,o[h++])),l}function que(e,n){const t=new Map;if(e.forEach(h=>t.set(h,[])),0==n.length)return t;const r=new Set(n),o=new Map;function l(h){if(!h)return 1;let f=o.get(h);if(f)return f;const m=h.parentNode;return f=t.has(m)?m:r.has(m)?1:l(m),o.set(h,f),f}return n.forEach(h=>{const f=l(h);1!==f&&t.get(f).push(h)}),t}function Gf(e,n){e.classList?.add(n)}function iw(e,n){e.classList?.remove(n)}function fSe(e,n,t){p(t).onDone(()=>e.processLeaveNode(n))}function Zue(e,n){for(let t=0;t<e.length;t++){const i=e[t];i instanceof BV?Zue(i.players,n):n.push(i)}}function Kue(e,n,t){const i=t.get(e);if(!i)return!1;let r=n.get(e);return r?i.forEach(o=>r.add(o)):n.set(e,i),t.delete(e),!0}class oH{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cSe(n,t,i),this._timelineEngine=new tSe(n,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,t,i,r,o){const l=n+"-"+r;let h=this._triggerCache[l];if(!h){const f=[],_=TJ(this._driver,o,f,[]);if(f.length)throw function CJ(e,n){return new dt(3404,!1)}();h=function Kwe(e,n,t){return new Qwe(e,n,t)}(r,_,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,r,h)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,i,r){this._transitionEngine.insertNode(n,t,i,r)}onRemove(n,t,i,r){this._transitionEngine.removeNode(n,t,r||!1,i)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,i,r){if("@"==i.charAt(0)){const[o,l]=w(i);this._timelineEngine.command(o,t,l,r)}else this._transitionEngine.trigger(n,t,i,r)}listen(n,t,i,r,o){if("@"==i.charAt(0)){const[l,h]=w(i);return this._timelineEngine.listen(l,t,h,o)}return this._transitionEngine.listen(n,t,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vSe=(()=>{class e{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ln(this._element,this._initialStyles),this._endStyles&&(ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(mn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mn(this._element,this._endStyles),this._endStyles=null),ln(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function RJ(e){let n=null;return e.forEach((t,i)=>{(function _Se(e){return"display"===e||"position"===e})(i)&&(n=n||new Map,n.set(i,t))}),n}class Que{constructor(n,t,i,r){this.element=n,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(n,t,i){return n.animate(this._convertKeyframesToObject(t),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:On(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ySe{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return q(n,t)}getParentElement(n){return k(n)}query(n,t,i){return Q(n,t,i)}computeStyle(n,t,i){return window.getComputedStyle(n)[t]}animate(n,t,i,r,o,l=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const m=new Map,_=l.filter(M=>M instanceof Que);(function _i(e,n){return 0===e||0===n})(i,r)&&_.forEach(M=>{M.currentSnapshot.forEach((O,I)=>m.set(I,O))});let b=function gt(e){return e.length?e[0]instanceof Map?e:e.map(n=>bt(n)):[]}(t).map(M=>kt(M));b=function Tr(e,n,t){if(t.size&&n.length){let i=n[0],r=[];if(t.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<n.length;o++){let l=n[o];r.forEach(h=>l.set(h,On(e,h)))}}return n}(n,b,m);const S=function mSe(e,n){let t=null,i=null;return Array.isArray(n)&&n.length?(t=RJ(n[0]),n.length>1&&(i=RJ(n[n.length-1]))):n instanceof Map&&(t=RJ(n)),t||i?new vSe(e,t,i):null}(n,b);return new Que(n,b,f,S)}}let xSe=(()=>{class e extends LV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:il.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?RV(t):t;return Jue(this._renderer,null,i,"register",[r]),new bSe(i,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Ve(Kp),Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class bSe extends fJ{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new CSe(this._id,n,t||{},this._renderer)}}class CSe{constructor(n,t,i,r){this.id=n,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return Jue(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Jue(e,n,t,i,r){return e.setProperty(n,`@@${t}:${i}`,r)}const ehe="@.disabled";let wSe=(()=>{class e{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const h=l?.parentNode(o);h&&l.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(o);return _||(_=new the("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,_)),_}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const f=_=>{Array.isArray(_)?_.forEach(f):this.engine.registerTrigger(l,h,t,_.name,_)};return i.data.animation.forEach(f),new SSe(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,h]=o;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Ve(Kp),Ve(oH),Ve(en))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class the{constructor(n,t,i,r){this.namespaceId=n,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,i,r=!0){this.delegate.insertBefore(n,t,i),this.engine.onInsert(this.namespaceId,t,n,r)}removeChild(n,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,i,r){this.delegate.setAttribute(n,t,i,r)}removeAttribute(n,t,i){this.delegate.removeAttribute(n,t,i)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,i,r){this.delegate.setStyle(n,t,i,r)}removeStyle(n,t,i){this.delegate.removeStyle(n,t,i)}setProperty(n,t,i){"@"==t.charAt(0)&&t==ehe?this.disableAnimations(n,!!i):this.delegate.setProperty(n,t,i)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,i){return this.delegate.listen(n,t,i)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class SSe extends the{constructor(n,t,i,r,o){super(t,i,r,o),this.factory=n,this.namespaceId=t}setProperty(n,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ehe?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,t.slice(1),i):this.delegate.setProperty(n,t,i)}listen(n,t,i){if("@"==t.charAt(0)){const r=function TSe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let o=t.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function MSe(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(n,t,i)}}let DSe=(()=>{class e extends oH{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki),Ve(ae),Ve(zJ),Ve(If))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const nhe=[{provide:LV,useClass:xSe},{provide:zJ,useFactory:function PSe(){return new $we}},{provide:oH,useClass:DSe},{provide:Kp,useFactory:function ASe(e,n,t){return new wSe(e,n,t)},deps:[e7,oH,en]}],NJ=[{provide:ae,useFactory:()=>new ySe},{provide:V_,useValue:"BrowserAnimations"},...nhe],ihe=[{provide:ae,useClass:oe},{provide:V_,useValue:"NoopAnimations"},...nhe];let zSe=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?ihe:NJ}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:NJ,imports:[JF]}),e})();class kSe extends Ci{constructor(n,t){super()}schedule(n,t=0){return this}}const sH={setInterval(...e){const{delegate:n}=sH;return(n?.setInterval||setInterval)(...e)},clearInterval(e){const{delegate:n}=sH;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class lH extends kSe{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(n,t,i=0){return sH.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;sH.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bi(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const FJ={now:()=>(FJ.delegate||Date).now(),delegate:void 0};class Rz{constructor(n,t=Rz.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}Rz.now=FJ.now;class cH extends Rz{constructor(n,t=Rz.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}const ISe=new class ESe extends cH{}(class OSe extends lH{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,t,i):n.flush(this)}});function BJ(...e){const n=b3(e);return Gt((t,i)=>{const r=e.length,o=new Array(r);let l=e.map(()=>!1),h=!1;for(let f=0;f<r;f++)Fo(e[f]).subscribe(new rt(i,m=>{o[f]=m,!h&&!l[f]&&(l[f]=!0,(h=l.every(jt))&&(l=null))},oc));t.subscribe(new rt(i,f=>{if(h){const m=[f,...o];i.next(n?n(...m):m)}}))})}function Ih(e,n=jt){return e=e??RSe,Gt((t,i)=>{let r,o=!0;t.subscribe(new rt(i,l=>{const h=n(l);(o||!e(r,h))&&(o=!1,r=h,i.next(l))}))})}function RSe(e,n){return e===n}const Nz={},rhe="@ngrx/store/init";let u6=(()=>{class e extends wn{constructor(){super({type:rhe})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const HSe=[u6],YJ=new pt("@ngrx/store Internal Root Guard"),ohe=new pt("@ngrx/store Internal Initial State"),UJ=new pt("@ngrx/store Initial State"),ahe=new pt("@ngrx/store Reducer Factory"),she=new pt("@ngrx/store Internal Reducer Factory Provider"),lhe=new pt("@ngrx/store Initial Reducers"),GJ=new pt("@ngrx/store Internal Initial Reducers"),che=new pt("@ngrx/store Store Features"),uhe=new pt("@ngrx/store Internal Store Reducers"),WJ=new pt("@ngrx/store Internal Feature Reducers"),hhe=new pt("@ngrx/store Internal Feature Configs"),jJ=new pt("@ngrx/store Internal Store Features"),dhe=new pt("@ngrx/store Internal Feature Reducers Token"),$J=new pt("@ngrx/store Feature Reducers"),fhe=new pt("@ngrx/store User Provided Meta Reducers"),uH=new pt("@ngrx/store Meta Reducers"),phe=new pt("@ngrx/store Internal Resolved Meta Reducers"),ghe=new pt("@ngrx/store User Runtime Checks Config"),mhe=new pt("@ngrx/store Internal User Runtime Checks Config"),Fz=new pt("@ngrx/store Internal Runtime Checks"),Bz=new pt("@ngrx/store Check if Action types are unique");function qJ(e,n={}){const t=Object.keys(e),i={};for(let o=0;o<t.length;o++){const l=t[o];"function"==typeof e[l]&&(i[l]=e[l])}const r=Object.keys(i);return function(l,h){l=void 0===l?n:l;let f=!1;const m={};for(let _=0;_<r.length;_++){const b=r[_],M=l[b],O=(0,i[b])(M,h);m[b]=O,f=f||O!==M}return f?m:l}}function _he(...e){return function(n){if(0===e.length)return n;const t=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),t(n))}}function yhe(e,n){return Array.isArray(n)&&n.length>0&&(e=_he.apply(null,[...n,e])),(t,i)=>{const r=e(t);return(o,l)=>r(o=void 0===o?i:o,l)}}new pt("@ngrx/store Root Store Provider"),new pt("@ngrx/store Feature State Provider");class hH extends Wn{}class xhe extends u6{}let Vz=(()=>{class e extends wn{constructor(t,i,r,o){super(o(r,i)),this.dispatcher=t,this.initialState=i,this.reducers=r,this.reducerFactory=o}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const i=t.reduce((r,{reducers:o,reducerFactory:l,metaReducers:h,initialState:f,key:m})=>{const _="function"==typeof o?function USe(e){const n=Array.isArray(e)&&e.length>0?_he(...e):t=>t;return(t,i)=>(t=n(t),(r,o)=>t(r=void 0===r?i:r,o))}(h)(o,f):yhe(l,h)(o,f);return r[m]=_,r},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers={...this.reducers,...t},this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=function YSe(e,n){return Object.keys(e).filter(t=>t!==n).reduce((t,i)=>Object.assign(t,{[i]:e[i]}),{})}(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ve(xhe),Ve(UJ),Ve(lhe),Ve(ahe))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const WSe=[Vz,{provide:hH,useExisting:Vz},{provide:xhe,useExisting:u6}];let dH=(()=>{class e extends nt{ngOnDestroy(){this.complete()}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const jSe=[dH];class bhe extends Wn{}let Che=(()=>{class e extends wn{constructor(t,i,r,o){super(o);const m=t.pipe(r1(ISe)).pipe(BJ(i)).pipe(e4($Se,{state:o}));this.stateSubscription=m.subscribe(({state:_,action:b})=>{this.next(_),r.next(b)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return e.INIT=rhe,e.\u0275fac=function(t){return new(t||e)(Ve(u6),Ve(hH),Ve(dH),Ve(UJ))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function $Se(e={state:void 0},[n,t]){const{state:i}=e;return{state:t(i,n),action:n}}const XSe=[Che,{provide:bhe,useExisting:Che}];let Mc=(()=>{class e extends Wn{constructor(t,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=t}select(t,...i){return ZSe.call(null,t,...i)(this)}lift(t){const i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(bhe),Ve(u6),Ve(Vz))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const qSe=[Mc];function ZSe(e,n,...t){return function(r){let o;if("string"==typeof e){const l=[n,...t].filter(Boolean);o=r.pipe(function LSe(...e){const n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return Je(t=>{let i=t;for(let r=0;r<n;r++){const o=i?.[e[r]];if(!(typeof o<"u"))return;i=o}return i})}(e,...l))}else{if("function"!=typeof e)throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);o=r.pipe(Je(l=>e(l,n)))}return o.pipe(Ih())}}const ZJ="https://ngrx.io/guide/store/configuration/runtime-checks";function whe(e){return void 0===e}function She(e){return null===e}function The(e){return Array.isArray(e)}function Mhe(e){return"object"==typeof e&&null!==e}function KJ(e){return"function"==typeof e}function dTe(e){return e instanceof pt?bn(e):e}function fTe(e,n){return n.map((t,i)=>{if(e[i]instanceof pt){const r=bn(e[i]);return{key:t.key,reducerFactory:r.reducerFactory?r.reducerFactory:qJ,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return t})}function pTe(e){return e.map(n=>n instanceof pt?bn(n):n)}function eee(e){return"function"==typeof e?e():e}function gTe(e,n){return e.concat(n)}function mTe(){if(bn(Mc,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function tee(e){Object.freeze(e);const n=KJ(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&function nTe(e,n){return Object.prototype.hasOwnProperty.call(e,n)}(e,t)&&(!n||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const i=e[t];(Mhe(i)||KJ(i))&&!Object.isFrozen(i)&&tee(i)}}),e}function nee(e,n=[]){return(whe(e)||She(e))&&0===n.length?{path:["root"],value:e}:Object.keys(e).reduce((i,r)=>{if(i)return i;const o=e[r];return function tTe(e){return KJ(e)&&e.hasOwnProperty("\u0275cmp")}(o)?i:!(whe(o)||She(o)||function JSe(e){return"number"==typeof e}(o)||function QSe(e){return"boolean"==typeof e}(o)||function KSe(e){return"string"==typeof e}(o)||The(o))&&(function Dhe(e){if(!function eTe(e){return Mhe(e)&&!The(e)}(e))return!1;const n=Object.getPrototypeOf(e);return n===Object.prototype||null===n}(o)?nee(o,[...n,r]):{path:[...n,r],value:o})},!1)}function zhe(e,n){if(!1===e)return;const t=e.path.join("."),i=new Error(`Detected unserializable ${n} at "${t}". ${ZJ}#strict${n}serializability`);throw i.value=e.value,i.unserializablePath=t,i}function xTe(e){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function bTe({strictActionSerializability:e,strictStateSerializability:n}){return t=>e||n?function _Te(e,n){return function(t,i){n.action(i)&&zhe(nee(i),"action");const r=e(t,i);return n.state()&&zhe(nee(r),"state"),r}}(t,{action:i=>e&&!iee(i),state:()=>n}):t}function CTe({strictActionImmutability:e,strictStateImmutability:n}){return t=>e||n?function vTe(e,n){return function(t,i){const r=n.action(i)?tee(i):i,o=e(t,r);return n.state()?tee(o):o}}(t,{action:i=>e&&!iee(i),state:()=>n}):t}function iee(e){return e.type.startsWith("@ngrx")}function wTe({strictActionWithinNgZone:e}){return n=>e?function yTe(e,n){return function(t,i){if(n.action(i)&&!en.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${ZJ}#strictactionwithinngzone`);return e(t,i)}}(n,{action:t=>e&&!iee(t)}):n}function STe(e){return[{provide:mhe,useValue:e},{provide:ghe,useFactory:TTe,deps:[mhe]},{provide:Fz,deps:[ghe],useFactory:xTe},{provide:uH,multi:!0,deps:[Fz],useFactory:CTe},{provide:uH,multi:!0,deps:[Fz],useFactory:bTe},{provide:uH,multi:!0,deps:[Fz],useFactory:wTe}]}function khe(){return[{provide:Bz,multi:!0,deps:[Fz],useFactory:MTe}]}function TTe(e){return e}function MTe(e){if(!e.strictActionTypeUniqueness)return;const n=Object.entries(Nz).filter(([,t])=>t>1).map(([t])=>t);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(t=>`"${t}"`).join(", ")}. ${ZJ}#strictactiontypeuniqueness`)}function Ohe(e={},n={}){return[{provide:YJ,useFactory:mTe},{provide:ohe,useValue:n.initialState},{provide:UJ,useFactory:eee,deps:[ohe]},{provide:GJ,useValue:e},{provide:uhe,useExisting:e instanceof pt?e:GJ},{provide:lhe,deps:[GJ,[new gf(uhe)]],useFactory:dTe},{provide:fhe,useValue:n.metaReducers?n.metaReducers:[]},{provide:phe,deps:[uH,fhe],useFactory:gTe},{provide:she,useValue:n.reducerFactory?n.reducerFactory:qJ},{provide:ahe,deps:[she,phe],useFactory:yhe},HSe,WSe,jSe,XSe,qSe,STe(n.runtimeChecks),khe()]}function Ehe(e,n,t={}){return[{provide:hhe,multi:!0,useValue:e instanceof Object?{}:t},{provide:che,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:t instanceof pt||!t.reducerFactory?qJ:t.reducerFactory,metaReducers:t instanceof pt||!t.metaReducers?[]:t.metaReducers,initialState:t instanceof pt||!t.initialState?void 0:t.initialState}},{provide:jJ,deps:[hhe,che],useFactory:fTe},{provide:WJ,multi:!0,useValue:e instanceof Object?e.reducer:n},{provide:dhe,multi:!0,useExisting:n instanceof pt?n:WJ},{provide:$J,multi:!0,deps:[WJ,[new gf(dhe)]],useFactory:pTe},khe()]}let Ihe=(()=>{class e{constructor(t,i,r,o,l,h){}}return e.\u0275fac=function(t){return new(t||e)(Ve(u6),Ve(hH),Ve(dH),Ve(Mc),Ve(YJ,8),Ve(Bz,8))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})(),kTe=(()=>{class e{constructor(t,i,r,o,l){this.features=t,this.featureReducers=i,this.reducerManager=r;const h=t.map((f,m)=>{const b=i.shift()[m];return{...f,reducers:b,initialState:eee(f.initialState)}});r.addFeatures(h)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return e.\u0275fac=function(t){return new(t||e)(Ve(jJ),Ve($J),Ve(Vz),Ve(Ihe),Ve(Bz,8))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})(),OTe=(()=>{class e{static forRoot(t,i){return{ngModule:Ihe,providers:[...Ohe(t,i)]}}static forFeature(t,i,r={}){return{ngModule:kTe,providers:[...Ehe(t,i,r)]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();const rw=(...e)=>{};function Qn(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function fH(e){return(fH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fi(e){Qn(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===fH(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function rs(e){if(null===e||!0===e||!1===e)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}var Nhe={};function _4(){return Nhe}function Fhe(e,n){var t,i,r,o,l,h,f,m;Qn(1,arguments);var _=_4(),b=rs(null!==(t=null!==(i=null!==(r=null!==(o=n?.weekStartsOn)&&void 0!==o?o:null==n||null===(l=n.locale)||void 0===l||null===(h=l.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(f=_.locale)||void 0===f||null===(m=f.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==t?t:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=Fi(e),M=S.getDay(),O=(M<b?7:0)+M-b;return S.setDate(S.getDate()-O),S.setHours(0,0,0,0),S}function pH(e){return Qn(1,arguments),Fhe(e,{weekStartsOn:1})}function LTe(e){Qn(1,arguments);var n=Fi(e),t=n.getFullYear(),i=new Date(0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);var r=pH(i),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var l=pH(o);return n.getTime()>=r.getTime()?t+1:n.getTime()>=l.getTime()?t:t-1}function RTe(e){Qn(1,arguments);var n=LTe(e),t=new Date(0);t.setFullYear(n,0,4),t.setHours(0,0,0,0);var i=pH(t);return i}function gH(e){return(gH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function BTe(e){return Qn(1,arguments),e instanceof Date||"object"===gH(e)&&"[object Date]"===Object.prototype.toString.call(e)}function Bhe(e){if(Qn(1,arguments),!BTe(e)&&"number"!=typeof e)return!1;var n=Fi(e);return!isNaN(Number(n))}function VTe(e,n){Qn(2,arguments);var t=Fi(e).getTime(),i=rs(n);return new Date(t+i)}function Vhe(e,n){Qn(2,arguments);var t=rs(n);return VTe(e,-t)}function ow(e){Qn(1,arguments);var n=1,t=Fi(e),i=t.getUTCDay(),r=(i<n?7:0)+i-n;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Hhe(e){Qn(1,arguments);var n=Fi(e),t=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(t+1,0,4),i.setUTCHours(0,0,0,0);var r=ow(i),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var l=ow(o);return n.getTime()>=r.getTime()?t+1:n.getTime()>=l.getTime()?t:t-1}function UTe(e){Qn(1,arguments);var n=Hhe(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var i=ow(t);return i}function Yhe(e){Qn(1,arguments);var n=Fi(e),t=ow(n).getTime()-UTe(n).getTime();return Math.round(t/6048e5)+1}function h6(e,n){var t,i,r,o,l,h,f,m;Qn(1,arguments);var _=_4(),b=rs(null!==(t=null!==(i=null!==(r=null!==(o=n?.weekStartsOn)&&void 0!==o?o:null==n||null===(l=n.locale)||void 0===l||null===(h=l.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(f=_.locale)||void 0===f||null===(m=f.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==t?t:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=Fi(e),M=S.getUTCDay(),O=(M<b?7:0)+M-b;return S.setUTCDate(S.getUTCDate()-O),S.setUTCHours(0,0,0,0),S}function oee(e,n){var t,i,r,o,l,h,f,m;Qn(1,arguments);var _=Fi(e),b=_.getUTCFullYear(),S=_4(),M=rs(null!==(t=null!==(i=null!==(r=null!==(o=n?.firstWeekContainsDate)&&void 0!==o?o:null==n||null===(l=n.locale)||void 0===l||null===(h=l.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:S.firstWeekContainsDate)&&void 0!==i?i:null===(f=S.locale)||void 0===f||null===(m=f.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==t?t:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=new Date(0);O.setUTCFullYear(b+1,0,M),O.setUTCHours(0,0,0,0);var I=h6(O,n),N=new Date(0);N.setUTCFullYear(b,0,M),N.setUTCHours(0,0,0,0);var V=h6(N,n);return _.getTime()>=I.getTime()?b+1:_.getTime()>=V.getTime()?b:b-1}function WTe(e,n){var t,i,r,o,l,h,f,m;Qn(1,arguments);var _=_4(),b=rs(null!==(t=null!==(i=null!==(r=null!==(o=n?.firstWeekContainsDate)&&void 0!==o?o:null==n||null===(l=n.locale)||void 0===l||null===(h=l.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:_.firstWeekContainsDate)&&void 0!==i?i:null===(f=_.locale)||void 0===f||null===(m=f.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==t?t:1),S=oee(e,n),M=new Date(0);M.setUTCFullYear(S,0,b),M.setUTCHours(0,0,0,0);var O=h6(M,n);return O}function Uhe(e,n){Qn(1,arguments);var t=Fi(e),i=h6(t,n).getTime()-WTe(t,n).getTime();return Math.round(i/6048e5)+1}function Mo(e,n){for(var t=e<0?"-":"",i=Math.abs(e).toString();i.length<n;)i="0"+i;return t+i}const y4_y=function(n,t){var i=n.getUTCFullYear(),r=i>0?i:1-i;return Mo("yy"===t?r%100:r,t.length)},y4_M=function(n,t){var i=n.getUTCMonth();return"M"===t?String(i+1):Mo(i+1,2)},y4_d=function(n,t){return Mo(n.getUTCDate(),t.length)},y4_h=function(n,t){return Mo(n.getUTCHours()%12||12,t.length)},y4_H=function(n,t){return Mo(n.getUTCHours(),t.length)},y4_m=function(n,t){return Mo(n.getUTCMinutes(),t.length)},y4_s=function(n,t){return Mo(n.getUTCSeconds(),t.length)},y4_S=function(n,t){var i=t.length,r=n.getUTCMilliseconds();return Mo(Math.floor(r*Math.pow(10,i-3)),t.length)};var XTe={G:function(n,t,i){var r=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(n,t,i){if("yo"===t){var r=n.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return y4_y(n,t)},Y:function(n,t,i,r){var o=oee(n,r),l=o>0?o:1-o;return"YY"===t?Mo(l%100,2):"Yo"===t?i.ordinalNumber(l,{unit:"year"}):Mo(l,t.length)},R:function(n,t){return Mo(Hhe(n),t.length)},u:function(n,t){return Mo(n.getUTCFullYear(),t.length)},Q:function(n,t,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Mo(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Mo(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,i){var r=n.getUTCMonth();switch(t){case"M":case"MM":return y4_M(n,t);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,i){var r=n.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Mo(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,i,r){var o=Uhe(n,r);return"wo"===t?i.ordinalNumber(o,{unit:"week"}):Mo(o,t.length)},I:function(n,t,i){var r=Yhe(n);return"Io"===t?i.ordinalNumber(r,{unit:"week"}):Mo(r,t.length)},d:function(n,t,i){return"do"===t?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):y4_d(n,t)},D:function(n,t,i){var r=function YTe(e){Qn(1,arguments);var n=Fi(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime(),r=t-i;return Math.floor(r/864e5)+1}(n);return"Do"===t?i.ordinalNumber(r,{unit:"dayOfYear"}):Mo(r,t.length)},E:function(n,t,i){var r=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,i,r){var o=n.getUTCDay(),l=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Mo(l,2);case"eo":return i.ordinalNumber(l,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(n,t,i,r){var o=n.getUTCDay(),l=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Mo(l,t.length);case"co":return i.ordinalNumber(l,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(n,t,i){var r=n.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Mo(o,t.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,i){var o=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,t,i){var o,r=n.getUTCHours();switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,t,i){var o,r=n.getUTCHours();switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,t,i){if("ho"===t){var r=n.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return y4_h(n,t)},H:function(n,t,i){return"Ho"===t?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):y4_H(n,t)},K:function(n,t,i){var r=n.getUTCHours()%12;return"Ko"===t?i.ordinalNumber(r,{unit:"hour"}):Mo(r,t.length)},k:function(n,t,i){var r=n.getUTCHours();return 0===r&&(r=24),"ko"===t?i.ordinalNumber(r,{unit:"hour"}):Mo(r,t.length)},m:function(n,t,i){return"mo"===t?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):y4_m(n,t)},s:function(n,t,i){return"so"===t?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):y4_s(n,t)},S:function(n,t){return y4_S(n,t)},X:function(n,t,i,r){var l=(r._originalDate||n).getTimezoneOffset();if(0===l)return"Z";switch(t){case"X":return Whe(l);case"XXXX":case"XX":return d6(l);default:return d6(l,":")}},x:function(n,t,i,r){var l=(r._originalDate||n).getTimezoneOffset();switch(t){case"x":return Whe(l);case"xxxx":case"xx":return d6(l);default:return d6(l,":")}},O:function(n,t,i,r){var l=(r._originalDate||n).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ghe(l,":");default:return"GMT"+d6(l,":")}},z:function(n,t,i,r){var l=(r._originalDate||n).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ghe(l,":");default:return"GMT"+d6(l,":")}},t:function(n,t,i,r){return Mo(Math.floor((r._originalDate||n).getTime()/1e3),t.length)},T:function(n,t,i,r){return Mo((r._originalDate||n).getTime(),t.length)}};function Ghe(e,n){var t=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=i%60;if(0===o)return t+String(r);var l=n||"";return t+String(r)+l+Mo(o,2)}function Whe(e,n){return e%60==0?(e>0?"-":"+")+Mo(Math.abs(e)/60,2):d6(e,n)}function d6(e,n){var t=n||"",i=e>0?"-":"+",r=Math.abs(e);return i+Mo(Math.floor(r/60),2)+t+Mo(r%60,2)}const qTe=XTe;var jhe=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},$he=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const aee={p:$he,P:function(n,t){var l,i=n.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return jhe(n,t);switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"})}return l.replace("{{date}}",jhe(r,t)).replace("{{time}}",$he(o,t))}};function mH(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}var QTe=["D","DD"],JTe=["YY","YYYY"];function Xhe(e){return-1!==QTe.indexOf(e)}function qhe(e){return-1!==JTe.indexOf(e)}function vH(e,n,t){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eMe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function see(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth,i=e.formats[t]||e.formats[e.defaultWidth];return i}}const sMe={date:see({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:see({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:see({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var lMe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Hz(e){return function(n,t){var r;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,l=null!=t&&t.width?String(t.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{var h=e.defaultWidth,f=null!=t&&t.width?String(t.width):e.defaultWidth;r=e.values[f]||e.values[h]}return r[e.argumentCallback?e.argumentCallback(n):n]}}const yMe={ordinalNumber:function(n,t){var i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:Hz({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Hz({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Hz({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Hz({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Hz({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Yz(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=n.match(r);if(!o)return null;var m,l=o[0],h=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(h)?bMe(h,function(b){return b.test(l)}):xMe(h,function(b){return b.test(l)});m=e.valueCallback?e.valueCallback(f):f,m=t.valueCallback?t.valueCallback(m):m;var _=n.slice(l.length);return{value:m,rest:_}}}function xMe(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function bMe(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}var LMe={ordinalNumber:function CMe(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(e.matchPattern);if(!i)return null;var r=i[0],o=n.match(e.parsePattern);if(!o)return null;var l=e.valueCallback?e.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;var h=n.slice(r.length);return{value:l,rest:h}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:Yz({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Yz({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Yz({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Yz({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Yz({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Zhe={code:"en-US",formatDistance:function(n,t,i){var r,o=eMe[n];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:sMe,formatRelative:function(n,t,i,r){return lMe[n]},localize:yMe,match:LMe,options:{weekStartsOn:0,firstWeekContainsDate:1}};var NMe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FMe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BMe=/^'([^]*?)'?$/,VMe=/''/g,HMe=/[a-zA-Z]/;function UMe(e){var n=e.match(BMe);return n?n[1].replace(VMe,"'"):e}function GMe(e,n){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}function _H(e){return(_H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Khe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&lee(e,n)}function lee(e,n){return(lee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function Qhe(e){var n=function jMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=yH(e);if(n){var o=yH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return WMe(this,r)}}function WMe(e,n){return!n||"object"!==_H(n)&&"function"!=typeof n?cee(e):n}function cee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yH(e){return(yH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function uee(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Jhe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hee(e,n,t){return n&&Jhe(e.prototype,n),t&&Jhe(e,t),e}function dee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ede=function(){function e(){uee(this,e),dee(this,"subPriority",0)}return hee(e,[{key:"validate",value:function(t,i){return!0}}]),e}(),XMe=function(e){Khe(t,e);var n=Qhe(t);function t(i,r,o,l,h){var f;return uee(this,t),(f=n.call(this)).value=i,f.validateValue=r,f.setValue=o,f.priority=l,h&&(f.subPriority=h),f}return hee(t,[{key:"validate",value:function(r,o){return this.validateValue(r,this.value,o)}},{key:"set",value:function(r,o,l){return this.setValue(r,o,this.value,l)}}]),t}(ede),qMe=function(e){Khe(t,e);var n=Qhe(t);function t(){var i;uee(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return dee(cee(i=n.call.apply(n,[this].concat(o))),"priority",10),dee(cee(i),"subPriority",-1),i}return hee(t,[{key:"set",value:function(r,o){if(o.timestampIsSet)return r;var l=new Date(0);return l.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),l.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),l}}]),t}(ede);function tde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var uo=function(){function e(){!function ZMe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function KMe(e,n,t){n&&tde(e.prototype,n),t&&tde(e,t)}(e,[{key:"run",value:function(t,i,r,o){var l=this.parse(t,i,r,o);return l?{setter:new XMe(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}},{key:"validate",value:function(t,i,r){return!0}}]),e}();function xH(e){return(xH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function QMe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function nde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fee(e,n){return(fee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function n9e(e,n){return!n||"object"!==xH(n)&&"function"!=typeof n?pee(e):n}function pee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(e){return(bH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ide(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var r9e=function(e){!function e9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&fee(e,n)}(t,e);var n=function t9e(e){var n=function i9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=bH(e);if(n){var o=bH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return n9e(this,r)}}(t);function t(){var i;QMe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return ide(pee(i=n.call.apply(n,[this].concat(o))),"priority",140),ide(pee(i),"incompatibleTokens",["R","u","t","T"]),i}return function JMe(e,n,t){n&&nde(e.prototype,n),t&&nde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"G":case"GG":case"GGG":return l.era(r,{width:"abbreviated"})||l.era(r,{width:"narrow"});case"GGGGG":return l.era(r,{width:"narrow"});default:return l.era(r,{width:"wide"})||l.era(r,{width:"abbreviated"})||l.era(r,{width:"narrow"})}}},{key:"set",value:function(r,o,l){return o.era=l,r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(uo),Ms_month=(Math.pow(10,8),/^(1[0-2]|0?\d)/),Ms_date=/^(3[0-1]|[0-2]?\d)/,Ms_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ms_week=/^(5[0-3]|[0-4]?\d)/,Ms_hour23h=/^(2[0-3]|[0-1]?\d)/,Ms_hour24h=/^(2[0-4]|[0-1]?\d)/,Ms_hour11h=/^(1[0-1]|0?\d)/,Ms_hour12h=/^(1[0-2]|0?\d)/,Ms_minute=/^[0-5]?\d/,Ms_second=/^[0-5]?\d/,Ms_singleDigit=/^\d/,Ms_twoDigits=/^\d{1,2}/,Ms_threeDigits=/^\d{1,3}/,Ms_fourDigits=/^\d{1,4}/,Ms_anyDigitsSigned=/^-?\d+/,Ms_singleDigitSigned=/^-?\d/,Ms_twoDigitsSigned=/^-?\d{1,2}/,Ms_threeDigitsSigned=/^-?\d{1,3}/,Ms_fourDigitsSigned=/^-?\d{1,4}/,um_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,um_basic=/^([+-])(\d{2})(\d{2})|Z/,um_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,um_extended=/^([+-])(\d{2}):(\d{2})|Z/,um_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ds(e,n){return e&&{value:n(e.value),rest:e.rest}}function Wa(e,n){var t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function hm(e,n){var t=n.match(e);return t?"Z"===t[0]?{value:0,rest:n.slice(1)}:{value:("+"===t[1]?1:-1)*(36e5*(t[2]?parseInt(t[2],10):0)+6e4*(t[3]?parseInt(t[3],10):0)+1e3*(t[5]?parseInt(t[5],10):0)),rest:n.slice(t[0].length)}:null}function sde(e){return Wa(Ms_anyDigitsSigned,e)}function os(e,n){switch(e){case 1:return Wa(Ms_singleDigit,n);case 2:return Wa(Ms_twoDigits,n);case 3:return Wa(Ms_threeDigits,n);case 4:return Wa(Ms_fourDigits,n);default:return Wa(new RegExp("^\\d{1,"+e+"}"),n)}}function CH(e,n){switch(e){case 1:return Wa(Ms_singleDigitSigned,n);case 2:return Wa(Ms_twoDigitsSigned,n);case 3:return Wa(Ms_threeDigitsSigned,n);case 4:return Wa(Ms_fourDigitsSigned,n);default:return Wa(new RegExp("^-?\\d{1,"+e+"}"),n)}}function gee(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function lde(e,n){var r,t=n>0,i=t?n:1-n;if(i<=50)r=e||100;else{var o=i+50;r=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return t?r:1-r}function cde(e){return e%400==0||e%4==0&&e%100!=0}function wH(e){return(wH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ude(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mee(e,n){return(mee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function g9e(e,n){return!n||"object"!==wH(n)&&"function"!=typeof n?vee(e):n}function vee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SH(e){return(SH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function hde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v9e=function(e){!function f9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&mee(e,n)}(t,e);var n=function p9e(e){var n=function m9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=SH(e);if(n){var o=SH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return g9e(this,r)}}(t);function t(){var i;h9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return hde(vee(i=n.call.apply(n,[this].concat(o))),"priority",130),hde(vee(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return function d9e(e,n,t){n&&ude(e.prototype,n),t&&ude(e,t)}(t,[{key:"parse",value:function(r,o,l){var h=function(m){return{year:m,isTwoDigitYear:"yy"===o}};switch(o){case"y":return Ds(os(4,r),h);case"yo":return Ds(l.ordinalNumber(r,{unit:"year"}),h);default:return Ds(os(o.length,r),h)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,l){var h=r.getUTCFullYear();if(l.isTwoDigitYear){var f=lde(l.year,h);return r.setUTCFullYear(f,0,1),r.setUTCHours(0,0,0,0),r}return r.setUTCFullYear("era"in o&&1!==o.era?1-l.year:l.year,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function TH(e){return(TH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _ee(e,n){return(_ee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function C9e(e,n){return!n||"object"!==TH(n)&&"function"!=typeof n?yee(e):n}function yee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MH(e){return(MH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function fde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var S9e=function(e){!function x9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_ee(e,n)}(t,e);var n=function b9e(e){var n=function w9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=MH(e);if(n){var o=MH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return C9e(this,r)}}(t);function t(){var i;_9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return fde(yee(i=n.call.apply(n,[this].concat(o))),"priority",130),fde(yee(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return function y9e(e,n,t){n&&dde(e.prototype,n),t&&dde(e,t)}(t,[{key:"parse",value:function(r,o,l){var h=function(m){return{year:m,isTwoDigitYear:"YY"===o}};switch(o){case"Y":return Ds(os(4,r),h);case"Yo":return Ds(l.ordinalNumber(r,{unit:"year"}),h);default:return Ds(os(o.length,r),h)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,l,h){var f=oee(r,h);if(l.isTwoDigitYear){var m=lde(l.year,f);return r.setUTCFullYear(m,0,h.firstWeekContainsDate),r.setUTCHours(0,0,0,0),h6(r,h)}return r.setUTCFullYear("era"in o&&1!==o.era?1-l.year:l.year,0,h.firstWeekContainsDate),r.setUTCHours(0,0,0,0),h6(r,h)}}]),t}(uo);function DH(e){return(DH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function T9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xee(e,n){return(xee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function A9e(e,n){return!n||"object"!==DH(n)&&"function"!=typeof n?bee(e):n}function bee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PH(e){return(PH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k9e=function(e){!function D9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&xee(e,n)}(t,e);var n=function P9e(e){var n=function z9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=PH(e);if(n){var o=PH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return A9e(this,r)}}(t);function t(){var i;T9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return gde(bee(i=n.call.apply(n,[this].concat(o))),"priority",130),gde(bee(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return function M9e(e,n,t){n&&pde(e.prototype,n),t&&pde(e,t)}(t,[{key:"parse",value:function(r,o){return CH("R"===o?4:o.length,r)}},{key:"set",value:function(r,o,l){var h=new Date(0);return h.setUTCFullYear(l,0,4),h.setUTCHours(0,0,0,0),ow(h)}}]),t}(uo);function AH(e){return(AH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Cee(e,n){return(Cee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function R9e(e,n){return!n||"object"!==AH(n)&&"function"!=typeof n?wee(e):n}function wee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zH(e){return(zH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var F9e=function(e){!function I9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Cee(e,n)}(t,e);var n=function L9e(e){var n=function N9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=zH(e);if(n){var o=zH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return R9e(this,r)}}(t);function t(){var i;O9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return vde(wee(i=n.call.apply(n,[this].concat(o))),"priority",130),vde(wee(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return function E9e(e,n,t){n&&mde(e.prototype,n),t&&mde(e,t)}(t,[{key:"parse",value:function(r,o){return CH("u"===o?4:o.length,r)}},{key:"set",value:function(r,o,l){return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function kH(e){return(kH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function B9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _de(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function See(e,n){return(See=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function U9e(e,n){return!n||"object"!==kH(n)&&"function"!=typeof n?Tee(e):n}function Tee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OH(e){return(OH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function yde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var W9e=function(e){!function H9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&See(e,n)}(t,e);var n=function Y9e(e){var n=function G9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=OH(e);if(n){var o=OH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return U9e(this,r)}}(t);function t(){var i;B9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return yde(Tee(i=n.call.apply(n,[this].concat(o))),"priority",120),yde(Tee(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return function V9e(e,n,t){n&&_de(e.prototype,n),t&&_de(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"Q":case"QQ":return os(o.length,r);case"Qo":return l.ordinalNumber(r,{unit:"quarter"});case"QQQ":return l.quarter(r,{width:"abbreviated",context:"formatting"})||l.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return l.quarter(r,{width:"narrow",context:"formatting"});default:return l.quarter(r,{width:"wide",context:"formatting"})||l.quarter(r,{width:"abbreviated",context:"formatting"})||l.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,l){return r.setUTCMonth(3*(l-1),1),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function EH(e){return(EH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function j9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mee(e,n){return(Mee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function Z9e(e,n){return!n||"object"!==EH(n)&&"function"!=typeof n?Dee(e):n}function Dee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IH(e){return(IH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Q9e=function(e){!function X9e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mee(e,n)}(t,e);var n=function q9e(e){var n=function K9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=IH(e);if(n){var o=IH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Z9e(this,r)}}(t);function t(){var i;j9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return bde(Dee(i=n.call.apply(n,[this].concat(o))),"priority",120),bde(Dee(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return function $9e(e,n,t){n&&xde(e.prototype,n),t&&xde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"q":case"qq":return os(o.length,r);case"qo":return l.ordinalNumber(r,{unit:"quarter"});case"qqq":return l.quarter(r,{width:"abbreviated",context:"standalone"})||l.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return l.quarter(r,{width:"narrow",context:"standalone"});default:return l.quarter(r,{width:"wide",context:"standalone"})||l.quarter(r,{width:"abbreviated",context:"standalone"})||l.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,l){return r.setUTCMonth(3*(l-1),1),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function LH(e){return(LH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function J9e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Cde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pee(e,n){return(Pee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function iDe(e,n){return!n||"object"!==LH(n)&&"function"!=typeof n?Aee(e):n}function Aee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RH(e){return(RH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var oDe=function(e){!function tDe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Pee(e,n)}(t,e);var n=function nDe(e){var n=function rDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=RH(e);if(n){var o=RH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return iDe(this,r)}}(t);function t(){var i;J9e(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return wde(Aee(i=n.call.apply(n,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),wde(Aee(i),"priority",110),i}return function eDe(e,n,t){n&&Cde(e.prototype,n),t&&Cde(e,t)}(t,[{key:"parse",value:function(r,o,l){var h=function(m){return m-1};switch(o){case"M":return Ds(Wa(Ms_month,r),h);case"MM":return Ds(os(2,r),h);case"Mo":return Ds(l.ordinalNumber(r,{unit:"month"}),h);case"MMM":return l.month(r,{width:"abbreviated",context:"formatting"})||l.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return l.month(r,{width:"narrow",context:"formatting"});default:return l.month(r,{width:"wide",context:"formatting"})||l.month(r,{width:"abbreviated",context:"formatting"})||l.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,l){return r.setUTCMonth(l,1),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function NH(e){return(NH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function aDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Sde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zee(e,n){return(zee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function uDe(e,n){return!n||"object"!==NH(n)&&"function"!=typeof n?kee(e):n}function kee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(e){return(FH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Tde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var dDe=function(e){!function lDe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&zee(e,n)}(t,e);var n=function cDe(e){var n=function hDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=FH(e);if(n){var o=FH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return uDe(this,r)}}(t);function t(){var i;aDe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Tde(kee(i=n.call.apply(n,[this].concat(o))),"priority",110),Tde(kee(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return function sDe(e,n,t){n&&Sde(e.prototype,n),t&&Sde(e,t)}(t,[{key:"parse",value:function(r,o,l){var h=function(m){return m-1};switch(o){case"L":return Ds(Wa(Ms_month,r),h);case"LL":return Ds(os(2,r),h);case"Lo":return Ds(l.ordinalNumber(r,{unit:"month"}),h);case"LLL":return l.month(r,{width:"abbreviated",context:"standalone"})||l.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return l.month(r,{width:"narrow",context:"standalone"});default:return l.month(r,{width:"wide",context:"standalone"})||l.month(r,{width:"abbreviated",context:"standalone"})||l.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,l){return r.setUTCMonth(l,1),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function BH(e){return(BH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Mde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oee(e,n){return(Oee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function _De(e,n){return!n||"object"!==BH(n)&&"function"!=typeof n?Eee(e):n}function Eee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VH(e){return(VH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Dde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var xDe=function(e){!function mDe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Oee(e,n)}(t,e);var n=function vDe(e){var n=function yDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=VH(e);if(n){var o=VH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return _De(this,r)}}(t);function t(){var i;pDe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Dde(Eee(i=n.call.apply(n,[this].concat(o))),"priority",100),Dde(Eee(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return function gDe(e,n,t){n&&Mde(e.prototype,n),t&&Mde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"w":return Wa(Ms_week,r);case"wo":return l.ordinalNumber(r,{unit:"week"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,l,h){return h6(function fDe(e,n,t){Qn(2,arguments);var i=Fi(e),r=rs(n),o=Uhe(i,t)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(r,l,h),h)}}]),t}(uo);function HH(e){return(HH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function CDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Pde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Iee(e,n){return(Iee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function MDe(e,n){return!n||"object"!==HH(n)&&"function"!=typeof n?Lee(e):n}function Lee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YH(e){return(YH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ade(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var PDe=function(e){!function SDe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Iee(e,n)}(t,e);var n=function TDe(e){var n=function DDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=YH(e);if(n){var o=YH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return MDe(this,r)}}(t);function t(){var i;CDe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Ade(Lee(i=n.call.apply(n,[this].concat(o))),"priority",100),Ade(Lee(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return function wDe(e,n,t){n&&Pde(e.prototype,n),t&&Pde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"I":return Wa(Ms_week,r);case"Io":return l.ordinalNumber(r,{unit:"week"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,l){return ow(function bDe(e,n){Qn(2,arguments);var t=Fi(e),i=rs(n),r=Yhe(t)-i;return t.setUTCDate(t.getUTCDate()-7*r),t}(r,l))}}]),t}(uo);function UH(e){return(UH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ADe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ree(e,n){return(Ree=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function EDe(e,n){return!n||"object"!==UH(n)&&"function"!=typeof n?GH(e):n}function GH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WH(e){return(WH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var LDe=[31,28,31,30,31,30,31,31,30,31,30,31],RDe=[31,29,31,30,31,30,31,31,30,31,30,31],NDe=function(e){!function kDe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ree(e,n)}(t,e);var n=function ODe(e){var n=function IDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=WH(e);if(n){var o=WH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return EDe(this,r)}}(t);function t(){var i;ADe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Nee(GH(i=n.call.apply(n,[this].concat(o))),"priority",90),Nee(GH(i),"subPriority",1),Nee(GH(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return function zDe(e,n,t){n&&zde(e.prototype,n),t&&zde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"d":return Wa(Ms_date,r);case"do":return l.ordinalNumber(r,{unit:"date"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){var h=cde(r.getUTCFullYear()),f=r.getUTCMonth();return h?o>=1&&o<=RDe[f]:o>=1&&o<=LDe[f]}},{key:"set",value:function(r,o,l){return r.setUTCDate(l),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function jH(e){return(jH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function FDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function kde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Fee(e,n){return(Fee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function YDe(e,n){return!n||"object"!==jH(n)&&"function"!=typeof n?$H(e):n}function $H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(e){return(XH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Bee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var GDe=function(e){!function VDe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Fee(e,n)}(t,e);var n=function HDe(e){var n=function UDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=XH(e);if(n){var o=XH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return YDe(this,r)}}(t);function t(){var i;FDe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Bee($H(i=n.call.apply(n,[this].concat(o))),"priority",90),Bee($H(i),"subpriority",1),Bee($H(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return function BDe(e,n,t){n&&kde(e.prototype,n),t&&kde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"D":case"DD":return Wa(Ms_dayOfYear,r);case"Do":return l.ordinalNumber(r,{unit:"date"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return cde(r.getUTCFullYear())?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(r,o,l){return r.setUTCMonth(0,l),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function Vee(e,n,t){var i,r,o,l,h,f,m,_;Qn(2,arguments);var b=_4(),S=rs(null!==(i=null!==(r=null!==(o=null!==(l=t?.weekStartsOn)&&void 0!==l?l:null==t||null===(h=t.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==o?o:b.weekStartsOn)&&void 0!==r?r:null===(m=b.locale)||void 0===m||null===(_=m.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==i?i:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=Fi(e),O=rs(n),I=M.getUTCDay(),N=O%7,V=(N+7)%7,G=(V<S?7:0)+O-I;return M.setUTCDate(M.getUTCDate()+G),M}function qH(e){return(qH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function WDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ode(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Hee(e,n){return(Hee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function qDe(e,n){return!n||"object"!==qH(n)&&"function"!=typeof n?Yee(e):n}function Yee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZH(e){return(ZH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ede(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var KDe=function(e){!function $De(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Hee(e,n)}(t,e);var n=function XDe(e){var n=function ZDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=ZH(e);if(n){var o=ZH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return qDe(this,r)}}(t);function t(){var i;WDe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Ede(Yee(i=n.call.apply(n,[this].concat(o))),"priority",90),Ede(Yee(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return function jDe(e,n,t){n&&Ode(e.prototype,n),t&&Ode(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"E":case"EE":case"EEE":return l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return l.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});default:return l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,l,h){return(r=Vee(r,l,h)).setUTCHours(0,0,0,0),r}}]),t}(uo);function KH(e){return(KH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function QDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ide(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Uee(e,n){return(Uee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function nPe(e,n){return!n||"object"!==KH(n)&&"function"!=typeof n?Gee(e):n}function Gee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QH(e){return(QH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Lde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var rPe=function(e){!function ePe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Uee(e,n)}(t,e);var n=function tPe(e){var n=function iPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=QH(e);if(n){var o=QH(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return nPe(this,r)}}(t);function t(){var i;QDe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Lde(Gee(i=n.call.apply(n,[this].concat(o))),"priority",90),Lde(Gee(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return function JDe(e,n,t){n&&Ide(e.prototype,n),t&&Ide(e,t)}(t,[{key:"parse",value:function(r,o,l,h){var f=function(_){var b=7*Math.floor((_-1)/7);return(_+h.weekStartsOn+6)%7+b};switch(o){case"e":case"ee":return Ds(os(o.length,r),f);case"eo":return Ds(l.ordinalNumber(r,{unit:"day"}),f);case"eee":return l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});case"eeeee":return l.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});default:return l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,l,h){return(r=Vee(r,l,h)).setUTCHours(0,0,0,0),r}}]),t}(uo);function JH(e){return(JH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Rde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wee(e,n){return(Wee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function cPe(e,n){return!n||"object"!==JH(n)&&"function"!=typeof n?jee(e):n}function jee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eY(e){return(eY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var hPe=function(e){!function sPe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Wee(e,n)}(t,e);var n=function lPe(e){var n=function uPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=eY(e);if(n){var o=eY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return cPe(this,r)}}(t);function t(){var i;oPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Nde(jee(i=n.call.apply(n,[this].concat(o))),"priority",90),Nde(jee(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return function aPe(e,n,t){n&&Rde(e.prototype,n),t&&Rde(e,t)}(t,[{key:"parse",value:function(r,o,l,h){var f=function(_){var b=7*Math.floor((_-1)/7);return(_+h.weekStartsOn+6)%7+b};switch(o){case"c":case"cc":return Ds(os(o.length,r),f);case"co":return Ds(l.ordinalNumber(r,{unit:"day"}),f);case"ccc":return l.day(r,{width:"abbreviated",context:"standalone"})||l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"});case"ccccc":return l.day(r,{width:"narrow",context:"standalone"});case"cccccc":return l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"});default:return l.day(r,{width:"wide",context:"standalone"})||l.day(r,{width:"abbreviated",context:"standalone"})||l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,l,h){return(r=Vee(r,l,h)).setUTCHours(0,0,0,0),r}}]),t}(uo);function tY(e){return(tY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $ee(e,n){return($ee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function vPe(e,n){return!n||"object"!==tY(n)&&"function"!=typeof n?Xee(e):n}function Xee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nY(e){return(nY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Bde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var yPe=function(e){!function gPe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&$ee(e,n)}(t,e);var n=function mPe(e){var n=function _Pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=nY(e);if(n){var o=nY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return vPe(this,r)}}(t);function t(){var i;fPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Bde(Xee(i=n.call.apply(n,[this].concat(o))),"priority",90),Bde(Xee(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return function pPe(e,n,t){n&&Fde(e.prototype,n),t&&Fde(e,t)}(t,[{key:"parse",value:function(r,o,l){var h=function(m){return 0===m?7:m};switch(o){case"i":case"ii":return os(o.length,r);case"io":return l.ordinalNumber(r,{unit:"day"});case"iii":return Ds(l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),h);case"iiiii":return Ds(l.day(r,{width:"narrow",context:"formatting"}),h);case"iiiiii":return Ds(l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),h);default:return Ds(l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),h)}}},{key:"validate",value:function(r,o){return o>=1&&o<=7}},{key:"set",value:function(r,o,l){return r=function dPe(e,n){Qn(2,arguments);var t=rs(n);t%7==0&&(t-=7);var i=1,r=Fi(e),o=r.getUTCDay(),l=t%7,h=(l+7)%7,f=(h<i?7:0)+t-o;return r.setUTCDate(r.getUTCDate()+f),r}(r,l),r.setUTCHours(0,0,0,0),r}}]),t}(uo);function iY(e){return(iY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Vde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qee(e,n){return(qee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function SPe(e,n){return!n||"object"!==iY(n)&&"function"!=typeof n?Zee(e):n}function Zee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rY(e){return(rY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Hde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var MPe=function(e){!function CPe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&qee(e,n)}(t,e);var n=function wPe(e){var n=function TPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=rY(e);if(n){var o=rY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return SPe(this,r)}}(t);function t(){var i;xPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Hde(Zee(i=n.call.apply(n,[this].concat(o))),"priority",80),Hde(Zee(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return function bPe(e,n,t){n&&Vde(e.prototype,n),t&&Vde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"a":case"aa":case"aaa":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,l){return r.setUTCHours(gee(l),0,0,0),r}}]),t}(uo);function oY(e){return(oY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function DPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Yde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Kee(e,n){return(Kee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function kPe(e,n){return!n||"object"!==oY(n)&&"function"!=typeof n?Qee(e):n}function Qee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aY(e){return(aY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ude(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var EPe=function(e){!function APe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Kee(e,n)}(t,e);var n=function zPe(e){var n=function OPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=aY(e);if(n){var o=aY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return kPe(this,r)}}(t);function t(){var i;DPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Ude(Qee(i=n.call.apply(n,[this].concat(o))),"priority",80),Ude(Qee(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return function PPe(e,n,t){n&&Yde(e.prototype,n),t&&Yde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"b":case"bb":case"bbb":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,l){return r.setUTCHours(gee(l),0,0,0),r}}]),t}(uo);function sY(e){return(sY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function IPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Gde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jee(e,n){return(Jee=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function FPe(e,n){return!n||"object"!==sY(n)&&"function"!=typeof n?ete(e):n}function ete(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lY(e){return(lY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Wde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var VPe=function(e){!function RPe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Jee(e,n)}(t,e);var n=function NPe(e){var n=function BPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=lY(e);if(n){var o=lY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return FPe(this,r)}}(t);function t(){var i;IPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Wde(ete(i=n.call.apply(n,[this].concat(o))),"priority",80),Wde(ete(i),"incompatibleTokens",["a","b","t","T"]),i}return function LPe(e,n,t){n&&Gde(e.prototype,n),t&&Gde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"B":case"BB":case"BBB":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,l){return r.setUTCHours(gee(l),0,0,0),r}}]),t}(uo);function cY(e){return(cY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function HPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tte(e,n){return(tte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function WPe(e,n){return!n||"object"!==cY(n)&&"function"!=typeof n?nte(e):n}function nte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uY(e){return(uY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $de(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var $Pe=function(e){!function UPe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&tte(e,n)}(t,e);var n=function GPe(e){var n=function jPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=uY(e);if(n){var o=uY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return WPe(this,r)}}(t);function t(){var i;HPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return $de(nte(i=n.call.apply(n,[this].concat(o))),"priority",70),$de(nte(i),"incompatibleTokens",["H","K","k","t","T"]),i}return function YPe(e,n,t){n&&jde(e.prototype,n),t&&jde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"h":return Wa(Ms_hour12h,r);case"ho":return l.ordinalNumber(r,{unit:"hour"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=12}},{key:"set",value:function(r,o,l){var h=r.getUTCHours()>=12;return r.setUTCHours(h&&l<12?l+12:h||12!==l?l:0,0,0,0),r}}]),t}(uo);function hY(e){return(hY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function XPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ite(e,n){return(ite=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function QPe(e,n){return!n||"object"!==hY(n)&&"function"!=typeof n?rte(e):n}function rte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dY(e){return(dY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var eAe=function(e){!function ZPe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ite(e,n)}(t,e);var n=function KPe(e){var n=function JPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=dY(e);if(n){var o=dY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return QPe(this,r)}}(t);function t(){var i;XPe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return qde(rte(i=n.call.apply(n,[this].concat(o))),"priority",70),qde(rte(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return function qPe(e,n,t){n&&Xde(e.prototype,n),t&&Xde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"H":return Wa(Ms_hour23h,r);case"Ho":return l.ordinalNumber(r,{unit:"hour"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=23}},{key:"set",value:function(r,o,l){return r.setUTCHours(l,0,0,0),r}}]),t}(uo);function fY(e){return(fY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ote(e,n){return(ote=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function oAe(e,n){return!n||"object"!==fY(n)&&"function"!=typeof n?ate(e):n}function ate(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pY(e){return(pY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Kde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var sAe=function(e){!function iAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ote(e,n)}(t,e);var n=function rAe(e){var n=function aAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=pY(e);if(n){var o=pY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return oAe(this,r)}}(t);function t(){var i;tAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Kde(ate(i=n.call.apply(n,[this].concat(o))),"priority",70),Kde(ate(i),"incompatibleTokens",["h","H","k","t","T"]),i}return function nAe(e,n,t){n&&Zde(e.prototype,n),t&&Zde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"K":return Wa(Ms_hour11h,r);case"Ko":return l.ordinalNumber(r,{unit:"hour"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,l){var h=r.getUTCHours()>=12;return r.setUTCHours(h&&l<12?l+12:l,0,0,0),r}}]),t}(uo);function gY(e){return(gY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function lAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Qde(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ste(e,n){return(ste=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function dAe(e,n){return!n||"object"!==gY(n)&&"function"!=typeof n?lte(e):n}function lte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mY(e){return(mY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var pAe=function(e){!function uAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ste(e,n)}(t,e);var n=function hAe(e){var n=function fAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=mY(e);if(n){var o=mY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return dAe(this,r)}}(t);function t(){var i;lAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Jde(lte(i=n.call.apply(n,[this].concat(o))),"priority",70),Jde(lte(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return function cAe(e,n,t){n&&Qde(e.prototype,n),t&&Qde(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"k":return Wa(Ms_hour24h,r);case"ko":return l.ordinalNumber(r,{unit:"hour"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=24}},{key:"set",value:function(r,o,l){return r.setUTCHours(l<=24?l%24:l,0,0,0),r}}]),t}(uo);function vY(e){return(vY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function efe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cte(e,n){return(cte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function yAe(e,n){return!n||"object"!==vY(n)&&"function"!=typeof n?ute(e):n}function ute(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Y(e){return(_Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function tfe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var bAe=function(e){!function vAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&cte(e,n)}(t,e);var n=function _Ae(e){var n=function xAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=_Y(e);if(n){var o=_Y(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return yAe(this,r)}}(t);function t(){var i;gAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return tfe(ute(i=n.call.apply(n,[this].concat(o))),"priority",60),tfe(ute(i),"incompatibleTokens",["t","T"]),i}return function mAe(e,n,t){n&&efe(e.prototype,n),t&&efe(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"m":return Wa(Ms_minute,r);case"mo":return l.ordinalNumber(r,{unit:"minute"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,l){return r.setUTCMinutes(l,0,0),r}}]),t}(uo);function yY(e){return(yY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function CAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function nfe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hte(e,n){return(hte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function MAe(e,n){return!n||"object"!==yY(n)&&"function"!=typeof n?dte(e):n}function dte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xY(e){return(xY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ife(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var PAe=function(e){!function SAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&hte(e,n)}(t,e);var n=function TAe(e){var n=function DAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=xY(e);if(n){var o=xY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return MAe(this,r)}}(t);function t(){var i;CAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return ife(dte(i=n.call.apply(n,[this].concat(o))),"priority",50),ife(dte(i),"incompatibleTokens",["t","T"]),i}return function wAe(e,n,t){n&&nfe(e.prototype,n),t&&nfe(e,t)}(t,[{key:"parse",value:function(r,o,l){switch(o){case"s":return Wa(Ms_second,r);case"so":return l.ordinalNumber(r,{unit:"second"});default:return os(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,l){return r.setUTCSeconds(l,0),r}}]),t}(uo);function bY(e){return(bY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function AAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rfe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fte(e,n){return(fte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function EAe(e,n){return!n||"object"!==bY(n)&&"function"!=typeof n?pte(e):n}function pte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CY(e){return(CY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ofe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var LAe=function(e){!function kAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&fte(e,n)}(t,e);var n=function OAe(e){var n=function IAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=CY(e);if(n){var o=CY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return EAe(this,r)}}(t);function t(){var i;AAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return ofe(pte(i=n.call.apply(n,[this].concat(o))),"priority",30),ofe(pte(i),"incompatibleTokens",["t","T"]),i}return function zAe(e,n,t){n&&rfe(e.prototype,n),t&&rfe(e,t)}(t,[{key:"parse",value:function(r,o){return Ds(os(o.length,r),function(f){return Math.floor(f*Math.pow(10,3-o.length))})}},{key:"set",value:function(r,o,l){return r.setUTCMilliseconds(l),r}}]),t}(uo);function wY(e){return(wY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function RAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function afe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gte(e,n){return(gte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function VAe(e,n){return!n||"object"!==wY(n)&&"function"!=typeof n?mte(e):n}function mte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SY(e){return(SY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sfe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var YAe=function(e){!function FAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&gte(e,n)}(t,e);var n=function BAe(e){var n=function HAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=SY(e);if(n){var o=SY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return VAe(this,r)}}(t);function t(){var i;RAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return sfe(mte(i=n.call.apply(n,[this].concat(o))),"priority",10),sfe(mte(i),"incompatibleTokens",["t","T","x"]),i}return function NAe(e,n,t){n&&afe(e.prototype,n),t&&afe(e,t)}(t,[{key:"parse",value:function(r,o){switch(o){case"X":return hm(um_basicOptionalMinutes,r);case"XX":return hm(um_basic,r);case"XXXX":return hm(um_basicOptionalSeconds,r);case"XXXXX":return hm(um_extendedOptionalSeconds,r);default:return hm(um_extended,r)}}},{key:"set",value:function(r,o,l){return o.timestampIsSet?r:new Date(r.getTime()-l)}}]),t}(uo);function TY(e){return(TY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function UAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lfe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vte(e,n){return(vte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function $Ae(e,n){return!n||"object"!==TY(n)&&"function"!=typeof n?_te(e):n}function _te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MY(e){return(MY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cfe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qAe=function(e){!function WAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&vte(e,n)}(t,e);var n=function jAe(e){var n=function XAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=MY(e);if(n){var o=MY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return $Ae(this,r)}}(t);function t(){var i;UAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return cfe(_te(i=n.call.apply(n,[this].concat(o))),"priority",10),cfe(_te(i),"incompatibleTokens",["t","T","X"]),i}return function GAe(e,n,t){n&&lfe(e.prototype,n),t&&lfe(e,t)}(t,[{key:"parse",value:function(r,o){switch(o){case"x":return hm(um_basicOptionalMinutes,r);case"xx":return hm(um_basic,r);case"xxxx":return hm(um_basicOptionalSeconds,r);case"xxxxx":return hm(um_extendedOptionalSeconds,r);default:return hm(um_extended,r)}}},{key:"set",value:function(r,o,l){return o.timestampIsSet?r:new Date(r.getTime()-l)}}]),t}(uo);function DY(e){return(DY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ZAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ufe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function yte(e,n){return(yte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function eze(e,n){return!n||"object"!==DY(n)&&"function"!=typeof n?xte(e):n}function xte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PY(e){return(PY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function hfe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var nze=function(e){!function QAe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&yte(e,n)}(t,e);var n=function JAe(e){var n=function tze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=PY(e);if(n){var o=PY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return eze(this,r)}}(t);function t(){var i;ZAe(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return hfe(xte(i=n.call.apply(n,[this].concat(o))),"priority",40),hfe(xte(i),"incompatibleTokens","*"),i}return function KAe(e,n,t){n&&ufe(e.prototype,n),t&&ufe(e,t)}(t,[{key:"parse",value:function(r){return sde(r)}},{key:"set",value:function(r,o,l){return[new Date(1e3*l),{timestampIsSet:!0}]}}]),t}(uo);function AY(e){return(AY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ize(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dfe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bte(e,n){return(bte=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,n)}function sze(e,n){return!n||"object"!==AY(n)&&"function"!=typeof n?Cte(e):n}function Cte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zY(e){return(zY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ffe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var cze=function(e){!function oze(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&bte(e,n)}(t,e);var n=function aze(e){var n=function lze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=zY(e);if(n){var o=zY(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return sze(this,r)}}(t);function t(){var i;ize(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return ffe(Cte(i=n.call.apply(n,[this].concat(o))),"priority",20),ffe(Cte(i),"incompatibleTokens","*"),i}return function rze(e,n,t){n&&dfe(e.prototype,n),t&&dfe(e,t)}(t,[{key:"parse",value:function(r){return sde(r)}},{key:"set",value:function(r,o,l){return[new Date(l),{timestampIsSet:!0}]}}]),t}(uo),uze={G:new r9e,y:new v9e,Y:new S9e,R:new k9e,u:new F9e,Q:new W9e,q:new Q9e,M:new oDe,L:new dDe,w:new xDe,I:new PDe,d:new NDe,D:new GDe,E:new KDe,e:new rPe,c:new hPe,i:new yPe,a:new MPe,b:new EPe,B:new VPe,h:new $Pe,H:new eAe,K:new sAe,k:new pAe,m:new bAe,s:new PAe,S:new LAe,X:new YAe,x:new qAe,t:new nze,T:new cze};function kY(e){return(kY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pfe(e,n){var t;if(typeof Symbol>"u"||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function hze(e,n){if(e){if("string"==typeof e)return gfe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gfe(e,n)}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(m){throw m},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,o=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var m=t.next();return o=m.done,m},e:function(m){l=!0,h=m},f:function(){try{!o&&null!=t.return&&t.return()}finally{if(l)throw h}}}}function gfe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var dze=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fze=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pze=/^'([^]*?)'?$/,gze=/''/g,mze=/\S/,vze=/[a-zA-Z]/;function yze(e){return e.match(pze)[1].replace(gze,"'")}function mfe(e,n){Qn(2,arguments);var t=Fi(e),i=rs(n);if(isNaN(i))return new Date(NaN);if(!i)return t;var r=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+i+1,0);var l=o.getDate();return r>=l?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}function wze(e){Qn(1,arguments);var n=Fi(e),t=n.getFullYear(),i=n.getMonth(),r=new Date(0);return r.setFullYear(t,i+1,0),r.setHours(0,0,0,0),r.getDate()}function Tze(e,n){Qn(2,arguments);var t=Fi(e),i=rs(n);return isNaN(i)?new Date(NaN):(i&&t.setDate(t.getDate()+i),t)}function Dze(e,n){Qn(2,arguments);var t=Fi(e),i=Fi(n);return t.getFullYear()===i.getFullYear()}function Pze(e,n){Qn(2,arguments);var t=Fi(e),i=Fi(n);return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}function OY(e){Qn(1,arguments);var n=Fi(e);return n.setHours(0,0,0,0),n}function wte(e,n){Qn(2,arguments);var t=OY(e),i=OY(n);return t.getTime()===i.getTime()}function vfe(e){Qn(1,arguments);var n=Fi(e);return n.setMinutes(0,0,0),n}function Aze(e,n){Qn(2,arguments);var t=vfe(e),i=vfe(n);return t.getTime()===i.getTime()}function _fe(e){Qn(1,arguments);var n=Fi(e);return n.setSeconds(0,0),n}function zze(e,n){Qn(2,arguments);var t=_fe(e),i=_fe(n);return t.getTime()===i.getTime()}function yfe(e){Qn(1,arguments);var n=Fi(e);return n.setMilliseconds(0),n}function kze(e,n){Qn(2,arguments);var t=yfe(e),i=yfe(n);return t.getTime()===i.getTime()}function Oze(e,n){Qn(2,arguments);var t=Fi(e),i=Fi(n);return t.getFullYear()-i.getFullYear()}function Eze(e,n){Qn(2,arguments);var t=Fi(e),i=Fi(n),r=t.getFullYear()-i.getFullYear(),o=t.getMonth()-i.getMonth();return 12*r+o}function xfe(e,n){Qn(2,arguments);var t=OY(e),i=OY(n),r=t.getTime()-mH(t),o=i.getTime()-mH(i);return Math.round((r-o)/864e5)}function Ste(e,n){return Qn(2,arguments),Fi(e).getTime()-Fi(n).getTime()}var bfe={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function Tte(e){return e?bfe[e]:bfe.trunc}function Rze(e,n,t){Qn(2,arguments);var i=Ste(e,n)/36e5;return Tte(t?.roundingMethod)(i)}function Nze(e,n,t){Qn(2,arguments);var i=Ste(e,n)/6e4;return Tte(t?.roundingMethod)(i)}function Fze(e,n,t){Qn(2,arguments);var i=Ste(e,n)/1e3;return Tte(t?.roundingMethod)(i)}function Hze(e){Qn(1,arguments);var n=Fi(e);return n.setHours(23,59,59,999),n}function Yze(e){Qn(1,arguments);var n=Fi(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function Bu(e){return null!=e&&"false"!=`${e}`}function sw(e,n=0){return Cfe(e)?Number(e):n}function Cfe(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Uz(e){return Array.isArray(e)?e:[e]}function Gs(e){return null==e?"":"string"==typeof e?e:`${e}px`}function ml(e){return e instanceof Vt?e.nativeElement:e}function Lo(e){return typeof e<"u"&&null!==e}function Mte(e){return typeof e>"u"||null===e}function wfe(e){return"string"==typeof e&&""!==e}function Sfe(e){return e instanceof Yo}function Tfe(e){return Bu(e)}function Dte(e,n=0){return Cfe(e)?Number(e):n}function f6(e,...n){return"function"==typeof e?e(...n):e}function Pte(e,n){return function t(i,r,o){const l=`$$__zorroPropDecorator__${r}`;return Object.prototype.hasOwnProperty.call(i,l),Object.defineProperty(i,l,{configurable:!0,writable:!0}),{get(){return o&&o.get?o.get.bind(this)():this[l]},set(h){o&&o.set&&o.set.bind(this)(n(h)),this[l]=n(h)}}}}function tn(){return Pte(0,Tfe)}function EY(e){return Pte(0,n=>Dte(n,e))}let Ote,Ete;typeof window<"u"&&window;const Pfe={position:"absolute",top:"-9999px",width:"50px",height:"50px"};function Afe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zfe({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:"rc-util-key"}function Ite(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function kfe(e,n={}){if(!Afe())return null;const t=document.createElement("style");n.csp?.nonce&&(t.nonce=n.csp?.nonce),t.innerHTML=e;const i=Ite(n),{firstChild:r}=i;return n.prepend&&i.prepend?i.prepend(t):n.prepend&&r?i.insertBefore(t,r):i.appendChild(t),t}const Lte=new Map;function Efe(e,n,t){return{[`${e}-status-success`]:"success"===n,[`${e}-status-warning`]:"warning"===n,[`${e}-status-error`]:"error"===n,[`${e}-status-validating`]:"validating"===n,[`${e}-has-feedback`]:t}}function Ife(e){const[n,t]=e;return!!n&&!!t&&t.isBeforeDay(n)}function LY(e){return Array.isArray(e)?e.map(n=>n instanceof Vr?n.clone():null):e instanceof Vr?e.clone():null}class Vr{constructor(n){if(n)if(n instanceof Date)this.nativeDate=n;else{if("string"!=typeof n&&"number"!=typeof n)throw new Error('The input date type is not supported ("Date" is now recommended)');this.nativeDate=new Date(n)}else this.nativeDate=new Date}calendarStart(n){return new Vr(Fhe(function xze(e){Qn(1,arguments);var n=Fi(e);return n.setDate(1),n.setHours(0,0,0,0),n}(this.nativeDate),n))}getYear(){return this.nativeDate.getFullYear()}getMonth(){return this.nativeDate.getMonth()}getDay(){return this.nativeDate.getDay()}getTime(){return this.nativeDate.getTime()}getDate(){return this.nativeDate.getDate()}getHours(){return this.nativeDate.getHours()}getMinutes(){return this.nativeDate.getMinutes()}getSeconds(){return this.nativeDate.getSeconds()}getMilliseconds(){return this.nativeDate.getMilliseconds()}clone(){return new Vr(new Date(this.nativeDate))}setHms(n,t,i){const r=new Date(this.nativeDate.setHours(n,t,i));return new Vr(r)}setYear(n){return new Vr(function bze(e,n){Qn(2,arguments);var t=Fi(e),i=rs(n);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(i),t)}(this.nativeDate,n))}addYears(n){return new Vr(function Cze(e,n){Qn(2,arguments);var t=rs(n);return mfe(e,12*t)}(this.nativeDate,n))}setMonth(n){return new Vr(function Sze(e,n){Qn(2,arguments);var t=Fi(e),i=rs(n),r=t.getFullYear(),o=t.getDate(),l=new Date(0);l.setFullYear(r,i,15),l.setHours(0,0,0,0);var h=wze(l);return t.setMonth(i,Math.min(o,h)),t}(this.nativeDate,n))}addMonths(n){return new Vr(mfe(this.nativeDate,n))}setDay(n,t){return new Vr(function Mze(e,n,t){var i,r,o,l,h,f,m,_;Qn(2,arguments);var b=_4(),S=rs(null!==(i=null!==(r=null!==(o=null!==(l=t?.weekStartsOn)&&void 0!==l?l:null==t||null===(h=t.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==o?o:b.weekStartsOn)&&void 0!==r?r:null===(m=b.locale)||void 0===m||null===(_=m.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==i?i:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=Fi(e),O=rs(n),I=M.getDay(),V=(O%7+7)%7,G=7-S;return Tze(M,O<0||O>6?O-(I+G)%7:(V+G)%7-(I+G)%7)}(this.nativeDate,n,t))}setDate(n){const t=new Date(this.nativeDate);return t.setDate(n),new Vr(t)}addDays(n){return this.setDate(this.getDate()+n)}add(n,t){switch(t){case"decade":return this.addYears(10*n);case"year":return this.addYears(n);default:return this.addMonths(n)}}isSame(n,t="day"){let i;switch(t){case"decade":i=(r,o)=>Math.abs(r.getFullYear()-o.getFullYear())<11;break;case"year":i=Dze;break;case"month":i=Pze;break;case"day":default:i=wte;break;case"hour":i=Aze;break;case"minute":i=zze;break;case"second":i=kze}return i(this.nativeDate,this.toNativeDate(n))}isSameYear(n){return this.isSame(n,"year")}isSameMonth(n){return this.isSame(n,"month")}isSameDay(n){return this.isSame(n,"day")}isSameHour(n){return this.isSame(n,"hour")}isSameMinute(n){return this.isSame(n,"minute")}isSameSecond(n){return this.isSame(n,"second")}isBefore(n,t="day"){if(null===n)return!1;let i;switch(t){case"year":i=Oze;break;case"month":i=Eze;break;case"day":default:i=xfe;break;case"hour":i=Rze;break;case"minute":i=Nze;break;case"second":i=Fze}return i(this.nativeDate,this.toNativeDate(n))<0}isBeforeYear(n){return this.isBefore(n,"year")}isBeforeMonth(n){return this.isBefore(n,"month")}isBeforeDay(n){return this.isBefore(n,"day")}isToday(){return function Bze(e){return Qn(1,arguments),wte(e,Date.now())}(this.nativeDate)}isValid(){return Bhe(this.nativeDate)}isFirstDayOfMonth(){return function Vze(e){return Qn(1,arguments),1===Fi(e).getDate()}(this.nativeDate)}isLastDayOfMonth(){return function Uze(e){Qn(1,arguments);var n=Fi(e);return Hze(n).getTime()===Yze(n).getTime()}(this.nativeDate)}toNativeDate(n){return n instanceof Vr?n.nativeDate:n}}class ake{constructor(n,t){this.format=n,this.localeId=t,this.regex=null,this.matchMap={hour:null,minute:null,second:null,periodNarrow:null,periodWide:null,periodAbbreviated:null},this.genRegexp()}toDate(n){const t=this.getTimeResult(n),i=new Date;return Lo(t?.hour)&&i.setHours(t.hour),Lo(t?.minute)&&i.setMinutes(t.minute),Lo(t?.second)&&i.setSeconds(t.second),1===t?.period&&i.getHours()<12&&i.setHours(i.getHours()+12),i}getTimeResult(n){const t=this.regex.exec(n);let i=null;return t?(Lo(this.matchMap.periodNarrow)&&(i=vd(this.localeId,oo.Format,vi.Narrow).indexOf(t[this.matchMap.periodNarrow+1])),Lo(this.matchMap.periodWide)&&(i=vd(this.localeId,oo.Format,vi.Wide).indexOf(t[this.matchMap.periodWide+1])),Lo(this.matchMap.periodAbbreviated)&&(i=vd(this.localeId,oo.Format,vi.Abbreviated).indexOf(t[this.matchMap.periodAbbreviated+1])),{hour:Lo(this.matchMap.hour)?Number.parseInt(t[this.matchMap.hour+1],10):null,minute:Lo(this.matchMap.minute)?Number.parseInt(t[this.matchMap.minute+1],10):null,second:Lo(this.matchMap.second)?Number.parseInt(t[this.matchMap.second+1],10):null,period:i}):null}genRegexp(){let n=this.format.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&");const t=/h{1,2}/i,i=/m{1,2}/,r=/s{1,2}/,o=/aaaaa/,l=/aaaa/,h=/a{1,3}/,f=t.exec(this.format),m=i.exec(this.format),_=r.exec(this.format),b=o.exec(this.format);let S=null,M=null;b||(S=l.exec(this.format)),!S&&!b&&(M=h.exec(this.format)),[f,m,_,b,S,M].filter(I=>!!I).sort((I,N)=>I.index-N.index).forEach((I,N)=>{switch(I){case f:this.matchMap.hour=N,n=n.replace(t,"(\\d{1,2})");break;case m:this.matchMap.minute=N,n=n.replace(i,"(\\d{1,2})");break;case _:this.matchMap.second=N,n=n.replace(r,"(\\d{1,2})");break;case b:this.matchMap.periodNarrow=N;const V=vd(this.localeId,oo.Format,vi.Narrow).join("|");n=n.replace(o,`(${V})`);break;case S:this.matchMap.periodWide=N;const G=vd(this.localeId,oo.Format,vi.Wide).join("|");n=n.replace(l,`(${G})`);break;case M:this.matchMap.periodAbbreviated=N;const X=vd(this.localeId,oo.Format,vi.Abbreviated).join("|");n=n.replace(h,`(${X})`)}}),this.regex=new RegExp(n)}}var Lfe={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"}},ske={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"},CronExpression:{cronError:"cron \u8868\u8fbe\u5f0f\u4e0d\u5408\u6cd5",second:"\u79d2",minute:"\u5206\u949f",hour:"\u5c0f\u65f6",day:"\u65e5",month:"\u6708",week:"\u5468",secondError:"<p><span>*</span>\u4efb\u610f\u503c</p><p><span>,</span>\u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span>\u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span>\u5e73\u5747\u5206\u914d</p><p><span>0-59</span>\u5141\u8bb8\u8303\u56f4</p>",minuteError:"<p><span>*</span>\u4efb\u610f\u503c</p><p><span>,</span>\u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span>\u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span>\u5e73\u5747\u5206\u914d</p><p><span>0-59</span>\u5141\u8bb8\u8303\u56f4</p>",hourError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>0-23</span> \u5141\u8bb8\u8303\u56f4</p>",dayError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>1-31</span> \u5141\u8bb8\u8303\u56f4</p>",monthError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>1-12</span> \u5141\u8bb8\u8303\u56f4</p>",weekError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>?</span> \u4e0d\u6307\u5b9a</p><p><span>0-7</span> \u5141\u8bb8\u8303\u56f4\uff080\u4ee3\u8868\u5468\u65e5\uff0c1-7\u4f9d\u6b21\u4e3a\u5468\u4e00\u5230\u5468\u65e5\uff09</p>"}};const Rfe=new pt("nz-i18n"),lke=new pt("nz-date-locale");let x4=(()=>{class e{constructor(t,i){this._change=new wn(this._locale),this.setLocale(t||ske),this.setDateLocale(i||null)}get localeChange(){return this._change.asObservable()}translate(t,i){let r=this._getObjectPath(this._locale,t);return"string"==typeof r?(i&&Object.keys(i).forEach(o=>r=r.replace(new RegExp(`%${o}%`,"g"),i[o])),r):t}setLocale(t){this._locale&&this._locale.locale===t.locale||(this._locale=t,this._change.next(t))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(t){this.dateLocale=t}getDateLocale(){return this.dateLocale}getLocaleData(t,i){const r=t?this._getObjectPath(this._locale,t):this._locale;return r||i||this._getObjectPath(Lfe,t)||{}}_getObjectPath(t,i){let r=t;const o=i.split("."),l=o.length;let h=0;for(;r&&h<l;)r=r[o[h++]];return h===l?r:null}}return e.\u0275fac=function(t){return new(t||e)(Ve(Rfe,8),Ve(lke,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cke=(()=>{class e{constructor(t){this._locale=t}transform(t,i){return this._locale.translate(t,i)}}return e.\u0275fac=function(t){return new(t||e)(de(x4,16))},e.\u0275pipe=Ns({name:"nzI18n",type:e,pure:!0}),e})(),p6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();const Nfe=new pt("date-config"),uke={firstDayOfWeek:void 0};let dm=(()=>{class e{constructor(t,i){this.i18n=t,this.config=i,this.config=function hke(e){return{...uke,...e}}(this.config)}}return e.\u0275fac=function(t){return new(t||e)(Ve(x4),Ve(Nfe,8))},e.\u0275prov=mt({token:e,factory:function(t){let i=null;return i=t?new t:function dke(e,n){const t=e.get(x4);return t.getDateLocale()?new fke(t,n):new pke(t,n)}(Ve(xs),Ve(Nfe,8)),i},providedIn:"root"}),e})();class fke extends dm{getISOWeek(n){return function FTe(e){Qn(1,arguments);var n=Fi(e),t=pH(n).getTime()-RTe(n).getTime();return Math.round(t/6048e5)+1}(n)}getFirstDayOfWeek(){let n;try{n=this.i18n.getDateLocale().options.weekStartsOn}catch{n=1}return null==this.config.firstDayOfWeek?n:this.config.firstDayOfWeek}format(n,t){return n?function YMe(e,n,t){var i,r,o,l,h,f,m,_,b,S,M,O,I,N,V,G,X,K;Qn(2,arguments);var ne=String(n),ie=_4(),pe=null!==(i=null!==(r=t?.locale)&&void 0!==r?r:ie.locale)&&void 0!==i?i:Zhe,ve=rs(null!==(o=null!==(l=null!==(h=null!==(f=t?.firstWeekContainsDate)&&void 0!==f?f:null==t||null===(m=t.locale)||void 0===m||null===(_=m.options)||void 0===_?void 0:_.firstWeekContainsDate)&&void 0!==h?h:ie.firstWeekContainsDate)&&void 0!==l?l:null===(b=ie.locale)||void 0===b||null===(S=b.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==o?o:1);if(!(ve>=1&&ve<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ye=rs(null!==(M=null!==(O=null!==(I=null!==(N=t?.weekStartsOn)&&void 0!==N?N:null==t||null===(V=t.locale)||void 0===V||null===(G=V.options)||void 0===G?void 0:G.weekStartsOn)&&void 0!==I?I:ie.weekStartsOn)&&void 0!==O?O:null===(X=ie.locale)||void 0===X||null===(K=X.options)||void 0===K?void 0:K.weekStartsOn)&&void 0!==M?M:0);if(!(ye>=0&&ye<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!pe.localize)throw new RangeError("locale must contain localize property");if(!pe.formatLong)throw new RangeError("locale must contain formatLong property");var Se=Fi(e);if(!Bhe(Se))throw new RangeError("Invalid time value");var xe=mH(Se),De=Vhe(Se,xe),Pe={firstWeekContainsDate:ve,weekStartsOn:ye,locale:pe,_originalDate:Se},Re=ne.match(FMe).map(function(ke){var Oe=ke[0];return"p"===Oe||"P"===Oe?(0,aee[Oe])(ke,pe.formatLong):ke}).join("").match(NMe).map(function(ke){if("''"===ke)return"'";var Oe=ke[0];if("'"===Oe)return UMe(ke);var Ye=qTe[Oe];if(Ye)return!(null!=t&&t.useAdditionalWeekYearTokens)&&qhe(ke)&&vH(ke,n,String(e)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&Xhe(ke)&&vH(ke,n,String(e)),Ye(De,ke,pe.localize,Pe);if(Oe.match(HMe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Oe+"`");return ke}).join("");return Re}(n,t,{locale:this.i18n.getDateLocale()}):""}parseDate(n,t){return function _ze(e,n,t,i){var r,o,l,h,f,m,_,b,S,M,O,I,N,V,G,X,K,ne;Qn(3,arguments);var ie=String(e),pe=String(n),ve=_4(),ye=null!==(r=null!==(o=i?.locale)&&void 0!==o?o:ve.locale)&&void 0!==r?r:Zhe;if(!ye.match)throw new RangeError("locale must contain match property");var Se=rs(null!==(l=null!==(h=null!==(f=null!==(m=i?.firstWeekContainsDate)&&void 0!==m?m:null==i||null===(_=i.locale)||void 0===_||null===(b=_.options)||void 0===b?void 0:b.firstWeekContainsDate)&&void 0!==f?f:ve.firstWeekContainsDate)&&void 0!==h?h:null===(S=ve.locale)||void 0===S||null===(M=S.options)||void 0===M?void 0:M.firstWeekContainsDate)&&void 0!==l?l:1);if(!(Se>=1&&Se<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var xe=rs(null!==(O=null!==(I=null!==(N=null!==(V=i?.weekStartsOn)&&void 0!==V?V:null==i||null===(G=i.locale)||void 0===G||null===(X=G.options)||void 0===X?void 0:X.weekStartsOn)&&void 0!==N?N:ve.weekStartsOn)&&void 0!==I?I:null===(K=ve.locale)||void 0===K||null===(ne=K.options)||void 0===ne?void 0:ne.weekStartsOn)&&void 0!==O?O:0);if(!(xe>=0&&xe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===pe)return""===ie?Fi(t):new Date(NaN);var Ye,De={firstWeekContainsDate:Se,weekStartsOn:xe,locale:ye},Pe=[new qMe],Re=pe.match(fze).map(function(Nn){var ht=Nn[0];return ht in aee?(0,aee[ht])(Nn,ye.formatLong):Nn}).join("").match(dze),ke=[],Oe=pfe(Re);try{var Ge=function(){var ht=Ye.value;!(null!=i&&i.useAdditionalWeekYearTokens)&&qhe(ht)&&vH(ht,pe,e),(null==i||!i.useAdditionalDayOfYearTokens)&&Xhe(ht)&&vH(ht,pe,e);var Yt=ht[0],gn=uze[Yt];if(gn){var Mt=gn.incompatibleTokens;if(Array.isArray(Mt)){var Jn=ke.find(function(ir){return Mt.includes(ir.token)||ir.token===Yt});if(Jn)throw new RangeError("The format string mustn't contain `".concat(Jn.fullToken,"` and `").concat(ht,"` at the same time"))}else if("*"===gn.incompatibleTokens&&ke.length>0)throw new RangeError("The format string mustn't contain `".concat(ht,"` and any other token at the same time"));ke.push({token:Yt,fullToken:ht});var Hn=gn.run(ie,ht,ye.match,De);if(!Hn)return{v:new Date(NaN)};Pe.push(Hn.setter),ie=Hn.rest}else{if(Yt.match(vze))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Yt+"`");if("''"===ht?ht="'":"'"===Yt&&(ht=yze(ht)),0!==ie.indexOf(ht))return{v:new Date(NaN)};ie=ie.slice(ht.length)}};for(Oe.s();!(Ye=Oe.n()).done;){var ct=Ge();if("object"===kY(ct))return ct.v}}catch(Nn){Oe.e(Nn)}finally{Oe.f()}if(ie.length>0&&mze.test(ie))return new Date(NaN);var We=Pe.map(function(Nn){return Nn.priority}).sort(function(Nn,ht){return ht-Nn}).filter(function(Nn,ht,Yt){return Yt.indexOf(Nn)===ht}).map(function(Nn){return Pe.filter(function(ht){return ht.priority===Nn}).sort(function(ht,Yt){return Yt.subPriority-ht.subPriority})}).map(function(Nn){return Nn[0]}),Tt=Fi(t);if(isNaN(Tt.getTime()))return new Date(NaN);var zn,Lt=Vhe(Tt,mH(Tt)),An={},Qt=pfe(We);try{for(Qt.s();!(zn=Qt.n()).done;){var Ar=zn.value;if(!Ar.validate(Lt,De))return new Date(NaN);var vn=Ar.set(Lt,An,De);Array.isArray(vn)?(Lt=vn[0],GMe(An,vn[1])):Lt=vn}}catch(Nn){Qt.e(Nn)}finally{Qt.f()}return Lt}(n,t,new Date,{locale:this.i18n.getDateLocale(),weekStartsOn:this.getFirstDayOfWeek()})}parseTime(n,t){return this.parseDate(n,t)}}class pke extends dm{getISOWeek(n){return+this.format(n,"w")}getFirstDayOfWeek(){if(void 0===this.config.firstDayOfWeek){const n=this.i18n.getLocaleId();return n&&["zh-cn","zh-tw"].indexOf(n.toLowerCase())>-1?1:0}return this.config.firstDayOfWeek}format(n,t){return n?LC(n,t,this.i18n.getLocaleId()):""}parseDate(n){return new Date(n)}parseTime(n,t){return new ake(t,this.i18n.getLocaleId()).toDate(n)}}class Gz{}Gz.\u0275fac=function(n){return new(n||Gz)},Gz.\u0275cmp=ut({type:Gz,selectors:[["app-root"]],decls:1,vars:0,template:function(n,t){1&n&&Fe(0,"router-outlet")},dependencies:[pv],encapsulation:2});let Ffe=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(de(_r),de(Vt))},e.\u0275dir=St({type:e}),e})(),g6=(()=>{class e extends Ffe{}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275dir=St({type:e,features:[Zn]}),e})();const Ps=new pt("NgValueAccessor"),mke={provide:Ps,useExisting:Yi(()=>Rte),multi:!0};let Rte=(()=>{class e extends g6{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275dir=St({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&He("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ln([mke]),Zn]}),e})();const vke={provide:Ps,useExisting:Yi(()=>Pv),multi:!0},Bfe=new pt("CompositionEventMode");let Pv=(()=>{class e extends Ffe{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _ke(){const e=Wc()?Wc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(de(_r),de(Vt),de(Bfe,8))},e.\u0275dir=St({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&He("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ln([vke]),Zn]}),e})();function b4(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Vfe(e){return null!=e&&"number"==typeof e.length}const $c=new pt("NgValidators"),C4=new pt("NgAsyncValidators"),xke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mo{static min(n){return function Hfe(e){return n=>{if(b4(n.value)||b4(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function Yfe(e){return n=>{if(b4(n.value)||b4(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return Ufe(n)}static requiredTrue(n){return function Gfe(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function Wfe(e){return b4(e.value)||xke.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function jfe(e){return n=>b4(n.value)||!Vfe(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return $fe(n)}static pattern(n){return function Xfe(e){if(!e)return RY;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(b4(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return epe(n)}static composeAsync(n){return tpe(n)}}function Ufe(e){return b4(e.value)?{required:!0}:null}function $fe(e){return n=>Vfe(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function RY(e){return null}function qfe(e){return null!=e}function Zfe(e){return R0(e)?xo(e):e}function Kfe(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Qfe(e,n){return n.map(t=>t(e))}function Jfe(e){return e.map(n=>function bke(e){return!e.validate}(n)?n:t=>n.validate(t))}function epe(e){if(!e)return null;const n=e.filter(qfe);return 0==n.length?null:function(t){return Kfe(Qfe(t,n))}}function Nte(e){return null!=e?epe(Jfe(e)):null}function tpe(e){if(!e)return null;const n=e.filter(qfe);return 0==n.length?null:function(t){return function gke(...e){const n=b3(e),{args:t,keys:i}=lB(e),r=new Wn(o=>{const{length:l}=t;if(!l)return void o.complete();const h=new Array(l);let f=l,m=l;for(let _=0;_<l;_++){let b=!1;Fo(t[_]).subscribe(new rt(o,S=>{b||(b=!0,m--),h[_]=S},()=>f--,void 0,()=>{(!f||!b)&&(m||o.next(i?yA(i,h):h),o.complete())}))}});return n?r.pipe(r7(n)):r}(Qfe(t,n).map(Zfe)).pipe(Je(Kfe))}}function Fte(e){return null!=e?tpe(Jfe(e)):null}function npe(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function ipe(e){return e._rawValidators}function rpe(e){return e._rawAsyncValidators}function Bte(e){return e?Array.isArray(e)?e:[e]:[]}function NY(e,n){return Array.isArray(e)?e.includes(n):e===n}function ope(e,n){const t=Bte(n);return Bte(e).forEach(r=>{NY(t,r)||t.push(r)}),t}function ape(e,n){return Bte(n).filter(t=>!NY(e,t))}class spe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Nte(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Fte(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Vu extends spe{get formDirective(){return null}get path(){return null}}class w4 extends spe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lpe{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vl=(()=>{class e extends lpe{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(de(w4,2))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Zn]}),e})(),S4=(()=>{class e extends lpe{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(de(Vu,10))},e.\u0275dir=St({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Zn]}),e})();const Wz="VALID",BY="INVALID",lw="PENDING",jz="DISABLED";function Ute(e){return(VY(e)?e.validators:e)||null}function Gte(e,n){return(VY(n)?n.asyncValidators:e)||null}function VY(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function upe(e,n,t){const i=e.controls;if(!(n?Object.keys(i):i).length)throw new dt(1e3,"");if(!i[t])throw new dt(1001,"")}function hpe(e,n,t){e._forEachChild((i,r)=>{if(void 0===t[r])throw new dt(1002,"")})}class HY{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Wz}get invalid(){return this.status===BY}get pending(){return this.status==lw}get disabled(){return this.status===jz}get enabled(){return this.status!==jz}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(ope(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ope(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ape(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ape(n,this._rawAsyncValidators))}hasValidator(n){return NY(this._rawValidators,n)}hasAsyncValidator(n){return NY(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=lw,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=jz,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Wz,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wz||this.status===lw)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jz:Wz}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=lw,this._hasOwnPendingAsyncValidator=!0;const t=Zfe(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?jz:this.errors?BY:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lw)?lw:this._anyControlsHaveStatus(BY)?BY:Wz}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){VY(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Pke(e){return Array.isArray(e)?Nte(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Ake(e){return Array.isArray(e)?Fte(e):e||null}(this._rawAsyncValidators)}}class $z extends HY{constructor(n,t,i){super(Ute(t),Gte(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){hpe(this,0,n),Object.keys(n).forEach(i=>{upe(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class dpe extends $z{}const cw=new pt("CallSetDisabledState",{providedIn:"root",factory:()=>YY}),YY="always";function UY(e,n){return[...n.path,e]}function Xz(e,n,t=YY){Wte(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function kke(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&fpe(e,n)})}(e,n),function Eke(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function Oke(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&fpe(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function zke(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function GY(e,n,t=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),jY(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function WY(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Wte(e,n){const t=ipe(e);null!==n.validator?e.setValidators(npe(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=rpe(e);null!==n.asyncValidator?e.setAsyncValidators(npe(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();WY(n._rawValidators,r),WY(n._rawAsyncValidators,r)}function jY(e,n){let t=!1;if(null!==e){if(null!==n.validator){const r=ipe(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const r=rpe(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}const i=()=>{};return WY(n._rawValidators,i),WY(n._rawAsyncValidators,i),t}function fpe(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $te(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function Xte(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===Pv?t=o:function Rke(e){return Object.getPrototypeOf(e.constructor)===g6}(o)?i=o:r=o}),r||i||t||null}function mpe(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function vpe(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const uw=class extends HY{constructor(n=null,t,i){super(Ute(t),Gte(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),VY(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=vpe(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){mpe(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){mpe(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){vpe(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Hke={provide:w4,useExisting:Yi(()=>Wf)},xpe=(()=>Promise.resolve())();let Wf=(()=>{class e extends w4{constructor(t,i,r,o,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new uw,this._registered=!1,this.update=new et,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Xte(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$te(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xz(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xpe.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Q0(i);xpe.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?UY(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(de(Vu,9),de($c,10),de(C4,10),de(Ps,10),de(pr,8),de(cw,8))},e.\u0275dir=St({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ln([Hke]),Zn,Le]}),e})(),T4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Cpe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();const Zte=new pt("NgModelWithFormControlWarning"),jke={provide:w4,useExisting:Yi(()=>Kte)};let Kte=(()=>{class e extends w4{set isDisabled(t){}constructor(t,i,r,o,l){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=l,this.update=new et,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Xte(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&GY(i,this,!1),Xz(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}$te(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&GY(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(de($c,10),de(C4,10),de(Ps,10),de(Zte,8),de(cw,8))},e.\u0275dir=St({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ln([jke]),Zn,Le]}),e})();const $ke={provide:Vu,useExisting:Yi(()=>fm)};let fm=(()=>{class e extends Vu{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jY(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Xz(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){GY(t.control||null,t,!1),function Nke(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function gpe(e,n){e._syncPendingControls(),n.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(GY(i||null,t),(e=>e instanceof uw)(r)&&(Xz(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function ppe(e,n){Wte(e,n)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Ike(e,n){return jY(e,n)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wte(this.form,this),this._oldForm&&jY(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(de($c,10),de(C4,10),de(cw,8))},e.\u0275dir=St({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&He("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ln([$ke]),Zn,Le]}),e})();const Zke={provide:w4,useExisting:Yi(()=>Av)};let Av=(()=>{class e extends w4{set isDisabled(t){}constructor(t,i,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Xte(0,o)}ngOnChanges(t){this._added||this._setUpControl(),$te(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return UY(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(de(Vu,13),de($c,10),de(C4,10),de(Ps,10),de(Zte,8))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ln([Zke]),Zn,Le]}),e})();let m6=(()=>{class e{constructor(){this._validator=RY}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):RY,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,features:[Le]}),e})();const oOe={provide:$c,useExisting:Yi(()=>$Y),multi:!0};let $Y=(()=>{class e extends m6{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Q0,this.createValidator=t=>Ufe}enabled(t){return t}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275dir=St({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&oi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ln([oOe]),Zn]}),e})();const cOe={provide:$c,useExisting:Yi(()=>XY),multi:!0};let XY=(()=>{class e extends m6{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Ppe(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>$fe(t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275dir=St({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&oi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ln([cOe]),Zn]}),e})(),Rpe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[Cpe]}),e})();class Npe extends HY{constructor(n,t,i){super(Ute(t),Gte(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){hpe(this,0,n),n.forEach((i,r)=>{upe(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function Fpe(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let zv=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return Fpe(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new $z(r,o)}record(t,i=null){const r=this._reduceControls(t);return new dpe(r,i)}control(t,i,r){let o={};return this.useNonNullable?(Fpe(i)?o=i:(o.validators=i,o.asyncValidators=r),new uw(t,{...o,nonNullable:!0})):new uw(t,i,r)}array(t,i,r){const o=t.map(l=>this._createControl(l));return new Npe(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof uw||t instanceof HY?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jf=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:cw,useValue:t.callSetDisabledState??YY}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[Rpe]}),e})(),nne=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Zte,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:cw,useValue:t.callSetDisabledState??YY}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[Rpe]}),e})();const Vpe="[Settings] Update",Hpe="[Settings] Reset",Ype="[Settings] Sidebar state";class hw{constructor(n){this.data=n,this.type=Vpe}}class hOe{constructor(){this.type=Hpe}}class Upe{constructor(n){this.data=n,this.type=Ype}}const Gpe="[Patients] Set",Wpe="[Patients] Add";class dOe{constructor(n){this.data=n,this.type=Gpe}}class fOe{constructor(n){this.data=n,this.type=Wpe}}const kv_base_api="http://localhost:3000/api/",kv_appSettings={boxed:!0,layout:"vertical",sidebarBg:"#FBFBFB",sidebarColor:"#1F2022",sidebarOpened:!1,topbarBg:"#ffffff",topbarColor:"#1F2022"},kv_version="2.6.0";class Dc{constructor(n){this.http=n}getData(n){return this.http.get(n).pipe(Io(t=>t),ea(this.handleError))}postdata(n,t){return this.http.post(kv_base_api+t,n).pipe(Io(i=>i),ea(this.handleError))}putData(n,t){return this.http.put(kv_base_api+t,n).pipe(Io(i=>i),ea(this.handleError))}DeleteData(n,t){return this.http.delete(kv_base_api+t+"?"+n).pipe(Io(i=>i),ea(this.handleError))}handleError(n){return lv(n.error||"Server error")}}Dc.\u0275fac=function(n){return new(n||Dc)(Ve(q7))},Dc.\u0275prov=mt({token:Dc,factory:Dc.\u0275fac,providedIn:"root"});class dw{constructor(n,t,i,r,o){this.store=n,this.fb=t,this.httpSv=i,this.router=r,this.elRef=o,this.searchData=[],this.scrolled=!1,this.patients=[]}ngOnInit(){this.store.select("pageData").subscribe(n=>{setTimeout(()=>{this.pageData=n||null,n.loaded&&(this.loaded=!0)})}),this.store.select("appSettings").subscribe(n=>{n&&(this.appSettings=n)}),this.getSearchData("assets/data/menu.json"),this.getData("assets/data/patients.json","patients","setPatients"),this.initSearchForm(),this.scrollToTop()}getData(n,t,i){this.httpSv.getData(n).subscribe(r=>{this[t]=r},r=>{console.log(r)},()=>{i&&"function"==typeof this[i]&&this[i](this[t])})}getSearchData(n){this.httpSv.getData(n).subscribe(t=>{this.getItemsRouters(t)},t=>{console.log(t)})}getItemsRouters(n){let t=[];n.forEach(i=>{i.groupTitle||(i.sub?this.deploySubItems(i,t):t.push(i))}),this.searchData=t}deploySubItems(n,t){n.sub.forEach(i=>{i.sub?this.deploySubItems(i,t):(i.title=`${n.title} > ${i.title}`,t.push(i))})}initSearchForm(){this.searchForm=this.fb.group({search:""})}toggleSidebar(n){this.store.dispatch(new Upe(n))}onScroll(n){this.scrolled=n.target.scrollTop>0}scrollToTop(){this.router.events.subscribe(n=>{if(!(n instanceof Vf))return;const t=this.elRef.nativeElement.querySelector(".main-content")||window;setTimeout(()=>{t.scrollTo(0,0)})})}setPatients(){this.store.dispatch(new dOe(this.patients))}}function pOe(e,n){if(1&e){const t=Ft();se(0,"div",8),He("click",function(){Xe(t);const r=ue();return Ze(r.closeWindow(r.options.overlayClose))}),le()}}function gOe(e,n){if(1&e){const t=Ft();se(0,"button",9),He("click",function(){return Xe(t),Ze(ue().closeWindow(!0))}),Fe(1,"i",10),le()}}function mOe(e,n){if(1&e&&(se(0,"h2",13),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.title)}}function vOe(e,n){}function _Oe(e,n){1&e&&ge(0,vOe,0,0,"ng-template",14),2&e&&ee("ngTemplateOutlet",ue(2).header)}function yOe(e,n){if(1&e&&(se(0,"div",11),ge(1,mOe,2,1,"h2",12),ge(2,_Oe,1,1,null,6),le()),2&e){const t=ue();J(1),ee("ngIf",t.title),J(1),ee("ngIf",!t.title)}}function xOe(e,n){if(1&e&&(se(0,"p"),Be(1),le()),2&e){const t=ue();J(1),Bt(t.bodyText)}}function bOe(e,n){}function COe(e,n){1&e&&ge(0,bOe,0,0,"ng-template",14),2&e&&ee("ngTemplateOutlet",ue().body)}function wOe(e,n){if(1&e&&(se(0,"p"),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.footerText)}}function SOe(e,n){}function TOe(e,n){1&e&&ge(0,SOe,0,0,"ng-template",14),2&e&&ee("ngTemplateOutlet",ue(2).footer)}function MOe(e,n){if(1&e&&(se(0,"div",15),ge(1,wOe,2,1,"p",6),ge(2,TOe,1,1,null,6),le()),2&e){const t=ue();J(1),ee("ngIf",t.footerText),J(1),ee("ngIf",!t.footerText)}}dw.\u0275fac=function(n){return new(n||dw)(de(Mc),de(zv),de(Dc),de(go),de(Vt))},dw.\u0275cmp=ut({type:dw,selectors:[["base-layout"]],decls:2,vars:0,template:function(n,t){1&n&&(se(0,"p"),Be(1," base-layout works!\n"),le())},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{height:100%;overflow-x:hidden;overflow-y:auto;margin-bottom:4.2857142857rem;position:relative;transition:.2s padding 0s ease-in-out;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{min-height:calc(100% - 2.8571428571rem);margin:0 auto;opacity:0;padding:2.1428571429rem 1.4285714286rem 2.8571428571rem;transition:.2s opacity 0s ease-in-out}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap.full-filled[_ngcontent-%COMP%]{height:100%;max-width:100%!important;min-height:100%;padding:0}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#1f202280;font-size:2rem;margin:0 0 1.4285714286rem}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]{color:#1f202280;font-size:.8rem;line-height:2;margin:0 0 1.4285714286rem}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content.loaded[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{opacity:1;transition:0s opacity 0s ease-in-out}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .content-overlay[_ngcontent-%COMP%]{background:rgba(31,32,34,.1);height:100%;left:0;position:absolute;top:0;visibility:hidden;width:100%}@media (max-width: 991px){[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .content-overlay.show[_ngcontent-%COMP%]{visibility:visible}}[_nghost-%COMP%]   .app-container.boxed[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{max-width:1140px;max-width:var(--boxed-width)}"]});const DOe=function(e,n){return{width:e,height:n}};class Zz{get class(){return"tc-modal"}constructor(n,t){this.renderer=n,this.elementRef=t,this.defaultOtions={height:"auto",width:500,closeButton:!1,overlay:!0,overlayClose:!0},this.close=new et}ngOnInit(){this.options={...this.defaultOtions,...this.options},"number"==typeof this.options.height&&(this.options.height=this.options.height+"px"),"number"==typeof this.options.width&&(this.options.width=this.options.width+"px"),this.getStringData(this.header,"title"),this.getStringData(this.body,"bodyText"),this.getStringData(this.footer,"footerText");let n=this.elementRef.nativeElement;setTimeout(()=>{this.renderer.addClass(n,this.opened?"opened":"closed")})}ngOnDestroy(){}getStringData(n,t){this[t]="string"==typeof n?n:null}hideModal(){this.renderer.removeClass(this.elementRef.nativeElement,"opened")}closeWindow(n){n&&this.close.emit(!0)}}Zz.\u0275fac=function(n){return new(n||Zz)(de(_r),de(Vt))},Zz.\u0275cmp=ut({type:Zz,selectors:[["tc-modal"]],hostVars:2,hostBindings:function(n,t){2&n&&Di(t.class)},inputs:{body:"body",header:"header",footer:"footer",opened:"opened",options:"options"},outputs:{close:"close"},decls:9,vars:10,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-window-wrap"],[1,"modal-window",3,"ngStyle"],["class","no-style close-modal",3,"click",4,"ngIf"],["class","modal-header",4,"ngIf"],[1,"modal-body"],[4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"no-style","close-modal",3,"click"],[1,"icofont-close-line"],[1,"modal-header"],["class","title",4,"ngIf"],[1,"title"],[3,"ngTemplateOutlet"],[1,"modal-footer"]],template:function(n,t){1&n&&(ge(0,pOe,1,0,"div",0),se(1,"div",1)(2,"div",2),ge(3,gOe,2,0,"button",3),ge(4,yOe,3,2,"div",4),se(5,"div",5),ge(6,xOe,2,1,"p",6),ge(7,COe,1,1,null,6),le(),ge(8,MOe,3,2,"div",7),le()()),2&n&&(ee("ngIf",t.options.overlay),J(2),ee("ngStyle",Cs(7,DOe,t.options.width,t.options.height)),J(1),ee("ngIf",t.options.closeButton),J(1),ee("ngIf",t.header),J(2),ee("ngIf",t.bodyText),J(1),ee("ngIf",!t.bodyText),J(1),ee("ngIf",t.footer))},dependencies:[hn,Yr,Ys],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{align-items:center;display:flex;justify-content:center;left:0;height:100%;max-height:100%;max-width:100%;position:fixed;top:0;width:100%;z-index:9997}[_nghost-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);height:100%;left:0;opacity:0;position:absolute;top:0;transition:.2s opacity ease-in-out;width:100%}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]{max-height:100%;max-width:100%;overflow:auto;padding:1.4285714286rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]{background:#fff;border-radius:6px;box-shadow:0 18px 24px #0000001f;max-height:100%;max-width:100%;opacity:0;position:relative;transition:opacity .2s ease-in-out;width:35.7142857143rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{font-size:20px;line-height:1;position:absolute;right:3px;top:3px;transition:.2s color ease-in-out}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]:hover{color:#ed5564}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{align-items:center;display:flex;margin:-.3571428571rem;padding:1.4285714286rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]    >*{margin:.3571428571rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]     .title{font-size:2rem;font-weight:500}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.4285714286rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{background:rgba(0,0,0,.05);padding:1.4285714286rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]     .actions{display:flex;flex-wrap:wrap;margin:-.3571428571rem}[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]     .actions>*{margin:.3571428571rem}.opened[_nghost-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{opacity:1;transition:.2s opacity 0s ease-in-out}.opened[_nghost-%COMP%]   .modal-window-wrap[_ngcontent-%COMP%]   .modal-window[_ngcontent-%COMP%]{opacity:1;transition:.2s opacity .2s ease-in-out}"]});class Dg{constructor(n,t,i,r){this.resolver=n,this.injector=t,this.appRef=i,this.document=r}open(n){const t=this.resolver.resolveComponentFactory(Zz);this.componentRef=t.create(this.injector),this.componentRef.instance.body=n.body,this.componentRef.instance.header=n.header,this.componentRef.instance.footer=n.footer,this.componentRef.instance.opened=!0,this.componentRef.instance.options=n.options,this.componentRef.instance.close.subscribe(r=>{r&&this.close()});let{nativeElement:i}=this.componentRef.location;this.componentRef.hostView.detectChanges(),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(i)}close(){this.componentRef&&(this.componentRef.instance.hideModal(),setTimeout(()=>{this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy()},300))}}Dg.\u0275fac=function(n){return new(n||Dg)(Ve(io),Ve(xs),Ve(If),Ve(ki))},Dg.\u0275prov=mt({token:Dg,factory:Dg.\u0275fac,providedIn:"root"});class M4{get class(){return"custom-bg-color"}get getStyle(){return this.currentBg}onMouseEnter(){this.currentBg=this.hoveredBg}onMouseLeave(){this.currentBg=this.defaultBg}ngOnInit(){this.setColors()}ngOnChanges(){this.setColors()}setColors(){const n=this.tcBgColor;if(!n)return null;this.defaultBg="string"==typeof n?n:n[0],this.hoveredBg="string"==typeof n?n:n[1],this.currentBg=this.defaultBg}}M4.\u0275fac=function(n){return new(n||M4)},M4.\u0275dir=St({type:M4,selectors:[["","tcBgColor",""]],hostVars:4,hostBindings:function(n,t){1&n&&He("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),2&n&&(Di(t.class),yn("background",t.getStyle))},inputs:{tcBgColor:"tcBgColor"},features:[Le]});class Hu{get class(){return"custom-color"}get getStyle(){return this.currentColor}onMouseEnter(){this.currentColor=this.hoveredColor}onMouseLeave(){this.currentColor=this.defaultColor}ngOnInit(){this.setColors()}ngOnChanges(){this.setColors()}setColors(){const n=this.tcColor;if(!n)return null;this.defaultColor="string"==typeof n?n:n[0],this.hoveredColor="string"==typeof n?n:n[1],this.currentColor=this.defaultColor}}function AOe(e,n){1&e&&Fe(0,"span"),2&e&&Jt("btn-icon before-icon ",ue().beforeIcon,"")}function zOe(e,n){1&e&&Fe(0,"span"),2&e&&Jt("btn-icon after-icon ",ue().afterIcon,"")}function kOe(e,n){1&e&&(se(0,"span",4),Fe(1,"i",5),le())}Hu.\u0275fac=function(n){return new(n||Hu)},Hu.\u0275dir=St({type:Hu,selectors:[["","tcColor",""]],hostVars:4,hostBindings:function(n,t){1&n&&He("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),2&n&&(Di(t.class),yn("color",t.getStyle))},inputs:{tcColor:"tcColor"},features:[Le]});const OOe=function(e){return{"border-style":e}};class Lh{get class(){return"tc-btn"}get alignLeft(){return"left"===this.align}get alignRight(){return"right"===this.align}get sizeSm(){return"sm"===this.size}get sizeLg(){return"lg"===this.size}get viewDefault(){return"default"===this.view}get viewAccent(){return"accent"===this.view}get viewInfo(){return"info"===this.view}get viewSuccess(){return"success"===this.view}get viewWarning(){return"warning"===this.view}get viewError(){return"error"===this.view}constructor(){this.block=!1,this.disabled=!1,this.load=!1,this.outline=!1,this.align="center",this.size="md",this.view="default",this.iconAnimation=!1}ngOnInit(){}}Lh.\u0275fac=function(n){return new(n||Lh)},Lh.\u0275cmp=ut({type:Lh,selectors:[["","tc-button",""]],hostVars:34,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("btn-block",t.block)("btn-square",t.square)("btn-disabled",t.disabled)("btn-load",t.load)("btn-outline",t.outline)("btn-icon-animation",t.iconAnimation)("btn-left",t.alignLeft)("btn-right",t.alignRight)("btn-sm",t.sizeSm)("btn-lg",t.sizeLg)("btn-default",t.viewDefault)("btn-accent",t.viewAccent)("btn-info",t.viewInfo)("btn-success",t.viewSuccess)("btn-warning",t.viewWarning)("btn-error",t.viewError))},inputs:{block:"block",square:"square",disabled:"disabled",load:"load",outline:"outline",iconAnimation:"iconAnimation",align:"align",size:"size",view:"view",tcLineStyle:"tcLineStyle",beforeIcon:"beforeIcon",afterIcon:"afterIcon"},attrs:["tc-button",""],ngContentSelectors:["*"],decls:6,vars:6,consts:[[1,"btn-line",3,"ngStyle"],[3,"class",4,"ngIf"],[1,"btn-text"],["class","btn-loader",4,"ngIf"],[1,"btn-loader"],[1,"icon","icofont-spinner"]],template:function(n,t){1&n&&(fr(),Fe(0,"span",0),ge(1,AOe,1,3,"span",1),se(2,"span",2),Ki(3),le(),ge(4,zOe,1,3,"span",1),ge(5,kOe,2,0,"span",3)),2&n&&(ee("ngStyle",ei(4,OOe,t.tcLineStyle)),J(1),ee("ngIf",t.beforeIcon),J(3),ee("ngIf",t.afterIcon),J(1),ee("ngIf",t.load))},dependencies:[hn,Ys],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{align-items:center;border:transparent 0 solid;border-radius:6px;box-shadow:0 18px 24px #0000001f;cursor:pointer;display:inline-flex;font-family:Lato,sans-serif;font-size:1rem;font-weight:700;justify-content:center;line-height:1.4285714286;outline:none;padding:.7142857143rem 1.0714285714rem;position:relative;text-align:center;text-transform:none;touch-action:manipulation;transition:background .2s ease-in-out,border .2s ease-in-out,box-shadow .2s ease-in-out,color .2s ease-in-out,opacity .2s ease-in-out;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;will-change:background,border,box-shadow,color,opacity;-webkit-appearance:none}[_nghost-%COMP%]:hover{border-color:transparent;box-shadow:0 8px 24px #0000001f}[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%]{margin:0 .3571428571rem;min-height:1.4285714286rem}[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%]:empty{margin:0}[_nghost-%COMP%]   .btn-line[_ngcontent-%COMP%]{border-width:1px;border-style:inherit;border-color:inherit;border-radius:inherit;inset:0;position:absolute;z-index:2}[_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .3571428571rem}[_nghost-%COMP%]   .btn-loader[_ngcontent-%COMP%]{align-items:center;border-radius:inherit;display:flex;font-size:150%;height:100%;justify-content:center;left:0;position:absolute;top:0;visibility:hidden;width:100%}[_nghost-%COMP%]   .btn-loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{animation:rotation 1s infinite linear}.btn-square[_nghost-%COMP%]{min-width:2.8571428571rem;padding-left:.3571428571rem;padding-right:.3571428571rem}.btn-square.btn-sm[_nghost-%COMP%]{min-width:2.1428571429rem}.btn-square.btn-lg[_nghost-%COMP%]{min-width:3.5714285714rem}.btn-block[_nghost-%COMP%]{display:block;width:100%}.btn-left[_nghost-%COMP%]{justify-content:flex-start;text-align:left}.btn-right[_nghost-%COMP%]{justify-content:flex-end;text-align:right}.btn-lg[_nghost-%COMP%]{font-size:1.2rem;line-height:1.1904761905;padding:1.0714285714rem 1.7857142857rem}.btn-lg[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%]{min-height:1.4285714286rem}.btn-sm[_nghost-%COMP%]{font-size:.8rem;line-height:.8928571429;padding:.7142857143rem .3571428571rem}.btn-sm[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%]{min-height:.7142857143rem}.btn-default[_nghost-%COMP%]{background:#1f2022;color:#fff}.btn-default[_nghost-%COMP%]:hover{background:#171819;color:#fff}.btn-default.btn-outline[_nghost-%COMP%]{border-color:#1f2022;color:#1f2022}.btn-default.btn-outline[_nghost-%COMP%]:hover, .active   .btn-default.btn-outline[_nghost-%COMP%]{background:#1f2022;color:#fff}.btn-accent[_nghost-%COMP%]{background:#336cfb;color:#fff}.btn-accent[_nghost-%COMP%]:hover{background:#2759fa;color:#fff}.btn-accent.btn-outline[_nghost-%COMP%]{border-color:#336cfb;color:#336cfb}.btn-accent.btn-outline[_nghost-%COMP%]:hover, .active   .btn-accent.btn-outline[_nghost-%COMP%]{background:#336cfb;color:#fff}.btn-success[_nghost-%COMP%]{background:#b7ce63;color:#000}.btn-success[_nghost-%COMP%]:hover{background:#a5c13d;color:#000}.btn-success.btn-outline[_nghost-%COMP%]{border-color:#b7ce63;color:#b7ce63}.btn-success.btn-outline[_nghost-%COMP%]:hover, .active   .btn-success.btn-outline[_nghost-%COMP%]{background:#b7ce63;color:#000}.btn-info[_nghost-%COMP%]{background:#64B5F6;color:#000}.btn-info[_nghost-%COMP%]:hover{background:#349ef3;color:#000}.btn-info.btn-outline[_nghost-%COMP%]{border-color:#64b5f6;color:#64b5f6}.btn-info.btn-outline[_nghost-%COMP%]:hover, .active   .btn-info.btn-outline[_nghost-%COMP%]{background:#64B5F6;color:#000}.btn-warning[_nghost-%COMP%]{background:#e9e165;color:#000}.btn-warning[_nghost-%COMP%]:hover{background:#e3d838;color:#000}.btn-warning.btn-outline[_nghost-%COMP%]{border-color:#e9e165;color:#e9e165}.btn-warning.btn-outline[_nghost-%COMP%]:hover, .active   .btn-warning.btn-outline[_nghost-%COMP%]{background:#e9e165;color:#000}.btn-error[_nghost-%COMP%]{background:#ed5564;color:#fff}.btn-error[_nghost-%COMP%]:hover{background:#e8273a;color:#e6e6e6}.btn-error.btn-outline[_nghost-%COMP%]{border-color:#ed5564;color:#ed5564}.btn-error.btn-outline[_nghost-%COMP%]:hover, .active   .btn-error.btn-outline[_nghost-%COMP%]{background:#ed5564;color:#fff}.btn-outline[_nghost-%COMP%]{background:transparent}.btn-disabled[_nghost-%COMP%]{cursor:not-allowed;opacity:.6;pointer-events:none}.btn-load[_nghost-%COMP%]{cursor:not-allowed;pointer-events:none}.btn-load[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%], .btn-load[_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]{visibility:hidden}.btn-load[_nghost-%COMP%]   .btn-loader[_ngcontent-%COMP%]{visibility:visible}.btn-icon-animation[_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;inset:0;position:absolute;transition:transform .2s ease-in-out;transform:scale(0);will-change:transform}.btn-icon-animation[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%]{transition:opacity .2s ease-in-out;will-change:opacity}.btn-icon-animation[_nghost-%COMP%]:hover   .btn-icon[_ngcontent-%COMP%], .active   .btn-icon-animation[_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]{transform:scale(1)}.btn-icon-animation[_nghost-%COMP%]:hover   .btn-text[_ngcontent-%COMP%], .active   .btn-icon-animation[_nghost-%COMP%]   .btn-text[_ngcontent-%COMP%]{opacity:0}  a.w-btn{text-decoration:none}"]});var fw=(()=>{return(e=fw||(fw={})).default="DEFAULT",e.hover="HOVER",e.focus="FOCUS",e.disabled="DISABLED",fw;var e})(),qY=(()=>{return(e=qY||(qY={})).default="DEFAULT",e.hover="HOVER",e.opened="OPENED",e.disabled="DISABLED",qY;var e})();const ZY=function(e){return{color:e}};function IOe(e,n){if(1&e&&(se(0,"div",8),Fe(1,"span"),le()),2&e){const t=ue();ee("ngStyle",ei(4,ZY,t.properties.prefixIconColor)),J(1),Di(t.properties.prefixIconValue)}}function LOe(e,n){if(1&e&&(se(0,"div",9),Be(1),le()),2&e){const t=ue();ee("ngStyle",ei(2,ZY,t.properties.prefixColor)),J(1),In(" ",t.properties.prefixValue," ")}}function ROe(e,n){if(1&e&&(se(0,"div",10),Be(1),le()),2&e){const t=ue();ee("ngStyle",ei(2,ZY,t.properties.suffixColor)),J(1),In(" ",t.properties.suffixValue," ")}}function NOe(e,n){if(1&e&&(se(0,"div",11),Fe(1,"span"),le()),2&e){const t=ue();ee("ngStyle",ei(4,ZY,t.properties.suffixIconColor)),J(1),Di(t.properties.suffixIconValue)}}function FOe(e,n){if(1&e&&(se(0,"div",12),Be(1),le()),2&e){const t=ue();J(1),Bt(t.charLength)}}const BOe=["prefix","suffix","prefixIcon","suffixIcon","placeholder"];class wd{get class(){return"tc-input"}get smSize(){return"sm"===this.size}get lgSize(){return"lg"===this.size}get focused(){return this.inputFocus}constructor(n){this.element=n,this.onChange=()=>{},this.onTouched=()=>{},this.simpleInput=!0,this.type="text",this.name="",this.size="md",this.inputFocus=!1,this.readonly=!1,this.disabled=!1,this.required=!1,this.autoSize=!1,this.innerValue="",this.properties={prefixValue:"",prefixColor:"",suffixValue:"",suffixColor:"",prefixIconValue:"",prefixIconColor:"",suffixIconValue:"",suffixIconColor:""},this.states=fw,this.blur=new et,this.focus=new et}ngOnInit(){this.changeCharLength(this.charLimiting,this.innerValue.length),this.autoSize&&setTimeout(()=>{this.resizable(this.element.nativeElement.querySelector(".input-control"))},0),BOe.forEach(n=>{const t=this[n];this.properties[`${n}Value`]=t instanceof Array?t[0]:t,this.properties[`${n}Color`]=t instanceof Array?t[1]:null}),this.setStyles(this.disabled?this.states.disabled:this.states.default)}get value(){return this.innerValue}set value(n){n!==this.innerValue&&(this.innerValue=n,this.onChange(n)),this.charLimiting>0&&this.changeCharLength(this.charLimiting,this.innerValue.length)}changeCharLength(n,t){this.charLength=n-t>=0?n-t:0}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}writeValue(n){n!==this.innerValue&&(this.innerValue=n)}setDisabledState(n){this.disabled=n}onFocus(n){!this.inputFocus&&!n&&(this.element.nativeElement.querySelector(".input-control").focus(),this.inputFocus=!0,this.focus.emit(),this.setStyles(this.states.focus))}onBlur(n){this.inputFocus=!1,n||(this.blur.emit(),this.onTouched(),this.setStyles(this.states.default))}onMouseEnter(){!this.inputFocus&&!this.disabled&&!this.readonly&&this.setStyles(this.states.hover)}onMouseLeave(){!this.inputFocus&&!this.disabled&&!this.readonly&&this.setStyles(this.states.default)}resizable(n,t){const i=Number(t)||7.7;function r(){n.parentElement.style.maxWidth=n.value.length*i+4+"px"}const o="keyup, keypress, focus, blur, change".split(",");for(let l=0;l<o.length;l++)n.addEventListener(o[l],r,!1);r()}setStyles(n,t=this.bgColor,i=this.borderColor,r=this.color){let o=0;switch(n){case this.states.hover:o=1;break;case this.states.focus:o=2;break;case this.states.disabled:o=3;break;default:o=0}this.currentBgColor=t instanceof Array?t[o]:t,this.currentBorderColor=i instanceof Array?i[o]:i,this.currentColor=r instanceof Array?r[o]:r}getStyles(){return{"background-color":this.currentBgColor,"border-color":this.currentBorderColor,color:this.currentColor}}}function VOe(e,n){if(1&e&&(se(0,"span",7),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.limiter.before)}}function HOe(e,n){if(1&e&&(se(0,"span",8),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.limiter.after)}}function YOe(e,n){if(1&e&&(se(0,"div",3),ge(1,VOe,2,1,"span",4),se(2,"span",5),Be(3),le(),ge(4,HOe,2,1,"span",6),le()),2&e){const t=ue();J(1),ee("ngIf",t.limiter.before),J(2),Bt(t.limiter.counter),J(1),ee("ngIf",t.limiter.after)}}wd.\u0275fac=function(n){return new(n||wd)(de(Vt))},wd.\u0275cmp=ut({type:wd,selectors:[["tc-input"]],hostVars:12,hostBindings:function(n,t){1&n&&He("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),2&n&&(Di(t.class),Ht("input-sm",t.smSize)("input-lg",t.lgSize)("input-focus",t.focused)("input-disabled",t.disabled)("input-readonly",t.readonly))},inputs:{disabled:"disabled",readonly:"readonly",type:"type",name:"name",placeholder:"placeholder",charLimiting:"charLimiting",prefix:"prefix",suffix:"suffix",prefixIcon:"prefixIcon",suffixIcon:"suffixIcon",size:"size",required:"required",autoSize:"autoSize",innerValue:["value","innerValue"],bgColor:"bgColor",borderColor:"borderColor",color:"color"},outputs:{focus:"focus",blur:"blur"},features:[Ln([{provide:Ps,useExisting:Yi(()=>wd),multi:!0}])],decls:8,vars:13,consts:[[1,"tc-input-wrap",3,"ngStyle","click"],["class","input-prefix input-icon",3,"ngStyle",4,"ngIf"],["class","input-prefix",3,"ngStyle",4,"ngIf"],[1,"input-infix"],[1,"input-control",3,"type","name","placeholder","ngModel","readonly","required","ngModelChange","focus","blur"],["class","input-suffix",3,"ngStyle",4,"ngIf"],["class","input-suffix input-icon",3,"ngStyle",4,"ngIf"],["class","char-limiting",4,"ngIf"],[1,"input-prefix","input-icon",3,"ngStyle"],[1,"input-prefix",3,"ngStyle"],[1,"input-suffix",3,"ngStyle"],[1,"input-suffix","input-icon",3,"ngStyle"],[1,"char-limiting"]],template:function(n,t){1&n&&(se(0,"div",0),He("click",function(){return t.onFocus(t.disabled||t.readonly)}),ge(1,IOe,2,6,"div",1),ge(2,LOe,2,4,"div",2),se(3,"div",3)(4,"input",4),He("ngModelChange",function(r){return t.value=r})("focus",function(){return t.onFocus(t.disabled||t.readonly)})("blur",function(){return t.onBlur(t.disabled||t.readonly)}),le()(),ge(5,ROe,2,4,"div",5),ge(6,NOe,2,6,"div",6),ge(7,FOe,2,1,"div",7),le()),2&n&&(ee("ngStyle",t.getStyles()),J(1),ee("ngIf",t.properties.prefixIconValue),J(1),ee("ngIf",t.properties.prefixValue),J(2),fi("type",t.type),fi("name",t.name),fi("placeholder",t.placeholder),ee("ngModel",t.value)("readonly",!!t.readonly||null)("required",!!t.required||null),oi("maxlength",t.charLimiting),J(1),ee("ngIf",t.properties.suffixValue),J(1),ee("ngIf",t.properties.suffixIconValue),J(1),ee("ngIf",t.charLimiting>0))},dependencies:[hn,Ys,Pv,vl,$Y,XY,Wf],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-animation-name:autofill;-webkit-animation-fill-mode:both}[_nghost-%COMP%]{border-radius:20px;color:#1f2022;display:block;font-size:1rem;line-height:1.4285714286;outline:none;width:100%}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]{align-items:center;background:#ebebeb;border:1px solid #ebebeb;border-radius:inherit;cursor:text;display:flex;outline:none;padding:0 1.4285714286rem;padding:0 calc(1.4285714286rem - .2em);position:relative;transition:background .2s ease-in-out,border .2s ease-in-out,box-shadow .2s ease-in-out,color .2s ease-in-out;will-change:background,border,box-shadow,color;width:100%}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-infix[_ngcontent-%COMP%]{flex:auto;min-width:5px}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{background:none;border:0;border-radius:inherit;box-shadow:none;color:inherit;cursor:inherit;display:block;font:inherit;margin:-1px 0;outline:none;padding:.7142857143rem .2em;width:100%}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%], [_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{color:#a8a8a8;flex:none;padding:0 .2em}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.3em}[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .char-limiting[_ngcontent-%COMP%]{align-items:center;color:#a8a8a8;display:flex;font-size:.9em;justify-content:center;padding:0 .2em;pointer-events:none}[_nghost-%COMP%]:hover{color:#1f2022}[_nghost-%COMP%]:hover   .tc-input-wrap[_ngcontent-%COMP%]{background:#ebebeb;border-color:#ebebeb;box-shadow:0 8px 24px #0000001f}.input-focus[_nghost-%COMP%]{color:#1f2022}.input-focus[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]{background:#fff;border-color:#336cfb;box-shadow:0 8px 24px #0000001f}.ng-invalid.ng-touched[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%], .has-error   [_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]{background-color:#ed55641a;border:1px solid #ed5564}.input-sm[_nghost-%COMP%]{border-radius:16px;font-size:.9rem;line-height:1.5873015873}.input-sm[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{padding-top:.3571428571rem;padding-bottom:.3571428571rem}.input-sm[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.1em}.input-lg[_nghost-%COMP%]{border-radius:30px;font-size:1.3rem;line-height:1.0989010989}.input-lg[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{padding-top:1.0714285714rem;padding-bottom:1.0714285714rem}.input-disabled[_nghost-%COMP%], .input-readonly[_nghost-%COMP%]{color:#bdbdbd}.input-disabled[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%], .input-readonly[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]{background-color:#cccccc1a;border-color:#cccccc80;box-shadow:none!important;cursor:not-allowed}.input-disabled[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%], .input-readonly[_nghost-%COMP%]   .tc-input-wrap[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{pointer-events:none}"]});class pw{get class(){return"tc-textarea"}get focus(){return this.textareaFocus}get getResize(){return!this.resize||this.autoGrow}get controlHeight(){const n=this.height;return"number"==typeof n?`${n}px`:n}onInput(){this.autoGrow&&this.adjust()}constructor(n){this.element=n,this.onChange=()=>{},this.onTouched=()=>{},this.name="",this.textareaFocus=!1,this.readonly=!1,this.disabled=!1,this.required=!1,this.innerValue="",this.states=fw,this.autoGrow=!1,this.resize=!1,this.limiter={counter:null,before:"",after:""}}ngOnInit(){this.setStyles(this.disabled?this.states.disabled:this.states.default),this.charLimiter&&this.setLimiter(this.charLimiter,this.value)}setLimiter(n,t){const i=t.length?t.length:0;n instanceof Object?this.limiter={counter:n.counter-i,before:n.before,after:n.after}:this.limiter.counter=n-i}get value(){return this.innerValue}set value(n){n!==this.innerValue&&(this.innerValue=n,this.onChange(n)),this.charLimiter&&(this.limiter.counter=(this.charLimiter instanceof Object?this.charLimiter.counter:this.charLimiter)-this.innerValue.length)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}writeValue(n){n!==this.innerValue&&(this.innerValue=n)}onFocus(n){!this.textareaFocus&&!n&&(this.element.nativeElement.querySelector(".textarea-control").focus(),this.textareaFocus=!0,this.setStyles(this.states.focus))}onBlur(n){this.textareaFocus=!1,n||this.setStyles(this.states.default)}onMouseEnter(){!this.textareaFocus&&!this.disabled&&!this.readonly&&this.setStyles(this.states.hover)}onMouseLeave(){!this.textareaFocus&&!this.disabled&&!this.readonly&&this.setStyles(this.states.default)}setStyles(n,t=this.bgColor,i=this.borderColor,r=this.color){let o=0;switch(n){case this.states.hover:o=1;break;case this.states.focus:o=2;break;case this.states.disabled:o=3;break;default:o=0}this.currentBgColor=t instanceof Array?t[o]:t,this.currentBorderColor=i instanceof Array?i[o]:i,this.currentColor=r instanceof Array?r[o]:r}getStyles(){return{"background-color":this.currentBgColor,"border-color":this.currentBorderColor,color:this.currentColor}}adjust(){let n=this.element.nativeElement.querySelector("textarea");n&&(n.style.overflow="hidden",n.style.height="auto",n.style.height=`${n.scrollHeight+2}px`)}}pw.\u0275fac=function(n){return new(n||pw)(de(Vt))},pw.\u0275cmp=ut({type:pw,selectors:[["tc-textarea"]],hostVars:12,hostBindings:function(n,t){1&n&&He("input",function(){return t.onInput()})("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),2&n&&(Di(t.class),yn("height",t.controlHeight),Ht("textarea-focus",t.focus)("textarea-disabled",t.disabled)("textarea-not-resize",t.getResize)("textarea-readonly",t.readonly))},inputs:{disabled:"disabled",readonly:"readonly",name:"name",placeholder:"placeholder",charLimiter:"charLimiter",required:"required",innerValue:["value","innerValue"],bgColor:"bgColor",borderColor:"borderColor",color:"color",autoGrow:"autoGrow",resize:"resize",height:"height",rows:"rows"},features:[Ln([{provide:Ps,useExisting:Yi(()=>pw),multi:!0}])],decls:3,vars:7,consts:[[1,"tc-textarea-wrap"],[1,"textarea-control",3,"name","placeholder","ngModel","ngStyle","ngModelChange","blur","focus"],["class","char-limiter",4,"ngIf"],[1,"char-limiter"],["class","limiter-before",4,"ngIf"],[1,"limiter-counter"],["class","limiter-after",4,"ngIf"],[1,"limiter-before"],[1,"limiter-after"]],template:function(n,t){1&n&&(se(0,"div",0)(1,"textarea",1),He("ngModelChange",function(r){return t.value=r})("blur",function(){return t.onBlur(t.disabled)})("focus",function(){return t.onFocus(t.disabled)}),le(),ge(2,YOe,5,3,"div",2),le()),2&n&&(J(1),fi("name",t.name),Ty("placeholder"," ",t.placeholder,""),ee("ngModel",t.value)("ngStyle",t.getStyles()),oi("maxlength",t.charLimiter)("rows",t.rows),J(1),ee("ngIf",t.charLimiter))},dependencies:[hn,Ys,Pv,vl,XY,Wf],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{border-radius:20px;color:#1f2022;display:block;font-size:1rem;line-height:1.43;width:100%}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]{border-radius:inherit;cursor:text;height:100%;outline:none;padding:0;position:relative;width:100%}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{background:#EBEBEB;border:1px solid #EBEBEB;border-radius:inherit;box-shadow:none;color:inherit;cursor:inherit;display:block;font:inherit;height:100%;margin:0;min-height:5.7142857143rem;outline:none;padding:.7142857143rem 1.4285714286rem;transition:background .2s ease-in-out,border .2s ease-in-out,box-shadow .2s ease-in-out,color .2s ease-in-out;width:100%}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#a8a8a8}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .char-limiter[_ngcontent-%COMP%]{color:#a8a8a8;display:flex;font-size:.9em;justify-content:flex-end;margin:0 -2px;pointer-events:none}[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .char-limiter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:.3571428571rem 2px 0}[_nghost-%COMP%]:hover{color:#1f2022}[_nghost-%COMP%]:hover   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{background:#EBEBEB;border-color:#ebebeb;box-shadow:0 8px 24px #0000001f}.textarea-focus[_nghost-%COMP%]{color:#1f2022}.textarea-focus[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{background:rgba(51,108,251,.01);border-color:#336cfb;box-shadow:0 8px 24px #0000001f}.ng-invalid.ng-touched[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%], .has-error   [_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{background-color:#ed55641a;border:1px solid #ed5564}.textarea-disabled[_nghost-%COMP%], .textarea-readonly[_nghost-%COMP%]{color:#bdbdbd}.textarea-disabled[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%], .textarea-readonly[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]{cursor:not-allowed}.textarea-disabled[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%], .textarea-readonly[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{background-color:#cccccc1a;border-color:#cccccc80;pointer-events:none;box-shadow:none}.textarea-not-resize[_nghost-%COMP%]   .tc-textarea-wrap[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{resize:none}"]});class Pg{get class(){return"tc-form-group"}constructor(){}ngOnInit(){}}Pg.\u0275fac=function(n){return new(n||Pg)},Pg.\u0275cmp=ut({type:Pg,selectors:[["tc-form-group"]],hostVars:2,hostBindings:function(n,t){2&n&&Di(t.class)},ngContentSelectors:["*"],decls:1,vars:0,template:function(n,t){1&n&&(fr(),Ki(0))},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;margin:0 0 1.4285714286rem}"]});class D4{get class(){return"custom-shape"}get getShape(){const n=this.tcShape;return"number"==typeof n?n+"px":n}}D4.\u0275fac=function(n){return new(n||D4)},D4.\u0275dir=St({type:D4,selectors:[["","tcShape",""]],hostVars:4,hostBindings:function(n,t){2&n&&(Di(t.class),yn("border-radius",t.getShape))},inputs:{tcShape:"tcShape"}});const GOe=["optionTemplate"];function WOe(e,n){if(1&e&&(se(0,"div",7),Be(1),le()),2&e){const t=ue();J(1),In(" ",t.placeholder," ")}}function jOe(e,n){if(1&e&&(se(0,"span"),Be(1),le()),2&e){const t=ue(2);J(1),In(" ",t.selectedOptions[0].label," ")}}function $Oe(e,n){if(1&e){const t=Ft();se(0,"div",12),He("click",function(r){const l=Xe(t).$implicit;return Ze(ue(3).removeSelectedOption(r,l))}),se(1,"div",13),Be(2),le(),Fe(3,"i",14),le()}if(2&e){const t=n.$implicit;J(2),Bt(t.label)}}function XOe(e,n){1&e&&ge(0,$Oe,4,1,"div",11),2&e&&ee("ngForOf",ue(2).selectedOptions)}function qOe(e,n){if(1&e&&(se(0,"div",8),ge(1,jOe,2,1,"span",9),ge(2,XOe,1,1,"ng-template",null,10,xn),le()),2&e){const t=fn(3),i=ue();J(1),ee("ngIf",!i.multiple)("ngIfElse",t)}}function ZOe(e,n){if(1&e){const t=Ft();se(0,"div",15),He("click",function(r){return Xe(t),Ze(ue().clearOptions(r))}),Fe(1,"i",16),le()}}function KOe(e,n){if(1&e&&(se(0,"div",23),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.notFoundMsg)}}function QOe(e,n){if(1&e&&(se(0,"div",24),Fe(1,"tc-input",25),le()),2&e){const t=ue(2);J(1),ee("formControl",t.filterForm)("tcShape",4)}}function JOe(e,n){1&e&&Be(0),2&e&&Bt(ue().$implicit.label)}const eEe=function(e){return{selected:e}},tEe=function(e,n){return{option:e,index:n}};function nEe(e,n){if(1&e){const t=Ft();wt(0),se(1,"div",26),He("click",function(){const o=Xe(t).$implicit,l=ue(2);return Ze(l.selectOption(o,l.isSelected(o.value)))})("mouseenter",function(r){return Xe(t),Ze(ue(2).optionMouseenter(r))})("mouseleave",function(r){const l=Xe(t).$implicit,h=ue(2);return Ze(h.optionMouseleave(r,h.isSelected(l.value)))}),ge(2,JOe,1,1,"ng-template",null,27,xn),yr(4,28),le(),Dt()}if(2&e){const t=n.$implicit,i=n.index,r=fn(3),o=ue(2);J(1),ee("ngClass",ei(4,eEe,o.isSelected(t.value)))("ngStyle",o.getOptionStyle(o.isSelected(t.value))),J(3),ee("ngTemplateOutlet",o.optionTpl?o.optionTpl:r)("ngTemplateOutletContext",Cs(6,tEe,t,i))}}function iEe(e,n){if(1&e&&(se(0,"div",29),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.notFoundMsg)}}function rEe(e,n){if(1&e&&(se(0,"div",17),ge(1,KOe,2,1,"div",18),ge(2,QOe,2,2,"div",19),se(3,"div",20),ge(4,nEe,5,9,"ng-container",21),ge(5,iEe,2,1,"div",22),le()()),2&e){const t=ue();ee("@shrink",t.opened?"active":"inactive")("ngStyle",t.getListStyles()),J(1),ee("ngIf",!t.options),J(1),ee("ngIf",t.filter),J(2),ee("ngForOf",t.getOptions(t.options)),J(1),ee("ngIf",!t.getOptions(t.options).length)}}const oEe=function(e){return{active:e}};class Ov{get class(){return"tc-select"}get smSize(){return"sm"===this.size}get lgSize(){return"lg"===this.size}constructor(n,t){this.elementRef=n,this.renderer=t,this.onChange=i=>{},this.onTouched=()=>{},this.multiple=!1,this.selectState=qY,this.selectedOptions=[],this.options=[],this.allowClear=!1,this.disabled=!1,this.filter=!1,this.filterForm=new uw(""),this.notFoundMsg="No results found!",this.opened=!1,this.valueSelected=new et,this.size="md"}ngOnInit(){this.currentBgColor=this.bgColor instanceof Array?this.bgColor[0]:this.bgColor,this.currentBorderColor=this.borderColor instanceof Array?this.borderColor[0]:this.borderColor,this.currentColor=this.color instanceof Array?this.color[0]:this.color,this.setStyles(this.disabled?this.selectState.disabled:this.selectState.default),this.selected&&this.writeValue(this.selected)}onMouseEnter(){this.opened||this.setStyles(this.selectState.hover)}onMouseOut(){this.opened||this.setStyles(this.selectState.default)}handleClick(n){this.opened&&!this.elementRef.nativeElement.contains(n.target)&&(this.setStyles(this.selectState.default),this.opened=!1,this.onTouched())}writeValue(n,t=this.options){if(t&&t.length){let i;if(this.multiple)i=[],t.forEach(r=>{(Array.isArray(n)?n.includes(r.value):r.value==n)&&i.push(r.value)});else{let r;r=t.find(o=>Array.isArray(n)?n.includes(o.value):o.value===n),i=r?r.value:null}this.setSelectedOptions(i),this.innerValue=i,this.onChange(i)}}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}getOptions(n){return n.filter(t=>t.label.toString().toLowerCase().startsWith(this.filterForm.value.toString().toLowerCase()))}setSelectedOptions(n){this.options&&this.options.length&&(this.selectedOptions=this.options.filter(t=>this.multiple?this.includeSelected(n,t.value):t.value===n))}includeSelected(n,t){return Array.isArray(n)&&n.length&&n.includes(t)}clearOptions(n){n.stopPropagation(),this.innerValue=this.selected=null,this.writeValue(this.innerValue)}isSelected(n){let t=!1;return t=this.multiple?!!this.includeSelected(this.innerValue,n):!(!this.innerValue||this.innerValue!==n),t}removeSelectedOption(n,t){n.stopPropagation(),Array.isArray(this.innerValue)&&(this.innerValue=this.innerValue.filter(i=>i!==t.value),this.writeValue(this.innerValue))}selectOption(n,t){this.multiple?(this.innerValue||(this.innerValue=[]),Array.isArray(this.innerValue)&&this.writeValue([...this.innerValue,n.value])):t||(this.writeValue(n.value),this.setStyles(this.selectState.default),this.opened=!1)}toggleState(n){this.opened=!n,this.opened||this.onTouched(),this.setStyles(n?this.selectState.default:this.selectState.opened)}get value(){return this.innerValue}set value(n){this.value=n,this.writeValue(n),this.onChange(n)}getSelectStyles(){return{color:this.currentColor,background:this.currentBgColor,"border-color":this.currentBorderColor}}getListStyles(){return{color:this.listColor?this.listColor:null,background:this.listBgColor?this.listBgColor:null,"border-color":this.listBorderColor?this.listBorderColor:null}}getOptionStyle(n){if(n)return{color:this.listHighlightTextColor?this.listHighlightTextColor:null,background:this.listHighlightBgColor?this.listHighlightBgColor:null}}optionMouseenter(n){this.listHighlightTextColor&&this.renderer.setStyle(n.target,"color",this.listHighlightTextColor),this.listHighlightBgColor&&this.renderer.setStyle(n.target,"background",this.listHighlightBgColor)}optionMouseleave(n,t){t||(this.renderer.removeStyle(n.target,"color"),this.renderer.removeStyle(n.target,"background"))}setStyles(n,t=this.bgColor,i=this.borderColor,r=this.color){let o=0;switch(n){case this.selectState.hover:o=1;break;case this.selectState.opened:o=2;break;case this.selectState.disabled:o=3;break;default:o=0}this.currentBgColor=t instanceof Array?t[o]:t,this.currentBorderColor=i instanceof Array?i[o]:i,this.currentColor=r instanceof Array?r[o]:r}}function aEe(e,n){if(1&e&&Fe(0,"img",4),2&e){const t=ue();fi("src",t.src,qp),fi("alt",t.alt),fi("width",t.size),fi("height",t.size)}}function sEe(e,n){if(1&e&&(se(0,"div",5),Be(1),le()),2&e){const t=ue();J(1),Bt(t.initials)}}Ov.\u0275fac=function(n){return new(n||Ov)(de(Vt),de(_r))},Ov.\u0275cmp=ut({type:Ov,selectors:[["tc-select"]],contentQueries:function(n,t,i){if(1&n&&Uo(i,GOe,7),2&n){let r;an(r=cn())&&(t.optionTpl=r.first)}},hostVars:14,hostBindings:function(n,t){1&n&&He("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseOut()})("click",function(r){return t.handleClick(r)},!1,L1),2&n&&(Di(t.class),Ht("opened",t.opened)("disabled",t.disabled)("multiple",t.multiple)("selected",t.selected)("select-sm",t.smSize)("select-lg",t.lgSize))},inputs:{opened:"opened",disabled:"disabled",multiple:"multiple",selected:"selected",borderColor:"borderColor",bgColor:"bgColor",color:"color",listBgColor:"listBgColor",listBorderColor:"listBorderColor",listColor:"listColor",listHighlightBgColor:"listHighlightBgColor",listHighlightTextColor:"listHighlightTextColor",options:"options",allowClear:"allowClear",filter:"filter",placeholder:"placeholder",notFoundMsg:"notFoundMsg",size:"size"},outputs:{valueSelected:"valueSelected"},features:[Ln([{provide:Ps,useExisting:Yi(()=>Ov),multi:!0}])],decls:7,vars:8,consts:[[1,"select-box",3,"ngStyle","click"],["class","placeholder",4,"ngIf"],["class","value",4,"ngIf"],["class","icon clear",3,"click",4,"ngIf"],[1,"icon","caret",3,"ngClass"],[1,"icofont-thin-down"],["class","select-list",3,"ngStyle",4,"ngIf"],[1,"placeholder"],[1,"value"],[4,"ngIf","ngIfElse"],["multipleValue",""],["class","selected-option",3,"click",4,"ngFor","ngForOf"],[1,"selected-option",3,"click"],[1,"option-text"],[1,"close-icon","icofont-close-line"],[1,"icon","clear",3,"click"],[1,"icofont-close-line"],[1,"select-list",3,"ngStyle"],["class","not-found",4,"ngIf"],["class","filter",4,"ngIf"],[1,"options"],[4,"ngFor","ngForOf"],["class","option",4,"ngIf"],[1,"not-found"],[1,"filter"],[3,"formControl","tcShape"],[1,"option",3,"ngClass","ngStyle","click","mouseenter","mouseleave"],["defaultOption",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"option"]],template:function(n,t){1&n&&(se(0,"div",0),He("click",function(){return t.toggleState(t.opened)}),ge(1,WOe,2,1,"div",1),ge(2,qOe,4,2,"div",2),ge(3,ZOe,2,0,"div",3),se(4,"div",4),Fe(5,"i",5),le()(),ge(6,rEe,6,6,"div",6)),2&n&&(ee("ngStyle",t.getSelectStyles()),J(1),ee("ngIf",t.placeholder&&(!t.innerValue||t.multiple&&!t.innerValue.length)),J(1),ee("ngIf",t.selectedOptions&&t.selectedOptions.length),J(1),ee("ngIf",t.allowClear&&t.innerValue),J(1),ee("ngClass",ei(6,oEe,t.opened)),J(2),ee("ngIf",t.options))},dependencies:[Ss,xr,hn,Yr,Ys,vl,Kte,D4,wd],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{border-radius:20px;display:block;font-size:1rem;line-height:1.4285714286;position:relative}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{align-items:center;background:#EBEBEB;border:1px solid #EBEBEB;border-radius:inherit;color:#1f2022;cursor:pointer;display:flex;justify-content:flex-end;overflow:hidden;padding:calc(.7142857143rem - 1px) calc((1.4285714286rem / 2) - .2em) calc(.7142857143rem - 1px) calc(1.4285714286rem - .2em);transition:background .2s ease-in-out,border-color .2s ease-in-out,box-shadow .2s ease-in-out,color .2s ease-in-out;width:100%}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 .3571428571rem}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-grow:1;text-align:left;padding:0 .2em;white-space:nowrap}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#1f2022;flex-grow:1;opacity:.6;padding:0 .2em;white-space:nowrap}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{align-self:flex-start;align-items:center;display:flex;font-size:1.5em;height:1.4285714286rem;line-height:1;opacity:.9;transition:color .2s ease-in-out,opacity .2s ease-in-out,transform .2s ease-in-out}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon.clear[_ngcontent-%COMP%]{color:#ed556480;transform:translate(100%)}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon.clear[_ngcontent-%COMP%]:hover{color:#ed5564}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon.caret[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon.caret.active[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]{align-items:center;background:rgba(0,0,0,.1);border-radius:4px;display:inline-flex;flex-wrap:nowrap;margin:.3571428571rem;padding:0 .7142857143rem;transition:background .2s ease-in-out}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{margin-left:.3571428571rem}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]:hover{background:rgba(237,85,100,.2)}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]{background:#fff;border:1px solid #fff;box-shadow:0 18px 24px #0000001f;border-radius:20px;display:flex;flex-flow:column nowrap;padding:1.4285714286rem 0;position:absolute;overflow:hidden;top:100%;width:100%;z-index:9995}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem;width:100%}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{padding:.7142857143rem;font-size:1.2em;opacity:.8}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{max-height:15rem;overflow:auto}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{cursor:pointer;padding:.3571428571rem 1.4285714286rem;transition:background .2s ease-in-out,color .2s ease-in-out;width:100%}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option.selected[_ngcontent-%COMP%]{color:#336cfb}[_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option.hovered[_ngcontent-%COMP%], [_nghost-%COMP%]   .select-list[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.01);color:#336cfb}[_nghost-%COMP%]:hover   .select-box[_ngcontent-%COMP%]   .icon.clear[_ngcontent-%COMP%], .opened[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon.clear[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]:hover   .select-box[_ngcontent-%COMP%]   .icon.caret[_ngcontent-%COMP%], .opened[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .icon.caret[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]:hover   .select-box[_ngcontent-%COMP%]{background:#EBEBEB;border-color:#ebebeb;box-shadow:0 8px 24px #0000001f;color:#1f2022}.multiple[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{height:unset;min-height:2.1428571429rem}.multiple[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin:-.3571428571rem;white-space:normal}.opened[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{background:rgba(51,108,251,.01);border-color:#336cfb;box-shadow:0 8px 24px #0000001f;color:#1f2022}.disabled[_nghost-%COMP%]{cursor:not-allowed}.disabled[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{background:rgba(204,204,204,.1);border-color:#cccccc80;box-shadow:none;color:#bdbdbd;cursor:not-allowed;pointer-events:none}.ng-invalid.ng-touched[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%], .has-error   [_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{background-color:#ed55641a;border:1px solid #ed5564}.select-sm[_nghost-%COMP%]{border-radius:16px;font-size:.9rem;line-height:1.5873015873}.select-sm[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{padding-top:calc(.3571428571rem - 1px);padding-bottom:calc(.3571428571rem - 1px)}.select-lg[_nghost-%COMP%]{border-radius:30px;font-size:1.3rem;line-height:1.0989010989}.select-lg[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]{padding-top:calc(1.0714285714rem - 1px);padding-bottom:calc(1.0714285714rem - 1px)}"],data:{animation:[Us("shrink",[is("active",kn({height:"*",opacity:1,visibility:"visible"})),is("inactive",kn({height:0,opacity:0,visibility:"hidden"})),Ai("inactive => active",ar("200ms ease-in-out")),Ai("active => inactive",ar("200ms ease-in"))])]}});class gw{get class(){return"tc-avatar"}get height(){return`${this.size}px`}get width(){return`${this.size}px`}get fontSize(){return.5*this.size+"px"}constructor(){this.size=40}ngOnInit(){}}gw.\u0275fac=function(n){return new(n||gw)},gw.\u0275cmp=ut({type:gw,selectors:[["tc-avatar"]],hostVars:10,hostBindings:function(n,t){2&n&&(Di(t.class),yn("height",t.height)("width",t.width)("font-size",t.fontSize),Ht("avatar-loading",t.load))},inputs:{src:"src",initials:"initials",size:"size",alt:"alt",load:"load"},decls:4,vars:2,consts:[[3,"src","alt","width","height",4,"ngIf"],["class","initials",4,"ngIf"],[1,"avatar-loader"],[1,"fa","fa-spinner","fa-pulse"],[3,"src","alt","width","height"],[1,"initials"]],template:function(n,t){1&n&&(ge(0,aEe,1,4,"img",0),ge(1,sEe,2,1,"div",1),se(2,"span",2),Fe(3,"i",3),le()),2&n&&(ee("ngIf",t.src),J(1),ee("ngIf",!t.src))},dependencies:[hn],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{align-items:center;background:rgba(0,0,0,.1);border-radius:50%;display:flex;font-size:30px;font-weight:700;height:2.8571428571rem;justify-content:center;line-height:1;margin:0 1.4285714286rem 0 0;overflow:hidden;position:relative;text-transform:uppercase;width:2.8571428571rem}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%}[_nghost-%COMP%]   .avatar-loader[_ngcontent-%COMP%]{align-items:center;border-radius:inherit;color:#00000080;display:flex;font-size:inherit;height:100%;justify-content:center;left:0;position:absolute;top:0;visibility:hidden;width:100%}.avatar-loading[_nghost-%COMP%]   img[_ngcontent-%COMP%], .avatar-loading[_nghost-%COMP%]   .initials[_ngcontent-%COMP%]{visibility:hidden}.avatar-loading[_nghost-%COMP%]   .avatar-loader[_ngcontent-%COMP%]{visibility:visible}"]});let Zpe=(()=>{let e=class{constructor(t){this.zone=t}initScrollbar(t,i){const r=this.getElement(t);this.zone.runOutsideAngular(()=>r.mCustomScrollbar(i)),r.length>0&&"BODY"===r[0].tagName&&(r[0].style.position="absolute",r[0].style.overflow="auto",r[0].style.height="100vh",r[0].style.width="100vw")}scrollTo(t,i,r){this.zone.runOutsideAngular(()=>this.getElement(t).mCustomScrollbar("scrollTo",i,r))}update(t){this.zone.runOutsideAngular(()=>this.getElement(t).mCustomScrollbar("update"))}stop(t){this.zone.runOutsideAngular(()=>this.getElement(t).mCustomScrollbar("stop"))}disable(t,i){this.zone.runOutsideAngular(()=>this.getElement(t).mCustomScrollbar("disable",!!i))}destroy(t){this.zone.runOutsideAngular(()=>this.getElement(t).mCustomScrollbar("destroy"))}getElement(t){if("string"==typeof t||"object"==typeof t&&t instanceof HTMLElement)return $(t);if(t instanceof jQuery||"jquery"in Object(t))return t;throw Error(`Unsupported element type in MalihuScrollbarService: ${t}`)}};return e.\u0275fac=function(t){return new(t||e)(Ve(en))},e.\u0275prov=mt({token:e,factory:function(n){return e.\u0275fac(n)}}),e})(),lEe=(()=>{let e=class{constructor(t,i){this.elementRef=t,this.mScrollbarService=i}ngAfterViewInit(){this.initElements(),this.initScrollbar()}ngOnDestroy(){this.destroyScrollbar()}initElements(){this.scrollableElement=this.scrollElementId?$(`#${this.scrollElementId}`):$(this.elementRef.nativeElement),this.scrollElementId&&0===this.scrollableElement.length&&console.error(`MalihuScrollbarDirective cannot find element with provided scrollElementId: ${this.scrollElementId}.`)}initScrollbar(){this.mScrollbarService.initScrollbar(this.scrollableElement,this.scrollbarOptions)}destroyScrollbar(){try{this.mScrollbarService.destroy(this.scrollableElement)}catch{}}};return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(Zpe))},e.\u0275dir=St({type:e,selectors:[["","MalihuScrollbar",""],["","malihu-scrollbar",""]],inputs:{scrollElementId:"scrollElementId",scrollbarOptions:"scrollbarOptions"}}),zt([uC()],e.prototype,"scrollElementId",void 0),zt([uC()],e.prototype,"scrollbarOptions",void 0),e})();var ine;let mw=ine=class{static forRoot(){return{ngModule:ine,providers:[Zpe]}}static forChild(){return{ngModule:ine}}};mw.\u0275fac=function(n){return new(n||mw)},mw.\u0275mod=Wt({type:mw}),mw.\u0275inj=Ot({});class vw{get class(){return"navbar"}get horizontal(){return"horizontal"===this.orientation||"horizontal-vertical"===this.orientation}get vertical(){return"vertical"===this.orientation}get horizontalVertical(){return"horizontal-vertical"===this.orientation}get height(){return this.minHeight}constructor(){this.boxed=!1,this.orientation="horizontal",this.scrollbarOptions={axis:"y",theme:"dark-thin"}}ngOnInit(){}}vw.\u0275fac=function(n){return new(n||vw)},vw.\u0275cmp=ut({type:vw,selectors:[["navbar"]],hostVars:14,hostBindings:function(n,t){2&n&&(Di(t.class),yn("min-height",t.height),Ht("boxed",t.boxed)("opened",t.opened)("horizontal",t.horizontal)("vertical",t.vertical)("horizontal-vertical",t.horizontalVertical))},inputs:{boxed:"boxed",opened:"opened",orientation:"orientation",minHeight:"minHeight"},ngContentSelectors:["*"],decls:2,vars:1,consts:[["malihu-scrollbar","",1,"navbar-wrap",3,"scrollbarOptions"]],template:function(n,t){1&n&&(fr(),se(0,"div",0),Ki(1),le()),2&n&&ee("scrollbarOptions",t.scrollbarOptions)},dependencies:[lEe],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{background:#fff;color:var(--main-color);display:block;transition:box-shadow .2s ease-in-out;will-change:box-shadow}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]{background:inherit;height:100%;margin:0 auto;min-height:inherit;padding:0 .7142857143rem;position:relative}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox{background:inherit;height:100%;min-height:inherit;width:100%}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox .mCSB_container{align-items:center;background:inherit;display:flex;height:100%;justify-content:space-between;margin:0;min-height:inherit}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox .mCSB_container>*{margin:0 .7142857143rem}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox .mCSB_scrollTools{background:rgba(255,255,255,.2);width:2px}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-toggle{align-items:center;color:inherit;cursor:pointer;display:flex;flex-direction:column;height:40px;justify-content:center;margin:0 .7142857143rem;width:35px}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-toggle span{background:#1f2022;display:block;height:3px;margin:4px 0;width:35px}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-close{color:inherit;cursor:pointer;font-size:30px;margin:0 .7142857143rem;position:absolute;right:.7142857143rem;top:1.0714285714rem;width:auto!important;z-index:1}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .add-patient{flex-grow:1;height:100%;margin:0 .7142857143rem;padding:1.4285714286rem 2.8571428571rem}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .assistant-menu{display:block;margin:0 .7142857143rem;padding:0 2.8571428571rem 1.4285714286rem}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .assistant-menu .link{color:inherit;display:block;font-weight:700;opacity:.3;padding:.3571428571rem 0;transition:opacity .2s ease-in-out}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .assistant-menu .link .tc-icon{margin-right:.7142857143rem;padding:0}[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .assistant-menu .link:hover{opacity:1}.boxed[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]{max-width:1140px;max-width:var(--boxed-width)}@media (max-width: 991px){.horizontal-vertical[_nghost-%COMP%]{display:flex;justify-content:flex-end;height:100%;left:0;position:absolute;top:0;transform:translate(-17.1428571429rem);transition:transform .2s ease-in-out;width:17.1428571429rem;will-change:transform,width;z-index:9997}.horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]{padding:0;width:17.1428571429rem}.horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox .mCSB_container{align-items:flex-start;flex-direction:column;justify-content:flex-start;height:auto}.horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .logo, .horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-toggle, .horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-close, .horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .add-patient, .horizontal-vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .assistant-menu{margin:0;width:100%}.horizontal-vertical.opened[_nghost-%COMP%]{transform:translate(0)}}.vertical[_nghost-%COMP%]{display:flex;justify-content:flex-end;height:100%;left:0;position:absolute;top:0;transition:transform .2s ease-in-out;width:17.1428571429rem;will-change:transform,width;-webkit-overflow-scrolling:touch;z-index:9997}@media (max-width: 991px){.vertical[_nghost-%COMP%]{transform:translate(-17.1428571429rem)}}.vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]{padding:0;width:17.1428571429rem}.vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox .mCSB_container{align-items:flex-start;flex-direction:column;justify-content:flex-start;min-height:100%}.app-container.loaded   .vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .mCustomScrollBox .mCSB_container{height:auto}.vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .logo, .vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-toggle, .vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .navbar-close, .vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .add-patient, .vertical[_nghost-%COMP%]   .navbar-wrap[_ngcontent-%COMP%]     .assistant-menu{margin:0;width:100%}.vertical.opened[_nghost-%COMP%]{transform:translate(0)}.horizontal[_nghost-%COMP%]:not(.horizontal-vertical)     .mCustomScrollBox{overflow:visible}.horizontal[_nghost-%COMP%]:not(.horizontal-vertical)     .mCustomScrollBox .mCSB_container{overflow:visible}.horizontal[_nghost-%COMP%]:not(.horizontal-vertical)     .mCustomScrollBox .mCSB_scrollTools{display:none!important}@media (min-width: 992px){.horizontal.horizontal-vertical[_nghost-%COMP%]     .mCustomScrollBox{overflow:visible}.horizontal.horizontal-vertical[_nghost-%COMP%]     .mCustomScrollBox .mCSB_container{overflow:visible}.horizontal.horizontal-vertical[_nghost-%COMP%]     .mCustomScrollBox .mCSB_scrollTools{display:none!important}}"]});const Kpe="[PageData] Set",Qpe="[PageData] Update",Jpe="[PageData] Reset";class uEe{constructor(n){this.data=n,this.type=Kpe}}class hEe{constructor(n){this.data=n,this.type=Qpe}}class ege{constructor(){this.type=Jpe}}class P4{get class(){return"custom-font-size"}get getFontSize(){const n=this.tcFontSize;return"number"==typeof n?n+"px":n}}P4.\u0275fac=function(n){return new(n||P4)},P4.\u0275dir=St({type:P4,selectors:[["","tcFontSize",""]],hostVars:4,hostBindings:function(n,t){2&n&&(Di(t.class),yn("font-size",t.getFontSize))},inputs:{tcFontSize:"tcFontSize"}});class _w{get class(){return"tc-badge"}get xs(){return"xs"===this.size}get sm(){return"sm"===this.size}get lg(){return"lg"===this.size}get typeDefault(){return"default"===this.view}get typeAccent(){return"accent"===this.view}get typeSuccess(){return"success"===this.view}get typeInfo(){return"info"===this.view}get typeWarning(){return"warning"===this.view}get typeError(){return"error"===this.view}constructor(){this.view="default",this.size="default"}ngOnInit(){}}_w.\u0275fac=function(n){return new(n||_w)},_w.\u0275cmp=ut({type:_w,selectors:[["tc-badge"]],hostVars:22,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("badge-xs",t.xs)("badge-sm",t.sm)("badge-lg",t.lg)("default",t.typeDefault)("accent",t.typeAccent)("success",t.typeSuccess)("info",t.typeInfo)("warning",t.typeWarning)("error",t.typeError)("badge-outline",t.outline))},inputs:{outline:"outline",view:"view",size:"size"},ngContentSelectors:["*"],decls:1,vars:0,template:function(n,t){1&n&&(fr(),Ki(0))},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{align-items:center;background:#1f2022;border:1px solid transparent;border-radius:500px;color:#fff;display:inline-flex;font-size:1rem;line-height:1.4285714286;padding:calc(.7142857143rem / 2 - 1px) calc(.7142857143rem * 2 - 1px);vertical-align:top}.badge-xs[_nghost-%COMP%]{font-size:.7rem;line-height:1.5306122449;padding:0 calc(.7142857143rem / 2 - 1px)}.badge-sm[_nghost-%COMP%]{font-size:.7rem;line-height:1.5306122449;padding:calc(.7142857143rem / 4 - 1px) calc(.7142857143rem - 1px)}.badge-lg[_nghost-%COMP%]{font-size:1.2rem;line-height:1.1904761905;padding:calc(.7142857143rem - 1px) calc(.7142857143rem * 3 - 1px)}.default[_nghost-%COMP%]{background:#1f2022;color:#fff}.default.badge-outline[_nghost-%COMP%]{background:transparent!important;border-color:#1f2022;color:#1f2022}.accent[_nghost-%COMP%]{background:#336cfb;color:#fff}.accent.badge-outline[_nghost-%COMP%]{background:transparent!important;border-color:#336cfb;color:#336cfb}.success[_nghost-%COMP%]{background:#b7ce63;color:#000}.success.badge-outline[_nghost-%COMP%]{background:transparent!important;border-color:#b7ce63;color:#b7ce63}.info[_nghost-%COMP%]{background:#64B5F6;color:#000}.info.badge-outline[_nghost-%COMP%]{background:transparent!important;border-color:#64b5f6;color:#64b5f6}.warning[_nghost-%COMP%]{background:#e9e165;color:#000}.warning.badge-outline[_nghost-%COMP%]{background:transparent!important;border-color:#e9e165;color:#e9e165}.error[_nghost-%COMP%]{background:#ed5564;color:#fff}.error.badge-outline[_nghost-%COMP%]{background:transparent!important;border-color:#ed5564;color:#ed5564}"]});class A4{get class(){return"tc-icon"}ngOnInit(){}}function fEe(e,n){1&e&&Fe(0,"div")}function pEe(e,n){if(1&e&&(se(0,"span",7),Be(1),le()),2&e){const t=ue().$implicit;J(1),Bt(t.title)}}function gEe(e,n){1&e&&Fe(0,"div")}function mEe(e,n){if(1&e&&Fe(0,"tc-icon",14),2&e){const t=ue(3).$implicit;ee("iconClass",t.icon.class)("tcFontSize","1.3em")("tcColor",t.icon.color)("tcBgColor",t.icon.bg)}}function vEe(e,n){if(1&e&&(se(0,"tc-badge",15),Be(1),le()),2&e){const t=ue(3).$implicit;ee("size","sm")("tcColor",t.badge.color)("tcBgColor",t.badge.bg),J(1),In(" ",t.badge.text," ")}}function _Ee(e,n){if(1&e){const t=Ft();se(0,"a",10),He("click",function(r){Xe(t);const o=ue(2).$implicit,l=ue();return l.toggle(r,o,l),l.closeAll(),Ze(l.closeSidebar())}),ge(1,mEe,1,4,"tc-icon",11),se(2,"span",12),Be(3),le(),ge(4,vEe,2,4,"tc-badge",13),le()}if(2&e){const t=ue(2).$implicit;J(1),ee("ngIf",t.icon&&t.icon.class),J(2),Bt(t.title),J(1),ee("ngIf",t.badge&&t.badge.text)}}function yEe(e,n){if(1&e&&Fe(0,"tc-icon",14),2&e){const t=ue(3).$implicit;ee("iconClass",t.icon.class)("tcFontSize","1.3em")("tcColor",t.icon.color)("tcBgColor",t.icon.bg)}}function xEe(e,n){if(1&e&&(se(0,"tc-badge",15),Be(1),le()),2&e){const t=ue(3).$implicit;ee("size","sm")("tcColor",t.badge.color)("tcBgColor",t.badge.bg),J(1),In(" ",t.badge.text," ")}}function bEe(e,n){1&e&&Fe(0,"span"),2&e&&Jt("link-caret ",ue(4).caret,"")}A4.\u0275fac=function(n){return new(n||A4)},A4.\u0275cmp=ut({type:A4,selectors:[["tc-icon"]],hostVars:4,hostBindings:function(n,t){2&n&&(Di(t.class),yn("padding",t.padding))},inputs:{iconClass:"iconClass",padding:"padding"},decls:1,vars:3,template:function(n,t){1&n&&Fe(0,"div"),2&n&&Jt("tc-icon-wrap ",t.iconClass,"")},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{border-radius:6px;display:inline-flex;font-size:1.4285714286rem;padding:.3571428571rem;transition:background .2s ease-in-out,border .2s ease-in-out,color .2s ease-in-out;vertical-align:top}[_nghost-%COMP%]   .tc-icon-wrap[_ngcontent-%COMP%]{line-height:1}.custom-border-color[_nghost-%COMP%]{border:1px solid transparent}"]});const rne=function(e,n){return[e,n]},CEe=function(e){return{active:e}};function wEe(e,n){if(1&e){const t=Ft();se(0,"li",3)(1,"a",10),He("click",function(r){const l=Xe(t).$implicit,h=ue(5);return r.preventDefault(),h.changeRoute(l.routing,!h.isActive([h.orientation,l.routing]),l.layout?l.layout:h.orientation),h.closeAll(),Ze(h.closeSidebar())}),se(2,"span",12),Be(3),le()()()}if(2&e){const t=n.$implicit,i=ue(5);ee("ngClass",ei(5,CEe,t.active||i.isActive(Cs(2,rne,i.orientation,t.routing)))),J(3),Bt(t.title)}}function SEe(e,n){if(1&e&&(se(0,"ul",18),ge(1,wEe,4,7,"li",2),le()),2&e){const t=ue(3).$implicit,i=ue();ee("@subMenu",i.subState(t,i.isActive(Cs(2,rne,i.orientation,t.routing)))),J(1),ee("ngForOf",t.sub)}}function TEe(e,n){if(1&e){const t=Ft();se(0,"a",10),He("click",function(r){Xe(t);const o=ue(2).$implicit,l=ue();return Ze(l.toggle(r,o,l))}),ge(1,yEe,1,4,"tc-icon",11),se(2,"span",12),Be(3),le(),ge(4,xEe,2,4,"tc-badge",13),ge(5,bEe,1,3,"span",16),le(),ge(6,SEe,2,5,"ul",17)}if(2&e){const t=ue(2).$implicit;J(1),ee("ngIf",t.icon&&t.icon.class),J(2),Bt(t.title),J(1),ee("ngIf",t.badge&&t.badge.text),J(1),ee("ngIf",t.sub),J(1),ee("ngIf",!t.groupTitle&&t.sub)}}function MEe(e,n){if(1&e&&(ge(0,gEe,1,0,"div",4),ge(1,_Ee,5,3,"ng-template",null,8,xn),ge(3,TEe,7,5,"ng-template",null,9,xn)),2&e){const t=fn(2),i=fn(4);ee("ngIf",!ue().$implicit.sub)("ngIfThen",t)("ngIfElse",i)}}const DEe=function(e,n){return{active:e,"has-sub":n}};function PEe(e,n){if(1&e&&(se(0,"li",3),ge(1,fEe,1,0,"div",4),ge(2,pEe,2,1,"ng-template",null,5,xn),ge(4,MEe,5,3,"ng-template",null,6,xn),le()),2&e){const t=n.$implicit,i=fn(3),r=fn(5),o=ue();ee("ngClass",Cs(7,DEe,t.active||o.isActive(Cs(4,rne,o.orientation,t.routing)),t.sub)),J(1),ee("ngIf",t.groupTitle)("ngIfThen",i)("ngIfElse",r)}}class yw{get class(){return"main-menu"}get horizontal(){return"horizontal"===this.orientation}get vertical(){return"vertical"===this.orientation}constructor(n,t,i){this.httpSv=n,this.store=t,this.router=i,this.caret="icofont-thin-right",this.orientation="vertical"}ngOnInit(){this.getMenuData(this.src)}getMenuData(n){this.httpSv.getData(n).subscribe(t=>{this.menuItems=t},t=>{console.log(t)})}toggle(n,t,i){n.preventDefault();let r=i.menuItems;if(t.active)t.active=!1;else{for(let o=0;o<r.length;o++)r[o].active=!1;t.active=!0}this.changeRoute(t.routing,!t.sub&&!this.isActive([this.orientation,t.routing]),t.layout?t.layout:this.orientation)}subState(n,t){return n.active||t?"active":"inactive"}closeAll(){this.menuItems.forEach(n=>{n.active=!1,this.closeSub(n)})}closeSub(n){n.sub&&n.sub.length&&n.sub.forEach(t=>{t.active=!1})}closeSidebar(){this.store.dispatch(new Upe(!1))}changeRoute(n,t=!0,i=this.orientation){t&&(this.store.dispatch(new ege),setTimeout(()=>{this.router.navigate([`./${i}`,n])},0))}isActive(n){return this.router.isActive(this.router.createUrlTree(n),!0)}}yw.\u0275fac=function(n){return new(n||yw)(de(Dc),de(Mc),de(go))},yw.\u0275cmp=ut({type:yw,selectors:[["app-menu"]],hostVars:6,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("horizontal",t.horizontal)("vertical",t.vertical))},inputs:{orientation:"orientation",src:"src"},decls:3,vars:1,consts:[[1,"main-menu-wrap"],[1,"menu-ul"],["class","menu-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"menu-item",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["group",""],["default",""],[1,"group-title"],["simple",""],["sub",""],["href","#",1,"item-link",3,"click"],["class","link-icon",3,"iconClass","tcFontSize","tcColor","tcBgColor",4,"ngIf"],[1,"link-text"],["class","link-badge",3,"size","tcColor","tcBgColor",4,"ngIf"],[1,"link-icon",3,"iconClass","tcFontSize","tcColor","tcBgColor"],[1,"link-badge",3,"size","tcColor","tcBgColor"],[3,"class",4,"ngIf"],["class","sub",4,"ngIf"],[1,"sub"]],template:function(n,t){1&n&&(se(0,"nav",0)(1,"ul",1),ge(2,PEe,6,10,"li",2),le()()),2&n&&(J(2),ee("ngForOf",t.menuItems))},dependencies:[Ss,xr,hn,M4,Hu,P4,_w,A4],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;margin:0!important;max-width:100%;padding:0;width:100%}[_nghost-%COMP%]     .main-menu-wrap{width:inherit}[_nghost-%COMP%]     .main-menu-wrap .menu-ul{list-style-type:none;margin:0;padding:2.1428571429rem 1.4285714286rem 0}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item{font-weight:700;padding:0 1.0714285714rem;position:relative}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .group-title{color:currentColor;display:block;opacity:.3;padding:2.1428571429rem .3571428571rem .7142857143rem;text-transform:uppercase}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item:first-child .group-title{padding-top:0}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link{align-items:center;background:transparent;color:currentColor;display:flex;height:100%;justify-content:space-between;min-height:2.1428571429rem;padding:.3571428571rem 0;position:relative;text-decoration:none;transition:background .2s ease-in-out,color .2s ease-in-out}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link .link-text{flex-grow:2;flex-shrink:1;margin:0 .3571428571rem}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link .link-badge{margin:0 .3571428571rem}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link .link-icon{margin:0 .3571428571rem;opacity:.25;padding:0;transition:none}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link .link-caret{margin:0 .3571428571rem;transition:transform .1s ease-in-out}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link:hover{background:transparent;color:#336cfb}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub{background:transparent;list-style-type:none;overflow:hidden;margin:0;padding:0}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub .menu-item{font-weight:400;padding-left:.3571428571rem;padding-right:.3571428571rem}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub .menu-item:after{display:none}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.active:after{transform:translate(4px);transition:.2s transform .2s ease-in-out}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.active>.item-link{color:#336cfb}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.active>.item-link .link-caret{transform:rotate(90deg)}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.has-sub{position:relative}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.has-sub>.item-link{position:relative}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.has-sub>.item-link .caret{display:block}[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.has-sub.active>.item-link .caret{transform:rotate(90deg)}@media (min-width: 992px){.horizontal[_nghost-%COMP%]{margin:0!important;overflow:visible}}@media (min-width: 992px){.horizontal[_nghost-%COMP%]     .main-menu-wrap .mCustomScrollBox{overflow:visible}.horizontal[_nghost-%COMP%]     .main-menu-wrap .mCustomScrollBox .mCSB_container{overflow:visible}.horizontal[_nghost-%COMP%]     .main-menu-wrap .mCSB_scrollTools{display:none!important}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul{display:flex;flex-wrap:wrap;padding:0}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul>.menu-item>.group-title{display:none}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item{padding:0}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link{padding:.7142857143rem}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .item-link .link-caret{transform:rotate(90deg)}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub{background:#fff;border-radius:6px;box-shadow:0 18px 24px #0000001f;display:block!important;color:#000;height:auto!important;left:0;opacity:0;padding:.7142857143rem 0;position:absolute;transition:.2s opacity 0s ease-in-out,0s visibility .2s ease-in-out;visibility:hidden!important;width:17.8571428571rem;z-index:500}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub:before{bottom:2.8571428571rem}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub .menu-item{width:100%}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item .sub .menu-item .item-link{height:auto;min-height:initial;padding-top:.3571428571rem;padding-bottom:.3571428571rem}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item:hover>.sub{opacity:1;transition:.2s opacity 0s ease-in-out,0s visibility 0s ease-in-out;visibility:visible!important}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item:last-child .sub{left:auto;right:0}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.full-sub{position:static}.horizontal[_nghost-%COMP%]     .main-menu-wrap .menu-ul .menu-item.full-sub .sub{width:100%}}"],data:{animation:[Us("subMenu",[is("active",kn({height:"*",visibility:"visible"})),is("inactive",kn({height:0,visibility:"hidden"})),Ai("inactive => active",ar("200ms ease-in-out")),Ai("active => inactive",ar("200ms ease-in-out"))])]}});class Kz{get class(){return"tc-form-label"}constructor(){}ngOnInit(){}}Kz.\u0275fac=function(n){return new(n||Kz)},Kz.\u0275cmp=ut({type:Kz,selectors:[["tc-form-label"]],hostVars:2,hostBindings:function(n,t){2&n&&Di(t.class)},ngContentSelectors:["*"],decls:1,vars:0,template:function(n,t){1&n&&(fr(),Ki(0))},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;font-weight:600;margin:0 0 .7142857143rem}"]});class z4{get class(){return"tc-switcher"}get focus(){return this._value}constructor(){this.onChange=()=>{},this.onTouched=()=>{},this.valueChanged=new et,this._value=!1,this.label="",this.name="",this.disabled=!1,this.states=fw}ngOnInit(){this.setStyles(this.disabled?this.states.disabled:this._value?this.states.focus:this.states.default)}get value(){return this._value}set value(n){this._value=n,this.valueChanged.emit(n),this.onChange(n),this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}writeValue(n){n&&(this.value=n)}switch(n){this.disabled||(this.value=!n,this.setStyles(this.states[n?"hover":"focus"]))}onMouseEnter(){this.disabled||this.setStyles(this.states[this.value?"focus":"hover"])}onMouseLeave(){this.disabled||this.setStyles(this.states[this.value?"focus":"default"])}setStyles(n,t=this.bgColor,i=this.borderColor,r=this.color,o=this.labelColor){let l=0;switch(n){case this.states.hover:l=1;break;case this.states.focus:l=2;break;case this.states.disabled:l=3;break;default:l=0}this.currentBgColor=t instanceof Array?t[l]:t,this.currentBorderColor=i instanceof Array?i[l]:i,this.currentColor=r instanceof Array?r[l]:r,this.currentLabelColor=o instanceof Array?o[l]:o}getStyles(){return{"background-color":this.currentBgColor,"border-color":this.currentBorderColor}}getDetectorColor(){return{background:this.currentColor}}getLabelColor(){return{color:this.currentLabelColor}}}z4.\u0275fac=function(n){return new(n||z4)},z4.\u0275cmp=ut({type:z4,selectors:[["tc-switcher"]],hostVars:6,hostBindings:function(n,t){1&n&&He("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),2&n&&(Di(t.class),Ht("checked",t.focus)("disabled",t.disabled))},inputs:{disabled:"disabled",label:"label",name:"name",_value:["value","_value"],bgColor:"bgColor",borderColor:"borderColor",color:"color",labelColor:"labelColor"},outputs:{valueChanged:"valueChanged"},features:[Ln([{provide:Ps,useExisting:Yi(()=>z4),multi:!0}])],ngContentSelectors:["*"],decls:6,vars:5,consts:[[1,"tc-switcher-wrap",3,"click"],[1,"tc-switcher-handle",3,"ngStyle"],["type","checkbox",1,"switcher-input",3,"value"],[1,"check-detector",3,"ngStyle"],[1,"tc-switcher-label",3,"ngStyle"]],template:function(n,t){1&n&&(fr(),se(0,"div",0),He("click",function(){return t.switch(t.value)}),se(1,"div",1),Fe(2,"input",2)(3,"span",3),le(),se(4,"div",4),Ki(5),le()()),2&n&&(J(1),ee("ngStyle",t.getStyles()),J(1),ee("value",t.value),oi("checked",t.value),J(1),ee("ngStyle",t.getDetectorColor()),J(1),ee("ngStyle",t.getLabelColor()))},dependencies:[Ys],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:inline-flex;line-height:1;vertical-align:top;transition:color .2s ease-in-out}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]{align-items:center;background:#ebebeb;border:1px solid #ebebeb;border-radius:500px;color:#ebebeb;cursor:inherit;display:flex;height:1.4285714286rem;margin:0;padding:0 .7142857143rem;position:relative;transition:background .2s ease-in-out,border .2s ease-in-out,color .2s ease-in-out;width:2.8571428571rem}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]   .switcher-input[_ngcontent-%COMP%]{cursor:inherit;opacity:0;position:absolute}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]   .check-detector[_ngcontent-%COMP%]{background:#1f2022;border-radius:50%;display:block;height:.8928571429rem;left:-1px;position:absolute;transform:translate(.2678571429rem);transition:background .2s ease-in-out,transform .2s ease-in-out;width:.8928571429rem}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-label[_ngcontent-%COMP%]{color:inherit;margin-left:10px;transition:color .2s ease-in-out}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-label[_ngcontent-%COMP%]:empty{display:none}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]:hover   .tc-switcher-handle[_ngcontent-%COMP%]{background:#ebebeb;border-color:#ebebeb;color:#336cfb}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]:hover   .tc-switcher-handle[_ngcontent-%COMP%]   .check-detector[_ngcontent-%COMP%]{background:#336cfb}[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]:hover   .tc-switcher-label[_ngcontent-%COMP%]{color:inherit}.checked[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]{background:#336cfb;border-color:#336cfb}.checked[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]   .check-detector[_ngcontent-%COMP%]{background:#ffffff;transform:translate(1.6964285714rem)}.checked[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-label[_ngcontent-%COMP%]{color:inherit}.disabled[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]{cursor:not-allowed}.disabled[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]{background:rgba(204,204,204,.1);border-color:#cccccc80}.disabled[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]   .check-detector[_ngcontent-%COMP%]{background:#bdbdbd}.disabled[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-label[_ngcontent-%COMP%]{color:#bdbdbd}.disabled.checked[_nghost-%COMP%]   .tc-switcher-wrap[_ngcontent-%COMP%]   .tc-switcher-handle[_ngcontent-%COMP%]   .check-detector[_ngcontent-%COMP%]{background:#bdbdbd}"]});class xw{constructor(){}isValid(n){return n.startsWith("#")?/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n):!!n.startsWith("rgb")||void 0}hexToRgb(n){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}rgbToHex(n,t,i){return"#"+[n,t,i].map(r=>{const o=r.toString(16);return 1===o.length?"0"+o:o}).join("")}hsvToRgb(n,t,i){let r,o,l,h=Math.floor(6*n),f=6*n-h,m=i*(1-t),_=i*(1-f*t),b=i*(1-(1-f)*t);switch(h%6){case 0:r=i,o=b,l=m;break;case 1:r=_,o=i,l=m;break;case 2:r=m,o=i,l=b;break;case 3:r=m,o=_,l=i;break;case 4:r=b,o=m,l=i;break;case 5:r=i,o=m,l=_}return[Math.round(255*r),Math.round(255*o),Math.round(255*l)]}rgbToHsv(n,t,i){let l,r=Math.max(n,t,i),o=Math.min(n,t,i),h=r-o,f=0===r?0:h/r,m=r/255;switch(r){case o:l=0;break;case n:l=t-i+h*(t<i?6:0),l/=6*h;break;case t:l=i-n+2*h,l/=6*h;break;case i:l=n-t+4*h,l/=6*h}return[l,f,m]}checkContrastColor(n,t,i){let r;return r=.299*n+.587*t+.114*i>186?"#000":"#fff",r}}xw.\u0275fac=function(n){return new(n||xw)},xw.\u0275prov=mt({token:xw,factory:xw.\u0275fac,providedIn:"root"});const kEe=["hue"],OEe=["color"],EEe=["colors"],IEe=["picker"],LEe=["transparency"];function REe(e,n){1&e&&Fe(0,"div",26)}const NEe=function(e){return{left:e}};function FEe(e,n){if(1&e&&(se(0,"div",27)(1,"div",15)(2,"div",16)(3,"div",17,28)(5,"div",19),Fe(6,"div",20),le(),se(7,"div",21),Fe(8,"div",22),le()()()()()),2&e){const t=ue();J(5),ee("ngStyle",ei(1,NEe,100*t.transparencyPosition+"%"))}}const BEe=function(e){return{background:e}};function VEe(e,n){if(1&e){const t=Ft();se(0,"div",31),He("click",function(){const o=Xe(t).$implicit;return Ze(ue(2).setColor(o))}),Fe(1,"div",32),le()}if(2&e){const t=n.$implicit;ee("ngClass",ue(2).paletteItemClass(t))("ngStyle",ei(2,BEe,t))}}function HEe(e,n){if(1&e&&(se(0,"div",29),ge(1,VEe,2,4,"div",30),le()),2&e){const t=ue();J(1),ee("ngForOf",t.palette)}}function YEe(e,n){if(1&e){const t=Ft();se(0,"div",33)(1,"button",34),He("click",function(){return Xe(t),Ze(ue().cancel())}),Be(2,"Cancel"),le(),se(3,"button",35),He("click",function(){return Xe(t),Ze(ue().save())}),Be(4,"Save"),le()()}2&e&&(J(3),ee("view","success"))}const UEe=function(e,n){return{"background-color":e,color:n}},tge=function(e){return{"background-color":e}},GEe=function(e,n){return{top:e,"border-left-color":n}},WEe=Us("pickerApear",[is("open",kn({height:"100%",width:"100%",borderRadius:0})),is("close",kn({height:"20px",width:"20px",borderRadius:"50%"})),Ai("open => close",ar("500ms ease-in-out")),Ai("close => open",ar("600ms ease-in-out"))]),jEe=Us("foreground",[is("open",kn({zIndex:3})),is("close",kn({zIndex:3})),Ai("open => close",ar("500ms ease-in-out")),Ai("close => open",ar("100ms 500ms ease-in-out"))]);class Qz{get class(){return"tc-picker"}get getState(){return!this.openPicker}get getOpenState(){return this.openPicker}get getGradientState(){return this.gradient}get getClassOpened(){return this.opened}get getTopOffset(){return this.top+"px"}get getLeftOffset(){return this.left+"px"}constructor(n,t,i){this.colorSv=n,this.element=t,this.renderer=i,this.savedColor="#0a48fd",this.hueHandlerColor=this.savedColor,this.newColor=this.savedColor,this.selectedHue=this.savedColor,this.S=1,this.V=1,this.circleRadius=1,this.transparencyPosition=1,this.alphaChanel=!0,this.buttons=!1,this.showPalette=!0,this.opened=!1,this.openPicker=!1,this.pickerOpened=new et,this.pickerClosed=new et,this.colorSelected=new et}ngOnInit(){this.getHueOfColor(this.savedColor),this.pickerSize=this.pickerElement.nativeElement.offsetHeight,this.NewColor=this.savedColor}ngAfterViewInit(){this.transparencyElement&&(this.transparency=this.transparencyElement.nativeElement),this.hue=this.hueElement.nativeElement,this.color=this.colorElement.nativeElement,"number"==typeof this.width&&(this.width=this.width+"px"),this.renderer.setStyle(this.element.nativeElement,"width",this.width),this.renderer.setStyle(this.colorsElement.nativeElement,"height",this.element.nativeElement.offsetWidth-38+"px"),this.pickerSize=this.pickerElement.nativeElement.offsetHeight,this.renderer.setStyle(this.element.nativeElement,"height",this.pickerSize+"px")}set NewColor(n){if(this.colorSv.isValid(n)){if(n.startsWith("#")&&7===n.length){let t=this.colorSv.hexToRgb(n);n=`rgb(${t.r},${t.g},${t.b})`}if(n.startsWith("rgb")||n.startsWith("rgba")){let t=n.replace("rgba(","").replace("rgb(",""),i=new Array;t.split(",").forEach(o=>{i.push(parseFloat(o))}),this.contrastColor=this.colorSv.checkContrastColor(i[0],i[1],i[2]),this.transparencyPosition<1?this.newColor=`rgba(${i[0]},${i[1]},${i[2]},${this.transparencyPosition.toPrecision(2)})`:4===i.length?(this.transparencyPosition=parseFloat(i[3].toPrecision(2)),this.newColor=`rgba(${i[0]},${i[1]},${i[2]},${i[3].toPrecision(2)})`):this.newColor=this.colorSv.rgbToHex(i[0],i[1],i[2]),this.saveColor(),i=this.colorSv.rgbToHsv(i[0],i[1],i[2]),this.S=i[1],this.V=i[2],this.huePosition=i[0];let r=this.colorSv.hsvToRgb(this.huePosition,1,1);this.selectedHue="rgb("+r[0]+","+r[1]+","+r[2]+")"}}}get NewColor(){return this.newColor}onMouseOutsideClick(n){this.openPicker&&(this.pickerElement.nativeElement.contains(n.target)||this.hide())}onMouseClick(n){this.clicked=!0,this.color.contains(n.target)?this.calculateColor(n):this.hue.contains(n.target)?this.changeHue(n):this.transparency&&this.transparency.contains(n.target)&&this.changeTransparency(n)}onMouseMove(n){this.clicked&&(this.changingAlpha?this.changeTransparency(n):this.changingColor?this.calculateColor(n):this.changeHue&&this.changeHue(n))}onMouseReleas(){this.clicked=!1,this.changingAlpha=!1,this.changingColor=!1,this.changingHue=!1}calculateColor(n){this.changingColor=!0,this.mouseX=n.pageX-this.color.getBoundingClientRect().left,this.mouseY=n.pageY-this.color.getBoundingClientRect().top-document.documentElement.scrollTop||window.pageYOffset,this.S=Math.min(100,Math.max(0,Math.round(100*this.mouseX/this.color.offsetWidth)))/100,this.V=(100-Math.min(100,Math.max(0,Math.round(100*this.mouseY/this.color.offsetHeight))))/100;let t=this.colorSv.hsvToRgb(this.huePosition,this.S,this.V);this.contrastColor=this.colorSv.checkContrastColor(t[0],t[1],t[2]),this.newColor=this.transparencyPosition>.99?this.colorSv.rgbToHex(t[0],t[1],t[2]):`rgba(${t[0]},${t[1]},${t[2]},${this.transparencyPosition.toPrecision(2)})`,this.saveColor()}changeHue(n){this.changingHue=!0;let t=(n.pageY-this.hue.getBoundingClientRect().top-(document.documentElement.scrollTop||window.pageYOffset))/this.hue.offsetHeight;if(t>=0&&t<=1){this.huePosition=t;let i=this.colorSv.hsvToRgb(this.huePosition,1,1);this.contrastColor=this.colorSv.checkContrastColor(i[0],i[1],i[2]),this.selectedHue="rgb("+i[0]+","+i[1]+","+i[2]+")";let r=this.colorSv.hsvToRgb(this.huePosition,this.S,this.V);this.NewColor=this.colorSv.rgbToHex(r[0],r[1],r[2])}}changeTransparency(n){this.changingAlpha=!0;let t=(n.pageX-this.transparency.getBoundingClientRect().left)/this.transparency.offsetWidth;if(t>=0&&t<=1)if(this.transparencyPosition=t,this.NewColor.startsWith("rgb"))this.changeAlpha(this.NewColor,this.transparencyPosition);else if(this.NewColor.startsWith("#")){let i=this.colorSv.hexToRgb(this.NewColor);this.changeAlpha(`rgb(${i.r}, ${i.g}, ${i.b})`,this.transparencyPosition)}}changeAlpha(n,t){if(this.NewColor=n.startsWith("rgba(")?n.replace(/[\d\.]+\)$/g,`${t.toPrecision(2)})`):n.replace("rgb(","rgba(").replace(")",`,${t.toPrecision(2)})`),t>.99){this.transparencyPosition=1;let i=n.replace("rgba(","").replace("rgb(","").replace(")","").split(",").map(r=>parseInt(r,10));this.NewColor=this.colorSv.rgbToHex(i[0],i[1],i[2])}}changeSchema(){if(this.newColor.startsWith("rgb")){let n=this.newColor.replace("rgb(","").split(",").map(t=>parseInt(t,10));this.newColor=this.colorSv.rgbToHex(n[0],n[1],n[2])}else if(this.newColor.startsWith("#")){let n=this.colorSv.hexToRgb(this.newColor);this.NewColor=`rgb(${n.r},${n.g},${n.b})`}}getHueOfColor(n){let t,i;if(n.startsWith("#")){let o=this.colorSv.hexToRgb(n);i=[o.r,o.g,o.b]}else n.startsWith("rgb")&&(i=n.replace("rgb(","").split(",").map(o=>parseInt(o,10)));t=this.colorSv.rgbToHsv(i[0],i[1],i[2]),this.huePosition=t[0];let r=this.colorSv.hsvToRgb(t[0],1,1);this.selectedHue=`rgb(${r[0]},${r[1]},${r[2]})`}appendToBody(){this.opened||document.body.appendChild(this.element.nativeElement)}removeFromBody(){this.element.nativeElement.remove()}show(){this.openPicker=!0,this.pickerOpened.emit(this.savedColor)}hide(){this.opened||(this.gradient&&(this.left+=13),this.openPicker=!this.openPicker,this.savedColor=this.NewColor,this.pickerClosed.emit(this.NewColor))}cancel(){this.pickerClosed.emit(this.savedColor),this.openPicker=!1}saveColor(){this.buttons||this.colorSelected.emit({color:this.NewColor,contrast:this.contrastColor})}save(){this.colorSelected.emit({color:this.NewColor,contrast:this.contrastColor}),this.hide()}setColor(n){this.transparencyPosition=1,this.NewColor=n,this.savedColor=n}setPosition(n,t){this.top=n,this.left=t}applyColor(n){if(n.startsWith("#")&&4===n.length){let t=n.charAt(1).toString(),i=n.charAt(2).toString(),r=n.charAt(3).toString();this.transparencyPosition=1,this.NewColor=`#${t}${t}${i}${i}${r}${r}`}}getPickerStyles(){return{left:this.left+"px",top:this.top+"px","max-height":this.pickerSize+"px"}}getCircleStyle(){return{left:Math.max(Math.round(100*this.S)-this.circleRadius,-this.circleRadius)+"%",top:Math.max(100-Math.round(100*this.V)-this.circleRadius,-this.circleRadius)+"%","border-color":this.contrastColor}}paletteItemClass(n){return{active:n===this.NewColor,black:"#000"===this.contrastColor}}getPickerState(){return this.openPicker?"open":"close"}getAnimationClass(){return{close:!this.openPicker,open:this.openPicker}}}Qz.\u0275fac=function(n){return new(n||Qz)(de(xw),de(Vt),de(_r))},Qz.\u0275cmp=ut({type:Qz,selectors:[["tc-picker"]],viewQuery:function(n,t){if(1&n&&(mi(kEe,7),mi(OEe,7),mi(EEe,7),mi(IEe,7),mi(LEe,7)),2&n){let i;an(i=cn())&&(t.hueElement=i.first),an(i=cn())&&(t.colorElement=i.first),an(i=cn())&&(t.colorsElement=i.first),an(i=cn())&&(t.pickerElement=i.first),an(i=cn())&&(t.transparencyElement=i.first)}},hostVars:14,hostBindings:function(n,t){1&n&&He("click",function(r){return t.onMouseOutsideClick(r)},0,L1)("mousedown",function(r){return t.onMouseClick(r)})("mousemove",function(r){return t.onMouseMove(r)},!1,L1)("mouseup",function(){return t.onMouseReleas()},!1,L1),2&n&&(Di(t.class),yn("top",t.getTopOffset)("left",t.getLeftOffset),Ht("hide",t.getState)("open",t.getOpenState)("gradient",t.getGradientState)("opened",t.getClassOpened))},outputs:{pickerClosed:"pickerClosed",pickerOpened:"pickerOpened",colorSelected:"colorSelected"},decls:26,vars:24,consts:[["class","overlay",4,"ngIf"],[1,"picker-wrap",3,"ngClass"],[1,"animation",3,"ngClass"],[1,"color-picker"],["picker",""],[1,"color-values"],["type","text",1,"new-value",3,"ngStyle","ngModel","ngModelChange","keyup.enter"],["newColorInput",""],[1,"current-value",3,"ngStyle","click"],[1,"colors"],["colors",""],[1,"color",3,"ngStyle"],["color",""],[1,"circle",3,"ngStyle"],[1,"hue"],[1,"range-field"],[1,"range-content"],[1,"range-template"],["hue",""],[1,"range-handle",3,"ngStyle"],[1,"handle-icon"],[1,"range-quantity-wrapper"],[1,"range-quantity"],["class","transparency",4,"ngIf"],["class","palette",4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"overlay"],[1,"transparency"],["transparency",""],[1,"palette"],["class","palette-item",3,"ngClass","ngStyle","click",4,"ngFor","ngForOf"],[1,"palette-item",3,"ngClass","ngStyle","click"],[1,"checkmark"],[1,"action-buttons"],["tc-button","",3,"click"],["tc-button","",3,"view","click"]],template:function(n,t){if(1&n){const i=Ft();ge(0,REe,1,0,"div",0),se(1,"div",1),Fe(2,"div",2),se(3,"div",3,4)(5,"div",5)(6,"input",6,7),He("ngModelChange",function(o){return t.NewColor=o})("keyup.enter",function(){Xe(i);const o=fn(7);return Ze(t.applyColor(o.value))}),le(),se(8,"div",8),He("click",function(){return t.setColor(t.savedColor)}),le()(),se(9,"div",9,10)(11,"div",11,12),Fe(13,"div",13),le(),se(14,"div",14)(15,"div",15)(16,"div",16)(17,"div",17,18)(19,"div",19),Fe(20,"div",20),le(),se(21,"div",21),Fe(22,"div",22),le()()()()()(),ge(23,FEe,9,3,"div",23),ge(24,HEe,2,1,"div",24),ge(25,YEe,5,1,"div",25),le()()}2&n&&(ee("ngIf",t.overlay),J(1),ee("ngClass",t.getAnimationClass()),J(1),yn("background",t.savedColor),ee("ngClass",t.getAnimationClass()),J(4),ee("ngStyle",Cs(14,UEe,t.newColor,t.contrastColor))("ngModel",t.NewColor),J(2),ee("ngStyle",ei(17,tge,t.savedColor)),J(3),ee("ngStyle",ei(19,tge,t.selectedHue)),J(2),ee("ngStyle",t.getCircleStyle()),J(6),ee("ngStyle",Cs(21,GEe,100*t.huePosition+"%",t.selectedHue)),J(4),ee("ngIf",t.alphaChanel),J(1),ee("ngIf",t.showPalette),J(1),ee("ngIf",t.buttons))},dependencies:[Ss,xr,hn,Ys,Pv,vl,Wf,Lh],styles:['[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{height:100%;max-height:600px;position:absolute;visibility:hidden;width:100%;z-index:9998}.hide[_nghost-%COMP%]{transition:0s visibility .4s cubic-bezier(.7,0,.3,1),left .2s cubic-bezier(.7,0,.3,1) .1s;visibility:hidden}.open[_nghost-%COMP%]{transition:0s visibility 0s cubic-bezier(.7,0,.3,1);visibility:visible}.open[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{opacity:1}.opened[_nghost-%COMP%]{display:block;overflow:hidden;border:1px solid #e5e5e5;position:relative;left:0!important;top:0!important;width:305px}.opened[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{display:none}.opened[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]{display:block;height:100%;position:relative;width:100%}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{background:rgba(34,57,76,.2);height:100%;left:0;opacity:0;position:fixed;top:0;transition:.2s opacity cubic-bezier(.7,0,.3,1);width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]{border-radius:0;display:inline-block;overflow:hidden;position:absolute}[_nghost-%COMP%]   .picker-wrap.close[_ngcontent-%COMP%]{border-radius:50%;box-shadow:none;height:20px;top:8px;transition:box-shadow .4s cubic-bezier(.7,0,.3,1) .2s,border-radius .2s cubic-bezier(.7,0,.3,1) .2s,height .4s cubic-bezier(.7,0,.3,1) 0s,top .1s cubic-bezier(.7,0,.3,1) .3s,width .4s cubic-bezier(.7,0,.3,1) 0s;width:20px}[_nghost-%COMP%]   .picker-wrap.open[_ngcontent-%COMP%]{border-radius:0;box-shadow:0 20px 40px #0000004d;height:100%;top:0;transition:box-shadow .5s cubic-bezier(.7,0,.3,1) .2s,border-radius 0s cubic-bezier(.7,0,.3,1) 0s,height .4s cubic-bezier(.7,0,.3,1) 0s,top 0s cubic-bezier(.7,0,.3,1) 0s,width .4s cubic-bezier(.7,0,.3,1) 0s;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .animation[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;opacity:1;z-index:3}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .animation.close[_ngcontent-%COMP%]{border-radius:50%;opacity:1;transition:border-radius .3s cubic-bezier(.7,0,.3,1) .3s,height .4s cubic-bezier(.7,0,.3,1) 0s,width .4s cubic-bezier(.7,0,.3,1) 0s,opacity .4s cubic-bezier(.7,0,.3,1) 0s,z-index 0s 0s;z-index:3}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .animation.open[_ngcontent-%COMP%]{opacity:0;height:100%;width:100%;transition:border-radius .2s cubic-bezier(.7,0,.3,1) .2s,height .4s cubic-bezier(.7,0,.3,1) 0s,width .4s cubic-bezier(.7,0,.3,1) 0s,opacity .2s cubic-bezier(.7,0,.3,1) 0s,z-index 0s 0s;z-index:-1}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]{position:absolute;top:0;transition:0s hidden .4s cubic-bezier(.7,0,.3,1);overflow:hidden;width:100%;z-index:2}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2O8devWfwY0oKamxoguxjgUFKI7GsTH5m4M3w1ChQBEjCXMAbX0MQAAAABJRU5ErkJggg==) repeat left top;background-color:#fff;background-size:12px 12px;border:0;height:38px;padding-right:38px;position:relative;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]   .new-value[_ngcontent-%COMP%]{border:0;cursor:pointer;height:38px;padding:8px 16px 9px;position:relative;transition:background .2s cubic-bezier(.7,0,.3,1),color .2s cubic-bezier(.7,0,.3,1);width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]   .new-value[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]   .new-value.black[_ngcontent-%COMP%]:before{content:""}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]   .current-value[_ngcontent-%COMP%]{height:38px;position:absolute;right:0;top:0;transition:background .2s cubic-bezier(.7,0,.3,1),color .2s cubic-bezier(.7,0,.3,1);width:38px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]   .current-value[_ngcontent-%COMP%]:before{border-bottom:1px solid #e5e5e5;content:"";height:0;position:absolute;top:100%;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-values[_ngcontent-%COMP%]   .current-value.black[_ngcontent-%COMP%]{outline-offset:-1px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{padding-right:38px;position:relative;width:100%;overflow:hidden}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAADDKSURBVHja7J3rbiPJsYS7Ab64H9J+BPuHYRu+r691rDnLBbe3KjMiMrKa2hkBwkjsG6XRFxGZWWye438fx3F8+/z2+e3zK/x8/D//3z6cH5/sd3r+nH8n1euix0f7zbZdH1t9H/17/fzvf//7w7//+c9/vvz773//+8vnP/7xj+O77747/vznPx+//e1vj1/+8pfHL37xi+NnJQDiz3J+5UIz3glq9ZwFUM9dMM9AnkG9+voK+vPr188P8D+A//j3X//61/HPf/7zC/x///vfj7/85S/HH/7wh+PXv/718atf/erLud9SAILn1AHreGM4d1z73PVzscc63Dfa/v3jowL44uuTcfEr5Nfvr8C/gv90+o9/n/B/fL7C/+H8f/3rX7+4/+9+97vjN7/5zZcUcJsAXK553g3rzRCf3ddNzjc6fg/EMSeyL+vKKMwi4KGrj6eyAM7+/PlXn1fgrxH/Cf4V/o/PJ/wf7v8hAH/84x+P3//+919SwIcYbBGAqyr+TKA+jdcau5774vjTeV3BjUcF9JWZbAJdcvjLY+PV4Z+AP4XhKgCvzh/B/+r+f/vb377E/z/96U9fwP/4+kMUWgQgAH68KeCncI1x0/M9G6L1qD6/jrpadPAhgH4qtTpbu2eNu4njj1fgP55nBv9r9H+t/T8E4CMBPD8/HvvYbhOABfTjDUBH4B5dSUF1XNQtTXXz2VBfDxbsGZBKk01owg0A8lMFH/l8dfmZ23//OZ6x/+P5vDb7Vu7/FICnCDy//nj8Y/+yAEz+w8YNwJ9qvHaVA+R5hrkpdhbdW/4drYAtuvogoT4jl0fdPHH4EcB/rqCfPR44fgT/D27//WhvPMH/uH4U/589gOfXz3RQFoCXH35nF/1Ua2jHiDByO2dJQrp49fqnEs+j6yeQW+r06/WRmK/W84nLj0nchxp7CPhZw+9DDJ4icI3/s8+PbR/7fZyjIgAn8sdngP7cAPupwkVeF62Lh/LzRG7cENfPQpd9gO5+Ght2Ucw/F915qJZfuP+YCcIK/Mz5gbp/fED9cZ1n9/9VBJ6i8EwIH8d8X0pIAnA2NsHkxiHidM6eHtL4YsUELXOC/YbQcDuF2D5A+M9sv0AMRhLloeZdti0Y2Z1KU2/h+IPp8M/gf67qWzX+vnf/L2ngCfzr5yv8L70EWgBs8FcbhwLwjtob6jeQnXPEtYciGCDQgxAANr4PxulJlx8B5NJCnMtjP3FxpcG3cPvxKgavM/4nnKuO/7X594T6CfmrCDyhf4X/eezz532QCzZGA/iumB2mB0HobPE8qbMh4cgEwwE1APZAm3JEPR+VBCc7k389YeTqQjd/XM+F1PiruP/i/OMqBLPo/5oArgJw/fxf7B/PcuAV/Ff3pxJA06iw6vYu4M/oD90U01nhOE01OxLvked2El35YXT7qMF3CgtzrhD/CGQy5o+s8Rc1+ybRf7yO+KKZ/3X0dy0Fnh3+6z6vYsImgJL7X/7zK+Cn5QJTGhRq85PtJZCLZVAxO6vr3JE6HWjcoaM4CGjQ7UcU/Ymu/tTZhbg/rjU+4P6zuv8nQjCD//linyv4L6/++2E6cBURVgBk+E3gV6E/lY5fErkHIjZJZ36wLs5E8uj65NwdifRDndNf3Tnq0gMjvKXDo1F/Vvuztf7r8t7Xhh858vuREMzcP/t8isAVfjoBFLrkpwH8ahwf6M+wAGawYsPW41nfgVkDj7g3CfgIwEVGdYNx/Mljs2bfSTT4RjHyj+J8//n8z0gErrH/xfnHVQRm04CrMLwsFJrCDwnAzkVCTI8A6AkM4vmfYr0O9Q6UY9nID9TxJws4UvvPXJuI84MVhejVditRMHf3l2Iwg//i/NNmHzj3/0EErrBf08H1+1cBUBIAHf9Z+Ivgn+IY7hRGbKcjwoOr506xC39mvQAS8iE286YjOgDwER2TjO/GquOfuP1gxeAJ9Gqhj9L1n839L0BTIvA853fffTeu6eP19/tQb6ZghL8CvhrP0WuxqeJcvYCHqdELsX2g4qBCjtTrquuvRnpoCRAs8DmBl+VScX9W86+af1nXf1YCvIrAC9g/EYGZ+18d/+Pj9dpQCSAullHgZ9ays+CfaPMvq//BJbFK132Q+2eR/0R6Adn+YrxXYv1YNQ2JZt+ZNPmWfQBUDK6z/UXcH9f9gebfyEZ/qyQwg30W958CcP1ZswTAxn9m/1N0YrbGHuSLYQZxbrj2JkZzJzpXR8Uh6sYzoCPjt4WLhw4ejfeIBTwDjf6z/dHa/5is6V/U/EshiF7q+5oGVlDPROCaGq6fr2XAVQRcTUAIfsH1GfCZuH4S9TiUJFZLm9EoLzr7IOp6GnSkHmeifdDZhwAHx3oDnelP0sHJ1P3Zi3vQxt9LCTAFeyYKWRJ4Pfb1d/D6vUsAWOdn4B9KOgDAZ86bJYkTqcPJfU/kBThB3T2Isd0gYv7UzRXnj1x/dk40/s8afFHsn4lBFPmvYnB1+cVin3FdD7Aa/z3r/FUSuCwMGpG4vF7vtQx4/d0+0Jd0GhqFJ1mHjxvAR1PEKUb6UdxvKiJEbQ/FdzLmD6fzr/ZD43/Q8Wdi/8hGfTOXT5p/TPd/6u5XwXiCPXsB0fUas99JlABQV7ftl5UHE2Cyeh1tAJ7gLB6t/U/AtdH9YMcGm34V2NEGn+T8UbQnavyfdP5XL+wBxWC6vHfm9t9fe7nY51UIVp3/mQgANwb5yX5XAfr4fK4KhHsArnuym+FHpgAn2gcAegBoPY8khxNZoXcVJFAY0Pp+gHfLGcA+S0dnQF+M7ZYAM2IAzvdHJASvgAO1/49cPuv8rxz7xfGnYjFz92j7bKKS9gBMrxFA9zkS+NHx30mM1QYqNAiokRgh8T9p7EH7zADNJgGgs6MLdAbg/OE+i/1OYLx3BnP+gbr9bJZ/vbnHsbjDz/WOvqu6f9b5D4QgFIuPz487As1SwOx3cf1/LCUAYOHNqKw0jJKB4PpnEt8hFwdq/xMdySn7BDU+IgojGw9mdT3ZyR9oGYD0BBgxKCz0WTYCVwt/is2/FPBZOXCF/dnkm4nAtfnnKAEQuI8N8CONwDPpA5xEMw+J5ANNDGpcJ2p3WBQyQSDd/0Q6/dHdd4OGHjLmG0DnP4v+YSJYNQAREZg4/chGhTPAZyngKlhtJUBRIFzwS9CC4DNNOrUEgLYTQEOiwApC5P6FmD+Sej9dyvtyDovjV2r/I3613w9wBrV6KAJKCohWOkYCkNXtKdzV7UmNnvUDsnIALQWoMoCI92ezy5/JPD49nhzzwaVAEPOzej+r9afdf8bxgdV+I3nhT1b3p4uCMsivHf+rYD23r1LP836BaQLoerNGZF6fzOoR1x9sIiDdXBEOJv5XXX6oCUDYDpcCSHMva+ytGnoz15+NvFYv3EF6ALNx32LuP4X4eZ4M8ijqv7r8asy4aoQupjiaABTdfTTAj8BbLQVGMtobiGiwTT7W5SPBMAgC6/4Q7FEZEKz2W8Z7sPOfrfobQewPVwFe4/y1Hl+JACIQ1+2zRl95ClAAXD32BObsA+kFEH2AE+zCW8CeJQUm/ifrA06ii88IQgl4peZPhGAFdNT0G4Wu/0je2COq/ZcTgCvo132e22ZrEq7Leq9CcB0JrkSgVAKwEFe2Ae48snJgtV4AKQWQMqBYAqBOT20LGnsnMc6TgAfm+EuhAJp/I+oFBLCnQhCM/kZU+89Av/YFGBFYJYHnPtfjVuO+2divmgBK0wH27aeY0R3j3EmcH2IZICWFqGZP3HpkfYCVWCQ33YQSAAo1EPWHWO8PMf5H0T+q/6PX+mcrAJeRf9a5R5z++XuIVvxFN1pxC0DF4YfjmFmpAPYBqq6egkjG+PRaQrSHBEGt/2dQr+L8dXSHxPxVvc/ATnb9w/r/WL/wZ7kiLxjzQSng6vSrMiG6/dnsgxEApf5XhMENf9YHKLt6BWAU0irYYHSHyoGVGKyOiXoCSb+AcfcRlQ1B53+sRCC4zdcIFv+M6zGzvsCsXzBbWhxda9bxf+0DrEQgXQlohFw6hk0LSXRnSgGlDEiPCeK60uiLGoAjetyYAJBjTmLWPyLnn4EbbFNcP2r2jZUIzJYDJ27/o8i/EoGrEKw6+0wKcCQASRgczbkEfjq6o9dIzkXV8EgSYFNAUhZEC3iG6vJIfa/W/UE3P1roIwnBYuXfEvbgTT5WTcBVJ38J+uqFRlfQlbk/1APY2OCj4BeAhcdvaKQn3JsuAZCEAD4ewk1Cv3JsZNQXRnpgzr8c6wnOv1rqCz2+WvI7KwlWQK/q/izWR8khe/9CNQGwTTnW5U/WlY2JYFkiZOdHSgqkK5/EfKR+hyBm4Vb3Rx/PUkHg8KHzB+sJztUKPmL8N1QRiEqIzNVXsZ59/HVZ8OvHdTnwA4kJRpc/dopCAD+cBgplQLfbrxp2SB+gnACIzv8gG33Lxw3xP+0BrOBd1fizKQAyBlwlh2g1H+P212QPLwQyCIBS+5dFgYzw6LkdZUC6L/C46vYjGhmyYnCBe1Xjr7r7cKMv6PYvS4YM+NmYL0oJUf0fxf6s9r/2Ha6RPxr/rdweEYbVR0UAQqCJbjwlCgT8YRoAu/voqC9yX7hJF6zac7i9lAAY6JHuPgM8IgSo888eW9zrb2TTALT2XwEZpYCsFHg9xzXuRwyuOIcFoOj+tCgUEkE1DURNQSYJrO6rB/UDFLcnAM869yew4GcItf8JvOpvKQQdwC8W/YSun4lAMAqk6vhZKfDcd7XYJ4r7s8cRAVBm9gjo6L60UGSCkMDP9AUkFwfGfunxiNurru6GHun6I0KQjAkr8Z92fUYEosdWt+tiIv+s1o8agVIJwDxuBv1wwp9EcEgQwDo/vE7W2EtSQNXtldgvQ7/q+q9ABup7qizIIExe+Teic2ZTgBmYM8F4hT07PnqM7d+pAnAyALFiIQiFJAhBhz917SwJgOVCFN+HIhArmLPHLjDPEkA48gPqfOixZG0A5fxJGqATwmwciKaDqPkXgT1LAbMyYHU3oKgPUE4A4r60eLgEgajrS0kAaAaG+xVSgPRYJhAK9FntHz0WJQfF+VduHqz+Q6P7yJqIwQ1CoGSyivcrsNl39dotAGfUiEMfa04DipikoLqALsb8WeMNgj4DPKnzQ5izup/oD5zASG6sXJ+p/6M4j8I9e2zm+FlamIkAsp9TAKo1fUk4DGkArusXUFPX3JECGKBXq/RWguEsA4IeART32YRwfW1/0gik6//MzZFO/3W/qAxg5/5SAijM7l3uXxIEAH7lXFWHd6QACejFY3AzEBEHNvJPVvpVmn+Q284ERCkHUOBRx2fE4/Xr1/UAMyFQegD0CBCBWAUbOS5IAytHV+M95PBg04+GdXVuJhVEx2UTgMTZ0c7/YJqCahpAewCzdMCUA1c3V4UiSgErDld9gGwUqCQAas5fEQnQnZE0YE8HiMOTcZ9JAVDnPjs3CjnT4EOc/ioWRFOQEoaFg0PlxQRUpDFYTgaren5W319FQXllr0MAOmHPlv1SAiHEeTYJQA6PlAQq1AvHXyYFFHKi/mcag2mzT0gDsxV/PwEVcfnZcZl4VIBn91nV/ci6ADUBIG5Pw35g6/lbBYJJAqwYEPswdT98ngxqphQgEgHS8FsCzXT8kbgPTgSkJDABk04GiHAgZcBrT2EmBtIUoPIYCO6B3JdAiOsHmQ5WtfUQan0l7kephBnlKdEfcvfk+xTya6mwgByZDISdfMX5V0ngFbDF2gGpARgBOjsmGvMh0V9eCKS6fcH9D8GRlwmCgD9c0YeKAbDPsmwIYvv0Og3RnyoFopFfEvFTZ0cmA4BD091/5ByZgyuiwIjE6hhkpN+SABa340LgTmEHOvCyYJiTAF2Po6Cj0EZ9AST6Ry4MdPtTyGdQR5AHpQQT99O+QOTqq3EgG/0dKeD5PZqoMxGQBKCwKtABdzUdbBMDtSRgt4ONRDT6o6UBU/9nwhCmgWvZAHb3kSnBQNLECkZEFBjX//iIFvisUsDse7Q0eJCwlURCOH8mEPT3DjF4BdHk8qXtiFgI0T+FelWnr7r4iPtHIjCp4Skh6fjeUQpEdX00EkTGfEwJALkzEfdZt7/9e0EMtrl8pRwoRn8q5hvc3w412yeIYjcL/VO4XmN7dL5rCsi+n60mvL5a8Hr864rB9LbglRcBOcoL8fsUVocY7HB5h8OLUZ8GPen+l9x/p3O/QgrchXjZnb/ug8Z69HyOD4sACIIApwsR6FQcNiWBbAkvAjN1LXfUB0uBcPGO6v6ra+2K9xG0aP9AFRykjo9u/YWy2yUAjuaeOr6LAKWTAZEEZv0Bm+sDKcAqDIvjV41AOvaz47/XYy8dfWv8v15LqfejOT7avEPONQOefas/Vwmwuu+eA3Dousy5DGIwm907I/1SZIRyoFzzN8V+SHCihmByLovzRwJyfR7RQp2riM5q+Wwk+PoRrQpkmoG0ACRvv6XEf4s4MNG9GusJZ6fgBpqAq7Ef0vCja36mEViJ/UEJsQQbqNPD0iRZAbhs4mXOno0SV049u27UF4iWAMuvBdhU73cBXt4XSAKuVEBH+AR2Bu60xhfBl2K/UCL86DqICLDOn5134vRhKRAJxHVCEO3LLPCRlgIjS37V24hX4v1MVLKlwOC+bI1fEgax9peEICgVkB5AOgEQG3dQcmBivSoC12TAdv6zUR4CMnJeNiGwJYIjAVTq/0N09AOt1atRXhGGQuRPhQCEPYQbqfkV8FHXVkDvEAGhdEgFIoJ1tg5g1dVHuFwlDYY9Swlgiv8q8B3bGIhlYVCuV4E9c3lw1AeLQjLLV4GVRABx92AF45HF+2yUh/QN0DIAKcel1wIYBOBO4KmIzjp4si0EU3F6FHa1lkdKiFUTEdxGlQSObZEIALN7eFskSDOnR5qFSBmwivaVhUGPbKHB5CON/Ob6HgU+WuxzNNT1tvKgKAThCJDpF6CRPRjXWcCvJANGBGbjxKyOj2rzCPoo+s8mDbPrZKxG53cKgLqA5+gGPpr3K/sBz8MFOOX6DiFgy4JO8F+vNZtisG7M9gRWzpw07yCxUFIAUuszvCoCgN4NOJ3ps2JQOV/UvENrecLR3QmB2S+K+OhCHrT5F4KflA9hLwDtC1yPQef/yn5XN159HcG8qsVni4FW9fuqL3D9elUSrEoHaimwsf5XSgjKuQHwjqyWR9ODAjXQJ0Dre3SVnxL3U4cGSwSqT8CWB8gIMXJgZAS4iu5ZyRCVBavFQEgzMIv6WUMQuh+A8dV8iuPT7p9AfiDuzLq4mBCyxTqwKBBCkLl5CvHseAH8bD+2L0CN7FbQRiKQRffVxABNAYw4MM0/ZwmgwCw5PrDU2Al5OFFA4J8JhigE0vFZ/CeOgQWCSAMyxECtbheBLKJnpQBTu2fuHi3mAUxx+oEsBupKABCkoOOn0Z2A/CAbe6WaH3TdbD+m6Zd1+ymBMKYB+LxJvZ+eK3L87FxZREd+LgR0tPGYNeDZ2385pgAUwKzjozV95bwF4I8q/GhkBxydEZjQwVcCoaaBVfMxExGk3kcFYVL/UiKQRfTV17PRItJQzD6ym4C8Ov0qNdjGgMbIDi95dLk32QC0CUkhHaTAsmKBdPdXaeAKMtn4q5YHo5AQlnN1VgSQhuDq73iAb+u9gj5LCuXbglcjP5EYWMcPY70SjZRpQrHmV1xcqulRkJMaPn3cXP/LgsCUCdkyYCSyRwtzlBSA7uO8FdguAXA5vuTGDXG9UvPTouDYH3wcHbcpaQB280rt7xAK1vlZWNE1+tkdftj6X74jkAiotD94rA3sHZHe1OCD9i/Efwn8KuDqsZVU0C0Cs4YkArEiDG+RALI37DBF/jT+O0sA99dOIeiI/4xQkGVAa+x3iUAEF/p1UEZIcT/aX00CloVApCuXBIV4NyCXy9PXaUoQEeS2+B8lANTpgTIgmjC09wEmogivBkRKEGTOj6zSQxqAUSNwSwII3N0R+dm6fpezy+JDOPw17jq7/GgygBp+ahxfHJv9HkqpYAaSGv+R7n22AAgRDHUcWBGDh+i6UomgzvUjALshDpJNuf539AQS94aSAdEIhMVBaA5axn+OxUBRUmAWJKHNwOhnQRuBMzGwjwErJYJTLAzjvDQpMEJQiPpUesigZGJ+4sZQeZA5uhDrHY7PCFpYu6OLjZj6H3H5q4ih8KMpAhYApqbPSoTshqOgWHQ6vjJmVEd9lZ6AmgyoUiEQKQZmKCFchUSc71OiM4OMgR19hWBylyA4tjNLhGfHSQmg0JgrCQRZerjhPghXZvZNRWMBDdxxn4AUNuACUYH6BWT0p2FGS4rMdRfRnC4noq8jkUDGgFm/IUoGlVcFlgSA7PqH+xbiOp0qZs+LgXtyHCpGslAwyWA1jiOAD+N8IfpbewKZq0YigdTsEezRNKHq/ExDL3vFn3xTUOVtwpJ63A5ypcYXzkW7NbudAZqs96vA05A7uv9ACQDHdzQRVBqCs+3ZeDCDnR0vsr2BRxFKy/ZC5N8Jenr+QuwviQNbt2dAA8CH9b05FVQd3XI80xcIOv9hUy8rAzKxyNLAbLucAMjtFPSmJKGO8VKQs7FeViI0iMN24BWI2e0JhFkNH3bhgdEb3BeIIv/KuZ1lQCUNuASAerVeoc5noJUcnwGZGetVjoncfgHvDkFIj1l199HtDOREUzAbB9LgR5EfKQOYaQDaYCw3AasJAJ3dkwArQkGVBgjoTIlgPoZaWNQB/EUg2a5/yemJiA43DZFEgICPRP7V8xnJG38url2a/7MCoDi8BGsj9ErX/6jW+spYkAE5WhSkCkLkxtlIEBAJ2elV94/gi5b+MuCzI0FUnJi3+cpSh3sKsASFbPq500EGK+zuCcBpchDLBqYUyJb0LqEEavxp+kCvpz42c3qkgZdE+LAUmMGigo+MBNEaHXle1X5BaQxY6RkI9fuW/VjBQB9DI75aCjAJAG3qoc5dAb4qFlegVfd3gp9NBtA+AfthvS14RQAG8J6CnxD6g4WVKQsMpQDk2IEgSHBHScD1GNEAlEoBZAR4TRhoT4HdjxWD6q3CYAFwNe7YazmhD0oWxckPsaHYWgogYC5KAjhl7EwCDHiV5ICCj0KOuHIGbrZUGBEK20pA5jX5DMQk2Eehix9Bf4Adelk4KkkCKAVWQHYlAEpwmMcmcEPujzTZAKeXwM/q/mzqoNbyjvUDjgSQCkaDw0uRX00GxDmUsuColAJkp19JAEwvQHJ4pv8wE4YJrKFoqGLAjgKZht0qyqui4HhfACrGM3N/I9iycIDQs72Aatx37m8BPdp/AZgkGozrX4Fn3R+J/Sr4TPJQygZFFKL9rbcEE8XECjYI4y7o4YTANvyUVKCCnoFrSAJyWRC5fzX2q+CjsR7Zhq4BUFcGqgLANgU7tqWNORf0wP6wWLDnXPw8lm0GmOUkkEGNuj9yXEUMVs3CSCgyV2e2IaJQmQR0CACyvzMR0AJihh526RmMzDmr24BSgoa5Kh7oOZHywCEGYK1Oxf9qGuj8qArA8qW/WQ+BPbcgEh3JwFkCHKpoMO5+5CsAGfGwJAHG9aOYn7g47PSv25L5PRX/VyNMdjTYKRyPhk4+MvaLmnF0aVBNBhn0jhKAgPdQUgHoxKUEkDQEoSQQRPjl8ci8PwGWiv1IVI8EAxGFVWJAtqnNv9nzcJUArSAz1xCTgbQPCb0ENtrwA8uNMuBJAnDtU3L2BEYa6mxdgFI+RE07pAHoKhlsPYC7xKKaDMiSAdonEgb2PJl4kOlAAvwAXt1HNuzofRAxKLg/AmMa/5HmnpIG2Nl+iwAYwFX2jQAOXRtxZlAYIPFwpQE2FSjpwAE44vKv9f8KTMX1o35C0j2fAjq7Jgjz0ukZp2ZGeMz5EOF43OjySrRnRCOK8VSaAEAulwAHsDqQTRlk7Q8tImId3LVv5sSMKGQNQbR8YMQBmRgwjUBkfUDXOwO5XZ6BkXF9JsYzjb8DcVukBGAhBRf5yNEeXP0nCwbZI4Abh8nNOENRiHoADMSI6yLPV20Esm8J1p0ApESgQE6M6SzC4BIIUVTQRp9S+ytlgAz24o8YLhOycgFssqWpImjeIa/Eg4DvbPK1CQAZ8xWXr0R7xdFDYUDBVVIBELWXawcUN3c69ax/gAJNrgdIm3tZPY9Ebhb0KP4zTswkCadYON4clIn5FZd3uH4oDGzTUThHCmHUD2ABFp3fkQRkoJlmHioKYE8BdunrsRmASOmA3hvAnRKc7w6MwCM5NnnO7I8aORcEavUchiZgl/OndwCqAA0kAVgUUHFgYnj2vJB6PBML9T6BjgVCXQKgdOylc4o9hRRMokxg00AoHMxoEOz2o5MBJk3Ibo523MWyAXZfQnhgJ0dTQWWG/zxXR1/AIgAOV1dhRqI0+nxVuJkywuHs1Tm/4N7OsoBu9KHCw6w1YGN2NRUwaYHpWdwiAC5XVxy40/WLaaBU74uww+nBLQoKoNV/VyBEQBClAVXXK3/7mZgo5cAWATAB74r9UF0uun5XGpCOQ0Wt2/ErjTtixCf1BdiOfwaP0gRcXbv6XHZ8TAXgJuBdxyERdjigPvBVeulzb+oHOB1ful50Ewvg5z8czcNqCmBWAirfq487BOQxu5vIJwP+aHL96uPlOr9rv7vFoeDq1B+8Co4K4mf8eLBx2/29+7ibXd9+3Ls4f5dIqFHfnQaqj3d9v2oMqtuv/z4+S+z/JK5vie9fu+Mny5PhkgHZ791SwO6UsV0A3MdF4HW7PtIDQP5og+3bRKFbHBQIJv+2pgClmYfW9+r+3QLyzgKgxvmO1NAe8VdrCZSEcZfjV+DtivwdzTT3FODOBNIuABHgCdhWgIvuzrj2rhIgFM07Rn7dTUClAVhNAU7Xzer0O5LAjgQQrs4rOjaaDqyioSYRJdqTgB4djn80rgScuWTwf1ROA0JEpxcMFcaAsDC4kkCHANidfBfYrOs7or3i4lnvodJDAOO97VxsilCW4rJpQInijtifrX9ofS2AYTEDDXxTWiingS6Q2WjvEANHGeCCni0VijffkHsCyvLgwCzgcoYtJd5FAOTmWxSbC91+h3M7XN/R1Xc0/Q6DW5deQRhB5egxMELBCEQmNowzX/87SXFrEwJZAFR3VssDsduvNBhp1xcTwxYxqPQGFOevlAou2JVyAXFsJ9SZMCklgtIrqAiA4tZdYuEEXekbKG4vpYuZqyvHdDT6mGNc7uwUCHeNHzU40dLhaP5QBIByYCLaU/BuBl2p8RW3l/cFJhOHkhq64O+4k5AKeyZALudWXJ6J+UpJYEkAFccX625LqVAEnXF9tcSQ9nWUAQikTGOvui8DOxjf4fq9C3IX3OVXAxprfsXxEZhL4lCEmEoK7D6u9wlgRAB5J5/djo/0DhARQdYPIPsg78jrgpwcP1qFhREApuZ3QV127apbu0AviIHb5Q8TrBagK9DPRmqu5xOJhyIISB9gV91vF4AExnSdAAk1JRzFpMDuUxKDTpcn3H2nQFhKAGTW795H7cozvYgdawEejkZeoWnI1Ol24UjWIaRlgziqq7p9NpU43lUgCDenj2ebeUzUZ0GeiYUyy1de0LQ69+q4UgIA4VQbiqpwMJH+LjFAVz9KIlJ05xLgbmFAa3llMRIqCMw4EoWcLLGhcyvNQEkAQHGQOv/d20ChUrr4qmuHAiOC2iIQd25bzNQt0LPuq5YI1dj/Nj2ARACqzo02BSE3Frd1pAb6nEWYaUHaBXjmvGBNboM+2l9NDWppsVsk1BIAafq1uHqzm6PXLosBCbU1JQTAHjvgr4oFUgJUoEfKgWhiUNlfhV0Vh4cY0637kyCzCQEtCRChUKcBDqjpyG8E/bgL/t3QZ6CqZUDUB2DHf05xeIizfEeT0ApyJh7V2M82+VCos5RQjPxHUCOXQHfBnJQCLedAwCYgZvsI1JuEdPcGHmRjjwUaHStaoj4qBqLTh4JCAHmQ+0ORn3RvCnRVLBwwo6KCwumG3pkIHLCzaeJh6Oyzrl0SDxJyl9NbRYN0eLswdIqF+zEBOlmQWOdmE4EbbMe1HsbRnlLzV9JA6VjDfrRoVEoFszDcCjX6GDL6c8V2VGAqiUB5LoJQvK0AvC3kaFq4C263MCyucSBjQddjSnnACocLenciQK976zqAZohpcTFF/SXQJGyw+MyeQxXaSHwK8MjC0SUSDHCL5beUAHWIg7I6b2fv4FFo3G2BWBjjwSJ1YyJw1v+HKWVYhMMJP1sWVB3aHfmV57OCGTVotox4mCI9mhAkgUDFgDgPnRwyoDcdsxQTtoToALnq8mhZkAFcLQfQYzLndbl15yjQJQB0Qqi6fDHqZ4kAFovsmCrQCrwg0ND2I1hUhJwzc2y3yCjlQHYMkwiUyUDlJqLvIgDZMZlAKC5fFgsF8tk5lX6B6uqosKjAuxKCY3vk8qsavpI2dkKd9QnuvCloCuu7bxfApnoEm9IBDSTZHLxtOyMOZLOuBLIiFEwfIHPtqqgo57clAKKml7aLLt8NdtbMo5qBCUQWwQCv1QZ0Vio4kwUT7TOhUEVF6RPsHA+WBACATo35zpKhum8GWypIBLiUoDCC4Qb++Ry//wM+jMDC+2bAMYkhi+HVyJ79DGp9XxWIqgAwUEpNw5XIENDJ+yaxnUkHtAiApcMWQVD37YSfcXmnaDhKArXm70gFD2Es1wa4GuPVvsBmmBl3p8EWpgU7gLcJhdr0c4gGkw6YyN/1BiHMcZkAHOj2DhEhAFddnor6aokgThQcTr+s+x3i4ACeGRWyzs46t+r41chfifeVNwWhBICM+I46vwRqNRE4yglzxHe4twR5lloyd26K/VL3vtPxVdAd51D7Ag/R4ZmIb3HtbsFQxcMNsOF8Dvc+qq7emRgczs6UFxUA3edW1xW4BQABjBGAFsFgYHKJxy5HN4hDC9ju0kIBSu24u67f+cH0G3YJwN2QugTGDfJxl6O/xnZzAtgiLI6SotKoc30gPwe7T1E8tgpAi6hUgKoAaHbctnOqU4kdsHWmja7nUEkIlcZdtbn3Dgmg5ZzvAvXPSRDuhPOzA39Hsvg0AqD8gQP7tIjSO8K7OmcDOJ9OUFzJoiNWOyP/rUuBDfC0pIYmEKXrNfUKIGA3Xs8qKO/Q/HOMC3eC2pU2KAEI/uB3A93m6sj1nILQ5chkI3C3WHw51+vrCJwiVB3LRecF6/eWqQGSNlhhYAWgXBJsBrrL1cvi4oa9C+qJiHTBe7jgrwDvTAvVacFb9ACq9TcKZDVpdLq6UwSuxwuTjI7IbT/eAa9yfBVSp3tXwa6KAXI8IgDVhlq5d2BIEVBzUXDyqmMrjb+3EIgmR6eOucZdp+CgUXrXMV0TBqcAKE6tRHSlLJBExC0CDoh3CYQR1tK5URd2uj3a0UfPjTq5e7+KAHTC7Cg3ls/PHL9vPV9VIIpAtogH00l3lg1N16WhVFKCY7/VdUsJ4EaYmZKjmiRkaJWmHwiW4xzpfqsGIAATIlTlhOHoDajOrSQGN7y3lACEm0vJoQFm5hzVhp+cEjaCzyaKLohLgLvgd8DqFg103OgQCkUAHG5uO06oy1tEoAJfURQcwL2rmEDbVMCVcqFDNHYLRacAqE4sH9cgJG3CIpQOHWDeAu0dMKLbXOCqPQJHmXCbACQgM/0DiyCY4O1ICS5gqf4Cs60Zduk83e7uEpiKi6sfW+4HgNT9JheWz8OkgjtEIIPZACy0L9DUc4lE1Cwsi4YTflRgALe3AO8SDsubgxomARX3Ds/DnlcVE9bRd4hCp0iocDP7dqUJphnoBLzrvDuWBUsCQDq5LU0UxQQtDSoiYBWFu0RiA9x22KvwqyVDBXCmT+ByfJcAyKPBYgqoQE+Ji9HBU1Fwgm4CvyIE7cLATAXcQDNuz55rd/3vFIBKBC+dy+3eN4lC2tjrTAebYJbgrvQRqt9XUoTb0bvKgaUAmAWBqueroLKCYhQBO3zEc3OC3gIze+6dsGdjPBZQpvm4q95/JwGgjzeXFVbBaf5egqeSJnYIRdVNu793A7rrJp+yAOyAwA3RbijZ670ReD+b7++A/e7zdx7/KIz32lPAO4oC6ba7hOlnCebie+tz2g3/OyeAHQLAAiqJREPSONxCZIZwmzA4wNwoJsdO2EFm2hqHtwuAArShQegQGgv0ZFrY4e4dUO4Au8PVDzfs2WjOAXd3s7AkAE2O7SgFHMlgZ1qgy4hdQrArJexydaPTl5uGDoGoCkJVABTgLcLSlQxUgIvAysLQJQRdYqGKg9HVj6PZ6V2g7ugfsAKguLWUAlTADcmgC3pZGNB9jmT0d6dYvPxBl8TBCbbD6VVnd5zXITT2BFARBUMpUBGBtD5vgh7exykWZjen9tkAenkfFFIlQXQlhltKADTiI6KAnLtRBOR0sBHodrHYBPUWwVDdGI356rldUd8hEo/k7j4IpHLdD15PKjtEUNV0oILZLhYCiCqcWwSDhDE9TuktVFxchVY9LhOXTADUqK5C6kwGO9LBT4ShEXon0E7Iy+cyiIEErOLybkFAyorOpqEiADKQ6PkR0XGLgAgNnFrc19wMtBNyG8DEmLDtmuRjUkx3JokuAdiRArpFoEVA1IRww2PdQLc+hjrpXY9Vnt9tTcAGAWiB8S5h6ADyLsH4RJCn+32Dv18AKtC1iEVFBArwbBUMVBxE0LaLRiPQ0vPZBX9H/FevY0sATWBTx6MicCPIneJwB8w2MXgToI8doL+L+0MCAHbl6eOrwlAUgSrwbeLQBX01AXSJwU7hYOGrwl8F3XATkvR4RACYFFCF3SICK7A6EoJDHDZBvxNw675GyO37OuDfKQpOAYCTAQlwq2DMRMABfNHlbUnBIRBmaOV9zeeQ92UaeS6gXW8m0ikATIOwE3aHO9PicIcQbITeIQbvAv5RAXfWqFTA3S0KdwqApUfQ/HgIn0MIisDfKhzdIG9ycfjxbsh3Al0SACd0TAr4TI8TP1cnfF/1407YmBr+HR+vPv8H+grA5hSwC16b0xIpYZv7vwmUbY83uLty7Z+F8+8QADYF7IB9m3C4SgkSyBaRAIHZIRRlwAvAHt3w3yEYZQE4uGlAeoySEBTYSXh2HSOLhyISBKhtQqG496704BYFpfGXMOm9H4AKupACFCeW04NRIFqEoAPsY7JseLdQvABsEQQ3+B2Aux1eGfExwsAIgJoC3kEE3LC7ob7lWirYzQC3X2s34B3wt7wcuCAAldc6q6JybAJ69zY31Exq6BaEnQC/xbZ3a/q1CUDFmaOEEADUlhS6YP8EUL+1WNwFaXGbdM0d7k8LQNbwqwhEIAJ3wNwFe7tQ3CUWm8DuAn+raHTU/ao4sAJQEohOEagkhaoQdArFZuC3CcKdomCC+7gD/tYXAxkEoCwgBRHoBH2LUNwtFpuhvhPs4w64q+6+pQdQhMyy/fm7fEOQ74a5G2j79ncQjXcQjmhNg0tclO0P5S5Aynv7kdtRoUiFpBH0rWLxLoIhAPkOULeB7XL9KtzOBOAA3HIOQ1pwCIFVLG6G3QH8baLggtoM/tENf0fzryoAuwCH93EJwSfaxwG7C9ZdQO/cJ4P6ODa9B+DW1wKgAuCGt+jAaFngvJ4d9DcB+XbhcALtdHPS0S3X6xaIigA4heIusYBSg1sMNolGK8jNMDuhd4K/Depu5w8FwAztXfvR8G4UAwn0IsRvtV8zzGiEt5yvA+pd+z2qN/qo3jG46uAd5+wQDZOjy+fcBDEDlOWcjTAfBFgd59yyVuAxmm4FvnHfDiFQxYDa90jWOphB74Ddsu8FYouIsNB3gc8CvfsW4Q/Trb7aRKABWHbfznNXxKNNFDphZyEuuDcLcue53xL+UAAO/k4/XWB3779FDBog7wS9E3br/t3QF0Du3h+GP9r/YX6Nf6doyEKgwN3g4JZrKKKwQxhM8CoA77hGC8humN0JQL3JRzfUpWN2CkgT4Aq0O0BXQGw5xgCwAvGuY/reGMQAc+W4XVCXxaByXCPgVmFoAL0NdtXlTdC3g1+BPzvuYXjhj108BKAtYrAB7OqxVmGoiEMF9AbY24WiAn0F/C7n3yEAFRGoCEFFDCqCYBeFqjBUxaEqEFWRqMJeBb4KfRX8bvghAShCXAW5CnMV6CrUVbCrcFcBr0JeBb0KexX4KvRV8I8K/Ih4PMzr+TuFwCEGDkFwiIIDbAfcDsAdkDtAdcDqANYBbekcTHJ4NCz53SEELpBdMLuAdp/LAbfDhZ2QO2F3Ae8CtnyejhLAmQI6hMAtCI7Yfos4dIlEl1h0QO4qJ7qB7wS/9M5Am0XAFeu7BaED5C6gO6DugLsLcgtMXcA7y4Uq/IoAdIlAJ7Rdrt5Rj3fW2N1Ruttxjw4gO9LCTjGpwK8KQEd8v0MQOl19N8Q7YN4F9g4AW2HcBbyjjHjcOOe3/IE3X/9sBnZXzG4DrbM8ubvMKFx/WyOvuk7gYfj7PTfBeLeDvwuwdwP8DkBvhW13gtjZQ3iY/x7vFoN3cPB3iM+3ArS7jPnMCeIO6DsFYHf9fgsAN/4s7wbrWwGzu5+x+We557UA3X8UbywMW/5o3uDnP9/sD/3T/izmn//eewK+4x/gJxWLrwnArwJa8+/01p//8cmYOn+GABzfAPzZCeCn+Z2e//v42gE4vgHw7eNrVv9vfwDfPr59fKUf/yfAAP+HE7w86fYzAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:100%;height:100%;overflow:hidden;position:relative;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:1px solid #000;border-radius:50%;display:block;height:12px;margin-left:-6px;margin-top:-6px;position:absolute;transition:border-color .3s cubic-bezier(.7,0,.3,1);width:12px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]{background:#fff;height:100%;position:absolute;top:0;right:0;width:38px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]{height:100%;padding:18px 13px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]{height:100%;position:relative;transition:none;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-handle[_ngcontent-%COMP%]{margin-right:3px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-quantity-wrapper[_ngcontent-%COMP%]{padding:0;height:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .hue[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-quantity-wrapper[_ngcontent-%COMP%]   .range-quantity[_ngcontent-%COMP%]{background:rgba(0,0,0,0) linear-gradient(rgb(255,0,0) 0%,rgb(255,255,0) 17%,rgb(0,255,0) 33%,rgb(0,255,255) 50%,rgb(0,0,255) 67%,rgb(255,0,255) 83%,rgb(255,0,0) 100%) repeat scroll 0% 0%;cursor:ns-resize;height:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2O8devWfwY0oKamxoguxjgUFKI7GsTH5m4M3w1ChQBEjCXMAbX0MQAAAABJRU5ErkJggg==) repeat left top;background-color:#fff;background-size:14px 14px;border:0;display:flex;height:30px;overflow:hidden;position:relative;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex:1;height:30px;justify-content:center;position:relative}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item[_ngcontent-%COMP%]:before{background-size:12px 12px;content:"";display:block;height:100%;position:absolute;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item[_ngcontent-%COMP%]:after{content:"";display:block;height:14px;border:solid #e5e5e5;border-width:0 1px 1px 0;margin-top:-3px;position:absolute;transform:rotate(45deg) scale(0);transition:transform .2s cubic-bezier(.7,0,.3,1);width:8px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:100%;position:relative;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;height:100%;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item.black[_ngcontent-%COMP%]:after{border-bottom-color:#000;border-right-color:#000}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]   .palette-item.active[_ngcontent-%COMP%]:after{transform:rotate(45deg) scale(1);transition:transform .2s cubic-bezier(.7,0,.3,1),color .2s cubic-bezier(.7,0,.3,1)}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #e5e5e5;height:39px;margin-top:-1px;overflow:hidden}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]{height:100%;padding:13px 14px;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]{border-color:#000;height:100%;width:100%;position:relative}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-quantity-wrapper[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2O8devWfwY0oKamxoguxjgUFKI7GsTH5m4M3w1ChQBEjCXMAbX0MQAAAABJRU5ErkJggg==) repeat left top;background-size:12px 12px;cursor:ew-resize;height:100%;padding:0;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-quantity-wrapper[_ngcontent-%COMP%]   .range-quantity[_ngcontent-%COMP%]{background:rgba(0,0,0,0) -webkit-linear-gradient(left,rgba(0,0,0,0),#000) repeat scroll 0% 0%;height:100%;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-handle[_ngcontent-%COMP%]   .handle-icon[_ngcontent-%COMP%]{border-left-color:transparent;border-top-color:inherit;border-bottom:none;cursor:ew-resize}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .transparency[_ngcontent-%COMP%]   .range-field[_ngcontent-%COMP%]   .range-content[_ngcontent-%COMP%]   .range-template[_ngcontent-%COMP%]   .range-handle[_ngcontent-%COMP%]   .handle-icon[_ngcontent-%COMP%]:before{display:none}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{flex:1 0 auto}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .range-handle[_ngcontent-%COMP%]{border-color:inherit;bottom:auto;height:12px;position:absolute;margin:-6px 1px 0 -7px;right:65%;width:7px}[_nghost-%COMP%]   .picker-wrap[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .range-handle[_ngcontent-%COMP%]   .handle-icon[_ngcontent-%COMP%]{border:6px solid transparent;border-left-color:inherit;bottom:0;cursor:ns-resize;left:0;transition:border-left-color .1s cubic-bezier(.7,0,.3,1)}'],data:{animation:[WEe,jEe]}});const $Ee=["picker"],XEe=["secondPicker"],nge=function(e){return{"background-color":e}};function qEe(e,n){if(1&e){const t=Ft();se(0,"div",5),He("click",function(r){return Xe(t),Ze(ue(2).openPicker(r,!0))}),se(1,"div",6),Fe(2,"div",7)(3,"div",8)(4,"div",9),le(),Fe(5,"div",10),le()}if(2&e){const t=ue(2);J(4),ee("ngStyle",ei(2,nge,t.secondColor)),J(1),ee("ngClass",t.getCursorClass(!0))}}function ZEe(e,n){if(1&e&&(se(0,"div",13),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.savedColor)}}function KEe(e,n){if(1&e&&(se(0,"div",13),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.savedColor)}}const QEe=function(e){return{gradient:e}};function JEe(e,n){if(1&e){const t=Ft();se(0,"div",4)(1,"div",5),He("click",function(r){return Xe(t),Ze(ue().openPicker(r))}),se(2,"div",6),Fe(3,"div",7)(4,"div",8)(5,"div",9),le(),Fe(6,"div",10),le(),ge(7,qEe,6,4,"div",11),ge(8,ZEe,2,1,"div",12),ge(9,KEe,2,1,"div",12),le()}if(2&e){const t=ue();ee("ngClass",ei(6,QEe,t.gradient)),J(5),ee("ngStyle",ei(8,nge,t.savedColor)),J(1),ee("ngClass",t.getCursorClass()),J(1),ee("ngIf",t.gradient),J(1),ee("ngIf",t.gradient),J(1),ee("ngIf",!t.gradient)}}class bw{get class(){return"tc-color-picker"}constructor(n){this.element=n,this.onChange=t=>{},this.onTouched=()=>{},this.savedColor="#06bebd",this.alphaChanel=!0,this.overlay=!1,this.buttons=!1,this.palette=!0,this.opened=!1,this.width=305,this.colorSelected=new et,this.pickerClosed=new et,this.pickerOpened=new et,this.DEFAULT_PALETTE=["#f44336","#9c27b0","#2196f3","#4caf50","#ffeb3b","#ff9800","#795548","#607d8b"]}ngOnInit(){let n=[];n=this.paletteColors&&this.paletteColors.length>=8?this.paletteColors.splice(0,8):this.paletteColors&&this.paletteColors.length<8?[...this.paletteColors,...this.DEFAULT_PALETTE.splice(0,8-this.paletteColors.length)]:this.DEFAULT_PALETTE,this.picker&&(this.picker.pickerOpened.subscribe(()=>{this.pickerOpened.emit(this.SavedColor),this.picker.setPosition(this.getOffsets().top,this.getOffsets().left)}),this.picker.pickerClosed.subscribe(()=>{this.SavedColor=this.picker.savedColor,this.pickerClosed.emit(this.SavedColor)}),this.picker.colorSelected.subscribe(({color:t,contrast:i})=>{this.SavedColor=t,this.contrastColor=i,this.colorSelected.emit({color:t,contrast:i})}),this.opened&&this.picker.show(),this.picker.opened=this.opened,this.picker.overlay=this.overlay,this.picker.savedColor=this.SavedColor,this.contrastColor=this.picker.contrastColor,this.picker.alphaChanel=this.alphaChanel,this.picker.showPalette=this.palette,this.picker.palette=n,this.picker.buttons=this.buttons,this.picker.width=this.width,this.picker.setPosition(this.getOffsets().top,this.getOffsets().left),this.picker.appendToBody()),this.gradient&&(this.secondPicker.pickerClosed.subscribe(()=>{this.picker.setPosition(this.getOffsets().top,this.getOffsets().left+13),this.secondColor=this.secondPicker.savedColor,this.secondContrastColor=this.secondPicker.contrastColor}),this.secondPicker.colorSelected.subscribe(()=>{this.secondColor=this.secondPicker.savedColor}),this.secondPicker.pickerOpened.subscribe(()=>{this.onResize()}),this.secondPicker.savedColor=this.secondColor,this.secondPicker.overlay=this.overlay,this.secondContrastColor=this.secondPicker.contrastColor,this.secondPicker.alphaChanel=this.alphaChanel,this.secondPicker.showPalette=this.palette,this.secondPicker.palette=n,this.secondPicker.buttons=this.buttons,this.secondPicker.gradient=!0,this.secondPicker.width=this.width,this.secondPicker.setPosition(this.getOffsets().top,this.getOffsets().left),this.secondPicker.appendToBody())}ngAfterContentInit(){this.onResize()}ngOnDestroy(){}onResize(){this.picker.setPosition(this.getOffsets().top,this.getOffsets().left),this.secondPicker&&this.secondPicker.setPosition(this.getOffsets().top,this.getOffsets().left)}set SavedColor(n){this.savedColor=n,this.onChange(n),this.writeValue(n)}get SavedColor(){return this.savedColor}writeValue(n){this.savedColor=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}openPicker(n,t=!1){n.stopPropagation(),this.disabled||(t?this.secondPicker.show():this.picker.show())}gradientStyles(){return{left:"33px"}}getCursorClass(n=!1){return n?{black:"#fff"!==this.secondContrastColor}:{black:"#fff"!==this.contrastColor}}getOffsets(){let n=this.element.nativeElement.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+i,left:n.left+t}}}function eIe(e,n){1&e&&(se(0,"span"),Be(1,"Sidebar"),le())}function tIe(e,n){1&e&&(se(0,"span"),Be(1,"Second navbar"),le())}bw.\u0275fac=function(n){return new(n||bw)(de(Vt))},bw.\u0275cmp=ut({type:bw,selectors:[["tc-color-picker"]],viewQuery:function(n,t){if(1&n&&(mi($Ee,7),mi(XEe,7)),2&n){let i;an(i=cn())&&(t.picker=i.first),an(i=cn())&&(t.secondPicker=i.first)}},hostVars:6,hostBindings:function(n,t){1&n&&He("resize",function(){return t.onResize()},0,T0),2&n&&(Di(t.class),Ht("disabled",t.disabled)("gradient",t.gradient))},inputs:{disabled:"disabled",gradient:"gradient",savedColor:"savedColor",secondColor:"secondColor",alphaChanel:"alphaChanel",palette:"palette",buttons:"buttons",opened:"opened",overlay:"overlay",width:"width",paletteColors:"paletteColors"},outputs:{pickerOpened:"pickerOpened",pickerClosed:"pickerClosed",colorSelected:"colorSelected"},features:[Ln([{provide:Ps,useExisting:Yi(()=>bw),multi:!0}])],decls:5,vars:2,consts:[["class","color-field",3,"ngClass",4,"ngIf"],["picker",""],[3,"ngStyle"],["secondPicker",""],[1,"color-field",3,"ngClass"],[1,"circle",3,"click"],[1,"bg"],[1,"white"],[1,"transparent"],[1,"bg-color",3,"ngStyle"],[1,"cursor",3,"ngClass"],["class","circle",3,"click",4,"ngIf"],["class","selected-color-value",4,"ngIf"],[1,"selected-color-value"]],template:function(n,t){1&n&&(ge(0,JEe,10,10,"div",0),Fe(1,"tc-picker",null,1)(3,"tc-picker",2,3)),2&n&&(ee("ngIf",!t.opened),J(3),ee("ngStyle",t.gradientStyles()))},dependencies:[Ss,hn,Ys,Qz],styles:['[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:inline-flex;height:38px;position:relative;min-width:38px}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]:before{border-bottom:1px solid rgba(0,0,0,.4);bottom:0;content:"";display:block;height:0;left:0;position:absolute;right:1px}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.05);border-radius:50%;display:block;height:20px;position:absolute;overflow:hidden;transition:border-radius .2s cubic-bezier(.7,0,.3,1),height .2s cubic-bezier(.7,0,.3,1),left .2s cubic-bezier(.7,0,.3,1),transform .2s cubic-bezier(.7,0,.3,1),width .2s cubic-bezier(.7,0,.3,1);width:20px;will-change:border-radius,height,left,transform,width;z-index:2}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{display:block;left:0;padding-top:100%;position:absolute;right:0;top:9px;transform:translateY(-50%);transition:transform .4s cubic-bezier(.7,0,.3,1)}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{border-radius:50%;height:100%;position:absolute;top:0;transition:border-radius .2s cubic-bezier(.7,0,.3,1);width:100%;will-change:border-radius}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]   .transparent[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2O8devWfwY0oKamxoguxjgUFKI7GsTH5m4M3w1ChQBEjCXMAbX0MQAAAABJRU5ErkJggg==) repeat left top;background-repeat:repeat;background-position:0 0;background-size:12px;border-radius:50%;height:100%;position:absolute;top:0;transition:border-radius .2s cubic-bezier(.7,0,.3,1);width:100%;will-change:border-radius}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]   .bg-color[_ngcontent-%COMP%]{border-radius:50%;height:100%;position:absolute;top:0;transition:border-radius .2s cubic-bezier(.7,0,.3,1);width:100%;will-change:border-radius}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .cursor[_ngcontent-%COMP%]{border-radius:50%!important;border:1px solid #fff;display:block;height:9px;left:50%;margin:-4.5px 0 0 -4.5px;opacity:0;position:absolute;top:50%;transform:scale(0);transform-origin:50% 50%;transition:transform .2s cubic-bezier(.7,0,.3,1),opacity .2s cubic-bezier(.7,0,.3,1);width:9px;z-index:3}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .cursor[_ngcontent-%COMP%]:after{background:#fff;content:"";display:block;height:14px;position:absolute;margin:-3px 0 0 3px;width:1px}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .cursor[_ngcontent-%COMP%]:before{background:#fff;content:"";display:block;height:1px;margin:3px 0 0 -3px;position:absolute;width:14px}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .cursor.black[_ngcontent-%COMP%]{border-color:#000}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .cursor.black[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .cursor.black[_ngcontent-%COMP%]:after{background:#000}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:hover   .cursor[_ngcontent-%COMP%]{opacity:1;transform:scale(1);transition:transform .2s cubic-bezier(.7,0,.3,1) .1s,opacity .1s cubic-bezier(.7,0,.3,1)}[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .selected-color-value[_ngcontent-%COMP%]{margin-left:35px}[_nghost-%COMP%]:hover   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:0;height:100%;transform:translate(0);width:calc(100% + 1px)}[_nghost-%COMP%]:hover   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.cursor){border-radius:0!important}.disabled[_nghost-%COMP%]{pointer-events:none;opacity:.5}.gradient[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]{min-width:165px}.gradient[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .selected-color-value[_ngcontent-%COMP%]{margin-left:50px}.gradient[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:not(:first-child){left:12px}.gradient[_nghost-%COMP%]:hover   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:50%}.gradient[_nghost-%COMP%]:hover   .color-field[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:not(:first-child){left:50%}.gradient[_nghost-%COMP%]   .color-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{z-index:2}']});const nIe=[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}];class Jz{constructor(n,t,i,r){this.store=n,this.sanitizer=t,this.router=i,this.formBuilder=r,this.layouts=nIe,this.defaultSettings=kv_appSettings}ngOnInit(){this.store.select("appSettings").subscribe(n=>{n&&(this.settings={...n},this.form||this.initSettingsForm(this.settings),this.downloadSettings(this.settings))})}initSettingsForm(n){this.form=this.formBuilder.group({boxed:[n.boxed],layout:[n.layout],topbarBg:[n.topbarBg],sidebarBg:[n.sidebarBg]}),this.form.valueChanges.pipe().subscribe(t=>{n.layout!==t.layout&&(this.changeLayout(t.layout),n.layout=t.layout),n.boxed!==t.boxed&&(this.changeBoxed(t.boxed),n.boxed=t.boxed)})}resetSettings(n=this.defaultSettings){this.store.dispatch(new hOe),this.form.reset({boxed:[n.boxed],layout:[n.layout],topbarBg:[n.topbarBg],sidebarBg:[n.sidebarBg]})}downloadSettings(n){const t=JSON.stringify(n),i=this.sanitizer.bypassSecurityTrustUrl(`data:text/json;charset=UTF-8, ${encodeURIComponent(t)}`);this.downloadJsonHref=i}changeLayout(n){this.store.dispatch(new hw({layout:n}));let t=this.router.url.split("/").filter(r=>r);t[0]=n;let i=t.join("/");setTimeout(()=>{this.router.navigate([i])})}changeBoxed(n){this.store.dispatch(new hw({boxed:n}))}changeTopbarColor(n){this.store.dispatch(new hw({topbarBg:n.color,topbarColor:n.contrast}))}changeSidebarColor(n){this.store.dispatch(new hw({sidebarBg:n.color,sidebarColor:n.contrast}))}}function iIe(e,n){if(1&e&&(se(0,"a",18),Be(1),le()),2&e){const t=ue().$implicit;fi("routerLink",t.route),J(1),Bt(t.title)}}function rIe(e,n){if(1&e&&(se(0,"span"),Be(1),le()),2&e){const t=ue().$implicit;J(1),Bt(t.title)}}function oIe(e,n){1&e&&Fe(0,"i",19)}function aIe(e,n){if(1&e&&(se(0,"li",14),ge(1,iIe,2,2,"a",15),ge(2,rIe,2,1,"span",16),ge(3,oIe,1,0,"i",17),le()),2&e){const t=n.$implicit,i=n.last;J(1),ee("ngIf",t.route),J(1),ee("ngIf",!t.route),J(1),ee("ngIf",!i)}}function sIe(e,n){if(1&e&&(se(0,"ul",5),ge(1,aIe,4,3,"li",13),le()),2&e){const t=ue();J(1),ee("ngForOf",t.pageData.breadcrumbs)}}function lIe(e,n){1&e&&Fe(0,"app-settings")}Jz.\u0275fac=function(n){return new(n||Jz)(de(Mc),de(D8),de(go),de(zv))},Jz.\u0275cmp=ut({type:Jz,selectors:[["app-settings"]],decls:24,vars:17,consts:[["novalidate","",3,"formGroup"],["formControlName","topbarBg",3,"palette","width","overlay","savedColor","colorSelected"],[4,"ngIf"],["formControlName","sidebarBg",3,"palette","width","overlay","savedColor","colorSelected"],["formControlName","layout",3,"placeholder","options"],["formControlName","boxed",3,"value"],[1,"actions","d-flex","justify-content-between","flex-column","flex-sm-row"],["tc-button","",3,"view","click"],["tc-button","","download","settings.json",1,"mt-2","mt-sm-0",3,"view","href"]],template:function(n,t){1&n&&(se(0,"form",0)(1,"tc-form-group")(2,"tc-form-label"),Be(3,"Topbar background"),le(),se(4,"tc-color-picker",1),He("colorSelected",function(r){return t.changeTopbarColor(r)}),le()(),se(5,"tc-form-group")(6,"tc-form-label"),ge(7,eIe,2,0,"span",2),ge(8,tIe,2,0,"span",2),Be(9," background "),le(),se(10,"tc-color-picker",3),He("colorSelected",function(r){return t.changeSidebarColor(r)}),le()(),se(11,"tc-form-group")(12,"tc-form-label"),Be(13,"Layout"),le(),Fe(14,"tc-select",4),le(),se(15,"tc-form-group")(16,"tc-form-label"),Be(17,"Boxed/fullwidth mode"),le(),Fe(18,"tc-switcher",5),le(),se(19,"div",6)(20,"button",7),He("click",function(){return t.resetSettings()}),Be(21,"Reset to default"),le(),se(22,"a",8),Be(23," Download settings "),le()()()),2&n&&(ee("formGroup",t.form),J(4),ee("palette",!0)("width",240)("overlay",!0)("savedColor",t.form.value.topbarBg),J(3),ee("ngIf","vertical"===t.form.value.layout),J(1),ee("ngIf","horizontal"===t.form.value.layout),J(2),ee("palette",!0)("width",240)("overlay",!0)("savedColor",t.form.value.sidebarBg),J(4),ee("placeholder","Select layout")("options",t.layouts),J(4),ee("value",t.settings.boxed),J(2),ee("view","error"),J(2),ee("view","accent")("href",t.downloadJsonHref,qp))},dependencies:[hn,T4,vl,S4,fm,Av,Lh,Pg,Kz,z4,Ov,bw]});class Cw{get class(){return"footer"}constructor(n){this.modal=n,this.version=kv_version}ngOnInit(){}openModal(n,t=null,i=null,r=null){this.modal.open({body:n,header:t,footer:i,options:r})}}Cw.\u0275fac=function(n){return new(n||Cw)(de(Dg))},Cw.\u0275cmp=ut({type:Cw,selectors:[["footer"]],hostVars:6,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("loaded",t.loaded)("boxed",t.boxed))},inputs:{loaded:"loaded",boxed:"boxed",pageData:"pageData"},decls:17,vars:1,consts:[[1,"footer-wrap"],[1,"row","align-items-center"],[1,"col-12","col-md-6","d-none","d-md-block"],["class","page-breadcrumbs",4,"ngIf"],[1,"footer-skeleton"],[1,"page-breadcrumbs"],[1,"item","bg-1","animated-bg"],[1,"item","bg","animated-bg"],[1,"col-12","col-md-6"],[1,"info","justify-content-center","justify-content-md-end"],[1,"version","bg","animated-bg"],[1,"settings","animated-bg"],["modalBody",""],["class","item",4,"ngFor","ngForOf"],[1,"item"],["class","link",3,"routerLink",4,"ngIf"],[4,"ngIf"],["class","separator icofont-thin-right",4,"ngIf"],[1,"link",3,"routerLink"],[1,"separator","icofont-thin-right"]],template:function(n,t){1&n&&(se(0,"div",0)(1,"div",1)(2,"div",2),ge(3,sIe,2,1,"ul",3),le()(),se(4,"div",4)(5,"div",1)(6,"div",2)(7,"ul",5),Fe(8,"li",6)(9,"li",7),le()(),se(10,"div",8)(11,"div",9),Fe(12,"div",10)(13,"div",11),le()()()()(),wt(14),ge(15,lIe,1,0,"ng-template",null,12,xn),Dt()),2&n&&(J(3),ee("ngIf",t.pageData&&t.pageData.breadcrumbs))},dependencies:[xr,hn,Eh,Jz],styles:['[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}@keyframes _ngcontent-%COMP%_loaderAnimation{0%{background-position:-468px 0}to{background-position:468px 0}}[_nghost-%COMP%]{background:#FBFBFB;border-top:1px solid #E9E9E9;bottom:0;display:block;height:4.2857142857rem;left:0;position:absolute;right:0}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]{background:inherit;height:100%;margin:0 auto;padding:.7142857143rem 1.4285714286rem;position:relative}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;list-style-type:none;margin:0;padding:0}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:block;vertical-align:top;white-space:nowrap}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:currentColor;opacity:.5;text-decoration:none;transition:opacity .2s ease-in-out}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 .3571428571rem -2px}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]{background:inherit;height:100%;left:0;padding:.7142857143rem 1.4285714286rem;position:absolute;right:0;top:0;transition:.2s opacity 0s ease-in-out,0s visibility 0s ease-in-out;z-index:999}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:inherit}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{background:#ebebeb}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .bg-1[_ngcontent-%COMP%]{background:#f5f5f5}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .animated-bg[_ngcontent-%COMP%]{overflow:hidden;position:relative}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .animated-bg[_ngcontent-%COMP%]:before{animation-duration:1.25s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_loaderAnimation;animation-timing-function:linear;background:transparent;background:linear-gradient(to right,transparent 10%,rgba(255,255,255,.5) 18%,transparent 33%);background-size:800px 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]{margin:-.3571428571rem}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:3px;display:block;height:.7142857143rem;margin:0 .3571428571rem;width:80px}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{align-items:center;display:flex;margin:-.3571428571rem}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{border-radius:3px;display:block;height:.7142857143rem;margin:0 .3571428571rem;width:80px}[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{background:#336cfb;border-radius:500px;display:block;height:1.4285714286rem;margin:0 .3571428571rem;width:1.4285714286rem}.boxed[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]{max-width:1140px;max-width:var(--boxed-width)}.loaded[_nghost-%COMP%]   .footer-wrap[_ngcontent-%COMP%]   .footer-skeleton[_ngcontent-%COMP%]{opacity:0;transition:.2s opacity .2s ease-in-out,0s visibility .4s ease-in-out;visibility:hidden}']});class v6{get class(){return"logo"}constructor(){this.width="auto",this.height="auto",this.alt=""}ngOnInit(){}}v6.\u0275fac=function(n){return new(n||v6)},v6.\u0275cmp=ut({type:v6,selectors:[["logo"]],hostVars:2,hostBindings:function(n,t){2&n&&Di(t.class)},inputs:{src:"src",width:"width",height:"height",alt:"alt"},decls:2,vars:4,consts:[[1,"logo-wrap"],[1,"logo-img",3,"src","alt","width","height"]],template:function(n,t){1&n&&(se(0,"div",0),Fe(1,"img",1),le()),2&n&&(J(1),fi("src",t.src,qp),fi("alt",t.alt),fi("width",t.width),fi("height",t.height))},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;height:4.2857142857rem;min-height:4.2857142857rem;position:relative}[_nghost-%COMP%]   .logo-wrap[_ngcontent-%COMP%]{align-items:center;color:inherit;display:flex;height:100%;padding:.7142857143rem 2.8571428571rem;text-decoration:none}[_nghost-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:auto;max-height:100%;max-width:100%;vertical-align:top;width:auto}[_nghost-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{display:block;font-size:20px;line-height:1;margin-left:1.4285714286rem}"]});const cIe=function(e){return{active:e}};function uIe(e,n){if(1&e){const t=Ft();se(0,"li",4),He("click",function(r){const l=Xe(t).$implicit;return Ze(ue().selectItem(l,r))}),Be(1),le()}if(2&e){const t=n.$implicit,i=n.index,r=ue();ee("ngClass",ei(3,cIe,i===r.arrowKeyLocation))("innerHtml",r.markValue(r.key?t[r.key]:t,r.value),Xp),J(1),In(" ",r.key?t[r.key]:t," ")}}const hIe=function(e){return{opened:e}};class ww extends wd{get class(){return"tc-autocomplete"}handleClick(n){this.opened&&!this.element.nativeElement.contains(n.target)&&this.closeList()}constructor(n,t,i){super(n),this.changeDetector=t,this.sanitizer=i,this.simpleInput=!1,this.attached=!1,this.results=[],this.arrowKeyLocation=-1,this.data=[],this.openedList=!1,this.opened=new et,this.closed=new et,this.optionSelected=new et,this.listMarkColor=""}ngOnInit(){}modelChanged(n){this.results=this.getResults(this.data,n,this.key),!this.openedList&&n&&this.results&&this.openList(),this.openedList&&(!n||!this.results.length)&&this.closeList()}openList(){this.opened.emit(),this.openedList=!0}closeList(){this.closed.emit(),this.openedList=!1,this.arrowKeyLocation=-1}getResults(n,t,i){return n.length?n.filter(r=>(i?r[i]:r).toLowerCase().indexOf(t.toLowerCase())>-1):[]}markValue(n,t){let i=n,r=new RegExp(t,"gi"),o=this.listMarkColor;return t&&(i=i.replace(r,function(l){return`<span class="val-mark" style="color: ${o}">${l}</span>`})),this.sanitizer.bypassSecurityTrustHtml(i)}autocompleteOnFocus(){this.focus.emit()}autocompleteOnBlur(){this.blur.emit()}selectItem(n,t){t&&t.preventDefault();let i=this.key?n[this.key]:n;i.length>this.charLimiting&&(i=i.slice(0,this.charLimiting)),this.charLimiting>0&&super.changeCharLength(this.charLimiting,i.length),this.innerValue=i,this.optionSelected.emit(i),this.onChange(i),this.closeList()}keyClick(n){switch(n.key){case"Enter":this.arrowKeyLocation>=0&&this.results.length&&this.selectItem(this.results[this.arrowKeyLocation]);break;case"Escape":this.closeList();break;case"ArrowUp":this.arrowKeyLocation>0&&this.arrowKeyLocation--;break;case"ArrowDown":this.arrowKeyLocation+1<this.results.length&&this.arrowKeyLocation++}}getListStyles(){return{color:this.listColor?this.listColor:null,background:this.listBgColor?this.listBgColor:null,"border-color":this.listBorderColor?this.listBorderColor:null}}getMarkColor(){return this.listMarkColor?this.listMarkColor:null}}ww.\u0275fac=function(n){return new(n||ww)(de(Vt),de(pr),de(D8))},ww.\u0275cmp=ut({type:ww,selectors:[["tc-autocomplete"]],hostVars:2,hostBindings:function(n,t){1&n&&He("click",function(r){return t.handleClick(r)},0,L1)("touchstart",function(r){return t.handleClick(r)},!1,L1),2&n&&Di(t.class)},inputs:{data:"data",key:"key",listBgColor:"listBgColor",listBorderColor:"listBorderColor",listColor:"listColor",listMarkColor:"listMarkColor"},outputs:{opened:"opened",closed:"closed",optionSelected:"optionSelected"},features:[Ln([{provide:Ps,useExisting:Yi(()=>ww),multi:!0}]),Zn],decls:4,vars:20,consts:[[3,"ngModel","placeholder","readonly","disabled","type","charLimiting","prefixIcon","suffixIcon","autoSize","size","prefix","suffix","bgColor","borderColor","color","ngModelChange","focus","blur","keydown"],[1,"autocomplete-list",3,"ngClass"],[1,"list-ul",3,"ngStyle"],["class","list-li",3,"ngClass","innerHtml","click",4,"ngFor","ngForOf"],[1,"list-li",3,"ngClass","innerHtml","click"]],template:function(n,t){1&n&&(se(0,"tc-input",0),He("ngModelChange",function(r){return t.value=r})("ngModelChange",function(r){return t.modelChanged(r)})("focus",function(){return t.autocompleteOnFocus()})("blur",function(){return t.autocompleteOnBlur()})("keydown",function(r){return t.keyClick(r)}),le(),se(1,"div",1)(2,"ul",2),ge(3,uIe,2,5,"li",3),le()()),2&n&&(ee("ngModel",t.value)("placeholder",t.placeholder)("readonly",t.readonly)("disabled",!!t.disabled||null)("type",t.type)("charLimiting",t.charLimiting)("prefixIcon",t.prefixIcon)("suffixIcon",t.suffixIcon)("autoSize",t.autoSize)("size",t.size)("prefix",t.prefix)("suffix",t.suffix)("bgColor",t.bgColor)("borderColor",t.borderColor)("color",t.color),J(1),ee("ngClass",ei(18,hIe,t.openedList)),J(1),ee("ngStyle",t.getListStyles()),J(1),ee("ngForOf",t.results))},dependencies:[Ss,xr,Ys,vl,Wf,wd],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{border-radius:20px;display:block;outline:none;width:100%;transition:none}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{transition:none}[_nghost-%COMP%]   .tc-input[_ngcontent-%COMP%]{border-radius:inherit;transition:none}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]{display:none;position:relative;z-index:999}[_nghost-%COMP%]   .autocomplete-list.opened[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   .list-ul[_ngcontent-%COMP%]{background:#fff;border:1px solid #fff;box-shadow:0 18px 24px #0000001f;border-radius:20px;color:#000;list-style-type:none;left:0;margin:0;max-height:16.4285714286rem;overflow:auto;padding:.7142857143rem 0;position:absolute;top:0;width:100%;z-index:999}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   .list-ul[_ngcontent-%COMP%]   .list-li[_ngcontent-%COMP%]{box-shadow:0 1px #0000000d;cursor:pointer;padding:.3571428571rem 1.4285714286rem;transition:background .2s ease-in-out}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   .list-ul[_ngcontent-%COMP%]   .list-li[_ngcontent-%COMP%]     .val-mark{background:none;color:#336cfb;pointer-events:none}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   .list-ul[_ngcontent-%COMP%]   .list-li.active[_ngcontent-%COMP%]{background:rgba(51,108,251,.05)}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   .list-ul[_ngcontent-%COMP%]   .list-li[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}[_nghost-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   .list-ul[_ngcontent-%COMP%]   .list-li[_ngcontent-%COMP%]:last-child{box-shadow:none}.input-sm[_nghost-%COMP%]{border-radius:15px}.input-lg[_nghost-%COMP%]{border-radius:30px}"]});class Sw{constructor(n,t){this.router=n,this.formBuilder=t,this.data=[],this.layout="vertical"}ngOnInit(){this.initSearchForm()}initSearchForm(){this.searchForm=this.formBuilder.group({search:["",mo.required]})}goTo(n,t){if(t){let i;i=this.data.find(r=>r.title===t),i&&i.routing&&this.router.navigate([i.layout?i.layout:this.layout,i.routing])}}}Sw.\u0275fac=function(n){return new(n||Sw)(de(go),de(zv))},Sw.\u0275cmp=ut({type:Sw,selectors:[["search"]],inputs:{data:"data",layout:"layout"},decls:2,vars:5,consts:[[1,"search-wrap",3,"formGroup"],["formControlName","search",3,"suffixIcon","data","key","placeholder","keydown.enter","click"]],template:function(n,t){1&n&&(se(0,"form",0)(1,"tc-autocomplete",1),He("keydown.enter",function(r){return t.goTo(r,t.searchForm.value.search)})("click",function(r){return t.goTo(r,t.searchForm.value.search)}),le()()),2&n&&(ee("formGroup",t.searchForm),J(1),ee("suffixIcon","icofont icofont-search")("data",t.data)("key","title")("placeholder","Type page's title"))},dependencies:[T4,vl,S4,fm,Av,ww],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;max-width:25rem;width:50%}"]});class Tw{get class(){return"tc-dropdown-link"}constructor(n){this.element=n,this.active=!1,this.dropdownState=new et}toggleDropdown(){this.active=!this.active,this.dropdownState.emit(this.active)}getButtonParams(){return this.element.nativeElement.getBoundingClientRect()}}function fIe(e,n){1&e&&Fe(0,"span",3)}Tw.\u0275fac=function(n){return new(n||Tw)(de(Vt))},Tw.\u0275cmp=ut({type:Tw,selectors:[["tc-dropdown-button"]],hostVars:4,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("active",t.active))},outputs:{dropdownState:"dropdownState"},ngContentSelectors:["*"],decls:2,vars:0,consts:[[1,"dropdown-link-wrap",3,"click"]],template:function(n,t){1&n&&(fr(),se(0,"div",0),He("click",function(){return t.toggleDropdown()}),Ki(1),le())},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{align-items:center;cursor:pointer;display:flex;justify-content:center;position:relative;transition:background .2s ease-in-out,border .2s ease-in-out,color .2s ease-in-out}.active[_nghost-%COMP%]:not(:only-child){z-index:9999}[_nghost-%COMP%]   .marker[_ngcontent-%COMP%]{background:#64B5F6;border-radius:50%;height:6px;position:absolute;right:5px;top:5px;width:6px}.rtl   [_nghost-%COMP%]   .marker[_ngcontent-%COMP%]{left:5px;right:auto}[_nghost-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:50%;height:40px;overflow:hidden;width:40px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;padding-left:.7142857143rem;white-space:nowrap}"]});const pIe=function(e){return{width:e}};class Mw{get class(){return"tc-dropdown-content"}get fade(){return"fade"===this.animation}get fadeInUp(){return"fadeInUp"===this.animation}get fadeInDown(){return"fadeInDown"===this.animation}get fadeInLeft(){return"fadeInLeft"===this.animation}get fadeInRight(){return"fadeInRight"===this.animation}get zoom(){return"zoom"===this.animation}keyboardInput(n){this.opened&&27===n.keyCode&&this.hide()}constructor(n,t){this.element=n,this.renderer=t,this.opened=!1,this.appendToBody=!0,this.globalPositioning=!1,this.overlay=!0,this.animation="fade",this.align="left",this.width=280,this.maxWidth="100%",this.maxHeight=400,this.closeDropdown=new et}ngOnInit(){(this.appendToBody||this.globalPositioning)&&document.body.appendChild(this.element.nativeElement),"number"==typeof this.width&&(this.width=this.width+"px")}ngDoCheck(){if(this.position){const n=this.getContentElement(),t=this.calcPositionOffset(this.position);t&&(this.renderer.setStyle(n,"top",`${t.top}px`),this.renderer.setStyle(n,"left",`${t.left}px`))}}eventHandler(n){console.log("button clicked")}show(){this.opened=!0}hide(){this.opened=!1,this.closeDropdown.emit(!1)}getContentElement(){return this.element.nativeElement.children[0]}updatePosition(n){this.position=n}calcPositionOffset(n){if(!n)return;const t=this.getContentElement(),i=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||""),o=i?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft,l=i?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop,h=t.clientWidth,m=n.height,_=n.width;let{top:b,left:S}=this.applyOffset(m+(this.appendToBody?n.top+l:0),this.appendToBody?n.left+o:0);return"right"===this.align?S-=h-_:"center"===this.align&&(S-=(h-_)/2),{top:b,left:S}}applyOffset(n,t){const i=this.offset;return i&&i instanceof Array&&!(i instanceof Array&&0===i.length)&&"number"==typeof i[0]&&this.appendToBody?("number"==typeof i[1]&&0!==i[1]&&(t+=i[1]),{top:n+=i[0],left:t}):{top:n,left:t}}}Mw.\u0275fac=function(n){return new(n||Mw)(de(Vt),de(_r))},Mw.\u0275cmp=ut({type:Mw,selectors:[["tc-dropdown-content"]],hostVars:20,hostBindings:function(n,t){1&n&&He("keydown",function(r){return t.keyboardInput(r)},0,T0),2&n&&(Di(t.class),Ht("opened",t.opened)("tc-dropdown-content-inside",t.appendToBody)("tc-dropdown-global-positioning",t.globalPositioning)("fade-animation",t.fade)("fadeInUp-animation",t.fadeInUp)("fadeInDown-animation",t.fadeInDown)("fadeInLeft-animation",t.fadeInLeft)("fadeInRight-animation",t.fadeInRight)("zoom-animation",t.zoom))},inputs:{appendToBody:"appendToBody",globalPositioning:"globalPositioning",overlay:"overlay",offset:"offset",animation:"animation",align:"align",width:"width",maxWidth:"maxWidth",maxHeight:"maxHeight",bg:"bg"},outputs:{closeDropdown:"closeDropdown"},ngContentSelectors:["*"],decls:4,vars:4,consts:[[1,"dropdown-content-wrap",3,"ngStyle"],[1,"dropdown-overlay",3,"click","keypress"],["class","overlay-bg",4,"ngIf"],[1,"overlay-bg"]],template:function(n,t){1&n&&(fr(),se(0,"div",0),Ki(1),le(),se(2,"div",1),He("click",function(){return t.hide()})("keypress",function(r){return t.eventHandler(r.keyCode)}),ge(3,fIe,1,0,"span",2),le()),2&n&&(ee("ngStyle",ei(2,pIe,t.width)),J(3),ee("ngIf",t.overlay))},dependencies:[hn,Ys],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{bottom:0;height:100%;left:0;overflow-x:hidden;position:absolute;right:0;transition:0s visibility .3s ease-in-out;visibility:hidden}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{background:#fff;border-radius:6px;box-shadow:0 18px 24px #0000001f;left:50%;margin:0;opacity:0;padding:.7142857143rem 0;position:absolute;top:0;transition:.2s opacity 0s ease-in-out;width:280px;z-index:9998}@media (max-width: 767px){[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{left:0!important;width:100%!important}}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-list{font-size:13px;list-style-type:none;margin:0;padding:10px 0}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-list li a{color:#333333a6;display:block;padding:5px 15px;text-decoration:none}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-list li a:hover{color:#333}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-header, [_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-footer{margin:0;padding:.7142857143rem 1.4285714286rem}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-header{align-items:center;border-radius:6px 6px 0 0;color:#1f2022;display:flex;justify-content:space-between}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .menu-footer{border-radius:0 0 6px 6px}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list{list-style-type:none;margin:0;max-height:280px;overflow:auto;padding:0}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a{color:#1f2022;color:var(--main-color);display:flex;padding:.7142857143rem 1.4285714286rem;text-decoration:none;transition:background .2s ease-in-out,color .2s ease-in-out}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .icon, [_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .avatar, [_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .tc-icon{align-self:flex-start;margin-right:.7142857143rem}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .icon{background:rgba(31,32,34,.1);border-radius:50%;font-size:1rem;height:auto;padding:.7142857143rem;transition:background .2s ease-in-out;width:auto}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .avatar{border-radius:50%;height:40px;width:40px}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .content{font-size:.85rem}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .content .desc{display:block}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .content .date, [_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .content .size{display:block;font-size:.75rem;margin-top:4px;opacity:.6}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .content .meta{align-items:flex-end;display:flex;justify-content:space-between;line-height:1.3;margin-bottom:4px}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a .content .meta .date{margin:0 0 0 11px}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a:hover{color:#336cfb}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li>a:hover .icon{background:#336cfb;color:#fff}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li:first-child>a{border-top:0}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .list>li .empty-item{display:block;padding:.7142857143rem 1.4285714286rem}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .author-info{padding:1.4285714286rem .7142857143rem 0;text-align:center}[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]     .author-info .author-name{font-size:1rem}[_nghost-%COMP%]   .dropdown-overlay[_ngcontent-%COMP%]{inset:0;opacity:0;position:fixed;transition:.1s opacity .2s ease-in-out;z-index:9997}[_nghost-%COMP%]   .dropdown-overlay[_ngcontent-%COMP%]   .overlay-bg[_ngcontent-%COMP%]{background:rgba(31,32,34,.1);display:block;height:100%;width:100%}.fadeInUp-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .fadeInDown-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .fadeInLeft-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .fadeInRight-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .zoom-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transition:.2s opacity 0s ease-in-out,.2s transform 0s ease-in-out}.fadeInUp-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:translateY(30px)}.fadeInDown-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:translateY(-30px)}.fadeInLeft-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:translate(100%)}.fadeInRight-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:translate(-100%)}.zoom-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:scale(0)}.opened[_nghost-%COMP%]{visibility:visible;transition:0s visibility 0s ease-in-out}.opened[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{opacity:1;transition:.2s opacity .1s ease-in-out}.opened[_nghost-%COMP%]   .dropdown-overlay[_ngcontent-%COMP%]{opacity:1;transition:.1s opacity 0s ease-in-out}.opened.fadeInUp-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .opened.fadeInDown-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .opened.fadeInLeft-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%], .opened.fadeInRight-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:translate(0);transition:.2s opacity .1s ease-in-out,.2s transform .1s ease-in-out}.opened.zoom-animation[_nghost-%COMP%]   .dropdown-content-wrap[_ngcontent-%COMP%]{transform:scale(1);transition:.2s opacity .1s ease-in-out,.2s transform .1s ease-in-out}"]});const mIe=[[["tc-dropdown-button"]],[["tc-dropdown-content"]]];class ek{get class(){return"tc-dropdown"}get getOpened(){return this.opened}constructor(){this.opened=!1,this.closeEvent=new et}ngOnInit(){this.dropdownButton&&this.dropdownButton.dropdownState.subscribe(n=>{this.toggleState(n)}),this.dropdownContent&&this.dropdownContent.closeDropdown.subscribe(()=>{this.opened=!1,this.dropdownButton.active=!1}),this.closeEvent.subscribe(n=>{this.hide()})}toggleState(n){n?this.show():this.hide()}show(n=this.dropdownButton.getButtonParams()){this.opened=!0,this.dropdownContent.show(),this.dropdownContent.updatePosition(n)}hide(){this.opened=!1,this.dropdownContent.hide()}}function _Ie(e,n){if(1&e&&(se(0,"tc-badge",17),Be(1),le()),2&e){const t=ue();ee("view","error")("size","sm"),J(1),In(" ",t.notifications.length," ")}}function yIe(e,n){if(1&e&&(se(0,"li")(1,"a",19),Fe(2,"span"),se(3,"div",20)(4,"span",21),Be(5),le(),se(6,"span",22),Be(7),le()()()()),2&e){const t=n.$implicit;J(2),Jt("icon ",t.icon,""),J(3),Bt(t.title),J(2),Bt(t.date)}}function xIe(e,n){if(1&e&&(wt(0),ge(1,yIe,8,5,"li",18),Dt()),2&e){const t=ue();J(1),ee("ngForOf",t.notifications)}}function bIe(e,n){1&e&&(se(0,"li")(1,"span",23),Be(2,"No notifications"),le()())}function CIe(e,n){1&e&&(se(0,"div",24)(1,"a",25),He("click",function(i){return i.preventDefault()}),Be(2," View all notifications "),le()()),2&e&&(J(1),ee("view","accent")("block",!0)("afterIcon","icofont-tasks-alt"))}ek.\u0275fac=function(n){return new(n||ek)},ek.\u0275cmp=ut({type:ek,selectors:[["tc-dropdown"]],contentQueries:function(n,t,i){if(1&n&&(Uo(i,Tw,7),Uo(i,Mw,7)),2&n){let r;an(r=cn())&&(t.dropdownButton=r.first),an(r=cn())&&(t.dropdownContent=r.first)}},hostVars:4,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("opened",t.getOpened))},inputs:{closeEvent:["close","closeEvent"]},ngContentSelectors:["tc-dropdown-button","tc-dropdown-content"],decls:2,vars:0,template:function(n,t){1&n&&(fr(mIe),Ki(0),Ki(1,1))},styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{align-items:center;display:inline-flex;position:relative}"]});const ige=function(){return[10,0]},wIe=function(){return["#ed5564","#8E333C"]};class Dw{constructor(n,t){this.httpSv=n,this.router=t,this.notifications=[],this.messages=[],this.files=[],this.closeDropdown=new et,this.layout="vertical"}ngOnInit(){this.getData("assets/data/navbar-notifications.json","notifications"),this.getData("assets/data/navbar-messages.json","messages"),this.getData("assets/data/navbar-files.json","files")}getData(n,t){this.httpSv.getData(n).subscribe(i=>{this[t]=i},i=>{console.log(i)})}onCloseDropdown(){this.closeDropdown.emit(!0)}goTo(n,t,i=""){n.preventDefault(),this.onCloseDropdown(),localStorage.removeItem("user_type"),setTimeout(()=>{this.router.navigate([i||this.layout,t])})}}function SIe(e,n){1&e&&(wt(0),se(1,"div",1),Fe(2,"span",2)(3,"span",3)(4,"span",4),le(),se(5,"div",5)(6,"div",6),Fe(7,"span",7)(8,"span",8),le(),Fe(9,"span",9),le(),Dt())}function TIe(e,n){1&e&&(wt(0),se(1,"div",10),Fe(2,"div",11),se(3,"div",12),Fe(4,"span",13)(5,"span",14)(6,"span",15)(7,"span",16)(8,"span",14)(9,"span",16)(10,"span",17),le(),se(11,"div",12),Fe(12,"span",13)(13,"span",17)(14,"span",18)(15,"span",17)(16,"span",18)(17,"span",18)(18,"span",18)(19,"span",18),le(),se(20,"div",12),Fe(21,"span",13)(22,"span",17)(23,"span",16),le(),Fe(24,"div",19),le(),se(25,"div",20)(26,"div",12),Fe(27,"span",21)(28,"span",22),le()(),se(29,"div",23),Fe(30,"span",24)(31,"span",24)(32,"span",24)(33,"span",24)(34,"span",24)(35,"span",24),le(),Dt())}Dw.\u0275fac=function(n){return new(n||Dw)(de(Dc),de(go))},Dw.\u0275cmp=ut({type:Dw,selectors:[["actions"]],inputs:{layout:"layout"},decls:25,vars:19,consts:[[1,"item"],[3,"iconClass","tcFontSize"],[3,"view","size",4,"ngIf"],[3,"align","animation","offset"],[1,"menu-header"],[1,"h5","menu-title","mt-0","mb-0"],["href","#",3,"tcColor","click"],[1,"list"],[4,"ngIf"],["class","menu-footer",4,"ngIf"],[1,"item",3,"close"],[1,"d-flex","align-items-center"],[1,"me-1",3,"src"],[1,"icofont-simple-down"],[3,"align","animation","offset","width"],["href","#",1,"align-items-center",3,"click"],[1,"icon","icofont-logout"],[3,"view","size"],[4,"ngFor","ngForOf"],["href","#"],[1,"content"],[1,"desc"],[1,"date"],[1,"empty-item"],[1,"menu-footer"],["tc-button","","href","#",3,"view","block","afterIcon","click"]],template:function(n,t){1&n&&(se(0,"tc-dropdown",0)(1,"tc-dropdown-button"),Fe(2,"tc-icon",1),ge(3,_Ie,2,3,"tc-badge",2),le(),se(4,"tc-dropdown-content",3)(5,"div",4)(6,"h4",5),Be(7,"Notifications"),le(),se(8,"a",6),He("click",function(r){return r.preventDefault(),t.notifications=[]}),Be(9,"Clear All"),le()(),se(10,"ul",7),ge(11,xIe,2,1,"ng-container",8),ge(12,bIe,3,0,"li",8),le(),ge(13,CIe,3,3,"div",9),le()(),se(14,"tc-dropdown",10)(15,"tc-dropdown-button")(16,"div",11),Fe(17,"tc-avatar",12)(18,"i",13),le()(),se(19,"tc-dropdown-content",14)(20,"ul",7)(21,"li")(22,"a",15),He("click",function(r){return t.goTo(r,"sign-in","../public/")}),Fe(23,"span",16),Be(24," Log Out "),le()()()()()),2&n&&(J(2),ee("iconClass","icofont icofont-notification")("tcFontSize",26),J(1),ee("ngIf",t.notifications&&t.notifications.length),J(1),ee("align","right")("animation","fadeInUp")("offset",Ph(16,ige)),J(4),ee("tcColor",Ph(17,wIe)),J(3),ee("ngIf",t.notifications&&t.notifications.length),J(1),ee("ngIf",!t.notifications||0===t.notifications.length),J(1),ee("ngIf",t.notifications&&t.notifications.length),J(1),ee("close",t.closeDropdown),J(3),ee("src","/assets/content/user-400-1.jpg"),J(2),ee("align","right")("animation","fadeInUp")("offset",Ph(18,ige))("width",180))},dependencies:[xr,hn,Hu,P4,Lh,_w,ek,Tw,Mw,A4,gw],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:flex;flex-grow:2;justify-content:flex-end;margin:0!important}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{margin:0 .7142857143rem}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .tc-dropdown-link[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .tc-dropdown-link[_ngcontent-%COMP%]     .dropdown-link-wrap{position:relative}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .tc-dropdown-link[_ngcontent-%COMP%]   .tc-icon[_ngcontent-%COMP%]{opacity:.5;transition:background .2s ease-in-out,border .2s ease-in-out,color .2s ease-in-out,opacity .2s ease-in-out}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .tc-dropdown-link[_ngcontent-%COMP%]   .tc-badge[_ngcontent-%COMP%]{border:2px solid #fff;justify-content:center;min-width:21px;padding-left:2px;padding-right:2px;position:absolute;right:-5px;text-align:center;top:-5px}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .tc-dropdown-link[_ngcontent-%COMP%]:hover   .tc-icon[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .tc-dropdown-link.active[_ngcontent-%COMP%]   .tc-icon[_ngcontent-%COMP%]{color:#336cfb;opacity:1}"]});class Pw{get class(){return"navbar-skeleton"}get horizontal(){return"horizontal"===this.type}get vertical(){return"vertical"===this.type}constructor(){}ngOnInit(){}}function MIe(e,n){1&e&&Fe(0,"app-menu",19),2&e&&ee("src","assets/data/menu.json")}function DIe(e,n){1&e&&Fe(0,"app-menu",19),2&e&&ee("src","assets/data/menu_customer.json")}function PIe(e,n){1&e&&(se(0,"div",20),Fe(1,"i",21),le())}function AIe(e,n){if(1&e&&(se(0,"header",22)(1,"h1",23),Be(2),le()()),2&e){const t=ue(2);J(2),Bt(t.pageData.title)}}Pw.\u0275fac=function(n){return new(n||Pw)},Pw.\u0275cmp=ut({type:Pw,selectors:[["navbar-skeleton"]],hostVars:8,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("anvisible",t.loaded)("horizontal",t.horizontal)("vertical",t.vertical))},inputs:{type:"type",loaded:"loaded"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"left-part","d-flex","align-items-center"],[1,"navbar-button","bg","animated-bg","d-lg-none"],[1,"sk-logo","bg","animated-bg","d-none","d-lg-block"],[1,"search","d-none","d-md-block","bg","animated-bg"],[1,"right-part","d-flex","align-items-center"],[1,"icon-box"],[1,"icon","bg","animated-bg"],[1,"badge"],[1,"avatar","bg","animated-bg"],[1,"top-part"],[1,"sk-logo","bg","animated-bg"],[1,"sk-menu"],[1,"sk-menu-item","menu-header","bg-1","animated-bg"],[1,"sk-menu-item","bg","animated-bg","w-75"],[1,"sk-menu-item","bg","animated-bg","w-80"],[1,"sk-menu-item","bg","animated-bg","w-50"],[1,"sk-menu-item","bg","animated-bg","w-60"],[1,"sk-menu-item","bg","animated-bg","w-40"],[1,"sk-button","animated-bg","w-90"],[1,"bottom-part"],[1,"sk-menu-item","bg-1","animated-bg","w-60"],[1,"sk-menu-item","bg-1","animated-bg","w-80"],[1,"horizontal-menu"],[1,"sk-menu-item","bg","animated-bg"]],template:function(n,t){1&n&&(ge(0,SIe,10,0,"ng-container",0),ge(1,TIe,36,0,"ng-container",0)),2&n&&(ee("ngIf","horizontal"===t.type),J(1),ee("ngIf","vertical"===t.type))},dependencies:[hn],styles:['[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}@keyframes _ngcontent-%COMP%_loaderAnimation{0%{background-position:-468px 0}to{background-position:468px 0}}[_nghost-%COMP%]{align-items:center;background:inherit;display:flex;height:100%;justify-content:space-between;left:0;margin:0!important;overflow:hidden;padding:0 .7142857143rem;position:absolute;right:0;top:0;transition:.2s opacity 0s ease-in-out,0s visibility 0s ease-in-out;z-index:999}.anvisible[_nghost-%COMP%]{opacity:0;transition:.2s opacity .2s ease-in-out,0s visibility .4s ease-in-out;visibility:hidden}[_nghost-%COMP%]   .bg[_ngcontent-%COMP%]{background:#ebebeb}[_nghost-%COMP%]   .bg-1[_ngcontent-%COMP%]{background:#f5f5f5}[_nghost-%COMP%]   .left-part[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .navbar-button[_ngcontent-%COMP%]{display:block;height:30px;margin-right:1.4285714286rem;width:35px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{border-radius:20px;display:block;height:40px;max-width:100%;width:350px}[_nghost-%COMP%]   .icon-box[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:5px;display:block;height:20px;width:20px}[_nghost-%COMP%]   .icon-box[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#ed5564;border-radius:20px;display:block;height:16px;position:absolute;right:-8px;top:-10px;width:16px}[_nghost-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:20px;display:block;height:40px;margin:0 18px 0 25px;width:40px}[_nghost-%COMP%]   .sk-logo[_ngcontent-%COMP%]{border-radius:5px;display:block;height:2.8571428571rem;margin-right:1.4285714286rem;max-width:169px;width:100%}[_nghost-%COMP%]   .animated-bg[_ngcontent-%COMP%]{overflow:hidden;position:relative}[_nghost-%COMP%]   .animated-bg[_ngcontent-%COMP%]:before{animation-duration:1.25s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_loaderAnimation;animation-timing-function:linear;background:transparent;background:linear-gradient(to right,transparent 10%,rgba(255,255,255,.5) 18%,transparent 33%);background-size:800px 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%}.vertical[_nghost-%COMP%]{flex-direction:column}.vertical[_nghost-%COMP%]   .top-part[_ngcontent-%COMP%], .vertical[_nghost-%COMP%]   .bottom-part[_ngcontent-%COMP%]{padding:.7142857143rem 2.1428571429rem;width:100%}.vertical[_nghost-%COMP%]   .sk-logo[_ngcontent-%COMP%]{margin:0}.vertical[_nghost-%COMP%]   .sk-menu[_ngcontent-%COMP%]{margin:3.2142857143rem 0 0}.vertical[_nghost-%COMP%]   .sk-menu[_ngcontent-%COMP%]   .sk-menu-item[_ngcontent-%COMP%]{border-radius:3px;display:block;height:1.0714285714rem;margin:1.0714285714rem 0 0}.vertical[_nghost-%COMP%]   .sk-menu[_ngcontent-%COMP%]   .sk-menu-item.menu-header[_ngcontent-%COMP%]{width:50%}.vertical[_nghost-%COMP%]   .sk-button[_ngcontent-%COMP%]{background:#336cfb;border-radius:6px;height:2.8571428571rem;margin-top:2.1428571429rem}.vertical[_nghost-%COMP%]   .bottom-part[_ngcontent-%COMP%]{padding-bottom:2.1428571429rem;padding-top:0}.vertical[_nghost-%COMP%]   .bottom-part[_ngcontent-%COMP%]   .sk-menu[_ngcontent-%COMP%]{margin-top:0}.vertical[_nghost-%COMP%]   .horizontal-menu[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:none;height:100%}.vertical[_nghost-%COMP%]   .horizontal-menu[_ngcontent-%COMP%]   .sk-menu-item[_ngcontent-%COMP%]{border-radius:3px;display:block;height:.7142857143rem;margin:0 .7142857143rem 0 0;width:5.7142857143rem}@media (min-width: 992px){.horizontal-vertical   .vertical[_nghost-%COMP%]   .top-part[_ngcontent-%COMP%], .horizontal-vertical   .vertical[_nghost-%COMP%]   .bottom-part[_ngcontent-%COMP%]{display:none}.horizontal-vertical   .vertical[_nghost-%COMP%]   .horizontal-menu[_ngcontent-%COMP%]{display:flex}}']});const zIe=function(e,n,t){return{boxed:e,scrolled:n,loaded:t}},kIe=function(e){return{loaded:e}},OIe=function(e){return{"full-filled":e}},EIe=function(e){return{show:e}};function IIe(e,n){if(1&e){const t=Ft();se(0,"div",3)(1,"navbar",4)(2,"button",5),He("click",function(){return Xe(t),Ze(ue().toggleSidebar(!0))}),Fe(3,"span")(4,"span")(5,"span"),le(),Fe(6,"search",6)(7,"actions",7)(8,"navbar-skeleton",8),le(),se(9,"navbar",9)(10,"button",10),He("click",function(){return Xe(t),Ze(ue().toggleSidebar(!1))}),le(),Fe(11,"logo",11),ge(12,MIe,1,1,"app-menu",12),ge(13,DIe,1,1,"app-menu",12),Fe(14,"navbar-skeleton",8),le(),se(15,"main",13),He("scroll",function(r){return Xe(t),Ze(ue().onScroll(r))}),ge(16,PIe,2,0,"div",14),se(17,"div",15),ge(18,AIe,3,1,"header",16),Fe(19,"router-outlet"),le()(),Fe(20,"footer",17),se(21,"div",18),He("click",function(){return Xe(t),Ze(ue().toggleSidebar(!1))}),le()()}if(2&e){const t=ue();ee("ngClass",TD(29,zIe,t.appSettings.boxed,t.scrolled,t.loaded)),J(1),ee("boxed",t.appSettings.boxed)("tcBgColor",t.appSettings.topbarBg)("tcColor",t.appSettings.topbarColor)("minHeight","4.28571429rem"),J(5),ee("data",t.searchData)("layout","vertical"),J(1),ee("layout","vertical"),J(1),ee("type","horizontal")("loaded",t.loaded),J(1),ee("orientation","vertical")("tcBgColor",t.appSettings.sidebarBg)("tcColor",t.appSettings.sidebarColor)("opened",t.appSettings.sidebarOpened),J(2),ee("src","assets/img/logo_parking.jpg")("width",147)("height",33),J(1),ee("ngIf","admin"==t.user_type),J(1),ee("ngIf","customer"==t.user_type),J(1),ee("type","vertical")("loaded",t.loaded),J(1),ee("ngClass",ei(33,kIe,null==t.pageData?null:t.pageData.loaded)),J(1),ee("ngIf",!(null!=t.pageData&&t.pageData.loaded)),J(1),ee("ngClass",ei(35,OIe,null==t.pageData?null:t.pageData.fullFilled)),J(1),ee("ngIf",t.pageData&&!(null!=t.pageData&&t.pageData.fullFilled)&&t.pageData.title.length),J(2),ee("boxed",t.appSettings.boxed)("pageData",t.pageData)("loaded",t.loaded),J(1),ee("ngClass",ei(37,EIe,t.appSettings.sidebarOpened))}}function LIe(e,n){if(1&e){const t=Ft();se(0,"form",24)(1,"tc-form-group",25)(2,"input",26,27),He("change",function(r){return Xe(t),Ze(ue().onFileChanged(r))}),le(),Fe(4,"tc-avatar",19),se(5,"button",28),He("click",function(){return Xe(t),Ze(fn(3).click())}),Be(6," Select image "),le()(),se(7,"tc-form-group"),Fe(8,"tc-input",29),le(),se(9,"tc-form-group"),Fe(10,"tc-input",30),le(),se(11,"div",31)(12,"div",32)(13,"tc-form-group"),Fe(14,"tc-input",33),le()(),se(15,"div",32)(16,"tc-form-group"),Fe(17,"tc-select",34),le()()(),se(18,"tc-form-group",35),Fe(19,"tc-textarea",36),le()()}if(2&e){const t=ue();ee("formGroup",t.patientForm),J(4),ee("src",t.currentAvatar),J(1),ee("type","button")("afterIcon","icofont-ui-user")("view","accent")("outline",!0),J(3),ee("placeholder","Name"),J(2),ee("placeholder","Number")("type","number"),J(4),ee("placeholder","Age")("type","number"),J(3),ee("placeholder","Gender")("options",t.gender),J(2),ee("placeholder","Address")}}function RIe(e,n){if(1&e){const t=Ft();se(0,"div",37)(1,"button",38),He("click",function(){return Xe(t),Ze(ue().closeModal())}),Be(2,"Cancel"),le(),se(3,"button",39),He("click",function(){Xe(t);const r=ue();return Ze(r.addPatient(r.patientForm))}),Be(4," Add patient "),le()()}if(2&e){const t=ue();J(1),ee("type","button")("view","error"),J(2),ee("view","info")("disabled",t.patientForm.invalid)}}class Aw extends dw{constructor(n,t,i,r,o,l){super(n,t,i,r,o),this.modal=l,this.gender=[{label:"Male",value:"male"},{label:"Female",value:"female"}],this.defaultAvatar="assets/content/anonymous-400.jpg",this.currentAvatar=this.defaultAvatar}ngOnInit(){this.user_type=localStorage.getItem("user_type"),super.ngOnInit(),this.store.dispatch(new hw({layout:"vertical"}))}openModal(n,t=null,i=null,r=null){this.initPatientForm(),this.modal.open({body:n,header:t,footer:i,options:r})}closeModal(){this.modal.close(),this.patientForm.reset(),this.currentAvatar=this.defaultAvatar}onFileChanged(n){let t=n.target.files[0],i=new FileReader;i.onloadend=()=>{this.currentAvatar=i.result},i.readAsDataURL(t)}initPatientForm(){this.patientForm=this.fb.group({img:[],name:["",mo.required],number:["",mo.required],age:["",mo.required],gender:["",mo.required],address:["",mo.required]})}addPatient(n){if(n.valid){let t=n.value;t.img=this.currentAvatar,t.id="23",t.status="Pending",t.lastVisit="",this.store.dispatch(new fOe(t)),this.closeModal(),this.patientForm.reset()}}}function NIe(e,n){1&e&&(se(0,"div",18),Fe(1,"i",19),le())}function FIe(e,n){if(1&e&&(se(0,"header",20)(1,"h1",21),Be(2),le()()),2&e){const t=ue(2);J(2),Bt(t.pageData.title)}}Aw.\u0275fac=function(n){return new(n||Aw)(de(Mc),de(zv),de(Dc),de(go),de(Vt),de(Dg))},Aw.\u0275cmp=ut({type:Aw,selectors:[["vertical-layout"]],features:[Zn],decls:6,vars:1,consts:[["class","app-container",3,"ngClass",4,"ngIf"],["modalBody",""],["modalFooter",""],[1,"app-container",3,"ngClass"],[3,"boxed","tcBgColor","tcColor","minHeight"],[1,"no-style","navbar-toggle","d-lg-none",3,"click"],[1,"d-none","d-md-block",3,"data","layout"],[3,"layout"],[3,"type","loaded"],[3,"orientation","tcBgColor","tcColor","opened"],[1,"no-style","navbar-close","icofont-close-line","d-lg-none",3,"click"],[3,"src","width","height"],[3,"src",4,"ngIf"],[1,"main-content",3,"ngClass","scroll"],["class","app-loader",4,"ngIf"],[1,"main-content-wrap",3,"ngClass"],["class","page-header",4,"ngIf"],[3,"boxed","pageData","loaded"],[1,"content-overlay",3,"ngClass","click"],[3,"src"],[1,"app-loader"],[1,"icofont-spinner-alt-4","rotate"],[1,"page-header"],[1,"page-title"],["novalidate","",1,"new-patient-form",3,"formGroup"],[1,"avatar-box","d-flex"],["type","file","accept","image/*","hidden","",3,"change"],["fileInput",""],["tc-button","",3,"type","afterIcon","view","outline","click"],["formControlName","name",3,"placeholder"],["formControlName","number",3,"placeholder","type"],[1,"row"],[1,"col-12","col-sm-6"],["formControlName","age",3,"placeholder","type"],["formControlName","gender",3,"placeholder","options"],[1,"mb-0"],["formControlName","address",3,"placeholder"],[1,"actions","justify-content-between"],["tc-button","",3,"type","view","click"],["tc-button","",3,"view","disabled","click"]],template:function(n,t){1&n&&(ge(0,IIe,22,39,"div",0),wt(1),ge(2,LIe,20,14,"ng-template",null,1,xn),ge(4,RIe,5,4,"ng-template",null,2,xn),Dt()),2&n&&ee("ngIf",t.appSettings)},dependencies:[Ss,hn,pv,T4,vl,S4,fm,Av,M4,Hu,Lh,wd,pw,Pg,Ov,gw,vw,yw,Cw,v6,Sw,Dw,Pw],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{height:100%;overflow-x:hidden;overflow-y:auto;margin-bottom:4.2857142857rem;position:relative;transition:.2s padding 0s ease-in-out;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{min-height:calc(100% - 2.8571428571rem);margin:0 auto;opacity:0;padding:2.1428571429rem 1.4285714286rem 2.8571428571rem;transition:.2s opacity 0s ease-in-out}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap.full-filled[_ngcontent-%COMP%]{height:100%;max-width:100%!important;min-height:100%;padding:0}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#1f202280;font-size:2rem;margin:0 0 1.4285714286rem}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]{color:#1f202280;font-size:.8rem;line-height:2;margin:0 0 1.4285714286rem}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content.loaded[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{opacity:1;transition:0s opacity 0s ease-in-out}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .content-overlay[_ngcontent-%COMP%]{background:rgba(31,32,34,.1);height:100%;left:0;position:absolute;top:0;visibility:hidden;width:100%}@media (max-width: 991px){[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .content-overlay.show[_ngcontent-%COMP%]{visibility:visible}}[_nghost-%COMP%]   .app-container.boxed[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{max-width:1140px;max-width:var(--boxed-width)}","[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]{padding-left:17.1428571429rem}@media (max-width: 991px){[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]{padding-left:0}}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]     .navbar.horizontal{z-index:9997}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]     .navbar.horizontal navbar-skeleton .sk-logo{display:none!important}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{left:17.1428571429rem}@media (max-width: 991px){[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{left:0}}[_nghost-%COMP%]   .app-container.scrolled[_ngcontent-%COMP%]     .navbar.horizontal{box-shadow:0 2px 5px #0000000d}"]});const BIe=function(e,n){return{boxed:e,scrolled:n}},VIe=function(e){return{loaded:e}},HIe=function(e){return{"full-filled":e}},YIe=function(e){return{show:e}};function UIe(e,n){if(1&e){const t=Ft();se(0,"div",1)(1,"navbar",2)(2,"button",3),He("click",function(){return Xe(t),Ze(ue().toggleSidebar(!0))}),Fe(3,"span")(4,"span")(5,"span"),le(),Fe(6,"logo",4)(7,"search",5)(8,"actions",6)(9,"navbar-skeleton",7),le(),se(10,"navbar",8)(11,"button",9),He("click",function(){return Xe(t),Ze(ue().toggleSidebar(!1))}),le(),Fe(12,"logo",10)(13,"app-menu",11)(14,"navbar-skeleton",7),le(),se(15,"main",12),He("scroll",function(r){return Xe(t),Ze(ue().onScroll(r))}),ge(16,NIe,2,0,"div",13),se(17,"div",14),ge(18,FIe,3,1,"header",15),Fe(19,"router-outlet"),le()(),Fe(20,"footer",16),se(21,"div",17),He("click",function(){return Xe(t),Ze(ue().toggleSidebar(!1))}),le()()}if(2&e){const t=ue();ee("ngClass",Cs(34,BIe,t.appSettings.boxed,t.scrolled)),J(1),ee("boxed",t.appSettings.boxed)("tcBgColor",t.appSettings.topbarBg)("tcColor",t.appSettings.topbarColor)("minHeight","4.28571429rem"),J(5),ee("src","assets/img/logo_parking.jpg")("width",147)("height",33),J(1),ee("data",t.searchData)("layout","vertical"),J(1),ee("layout","horizontal"),J(1),ee("type","horizontal")("loaded",t.loaded),J(1),ee("orientation","horizontal-vertical")("boxed",t.appSettings.boxed)("tcBgColor",t.appSettings.sidebarBg)("tcColor",t.appSettings.sidebarColor)("opened",t.appSettings.sidebarOpened)("minHeight","2.85714286rem"),J(2),ee("src","assets/img/logo_parking.jpg")("width",147)("height",33),J(1),ee("src","assets/data/menu-horizontal.json")("orientation","horizontal"),J(1),ee("type","vertical")("loaded",t.loaded),J(1),ee("ngClass",ei(37,VIe,null==t.pageData?null:t.pageData.loaded)),J(1),ee("ngIf",!(null!=t.pageData&&t.pageData.loaded)),J(1),ee("ngClass",ei(39,HIe,null==t.pageData?null:t.pageData.fullFilled)),J(1),ee("ngIf",t.pageData&&!(null!=t.pageData&&t.pageData.fullFilled)&&t.pageData.title.length),J(2),ee("boxed",t.appSettings.boxed)("pageData",t.pageData)("loaded",t.loaded),J(1),ee("ngClass",ei(41,YIe,t.appSettings.sidebarOpened))}}class tk extends dw{constructor(n,t,i,r,o){super(n,t,i,r,o)}ngOnInit(){super.ngOnInit(),this.getSearchData("assets/data/menu-horizontal.json"),this.store.dispatch(new hw({layout:"horizontal"}))}}tk.\u0275fac=function(n){return new(n||tk)(de(Mc),de(zv),de(Dc),de(go),de(Vt))},tk.\u0275cmp=ut({type:tk,selectors:[["horizontal-layout"]],features:[Zn],decls:1,vars:1,consts:[["class","app-container",3,"ngClass",4,"ngIf"],[1,"app-container",3,"ngClass"],[3,"boxed","tcBgColor","tcColor","minHeight"],[1,"no-style","navbar-toggle","d-lg-none",3,"click"],[1,"d-none","d-lg-block",3,"src","width","height"],[1,"d-none","d-md-block",3,"data","layout"],[3,"layout"],[3,"type","loaded"],[3,"orientation","boxed","tcBgColor","tcColor","opened","minHeight"],[1,"no-style","navbar-close","icofont-close-line","d-lg-none",3,"click"],[1,"d-lg-none",3,"src","width","height"],[3,"src","orientation"],[1,"main-content",3,"ngClass","scroll"],["class","app-loader",4,"ngIf"],[1,"main-content-wrap",3,"ngClass"],["class","page-header",4,"ngIf"],[3,"boxed","pageData","loaded"],[1,"content-overlay",3,"ngClass","click"],[1,"app-loader"],[1,"icofont-spinner-alt-4","rotate"],[1,"page-header"],[1,"page-title"]],template:function(n,t){1&n&&ge(0,UIe,22,43,"div",0),2&n&&ee("ngIf",t.appSettings)},dependencies:[Ss,hn,pv,M4,Hu,vw,yw,Cw,v6,Sw,Dw,Pw],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{height:100%;overflow-x:hidden;overflow-y:auto;margin-bottom:4.2857142857rem;position:relative;transition:.2s padding 0s ease-in-out;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{min-height:calc(100% - 2.8571428571rem);margin:0 auto;opacity:0;padding:2.1428571429rem 1.4285714286rem 2.8571428571rem;transition:.2s opacity 0s ease-in-out}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap.full-filled[_ngcontent-%COMP%]{height:100%;max-width:100%!important;min-height:100%;padding:0}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#1f202280;font-size:2rem;margin:0 0 1.4285714286rem}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-breadcrumbs[_ngcontent-%COMP%]{color:#1f202280;font-size:.8rem;line-height:2;margin:0 0 1.4285714286rem}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .main-content.loaded[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{opacity:1;transition:0s opacity 0s ease-in-out}[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .content-overlay[_ngcontent-%COMP%]{background:rgba(31,32,34,.1);height:100%;left:0;position:absolute;top:0;visibility:hidden;width:100%}@media (max-width: 991px){[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]   .content-overlay.show[_ngcontent-%COMP%]{visibility:visible}}[_nghost-%COMP%]   .app-container.boxed[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .main-content-wrap[_ngcontent-%COMP%]{max-width:1140px;max-width:var(--boxed-width)}","[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}@media (min-width: 992px){[_nghost-%COMP%]   .app-container[_ngcontent-%COMP%]     .navbar .navbar-wrap .logo .logo-wrap{padding-left:0;padding-right:0}}@media (min-width: 992px){[_nghost-%COMP%]   .app-container.scrolled[_ngcontent-%COMP%]     .navbar.horizontal-vertical{box-shadow:0 2px 5px #0000000d;z-index:9997}}@media (max-width: 991px){[_nghost-%COMP%]   .app-container.scrolled[_ngcontent-%COMP%]     .navbar.horizontal{box-shadow:0 2px 5px #0000000d;z-index:9997}}"]});class zw{constructor(){}ngOnInit(){}}zw.\u0275fac=function(n){return new(n||zw)},zw.\u0275cmp=ut({type:zw,selectors:[["public-layout"]],decls:5,vars:3,consts:[[1,"content-box"],[1,"content-header"],[3,"src","width","height"],[1,"content-body"]],template:function(n,t){1&n&&(se(0,"div",0)(1,"div",1),Fe(2,"logo",2),le(),se(3,"div",3),Fe(4,"router-outlet"),le()()),2&n&&(J(2),ee("src","assets/img/logo_parking.jpg")("width",147)("height",33))},dependencies:[pv,v6],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{background:url(login-page.jpg) 50% 50% no-repeat;background-size:cover;display:block;height:100%;overflow:auto;width:100%}.page-404   [_nghost-%COMP%]{background-image:url(404-page.jpg)}.page-404   [_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]{background:rgba(255,255,255,.9)!important}.page-500   [_nghost-%COMP%]{background-image:url(500-page.jpg)}.page-500   [_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]{background:rgba(255,255,255,.9)!important}.register-page   [_nghost-%COMP%]{background-image:url(register-page.jpg)}[_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 18px 24px #0000001f;display:flex;flex-direction:column;max-width:400px;min-height:100%}[_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{padding-top:1.4285714286rem}[_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:1;padding:.7142857143rem 2.8571428571rem;width:100%}[_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]    >*{display:block;width:100%}[_nghost-%COMP%]   .content-box[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]     router-outlet{display:none}"]});class pm{constructor(n,t){this.store=n,this.httpSv=t}ngOnInit(){this.pageData&&this.store.dispatch(new uEe(this.pageData))}ngOnDestroy(){this.store.dispatch(new ege)}getData(n,t,i){this.httpSv.getData(n).subscribe(r=>{this[t]=r},r=>{console.log(r)},()=>{i&&"function"==typeof this[i]&&this[i](this[t])})}postdata(n,t,i,r){this.httpSv.postdata(r,n).subscribe(o=>{this[t]=o},o=>{console.log(o)},()=>{i&&"function"==typeof this[i]&&this[i](this[t])})}setLoaded(n=0){setTimeout(()=>this.store.dispatch(new hEe({loaded:!0})),n)}}pm.\u0275fac=function(n){return new(n||pm)(de(Mc),de(Dc))},pm.\u0275cmp=ut({type:pm,selectors:[["base-page"]],decls:2,vars:0,template:function(n,t){1&n&&(se(0,"p"),Be(1," base-page works!\n"),le())}});class nk extends pm{constructor(n,t){super(n,t),this.pageData={title:"",loaded:!1,breadcrumbs:[{title:"Admin",route:"main"}]}}ngOnInit(){super.ngOnInit(),this.setLoaded()}ngOnDestroy(){super.ngOnDestroy()}}nk.\u0275fac=function(n){return new(n||nk)(de(Mc),de(Dc))},nk.\u0275cmp=ut({type:nk,selectors:[["app-main-page"]],features:[Zn],decls:2,vars:0,template:function(n,t){1&n&&(se(0,"p"),Be(1,"main works!"),le())}});const GIe=function(){return["/vertical/default-dashboard"]};class ik{constructor(n){this.document=n}ngOnInit(){this.document.body.classList.add("page-404")}ngOnDestroy(){this.document.body.classList.remove("page-404")}}ik.\u0275fac=function(n){return new(n||ik)(de(ki))},ik.\u0275cmp=ut({type:ik,selectors:[["page-404"]],decls:9,vars:9,consts:[[1,"w-100","text-center"],[1,"display-1","d-flex","mb-5","justify-content-center","align-items-center"],[1,"me-2",3,"iconClass","tcColor","tcFontSize","padding"],[1,"font-weight-normal","text-muted","mt-0","mb-0"],[1,"mb-5",3,"tcFontSize"],["tc-button","",3,"view","beforeIcon","routerLink"]],template:function(n,t){1&n&&(se(0,"div",0)(1,"div",1),Fe(2,"tc-icon",2),se(3,"div",3),Be(4,"404"),le()(),se(5,"h1",4),Be(6,"Oopps. The page you were looking for doesn't exist."),le(),se(7,"button",5),Be(8," Back to home "),le()()),2&n&&(J(2),ee("iconClass","icofont-radio-active")("tcColor","rgba(237,85,100,0.5)")("tcFontSize","6rem")("padding",0),J(3),ee("tcFontSize",20),J(2),ee("view","accent")("beforeIcon","icofont-home")("routerLink",Ph(8,GIe)))},dependencies:[Eh,Hu,P4,Lh,A4]});class k4{constructor(n){this.http=n,this.isAuthenticate=!1}login(n){return this.http.post(kv_base_api+"login",n).pipe(Io(()=>{this.isAuthenticate=!0}))}register(n){return this.http.post(kv_base_api+"register",n).pipe(Io(()=>{this.isAuthenticate=!0}))}logout(){this.isAuthenticate=!1}isAuthenticated_success(){return this.isAuthenticate=!0}isAuthenticated(){return this.isAuthenticate}}function WIe(e,n){if(1&e&&(se(0,"span",5),Fe(1,"i",6),le()),2&e){const t=ue();J(1),ee("ngClass",t.beforeIcon)}}function jIe(e,n){if(1&e&&(se(0,"h5",7),Be(1),le()),2&e){const t=ue();J(1),Bt(t.title)}}function $Ie(e,n){if(1&e){const t=Ft();se(0,"button",8),He("click",function(){return Xe(t),Ze(ue().removeAlert())}),Fe(1,"i",9),le()}}function XIe(e,n){if(1&e&&(se(0,"span",5),Fe(1,"i",6),le()),2&e){const t=ue();J(1),ee("ngClass",t.afterIcon)}}k4.\u0275fac=function(n){return new(n||k4)(Ve(q7))},k4.\u0275prov=mt({token:k4,factory:k4.\u0275fac,providedIn:"root"});class O4{get class(){return"tc-alert"}get getOutline(){return this.outline}get default(){return"default"===this.view}get accent(){return"accent"===this.view}get success(){return"success"===this.view}get error(){return"error"===this.view}get info(){return"info"===this.view}get warning(){return"warning"===this.view}constructor(n){this.element=n,this.view="default"}ngOnInit(){}removeAlert(){this.element.nativeElement.remove()}}function ZIe(e,n){if(1&e&&(se(0,"tc-alert",7),Be(1),le()),2&e){const t=ue();ee("removable",!0)("view",t.status),J(1),In(" ",t.texttoshow," ")}}O4.\u0275fac=function(n){return new(n||O4)(de(Vt))},O4.\u0275cmp=ut({type:O4,selectors:[["tc-alert"]],hostVars:20,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("outline",t.getOutline)("with-before-icon",t.beforeIcon)("with-after-icon",t.afterIcon)("alert-default",t.default)("alert-accent",t.accent)("alert-success",t.success)("alert-error",t.error)("alert-info",t.info)("alert-warning",t.warning))},inputs:{beforeIcon:"beforeIcon",afterIcon:"afterIcon",title:"title",view:"view",removable:"removable",outline:"outline"},ngContentSelectors:["*"],decls:7,vars:4,consts:[["class","alert-icon",4,"ngIf"],[1,"content"],["class","title",4,"ngIf"],[1,"message"],["class","no-style close",3,"click",4,"ngIf"],[1,"alert-icon"],[3,"ngClass"],[1,"title"],[1,"no-style","close",3,"click"],[1,"icofont-close-line"]],template:function(n,t){1&n&&(fr(),ge(0,WIe,2,1,"span",0),se(1,"div",1),ge(2,jIe,2,1,"h5",2),se(3,"span",3),Ki(4),le()(),ge(5,$Ie,2,0,"button",4),ge(6,XIe,2,1,"span",0)),2&n&&(ee("ngIf",t.beforeIcon),J(2),ee("ngIf",t.title),J(3),ee("ngIf",t.removable),J(1),ee("ngIf",t.afterIcon))},dependencies:[Ss,hn],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{border:1px solid transparent;display:flex;border-radius:6px;position:relative;padding:0 .7142857143rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{align-self:center;display:block;flex:1;padding:calc(.7142857143rem * 2 - 1px) .7142857143rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25em;font-weight:500;margin-bottom:.3571428571rem}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]{align-self:flex-start;color:inherit;cursor:pointer;font-size:1.25em;line-height:1;margin:.7142857143rem;opacity:0;transition:opacity .2s ease-in-out}[_nghost-%COMP%]   .alert-icon[_ngcontent-%COMP%]{align-items:center;background:rgba(255,255,255,.2);display:flex;font-size:1.43em;line-height:1;min-height:100%;padding:.7142857143rem 1.0714285714rem}.alert-default[_nghost-%COMP%]{background:rgba(235,235,235,.3);color:inherit;border-color:#ebebeb4d}.alert-default.outline[_nghost-%COMP%]{background:transparent;color:#ebebeb4d}.alert-accent[_nghost-%COMP%]{background:#336cfb;color:#fff;border-color:#336cfb}.alert-accent.outline[_nghost-%COMP%]{background:transparent;color:#336cfb}.alert-success[_nghost-%COMP%]{background:#b7ce63;color:#000;border-color:#b7ce63}.alert-success.outline[_nghost-%COMP%]{background:transparent;color:#b7ce63}.alert-info[_nghost-%COMP%]{background:#64B5F6;color:#000;border-color:#64b5f6}.alert-info.outline[_nghost-%COMP%]{background:transparent;color:#64b5f6}.alert-warning[_nghost-%COMP%]{background:#e9e165;color:#000;border-color:#e9e165}.alert-warning.outline[_nghost-%COMP%]{background:transparent;color:#e9e165}.alert-error[_nghost-%COMP%]{background:#ed5564;color:#fff;border-color:#ed5564}.alert-error.outline[_nghost-%COMP%]{background:transparent;color:#ed5564}.with-before-icon[_nghost-%COMP%]{padding-left:0}.with-after-icon[_nghost-%COMP%]{padding-right:0}[_nghost-%COMP%]:hover   .close[_ngcontent-%COMP%]{opacity:1}"]});class rk{constructor(n,t,i,r){this.fb=n,this.store=t,this.httpSv=i,this.router=r,this.texttoshow="",this.status=""}ngOnInit(){let n=localStorage.getItem("user_type");"admin"==n?(this.router.navigate(["/vertical/slote_settings"]),this.httpSv.isAuthenticated_success()):"customer"==n&&(this.router.navigate(["/vertical/reservation"]),this.httpSv.isAuthenticated_success()),this.texttoshow="",this.status="",this.loginForm=this.fb.group({email:["",mo.required],password:["",mo.required]})}send(){return localStorage.removeItem("token"),this.texttoshow="",this.status="",this.loginForm.value.email?this.loginForm.value.password?"admin@123.com"==this.loginForm.value.email&&"admin"==this.loginForm.value.password?(localStorage.setItem("user_type","admin"),this.router.navigate(["/vertical/slote_settings"]),this.httpSv.isAuthenticated_success(),!1):void this.httpSv.login({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe(t=>{t&&(localStorage.setItem("cust_id",t.cust_id),localStorage.setItem("user_type","customer"),localStorage.setItem("token",t.token),this.router.navigate(["/admin/reservation"]),this.loginForm=this.fb.group({email:["",mo.required],password:["",mo.required]}))},t=>{console.log(t),this.status="error",this.texttoshow="Invailid user login"},()=>{}):(this.texttoshow="Password Cannot be Empty",this.status="warning",!1):(this.texttoshow="Email Cannot be Empty",this.status="warning",!1)}}rk.\u0275fac=function(n){return new(n||rk)(de(zv),de(Mc),de(k4),de(go))},rk.\u0275cmp=ut({type:rk,selectors:[["login-form"]],decls:12,vars:8,consts:[["novalidate","",3,"formGroup"],["formControlName","email",3,"placeholder"],["formControlName","password",3,"placeholder","type"],[3,"value"],["class","mb-4",3,"removable","view",4,"ngIf"],[1,"actions","justify-content-between"],["tc-button","",3,"view","beforeIcon","click"],[1,"mb-4",3,"removable","view"]],template:function(n,t){1&n&&(se(0,"form",0)(1,"tc-form-group"),Fe(2,"tc-input",1),le(),se(3,"tc-form-group"),Fe(4,"tc-input",2),le(),se(5,"tc-form-group")(6,"tc-switcher",3),Be(7,"Remember me"),le()(),ge(8,ZIe,2,3,"tc-alert",4),se(9,"div",5)(10,"button",6),He("click",function(){return t.send()}),Be(11," Login "),le()()()),2&n&&(ee("formGroup",t.loginForm),J(2),ee("placeholder","Email"),J(2),ee("placeholder","Password")("type","password"),J(2),ee("value",!0),J(2),ee("ngIf",""!=t.status),J(2),ee("view","accent")("beforeIcon","icofont-login"))},dependencies:[hn,T4,vl,S4,fm,Av,Lh,wd,Pg,z4,O4],styles:["[_nghost-%COMP%]{display:block}"]});const KIe=function(){return["../public/","sign-up"]};class kw{constructor(){}ngOnInit(){}}function QIe(e,n){if(1&e&&(se(0,"tc-alert",9),Be(1),le()),2&e){const t=ue();ee("removable",!0)("view",t.status),J(1),In(" ",t.texttoshow," ")}}kw.\u0275fac=function(n){return new(n||kw)},kw.\u0275cmp=ut({type:kw,selectors:[["page-sign-in"]],decls:12,vars:3,consts:[[1,"h4","mt-0","mb-1"],[3,"tcColor"],[1,"mt-5","mb-1"],["href","#",3,"click"],[3,"routerLink"]],template:function(n,t){1&n&&(se(0,"h2",0),Be(1,"Login form"),le(),se(2,"p",1),Be(3,"Login to access your Account"),le(),Fe(4,"login-form"),se(5,"p",2)(6,"a",3),He("click",function(r){return r.preventDefault()}),Be(7,"Forgot password?"),le()(),se(8,"p"),Be(9,"Don't have an account? "),se(10,"a",4),Be(11,"Sign up!"),le()()),2&n&&(J(2),ee("tcColor","#8f8f90"),J(8),ee("routerLink",Ph(2,KIe)))},dependencies:[Eh,Hu,rk]});class ok{constructor(n,t,i){this.fb=n,this.httpSv=t,this.router=i,this.texttoshow="",this.status=""}ngOnInit(){this.registerForm=this.fb.group({name:["",mo.required],email:["",[mo.required,mo.email]],password:["",mo.required],mob:["",mo.required]})}send(){return this.texttoshow="",this.status="",this.registerForm.value.name?this.registerForm.value.email?this.registerForm.value.password?this.registerForm.value.mob?void this.httpSv.register({name:this.registerForm.value.name,email:this.registerForm.value.email,password:this.registerForm.value.password,mob:this.registerForm.value.mob}).subscribe(t=>{null!=t.token&&(localStorage.setItem("cust_id",t.cust_id),localStorage.setItem("user_type","customer"),localStorage.setItem("token",t.token),this.router.navigate(["/admin/reservation"]),this.registerForm=this.fb.group({email:["",mo.required],password:["",mo.required]}))},t=>{console.log(t),this.status="error",this.texttoshow="Invailid user login"},()=>{}):(this.texttoshow="Mobile Cannot be Empty",this.status="warning",!1):(this.texttoshow="Password Cannot be Empty",this.status="warning",!1):(this.texttoshow="Email Cannot be Empty",this.status="warning",!1):(this.texttoshow="Name Cannot be Empty",this.status="warning",!1)}}ok.\u0275fac=function(n){return new(n||ok)(de(zv),de(k4),de(go))},ok.\u0275cmp=ut({type:ok,selectors:[["register-form"]],decls:16,vars:12,consts:[["novalidate","",3,"formGroup"],["formControlName","name",3,"placeholder"],["formControlName","email",3,"placeholder","type"],["formControlName","password",3,"placeholder","type"],["formControlName","mob",3,"placeholder","type"],[3,"value"],["class","mb-4",3,"removable","view",4,"ngIf"],[1,"actions","justify-content-between"],["tc-button","",3,"view","beforeIcon","click"],[1,"mb-4",3,"removable","view"]],template:function(n,t){1&n&&(se(0,"form",0)(1,"tc-form-group"),Fe(2,"tc-input",1),le(),se(3,"tc-form-group"),Fe(4,"tc-input",2),le(),se(5,"tc-form-group"),Fe(6,"tc-input",3),le(),se(7,"tc-form-group"),Fe(8,"tc-input",4),le(),se(9,"tc-form-group")(10,"tc-switcher",5),Be(11,"I agree to the Terms and Privacy."),le()(),ge(12,QIe,2,3,"tc-alert",6),se(13,"div",7)(14,"button",8),He("click",function(){return t.send()}),Be(15," Register "),le()()()),2&n&&(ee("formGroup",t.registerForm),J(2),ee("placeholder","Name"),J(2),ee("placeholder","Email address")("type","email"),J(2),ee("placeholder","Password")("type","password"),J(2),ee("placeholder","Mobile")("type","mobile"),J(2),ee("value",!0),J(2),ee("ngIf",""!=t.status),J(2),ee("view","accent")("beforeIcon","icofont-plus"))},dependencies:[hn,T4,vl,S4,fm,Av,Lh,wd,Pg,z4,O4]});const JIe=function(){return["../","sign-in"]};class ak{constructor(n){this.document=n}ngOnInit(){this.document.body.classList.add("register-page")}ngOnDestroy(){this.document.body.classList.remove("register-page")}}ak.\u0275fac=function(n){return new(n||ak)(de(ki))},ak.\u0275cmp=ut({type:ak,selectors:[["page-sign-up"]],decls:9,vars:3,consts:[[1,"h4","mt-0","mb-1"],[3,"tcColor"],[1,"mt-5"],[3,"routerLink"]],template:function(n,t){1&n&&(se(0,"h2",0),Be(1,"Sign up"),le(),se(2,"p",1),Be(3,"Create your Account"),le(),Fe(4,"register-form"),se(5,"p",2),Be(6,"Have an account? "),se(7,"a",3),Be(8,"Sign in!"),le()()),2&n&&(J(2),ee("tcColor","#8f8f90"),J(5),ee("routerLink",Ph(2,JIe)))},dependencies:[Eh,Hu,ok]});class _6{constructor(n,t){this.router=n,this.authService=t}canActivate(){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}}function eLe(e,n){1&e&&Fe(0,"img",3),2&e&&fi("src",ue().img,qp)}function tLe(e,n){if(1&e&&(se(0,"div",4)(1,"h3",5),Be(2),le()()),2&e){const t=ue();J(2),Bt(t.title)}}_6.\u0275fac=function(n){return new(n||_6)(Ve(go),Ve(k4))},_6.\u0275prov=mt({token:_6,factory:_6.\u0275fac,providedIn:"root"});const nLe=function(e){return{padding:e}};class Ev{get class(){return"tc-card"}get viewInfo(){return"info"===this.view}get viewAccent(){return"accent"===this.view}get viewSuccess(){return"success"===this.view}get viewWarning(){return"warning"===this.view}get viewError(){return"error"===this.view}get rightAlign(){return"right"===this.align}get centerAlign(){return"center"===this.align}get bgImage(){return this.gradient?this.gradient:this.bgImg?`url(${this.bgImg})`:null}constructor(){this.view="default"}ngOnInit(){}}Ev.\u0275fac=function(n){return new(n||Ev)},Ev.\u0275cmp=ut({type:Ev,selectors:[["tc-card"]],hostVars:22,hostBindings:function(n,t){2&n&&(Di(t.class),yn("background-image",t.bgImage),Ht("outline",t.outline)("bg-image",t.bgImg)("card-info",t.viewInfo)("card-accent",t.viewAccent)("card-success",t.viewSuccess)("card-warning",t.viewWarning)("card-error",t.viewError)("text-right",t.rightAlign)("text-center",t.centerAlign))},inputs:{outline:"outline",bgImg:"bgImg",align:"align",title:"title",img:"img",padding:"padding",view:"view",gradient:["tcGradient","gradient"]},ngContentSelectors:["*"],decls:4,vars:5,consts:[["class","card-img",3,"src",4,"ngIf"],["class","card-header",4,"ngIf"],[1,"card-content",3,"ngStyle"],[1,"card-img",3,"src"],[1,"card-header"],[1,"card-title"]],template:function(n,t){1&n&&(fr(),ge(0,eLe,1,1,"img",0),ge(1,tLe,3,1,"div",1),se(2,"div",2),Ki(3),le()),2&n&&(ee("ngIf",t.img),J(1),ee("ngIf",t.title),J(1),ee("ngStyle",ei(3,nLe,t.padding)))},dependencies:[hn,Ys],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{background:transparent 50% 50% no-repeat;background-size:cover;border-radius:6px;display:block;margin-bottom:2.8571428571rem;position:relative}[_nghost-%COMP%]   .card-img[_ngcontent-%COMP%]{border-top-left-radius:inherit;border-top-right-radius:inherit;width:100%}[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:500;margin:0}[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{display:block;padding:1.4285714286rem 0 0;position:relative;width:100%}[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]:first-child{padding-top:0}[_nghost-%COMP%]   .bg-image[_ngcontent-%COMP%]{border-radius:inherit;height:100%;left:0;position:absolute;top:0;width:100%}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.card-default[_nghost-%COMP%]{background:transparent;box-shadow:0 18px 24px #0000001f;color:inherit}.card-default[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.card-default[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.card-default.outline[_nghost-%COMP%]{border-color:transparent}.card-accent[_nghost-%COMP%]{background:#336cfb;box-shadow:0 18px 24px #0000001f;color:#fff}.card-accent[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.card-accent[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.card-accent.outline[_nghost-%COMP%]{border-color:#336cfb}.card-success[_nghost-%COMP%]{background:#b7ce63;box-shadow:0 18px 24px #0000001f;color:#000}.card-success[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.card-success[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.card-success.outline[_nghost-%COMP%]{border-color:#b7ce63}.card-info[_nghost-%COMP%]{background:#64B5F6;box-shadow:0 18px 24px #0000001f;color:#000}.card-info[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.card-info[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.card-info.outline[_nghost-%COMP%]{border-color:#64b5f6}.card-warning[_nghost-%COMP%]{background:#e9e165;box-shadow:0 18px 24px #0000001f;color:#000}.card-warning[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.card-warning[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.card-warning.outline[_nghost-%COMP%]{border-color:#e9e165}.card-error[_nghost-%COMP%]{background:#ed5564;box-shadow:0 18px 24px #0000001f;color:#fff}.card-error[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.card-error[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.card-error.outline[_nghost-%COMP%]{border-color:#ed5564}.custom-bg-color[_nghost-%COMP%], .custom-border-color[_nghost-%COMP%], .custom-gradient[_nghost-%COMP%], .outline[_nghost-%COMP%], .bg-image[_nghost-%COMP%]{box-shadow:0 18px 24px #0000001f}.custom-bg-color[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], .custom-border-color[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], .custom-gradient[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], .outline[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], .bg-image[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.7142857143rem 1.4285714286rem 0}.custom-bg-color[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%], .custom-border-color[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%], .custom-gradient[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%], .outline[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%], .bg-image[_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.4285714286rem}.outline[_nghost-%COMP%]{background:none;border:1px solid #1f2022;color:inherit}"]});class sk{constructor(){this.sortChanged=new et}get config(){return this.tcTableSort}set config(n){this.tcTableSort=n}onToggleSort(n){if(n&&n.preventDefault(),this.column.enableSorting){switch(this.column.sort){case"asc":this.column.sort="desc";break;case"desc":this.column.sort="";break;default:this.column.sort="asc"}this.sortChanged.emit(this.column)}}}sk.\u0275fac=function(n){return new(n||sk)},sk.\u0275dir=St({type:sk,selectors:[["","tcTableSort",""]],hostBindings:function(n,t){1&n&&He("click",function(r){return t.onToggleSort(r)})},inputs:{tcTableSort:"tcTableSort",column:"column",config:"config"},outputs:{sortChanged:"sortChanged"}});class lk{get config(){return this.tcFilterTable}constructor(n,t){this.tcFilterTable={},this.tableChanged=new et,this.element=n,this.renderer=t}set config(n){this.tcFilterTable=n}onChangeFilter(n){this.tcFilterTable.filterString=n,this.tableChanged.emit({filtering:this.tcFilterTable})}}lk.\u0275fac=function(n){return new(n||lk)(de(Vt),de(_r))},lk.\u0275dir=St({type:lk,selectors:[["","tcFilterTable",""]],hostBindings:function(n,t){1&n&&He("input",function(r){return t.onChangeFilter(r.target.value)})},inputs:{tcFilterTable:"tcFilterTable",config:"config"},outputs:{tableChanged:"tableChanged"}});const rLe=function(e){return{active:e}};function oLe(e,n){if(1&e){const t=Ft();se(0,"li",7)(1,"a",2),He("click",function(){const o=Xe(t).$implicit;return Ze(ue().changePage(o))}),Be(2),le()()}if(2&e){const t=n.$implicit,i=ue();J(1),ee("ngClass",ei(2,rLe,i.pageNum==t)),J(1),In(" ",t," ")}}const rge=function(e){return{disabled:e}};class ck{get class(){return"tc-pagination"}constructor(){this.goToPage=new et,this.pagesNumber=1,this.pageNum=1}changePage(n){this.pageNum=n,this.goToPage.emit(n)}nextPage(){this.pageNum<this.getLast()&&(this.pageNum++,this.goToPage.emit(this.pageNum))}prevPage(){this.pageNum>1&&(this.pageNum--,this.goToPage.emit(this.pageNum))}ngOnInit(){this.pages=Array.from(Array(this.pagesNumber),(n,t)=>t+1)}ngOnChanges(){this.ngOnInit()}getLast(){return this.pages[this.pages.length-1]}}function aLe(e,n){if(1&e){const t=Ft();se(0,"tc-form-group")(1,"tc-input",3),He("tableChanged",function(){Xe(t);const r=ue();return Ze(r.onChangeTable(r.config,null,!0))}),le()()}if(2&e){const t=ue();J(1),ee("placeholder","Seach in table")("tcFilterTable",t.config.filtering)("suffixIcon","icofont-search-document")}}ck.\u0275fac=function(n){return new(n||ck)},ck.\u0275cmp=ut({type:ck,selectors:[["tc-pagination"]],hostVars:2,hostBindings:function(n,t){2&n&&Di(t.class)},inputs:{pagesNumber:"pagesNumber",pageNum:"pageNum"},outputs:{goToPage:"goToPage"},features:[Le],decls:8,vars:7,consts:[[1,"pagination-ul"],[1,"pagination-li","prev"],[1,"pagination-link",3,"ngClass","click"],[1,"icofont-simple-left"],["class","pagination-li",4,"ngFor","ngForOf"],[1,"pagination-li","next"],[1,"icofont-simple-right"],[1,"pagination-li"]],template:function(n,t){1&n&&(se(0,"ul",0)(1,"li",1)(2,"a",2),He("click",function(){return t.prevPage()}),Fe(3,"i",3),le()(),ge(4,oLe,3,4,"li",4),se(5,"li",5)(6,"a",2),He("click",function(){return t.nextPage()}),Fe(7,"i",6),le()()()),2&n&&(J(2),ee("ngClass",ei(3,rge,1==t.pageNum)),J(2),ee("ngForOf",t.pages),J(2),ee("ngClass",ei(5,rge,t.pageNum==t.getLast())))},dependencies:[Ss,xr],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;margin-top:1.4285714286rem;padding:0}[_nghost-%COMP%]   .pagination-ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;margin:0 -.1785714286rem;padding:0}[_nghost-%COMP%]   .pagination-ul[_ngcontent-%COMP%]   .pagination-li[_ngcontent-%COMP%]{margin:0 .1785714286rem}[_nghost-%COMP%]   .pagination-ul[_ngcontent-%COMP%]   .pagination-li[_ngcontent-%COMP%]   .pagination-link[_ngcontent-%COMP%]{background:#D4D3D3;border-radius:500px;color:#fff;cursor:pointer;display:block;min-width:2.1428571429rem;padding:.3571428571rem;text-align:center;text-decoration:none;transition:background-color .2s ease-in-out,color .2s ease-in-out}[_nghost-%COMP%]   .pagination-ul[_ngcontent-%COMP%]   .pagination-li[_ngcontent-%COMP%]   .pagination-link[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .pagination-ul[_ngcontent-%COMP%]   .pagination-li[_ngcontent-%COMP%]   .pagination-link.active[_ngcontent-%COMP%]{background:#336cfb;color:#fff}[_nghost-%COMP%]   .pagination-ul[_ngcontent-%COMP%]   .pagination-li[_ngcontent-%COMP%]   .pagination-link.disabled[_ngcontent-%COMP%]{background:rgba(212,211,211,.6);color:#fff;pointer-events:none}"]});const oge=function(e){return{active:e}};function sLe(e,n){if(1&e&&(se(0,"span",12),Fe(1,"button",13)(2,"button",14),le()),2&e){const t=ue(2).$implicit;ee("tcColor",ue(2).headerColor),J(1),ee("ngClass",ei(3,oge,"asc"===t.config.sort)),J(1),ee("ngClass",ei(5,oge,"desc"===t.config.sort))}}function lLe(e,n){if(1&e&&(wt(0),se(1,"span",15),Be(2),le(),Dt()),2&e){const t=ue(2).$implicit,i=ue(2);J(1),ee("tcColor",i.headerColor),J(1),Bt(t.config.title)}}function cLe(e,n){if(1&e){const t=Ft();wt(0),se(1,"div",16)(2,"tc-input",17),He("click",function(r){return r.stopPropagation()})("tableChanged",function(){Xe(t);const r=ue(2).$implicit,o=ue(2);return Ze(o.onChangeTable(o.config,r))}),le()(),Dt()}if(2&e){const t=ue(2).$implicit;J(2),ee("size","sm")("tcFilterTable",t.config.filtering)("suffixIcon","icofont-search-alt-2")("placeholder",t.config.title)}}function uLe(e,n){if(1&e&&(wt(0),ge(1,sLe,3,7,"span",11),ge(2,lLe,3,2,"ng-container",0),ge(3,cLe,3,4,"ng-container",0),Dt()),2&e){const t=ue().$implicit;J(1),ee("ngIf",t.config.enableSorting),J(1),ee("ngIf",!t.enableFiltering),J(1),ee("ngIf",t.enableFiltering)}}function hLe(e,n){}function dLe(e,n){1&e&&ge(0,hLe,0,0,"ng-template",18),2&e&&ee("ngTemplateOutlet",ue().$implicit.headerTemplate)}const fLe=function(e){return{"sorting-col":e}};function pLe(e,n){if(1&e){const t=Ft();se(0,"th",9),He("sortChanged",function(){const o=Xe(t).$implicit,l=ue(2);return Ze(l.onChangeTable(l.config,o))}),se(1,"div",10),ge(2,uLe,4,3,"ng-container",0),le(),ge(3,dLe,1,1,null,0),le()}if(2&e){const t=n.$implicit,i=ue(2);ee("column",t.config)("align",i.headerAlign)("tcTableSort",t.config.sort)("tcBgColor",i.headerBgColor),J(1),ee("ngClass",ei(7,fLe,t.config.enableSorting)),J(1),ee("ngIf",!t.headerTemplate),J(1),ee("ngIf",t.headerTemplate)}}function gLe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue().$implicit,i=ue().$implicit;J(1),Bt(i[t.config.name])}}function mLe(e,n){}const vLe=function(e,n){return{$implicit:e,row:n}};function _Le(e,n){if(1&e&&ge(0,mLe,0,0,"ng-template",22),2&e){const t=ue().$implicit,i=ue().$implicit;ee("ngTemplateOutlet",t.tdTemplate)("ngTemplateOutletContext",Cs(2,vLe,i[t.config.name],i))}}const yLe=function(e,n){return{background:e,color:n}};function xLe(e,n){if(1&e&&(se(0,"td",21),ge(1,gLe,2,1,"ng-container",0),ge(2,_Le,1,5,null,0),le()),2&e){const t=n.$implicit,i=ue(3);ee("ngStyle",Cs(3,yLe,i.contentBgColor,i.contentColor)),J(1),ee("ngIf",!t.tdTemplate),J(1),ee("ngIf",t.tdTemplate)}}function bLe(e,n){if(1&e&&(se(0,"tr",19),ge(1,xLe,3,6,"td",20),le()),2&e){const t=ue(2);ee("align",t.rowAlign),J(1),ee("ngForOf",t.columnList)}}function CLe(e,n){1&e&&(se(0,"div",23),Be(1,"No table's data"),le())}function wLe(e,n){if(1&e&&(se(0,"div",4)(1,"table",5)(2,"thead")(3,"tr"),ge(4,pLe,4,9,"th",6),le()(),se(5,"tbody"),ge(6,bLe,2,2,"tr",7),le()(),ge(7,CLe,2,0,"div",8),le()),2&e){const t=ue();J(4),ee("ngForOf",t.columnList),J(2),ee("ngForOf",t.rows),J(1),ee("ngIf",!t.rows)}}function SLe(e,n){if(1&e){const t=Ft();se(0,"tc-pagination",24),He("goToPage",function(r){return Xe(t),Ze(ue().goToPage(r))}),le()}if(2&e){const t=ue();ee("pagesNumber",t.pagesCount)("pageNum",t.page)}}class y6{get class(){return"tc-table"}constructor(){this.borderStyle="solid",this.headerAlign="left",this.rowAlign="left",this.headerColor="#000",this.headerBgColor="rgba(#000,0.15)",this.columnList=[],this._columns=[],this.rows=[],this.config={sorting:!0,filtering:{filtering:!0,filterString:""}},this.itemsPerPage=10,this.page=1}ngOnInit(){this.getColumns(),this.data=this.rows,this.calcPagesCount(this.rows.length,this.itemsPerPage),this.data.length>0&&setTimeout(()=>{this.onChangeTable(this.config,null)})}ngOnChanges(){this.ngOnInit()}calcPagesCount(n,t){this.pagesCount=Math.ceil(n/t)}addColumn(n){this.columnList.push(n)}getColumns(){this.columnList.forEach(n=>{this._columns.push(n.config)})}goToPage(n){this.page=n,this.onChangeTable(this.data,null)}changePage(n,t,i){let r=(n-1)*t;return i.slice(r,t>-1?r+t:i.length)}changeSort(n,t){if(!t.sorting)return n;let r,o,i=[];this.columnList.forEach(l=>{i.push(l.config)});for(let l=0;l<i.length;l++)""!==i[l].sort&&!1!==i[l].sort&&(r=i[l].name,o=i[l].sort);return r?n.sort((l,h)=>l[r]>h[r]?"desc"===o?-1:1:l[r]<h[r]?"asc"===o?-1:1:0):n}changeFilter(n,t,i){let r=n;if(i.forEach(l=>{l.config.name&&(r=r.filter(h=>!(typeof h[l.config.name]>"u"&&void 0!==h[l.config.name])||h[l.config.name].toString().toLowerCase().match(l.config.filtering.filterString.toLowerCase())))}),!t.filtering)return r;let o=[];return r.forEach(l=>{let h=!1;i.forEach(f=>{f.config.filtering&&f.config.name&&typeof l[f.config.name]<"u"&&void 0!==l[f.config.name]&&l[f.config.name].toString().toLowerCase().startsWith(t.filtering.filterString.toLowerCase())&&(h=!0)}),h&&o.push(l)}),r=o,r}onChangeTable(n,t,i=!1){let r;i&&(this.page=1),n.filtering&&Object.assign(this.config.filtering,n.filtering),n.sorting&&Object.assign(this.config.sorting,n.sorting),r=this.changeFilter(this.data,t?t.config:n,this.columnList);let o=this.changeSort(r,this.config);this.rows=this.pagination?this.changePage(this.page,this.itemsPerPage,o):o,this.calcPagesCount(o.length,this.itemsPerPage)}}y6.\u0275fac=function(n){return new(n||y6)},y6.\u0275cmp=ut({type:y6,selectors:[["tc-table"]],hostVars:10,hostBindings:function(n,t){2&n&&(Di(t.class),Ht("bordered-table",t.bordered)("striped-table",t.striped)("hovered-table",t.hovered)("borderless-table",t.borderLess))},inputs:{bordered:"bordered",striped:"striped",hovered:"hovered",borderLess:"borderLess",borderColor:"borderColor",borderStyle:"borderStyle",contentBgColor:"contentBgColor",contentColor:"contentColor",headerBgColor:"headerBgColor",headerColor:"headerColor",headerAlign:"headerAlign",rowAlign:"rowAlign",pagination:"pagination",search:"search",config:"config",rows:"rows",itemsPerPage:"itemsPerPage"},features:[Le],decls:3,vars:3,consts:[[4,"ngIf"],["class","table-wrap",4,"ngIf"],[3,"pagesNumber","pageNum","goToPage",4,"ngIf"],[3,"placeholder","tcFilterTable","suffixIcon","tableChanged"],[1,"table-wrap"],[1,"table-box"],[3,"column","align","tcTableSort","tcBgColor","sortChanged",4,"ngFor","ngForOf"],[3,"align",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[3,"column","align","tcTableSort","tcBgColor","sortChanged"],[1,"col-wrapper",3,"ngClass"],["class","sorting",3,"tcColor",4,"ngIf"],[1,"sorting",3,"tcColor"],[1,"no-style","icofont-simple-up","up",3,"ngClass"],[1,"no-style","icofont-simple-down","down",3,"ngClass"],[1,"title",3,"tcColor"],[1,"search-box"],[3,"size","tcFilterTable","suffixIcon","placeholder","click","tableChanged"],[3,"ngTemplateOutlet"],[3,"align"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"no-data"],[3,"pagesNumber","pageNum","goToPage"]],template:function(n,t){1&n&&(ge(0,aLe,2,3,"tc-form-group",0),ge(1,wLe,8,3,"div",1),ge(2,SLe,1,2,"tc-pagination",2)),2&n&&(ee("ngIf",t.search),J(1),ee("ngIf",t.rows.length),J(1),ee("ngIf",t.pagination&&t.pagesCount>1))},dependencies:[Ss,xr,hn,Yr,Ys,M4,Hu,sk,lk,wd,Pg,ck],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]{display:block;margin:0;padding:0}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]{display:block;margin:-10px;overflow:auto;padding:10px}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{border-color:#fff;border-radius:6px;overflow:auto;width:100%}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]{display:flex;margin:0 -.3571428571rem}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .sorting[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.8em;justify-content:center;margin:0 .3571428571rem}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .sorting[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%], [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .sorting[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{color:inherit;cursor:pointer;transition:color .2s ease-in-out}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .sorting[_ngcontent-%COMP%]   .up.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .sorting[_ngcontent-%COMP%]   .down.active[_ngcontent-%COMP%]{color:#336cfb}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{margin:0 .3571428571rem}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .tc-input[_ngcontent-%COMP%]{min-width:100px}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .col-wrapper.sorting-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s ease-in-out,border .2s ease-in-out,box-shadow .2s ease-in-out,color .2s ease-in-out;will-change:background,border,box-shadow,color;width:100%}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;border-bottom:2px solid #fff;padding:.7142857143rem}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:1.4285714286rem}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:1.4285714286rem}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(31,32,34,.1);color:#1f2022;position:relative}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:rgba(235,235,235,.3)}[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%], [_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.hovered-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0000001f;transform:scale(1);z-index:1}.bordered-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .bordered-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:2px solid #ebebeb}.striped-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even)   th[_ngcontent-%COMP%], .striped-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even)   td[_ngcontent-%COMP%]{background:rgba(31,32,34,.08)}.borderless-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .borderless-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .borderless-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .borderless-table[_nghost-%COMP%]   .table-wrap[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0 none}"]});const TLe=["tableTDTemplate"],MLe=["headerBodyTemplate"];class Ow{constructor(n){this.table=n,this.enableFiltering=!1,this.enableSorting=!1,this.columnName="",this.columnTitle="",this.config={title:"",name:"",sort:"",enableSorting:this.enableSorting,filter:this.enableFiltering,filtering:{filterString:"",columnName:name}}}ngOnInit(){this.setConfig(),this.table.addColumn(this)}setConfig(){this.config.name=this.columnName,this.config.title=this.columnTitle,this.config.filtering.columnName=this.columnName,this.config.enableSorting=this.enableSorting,""===this.columnName&&(this.config.filtering=!1)}}Ow.\u0275fac=function(n){return new(n||Ow)(de(y6))},Ow.\u0275cmp=ut({type:Ow,selectors:[["tc-table-col"]],contentQueries:function(n,t,i){if(1&n&&(Uo(i,TLe,7),Uo(i,MLe,7)),2&n){let r;an(r=cn())&&(t.tdTemplate=r.first),an(r=cn())&&(t.headerTemplate=r.first)}},inputs:{columnTitle:"columnTitle",columnName:"columnName",enableFiltering:"enableFiltering",enableSorting:"enableSorting"},ngContentSelectors:["*"],decls:1,vars:0,template:function(n,t){1&n&&(fr(),Ki(0))}});const PLe=["modalBody"],ALe=["modalFooter"];function zLe(e,n){if(1&e&&(se(0,"strong"),Be(1),le()),2&e){const t=n.$implicit;J(1),Bt(t)}}function kLe(e,n){if(1&e&&(se(0,"strong"),Be(1),le()),2&e){const t=n.$implicit;J(1),Bt(t)}}function OLe(e,n){if(1&e&&(se(0,"span",9),Fe(1,"tc-icon",10),le()),2&e){const t=n.$implicit;ee("tcColor","#336cfb"),J(1),ee("iconClass",t?"icofont-toggle-on":"icofont-toggle-off")("tcFontSize",35)("padding",0)}}function ELe(e,n){if(1&e&&(se(0,"span",11),Be(1),le()),2&e){const t=n.$implicit;ee("tcColor","#a5a5a5"),J(1),Bt(t)}}function ILe(e,n){if(1&e&&(se(0,"span",11),Be(1),le()),2&e){const t=n.$implicit;ee("tcColor","#a5a5a5"),J(1),Bt(t)}}function LLe(e,n){if(1&e&&(se(0,"span",9),Fe(1,"tc-icon",10),le()),2&e){const t=n.$implicit;ee("tcColor","#336cfb"),J(1),ee("iconClass",t?"icofont-toggle-on":"icofont-toggle-off")("tcFontSize",35)("padding",0)}}function RLe(e,n){if(1&e&&(se(0,"span",11),Be(1),le()),2&e){const t=n.$implicit;ee("tcColor","#a5a5a5"),J(1),Bt(t)}}function NLe(e,n){if(1&e&&(se(0,"span",11),Be(1),le()),2&e){const t=n.$implicit;ee("tcColor","#a5a5a5"),J(1),Bt(t)}}function FLe(e,n){if(1&e){const t=Ft();se(0,"div",12)(1,"button",13),He("click",function(){const o=Xe(t).row;return Ze(ue().edit(o))}),le(),se(2,"button",13),He("click",function(){const o=Xe(t).row;return Ze(ue().remove(o))}),le()()}2&e&&(J(1),ee("afterIcon","icofont-ui-edit")("view","info")("square",!0)("tcShape",500)("size","sm"),J(1),ee("afterIcon","icofont-ui-delete")("view","error")("square",!0)("tcShape",500)("size","sm"))}function BLe(e,n){if(1&e&&(se(0,"tc-alert",26),Be(1),le()),2&e){const t=ue(2);ee("removable",!0)("view",t.status),J(1),In(" ",t.texttoshow," ")}}function VLe(e,n){if(1&e&&(se(0,"form",14)(1,"tc-form-group"),Fe(2,"tc-select",15),le(),se(3,"tc-form-group"),Fe(4,"tc-select",16),le(),se(5,"tc-form-group"),Fe(6,"tc-select",17),le(),se(7,"tc-form-group"),Fe(8,"tc-input",18),le(),se(9,"tc-form-group"),Fe(10,"tc-select",19),le(),se(11,"tc-form-group")(12,"div",20)(13,"label",21),Be(14,"Start Time:"),le(),Fe(15,"input",22),se(16,"label",23),Be(17,"End Time:"),le(),Fe(18,"input",24),le()()(),ge(19,BLe,2,3,"tc-alert",25)),2&e){const t=ue();ee("formGroup",t.appointmentForm),J(2),ee("placeholder","Select Vehicle Type")("options",t.car_type),J(2),ee("placeholder","Disable person")("options",t.disable_person),J(2),ee("placeholder","Shade")("options",t.shade),J(2),ee("placeholder","price"),J(2),ee("placeholder","visible")("options",t.visible),J(9),ee("ngIf",""!=t.status)}}function HLe(e,n){if(1&e){const t=Ft();se(0,"div",27)(1,"button",28),He("click",function(){return Xe(t),Ze(ue().closeModal())}),Be(2,"Cancel"),le(),se(3,"button",29),He("click",function(){Xe(t);const r=ue();return Ze(r.add(r.appointmentForm))}),Be(4," Add Slote "),le()()}if(2&e){const t=ue();J(1),ee("type","button")("view","error"),J(2),ee("view","info")("disabled",t.appointmentForm.invalid)}}class uk extends pm{constructor(n,t,i,r){super(n,t),this.modal=i,this.formBuilder=r,this.type="",this.status="",this.texttoshow="",this.isStartTimeGreaterThanEndTime=!1,this.pageData={title:"Parking Slote List",breadcrumbs:[{title:"Admin",route:"default-dashboard"},{title:"Slote List"}]},this.appointments=[],this.doctors=[],this.defaultAvatar="assets/content/anonymous-400.jpg",this.currentAvatar=this.defaultAvatar}ngOnInit(){super.ngOnInit(),this.getData("assets/data/shade.json","shade"),this.getData("assets/data/active_inactive.json","disable_person"),this.getData("assets/data/active_inactive.json","visible"),this.getData("assets/data/vehicle_type.json","car_type"),this.getData("http://localhost:3000/api/create_slote","appointments","setLoaded"),this.getData("assets/data/doctors.json","doctors"),this.date=null,this.dateRange=[],this.size="default",this.dateMode="time"}ngOnDestroy(){super.ngOnDestroy()}openModal(n,t=null,i=null,r=null){this.type="add",this.initForm(r),this.status="",this.texttoshow="",this.modal.open({body:n,header:t,footer:i})}closeModal(){this.modal.close(),this.appointmentForm.reset()}initForm(n){this.appointmentForm=this.formBuilder.group({slote_id:[n?n.slote_id:0,mo.required],car_type:[n?n.car_type:"",mo.required],disable_person:[n?n.disable_person:"",mo.required],shade:[n?n.shade:"",mo.required],price:[n?n.price:"",mo.required],visible:[n?n.visible:"",mo.required],start_time:[n?n.start_time:"",mo.required],end_time:[n?n.end_time:"",mo.required],slot_count:[n?n.slot_count:0,mo.required]})}onFileChanged(n){let t=n.target.files[0],i=new FileReader;i.onloadend=()=>{this.currentAvatar=i.result},i.readAsDataURL(t)}edit(n){this.type="edit",this.openModal(this.modalBody,"Add Slote",this.modalFooter,n)}remove(n){this.type="remove",this.httpSv.DeleteData({slote_id:n.slote_id},"create_slote").subscribe(i=>{this.appointments=this.appointments.filter(r=>r!==n)},i=>{console.log(i),this.status="warning",this.texttoshow=i.message},()=>{})}checkTime(n,t){const i=new Date,r=new Date,[o,l]=n.split(":"),[h,f]=t.split(":");return i.setHours(Number(o),Number(l)),r.setHours(Number(h),Number(f)),i>r}calculateSlots(n,t){const i=new Date,r=new Date,[o,l]=n.split(":"),[h,f]=t.split(":");i.setHours(Number(o),Number(l),0),r.setHours(Number(h),Number(f),0);const _=r.getTime()-i.getTime();return Math.floor(_/36e5)}add(n){this.status="",this.texttoshow="";let t=n.value;return this.checkTime(t.start_time,t.end_time)?(this.status="warning",this.texttoshow="Start time cannot be greater than End Time",!1):this.calculateSlots(t.start_time,t.end_time)<1?(this.status="warning",this.texttoshow="U are enterd wrong time lest need 1 hr duration",!1):(t.slot_count=this.calculateSlots(t.start_time,t.end_time),void(n.valid&&"add"==this.type?this.httpSv.postdata(t,"create_slote").subscribe(i=>{this.status="success",this.texttoshow=i.message,t.slote_id=i.data.insertId,this.appointments.unshift(t);let r=JSON.parse(JSON.stringify(this.appointments));this.appointments=r,this.closeModal()},i=>{console.log(i),this.status="warning",this.texttoshow=i.message},()=>{}):n.valid&&"edit"==this.type&&this.httpSv.putData(t,"create_slote").subscribe(i=>{this.status="success",this.texttoshow=i.message,this.appointments.unshift(t);let r=JSON.parse(JSON.stringify(this.appointments));this.appointments=r,this.closeModal()},i=>{console.log(i),this.status="warning",this.texttoshow=i.message},()=>{})))}}uk.\u0275fac=function(n){return new(n||uk)(de(Mc),de(Dc),de(Dg),de(zv))},uk.\u0275cmp=ut({type:uk,selectors:[["page-appointments"]],viewQuery:function(n,t){if(1&n&&(mi(PLe,7),mi(ALe,7)),2&n){let i;an(i=cn())&&(t.modalBody=i.first),an(i=cn())&&(t.modalFooter=i.first)}},features:[Zn],decls:36,vars:32,consts:[[1,"mb-0"],[3,"rows","hovered","pagination"],[3,"columnTitle","columnName","enableSorting"],["tableTDTemplate",""],[3,"columnTitle","columnName"],[1,"add-action-box"],["tc-button","",3,"afterIcon","view","square","tcShape","click"],["modalBody",""],["modalFooter",""],[1,"d-flex","align-items-center","nowrap",3,"tcColor"],[1,"me-1",3,"iconClass","tcFontSize","padding"],[1,"nowrap",3,"tcColor"],[1,"actions"],["tc-button","",3,"afterIcon","view","square","tcShape","size","click"],["novalidate","",3,"formGroup"],["formControlName","car_type",3,"placeholder","options"],["formControlName","disable_person",3,"placeholder","options"],["formControlName","shade",3,"placeholder","options"],["formControlName","price",3,"placeholder"],["formControlName","visible",3,"placeholder","options"],[1,"timepicker-container"],["for","timepicker"],["id","timepicker","formControlName","start_time","type","time",1,"input-timepicker"],["for","timepicker ml-2"],["id","timepicker","formControlName","end_time","type","time",1,"input-timepicker"],["class","mb-4",3,"removable","view",4,"ngIf"],[1,"mb-4",3,"removable","view"],[1,"actions","justify-content-between"],["tc-button","",3,"type","view","click"],["tc-button","",3,"view","disabled","click"]],template:function(n,t){if(1&n){const i=Ft();se(0,"tc-card",0)(1,"tc-table",1)(2,"tc-table-col",2),ge(3,zLe,2,1,"ng-template",null,3,xn),le(),se(5,"tc-table-col",2),ge(6,kLe,2,1,"ng-template",null,3,xn),le(),se(8,"tc-table-col",2),ge(9,OLe,2,4,"ng-template",null,3,xn),le(),se(11,"tc-table-col",2),ge(12,ELe,2,2,"ng-template",null,3,xn),le(),se(14,"tc-table-col",2),ge(15,ILe,2,2,"ng-template",null,3,xn),le(),se(17,"tc-table-col",4),ge(18,LLe,2,4,"ng-template",null,3,xn),le(),se(20,"tc-table-col",2),ge(21,RLe,2,2,"ng-template",null,3,xn),le(),se(23,"tc-table-col",2),ge(24,NLe,2,2,"ng-template",null,3,xn),le(),se(26,"tc-table-col",4),ge(27,FLe,3,10,"ng-template",null,3,xn),le()()(),se(29,"div",5)(30,"button",6),He("click",function(){Xe(i);const o=fn(33),l=fn(35);return Ze(t.openModal(o,"Add Slote",l))}),le()(),wt(31),ge(32,VLe,20,11,"ng-template",null,7,xn),ge(34,HLe,5,4,"ng-template",null,8,xn),Dt()}2&n&&(J(1),ee("rows",t.appointments)("hovered",!0)("pagination",!0),J(1),ee("columnTitle","Slote No")("columnName","slote_id")("enableSorting",!0),J(3),ee("columnTitle","Vehicle type")("columnName","car_type")("enableSorting",!0),J(3),ee("columnTitle"," Disable person")("columnName"," disable_person")("enableSorting",!0),J(3),ee("columnTitle","Shade")("columnName","shade")("enableSorting",!0),J(3),ee("columnTitle","Price")("columnName","price")("enableSorting",!0),J(3),ee("columnTitle","visible")("columnName","visible"),J(3),ee("columnTitle","Start time")("columnName","start_time")("enableSorting",!0),J(3),ee("columnTitle","End time")("columnName","end_time")("enableSorting",!0),J(3),ee("columnTitle","Actions")("columnName","actions"),J(4),ee("afterIcon","icofont-ui-add")("view","accent")("square",!0)("tcShape",500))},dependencies:[hn,T4,Pv,vl,S4,fm,Av,Hu,D4,P4,Lh,Ev,y6,Ow,wd,Pg,A4,Ov,O4],styles:["[_ngcontent-%COMP%]:root{--main-color: main-palette(500);--main-bg: #fff;--boxed-width: 1140px}[_nghost-%COMP%]   .add-action-box[_ngcontent-%COMP%]{bottom:5.7142857143rem;position:fixed;right:1.4285714286rem;z-index:9997}[_nghost-%COMP%]   .add-action-box[_ngcontent-%COMP%]   .tc-btn[_ngcontent-%COMP%]{font-size:30px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;margin:-.1785714286rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .tc-btn[_ngcontent-%COMP%]{margin:.1785714286rem}.timepicker-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.input-timepicker[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;padding:8px;font-size:14px;width:200px}@media (max-width: 768px){.input-timepicker[_ngcontent-%COMP%]{width:100%}}"]});const YLe=new pt("cdk-dir-doc",{providedIn:"root",factory:function ULe(){return bn(ki)}}),GLe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function age(e){const n=e?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?GLe.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}let ma=(()=>{class e{constructor(t){this.value="ltr",this.change=new et,t&&(this.value=age((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ve(YLe,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WLe=(()=>{class e{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new et}get dir(){return this._dir}set dir(t){const i=this._dir;this._dir=age(t),this._rawDir=t,i!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,i){2&t&&oi("dir",i._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[Ln([{provide:ma,useExisting:e}])]}),e})(),_l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();const jLe=["addListener","removeListener"],$Le=["addEventListener","removeEventListener"],XLe=["on","off"];function as(e,n,t,i){if(Fn(t)&&(i=t,t=void 0),i)return as(e,n,t).pipe(r7(i));const[r,o]=function KLe(e){return Fn(e.addEventListener)&&Fn(e.removeEventListener)}(e)?$Le.map(l=>h=>e[l](n,h,t)):function qLe(e){return Fn(e.addListener)&&Fn(e.removeListener)}(e)?jLe.map(sge(e,n)):function ZLe(e){return Fn(e.on)&&Fn(e.off)}(e)?XLe.map(sge(e,n)):[];if(!r&&rh(e))return Cr(l=>as(l,n,t))(Fo(e));if(!r)throw new TypeError("Invalid event target");return new Wn(l=>{const h=(...f)=>l.next(1<f.length?f:f[0]);return r(h),()=>o(h)})}function sge(e,n){return t=>i=>e[t](n,i)}const hk={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=hk;i&&(n=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=n(o=>{t=void 0,e(o)});return new Ci(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:n}=hk;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=hk;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},lge=new class JLe extends cH{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw r}}}(class QLe extends lH{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=hk.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,t,i);n.actions.some(r=>r.id===t)||(hk.cancelAnimationFrame(t),n._scheduled=void 0)}});let one,eRe=1;const KY={};function cge(e){return e in KY&&(delete KY[e],!0)}const tRe={setImmediate(e){const n=eRe++;return KY[n]=!0,one||(one=Promise.resolve()),one.then(()=>cge(n)&&e()),n},clearImmediate(e){cge(e)}},{setImmediate:nRe,clearImmediate:iRe}=tRe,QY={setImmediate(...e){const{delegate:n}=QY;return(n?.setImmediate||nRe)(...e)},clearImmediate(e){const{delegate:n}=QY;return(n?.clearImmediate||iRe)(e)},delegate:void 0},aRe=new class oRe extends cH{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw r}}}(class rRe extends lH{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=QY.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,t,i);n.actions.some(r=>r.id===t)||(QY.clearImmediate(t),n._scheduled=void 0)}});function uge(e){return!!e&&(e instanceof Wn||Fn(e.lift)&&Fn(e.subscribe))}const JY=new cH(lH),hge=JY;function eU(e=0,n,t=hge){let i=-1;return null!=n&&(s5(n)?t=n:i=n),new Wn(r=>{let o=function lRe(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ew(e,n=hge){return function sRe(e){return Gt((n,t)=>{let i=!1,r=null,o=null,l=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const m=r;r=null,t.next(m)}l&&t.complete()},f=()=>{o=null,l&&t.complete()};n.subscribe(new rt(t,m=>{i=!0,r=m,o||Fo(e(m)).subscribe(o=new rt(t,h,f))},()=>{l=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>eU(e,n))}function st(e){return Gt((n,t)=>{Fo(e).subscribe(new rt(t,()=>t.complete(),oc)),!t.closed&&n.subscribe(t)})}class Ws extends nt{constructor(n=1/0,t=1/0,i=FJ){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;t||(i.push(n),!r&&i.push(o.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!n.closed;l+=i?1:2)n.next(o[l]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const l=t.now();let h=0;for(let f=1;f<i.length&&i[f]<=l;f+=2)h=f;h&&i.splice(0,h+1)}}}let ane;try{ane=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ane=!1}let dk,tU,x6,sne,Pc=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?q_(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ane)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(Ve(kf))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();function fk(e){return function hRe(){if(null==dk&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dk=!0}))}finally{dk=dk||!1}return dk}()?e:!!e.capture}function fge(){if(null==x6){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return x6=!1,x6;if("scrollBehavior"in document.documentElement.style)x6=!0;else{const e=Element.prototype.scrollTo;x6=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return x6}function pk(){if("object"!=typeof document||!document)return 0;if(null==tU){const e=document.createElement("div"),n=e.style;e.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",e.appendChild(t),document.body.appendChild(e),tU=0,0===e.scrollLeft&&(e.scrollLeft=1,tU=0===e.scrollLeft?1:2),e.remove()}return tU}function lne(e){if(function dRe(){if(null==sne){const e=typeof document<"u"?document.head:null;sne=!(!e||!e.createShadowRoot&&!e.attachShadow)}return sne}()){const n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Ag(e){return e.composedPath?e.composedPath()[0]:e.target}function pge(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class fRe{}class gRe extends fRe{constructor(n){super(),this._data=n}connect(){return uge(this._data)?this._data:Cn(this._data)}disconnect(){}}class mRe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(n,t,i,r,o){n.forEachOperation((l,h,f)=>{let m,_;null==l.previousIndex?(m=this._insertView(()=>i(l,h,f),f,t,r(l)),_=m?1:0):null==f?(this._detachAndCacheView(h,t),_=3):(m=this._moveView(h,f,t,r(l)),_=2),o&&o({context:m?.context,operation:_,record:l})})}detach(){for(const n of this._viewCache)n.destroy();this._viewCache=[]}_insertView(n,t,i,r){const o=this._insertViewFromCache(t,i);if(o)return void(o.context.$implicit=r);const l=n();return i.createEmbeddedView(l.templateRef,l.context,l.index)}_detachAndCacheView(n,t){const i=t.detach(n);this._maybeCacheView(i,t)}_moveView(n,t,i,r){const o=i.get(n);return i.move(o,t),o.context.$implicit=r,o}_maybeCacheView(n,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(n);else{const i=t.indexOf(n);-1===i?n.destroy():t.remove(i)}}_insertViewFromCache(n,t){const i=this._viewCache.pop();return i&&t.insert(i,n),i||null}}const gge=new pt("_ViewRepeater"),vRe=["contentWrapper"],_Re=["*"],mge=new pt("VIRTUAL_SCROLL_STRATEGY");class yRe{constructor(n,t,i){this._scrolledIndexChange=new nt,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Ih()),this._viewport=null,this._itemSize=n,this._minBufferPx=t,this._maxBufferPx=i}attach(n){this._viewport=n,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(n,t,i){this._itemSize=n,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(n,t){this._viewport&&this._viewport.scrollToOffset(n*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const n=this._viewport.getRenderedRange(),t={start:n.start,end:n.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),l=this._itemSize>0?o/this._itemSize:0;if(t.end>r){const f=Math.ceil(i/this._itemSize),m=Math.max(0,Math.min(l,r-f));l!=m&&(l=m,o=m*this._itemSize,t.start=Math.floor(l)),t.end=Math.max(0,Math.min(r,t.start+f))}const h=o-t.start*this._itemSize;if(h<this._minBufferPx&&0!=t.start){const f=Math.ceil((this._maxBufferPx-h)/this._itemSize);t.start=Math.max(0,t.start-f),t.end=Math.min(r,Math.ceil(l+(i+this._minBufferPx)/this._itemSize))}else{const f=t.end*this._itemSize-(o+i);if(f<this._minBufferPx&&t.end!=r){const m=Math.ceil((this._maxBufferPx-f)/this._itemSize);m>0&&(t.end=Math.min(r,t.end+m),t.start=Math.max(0,Math.floor(l-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(l))}}function xRe(e){return e._scrollStrategy}let vge=(()=>{class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new yRe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=sw(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=sw(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=sw(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[Ln([{provide:mge,useFactory:xRe,deps:[Yi(()=>e)]}]),Le]}),e})(),gk=(()=>{class e{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new nt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Wn(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Ew(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Cn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(kr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ml(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>as(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(Ve(en),Ve(Pc),Ve(ki,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_ge=(()=>{class e{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new nt,this._elementScrolled=new Wn(l=>this.ngZone.runOutsideAngular(()=>as(this.elementRef.nativeElement,"scroll").pipe(st(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=pk()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==pk()?t.left=t.right:1==pk()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;fge()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==pk()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==pk()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(gk),de(en),de(ma,8))},e.\u0275dir=St({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),e})(),nU=(()=>{class e{constructor(t,i,r){this._platform=t,this._change=new nt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ew(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(Ve(Pc),Ve(en),Ve(ki,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const yge=new pt("VIRTUAL_SCROLLABLE");let wRe=(()=>{class e extends _ge{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(gk),de(en),de(ma,8))},e.\u0275dir=St({type:e,features:[Zn]}),e})();const TRe=typeof requestAnimationFrame<"u"?lge:aRe;let b6=(()=>{class e extends wRe{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Bu(t)}constructor(t,i,r,o,l,h,f,m){super(t,h,r,l),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=m,this._platform=bn(Pc),this._detachedSubject=new nt,this._renderedRangeSubject=new nt,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Wn(_=>this._scrollStrategy.scrolledIndexChange.subscribe(b=>Promise.resolve().then(()=>this.ngZone.run(()=>_.next(b))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ci.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(So(null),Ew(0,TRe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(st(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function SRe(e,n){return e.start==n.start&&e.end==n.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,l=o?"X":"Y";let f=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(f+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",l="rtl"==this.dir?.value;i="start"==t?l?o:r:"end"==t?l?r:o:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(pr),de(en),de(mge,8),de(ma,8),de(gk),de(nU),de(yge,8))},e.\u0275cmp=ut({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&mi(vRe,7),2&t){let r;an(r=cn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&Ht("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ln([{provide:_ge,useFactory:(n,t)=>n||t,deps:[[new M1,new gf(yge)],e]}]),Zn,bD],ngContentSelectors:_Re,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(fr(),se(0,"div",0,1),Ki(2),le(),Fe(3,"div",2)),2&t&&(J(3),yn("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),e})();function xge(e,n,t){if(!t.getBoundingClientRect)return 0;const r=t.getBoundingClientRect();return"horizontal"===e?"start"===n?r.left:r.right:"start"===n?r.top:r.bottom}let bge=(()=>{class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function pRe(e){return e&&"function"==typeof e.connect&&!(e instanceof a7)}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new gRe(uge(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,r)=>t(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=sw(t)}constructor(t,i,r,o,l,h){this._viewContainerRef=t,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=l,this.viewChange=new nt,this._dataSourceChanges=new nt,this.dataStream=this._dataSourceChanges.pipe(So(null),function cRe(){return Gt((e,n)=>{let t,i=!1;e.subscribe(new rt(n,r=>{const o=t;t=r,i&&n.next([o,r]),i=!0}))})}(),so(([f,m])=>this._changeDataSource(f,m)),function uRe(e,n,t){var i,r;let o,l=!1;return e&&"object"==typeof e?(o=null!==(i=e.bufferSize)&&void 0!==i?i:1/0,n=null!==(r=e.windowTime)&&void 0!==r?r:1/0,l=!!e.refCount,t=e.scheduler):o=e??1/0,a1({connector:()=>new Ws(o,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new nt,this.dataStream.subscribe(f=>{this._data=f,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(st(this._destroyed)).subscribe(f=>{this._renderedRange=f,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,i){if(t.start>=t.end)return 0;const r=t.start-this._renderedRange.start,o=t.end-t.start;let l,h;for(let f=0;f<o;f++){const m=this._viewContainerRef.get(f+r);if(m&&m.rootNodes.length){l=h=m.rootNodes[0];break}}for(let f=o-1;f>-1;f--){const m=this._viewContainerRef.get(f+r);if(m&&m.rootNodes.length){h=m.rootNodes[m.rootNodes.length-1];break}}return l&&h?xge(i,"end",h)-xge(i,"start",l):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Cn()}_updateContext(){const t=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=t,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,l,h)=>this._getEmbeddedViewArgs(o,h),o=>o.item),t.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return e.\u0275fac=function(t){return new(t||e)(de(Pi),de(Yo),de(U_),de(gge),de(b6,4),de(en))},e.\u0275dir=St({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[Ln([{provide:gge,useClass:mRe}])]}),e})(),cne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})(),iU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,cne,b6,_l,cne]}),e})();class une{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class hne extends une{constructor(n,t,i,r,o){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class rU extends une{constructor(n,t,i,r){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class MRe extends une{constructor(n){super(),this.element=n instanceof Vt?n.nativeElement:n}}class Cge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof hne?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof rU?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof MRe?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wge extends Cge{constructor(n,t,i,r,o){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,f=this._document.createComment("dom-portal");h.parentNode.insertBefore(f,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(h,f)})},this._document=o}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||xs.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let t=n.viewContainerRef,i=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let DRe=(()=>{class e extends Cge{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new et,this.attachDomPortal=o=>{const l=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),l.parentNode.insertBefore(h,l),this._getRootNode().appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return e.\u0275fac=function(t){return new(t||e)(de(io),de(Pi),de(ki))},e.\u0275dir=St({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Zn]}),e})(),Sge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();function Tge(e,...n){return n.length?n.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}const Mge=fge();class BRe{constructor(n,t){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Gs(-this._previousScrollPosition.left),n.style.top=Gs(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),Mge&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Mge&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class VRe{constructor(n,t,i,r){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Dge{enable(){}disable(){}attach(){}}function dne(e,n){return n.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function Pge(e,n){return n.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class HRe{constructor(n,t,i,r){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dne(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YRe=(()=>{class e{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Dge,this.close=l=>new VRe(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new BRe(this._viewportRuler,this._document),this.reposition=l=>new HRe(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return e.\u0275fac=function(t){return new(t||e)(Ve(gk),Ve(nU),Ve(en),Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Age{constructor(n){if(this.scrollStrategy=new Dge,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const t=Object.keys(n);for(const i of t)void 0!==n[i]&&(this[i]=n[i])}}}class va{constructor(n,t,i,r,o){this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=n.originX,this.originY=n.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class URe{constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let zge=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),GRe=(()=>{class e extends zge{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const h=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki),Ve(en,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WRe=(()=>{class e extends zge{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ag(o)},this._clickListener=o=>{const l=Ag(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const _=f[m];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(l)||_.overlayElement.contains(h))break;const b=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(o)):b.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki),Ve(Pc),Ve(en,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kge=(()=>{class e{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||pge()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),pge()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki),Ve(Pc))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class jRe{constructor(n,t,i,r,o,l,h,f,m,_=!1){this._portalOutlet=n,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=h,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new nt,this._attachments=new nt,this._detachments=new nt,this._locationChanges=Ci.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new nt,this._outsidePointerEvents=new nt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Gs(this._config.width),n.height=Gs(this._config.height),n.minWidth=Gs(this._config.minWidth),n.minHeight=Gs(this._config.minHeight),n.maxWidth=Gs(this._config.maxWidth),n.maxHeight=Gs(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,t,i){const r=Uz(t||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(st(Qr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Oge="cdk-overlay-connected-position-bounding-box",$Re=/([A-Za-z%]+)$/;class XRe{get positions(){return this._preferredPositions}constructor(n,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nt,this._resizeSubscription=Ci.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(Oge),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let h of this._preferredPositions){let f=this._getOriginPoint(n,r,h),m=this._getOverlayPoint(f,t,h),_=this._getOverlayFit(m,t,i,h);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,f);this._canFitWithFlexibleDimensions(_,m,i)?o.push({position:h,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,h)}):(!l||l.overlayFit.visibleArea<_.visibleArea)&&(l={overlayFit:_,overlayPoint:m,originPoint:f,position:h,overlayRect:t})}if(o.length){let h=null,f=-1;for(const m of o){const _=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);_>f&&(f=_,h=m)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&C6(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Oge),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,t)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t,i){let r,o;if("center"==i.originX)r=n.left+n.width/2;else{const l=this._isRtl()?n.right:n.left,h=this._isRtl()?n.left:n.right;r="start"==i.originX?l:h}return t.left<0&&(r-=t.left),o="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(n,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,t,i,r){const o=Ige(t);let{x:l,y:h}=n,f=this._getOffset(r,"x"),m=this._getOffset(r,"y");f&&(l+=f),m&&(h+=m);let S=0-h,M=h+o.height-i.height,O=this._subtractOverflows(o.width,0-l,l+o.width-i.width),I=this._subtractOverflows(o.height,S,M),N=O*I;return{visibleArea:N,isCompletelyWithinViewport:o.width*o.height===N,fitsInViewportVertically:I===o.height,fitsInViewportHorizontally:O==o.width}}_canFitWithFlexibleDimensions(n,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,l=Ege(this._overlayRef.getConfig().minHeight),h=Ege(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=l&&l<=r)&&(n.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(n,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=Ige(t),o=this._viewportRect,l=Math.max(n.x+r.width-o.width,0),h=Math.max(n.y+r.height-o.height,0),f=Math.max(o.top-i.top-n.y,0),m=Math.max(o.left-i.left-n.x,0);let _=0,b=0;return _=r.width<=o.width?m||-l:n.x<this._viewportMargin?o.left-i.left-n.x:0,b=r.height<=o.height?f||-h:n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:_,y:b},{x:n.x+_,y:n.y+b}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new URe(n,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,t){const i=this._viewportRect,r=this._isRtl();let o,l,h,_,b,S;if("top"===t.overlayY)l=n.y,o=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-n.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const M=Math.min(i.bottom-n.y+i.top,n.y),O=this._lastBoundingBoxSize.height;o=2*M,l=n.y-M,o>O&&!this._isInitialRender&&!this._growAfterOpen&&(l=n.y-O/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)S=i.width-n.x+this._viewportMargin,_=n.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)b=n.x,_=i.right-n.x;else{const M=Math.min(i.right-n.x+i.left,n.x),O=this._lastBoundingBoxSize.width;_=2*M,b=n.x-M,_>O&&!this._isInitialRender&&!this._growAfterOpen&&(b=n.x-O/2)}return{top:l,left:b,bottom:h,right:S,width:_,height:o}}_setBoundingBoxStyles(n,t){const i=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Gs(i.height),r.top=Gs(i.top),r.bottom=Gs(i.bottom),r.width=Gs(i.width),r.left=Gs(i.left),r.right=Gs(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Gs(o)),l&&(r.maxWidth=Gs(l))}this._lastBoundingBoxSize=i,C6(this._boundingBox.style,r)}_resetBoundingBoxStyles(){C6(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){C6(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();C6(i,this._getExactOverlayY(t,n,_)),C6(i,this._getExactOverlayX(t,n,_))}else i.position="static";let h="",f=this._getOffset(t,"x"),m=this._getOffset(t,"y");f&&(h+=`translateX(${f}px) `),m&&(h+=`translateY(${m}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=Gs(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Gs(l.maxWidth):o&&(i.maxWidth="")),C6(this._pane.style,i)}_getExactOverlayY(n,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Gs(o.y),r}_getExactOverlayX(n,t,i){let l,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Gs(o.x),r}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Pge(n,i),isOriginOutsideView:dne(n,i),isOverlayClipped:Pge(t,i),isOverlayOutsideView:dne(t,i)}}_subtractOverflows(n,...t){return t.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Uz(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Vt)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+t,height:i,width:t}}}function C6(e,n){for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Ege(e){if("number"!=typeof e&&null!=e){const[n,t]=e.split($Re);return t&&"px"!==t?null:parseFloat(n)}return e||null}function Ige(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const Lge="cdk-global-overlay-wrapper";class qRe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(Lge),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:h}=i,f=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),m=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),_=this._xPosition,b=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let M="",O="",I="";f?I="flex-start":"center"===_?(I="center",S?O=b:M=b):S?"left"===_||"end"===_?(I="flex-end",M=b):("right"===_||"start"===_)&&(I="flex-start",O=b):"left"===_||"start"===_?(I="flex-start",M=b):("right"===_||"end"===_)&&(I="flex-end",O=b),n.position=this._cssPosition,n.marginLeft=f?"0":M,n.marginTop=m?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=f?"0":O,t.justifyContent=I,t.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Lge),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let ZRe=(()=>{class e{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qRe}flexibleConnectedTo(t){return new XRe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(Ve(nU),Ve(ki),Ve(Pc),Ve(kge))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),KRe=0,oU=(()=>{class e{constructor(t,i,r,o,l,h,f,m,_,b,S,M){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=h,this._ngZone=f,this._document=m,this._directionality=_,this._location=b,this._outsideClickDispatcher=S,this._animationsModuleType=M}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new Age(t);return l.direction=l.direction||this._directionality.value,new jRe(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+KRe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(If)),new wge(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(Ve(YRe),Ve(kge),Ve(io),Ve(ZRe),Ve(GRe),Ve(xs),Ve(en),Ve(ki),Ve(ma),Ve(zC),Ve(WRe),Ve(V_,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const QRe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Rge=new pt("cdk-connected-overlay-scroll-strategy");let w6=(()=>{class e{constructor(t){this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(de(Vt))},e.\u0275dir=St({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),e})(),Lw=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Bu(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Bu(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Bu(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Bu(t)}get push(){return this._push}set push(t){this._push=Bu(t)}constructor(t,i,r,o,l){this._overlay=t,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ci.EMPTY,this._attachSubscription=Ci.EMPTY,this._detachSubscription=Ci.EMPTY,this._positionSubscription=Ci.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new et,this.positionChange=new et,this.attach=new et,this.detach=new et,this.overlayKeydown=new et,this.overlayOutsideClick=new et,this._templatePortal=new rU(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=QRe);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Tge(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Age({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof w6?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(l7(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(de(oU),de(Yo),de(Pi),de(Rge),de(ma,8))},e.\u0275dir=St({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Le]}),e})();const eNe={provide:Rge,deps:[oU],useFactory:function JRe(e){return()=>e.scrollStrategies.reposition()}};let S6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[oU,eNe],imports:[_l,Sge,iU,iU]}),e})();function Ac(e,n){(function tNe(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var t=function nNe(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===n?e:Math.min(n,Math.max(0,parseFloat(e))),t&&(e=parseInt(String(e*n),10)/100),Math.abs(e-n)<1e-6?1:e=360===n?(e<0?e%n+n:e%n)/parseFloat(String(n)):e%n/parseFloat(String(n))}function aU(e){return Math.min(1,Math.max(0,e))}function Nge(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function sU(e){return e<=1?"".concat(100*Number(e),"%"):e}function T6(e){return 1===e.length?"0"+e:String(e)}function Fge(e,n,t){e=Ac(e,255),n=Ac(n,255),t=Ac(t,255);var i=Math.max(e,n,t),r=Math.min(e,n,t),o=0,l=0,h=(i+r)/2;if(i===r)l=0,o=0;else{var f=i-r;switch(l=h>.5?f/(2-i-r):f/(i+r),i){case e:o=(n-t)/f+(n<t?6:0);break;case n:o=(t-e)/f+2;break;case t:o=(e-n)/f+4}o/=6}return{h:o,s:l,l:h}}function fne(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*t*(n-e):t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}function pne(e,n,t){e=Ac(e,255),n=Ac(n,255),t=Ac(t,255);var i=Math.max(e,n,t),r=Math.min(e,n,t),o=0,l=i,h=i-r,f=0===i?0:h/i;if(i===r)o=0;else{switch(i){case e:o=(n-t)/h+(n<t?6:0);break;case n:o=(t-e)/h+2;break;case t:o=(e-n)/h+4}o/=6}return{h:o,s:f,v:l}}function gne(e,n,t,i){var r=[T6(Math.round(e).toString(16)),T6(Math.round(n).toString(16)),T6(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Bge(e){return Math.round(255*parseFloat(e)).toString(16)}function Vge(e){return Sd(e)/255}function Sd(e){return parseInt(e,16)}var mne={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Rw(e){var n={r:0,g:0,b:0},t=1,i=null,r=null,o=null,l=!1,h=!1;return"string"==typeof e&&(e=function uNe(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var n=!1;if(mne[e])e=mne[e],n=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var t=zg.rgb.exec(e);return t?{r:t[1],g:t[2],b:t[3]}:(t=zg.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=zg.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=zg.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=zg.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=zg.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=zg.hex8.exec(e))?{r:Sd(t[1]),g:Sd(t[2]),b:Sd(t[3]),a:Vge(t[4]),format:n?"name":"hex8"}:(t=zg.hex6.exec(e))?{r:Sd(t[1]),g:Sd(t[2]),b:Sd(t[3]),format:n?"name":"hex"}:(t=zg.hex4.exec(e))?{r:Sd(t[1]+t[1]),g:Sd(t[2]+t[2]),b:Sd(t[3]+t[3]),a:Vge(t[4]+t[4]),format:n?"name":"hex8"}:!!(t=zg.hex3.exec(e))&&{r:Sd(t[1]+t[1]),g:Sd(t[2]+t[2]),b:Sd(t[3]+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(Iv(e.r)&&Iv(e.g)&&Iv(e.b)?(n=function iNe(e,n,t){return{r:255*Ac(e,255),g:255*Ac(n,255),b:255*Ac(t,255)}}(e.r,e.g,e.b),l=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):Iv(e.h)&&Iv(e.s)&&Iv(e.v)?(i=sU(e.s),r=sU(e.v),n=function oNe(e,n,t){e=6*Ac(e,360),n=Ac(n,100),t=Ac(t,100);var i=Math.floor(e),r=e-i,o=t*(1-n),l=t*(1-r*n),h=t*(1-(1-r)*n),f=i%6;return{r:255*[t,l,o,o,h,t][f],g:255*[h,t,t,l,o,o][f],b:255*[o,o,h,t,t,l][f]}}(e.h,i,r),l=!0,h="hsv"):Iv(e.h)&&Iv(e.s)&&Iv(e.l)&&(i=sU(e.s),o=sU(e.l),n=function rNe(e,n,t){var i,r,o;if(e=Ac(e,360),n=Ac(n,100),t=Ac(t,100),0===n)r=t,o=t,i=t;else{var l=t<.5?t*(1+n):t+n-t*n,h=2*t-l;i=fne(h,l,e+1/3),r=fne(h,l,e),o=fne(h,l,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,i,o),l=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(t=e.a)),t=Nge(t),{ok:l,format:e.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:t}}var I4="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),vne="[\\s|\\(]+(".concat(I4,")[,|\\s]+(").concat(I4,")[,|\\s]+(").concat(I4,")\\s*\\)?"),_ne="[\\s|\\(]+(".concat(I4,")[,|\\s]+(").concat(I4,")[,|\\s]+(").concat(I4,")[,|\\s]+(").concat(I4,")\\s*\\)?"),zg={CSS_UNIT:new RegExp(I4),rgb:new RegExp("rgb"+vne),rgba:new RegExp("rgba"+_ne),hsl:new RegExp("hsl"+vne),hsla:new RegExp("hsla"+_ne),hsv:new RegExp("hsv"+vne),hsva:new RegExp("hsva"+_ne),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Iv(e){return Boolean(zg.CSS_UNIT.exec(String(e)))}var L4=function(){function e(n,t){var i;if(void 0===n&&(n=""),void 0===t&&(t={}),n instanceof e)return n;"number"==typeof n&&(n=function sNe(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(n)),this.originalInput=n;var r=Rw(n);this.originalInput=n,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=t.format)&&void 0!==i?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var n=this.toRgb();return(299*n.r+587*n.g+114*n.b)/1e3},e.prototype.getLuminance=function(){var n=this.toRgb(),o=n.r/255,l=n.g/255,h=n.b/255;return.2126*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.7152*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.0722*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(n){return this.a=Nge(n),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var n=pne(this.r,this.g,this.b);return{h:360*n.h,s:n.s,v:n.v,a:this.a}},e.prototype.toHsvString=function(){var n=pne(this.r,this.g,this.b),t=Math.round(360*n.h),i=Math.round(100*n.s),r=Math.round(100*n.v);return 1===this.a?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var n=Fge(this.r,this.g,this.b);return{h:360*n.h,s:n.s,l:n.l,a:this.a}},e.prototype.toHslString=function(){var n=Fge(this.r,this.g,this.b),t=Math.round(360*n.h),i=Math.round(100*n.s),r=Math.round(100*n.l);return 1===this.a?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(n){return void 0===n&&(n=!1),gne(this.r,this.g,this.b,n)},e.prototype.toHexString=function(n){return void 0===n&&(n=!1),"#"+this.toHex(n)},e.prototype.toHex8=function(n){return void 0===n&&(n=!1),function aNe(e,n,t,i,r){var o=[T6(Math.round(e).toString(16)),T6(Math.round(n).toString(16)),T6(Math.round(t).toString(16)),T6(Bge(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,n)},e.prototype.toHex8String=function(n){return void 0===n&&(n=!1),"#"+this.toHex8(n)},e.prototype.toHexShortString=function(n){return void 0===n&&(n=!1),1===this.a?this.toHexString(n):this.toHex8String(n)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var n=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(n,", ").concat(t,", ").concat(i,")"):"rgba(".concat(n,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var n=function(t){return"".concat(Math.round(100*Ac(t,255)),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var n=function(t){return Math.round(100*Ac(t,255))};return 1===this.a?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var n="#"+gne(this.r,this.g,this.b,!1),t=0,i=Object.entries(mne);t<i.length;t++){var r=i[t];if(n===r[1])return r[0]}return!1},e.prototype.toString=function(n){var t=Boolean(n);n=n??this.format;var i=!1;return!t&&this.a<1&&this.a>=0&&(n.startsWith("hex")||"name"===n)?"name"===n&&0===this.a?this.toName():this.toRgbString():("rgb"===n&&(i=this.toRgbString()),"prgb"===n&&(i=this.toPercentageRgbString()),("hex"===n||"hex6"===n)&&(i=this.toHexString()),"hex3"===n&&(i=this.toHexString(!0)),"hex4"===n&&(i=this.toHex8String(!0)),"hex8"===n&&(i=this.toHex8String()),"name"===n&&(i=this.toName()),"hsl"===n&&(i=this.toHslString()),"hsv"===n&&(i=this.toHsvString()),i||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.l+=n/100,t.l=aU(t.l),new e(t)},e.prototype.brighten=function(n){void 0===n&&(n=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-n/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-n/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-n/100*255))),new e(t)},e.prototype.darken=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.l-=n/100,t.l=aU(t.l),new e(t)},e.prototype.tint=function(n){return void 0===n&&(n=10),this.mix("white",n)},e.prototype.shade=function(n){return void 0===n&&(n=10),this.mix("black",n)},e.prototype.desaturate=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.s-=n/100,t.s=aU(t.s),new e(t)},e.prototype.saturate=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.s+=n/100,t.s=aU(t.s),new e(t)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(n){var t=this.toHsl(),i=(t.h+n)%360;return t.h=i<0?360+i:i,new e(t)},e.prototype.mix=function(n,t){void 0===t&&(t=50);var i=this.toRgb(),r=new e(n).toRgb(),o=t/100;return new e({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},e.prototype.analogous=function(n,t){void 0===n&&(n=6),void 0===t&&(t=30);var i=this.toHsl(),r=360/t,o=[this];for(i.h=(i.h-(r*n>>1)+720)%360;--n;)i.h=(i.h+r)%360,o.push(new e(i));return o},e.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new e(n)},e.prototype.monochromatic=function(n){void 0===n&&(n=6);for(var t=this.toHsv(),i=t.h,r=t.s,o=t.v,l=[],h=1/n;n--;)l.push(new e({h:i,s:r,v:o})),o=(o+h)%1;return l},e.prototype.splitcomplement=function(){var n=this.toHsl(),t=n.h;return[this,new e({h:(t+72)%360,s:n.s,l:n.l}),new e({h:(t+216)%360,s:n.s,l:n.l})]},e.prototype.onBackground=function(n){var t=this.toRgb(),i=new e(n).toRgb(),r=t.a+i.a*(1-t.a);return new e({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(n){for(var t=this.toHsl(),i=t.h,r=[this],o=360/n,l=1;l<n;l++)r.push(new e({h:(i+l*o)%360,s:t.s,l:t.l}));return r},e.prototype.equals=function(n){return this.toRgbString()===new e(n).toRgbString()},e}();const mNe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Gge({r:e,g:n,b:t}){const i=pne(e,n,t);return{h:360*i.h,s:i.s,v:i.v}}function cU({r:e,g:n,b:t}){return`#${gne(e,n,t,!1)}`}function Wge(e,n,t){let i;return i=Math.round(e.h)>=60&&Math.round(e.h)<=240?t?Math.round(e.h)-2*n:Math.round(e.h)+2*n:t?Math.round(e.h)+2*n:Math.round(e.h)-2*n,i<0?i+=360:i>=360&&(i-=360),i}function jge(e,n,t){if(0===e.h&&0===e.s)return e.s;let i;return i=t?e.s-.16*n:4===n?e.s+.16:e.s+.05*n,i>1&&(i=1),t&&5===n&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function $ge(e,n,t){let i;return i=t?e.v+.05*n:e.v-.15*n,i>1&&(i=1),Number(i.toFixed(2))}function Xge(e,n={}){const t=[],i=Rw(e);for(let r=5;r>0;r-=1){const o=Gge(i),l=cU(Rw({h:Wge(o,r,!0),s:jge(o,r,!0),v:$ge(o,r,!0)}));t.push(l)}t.push(cU(i));for(let r=1;r<=4;r+=1){const o=Gge(i),l=cU(Rw({h:Wge(o,r),s:jge(o,r),v:$ge(o,r)}));t.push(l)}return"dark"===n.theme?mNe.map(({index:r,opacity:o})=>cU(function vNe(e,n,t){const i=t/100;return{r:(n.r-e.r)*i+e.r,g:(n.g-e.g)*i+e.g,b:(n.b-e.b)*i+e.b}}(Rw(n.backgroundColor||"#141414"),Rw(t[r]),100*o))):t}const _Ne=new pt("nz-config"),yNe=`-ant-${Date.now()}-${Math.random()}`;function qge(e,n){const t=function xNe(e,n){const t={},i=(l,h)=>{let f=l.clone();return f=h?.(f)||f,f.toRgbString()},r=(l,h)=>{const f=new L4(l),m=Xge(f.toRgbString());t[`${h}-color`]=i(f),t[`${h}-color-disabled`]=m[1],t[`${h}-color-hover`]=m[4],t[`${h}-color-active`]=m[7],t[`${h}-color-outline`]=f.clone().setAlpha(.2).toRgbString(),t[`${h}-color-deprecated-bg`]=m[1],t[`${h}-color-deprecated-border`]=m[3]};if(n.primaryColor){r(n.primaryColor,"primary");const l=new L4(n.primaryColor),h=Xge(l.toRgbString());h.forEach((m,_)=>{t[`primary-${_+1}`]=m}),t["primary-color-deprecated-l-35"]=i(l,m=>m.lighten(35)),t["primary-color-deprecated-l-20"]=i(l,m=>m.lighten(20)),t["primary-color-deprecated-t-20"]=i(l,m=>m.tint(20)),t["primary-color-deprecated-t-50"]=i(l,m=>m.tint(50)),t["primary-color-deprecated-f-12"]=i(l,m=>m.setAlpha(.12*m.getAlpha()));const f=new L4(h[0]);t["primary-color-active-deprecated-f-30"]=i(f,m=>m.setAlpha(.3*m.getAlpha())),t["primary-color-active-deprecated-d-02"]=i(f,m=>m.darken(2))}return n.successColor&&r(n.successColor,"success"),n.warningColor&&r(n.warningColor,"warning"),n.errorColor&&r(n.errorColor,"error"),n.infoColor&&r(n.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(l=>`--${e}-${l}: ${t[l]};`).join("\n")}\n  }\n  `.trim()}(e,n);Afe()&&function rke(e,n,t={}){const i=Ite(t);if(!Lte.has(i)){const l=kfe("",t),{parentNode:h}=l;Lte.set(i,h),h.removeChild(l)}const r=function Ofe(e,n={}){const t=Ite(n);return Array.from(Lte.get(t)?.children||[]).find(i=>"STYLE"===i.tagName&&i.getAttribute(zfe(n))===e)}(n,t);if(r)return t.csp?.nonce&&r.nonce!==t.csp?.nonce&&(r.nonce=t.csp?.nonce),r.innerHTML!==e&&(r.innerHTML=e),r;const o=kfe(e,t);o?.setAttribute(zfe(t),n)}(t,`${yNe}-dynamic-theme`)}const Zge=function(e){return void 0!==e};let gm=(()=>{class e{constructor(t){this.configUpdated$=new nt,this.config=t||{},this.config.theme&&qge(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(kr(i=>i===t),mg(void 0))}set(t,i){this.config[t]={...this.config[t],...i},"theme"===t&&this.config.theme&&qge(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(_Ne,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ss(){return function(n,t,i){const r=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(n,r,{configurable:!0,writable:!0,enumerable:!1}),{get(){const o=i?.get?i.get.bind(this)():this[r],l=(this.propertyAssignCounter?.[t]||0)>1,h=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return l&&Zge(o)?o:Zge(h)?h:o},set(o){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,i?.set?i.set.bind(this)(o):this[r]=o},configurable:!0,enumerable:!0}}}var SNe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function t1e(e,n,t){var i;return(i=Math.round(e.h)>=60&&Math.round(e.h)<=240?t?Math.round(e.h)-2*n:Math.round(e.h)+2*n:t?Math.round(e.h)+2*n:Math.round(e.h)-2*n)<0?i+=360:i>=360&&(i-=360),i}function n1e(e,n,t){return 0===e.h&&0===e.s?e.s:((i=t?e.s-.16*n:4===n?e.s+.16:e.s+.05*n)>1&&(i=1),t&&5===n&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function i1e(e,n,t){var i;return(i=t?e.v+.05*n:e.v-.15*n)>1&&(i=1),Number(i.toFixed(2))}function yne(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],i=new L4(e),r=5;r>0;r-=1){var o=i.toHsv(),l=new L4({h:t1e(o,r,!0),s:n1e(o,r,!0),v:i1e(o,r,!0)}).toHexString();t.push(l)}t.push(i.toHexString());for(var h=1;h<=4;h+=1){var f=i.toHsv(),m=new L4({h:t1e(f,h),s:n1e(f,h),v:i1e(f,h)}).toHexString();t.push(m)}return"dark"===n.theme?SNe.map(function(_){var b=_.index,S=_.opacity;return new L4(n.backgroundColor||"#141414").mix(t[b],100*S).toHexString()}):t}var xne={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Xc={},bne={};Object.keys(xne).forEach(function(e){Xc[e]=yne(xne[e]),Xc[e].primary=Xc[e][5],bne[e]=yne(xne[e],{theme:"dark",backgroundColor:"#141414"}),bne[e].primary=bne[e][5]});const Lv="[@ant-design/icons-angular]:";function o1e(e){return yne(e)[0]}function hU(e,n){switch(n){case"fill":return`${e}-fill`;case"outline":return`${e}-o`;case"twotone":return`${e}-twotone`;case void 0:return e;default:throw new Error(`${Lv}Theme "${n}" is not a recognized theme!`)}}function a1e(e){return"object"==typeof e&&"string"==typeof e.name&&("string"==typeof e.theme||void 0===e.theme)&&"string"==typeof e.icon}function dU(e){const n=e.split(":");switch(n.length){case 1:return[e,""];case 2:return[n[1],n[0]];default:throw new Error(`${Lv}The icon type ${e} is not valid!`)}}function s1e(e){return new Error(`${Lv}the icon ${e} does not exist or is not registered.`)}function RNe(){return new Error(`${Lv}<svg> tag not found.`)}const BNe=new pt("ant_icons");let l1e=(()=>{class e{constructor(t,i,r,o,l){this._rendererFactory=t,this._handler=i,this._document=r,this.sanitizer=o,this._antIcons=l,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new nt,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new q7(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:t,secondaryColor:i}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=i||o1e(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading||(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(i=>{this._svgDefinitions.set(hU(i.name,i.theme),i)})}addIconLiteral(t,i){const[r,o]=dU(t);if(!o)throw function ENe(){return new Error(`${Lv}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:i})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,i){const r=a1e(t)?t:this._svgDefinitions.get(t)||null;if(!r&&this._disableDynamicLoading)throw s1e(t);return(r?Cn(r):this._loadIconDynamically(t)).pipe(Je(l=>{if(!l)throw s1e(t);return this._loadSVGFromCacheOrCreateNew(l,i)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return Cn(function INe(){return function TNe(e){console.error(`${Lv} ${e}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let i=this._inProgressFetches.get(t);if(!i){const[r,o]=dU(t),l=o?{name:t,icon:""}:function ANe(e){const n=e.split("-"),t=function DNe(e){return"o"===e?"outline":e}(n.splice(n.length-1,1)[0]);return{name:n.join("-"),theme:t,icon:""}}(r),f=(o?`${this._assetsUrlRoot}assets/${o}/${r}`:`${this._assetsUrlRoot}assets/${l.theme}/${l.name}`)+(this._enableJsonpLoading?".js":".svg"),m=this.sanitizer.sanitize(no.URL,f);if(!m)throw function LNe(e){return new Error(`${Lv}The url "${e}" is unsafe.`)}(f);i=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(l,m):this._http.get(m,{responseType:"text"}).pipe(Je(b=>({...l,icon:b})))).pipe(Io(b=>this.addIcon(b)),Ua(()=>this._inProgressFetches.delete(t)),ea(()=>Cn(null)),a1()),this._inProgressFetches.set(t,i)}return i}_loadIconDynamicallyWithJsonp(t,i){return new Wn(r=>{const o=this._document.createElement("script"),l=setTimeout(()=>{h(),r.error(function NNe(){return new Error(`${Lv}Importing timeout error.`)}())},6e3);function h(){o.parentNode.removeChild(o),clearTimeout(l)}o.src=i,this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(kr(f=>f.name===t.name&&f.theme===t.theme),wr(1)).subscribe(f=>{r.next(f),h()})})}_loadSVGFromCacheOrCreateNew(t,i){let r;const o=i||this._twoToneColorPalette.primaryColor,l=o1e(o)||this._twoToneColorPalette.secondaryColor,h="twotone"===t.theme?function MNe(e,n,t,i){return`${hU(e,n)}-${t}-${i}`}(t.name,t.theme,o,l):void 0===t.theme?t.name:hU(t.name,t.theme),f=this._svgRenderedDefinitions.get(h);return f?r=f.icon:(r=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function ONe(e){return""!==dU(e)[1]}(t.name)?t.icon:function kNe(e){return e.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,o,l)),this._svgRenderedDefinitions.set(h,{...t,icon:r})),function zNe(e){return e.cloneNode(!0)}(r)}_createSVGElementFromString(t){const i=this._document.createElement("div");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw RNe;return r}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,i,r,o){if(i){const l=t.childNodes,h=l.length;for(let f=0;f<h;f++){const m=l[f];"secondaryColor"===m.getAttribute("fill")?this._renderer.setAttribute(m,"fill",o):this._renderer.setAttribute(m,"fill",r)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return e.\u0275fac=function(t){return new(t||e)(Ve(Kp),Ve(Sv,8),Ve(ki,8),Ve(D8),Ve(BNe,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),HNe=(()=>{class e{constructor(t,i,r){this._iconService=t,this._elementRef=i,this._renderer=r}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type)return this._clearSVGElement(),void t(null);const i=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(r=>{const o=this._getSelfRenderMeta();!function VNe(e,n){return e.type===n.type&&e.theme===n.theme&&e.twoToneColor===n.twoToneColor}(i,o)?t(null):(this._setSVGElement(r),t(r))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,i){if(a1e(t))return t;{const[r,o]=dU(t);return o?t:function PNe(e){return e.endsWith("-fill")||e.endsWith("-o")||e.endsWith("-twotone")}(r)?r:hU(r,i||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){const t=this._elementRef.nativeElement,i=t.childNodes;for(let o=i.length-1;o>=0;o--){const l=i[o];"svg"===l.tagName?.toLowerCase()&&this._renderer.removeChild(t,l)}}}return e.\u0275fac=function(t){return new(t||e)(de(l1e),de(Vt),de(_r))},e.\u0275dir=St({type:e,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Le]}),e})();const c1e={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},AFe=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},c1e,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},c1e,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],u1e=new pt("nz_icons");new pt("nz_icon_default_twotone_color");let d1e=(()=>{class e extends l1e{constructor(t,i,r,o,l,h,f){super(t,l,h,i,[...AFe,...f||[]]),this.nzConfigService=r,this.platform=o,this.configUpdated$=new nt,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:i}=t;if(this._document&&!this.iconfontCache.has(i)){const r=this._renderer.createElement("script");this._renderer.setAttribute(r,"src",i),this._renderer.setAttribute(r,"data-namespace",i.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,r),this.iconfontCache.add(i)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const i=this.getConfig().nzTwotoneColor||"#1890ff";let r="#1890ff";i&&i.startsWith("#")&&(r=i),this.twoToneColor={primaryColor:r}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return e.\u0275fac=function(t){return new(t||e)(Ve(Kp),Ve(D8),Ve(gm),Ve(Pc),Ve(Sv,8),Ve(ki,8),Ve(u1e,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const f1e=new pt("nz_icons_patch");let p1e=(()=>{class e{constructor(t,i){this.extraIcons=t,this.rootIconService=i,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return e.\u0275fac=function(t){return new(t||e)(Ve(f1e,2),Ve(d1e))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),$f=(()=>{class e extends HNe{constructor(t,i,r,o,l,h){super(o,r,l),this.ngZone=t,this.changeDetectorRef=i,this.iconService=o,this.renderer=l,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new nt,h&&h.doPatch(),this.el=r.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:i,nzTwotoneColor:r,nzSpin:o,nzTheme:l,nzRotate:h}=t;i||r||o||l?this.changeIcon2():h?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let i=t.length;if(!this.type&&t.length)for(;i--;){const r=t[i];"svg"===r.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(r)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{xo(this._changeIcon()).pipe(st(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:rw})})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(pr),de(Vt),de(d1e),de(_r),de(p1e,8))},e.\u0275dir=St({type:e,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,i){2&t&&Ht("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[Zn,Le]}),zt([tn()],e.prototype,"nzSpin",null),e})(),mm=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:u1e,useValue:t}]}}static forChild(t){return{ngModule:e,providers:[p1e,{provide:f1e,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[E4]}),e})(),Xf=(()=>{class e{constructor(t,i){this.elementRef=t,this.renderer=i,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(_r))},e.\u0275dir=St({type:e,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[Le]}),e})(),Cne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[E4]}),e})();class zFe{constructor(n,t,i,r){this.triggerElement=n,this.ngZone=t,this.insertExtraNode=i,this.platformId=r,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=o=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===o.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Pc(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const n=this.triggerElement,t=this.getWaveColor(n);n.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",n.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{n.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(n){return!!n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&this.isNotGrey(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&"transparent"!==n}isNotGrey(n){const t=n.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(n){const t=getComputedStyle(n);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(n,t){this.ngZone.runOutsideAngular(()=>setTimeout(n,t))}}const kFe={disabled:!1},OFe=new pt("nz-wave-global-options",{providedIn:"root",factory:function EFe(){return kFe}});let wne=(()=>{class e{constructor(t,i,r,o,l){this.ngZone=t,this.elementRef=i,this.config=r,this.animationType=o,this.platformId=l,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new zFe(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(Vt),de(OFe,8),de(V_,8),de(kf))},e.\u0275dir=St({type:e,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),e})(),g1e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[E4]}),e})();const IFe=["nz-button",""];function LFe(e,n){1&e&&Fe(0,"span",1)}const RFe=["*"];let Sne=(()=>{class e{constructor(t,i,r,o,l,h){this.ngZone=t,this.elementRef=i,this.cdr=r,this.renderer=o,this.nzConfigService=l,this.directionality=h,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new nt,this.loading$=new nt,this.nzConfigService.getConfigChangeEventForComponent("button").pipe(st(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,i){t.forEach(r=>{if("#text"===r.nodeName){const o=i.createElement("span"),l=i.parentNode(r);i.insertBefore(l,o,r),i.appendChild(o,r)}})}assertIconOnly(t,i){const r=Array.from(t.childNodes),o=r.filter(m=>{const _=Array.from(m.childNodes||[]);return"SPAN"===m.nodeName&&_.length>0&&_.every(b=>"svg"===b.nodeName)}).length,l=r.every(m=>"#text"!==m.nodeName);r.filter(m=>{const _=Array.from(m.childNodes||[]);return!("SPAN"===m.nodeName&&_.length>0&&_.every(b=>"svg"===b.nodeName))}).every(m=>"SPAN"!==m.nodeName)&&l&&o>=1&&i.addClass(t,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{as(this.elementRef.nativeElement,"click",{capture:!0}).pipe(st(this.destroy$)).subscribe(t=>{(this.disabled&&"A"===t.target?.tagName||this.nzLoading)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){const{nzLoading:i}=t;i&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(So(this.nzLoading),kr(()=>!!this.nzIconDirectiveElement),st(this.destroy$)).subscribe(t=>{const i=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(i,"display","none"):this.renderer.removeStyle(i,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(Vt),de(pr),de(_r),de(gm),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,i,r){if(1&t&&Uo(r,$f,5,Vt),2&t){let o;an(o=cn())&&(i.nzIconDirectiveElement=o.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(t,i){2&t&&(oi("tabindex",i.disabled?-1:null===i.tabIndex?null:i.tabIndex)("disabled",i.disabled||null),Ht("ant-btn-primary","primary"===i.nzType)("ant-btn-dashed","dashed"===i.nzType)("ant-btn-link","link"===i.nzType)("ant-btn-text","text"===i.nzType)("ant-btn-circle","circle"===i.nzShape)("ant-btn-round","round"===i.nzShape)("ant-btn-lg","large"===i.nzSize)("ant-btn-sm","small"===i.nzSize)("ant-btn-dangerous",i.nzDanger)("ant-btn-loading",i.nzLoading)("ant-btn-background-ghost",i.nzGhost)("ant-btn-block",i.nzBlock)("ant-input-search-button",i.nzSearch)("ant-btn-rtl","rtl"===i.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[Le],attrs:IFe,ngContentSelectors:RFe,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,i){1&t&&(fr(),ge(0,LFe,1,0,"span",0),Ki(1)),2&t&&ee("ngIf",i.nzLoading)},dependencies:[hn,$f,Xf],encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzBlock",void 0),zt([tn()],e.prototype,"nzGhost",void 0),zt([tn()],e.prototype,"nzSearch",void 0),zt([tn()],e.prototype,"nzLoading",void 0),zt([tn()],e.prototype,"nzDanger",void 0),zt([tn()],e.prototype,"disabled",void 0),zt([ss()],e.prototype,"nzSize",void 0),e})(),vk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,g1e,mm,Cne,Cne,g1e]}),e})();function NFe(e,n){1&e&&Fe(0,"span",1),2&e&&ee("nzType",ue().iconType)}let fU=(()=>{class e{constructor(){this.formStatusChanges=new Ws(1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),v1e=(()=>{class e{constructor(){this.noFormStatus=new wn(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const FFe={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let _1e=(()=>{class e{constructor(t){this.cdr=t,this.status="",this.iconType=null}ngOnChanges(t){this.updateIcon()}updateIcon(){this.iconType=this.status?FFe[this.status]:null,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(de(pr))},e.\u0275cmp=ut({type:e,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(t,i){2&t&&Ht("ant-form-item-feedback-icon-error","error"===i.status)("ant-form-item-feedback-icon-warning","warning"===i.status)("ant-form-item-feedback-icon-success","success"===i.status)("ant-form-item-feedback-icon-validating","validating"===i.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[Le],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(t,i){1&t&&ge(0,NFe,1,1,"span",0),2&t&&ee("ngIf",i.iconType)},dependencies:[hn,$f],encapsulation:2,changeDetection:0}),e})(),Tne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[ao,mm]}),e})();const y1e="nz-animate-disabled";let Rv=(()=>{class e{constructor(t,i,r){this.element=t,this.renderer=i,this.animationType=r,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=ml(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,y1e):this.renderer.removeClass(t,y1e))}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(_r),de(V_,8))},e.\u0275dir=St({type:e,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[Le]}),zt([tn()],e.prototype,"nzNoAnimation",void 0),e})(),Nw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[ao]}),e})(),R4=(()=>{class e{constructor(t,i){this.viewContainer=t,this.templateRef=i,this.embeddedViewRef=null,this.context=new BFe,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,i){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof Yo;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const i=this.nzStringTemplateOutlet instanceof Yo?this.nzStringTemplateOutletContext:this.context,r=this.embeddedViewRef.context;if(i)for(const o of Object.keys(i))r[o]=i[o]}ngOnChanges(t){const{nzStringTemplateOutletContext:i,nzStringTemplateOutlet:r}=t;r&&(this.context.$implicit=r.currentValue),(()=>{let h=!1;return r&&(h=!!r.firstChange||(r.previousValue instanceof Yo||r.currentValue instanceof Yo)),i&&(_=>{const b=Object.keys(_.previousValue||{}),S=Object.keys(_.currentValue||{});if(b.length===S.length){for(const M of S)if(-1===b.indexOf(M))return!0;return!1}return!0})(i)||h})()?this.recreateView():this.updateContext()}}return e.\u0275fac=function(t){return new(t||e)(de(Pi),de(Yo))},e.\u0275dir=St({type:e,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[Le]}),e})();class BFe{}let kg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[ao]}),e})();function Mne(e){return kr((n,t)=>e<=t)}function pU(e,n=JY){return Gt((t,i)=>{let r=null,o=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const m=o;o=null,i.next(m)}};function f(){const m=l+e,_=n.now();if(_<m)return r=this.schedule(void 0,m-_),void i.add(r);h()}t.subscribe(new rt(i,m=>{o=m,l=n.now(),r||(r=n.schedule(f,e),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}const x1e=new Set;let Fw,b1e=(()=>{class e{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HFe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function VFe(e){if(!x1e.has(e))try{Fw||(Fw=document.createElement("style"),Fw.setAttribute("type","text/css"),document.head.appendChild(Fw)),Fw.sheet&&(Fw.sheet.insertRule(`@media ${e} {body{ }}`,0),x1e.add(e))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return e.\u0275fac=function(t){return new(t||e)(Ve(Pc))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function HFe(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let YFe=(()=>{class e{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new nt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return C1e(Uz(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Go(C1e(Uz(t)).map(l=>this._registerQuery(l).observable));return o=sv(o.pipe(wr(1)),o.pipe(Mne(1),pU(0))),o.pipe(Je(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:m})=>{h.matches=h.matches||f,h.breakpoints[m]=f}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Wn(l=>{const h=f=>this._zone.run(()=>l.next(f));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(So(i),Je(({matches:l})=>({query:t,matches:l})),st(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return e.\u0275fac=function(t){return new(t||e)(Ve(b1e),Ve(en))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function C1e(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}const Dne=()=>{};let w1e=(()=>{class e{constructor(t,i){this.ngZone=t,this.rendererFactory2=i,this.resizeSource$=new nt,this.listeners=0,this.disposeHandle=Dne,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Dne}subscribe(){return this.registerListener(),this.resizeSource$.pipe(Ew(16),Ua(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=Dne)}}return e.\u0275fac=function(t){return new(t||e)(Ve(en),Ve(Kp))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _k=(()=>{return(e=_k||(_k={})).xxl="xxl",e.xl="xl",e.lg="lg",e.md="md",e.sm="sm",e.xs="xs",_k;var e})();const S1e={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let UFe=(()=>{class e{constructor(t,i){this.resizeService=t,this.mediaMatcher=i,this.destroy$=new nt,this.resizeService.subscribe().pipe(st(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(t,i){if(i){const r=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe(Je(r),So(r()),Ih((o,l)=>o[0]===l[0]),Je(o=>o[1]))}{const r=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe(Je(r),So(r()),Ih())}}matchMedia(t,i){let r=_k.md;const o={};return Object.keys(t).map(l=>{const h=l,f=this.mediaMatcher.matchMedia(S1e[h]).matches;o[l]=f,f&&(r=h)}),i?[r,o]:r}}return e.\u0275fac=function(t){return new(t||e)(Ve(w1e),Ve(b1e))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qf=(()=>{class e extends nt{ngOnDestroy(){this.next(),this.complete()}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const Hr={top:new va({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new va({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new va({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new va({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new va({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new va({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new va({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new va({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new va({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new va({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new va({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new va({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new va({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})};function Pne(e){for(const n in Hr)if(e.connectionPair.originX===Hr[n].originX&&e.connectionPair.originY===Hr[n].originY&&e.connectionPair.overlayX===Hr[n].overlayX&&e.connectionPair.overlayY===Hr[n].overlayY)return n}new va({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new va({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new va({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});const yk={bottomLeft:new va({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new va({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new va({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},T1e=[yk.bottomLeft,yk.topLeft,yk.bottomRight,yk.topRight];let M1e=(()=>{class e{constructor(t,i){this.cdkConnectedOverlay=t,this.nzDestroyService=i,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(st(this.nzDestroyService)).subscribe(r=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(r)})}updateArrowPosition(t){const i=this.getOriginRect(),r=Pne(t);let o=0,l=0;"topLeft"===r||"bottomLeft"===r?o=i.width/2-14:"topRight"===r||"bottomRight"===r?o=-(i.width/2-14):"leftTop"===r||"rightTop"===r?l=i.height/2-10:("leftBottom"===r||"rightBottom"===r)&&(l=-(i.height/2-10)),(this.cdkConnectedOverlay.offsetX!==o||this.cdkConnectedOverlay.offsetY!==l)&&(this.cdkConnectedOverlay.offsetY=l,this.cdkConnectedOverlay.offsetX=o,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof w6?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){const t=this.getFlexibleConnectedPositionStrategyOrigin();if(t instanceof Vt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const i=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+i,height:r,width:i}}}return e.\u0275fac=function(t){return new(t||e)(de(Lw),de(qf))},e.\u0275dir=St({type:e,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[Ln([qf])]}),zt([tn()],e.prototype,"nzArrowPointAtCenter",void 0),e})(),Bw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();const D1e=["moz","ms","webkit"];function P1e(e){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(e);const n=D1e.filter(t=>`${t}CancelAnimationFrame`in window||`${t}CancelRequestAnimationFrame`in window)[0];return n?(window[`${n}CancelAnimationFrame`]||window[`${n}CancelRequestAnimationFrame`]).call(this,e):clearTimeout(e)}const Ane=function WFe(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const e=D1e.filter(n=>`${n}RequestAnimationFrame`in window)[0];return e?window[`${e}RequestAnimationFrame`]:function GFe(){let e=0;return function(n){const t=(new Date).getTime(),i=Math.max(0,16-(t-e)),r=setTimeout(()=>{n(t+i)},i);return e=t+i,r}}()}(),jFe=["hourListElement"],$Fe=["minuteListElement"],XFe=["secondListElement"],qFe=["use12HoursListElement"];function ZFe(e,n){if(1&e&&(se(0,"div",4)(1,"div",5),Be(2),le()()),2&e){const t=ue();J(2),Bt(t.dateHelper.format(null==t.time?null:t.time.value,t.format)||"\xa0")}}function KFe(e,n){if(1&e){const t=Ft();se(0,"li",10),He("click",function(){Xe(t);const r=ue().$implicit;return Ze(ue(2).selectHour(r))}),se(1,"div",11),Be(2),Lu(3,"number"),le()()}if(2&e){const t=ue().$implicit;Ht("ant-picker-time-panel-cell-selected",ue(2).isSelectedHour(t))("ant-picker-time-panel-cell-disabled",t.disabled),J(2),Bt(jy(3,5,t.index,"2.0-0"))}}function QFe(e,n){if(1&e&&(wt(0),ge(1,KFe,4,8,"li",9),Dt()),2&e){const t=n.$implicit,i=ue(2);J(1),ee("ngIf",!(i.nzHideDisabledOptions&&t.disabled))}}function JFe(e,n){if(1&e&&(se(0,"ul",6,7),ge(2,QFe,2,1,"ng-container",8),le()),2&e){const t=ue();J(2),ee("ngForOf",t.hourRange)("ngForTrackBy",t.trackByFn)}}function eBe(e,n){if(1&e){const t=Ft();se(0,"li",10),He("click",function(){Xe(t);const r=ue().$implicit;return Ze(ue(2).selectMinute(r))}),se(1,"div",11),Be(2),Lu(3,"number"),le()()}if(2&e){const t=ue().$implicit;Ht("ant-picker-time-panel-cell-selected",ue(2).isSelectedMinute(t))("ant-picker-time-panel-cell-disabled",t.disabled),J(2),Bt(jy(3,5,t.index,"2.0-0"))}}function tBe(e,n){if(1&e&&(wt(0),ge(1,eBe,4,8,"li",9),Dt()),2&e){const t=n.$implicit,i=ue(2);J(1),ee("ngIf",!(i.nzHideDisabledOptions&&t.disabled))}}function nBe(e,n){if(1&e&&(se(0,"ul",6,12),ge(2,tBe,2,1,"ng-container",8),le()),2&e){const t=ue();J(2),ee("ngForOf",t.minuteRange)("ngForTrackBy",t.trackByFn)}}function iBe(e,n){if(1&e){const t=Ft();se(0,"li",10),He("click",function(){Xe(t);const r=ue().$implicit;return Ze(ue(2).selectSecond(r))}),se(1,"div",11),Be(2),Lu(3,"number"),le()()}if(2&e){const t=ue().$implicit;Ht("ant-picker-time-panel-cell-selected",ue(2).isSelectedSecond(t))("ant-picker-time-panel-cell-disabled",t.disabled),J(2),Bt(jy(3,5,t.index,"2.0-0"))}}function rBe(e,n){if(1&e&&(wt(0),ge(1,iBe,4,8,"li",9),Dt()),2&e){const t=n.$implicit,i=ue(2);J(1),ee("ngIf",!(i.nzHideDisabledOptions&&t.disabled))}}function oBe(e,n){if(1&e&&(se(0,"ul",6,13),ge(2,rBe,2,1,"ng-container",8),le()),2&e){const t=ue();J(2),ee("ngForOf",t.secondRange)("ngForTrackBy",t.trackByFn)}}function aBe(e,n){if(1&e){const t=Ft();se(0,"li",10),He("click",function(){Xe(t);const r=ue().$implicit;return Ze(ue(2).select12Hours(r))}),se(1,"div",11),Be(2),le()()}if(2&e){const t=ue().$implicit;Ht("ant-picker-time-panel-cell-selected",ue(2).isSelected12Hours(t)),J(2),Bt(t.value)}}function sBe(e,n){if(1&e&&(wt(0),ge(1,aBe,3,3,"li",16),Dt()),2&e){const t=ue(2);J(1),ee("ngIf",!t.nzHideDisabledOptions)}}function lBe(e,n){if(1&e&&(se(0,"ul",6,14),ge(2,sBe,2,1,"ng-container",15),le()),2&e){const t=ue();J(2),ee("ngForOf",t.use12HoursRange)}}function cBe(e,n){}function uBe(e,n){if(1&e&&(se(0,"div",24),ge(1,cBe,0,0,"ng-template",25),le()),2&e){const t=ue(2);J(1),ee("ngTemplateOutlet",t.nzAddOn)}}function hBe(e,n){if(1&e){const t=Ft();se(0,"div",17),ge(1,uBe,2,1,"div",18),se(2,"ul",19)(3,"li",20)(4,"a",21),He("click",function(){return Xe(t),Ze(ue().onClickNow())}),Be(5),Lu(6,"nzI18n"),le()(),se(7,"li",22)(8,"button",23),He("click",function(){return Xe(t),Ze(ue().onClickOk())}),Be(9),Lu(10,"nzI18n"),le()()()()}if(2&e){const t=ue();J(1),ee("ngIf",t.nzAddOn),J(4),In(" ",t.nzNowText||sg(6,3,"Calendar.lang.now")," "),J(4),In(" ",t.nzOkText||sg(10,5,"Calendar.lang.ok")," ")}}class dBe{constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new nt}setMinutes(n,t){return t||(this.initValue(),this.value.setMinutes(n),this.update()),this}setHours(n,t){return t||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==n?n+12:"AM"===this.selected12Hours&&12===n?0:n:n),this.update()),this}setSeconds(n,t){return t||(this.initValue(),this.value.setSeconds(n),this.update()),this}setUse12Hours(n){return this._use12Hours=n,this}get changes(){return this._changes.asObservable()}setValue(n,t){return Lo(t)&&(this._use12Hours=t),n!==this.value&&(this._value=n,Lo(this.value)?this._use12Hours&&Lo(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){Mte(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(Lo(this.hours)||Lo(this.minutes)||Lo(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(Lo(this.hours)&&this.value.setHours(this.hours),Lo(this.minutes)&&this.value.setMinutes(this.minutes),Lo(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&Lo(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(n){n.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=n.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(n){return this._defaultOpenValue=n,this}calculateViewHour(n){const t=this.selected12Hours;return"PM"===t&&n>12?n-12:"AM"===t&&0===n?12:n}}function zne(e,n=1,t=0){return new Array(Math.ceil(e/n)).fill(0).map((i,r)=>(r+t)*n)}let fBe=(()=>{class e{constructor(t,i,r,o){this.ngZone=t,this.cdr=i,this.dateHelper=r,this.elementRef=o,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new nt,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new dBe,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new et}set nzAllowEmpty(t){Lo(t)&&(this._allowEmpty=t)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(t){this._disabledHours=t,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(t){Lo(t)&&(this._disabledMinutes=t,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(t){Lo(t)&&(this._disabledSeconds=t,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(t){if(Lo(t)){this._format=t,this.enabledColumns=0;const i=new Set(t);this.hourEnabled=i.has("H")||i.has("h"),this.minuteEnabled=i.has("m"),this.secondEnabled=i.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(t){Lo(t)&&(this._nzHourStep=t,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(t){Lo(t)&&(this._nzMinuteStep=t,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(t){Lo(t)&&(this._nzSecondStep=t,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(t){return t}buildHours(){let t=24,i=this.nzDisabledHours?.(),r=0;if(this.nzUse12Hours&&(t=12,i&&(i="PM"===this.time.selected12Hours?i.filter(o=>o>=12).map(o=>o>12?o-12:o):i.filter(o=>o<12||24===o).map(o=>24===o||0===o?12:o)),r=1),this.hourRange=zne(t,this.nzHourStep,r).map(o=>({index:o,disabled:!!i&&-1!==i.indexOf(o)})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){const o=[...this.hourRange];o.unshift(o[o.length-1]),o.splice(o.length-1,1),this.hourRange=o}}buildMinutes(){this.minuteRange=zne(60,this.nzMinuteStep).map(t=>({index:t,disabled:!!this.nzDisabledMinutes&&-1!==this.nzDisabledMinutes(this.time.hours).indexOf(t)}))}buildSeconds(){this.secondRange=zne(60,this.nzSecondStep).map(t=>({index:t,disabled:!!this.nzDisabledSeconds&&-1!==this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(t)}))}build12Hours(){const t=this._format.includes("A");this.use12HoursRange=[{index:0,value:t?"AM":"am"},{index:1,value:t?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(t=0){this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,t,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,t,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,t,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,t,"12-hour")}selectHour(t){this.time.setHours(t.index,t.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(t){this.time.setMinutes(t.index,t.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(t){this.time.setSeconds(t.index,t.disabled)}select12Hours(t){this.time.setSelected12Hours(t.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(t,i,r=0,o){if(!t)return;const l=this.translateIndex(i,o);this.scrollTo(t,(t.children[l]||t.children[0]).offsetTop,r)}translateIndex(t,i){return"hour"===i?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(r=>r.index).indexOf(t)):"minute"===i?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(r=>r.index).indexOf(t)):"second"===i?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(r=>r.index).indexOf(t)):this.calcIndex([],this.use12HoursRange.map(r=>r.index).indexOf(t))}scrollTo(t,i,r){if(r<=0)return void(t.scrollTop=i);const l=(i-t.scrollTop)/r*10;this.ngZone.runOutsideAngular(()=>{Ane(()=>{t.scrollTop=t.scrollTop+l,t.scrollTop!==i&&this.scrollTo(t,i,r-10)})})}calcIndex(t,i){return t?.length&&this.nzHideDisabledOptions?i-t.reduce((r,o)=>r+(o<i?1:0),0):i}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(t){const i=t.getHours(),r=t.getMinutes(),o=t.getSeconds();return(this.nzDisabledHours?.().indexOf(i)??-1)>-1||(this.nzDisabledMinutes?.(i).indexOf(r)??-1)>-1||(this.nzDisabledSeconds?.(i,r).indexOf(o)??-1)>-1}onClickNow(){const t=new Date;this.timeDisabled(t)||(this.time.setValue(t),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(t){return t.index===this.time.viewHours}isSelectedMinute(t){return t.index===this.time.minutes}isSelectedSecond(t){return t.index===this.time.seconds}isSelected12Hours(t){return t.value.toUpperCase()===this.time.selected12Hours}ngOnInit(){this.time.changes.pipe(st(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),as(this.elementRef.nativeElement,"mousedown").pipe(st(this.unsubscribe$)).subscribe(t=>{t.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(t){const{nzUse12Hours:i,nzDefaultOpenValue:r}=t;!i?.previousValue&&i?.currentValue&&(this.build12Hours(),this.enabledColumns++),r?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(t){this.time.setValue(t,this.nzUse12Hours),this.buildTimes(),t&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(pr),de(dm),de(Vt))},e.\u0275cmp=ut({type:e,selectors:[["nz-time-picker-panel"]],viewQuery:function(t,i){if(1&t&&(mi(jFe,5),mi($Fe,5),mi(XFe,5),mi(qFe,5)),2&t){let r;an(r=cn())&&(i.hourListElement=r.first),an(r=cn())&&(i.minuteListElement=r.first),an(r=cn())&&(i.secondListElement=r.first),an(r=cn())&&(i.use12HoursListElement=r.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(t,i){2&t&&Ht("ant-picker-time-panel-column-0",0===i.enabledColumns&&!i.nzInDatePicker)("ant-picker-time-panel-column-1",1===i.enabledColumns&&!i.nzInDatePicker)("ant-picker-time-panel-column-2",2===i.enabledColumns&&!i.nzInDatePicker)("ant-picker-time-panel-column-3",3===i.enabledColumns&&!i.nzInDatePicker)("ant-picker-time-panel-narrow",i.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!i.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[Ln([{provide:Ps,useExisting:e,multi:!0}]),Le],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[4,"ngFor","ngForOf"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","click",4,"ngIf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&(ge(0,ZFe,3,1,"div",0),se(1,"div",1),ge(2,JFe,3,2,"ul",2),ge(3,nBe,3,2,"ul",2),ge(4,oBe,3,2,"ul",2),ge(5,lBe,3,1,"ul",2),le(),ge(6,hBe,11,7,"div",3)),2&t&&(ee("ngIf",i.nzInDatePicker),J(2),ee("ngIf",i.hourEnabled),J(1),ee("ngIf",i.minuteEnabled),J(1),ee("ngIf",i.secondEnabled),J(1),ee("ngIf",i.nzUse12Hours),J(1),ee("ngIf",!i.nzInDatePicker))},dependencies:[xr,hn,Yr,Sne,Xf,wne,FP,cke],encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzUse12Hours",void 0),e})(),A1e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,jf,p6,S6,mm,Bw,kg,vk,Tne]}),e})(),Td=(()=>{class e{}return e.SLOW="0.3s",e.BASE="0.2s",e.FAST="0.1s",e})(),qc=(()=>{class e{}return e.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",e.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",e.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",e.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",e.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",e.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",e.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",e.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",e.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",e.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",e.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",e.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",e.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",e.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",e})();const pBe=Us("collapseMotion",[is("expanded",kn({height:"*"})),is("collapsed",kn({height:0,overflow:"hidden"})),is("hidden",kn({height:0,overflow:"hidden",borderTopWidth:"0"})),Ai("expanded => collapsed",ar(`150ms ${qc.EASE_IN_OUT}`)),Ai("expanded => hidden",ar(`150ms ${qc.EASE_IN_OUT}`)),Ai("collapsed => expanded",ar(`150ms ${qc.EASE_IN_OUT}`)),Ai("hidden => expanded",ar(`150ms ${qc.EASE_IN_OUT}`))]),gBe=(Us("treeCollapseMotion",[Ai("* => *",[Pz("nz-tree-node:leave,nz-tree-builtin-node:leave",[kn({overflow:"hidden"}),Az(0,[ar(`150ms ${qc.EASE_IN_OUT}`,kn({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Pz("nz-tree-node:enter,nz-tree-builtin-node:enter",[kn({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Az(0,[ar(`150ms ${qc.EASE_IN_OUT}`,kn({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),Us("fadeMotion",[Ai(":enter",[kn({opacity:0}),ar(`${Td.BASE}`,kn({opacity:1}))]),Ai(":leave",[kn({opacity:1}),ar(`${Td.BASE}`,kn({opacity:0}))])]),Us("helpMotion",[Ai(":enter",[kn({opacity:0,transform:"translateY(-5px)"}),ar(`${Td.SLOW} ${qc.EASE_IN_OUT}`,kn({opacity:1,transform:"translateY(0)"}))]),Ai(":leave",[kn({opacity:1,transform:"translateY(0)"}),ar(`${Td.SLOW} ${qc.EASE_IN_OUT}`,kn({opacity:0,transform:"translateY(-5px)"}))])]),Us("moveUpMotion",[Ai("* => enter",[kn({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),ar(`${Td.BASE}`,kn({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Ai("* => leave",[kn({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),ar(`${Td.BASE}`,kn({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Us("notificationMotion",[is("enterRight",kn({opacity:1,transform:"translateX(0)"})),Ai("* => enterRight",[kn({opacity:0,transform:"translateX(5%)"}),ar("100ms linear")]),is("enterLeft",kn({opacity:1,transform:"translateX(0)"})),Ai("* => enterLeft",[kn({opacity:0,transform:"translateX(-5%)"}),ar("100ms linear")]),is("enterTop",kn({opacity:1,transform:"translateY(0)"})),Ai("* => enterTop",[kn({opacity:0,transform:"translateY(-5%)"}),ar("100ms linear")]),is("enterBottom",kn({opacity:1,transform:"translateY(0)"})),Ai("* => enterBottom",[kn({opacity:0,transform:"translateY(5%)"}),ar("100ms linear")]),is("leave",kn({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Ai("* => leave",[kn({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),ar("100ms linear")])]),`${Td.BASE} ${qc.EASE_OUT_QUINT}`),mBe=`${Td.BASE} ${qc.EASE_IN_QUINT}`,gU=Us("slideMotion",[is("void",kn({opacity:0,transform:"scaleY(0.8)"})),is("enter",kn({opacity:1,transform:"scaleY(1)"})),Ai("void => *",[ar(gBe)]),Ai("* => void",[ar(mBe)])]),vBe=(Us("slideAlertMotion",[Ai(":leave",[kn({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),ar(`${Td.SLOW} ${qc.EASE_IN_OUT_CIRC}`,kn({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Us("zoomBigMotion",[Ai("void => active",[kn({opacity:0,transform:"scale(0.8)"}),ar(`${Td.BASE} ${qc.EASE_OUT_CIRC}`,kn({opacity:1,transform:"scale(1)"}))]),Ai("active => void",[kn({opacity:1,transform:"scale(1)"}),ar(`${Td.BASE} ${qc.EASE_IN_OUT_CIRC}`,kn({opacity:0,transform:"scale(0.8)"}))])]));Us("zoomBadgeMotion",[Ai(":enter",[kn({opacity:0,transform:"scale(0) translate(50%, -50%)"}),ar(`${Td.SLOW} ${qc.EASE_OUT_BACK}`,kn({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Ai(":leave",[kn({opacity:1,transform:"scale(1) translate(50%, -50%)"}),ar(`${Td.SLOW} ${qc.EASE_IN_BACK}`,kn({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),Us("thumbMotion",[is("from",kn({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),is("to",kn({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),Ai("from => to",ar(`300ms ${qc.EASE_IN_OUT}`))]);let z1e=(()=>{class e{create(t){return typeof ResizeObserver>"u"?null:new ResizeObserver(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kne=(()=>{class e{constructor(t){this.nzResizeObserverFactory=t,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((t,i)=>this.cleanupObserver(i))}observe(t){const i=ml(t);return new Wn(r=>{const l=this.observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this.unobserveElement(i)}})}observeElement(t){if(this.observedElements.has(t))this.observedElements.get(t).count++;else{const i=new nt,r=this.nzResizeObserverFactory.create(o=>i.next(o));r&&r.observe(t),this.observedElements.set(t,{observer:r,stream:i,count:1})}return this.observedElements.get(t).stream}unobserveElement(t){this.observedElements.has(t)&&(this.observedElements.get(t).count--,this.observedElements.get(t).count||this.cleanupObserver(t))}cleanupObserver(t){if(this.observedElements.has(t)){const{observer:i,stream:r}=this.observedElements.get(t);i&&i.disconnect(),r.complete(),this.observedElements.delete(t)}}}return e.\u0275fac=function(t){return new(t||e)(Ve(z1e))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_Be=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[z1e]}),e})();function yBe(e,n){1&e&&yr(0)}function xBe(e,n){if(1&e&&(wt(0),ge(1,yBe,1,0,"ng-container",4),Dt()),2&e){const t=ue(2);J(1),ee("ngTemplateOutlet",t.extraFooter)}}function bBe(e,n){if(1&e&&(wt(0),Fe(1,"span",5),Dt()),2&e){const t=ue(2);J(1),ee("innerHTML",t.extraFooter,Xp)}}function CBe(e,n){if(1&e&&(se(0,"div"),wt(1,2),ge(2,xBe,2,1,"ng-container",3),ge(3,bBe,2,1,"ng-container",3),Dt(),le()),2&e){const t=ue();Jt("",t.prefixCls,"-footer-extra"),J(1),ee("ngSwitch",!0),J(1),ee("ngSwitchCase",t.isTemplateRef(t.extraFooter)),J(1),ee("ngSwitchCase",t.isNonEmptyString(t.extraFooter))}}function wBe(e,n){if(1&e){const t=Ft();se(0,"a",6),He("click",function(){Xe(t);const r=ue();return Ze(r.isTodayDisabled?null:r.onClickToday())}),Be(1),le()}if(2&e){const t=ue();Df("",t.prefixCls,"-today-btn ",t.isTodayDisabled?t.prefixCls+"-today-btn-disabled":"",""),fi("title",t.todayTitle),J(1),In(" ",t.locale.today," ")}}function SBe(e,n){1&e&&yr(0)}function TBe(e,n){if(1&e){const t=Ft();se(0,"li")(1,"a",7),He("click",function(){Xe(t);const r=ue(2);return Ze(r.isTodayDisabled?null:r.onClickToday())}),Be(2),le()()}if(2&e){const t=ue(2);Jt("",t.prefixCls,"-now"),J(1),Jt("",t.prefixCls,"-now-btn"),J(1),In(" ",t.locale.now," ")}}function MBe(e,n){if(1&e){const t=Ft();se(0,"li")(1,"button",8),He("click",function(){Xe(t);const r=ue(2);return Ze(r.okDisabled?null:r.clickOk.emit())}),Be(2),le()()}if(2&e){const t=ue(2);Jt("",t.prefixCls,"-ok"),J(1),ee("disabled",t.okDisabled),J(1),In(" ",t.locale.ok," ")}}function DBe(e,n){if(1&e&&(se(0,"ul"),ge(1,SBe,1,0,"ng-container",4),ge(2,TBe,3,7,"li",0),ge(3,MBe,3,5,"li",0),le()),2&e){const t=ue();Jt("",t.prefixCls,"-ranges"),J(1),ee("ngTemplateOutlet",t.rangeQuickSelector),J(1),ee("ngIf",t.showNow),J(1),ee("ngIf",t.hasTimePicker)}}function PBe(e,n){if(1&e){const t=Ft();wt(0),se(1,"button",6),He("click",function(){return Ze(Xe(t).$implicit.onClick())}),Be(2),le(),Dt()}if(2&e){const t=n.$implicit;J(1),Di(t.className),fi("title",t.title||null),J(1),In(" ",t.label," ")}}function ABe(e,n){1&e&&Fe(0,"th",6)}function zBe(e,n){if(1&e&&(se(0,"th",7),Be(1),le()),2&e){const t=n.$implicit;fi("title",t.title),J(1),In(" ",t.content," ")}}function kBe(e,n){if(1&e&&(se(0,"thead")(1,"tr",3),ge(2,ABe,1,0,"th",4),ge(3,zBe,2,2,"th",5),le()()),2&e){const t=ue();J(2),ee("ngIf",t.showWeek),J(1),ee("ngForOf",t.headRow)}}function OBe(e,n){if(1&e&&(se(0,"td",11),Be(1),le()),2&e){const t=ue().$implicit;Jt("",ue().prefixCls,"-cell-week"),J(1),In(" ",t.weekNum," ")}}function EBe(e,n){1&e&&yr(0)}const Zf=function(e){return{$implicit:e}};function IBe(e,n){if(1&e&&(wt(0),ge(1,EBe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function LBe(e,n){if(1&e&&(wt(0),Fe(1,"span",17),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("innerHTML",t.cellRender,Xp)}}function RBe(e,n){if(1&e&&(wt(0),se(1,"div"),Be(2),le(),Dt()),2&e){const t=ue(2).$implicit,i=ue(2);J(1),Jt("",i.prefixCls,"-cell-inner"),oi("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),J(1),In(" ",t.content," ")}}function NBe(e,n){if(1&e&&(wt(0)(1,13),ge(2,IBe,2,4,"ng-container",14),ge(3,LBe,2,1,"ng-container",14),ge(4,RBe,3,6,"ng-container",15),Dt()()),2&e){const t=ue().$implicit,i=ue(2);J(1),ee("ngSwitch",!0),J(1),ee("ngSwitchCase",i.isTemplateRef(t.cellRender)),J(1),ee("ngSwitchCase",i.isNonEmptyString(t.cellRender))}}function FBe(e,n){1&e&&yr(0)}function BBe(e,n){if(1&e&&(wt(0),ge(1,FBe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function VBe(e,n){1&e&&yr(0)}function HBe(e,n){if(1&e&&(se(0,"div"),Be(1),le(),se(2,"div"),ge(3,VBe,1,0,"ng-container",16),le()),2&e){const t=ue(2).$implicit,i=ue(2);Jt("",i.prefixCls,"-date-value"),J(1),Bt(t.content),J(1),Jt("",i.prefixCls,"-date-content"),J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(9,Zf,t.value))}}function YBe(e,n){if(1&e&&(wt(0),se(1,"div"),ge(2,BBe,2,4,"ng-container",18),ge(3,HBe,4,11,"ng-template",null,19,xn),le(),Dt()),2&e){const t=fn(4),i=ue().$implicit,r=ue(2);J(1),Jt("",r.prefixCls,"-date ant-picker-cell-inner"),Ht("ant-picker-calendar-date-today",i.isToday),J(1),ee("ngIf",i.fullCellRender)("ngIfElse",t)}}function UBe(e,n){if(1&e){const t=Ft();se(0,"td",12),He("click",function(){const o=Xe(t).$implicit;return Ze(o.isDisabled?null:o.onClick())})("mouseenter",function(){return Ze(Xe(t).$implicit.onMouseEnter())}),wt(1,13),ge(2,NBe,5,3,"ng-container",14),ge(3,YBe,5,7,"ng-container",14),Dt(),le()}if(2&e){const t=n.$implicit,i=ue(2);fi("title",t.title),ee("ngClass",t.classMap),J(1),ee("ngSwitch",i.prefixCls),J(1),ee("ngSwitchCase","ant-picker"),J(1),ee("ngSwitchCase","ant-picker-calendar")}}function GBe(e,n){if(1&e&&(se(0,"tr",8),ge(1,OBe,2,4,"td",9),ge(2,UBe,4,5,"td",10),le()),2&e){const t=n.$implicit,i=ue();ee("ngClass",t.classMap),J(1),ee("ngIf",t.weekNum),J(1),ee("ngForOf",t.dateCells)("ngForTrackBy",i.trackByBodyColumn)}}function WBe(e,n){if(1&e){const t=Ft();wt(0),se(1,"button",6),He("click",function(){return Ze(Xe(t).$implicit.onClick())}),Be(2),le(),Dt()}if(2&e){const t=n.$implicit;J(1),Di(t.className),fi("title",t.title||null),J(1),In(" ",t.label," ")}}function jBe(e,n){1&e&&Fe(0,"th",6)}function $Be(e,n){if(1&e&&(se(0,"th",7),Be(1),le()),2&e){const t=n.$implicit;fi("title",t.title),J(1),In(" ",t.content," ")}}function XBe(e,n){if(1&e&&(se(0,"thead")(1,"tr",3),ge(2,jBe,1,0,"th",4),ge(3,$Be,2,2,"th",5),le()()),2&e){const t=ue();J(2),ee("ngIf",t.showWeek),J(1),ee("ngForOf",t.headRow)}}function qBe(e,n){if(1&e&&(se(0,"td",11),Be(1),le()),2&e){const t=ue().$implicit;Jt("",ue().prefixCls,"-cell-week"),J(1),In(" ",t.weekNum," ")}}function ZBe(e,n){1&e&&yr(0)}function KBe(e,n){if(1&e&&(wt(0),ge(1,ZBe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function QBe(e,n){if(1&e&&(wt(0),Fe(1,"span",17),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("innerHTML",t.cellRender,Xp)}}function JBe(e,n){if(1&e&&(wt(0),se(1,"div"),Be(2),le(),Dt()),2&e){const t=ue(2).$implicit,i=ue(2);J(1),Jt("",i.prefixCls,"-cell-inner"),oi("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),J(1),In(" ",t.content," ")}}function eVe(e,n){if(1&e&&(wt(0)(1,13),ge(2,KBe,2,4,"ng-container",14),ge(3,QBe,2,1,"ng-container",14),ge(4,JBe,3,6,"ng-container",15),Dt()()),2&e){const t=ue().$implicit,i=ue(2);J(1),ee("ngSwitch",!0),J(1),ee("ngSwitchCase",i.isTemplateRef(t.cellRender)),J(1),ee("ngSwitchCase",i.isNonEmptyString(t.cellRender))}}function tVe(e,n){1&e&&yr(0)}function nVe(e,n){if(1&e&&(wt(0),ge(1,tVe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function iVe(e,n){1&e&&yr(0)}function rVe(e,n){if(1&e&&(se(0,"div"),Be(1),le(),se(2,"div"),ge(3,iVe,1,0,"ng-container",16),le()),2&e){const t=ue(2).$implicit,i=ue(2);Jt("",i.prefixCls,"-date-value"),J(1),Bt(t.content),J(1),Jt("",i.prefixCls,"-date-content"),J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(9,Zf,t.value))}}function oVe(e,n){if(1&e&&(wt(0),se(1,"div"),ge(2,nVe,2,4,"ng-container",18),ge(3,rVe,4,11,"ng-template",null,19,xn),le(),Dt()),2&e){const t=fn(4),i=ue().$implicit,r=ue(2);J(1),Jt("",r.prefixCls,"-date ant-picker-cell-inner"),Ht("ant-picker-calendar-date-today",i.isToday),J(1),ee("ngIf",i.fullCellRender)("ngIfElse",t)}}function aVe(e,n){if(1&e){const t=Ft();se(0,"td",12),He("click",function(){const o=Xe(t).$implicit;return Ze(o.isDisabled?null:o.onClick())})("mouseenter",function(){return Ze(Xe(t).$implicit.onMouseEnter())}),wt(1,13),ge(2,eVe,5,3,"ng-container",14),ge(3,oVe,5,7,"ng-container",14),Dt(),le()}if(2&e){const t=n.$implicit,i=ue(2);fi("title",t.title),ee("ngClass",t.classMap),J(1),ee("ngSwitch",i.prefixCls),J(1),ee("ngSwitchCase","ant-picker"),J(1),ee("ngSwitchCase","ant-picker-calendar")}}function sVe(e,n){if(1&e&&(se(0,"tr",8),ge(1,qBe,2,4,"td",9),ge(2,aVe,4,5,"td",10),le()),2&e){const t=n.$implicit,i=ue();ee("ngClass",t.classMap),J(1),ee("ngIf",t.weekNum),J(1),ee("ngForOf",t.dateCells)("ngForTrackBy",i.trackByBodyColumn)}}function lVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"button",6),He("click",function(){return Ze(Xe(t).$implicit.onClick())}),Be(2),le(),Dt()}if(2&e){const t=n.$implicit;J(1),Di(t.className),fi("title",t.title||null),J(1),In(" ",t.label," ")}}function cVe(e,n){1&e&&Fe(0,"th",6)}function uVe(e,n){if(1&e&&(se(0,"th",7),Be(1),le()),2&e){const t=n.$implicit;fi("title",t.title),J(1),In(" ",t.content," ")}}function hVe(e,n){if(1&e&&(se(0,"thead")(1,"tr",3),ge(2,cVe,1,0,"th",4),ge(3,uVe,2,2,"th",5),le()()),2&e){const t=ue();J(2),ee("ngIf",t.showWeek),J(1),ee("ngForOf",t.headRow)}}function dVe(e,n){if(1&e&&(se(0,"td",11),Be(1),le()),2&e){const t=ue().$implicit;Jt("",ue().prefixCls,"-cell-week"),J(1),In(" ",t.weekNum," ")}}function fVe(e,n){1&e&&yr(0)}function pVe(e,n){if(1&e&&(wt(0),ge(1,fVe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function gVe(e,n){if(1&e&&(wt(0),Fe(1,"span",17),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("innerHTML",t.cellRender,Xp)}}function mVe(e,n){if(1&e&&(wt(0),se(1,"div"),Be(2),le(),Dt()),2&e){const t=ue(2).$implicit,i=ue(2);J(1),Jt("",i.prefixCls,"-cell-inner"),oi("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),J(1),In(" ",t.content," ")}}function vVe(e,n){if(1&e&&(wt(0)(1,13),ge(2,pVe,2,4,"ng-container",14),ge(3,gVe,2,1,"ng-container",14),ge(4,mVe,3,6,"ng-container",15),Dt()()),2&e){const t=ue().$implicit,i=ue(2);J(1),ee("ngSwitch",!0),J(1),ee("ngSwitchCase",i.isTemplateRef(t.cellRender)),J(1),ee("ngSwitchCase",i.isNonEmptyString(t.cellRender))}}function _Ve(e,n){1&e&&yr(0)}function yVe(e,n){if(1&e&&(wt(0),ge(1,_Ve,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function xVe(e,n){1&e&&yr(0)}function bVe(e,n){if(1&e&&(se(0,"div"),Be(1),le(),se(2,"div"),ge(3,xVe,1,0,"ng-container",16),le()),2&e){const t=ue(2).$implicit,i=ue(2);Jt("",i.prefixCls,"-date-value"),J(1),Bt(t.content),J(1),Jt("",i.prefixCls,"-date-content"),J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(9,Zf,t.value))}}function CVe(e,n){if(1&e&&(wt(0),se(1,"div"),ge(2,yVe,2,4,"ng-container",18),ge(3,bVe,4,11,"ng-template",null,19,xn),le(),Dt()),2&e){const t=fn(4),i=ue().$implicit,r=ue(2);J(1),Jt("",r.prefixCls,"-date ant-picker-cell-inner"),Ht("ant-picker-calendar-date-today",i.isToday),J(1),ee("ngIf",i.fullCellRender)("ngIfElse",t)}}function wVe(e,n){if(1&e){const t=Ft();se(0,"td",12),He("click",function(){const o=Xe(t).$implicit;return Ze(o.isDisabled?null:o.onClick())})("mouseenter",function(){return Ze(Xe(t).$implicit.onMouseEnter())}),wt(1,13),ge(2,vVe,5,3,"ng-container",14),ge(3,CVe,5,7,"ng-container",14),Dt(),le()}if(2&e){const t=n.$implicit,i=ue(2);fi("title",t.title),ee("ngClass",t.classMap),J(1),ee("ngSwitch",i.prefixCls),J(1),ee("ngSwitchCase","ant-picker"),J(1),ee("ngSwitchCase","ant-picker-calendar")}}function SVe(e,n){if(1&e&&(se(0,"tr",8),ge(1,dVe,2,4,"td",9),ge(2,wVe,4,5,"td",10),le()),2&e){const t=n.$implicit,i=ue();ee("ngClass",t.classMap),J(1),ee("ngIf",t.weekNum),J(1),ee("ngForOf",t.dateCells)("ngForTrackBy",i.trackByBodyColumn)}}function TVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"button",6),He("click",function(){return Ze(Xe(t).$implicit.onClick())}),Be(2),le(),Dt()}if(2&e){const t=n.$implicit;J(1),Di(t.className),fi("title",t.title||null),J(1),In(" ",t.label," ")}}function MVe(e,n){1&e&&Fe(0,"th",6)}function DVe(e,n){if(1&e&&(se(0,"th",7),Be(1),le()),2&e){const t=n.$implicit;fi("title",t.title),J(1),In(" ",t.content," ")}}function PVe(e,n){if(1&e&&(se(0,"thead")(1,"tr",3),ge(2,MVe,1,0,"th",4),ge(3,DVe,2,2,"th",5),le()()),2&e){const t=ue();J(2),ee("ngIf",t.showWeek),J(1),ee("ngForOf",t.headRow)}}function AVe(e,n){if(1&e&&(se(0,"td",11),Be(1),le()),2&e){const t=ue().$implicit;Jt("",ue().prefixCls,"-cell-week"),J(1),In(" ",t.weekNum," ")}}function zVe(e,n){1&e&&yr(0)}function kVe(e,n){if(1&e&&(wt(0),ge(1,zVe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function OVe(e,n){if(1&e&&(wt(0),Fe(1,"span",17),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("innerHTML",t.cellRender,Xp)}}function EVe(e,n){if(1&e&&(wt(0),se(1,"div"),Be(2),le(),Dt()),2&e){const t=ue(2).$implicit,i=ue(2);J(1),Jt("",i.prefixCls,"-cell-inner"),oi("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),J(1),In(" ",t.content," ")}}function IVe(e,n){if(1&e&&(wt(0)(1,13),ge(2,kVe,2,4,"ng-container",14),ge(3,OVe,2,1,"ng-container",14),ge(4,EVe,3,6,"ng-container",15),Dt()()),2&e){const t=ue().$implicit,i=ue(2);J(1),ee("ngSwitch",!0),J(1),ee("ngSwitchCase",i.isTemplateRef(t.cellRender)),J(1),ee("ngSwitchCase",i.isNonEmptyString(t.cellRender))}}function LVe(e,n){1&e&&yr(0)}function RVe(e,n){if(1&e&&(wt(0),ge(1,LVe,1,0,"ng-container",16),Dt()),2&e){const t=ue(2).$implicit;J(1),ee("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",ei(2,Zf,t.value))}}function NVe(e,n){1&e&&yr(0)}function FVe(e,n){if(1&e&&(se(0,"div"),Be(1),le(),se(2,"div"),ge(3,NVe,1,0,"ng-container",16),le()),2&e){const t=ue(2).$implicit,i=ue(2);Jt("",i.prefixCls,"-date-value"),J(1),Bt(t.content),J(1),Jt("",i.prefixCls,"-date-content"),J(1),ee("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",ei(9,Zf,t.value))}}function BVe(e,n){if(1&e&&(wt(0),se(1,"div"),ge(2,RVe,2,4,"ng-container",18),ge(3,FVe,4,11,"ng-template",null,19,xn),le(),Dt()),2&e){const t=fn(4),i=ue().$implicit,r=ue(2);J(1),Jt("",r.prefixCls,"-date ant-picker-cell-inner"),Ht("ant-picker-calendar-date-today",i.isToday),J(1),ee("ngIf",i.fullCellRender)("ngIfElse",t)}}function VVe(e,n){if(1&e){const t=Ft();se(0,"td",12),He("click",function(){const o=Xe(t).$implicit;return Ze(o.isDisabled?null:o.onClick())})("mouseenter",function(){return Ze(Xe(t).$implicit.onMouseEnter())}),wt(1,13),ge(2,IVe,5,3,"ng-container",14),ge(3,BVe,5,7,"ng-container",14),Dt(),le()}if(2&e){const t=n.$implicit,i=ue(2);fi("title",t.title),ee("ngClass",t.classMap),J(1),ee("ngSwitch",i.prefixCls),J(1),ee("ngSwitchCase","ant-picker"),J(1),ee("ngSwitchCase","ant-picker-calendar")}}function HVe(e,n){if(1&e&&(se(0,"tr",8),ge(1,AVe,2,4,"td",9),ge(2,VVe,4,5,"td",10),le()),2&e){const t=n.$implicit,i=ue();ee("ngClass",t.classMap),J(1),ee("ngIf",t.weekNum),J(1),ee("ngForOf",t.dateCells)("ngForTrackBy",i.trackByBodyColumn)}}function YVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"decade-header",4),He("valueChange",function(r){return Xe(t),Ze(ue().activeDate=r)})("panelModeChange",function(r){return Xe(t),Ze(ue().panelModeChange.emit(r))})("valueChange",function(r){return Xe(t),Ze(ue().headerChange.emit(r))}),le(),se(2,"div")(3,"decade-table",5),He("valueChange",function(r){return Xe(t),Ze(ue().onChooseDecade(r))}),le()(),Dt()}if(2&e){const t=ue();J(1),ee("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","decade"))("showSuperNextBtn",t.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),J(1),Jt("",t.prefixCls,"-body"),J(1),ee("activeDate",t.activeDate)("value",t.value)("locale",t.locale)("disabledDate",t.disabledDate)}}function UVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"year-header",4),He("valueChange",function(r){return Xe(t),Ze(ue().activeDate=r)})("panelModeChange",function(r){return Xe(t),Ze(ue().panelModeChange.emit(r))})("valueChange",function(r){return Xe(t),Ze(ue().headerChange.emit(r))}),le(),se(2,"div")(3,"year-table",6),He("valueChange",function(r){return Xe(t),Ze(ue().onChooseYear(r))})("cellHover",function(r){return Xe(t),Ze(ue().cellHover.emit(r))}),le()(),Dt()}if(2&e){const t=ue();J(1),ee("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","year"))("showSuperNextBtn",t.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),J(1),Jt("",t.prefixCls,"-body"),J(1),ee("activeDate",t.activeDate)("value",t.value)("locale",t.locale)("disabledDate",t.disabledDate)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function GVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"month-header",4),He("valueChange",function(r){return Xe(t),Ze(ue().activeDate=r)})("panelModeChange",function(r){return Xe(t),Ze(ue().panelModeChange.emit(r))})("valueChange",function(r){return Xe(t),Ze(ue().headerChange.emit(r))}),le(),se(2,"div")(3,"month-table",7),He("valueChange",function(r){return Xe(t),Ze(ue().onChooseMonth(r))})("cellHover",function(r){return Xe(t),Ze(ue().cellHover.emit(r))}),le()(),Dt()}if(2&e){const t=ue();J(1),ee("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","month"))("showSuperNextBtn",t.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),J(1),Jt("",t.prefixCls,"-body"),J(1),ee("value",t.value)("activeDate",t.activeDate)("locale",t.locale)("disabledDate",t.disabledDate)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function WVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"date-header",8),He("valueChange",function(r){return Xe(t),Ze(ue().activeDate=r)})("panelModeChange",function(r){return Xe(t),Ze(ue().panelModeChange.emit(r))})("valueChange",function(r){return Xe(t),Ze(ue().headerChange.emit(r))}),le(),se(2,"div")(3,"date-table",9),He("valueChange",function(r){return Xe(t),Ze(ue().onSelectDate(r))})("cellHover",function(r){return Xe(t),Ze(ue().cellHover.emit(r))}),le()(),Dt()}if(2&e){const t=ue();J(1),ee("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","week"===t.panelMode?"week":"date"))("showSuperNextBtn",t.enablePrevNext("next","week"===t.panelMode?"week":"date"))("showPreBtn",t.enablePrevNext("prev","week"===t.panelMode?"week":"date"))("showNextBtn",t.enablePrevNext("next","week"===t.panelMode?"week":"date")),J(1),Jt("",t.prefixCls,"-body"),J(1),ee("locale",t.locale)("showWeek",t.showWeek)("value",t.value)("activeDate",t.activeDate)("disabledDate",t.disabledDate)("cellRender",t.dateRender)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)("canSelectWeek","week"===t.panelMode)}}function jVe(e,n){if(1&e){const t=Ft();wt(0),se(1,"nz-time-picker-panel",10),He("ngModelChange",function(r){return Xe(t),Ze(ue().onSelectTime(r))}),le(),Dt()}if(2&e){const t=ue();J(1),ee("nzInDatePicker",!0)("ngModel",null==t.value?null:t.value.nativeDate)("format",t.timeOptions.nzFormat)("nzHourStep",t.timeOptions.nzHourStep)("nzMinuteStep",t.timeOptions.nzMinuteStep)("nzSecondStep",t.timeOptions.nzSecondStep)("nzDisabledHours",t.timeOptions.nzDisabledHours)("nzDisabledMinutes",t.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",t.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!t.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",t.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!t.timeOptions.nzUse12Hours)("nzAddOn",t.timeOptions.nzAddOn)}}function $Ve(e,n){1&e&&yr(0)}const XVe=function(e){return{partType:e}};function qVe(e,n){if(1&e&&(wt(0),ge(1,$Ve,1,0,"ng-container",7),Dt()),2&e){const t=ue(2),i=fn(4);J(1),ee("ngTemplateOutlet",i)("ngTemplateOutletContext",ei(2,XVe,t.datePickerService.activeInput))}}function ZVe(e,n){1&e&&yr(0)}function KVe(e,n){1&e&&yr(0)}const k1e=function(){return{partType:"left"}},O1e=function(){return{partType:"right"}};function QVe(e,n){if(1&e&&(ge(0,ZVe,1,0,"ng-container",7),ge(1,KVe,1,0,"ng-container",7)),2&e){ue(2);const t=fn(4);ee("ngTemplateOutlet",t)("ngTemplateOutletContext",Ph(4,k1e)),J(1),ee("ngTemplateOutlet",t)("ngTemplateOutletContext",Ph(5,O1e))}}function JVe(e,n){1&e&&yr(0)}function eHe(e,n){if(1&e&&(wt(0),se(1,"div"),Fe(2,"div"),se(3,"div")(4,"div"),ge(5,qVe,2,4,"ng-container",0),ge(6,QVe,2,6,"ng-template",null,5,xn),le(),ge(8,JVe,1,0,"ng-container",6),le()(),Dt()),2&e){const t=fn(7),i=ue(),r=fn(6);J(1),Df("",i.prefixCls,"-range-wrapper ",i.prefixCls,"-date-range-wrapper"),J(1),function zu(e){Th(w_,Pb,e,!1)}(i.arrowPosition),Jt("",i.prefixCls,"-range-arrow"),J(1),Df("",i.prefixCls,"-panel-container ",i.showWeek?i.prefixCls+"-week-number":"",""),J(1),Jt("",i.prefixCls,"-panels"),J(1),ee("ngIf",i.hasTimePicker)("ngIfElse",t),J(3),ee("ngTemplateOutlet",r)}}function tHe(e,n){1&e&&yr(0)}function nHe(e,n){1&e&&yr(0)}function iHe(e,n){if(1&e&&(se(0,"div")(1,"div",8),ge(2,tHe,1,0,"ng-container",6),ge(3,nHe,1,0,"ng-container",6),le()()),2&e){const t=ue(),i=fn(4),r=fn(6);(function kb(e,n,t,i,r,o,l,h,f){Th(wu,fd,m_(xt(),e,n,t,i,r,o,l,h,f),!0)})("",t.prefixCls,"-panel-container ",t.showWeek?t.prefixCls+"-week-number":""," ",t.hasTimePicker?t.prefixCls+"-time":""," ",t.isRange?t.prefixCls+"-range":"",""),J(1),Jt("",t.prefixCls,"-panel"),Ht("ant-picker-panel-rtl","rtl"===t.dir),J(1),ee("ngTemplateOutlet",i),J(1),ee("ngTemplateOutlet",r)}}function rHe(e,n){if(1&e){const t=Ft();se(0,"div")(1,"inner-popup",9),He("panelModeChange",function(r){const l=Xe(t).partType;return Ze(ue().onPanelModeChange(r,l))})("cellHover",function(r){return Xe(t),Ze(ue().onCellHover(r))})("selectDate",function(r){Xe(t);const o=ue();return Ze(o.changeValueFromSelect(r,!o.showTime))})("selectTime",function(r){const l=Xe(t).partType;return Ze(ue().onSelectTime(r,l))})("headerChange",function(r){const l=Xe(t).partType;return Ze(ue().onActiveDateChange(r,l))}),le()()}if(2&e){const t=n.partType,i=ue();Jt("",i.prefixCls,"-panel"),Ht("ant-picker-panel-rtl","rtl"===i.dir),J(1),ee("showWeek",i.showWeek)("endPanelMode",i.getPanelMode(i.endPanelMode,t))("partType",t)("locale",i.locale)("showTimePicker",i.hasTimePicker)("timeOptions",i.getTimeOptions(t))("panelMode",i.getPanelMode(i.panelMode,t))("activeDate",i.getActiveDate(t))("value",i.getValue(t))("disabledDate",i.disabledDate)("dateRender",i.dateRender)("selectedValue",null==i.datePickerService?null:i.datePickerService.value)("hoverValue",i.hoverValue)}}function oHe(e,n){if(1&e){const t=Ft();se(0,"calendar-footer",11),He("clickOk",function(){return Xe(t),Ze(ue(2).onClickOk())})("clickToday",function(r){return Xe(t),Ze(ue(2).onClickToday(r))}),le()}if(2&e){const t=ue(2),i=fn(8);ee("locale",t.locale)("isRange",t.isRange)("showToday",t.showToday)("showNow",t.showNow)("hasTimePicker",t.hasTimePicker)("okDisabled",!t.isAllowed(null==t.datePickerService?null:t.datePickerService.value))("extraFooter",t.extraFooter)("rangeQuickSelector",t.ranges?i:null)}}function aHe(e,n){1&e&&ge(0,oHe,1,8,"calendar-footer",10),2&e&&ee("ngIf",ue().hasFooter)}function sHe(e,n){if(1&e){const t=Ft();se(0,"li",13),He("click",function(){const o=Xe(t).$implicit,l=ue(2);return Ze(l.onClickPresetRange(l.ranges[o]))})("mouseenter",function(){const o=Xe(t).$implicit,l=ue(2);return Ze(l.onHoverPresetRange(l.ranges[o]))})("mouseleave",function(){return Xe(t),Ze(ue(2).onPresetRangeMouseLeave())}),se(1,"span",14),Be(2),le()()}if(2&e){const t=n.$implicit;Jt("",ue(2).prefixCls,"-preset"),J(2),Bt(t)}}function lHe(e,n){if(1&e&&ge(0,sHe,3,4,"li",12),2&e){const t=ue();ee("ngForOf",t.getObjectKeys(t.ranges))}}const cHe=["separatorElement"],uHe=["pickerInput"],hHe=["rangePickerInput"];function dHe(e,n){1&e&&yr(0)}function fHe(e,n){if(1&e){const t=Ft();se(0,"div")(1,"input",7,8),He("ngModelChange",function(r){return Xe(t),Ze(ue(2).inputValue=r)})("focus",function(r){return Xe(t),Ze(ue(2).onFocus(r))})("focusout",function(r){return Xe(t),Ze(ue(2).onFocusout(r))})("ngModelChange",function(r){return Xe(t),Ze(ue(2).onInputChange(r))})("keyup.enter",function(r){return Xe(t),Ze(ue(2).onKeyupEnter(r))}),le(),ge(3,dHe,1,0,"ng-container",9),le()}if(2&e){const t=ue(2),i=fn(4);Jt("",t.prefixCls,"-input"),J(1),Ht("ant-input-disabled",t.nzDisabled),fi("placeholder",t.getPlaceholder()),ee("disabled",t.nzDisabled)("readOnly",t.nzInputReadOnly)("ngModel",t.inputValue)("size",t.inputSize),oi("id",t.nzId),J(2),ee("ngTemplateOutlet",i)}}function pHe(e,n){1&e&&yr(0)}function gHe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue(4);J(1),Bt(t.nzSeparator)}}function mHe(e,n){1&e&&Fe(0,"span",14)}function vHe(e,n){if(1&e&&(wt(0),ge(1,gHe,2,1,"ng-container",0),ge(2,mHe,1,0,"ng-template",null,13,xn),Dt()),2&e){const t=fn(3),i=ue(3);J(1),ee("ngIf",i.nzSeparator)("ngIfElse",t)}}function _He(e,n){1&e&&yr(0)}function yHe(e,n){1&e&&yr(0)}function xHe(e,n){if(1&e&&(wt(0),se(1,"div"),ge(2,pHe,1,0,"ng-container",10),le(),se(3,"div",null,11)(5,"span"),ge(6,vHe,4,2,"ng-container",12),le()(),se(7,"div"),ge(8,_He,1,0,"ng-container",10),le(),ge(9,yHe,1,0,"ng-container",9),Dt()),2&e){const t=ue(2),i=fn(2),r=fn(4);J(1),Jt("",t.prefixCls,"-input"),J(1),ee("ngTemplateOutlet",i)("ngTemplateOutletContext",Ph(18,k1e)),J(1),Jt("",t.prefixCls,"-range-separator"),J(2),Jt("",t.prefixCls,"-separator"),J(1),ee("nzStringTemplateOutlet",t.nzSeparator),J(1),Jt("",t.prefixCls,"-input"),J(1),ee("ngTemplateOutlet",i)("ngTemplateOutletContext",Ph(19,O1e)),J(1),ee("ngTemplateOutlet",r)}}function bHe(e,n){if(1&e&&(wt(0),ge(1,fHe,4,12,"div",5),ge(2,xHe,10,20,"ng-container",6),Dt()),2&e){const t=ue();J(1),ee("ngIf",!t.isRange),J(1),ee("ngIf",t.isRange)}}function CHe(e,n){if(1&e){const t=Ft();se(0,"input",15,16),He("click",function(r){return Xe(t),Ze(ue().onClickInputBox(r))})("focusout",function(r){return Xe(t),Ze(ue().onFocusout(r))})("focus",function(r){const l=Xe(t).partType;return Ze(ue().onFocus(r,l))})("keyup.enter",function(r){return Xe(t),Ze(ue().onKeyupEnter(r))})("ngModelChange",function(r){const l=Xe(t).partType,h=ue();return Ze(h.inputValue[h.datePickerService.getActiveIndex(l)]=r)})("ngModelChange",function(r){return Xe(t),Ze(ue().onInputChange(r))}),le()}if(2&e){const t=n.partType,i=ue();fi("placeholder",i.getPlaceholder(t)),ee("disabled",i.nzDisabled)("readOnly",i.nzInputReadOnly)("size",i.inputSize)("ngModel",i.inputValue[i.datePickerService.getActiveIndex(t)]),oi("id",i.nzId)}}function wHe(e,n){if(1&e){const t=Ft();se(0,"span",20),He("click",function(r){return Xe(t),Ze(ue(2).onClickClear(r))}),Fe(1,"span",21),le()}2&e&&Jt("",ue(2).prefixCls,"-clear")}function SHe(e,n){if(1&e&&(wt(0),Fe(1,"span",22),Dt()),2&e){const t=n.$implicit;J(1),ee("nzType",t)}}function THe(e,n){1&e&&Fe(0,"nz-form-item-feedback-icon",23),2&e&&ee("status",ue(2).status)}function MHe(e,n){if(1&e&&(Fe(0,"div",17),ge(1,wHe,2,3,"span",18),se(2,"span"),ge(3,SHe,2,1,"ng-container",12),ge(4,THe,1,1,"nz-form-item-feedback-icon",19),le()),2&e){const t=ue();Jt("",t.prefixCls,"-active-bar"),ee("ngStyle",t.activeBarStyle),J(1),ee("ngIf",t.showClear()),J(1),Jt("",t.prefixCls,"-suffix"),J(1),ee("nzStringTemplateOutlet",t.nzSuffixIcon),J(1),ee("ngIf",t.hasFeedback&&!!t.status)}}function DHe(e,n){if(1&e){const t=Ft();se(0,"div",17)(1,"date-range-popup",24),He("panelModeChange",function(r){return Xe(t),Ze(ue().onPanelModeChange(r))})("calendarChange",function(r){return Xe(t),Ze(ue().onCalendarChange(r))})("resultOk",function(){return Xe(t),Ze(ue().onResultOk())}),le()()}if(2&e){const t=ue();Df("",t.prefixCls,"-dropdown ",t.nzDropdownClassName,""),Ht("ant-picker-dropdown-rtl","rtl"===t.dir)("ant-picker-dropdown-placement-bottomLeft","bottom"===t.currentPositionY&&"start"===t.currentPositionX)("ant-picker-dropdown-placement-topLeft","top"===t.currentPositionY&&"start"===t.currentPositionX)("ant-picker-dropdown-placement-bottomRight","bottom"===t.currentPositionY&&"end"===t.currentPositionX)("ant-picker-dropdown-placement-topRight","top"===t.currentPositionY&&"end"===t.currentPositionX)("ant-picker-dropdown-range",t.isRange)("ant-picker-active-left","left"===t.datePickerService.activeInput)("ant-picker-active-right","right"===t.datePickerService.activeInput),ee("ngStyle",t.nzPopupStyle),J(1),ee("isRange",t.isRange)("inline",t.nzInline)("defaultPickerValue",t.nzDefaultPickerValue)("showWeek",t.nzShowWeekNumber||"week"===t.nzMode)("panelMode",t.panelMode)("locale",null==t.nzLocale?null:t.nzLocale.lang)("showToday","date"===t.nzMode&&t.nzShowToday&&!t.isRange&&!t.nzShowTime)("showNow","date"===t.nzMode&&t.nzShowNow&&!t.isRange&&!!t.nzShowTime)("showTime",t.nzShowTime)("dateRender",t.nzDateRender)("disabledDate",t.nzDisabledDate)("disabledTime",t.nzDisabledTime)("extraFooter",t.extraFooter)("ranges",t.nzRanges)("dir",t.dir)}}function PHe(e,n){1&e&&yr(0)}function AHe(e,n){if(1&e&&(se(0,"div",25),ge(1,PHe,1,0,"ng-container",9),le()),2&e){const t=ue(),i=fn(6);ee("nzNoAnimation",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("@slideMotion","enter"),J(1),ee("ngTemplateOutlet",i)}}const mU="ant-picker",zHe={nzDisabledHours:()=>[],nzDisabledMinutes:()=>[],nzDisabledSeconds:()=>[]};function E1e(e,n){let t=n?n(e&&e.nativeDate):{};return t={...zHe,...t},t}function vU(e,n,t){return!(!e||n&&n(e.nativeDate)||t&&!function OHe(e,n){return function kHe(e,n){let t=!1;if(e){const i=e.getHours(),r=e.getMinutes(),o=e.getSeconds();t=-1!==n.nzDisabledHours().indexOf(i)||-1!==n.nzDisabledMinutes(i).indexOf(r)||-1!==n.nzDisabledSeconds(i,r).indexOf(o)}return!t}(e,E1e(e,n))}(e,t))}function _U(e){return e&&e.replace(/Y/g,"y").replace(/D/g,"d")}let EHe=(()=>{class e{constructor(t){this.dateHelper=t,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new et,this.clickToday=new et,this.prefixCls=mU,this.isTemplateRef=Sfe,this.isNonEmptyString=wfe,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(t){const i=new Date;if(t.disabledDate&&(this.isTodayDisabled=!(!this.disabledDate||!this.disabledDate(i))),t.locale){const r=_U(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(i,r)}}onClickToday(){const t=new Vr;this.clickToday.emit(t.clone())}}return e.\u0275fac=function(t){return new(t||e)(de(dm))},e.\u0275cmp=ut({type:e,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:"showToday",showNow:"showNow",hasTimePicker:"hasTimePicker",isRange:"isRange",okDisabled:"okDisabled",disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],features:[Le],decls:4,vars:6,consts:[[3,"class",4,"ngIf"],["role","button",3,"class","title","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[3,"innerHTML"],["role","button",3,"title","click"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(t,i){1&t&&(se(0,"div"),ge(1,CBe,4,6,"div",0),ge(2,wBe,2,6,"a",1),ge(3,DBe,4,6,"ul",0),le()),2&t&&(Jt("",i.prefixCls,"-footer"),J(1),ee("ngIf",i.extraFooter),J(1),ee("ngIf",i.showToday),J(1),ee("ngIf",i.hasTimePicker||i.rangeQuickSelector))},dependencies:[hn,Yr,jl,jc,Sne,Xf,wne],encapsulation:2,changeDetection:0}),e})(),One=(()=>{class e{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new Ws(1),this.emitValue$=new nt,this.inputPartChange$=new nt}initValue(t=!1){t&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(t=this.value){return Array.isArray(t)?!!t[0]||!!t[1]:!!t}makeValue(t){return this.isRange?t?t.map(i=>new Vr(i)):[]:t?new Vr(t):null}setActiveDate(t,i=!1,r="month"){this.activeDate=this.isRange?function oke(e,n,t="month",i="left"){const[r,o]=e;let l=r||new Vr,h=o||(n?l:l.add(1,t));return r&&!o?(l=r,h=n?r:r.add(1,t)):!r&&o?(l=n?o:o.add(-1,t),h=o):r&&o&&!n&&(r.isSame(o,t)||"left"===i?h=l.add(1,t):l=h.add(-1,t)),[l,h]}(t,i,{date:"month",month:"year",year:"decade"}[r],this.activeInput):LY(t)}setValue(t){this.value=t,this.valueChange$.next(this.value)}getActiveIndex(t=this.activeInput){return{left:0,right:1}[t]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),yU=(()=>{class e{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new et,this.valueChange=new et}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(t){this.value!==t&&(this.value=t,this.valueChange.emit(this.value),this.render())}changeMode(t){this.panelModeChange.emit(t)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new Vr),this.selectors=this.getSelectors()}ngOnChanges(t){(t.value||t.locale)&&this.render()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,inputs:{value:"value",locale:"locale",showSuperPreBtn:"showSuperPreBtn",showSuperNextBtn:"showSuperNextBtn",showPreBtn:"showPreBtn",showNextBtn:"showNextBtn"},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[Le]}),e})(),IHe=(()=>{class e extends yU{constructor(t){super(),this.dateHelper=t}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,_U(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}}return e.\u0275fac=function(t){return new(t||e)(de(dm))},e.\u0275cmp=ut({type:e,selectors:[["date-header"]],exportAs:["dateHeader"],features:[Zn],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,i){1&t&&(se(0,"div")(1,"button",0),He("click",function(){return i.superPrevious()}),Fe(2,"span",1),le(),se(3,"button",0),He("click",function(){return i.previous()}),Fe(4,"span",2),le(),se(5,"div"),ge(6,PBe,3,5,"ng-container",3),le(),se(7,"button",0),He("click",function(){return i.next()}),Fe(8,"span",4),le(),se(9,"button",0),He("click",function(){return i.superNext()}),Fe(10,"span",5),le()()),2&t&&(Di(i.prefixCls),J(1),Jt("",i.prefixCls,"-super-prev-btn"),yn("visibility",i.showSuperPreBtn?"visible":"hidden"),fi("title",i.superPreviousTitle()),J(2),Jt("",i.prefixCls,"-prev-btn"),yn("visibility",i.showPreBtn?"visible":"hidden"),fi("title",i.previousTitle()),J(2),Jt("",i.prefixCls,"-view"),J(1),ee("ngForOf",i.selectors),J(1),Jt("",i.prefixCls,"-next-btn"),yn("visibility",i.showNextBtn?"visible":"hidden"),fi("title",i.nextTitle()),J(2),Jt("",i.prefixCls,"-super-next-btn"),yn("visibility",i.showSuperNextBtn?"visible":"hidden"),fi("title",i.superNextTitle()))},dependencies:[xr],encapsulation:2,changeDetection:0}),e})(),xU=(()=>{class e{constructor(){this.isTemplateRef=Sfe,this.isNonEmptyString=wfe,this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new Vr,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new et,this.cellHover=new et}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}trackByBodyRow(t,i){return i.trackByIndex}trackByBodyColumn(t,i){return i.trackByIndex}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(t){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":t.isSelected,"ant-picker-cell-disabled":t.isDisabled,"ant-picker-cell-in-range":!!t.isInSelectedRange,"ant-picker-cell-range-start":!!t.isSelectedStart,"ant-picker-cell-range-end":!!t.isSelectedEnd,"ant-picker-cell-range-start-single":!!t.isStartSingle,"ant-picker-cell-range-end-single":!!t.isEndSingle,"ant-picker-cell-range-hover":!!t.isInHoverRange,"ant-picker-cell-range-hover-start":!!t.isHoverStart,"ant-picker-cell-range-hover-end":!!t.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!t.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!t.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!t.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!t.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(t){t.activeDate&&!t.activeDate.currentValue&&(this.activeDate=new Vr),(t.disabledDate||t.locale||t.showWeek||t.selectWeek||this.isDateRealChange(t.activeDate)||this.isDateRealChange(t.value)||this.isDateRealChange(t.selectedValue)||this.isDateRealChange(t.hoverValue))&&this.render()}isDateRealChange(t){if(t){const i=t.previousValue,r=t.currentValue;return Array.isArray(r)?!Array.isArray(i)||r.length!==i.length||r.some((o,l)=>{const h=i[l];return h instanceof Vr?h.isSameDay(o):h!==o}):!this.isSameDate(i,r)}return!1}isSameDate(t,i){return!t&&!i||t&&i&&i.isSameDay(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:"showWeek",selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:"canSelectWeek"},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[Le]}),e})(),LHe=(()=>{class e extends xU{constructor(t,i){super(),this.i18n=t,this.dateHelper=i}changeValueFromInside(t){this.activeDate=this.activeDate.setYear(t.getYear()).setMonth(t.getMonth()).setDate(t.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){const t=[],i=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let r=0;r<this.MAX_COL;r++){const o=i.addDays(r);t.push({trackByIndex:null,value:o.nativeDate,title:this.dateHelper.format(o.nativeDate,"E"),content:this.dateHelper.format(o.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return t}getVeryShortWeekFormat(){return 0===this.i18n.getLocaleId().toLowerCase().indexOf("zh")?"EEEEE":"EEEEEE"}makeBodyRows(){const t=[],i=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let r=0;r<this.MAX_ROW;r++){const o=i.addDays(7*r),l={isActive:!1,dateCells:[],trackByIndex:r};for(let h=0;h<7;h++){const f=o.addDays(h),m=_U(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),_=this.dateHelper.format(f.nativeDate,m),b=this.dateHelper.format(f.nativeDate,"dd"),S={trackByIndex:h,value:f.nativeDate,label:b,isSelected:!1,isDisabled:!1,isToday:!1,title:_,cellRender:f6(this.cellRender,f),fullCellRender:f6(this.fullCellRender,f),content:`${f.getDate()}`,onClick:()=>this.changeValueFromInside(f),onMouseEnter:()=>this.cellHover.emit(f)};this.addCellProperty(S,f),this.showWeek&&!l.weekNum&&(l.weekNum=this.dateHelper.getISOWeek(f.nativeDate)),f.isSameDay(this.value)&&(l.isActive=f.isSameDay(this.value)),l.dateCells.push(S)}l.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&l.isActive},t.push(l)}return t}addCellProperty(t,i){if(this.hasRangeValue()&&!this.canSelectWeek){const[r,o]=this.hoverValue,[l,h]=this.selectedValue;l?.isSameDay(i)&&(t.isSelectedStart=!0,t.isSelected=!0),h?.isSameDay(i)&&(t.isSelectedEnd=!0,t.isSelected=!0),r&&o&&(t.isHoverStart=r.isSameDay(i),t.isHoverEnd=o.isSameDay(i),t.isLastCellInPanel=i.isLastDayOfMonth(),t.isFirstCellInPanel=i.isFirstDayOfMonth(),t.isInHoverRange=r.isBeforeDay(i)&&i.isBeforeDay(o)),t.isStartSingle=l&&!h,t.isEndSingle=!l&&h,t.isInSelectedRange=l?.isBeforeDay(i)&&i.isBeforeDay(h),t.isRangeStartNearHover=l&&t.isInHoverRange,t.isRangeEndNearHover=h&&t.isInHoverRange}t.isToday=i.isToday(),t.isSelected=i.isSameDay(this.value),t.isDisabled=!!this.disabledDate?.(i.nativeDate),t.classMap=this.getClassMap(t)}getClassMap(t){const i=new Vr(t.value);return{...super.getClassMap(t),"ant-picker-cell-today":!!t.isToday,"ant-picker-cell-in-view":i.isSameMonth(this.activeDate)}}}return e.\u0275fac=function(t){return new(t||e)(de(x4),de(dm))},e.\u0275cmp=ut({type:e,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],features:[Zn],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,i){1&t&&(se(0,"table",0),ge(1,kBe,4,2,"thead",1),se(2,"tbody"),ge(3,GBe,3,4,"tr",2),le()()),2&t&&(J(1),ee("ngIf",i.headRow&&i.headRow.length>0),J(2),ee("ngForOf",i.bodyRows)("ngForTrackBy",i.trackByBodyRow))},dependencies:[Ss,xr,hn,Yr,jl,jc,kh],encapsulation:2,changeDetection:0}),e})(),RHe=(()=>{class e extends yU{previous(){}next(){}get startYear(){return 100*parseInt(""+this.value.getYear()/100,10)}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275cmp=ut({type:e,selectors:[["decade-header"]],exportAs:["decadeHeader"],features:[Zn],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,i){1&t&&(se(0,"div")(1,"button",0),He("click",function(){return i.superPrevious()}),Fe(2,"span",1),le(),se(3,"button",0),He("click",function(){return i.previous()}),Fe(4,"span",2),le(),se(5,"div"),ge(6,WBe,3,5,"ng-container",3),le(),se(7,"button",0),He("click",function(){return i.next()}),Fe(8,"span",4),le(),se(9,"button",0),He("click",function(){return i.superNext()}),Fe(10,"span",5),le()()),2&t&&(Di(i.prefixCls),J(1),Jt("",i.prefixCls,"-super-prev-btn"),yn("visibility",i.showSuperPreBtn?"visible":"hidden"),fi("title",i.superPreviousTitle()),J(2),Jt("",i.prefixCls,"-prev-btn"),yn("visibility",i.showPreBtn?"visible":"hidden"),fi("title",i.previousTitle()),J(2),Jt("",i.prefixCls,"-view"),J(1),ee("ngForOf",i.selectors),J(1),Jt("",i.prefixCls,"-next-btn"),yn("visibility",i.showNextBtn?"visible":"hidden"),fi("title",i.nextTitle()),J(2),Jt("",i.prefixCls,"-super-next-btn"),yn("visibility",i.showSuperNextBtn?"visible":"hidden"),fi("title",i.superNextTitle()))},dependencies:[xr],encapsulation:2,changeDetection:0}),e})(),BHe=(()=>{class e extends xU{get startYear(){return 100*parseInt(""+this.activeDate.getYear()/100,10)}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){const t=[],i=this.value&&this.value.getYear(),r=this.startYear,o=this.endYear,l=r-10;let h=0;for(let f=0;f<4;f++){const m={dateCells:[],trackByIndex:f};for(let _=0;_<3;_++){const b=l+10*h,S=l+10*h+9,M=`${b}-${S}`,O={trackByIndex:_,value:this.activeDate.setYear(b).nativeDate,content:M,title:M,isDisabled:!1,isSelected:i>=b&&i<=S,isLowerThanStart:S<r,isBiggerThanEnd:b>o,classMap:{},onClick(){},onMouseEnter(){}};O.classMap=this.getClassMap(O),O.onClick=()=>this.chooseDecade(b),h++,m.dateCells.push(O)}t.push(m)}return t}getClassMap(t){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!t.isBiggerThanEnd&&!t.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:t.isSelected,[`${this.prefixCls}-cell-disabled`]:t.isDisabled}}chooseDecade(t){this.value=this.activeDate.setYear(t),this.valueChange.emit(this.value)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275cmp=ut({type:e,selectors:[["decade-table"]],exportAs:["decadeTable"],features:[Zn],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,i){1&t&&(se(0,"table",0),ge(1,XBe,4,2,"thead",1),se(2,"tbody"),ge(3,sVe,3,4,"tr",2),le()()),2&t&&(J(1),ee("ngIf",i.headRow&&i.headRow.length>0),J(2),ee("ngForOf",i.bodyRows)("ngForTrackBy",i.trackByBodyRow))},dependencies:[Ss,xr,hn,Yr,jl,jc,kh],encapsulation:2,changeDetection:0}),e})(),VHe=(()=>{class e extends yU{constructor(t){super(),this.dateHelper=t}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,_U(this.locale.yearFormat))}]}}return e.\u0275fac=function(t){return new(t||e)(de(dm))},e.\u0275cmp=ut({type:e,selectors:[["month-header"]],exportAs:["monthHeader"],features:[Zn],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,i){1&t&&(se(0,"div")(1,"button",0),He("click",function(){return i.superPrevious()}),Fe(2,"span",1),le(),se(3,"button",0),He("click",function(){return i.previous()}),Fe(4,"span",2),le(),se(5,"div"),ge(6,lVe,3,5,"ng-container",3),le(),se(7,"button",0),He("click",function(){return i.next()}),Fe(8,"span",4),le(),se(9,"button",0),He("click",function(){return i.superNext()}),Fe(10,"span",5),le()()),2&t&&(Di(i.prefixCls),J(1),Jt("",i.prefixCls,"-super-prev-btn"),yn("visibility",i.showSuperPreBtn?"visible":"hidden"),fi("title",i.superPreviousTitle()),J(2),Jt("",i.prefixCls,"-prev-btn"),yn("visibility",i.showPreBtn?"visible":"hidden"),fi("title",i.previousTitle()),J(2),Jt("",i.prefixCls,"-view"),J(1),ee("ngForOf",i.selectors),J(1),Jt("",i.prefixCls,"-next-btn"),yn("visibility",i.showNextBtn?"visible":"hidden"),fi("title",i.nextTitle()),J(2),Jt("",i.prefixCls,"-super-next-btn"),yn("visibility",i.showSuperNextBtn?"visible":"hidden"),fi("title",i.superNextTitle()))},dependencies:[xr],encapsulation:2,changeDetection:0}),e})(),HHe=(()=>{class e extends xU{constructor(t){super(),this.dateHelper=t,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const t=[];let i=0;for(let r=0;r<this.MAX_ROW;r++){const o={dateCells:[],trackByIndex:r};for(let l=0;l<this.MAX_COL;l++){const h=this.activeDate.setMonth(i),f=this.isDisabledMonth(h),m=this.dateHelper.format(h.nativeDate,"MMM"),_={trackByIndex:l,value:h.nativeDate,isDisabled:f,isSelected:h.isSameMonth(this.value),content:m,title:m,classMap:{},cellRender:f6(this.cellRender,h),fullCellRender:f6(this.fullCellRender,h),onClick:()=>this.chooseMonth(_.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(h)};this.addCellProperty(_,h),o.dateCells.push(_),i++}t.push(o)}return t}isDisabledMonth(t){if(!this.disabledDate)return!1;for(let r=t.setDate(1);r.getMonth()===t.getMonth();r=r.addDays(1))if(!this.disabledDate(r.nativeDate))return!1;return!0}addCellProperty(t,i){if(this.hasRangeValue()){const[r,o]=this.hoverValue,[l,h]=this.selectedValue;l?.isSameMonth(i)&&(t.isSelectedStart=!0,t.isSelected=!0),h?.isSameMonth(i)&&(t.isSelectedEnd=!0,t.isSelected=!0),r&&o&&(t.isHoverStart=r.isSameMonth(i),t.isHoverEnd=o.isSameMonth(i),t.isLastCellInPanel=11===i.getMonth(),t.isFirstCellInPanel=0===i.getMonth(),t.isInHoverRange=r.isBeforeMonth(i)&&i.isBeforeMonth(o)),t.isStartSingle=l&&!h,t.isEndSingle=!l&&h,t.isInSelectedRange=l?.isBeforeMonth(i)&&i?.isBeforeMonth(h),t.isRangeStartNearHover=l&&t.isInHoverRange,t.isRangeEndNearHover=h&&t.isInHoverRange}else i.isSameMonth(this.value)&&(t.isSelected=!0);t.classMap=this.getClassMap(t)}chooseMonth(t){this.value=this.activeDate.setMonth(t),this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)(de(dm))},e.\u0275cmp=ut({type:e,selectors:[["month-table"]],exportAs:["monthTable"],features:[Zn],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,i){1&t&&(se(0,"table",0),ge(1,hVe,4,2,"thead",1),se(2,"tbody"),ge(3,SVe,3,4,"tr",2),le()()),2&t&&(J(1),ee("ngIf",i.headRow&&i.headRow.length>0),J(2),ee("ngForOf",i.bodyRows)("ngForTrackBy",i.trackByBodyRow))},dependencies:[Ss,xr,hn,Yr,jl,jc,kh],encapsulation:2,changeDetection:0}),e})(),YHe=(()=>{class e extends yU{get startYear(){return 10*parseInt(""+this.value.getYear()/10,10)}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=Nr(e)))(i||e)}}(),e.\u0275cmp=ut({type:e,selectors:[["year-header"]],exportAs:["yearHeader"],features:[Zn],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,i){1&t&&(se(0,"div")(1,"button",0),He("click",function(){return i.superPrevious()}),Fe(2,"span",1),le(),se(3,"button",0),He("click",function(){return i.previous()}),Fe(4,"span",2),le(),se(5,"div"),ge(6,TVe,3,5,"ng-container",3),le(),se(7,"button",0),He("click",function(){return i.next()}),Fe(8,"span",4),le(),se(9,"button",0),He("click",function(){return i.superNext()}),Fe(10,"span",5),le()()),2&t&&(Di(i.prefixCls),J(1),Jt("",i.prefixCls,"-super-prev-btn"),yn("visibility",i.showSuperPreBtn?"visible":"hidden"),fi("title",i.superPreviousTitle()),J(2),Jt("",i.prefixCls,"-prev-btn"),yn("visibility",i.showPreBtn?"visible":"hidden"),fi("title",i.previousTitle()),J(2),Jt("",i.prefixCls,"-view"),J(1),ee("ngForOf",i.selectors),J(1),Jt("",i.prefixCls,"-next-btn"),yn("visibility",i.showNextBtn?"visible":"hidden"),fi("title",i.nextTitle()),J(2),Jt("",i.prefixCls,"-super-next-btn"),yn("visibility",i.showSuperNextBtn?"visible":"hidden"),fi("title",i.superNextTitle()))},dependencies:[xr],encapsulation:2,changeDetection:0}),e})(),UHe=(()=>{class e extends xU{constructor(t){super(),this.dateHelper=t,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const t=this.activeDate&&this.activeDate.getYear(),i=10*parseInt(""+t/10,10),r=i+9,o=i-1,l=[];let h=0;for(let f=0;f<this.MAX_ROW;f++){const m={dateCells:[],trackByIndex:f};for(let _=0;_<this.MAX_COL;_++){const b=o+h,S=this.activeDate.setYear(b),M=this.dateHelper.format(S.nativeDate,"yyyy"),O=this.isDisabledYear(S),I={trackByIndex:_,value:S.nativeDate,isDisabled:O,isSameDecade:b>=i&&b<=r,isSelected:b===(this.value&&this.value.getYear()),content:M,title:M,classMap:{},isLastCellInPanel:S.getYear()===r,isFirstCellInPanel:S.getYear()===i,cellRender:f6(this.cellRender,S),fullCellRender:f6(this.fullCellRender,S),onClick:()=>this.chooseYear(I.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(S)};this.addCellProperty(I,S),m.dateCells.push(I),h++}l.push(m)}return l}getClassMap(t){return{...super.getClassMap(t),"ant-picker-cell-in-view":!!t.isSameDecade}}isDisabledYear(t){if(!this.disabledDate)return!1;for(let r=t.setMonth(0).setDate(1);r.getYear()===t.getYear();r=r.addDays(1))if(!this.disabledDate(r.nativeDate))return!1;return!0}addCellProperty(t,i){if(this.hasRangeValue()){const[r,o]=this.hoverValue,[l,h]=this.selectedValue;l?.isSameYear(i)&&(t.isSelectedStart=!0,t.isSelected=!0),h?.isSameYear(i)&&(t.isSelectedEnd=!0,t.isSelected=!0),r&&o&&(t.isHoverStart=r.isSameYear(i),t.isHoverEnd=o.isSameYear(i),t.isInHoverRange=r.isBeforeYear(i)&&i.isBeforeYear(o)),t.isStartSingle=l&&!h,t.isEndSingle=!l&&h,t.isInSelectedRange=l?.isBeforeYear(i)&&i?.isBeforeYear(h),t.isRangeStartNearHover=l&&t.isInHoverRange,t.isRangeEndNearHover=h&&t.isInHoverRange}else i.isSameYear(this.value)&&(t.isSelected=!0);t.classMap=this.getClassMap(t)}chooseYear(t){this.value=this.activeDate.setYear(t),this.valueChange.emit(this.value),this.render()}}return e.\u0275fac=function(t){return new(t||e)(de(dm))},e.\u0275cmp=ut({type:e,selectors:[["year-table"]],exportAs:["yearTable"],features:[Zn],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,i){1&t&&(se(0,"table",0),ge(1,PVe,4,2,"thead",1),se(2,"tbody"),ge(3,HVe,3,4,"tr",2),le()()),2&t&&(J(1),ee("ngIf",i.headRow&&i.headRow.length>0),J(2),ee("ngForOf",i.bodyRows)("ngForTrackBy",i.trackByBodyRow))},dependencies:[Ss,xr,hn,Yr,jl,jc,kh],encapsulation:2,changeDetection:0}),e})(),GHe=(()=>{class e{constructor(){this.panelModeChange=new et,this.headerChange=new et,this.selectDate=new et,this.selectTime=new et,this.cellHover=new et,this.prefixCls=mU}enablePrevNext(t,i){return!(!this.showTimePicker&&i===this.endPanelMode&&("left"===this.partType&&"next"===t||"right"===this.partType&&"prev"===t))}onSelectTime(t){this.selectTime.emit(new Vr(t))}onSelectDate(t){const i=t instanceof Vr?t:new Vr(t),r=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&r&&i.setHms(r.getHours(),r.getMinutes(),r.getSeconds()),this.selectDate.emit(i)}onChooseMonth(t){this.activeDate=this.activeDate.setMonth(t.getMonth()),"month"===this.endPanelMode?(this.value=t,this.selectDate.emit(t)):(this.headerChange.emit(t),this.panelModeChange.emit(this.endPanelMode))}onChooseYear(t){this.activeDate=this.activeDate.setYear(t.getYear()),"year"===this.endPanelMode?(this.value=t,this.selectDate.emit(t)):(this.headerChange.emit(t),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(t){this.activeDate=this.activeDate.setYear(t.getYear()),"decade"===this.endPanelMode?(this.value=t,this.selectDate.emit(t)):(this.headerChange.emit(t),this.panelModeChange.emit("year"))}ngOnChanges(t){t.activeDate&&!t.activeDate.currentValue&&(this.activeDate=new Vr),t.panelMode&&"time"===t.panelMode.currentValue&&(this.panelMode="date")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:"showWeek",locale:"locale",showTimePicker:"showTimePicker",timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],features:[Le],decls:8,vars:11,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn","valueChange","panelModeChange"],[3,"activeDate","value","locale","disabledDate","valueChange"],[3,"activeDate","value","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","activeDate","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn","valueChange","panelModeChange"],[3,"locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek","valueChange","cellHover"],[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn","ngModelChange"]],template:function(t,i){1&t&&(se(0,"div")(1,"div"),wt(2,0),ge(3,YVe,4,13,"ng-container",1),ge(4,UVe,4,15,"ng-container",1),ge(5,GVe,4,15,"ng-container",1),ge(6,WVe,4,18,"ng-container",2),Dt(),le(),ge(7,jVe,2,13,"ng-container",3),le()),2&t&&(Ht("ant-picker-datetime-panel",i.showTimePicker),J(1),Df("",i.prefixCls,"-",i.panelMode,"-panel"),J(1),ee("ngSwitch",i.panelMode),J(1),ee("ngSwitchCase","decade"),J(1),ee("ngSwitchCase","year"),J(1),ee("ngSwitchCase","month"),J(2),ee("ngIf",i.showTimePicker&&i.timeOptions))},dependencies:[hn,jl,jc,kh,vl,Wf,IHe,LHe,RHe,BHe,VHe,HHe,YHe,UHe,fBe],encapsulation:2,changeDetection:0}),e})(),I1e=(()=>{class e{constructor(t,i,r,o){this.datePickerService=t,this.cdr=i,this.ngZone=r,this.host=o,this.inline=!1,this.dir="ltr",this.panelModeChange=new et,this.calendarChange=new et,this.resultOk=new et,this.prefixCls=mU,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new nt,this.disabledStartTime=l=>this.disabledTime&&this.disabledTime(l,"start"),this.disabledEndTime=l=>this.disabledTime&&this.disabledTime(l,"end")}get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return"rtl"===this.dir?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}ngOnInit(){Qr(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe(st(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{as(this.host.nativeElement,"mousedown").pipe(st(this.destroy$)).subscribe(t=>t.preventDefault())})}ngOnChanges(t){(t.showTime||t.disabledTime)&&this.showTime&&this.buildTimeOptions(),t.panelMode&&(this.endPanelMode=this.panelMode),t.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateActiveDate(){const t=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(t,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){this.changeValueFromSelect(this.isRange?this.datePickerService.value[{left:0,right:1}[this.datePickerService.activeInput]]:this.datePickerService.value),this.resultOk.emit()}onClickToday(t){this.changeValueFromSelect(t,!this.showTime)}onCellHover(t){if(!this.isRange)return;const r=this.datePickerService.value[{left:1,right:0}[this.datePickerService.activeInput]];r&&(this.hoverValue=r.isBeforeDay(t)?[r,t]:[t,r])}onPanelModeChange(t,i){this.panelMode=this.isRange?0===this.datePickerService.getActiveIndex(i)?[t,this.panelMode[1]]:[this.panelMode[0],t]:t,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(t,i){if(this.isRange){const r=[];r[this.datePickerService.getActiveIndex(i)]=t,this.datePickerService.setActiveDate(r,this.hasTimePicker,this.getPanelMode(this.endPanelMode,i))}else this.datePickerService.setActiveDate(t)}onSelectTime(t,i){if(this.isRange){const r=LY(this.datePickerService.value),o=this.datePickerService.getActiveIndex(i);r[o]=this.overrideHms(t,r[o]),this.datePickerService.setValue(r)}else{const r=this.overrideHms(t,this.datePickerService.value);this.datePickerService.setValue(r)}this.datePickerService.inputPartChange$.next(),this.buildTimeOptions()}changeValueFromSelect(t,i=!0){if(this.isRange){const r=LY(this.datePickerService.value),o=this.datePickerService.activeInput;let l=o;r[this.datePickerService.getActiveIndex(o)]=t,this.checkedPartArr[this.datePickerService.getActiveIndex(o)]=!0,this.hoverValue=r,i?this.inline?(l=this.reversedPart(o),"right"===l&&(r[this.datePickerService.getActiveIndex(l)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(l)]=!1),this.datePickerService.setValue(r),this.calendarChange.emit(r),this.isBothAllowed(r)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):(Ife(r)&&(l=this.reversedPart(o),r[this.datePickerService.getActiveIndex(l)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(l)]=!1),this.datePickerService.setValue(r),this.isBothAllowed(r)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(r),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(r)&&(l=this.reversedPart(o),this.calendarChange.emit([t.clone()]))):this.datePickerService.setValue(r),this.datePickerService.inputPartChange$.next(l)}else this.datePickerService.setValue(t),this.datePickerService.inputPartChange$.next(),i&&this.isAllowed(t)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(t){return"left"===t?"right":"left"}getPanelMode(t,i){return this.isRange?t[this.datePickerService.getActiveIndex(i)]:t}getValue(t){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(t)]:this.datePickerService.value}getActiveDate(t){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(t)]:this.datePickerService.activeDate}isOneAllowed(t){const i=this.datePickerService.getActiveIndex();return vU(t[i],this.disabledDate,[this.disabledStartTime,this.disabledEndTime][i])}isBothAllowed(t){return vU(t[0],this.disabledDate,this.disabledStartTime)&&vU(t[1],this.disabledDate,this.disabledEndTime)}isAllowed(t,i=!1){return this.isRange?i?this.isBothAllowed(t):this.isOneAllowed(t):vU(t,this.disabledDate,this.disabledTime)}getTimeOptions(t){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(t)]:this.timeOptions:null}onClickPresetRange(t){const i="function"==typeof t?t():t;i&&(this.datePickerService.setValue([new Vr(i[0]),new Vr(i[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(t){"function"!=typeof t&&(this.hoverValue=[new Vr(t[0]),new Vr(t[1])])}getObjectKeys(t){return t?Object.keys(t):[]}show(t){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==t)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){const t="object"==typeof this.showTime?this.showTime:{};if(this.isRange){const i=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(t,i[0],"start"),this.overrideTimeOptions(t,i[1],"end")]}else this.timeOptions=this.overrideTimeOptions(t,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(t,i,r){let o;return o=r?"start"===r?this.disabledStartTime:this.disabledEndTime:this.disabledTime,{...t,...E1e(i,o)}}overrideHms(t,i){return t=t||new Vr,(i=i||new Vr).setHms(t.getHours(),t.getMinutes(),t.getSeconds())}}return e.\u0275fac=function(t){return new(t||e)(de(One),de(pr),de(en),de(Vt))},e.\u0275cmp=ut({type:e,selectors:[["date-range-popup"]],inputs:{isRange:"isRange",inline:"inline",showWeek:"showWeek",locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:"showToday",showNow:"showNow",showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],features:[Le],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["singlePanel",""],["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],["noTimePicker",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue","panelModeChange","cellHover","selectDate","selectTime","headerChange"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday",4,"ngIf"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday"],[3,"class","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(t,i){if(1&t&&(ge(0,eHe,9,19,"ng-container",0),ge(1,iHe,4,13,"ng-template",null,1,xn),ge(3,rHe,2,18,"ng-template",null,2,xn),ge(5,aHe,1,1,"ng-template",null,3,xn),ge(7,lHe,1,1,"ng-template",null,4,xn)),2&t){const r=fn(2);ee("ngIf",i.isRange)("ngIfElse",r)}},dependencies:[xr,hn,Yr,EHe,GHe],encapsulation:2,changeDetection:0}),e})();const Ene={position:"relative"};let jHe=(()=>{class e{constructor(t,i,r,o,l,h,f,m,_,b,S,M,O,I){this.nzConfigService=t,this.datePickerService=i,this.i18n=r,this.cdr=o,this.renderer=l,this.elementRef=h,this.dateHelper=f,this.nzResizeObserver=m,this.platform=_,this.directionality=S,this.noAnimation=M,this.nzFormStatusService=O,this.nzFormNoStatusService=I,this._nzModuleName="datePicker",this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.destroyed$=new nt,this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=Ene,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new et,this.nzOnCalendarChange=new et,this.nzOnOk=new et,this.nzOnOpenChange=new et,this.inputSize=12,this.prefixCls=mU,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...T1e],this.currentPositionX="start",this.currentPositionY="bottom",this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.document=b,this.origin=new w6(this.elementRef)}get nzShowTime(){return this.showTime}set nzShowTime(t){this.showTime="object"==typeof t?t:Tfe(t)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe(st(this.destroyed$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe(st(this.destroyed$)).subscribe(t=>{t&&(this.datePickerService.activeInput=t),this.focus(),this.updateInputWidthAndArrowLeft()}),this.elementRef.nativeElement.addEventListener("mousedown",this.onMouseDown)}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;const t={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft="left"===this.datePickerService.activeInput?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.activeBarStyle="rtl"===this.dir?{...t,right:`${this.datePickerService.arrowLeft}px`}:{...t,left:`${this.datePickerService.arrowLeft}px`},this.cdr.markForCheck()}getInput(t){if(!this.nzInline)return this.isRange?"left"===t?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){const t=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==t&&t?.focus()}onMouseDown(t){"input"!==t.target.tagName.toLowerCase()&&t.preventDefault()}onFocus(t,i){t.preventDefault(),i&&this.datePickerService.inputPartChange$.next(i),this.renderClass(!0)}onFocusout(t){t.preventDefault(),this.elementRef.nativeElement.contains(t.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&Ife(this.datePickerService.value)){const t=this.datePickerService.getActiveIndex();return void this.panel.changeValueFromSelect(this.datePickerService.value[t],!0)}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(t){t.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(t){27===t.keyCode&&this.datePickerService.initValue()}onPositionChange(t){this.currentPositionX=t.connectionPair.originX,this.currentPositionY=t.connectionPair.originY,this.cdr.detectChanges()}onClickClear(t){t.preventDefault(),t.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){const t=this.datePickerService.value;this.inputValue=this.isRange?t?t.map(i=>this.formatValue(i)):["",""]:this.formatValue(t),this.cdr.markForCheck()}formatValue(t){return this.dateHelper.format(t&&t.nativeDate,this.nzFormat)}onInputChange(t,i=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState)return void this.open();const r=this.checkValidDate(t);r&&this.realOpenState&&this.panel.changeValueFromSelect(r,i)}onKeyupEnter(t){this.onInputChange(t.target.value,!0)}checkValidDate(t){const i=new Vr(this.dateHelper.parseDate(t,this.nzFormat));return i.isValid()&&t===this.dateHelper.format(i.nativeDate,this.nzFormat)?i:null}getPlaceholder(t){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(t)]:this.nzPlaceHolder}isEmptyValue(t){return null===t||(this.isRange?!t||!Array.isArray(t)||t.every(i=>!i):!t)}isOpenHandledByUser(){return void 0!==this.nzOpen}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Ih((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),BJ(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Cn(!1)),Je(([{status:t,hasFeedback:i},r])=>({status:r?"":t,hasFeedback:i})),st(this.destroyed$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)}),this.nzLocale||this.i18n.localeChange.pipe(st(this.destroyed$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe(st(this.destroyed$)).subscribe(()=>{const t=this.datePickerService.value;this.datePickerService.initialValue=LY(t),this.onChangeFn(this.isRange?t.length?[t[0]?.nativeDate??null,t[1]?.nativeDate??null]:[]:t?t.nativeDate:null),this.onTouchedFn(),this.close()}),this.directionality.change?.pipe(st(this.destroyed$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe(st(this.destroyed$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(t){const{nzStatus:i,nzPlacement:r}=t;t.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?{...this.nzPopupStyle,...Ene}:Ene),t.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),t.nzFormat?.currentValue&&(this.isCustomFormat=!0),t.nzLocale&&this.setDefaultPlaceHolder(),t.nzRenderExtraFooter&&(this.extraFooter=f6(this.nzRenderExtraFooter)),t.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),i&&this.setStatusStyles(this.nzStatus,this.hasFeedback),r&&this.setPlacement(this.nzPlacement)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete(),this.elementRef.nativeElement.removeEventListener("mousedown",this.onMouseDown)}setModeAndFormat(){const t={year:"yyyy",month:"yyyy-MM",week:this.i18n.getDateLocale()?"RRRR-II":"yyyy-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=t[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(t){this.nzOnOpenChange.emit(t)}writeValue(t){this.setValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChangeFn=t}registerOnTouched(t){this.onTouchedFn=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){const t={year:this.getPropertyOfLocale("yearPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},i={year:this.getPropertyOfLocale("rangeYearPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?i[this.nzMode]:t[this.nzMode]}}getPropertyOfLocale(t){return this.nzLocale.lang[t]||this.i18n.getLocaleData(`DatePicker.lang.${t}`)}setValue(t){const i=this.datePickerService.makeValue(t);this.datePickerService.setValue(i),this.datePickerService.initialValue=i,this.cdr.detectChanges()}renderClass(t){t?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(t){this.nzOnPanelChange.emit(t)}onCalendarChange(t){if(this.isRange&&Array.isArray(t)){const i=t.filter(r=>r instanceof Vr).map(r=>r.nativeDate);this.nzOnCalendarChange.emit(i)}}onResultOk(){if(this.isRange){const t=this.datePickerService.value;this.nzOnOk.emit(t.length?[t[0]?.nativeDate||null,t[1]?.nativeDate||null]:[])}else this.nzOnOk.emit(this.datePickerService.value?this.datePickerService.value.nativeDate:null)}setStatusStyles(t,i){this.status=t,this.hasFeedback=i,this.cdr.markForCheck(),this.statusCls=Efe(this.prefixCls,t,i),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.elementRef.nativeElement,r):this.renderer.removeClass(this.elementRef.nativeElement,r)})}setPlacement(t){const i=yk[t];this.overlayPositions=[i,...T1e],this.currentPositionX=i.originX,this.currentPositionY=i.originY}}return e.\u0275fac=function(t){return new(t||e)(de(gm),de(One),de(x4),de(pr),de(_r),de(Vt),de(dm),de(kne),de(Pc),de(ki),de(ma,8),de(Rv,9),de(fU,8),de(v1e,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(t,i){if(1&t&&(mi(Lw,5),mi(I1e,5),mi(cHe,5),mi(uHe,5),mi(hHe,5)),2&t){let r;an(r=cn())&&(i.cdkConnectedOverlay=r.first),an(r=cn())&&(i.panel=r.first),an(r=cn())&&(i.separatorElement=r.first),an(r=cn())&&(i.pickerInput=r.first),an(r=cn())&&(i.rangePickerInputs=r)}},hostVars:16,hostBindings:function(t,i){1&t&&He("click",function(o){return i.onClickInputBox(o)}),2&t&&Ht("ant-picker",!0)("ant-picker-range",i.isRange)("ant-picker-large","large"===i.nzSize)("ant-picker-small","small"===i.nzSize)("ant-picker-disabled",i.nzDisabled)("ant-picker-rtl","rtl"===i.dir)("ant-picker-borderless",i.nzBorderless)("ant-picker-inline",i.nzInline)},inputs:{nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly",nzInline:"nzInline",nzOpen:"nzOpen",nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:"nzShowToday",nzMode:"nzMode",nzShowNow:"nzShowNow",nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:"nzShowWeekNumber",nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],features:[Ln([One,{provide:Ps,multi:!0,useExisting:Yi(()=>e)}]),Le],decls:8,vars:7,consts:[[4,"ngIf","ngIfElse"],["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","positionChange","detach","overlayKeydown"],[3,"class",4,"ngIf"],[4,"ngIf"],["autocomplete","off",3,"disabled","readOnly","ngModel","placeholder","size","ngModelChange","focus","focusout","keyup.enter"],["pickerInput",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["separatorElement",""],[4,"nzStringTemplateOutlet"],["defaultSeparator",""],["nz-icon","","nzType","swap-right","nzTheme","outline"],["autocomplete","off",3,"disabled","readOnly","size","ngModel","placeholder","click","focusout","focus","keyup.enter","ngModelChange"],["rangePickerInput",""],[3,"ngStyle"],[3,"class","click",4,"ngIf"],[3,"status",4,"ngIf"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"status"],[3,"isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir","panelModeChange","calendarChange","resultOk"],[1,"ant-picker-wrapper",2,"position","relative",3,"nzNoAnimation"]],template:function(t,i){if(1&t&&(ge(0,bHe,3,2,"ng-container",0),ge(1,CHe,2,6,"ng-template",null,1,xn),ge(3,MHe,5,10,"ng-template",null,2,xn),ge(5,DHe,2,36,"ng-template",null,3,xn),ge(7,AHe,2,3,"ng-template",4),He("positionChange",function(o){return i.onPositionChange(o)})("detach",function(){return i.close()})("overlayKeydown",function(o){return i.onOverlayKeydown(o)})),2&t){const r=fn(6);ee("ngIf",!i.nzInline)("ngIfElse",r),J(7),ee("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayOrigin",i.origin)("cdkConnectedOverlayOpen",i.realOpenState)("cdkConnectedOverlayPositions",i.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper")}},dependencies:[WLe,hn,Yr,Ys,Pv,vl,Wf,Lw,$f,M1e,Rv,_1e,R4,Xf,I1e],encapsulation:2,data:{animation:[gU]},changeDetection:0}),zt([tn()],e.prototype,"nzAllowClear",void 0),zt([tn()],e.prototype,"nzAutoFocus",void 0),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzBorderless",void 0),zt([tn()],e.prototype,"nzInputReadOnly",void 0),zt([tn()],e.prototype,"nzInline",void 0),zt([tn()],e.prototype,"nzOpen",void 0),zt([tn()],e.prototype,"nzShowToday",void 0),zt([tn()],e.prototype,"nzShowNow",void 0),zt([ss()],e.prototype,"nzSeparator",void 0),zt([ss()],e.prototype,"nzSuffixIcon",void 0),zt([ss()],e.prototype,"nzBackdrop",void 0),zt([tn()],e.prototype,"nzShowWeekNumber",void 0),e})(),L1e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[ao,jf,p6,A1e,kg]}),e})(),$He=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,jf,S6,L1e,mm,Bw,Nw,Tne,kg,A1e,vk,L1e]}),e})();class xk{ngOnInit(){this.tcGradient.length>=2&&this.setGradient(this.tcGradient[0],this.tcGradient[1])}get getGradient(){return this.gradient}get class(){return"custom-gradient"}setGradient(n,t){this.gradient=`linear-gradient(to right, ${n} 0%, ${t} 100%)`}}xk.\u0275fac=function(n){return new(n||xk)},xk.\u0275dir=St({type:xk,selectors:[["","tcGradient",""]],hostVars:4,hostBindings:function(n,t){2&n&&(Di(t.class),yn("background-image",t.getGradient))},inputs:{tcGradient:"tcGradient"}});const XHe=function(){return["#fff","#ebebeb"]},qHe=function(e,n){return{"mb-0":e,"mb-md-0":n}},ZHe=function(e,n){return{value:e,date:n}},KHe=function(e){return["../slot_view",e]};function QHe(e,n){if(1&e&&(se(0,"div",10)(1,"tc-card",11)(2,"h3",12),Be(3),le(),se(4,"p"),Be(5),le(),se(6,"div",13)(7,"a",14),Be(8,"Reserve"),le()()()()),2&e){const t=n.$implicit,i=n.last,r=n.index,o=ue();J(1),ee("img",t.img)("tcGradient",Ph(9,XHe))("ngClass",Cs(10,qHe,i,r===o.slotelist.length-2||r===o.slotelist.length-3)),J(2),In("Slote A",r+1,""),J(2),Bt(t.car_type),J(2),ee("routerLink",ei(16,KHe,Cs(13,ZHe,t.slote_id,o.appointmentForm.value.date)))("view","accent")("outline",!0)("afterIcon","icofont-prescription")}}class bk extends pm{constructor(n,t,i,r){super(n,t),this.modal=i,this.formBuilder=r,this.slotelist=[],this.pageData={title:"Reservation",breadcrumbs:[{title:"Admin",route:"default-dashboard"},{title:"Reservation"}]},this.departments=[]}ngOnInit(){super.ngOnInit(),this.getData("assets/data/shade.json","shade"),this.getData("assets/data/active_inactive.json","disable_person"),this.getData("assets/data/active_inactive.json","visible"),this.getData("assets/data/vehicle_type.json","car_type"),this.getData("http://localhost:3000/api/create_slote","slotelist","setLoaded"),this.initForm(),this.user_type=localStorage.getItem("user_type")}search(){this.slotelist=[],this.postdata("slot-settings","slotelist","setLoaded",this.appointmentForm.value)}initForm(){this.appointmentForm=this.formBuilder.group({car_type:["",mo.required],disable_person:[0,mo.required],shade:["",mo.required],date:["",mo.required]})}ngOnDestroy(){super.ngOnDestroy()}}function JHe(e,n){if(1&e&&(se(0,"strong"),Be(1),le()),2&e){const t=n.$implicit;J(1),Bt(t)}}function eYe(e,n){if(1&e&&(se(0,"strong"),Be(1),le()),2&e){const t=n.$implicit;J(1),Bt(t)}}function tYe(e,n){if(1&e&&(se(0,"span",4),Be(1),le()),2&e){const t=n.$implicit;ee("tcColor","#a5a5a5"),J(1),Bt(t)}}function nYe(e,n){if(1&e&&(se(0,"span",4),Be(1),le()),2&e){const t=n.$implicit;ee("tcColor","#a5a5a5"),J(1),Bt(t)}}bk.\u0275fac=function(n){return new(n||bk)(de(Mc),de(Dc),de(Dg),de(zv))},bk.\u0275cmp=ut({type:bk,selectors:[["app-reservation"]],features:[Zn],decls:20,vars:12,consts:[[1,"mb-2"],[1,"row",3,"formGroup"],[1,"col-12","col-md-3"],["formControlName","car_type",3,"placeholder","options"],["formControlName","disable_person",3,"placeholder","options"],["formControlName","shade",3,"placeholder","options"],["formControlName","date"],["tc-button","",3,"block","view","tcShape","afterIcon","click"],[1,"row"],["class","col-12 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-4"],[1,"department",3,"img","tcGradient","ngClass"],[1,"h4","mt-0"],[1,"button-box","pb-2"],["tc-button","",3,"routerLink","view","outline","afterIcon"]],template:function(n,t){1&n&&(se(0,"div")(1,"tc-card",0)(2,"form",1)(3,"div",2)(4,"tc-form-group"),Fe(5,"tc-select",3),le()(),se(6,"div",2)(7,"tc-form-group"),Fe(8,"tc-select",4),le()(),se(9,"div",2)(10,"tc-form-group"),Fe(11,"tc-select",5),le()(),se(12,"div",2)(13,"tc-form-group"),Fe(14,"nz-date-picker",6),le()(),se(15,"div",2)(16,"button",7),He("click",function(){return t.search()}),Be(17," Search "),le()()()()(),se(18,"div",8),ge(19,QHe,9,18,"div",9),le()),2&n&&(J(2),ee("formGroup",t.appointmentForm),J(3),ee("placeholder","Select Vehicle Type")("options",t.car_type),J(3),ee("placeholder","Disable person")("options",t.disable_person),J(3),ee("placeholder","Shade")("options",t.shade),J(5),ee("block",!0)("view","success")("tcShape",500)("afterIcon","icofont-pixels"),J(3),ee("ngForOf",t.slotelist))},dependencies:[Ss,xr,T4,vl,S4,fm,Av,Eh,jHe,xk,D4,Lh,Ev,Pg,Ov]});class Ck extends pm{constructor(n,t,i){super(n,t),this.modal=i,this.customers=[],this.pageData={title:"Customer List",breadcrumbs:[{title:"Admin",route:"default-dashboard"},{title:"Slote List"}]},this.customers=[]}ngOnInit(){super.ngOnInit(),this.postdata("get_customer_data","customers","setLoaded",{})}ngOnDestroy(){super.ngOnDestroy()}}Ck.\u0275fac=function(n){return new(n||Ck)(de(Mc),de(Dc),de(Dg))},Ck.\u0275cmp=ut({type:Ck,selectors:[["app-customers-list"]],features:[Zn],decls:14,vars:15,consts:[[1,"mb-0"],[3,"rows","hovered","pagination"],[3,"columnTitle","columnName","enableSorting"],["tableTDTemplate",""],[1,"nowrap",3,"tcColor"]],template:function(n,t){1&n&&(se(0,"tc-card",0)(1,"tc-table",1)(2,"tc-table-col",2),ge(3,JHe,2,1,"ng-template",null,3,xn),le(),se(5,"tc-table-col",2),ge(6,eYe,2,1,"ng-template",null,3,xn),le(),se(8,"tc-table-col",2),ge(9,tYe,2,2,"ng-template",null,3,xn),le(),se(11,"tc-table-col",2),ge(12,nYe,2,2,"ng-template",null,3,xn),le()()()),2&n&&(J(1),ee("rows",t.customers)("hovered",!0)("pagination",!0),J(1),ee("columnTitle","Customer id")("columnName","cust_id")("enableSorting",!0),J(3),ee("columnTitle","Name")("columnName","name")("enableSorting",!0),J(3),ee("columnTitle","Email")("columnName","email")("enableSorting",!0),J(3),ee("columnTitle","Mobile")("columnName","mob")("enableSorting",!0))},dependencies:[Hu,Ev,y6,Ow]});let iYe=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),R1e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[iYe]}),e})();function V1e(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function H1e(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const hYe=new pt("cdk-input-modality-detector-options"),dYe={ignoreKeys:[18,17,224,91,16]},Vw=fk({passive:!0,capture:!0});let fYe=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new wn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ag(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(V1e(l)?"keyboard":"mouse"),this._mostRecentTarget=Ag(l))},this._onTouchstart=l=>{H1e(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ag(l))},this._options={...dYe,...o},this.modalityDetected=this._modality.pipe(Mne(1)),this.modalityChanged=this.modalityDetected.pipe(Ih()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Vw),r.addEventListener("mousedown",this._onMousedown,Vw),r.addEventListener("touchstart",this._onTouchstart,Vw)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vw),document.removeEventListener("mousedown",this._onMousedown,Vw),document.removeEventListener("touchstart",this._onTouchstart,Vw))}}return e.\u0275fac=function(t){return new(t||e)(Ve(Pc),Ve(en),Ve(ki),Ve(hYe,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const gYe=new pt("cdk-focus-monitor-default-options"),bU=fk({passive:!0,capture:!0});let CU=(()=>{class e{constructor(t,i,r,o,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nt,this._rootNodeFocusAndBlurListener=h=>{for(let m=Ag(h);m;m=m.parentElement)"focus"===h.type?this._onFocus(h,m):this._onBlur(h,m)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=ml(t);if(!this._platform.isBrowser||1!==r.nodeType)return Cn(null);const o=lne(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const h={checkChildren:i,subject:new nt,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=ml(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=ml(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,f])=>this._originChanged(h,i,f)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Ag(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,bU),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,bU)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(st(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bU),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bU),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)(Ve(en),Ve(Pc),Ve(fYe),Ve(ki,8),Ve(gYe,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const U1e="cdk-high-contrast-black-on-white",G1e="cdk-high-contrast-white-on-black",Ine="cdk-high-contrast-active";let mYe=(()=>{class e{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=bn(YFe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ine,U1e,G1e),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Ine,U1e):2===i&&t.add(Ine,G1e)}}}return e.\u0275fac=function(t){return new(t||e)(Ve(Pc),Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Lne=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(Ve(mYe))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[R1e]}),e})();const W1e=["*"],vYe=["inputElement"],_Ye=["nz-checkbox",""];let yYe=(()=>{class e{constructor(t,i){this.nzOnChange=new et,this.checkboxList=[],t.addClass(i.nativeElement,"ant-checkbox-group")}addCheckbox(t){this.checkboxList.push(t)}removeCheckbox(t){this.checkboxList.splice(this.checkboxList.indexOf(t),1)}onChange(){const t=this.checkboxList.filter(i=>i.nzChecked).map(i=>i.nzValue);this.nzOnChange.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(de(_r),de(Vt))},e.\u0275cmp=ut({type:e,selectors:[["nz-checkbox-wrapper"]],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:W1e,decls:1,vars:0,template:function(t,i){1&t&&(fr(),Ki(0))},encapsulation:2,changeDetection:0}),e})(),xYe=(()=>{class e{constructor(t,i,r,o,l,h,f){this.ngZone=t,this.elementRef=i,this.nzCheckboxWrapperComponent=r,this.cdr=o,this.focusMonitor=l,this.directionality=h,this.nzFormStatusService=f,this.dir="ltr",this.destroy$=new nt,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new et,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}innerCheckedChange(t){this.nzDisabled||(this.nzChecked=t,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(t){this.nzChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe(st(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{as(this.elementRef.nativeElement,"click").pipe(st(this.destroy$)).subscribe(t=>{t.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),as(this.inputElement.nativeElement,"click").pipe(st(this.destroy$)).subscribe(t=>t.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(Vt),de(yYe,8),de(pr),de(CU),de(ma,8),de(fU,8))},e.\u0275cmp=ut({type:e,selectors:[["","nz-checkbox",""]],viewQuery:function(t,i){if(1&t&&mi(vYe,7),2&t){let r;an(r=cn())&&(i.inputElement=r.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:6,hostBindings:function(t,i){2&t&&Ht("ant-checkbox-wrapper-in-form-item",!!i.nzFormStatusService)("ant-checkbox-wrapper-checked",i.nzChecked)("ant-checkbox-rtl","rtl"===i.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[Ln([{provide:Ps,useExisting:Yi(()=>e),multi:!0}])],attrs:_Ye,ngContentSelectors:W1e,decls:6,vars:11,consts:[[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"checked","ngModel","disabled","ngModelChange"],["inputElement",""],[1,"ant-checkbox-inner"]],template:function(t,i){1&t&&(fr(),se(0,"span",0)(1,"input",1,2),He("ngModelChange",function(o){return i.innerCheckedChange(o)}),le(),Fe(3,"span",3),le(),se(4,"span"),Ki(5),le()),2&t&&(Ht("ant-checkbox-checked",i.nzChecked&&!i.nzIndeterminate)("ant-checkbox-disabled",i.nzDisabled)("ant-checkbox-indeterminate",i.nzIndeterminate),J(1),ee("checked",i.nzChecked)("ngModel",i.nzChecked)("disabled",i.nzDisabled),oi("autofocus",i.nzAutoFocus?"autofocus":null)("id",i.nzId))},dependencies:[Rte,vl,Wf],encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzAutoFocus",void 0),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzIndeterminate",void 0),zt([tn()],e.prototype,"nzChecked",void 0),e})(),bYe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,jf,Lne]}),e})();const CYe=["nz-submenu-title",""];function wYe(e,n){1&e&&Fe(0,"span",4),2&e&&ee("nzType",ue().nzIcon)}function SYe(e,n){if(1&e&&(wt(0),se(1,"span"),Be(2),le(),Dt()),2&e){const t=ue();J(2),Bt(t.nzTitle)}}function TYe(e,n){1&e&&Fe(0,"span",8)}function MYe(e,n){1&e&&Fe(0,"span",9)}function DYe(e,n){1&e&&(se(0,"span",5),ge(1,TYe,1,0,"span",6),ge(2,MYe,1,0,"span",7),le()),2&e&&(ee("ngSwitch",ue().dir),J(1),ee("ngSwitchCase","rtl"))}function PYe(e,n){1&e&&Fe(0,"span",10)}const AYe=["*"],zYe=["nz-submenu-inline-child",""];function kYe(e,n){}const OYe=["nz-submenu-none-inline-child",""];function EYe(e,n){}const IYe=["nz-submenu",""];function LYe(e,n){1&e&&Ki(0,0,["*ngIf","!nzTitle"])}function RYe(e,n){if(1&e&&Fe(0,"div",6),2&e){const t=ue(),i=fn(7);ee("mode",t.mode)("nzOpen",t.nzOpen)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("menuClass",t.nzMenuClassName)("templateOutlet",i)}}function NYe(e,n){if(1&e){const t=Ft();se(0,"div",8),He("subMenuMouseState",function(r){return Xe(t),Ze(ue(2).setMouseEnterState(r))}),le()}if(2&e){const t=ue(2),i=fn(7);ee("theme",t.theme)("mode",t.mode)("nzOpen",t.nzOpen)("position",t.position)("nzDisabled",t.nzDisabled)("isMenuInsideDropDown",t.isMenuInsideDropDown)("templateOutlet",i)("menuClass",t.nzMenuClassName)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}function FYe(e,n){if(1&e){const t=Ft();ge(0,NYe,1,10,"ng-template",7),He("positionChange",function(r){return Xe(t),Ze(ue().onPositionChange(r))})}if(2&e){const t=ue(),i=fn(1);ee("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayWidth",t.triggerWidth)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function BYe(e,n){1&e&&Ki(0,1)}const VYe=[[["","title",""]],"*"],HYe=["[title]","*"],M6=new pt("NzIsInDropDownMenuToken"),j1e=new pt("NzMenuServiceLocalToken");let Nv=(()=>{class e{constructor(){this.descendantMenuItemClick$=new nt,this.childMenuItemClick$=new nt,this.theme$=new wn("light"),this.mode$=new wn("vertical"),this.inlineIndent$=new wn(24),this.isChildSubMenuOpen$=new wn(!1)}onDescendantMenuItemClick(t){this.descendantMenuItemClick$.next(t)}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setMode(t){this.mode$.next(t)}setTheme(t){this.theme$.next(t)}setInlineIndent(t){this.inlineIndent$.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Rne=(()=>{class e{constructor(t,i,r){this.nzHostSubmenuService=t,this.nzMenuService=i,this.isMenuInsideDropDown=r,this.mode$=this.nzMenuService.mode$.pipe(Je(f=>"inline"===f?"inline":"vertical"===f||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new wn(!1),this.isChildSubMenuOpen$=new wn(!1),this.isMouseEnterTitleOrOverlay$=new nt,this.childMenuItemClick$=new nt,this.destroy$=new nt,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const o=this.childMenuItemClick$.pipe(Cr(()=>this.mode$),kr(f=>"inline"!==f||this.isMenuInsideDropDown),mg(!1)),l=Qr(this.isMouseEnterTitleOrOverlay$,o);Go([this.isChildSubMenuOpen$,l]).pipe(Je(([f,m])=>f||m),Ew(150),Ih(),st(this.destroy$)).pipe(Ih()).subscribe(f=>{this.setOpenStateWithoutDebounce(f),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(f):this.nzMenuService.isChildSubMenuOpen$.next(f)})}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setOpenStateWithoutDebounce(t){this.isCurrentSubMenuOpen$.next(t)}setMouseEnterTitleOrOverlayState(t){this.isMouseEnterTitleOrOverlay$.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ve(e,12),Ve(Nv),Ve(M6))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Nne=(()=>{class e{constructor(t,i,r,o,l,h,f){this.nzMenuService=t,this.cdr=i,this.nzSubmenuService=r,this.isMenuInsideDropDown=o,this.directionality=l,this.routerLink=h,this.router=f,this.destroy$=new nt,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new nt,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,f&&this.router.events.pipe(st(this.destroy$),kr(m=>m instanceof Vf)).subscribe(()=>{this.updateRouterActive()})}clickMenuItem(t){this.nzDisabled?(t.preventDefault(),t.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(t){this.nzSelected=t,this.selected$.next(t)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.nzSelected!==t&&(this.nzSelected=t,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.routerLink&&t(this.routerLink)||this.listOfRouterLink.some(t)}isLinkActive(t){return i=>t.isActive(i.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}ngOnInit(){Go([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(st(this.destroy$)).subscribe(([t,i])=>{this.inlinePaddingLeft="inline"===t?this.level*i:null}),this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(st(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(t){t.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(Nv),de(pr),de(Rne,8),de(M6),de(ma,8),de(Eh,8),de(go,8))},e.\u0275dir=St({type:e,selectors:[["","nz-menu-item",""]],contentQueries:function(t,i,r){if(1&t&&Uo(r,Eh,5),2&t){let o;an(o=cn())&&(i.listOfRouterLink=o)}},hostVars:20,hostBindings:function(t,i){1&t&&He("click",function(o){return i.clickMenuItem(o)}),2&t&&(yn("padding-left","rtl"===i.dir?null:i.nzPaddingLeft||i.inlinePaddingLeft,"px")("padding-right","rtl"===i.dir?i.nzPaddingLeft||i.inlinePaddingLeft:null,"px"),Ht("ant-dropdown-menu-item",i.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",i.isMenuInsideDropDown&&i.nzSelected)("ant-dropdown-menu-item-danger",i.isMenuInsideDropDown&&i.nzDanger)("ant-dropdown-menu-item-disabled",i.isMenuInsideDropDown&&i.nzDisabled)("ant-menu-item",!i.isMenuInsideDropDown)("ant-menu-item-selected",!i.isMenuInsideDropDown&&i.nzSelected)("ant-menu-item-danger",!i.isMenuInsideDropDown&&i.nzDanger)("ant-menu-item-disabled",!i.isMenuInsideDropDown&&i.nzDisabled))},inputs:{nzPaddingLeft:"nzPaddingLeft",nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter"},exportAs:["nzMenuItem"],features:[Le]}),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzSelected",void 0),zt([tn()],e.prototype,"nzDanger",void 0),zt([tn()],e.prototype,"nzMatchRouterExact",void 0),zt([tn()],e.prototype,"nzMatchRouter",void 0),e})(),YYe=(()=>{class e{constructor(t,i){this.cdr=t,this.directionality=i,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new et,this.subMenuMouseState=new et,this.dir="ltr",this.destroy$=new nt}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}}return e.\u0275fac=function(t){return new(t||e)(de(pr),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(t,i){1&t&&He("click",function(){return i.clickTitle()})("mouseenter",function(){return i.setMouseState(!0)})("mouseleave",function(){return i.setMouseState(!1)}),2&t&&(yn("padding-left","rtl"===i.dir?null:i.paddingLeft,"px")("padding-right","rtl"===i.dir?i.paddingLeft:null,"px"),Ht("ant-dropdown-menu-submenu-title",i.isMenuInsideDropDown)("ant-menu-submenu-title",!i.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:CYe,ngContentSelectors:AYe,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(t,i){if(1&t&&(fr(),ge(0,wYe,1,1,"span",0),ge(1,SYe,3,1,"ng-container",1),Ki(2),ge(3,DYe,3,2,"span",2),ge(4,PYe,1,0,"ng-template",null,3,xn)),2&t){const r=fn(5);ee("ngIf",i.nzIcon),J(1),ee("nzStringTemplateOutlet",i.nzTitle),J(2),ee("ngIf",i.isMenuInsideDropDown)("ngIfElse",r)}},dependencies:[hn,jl,jc,kh,$f,R4],encapsulation:2,changeDetection:0}),e})(),UYe=(()=>{class e{constructor(t,i,r){this.elementRef=t,this.renderer=i,this.directionality=r,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new nt}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{mode:i,nzOpen:r,menuClass:o}=t;(i||r)&&this.calcMotionState(),o&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(l=>!!l).forEach(l=>{this.renderer.removeClass(this.elementRef.nativeElement,l)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(l=>!!l).forEach(l=>{this.renderer.addClass(this.elementRef.nativeElement,l)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(_r),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(t,i){2&t&&(Oy("@collapseMotion",i.expandState),Ht("ant-menu-rtl","rtl"===i.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[Le],attrs:zYe,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&ge(0,kYe,0,0,"ng-template",0),2&t&&ee("ngTemplateOutlet",i.templateOutlet)},dependencies:[Yr],encapsulation:2,data:{animation:[pBe]},changeDetection:0}),e})(),GYe=(()=>{class e{constructor(t){this.directionality=t,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new et,this.expandState="collapsed",this.dir="ltr",this.destroy$=new nt}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{mode:i,nzOpen:r}=t;(i||r)&&this.calcMotionState()}}return e.\u0275fac=function(t){return new(t||e)(de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(t,i){1&t&&He("mouseenter",function(){return i.setMouseState(!0)})("mouseleave",function(){return i.setMouseState(!1)}),2&t&&(Oy("@slideMotion",i.expandState)("@zoomBigMotion",i.expandState),Ht("ant-menu-light","light"===i.theme)("ant-menu-dark","dark"===i.theme)("ant-menu-submenu-placement-bottom","horizontal"===i.mode)("ant-menu-submenu-placement-right","vertical"===i.mode&&"right"===i.position)("ant-menu-submenu-placement-left","vertical"===i.mode&&"left"===i.position)("ant-menu-submenu-rtl","rtl"===i.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[Le],attrs:OYe,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&(se(0,"div",0),ge(1,EYe,0,0,"ng-template",1),le()),2&t&&(Ht("ant-dropdown-menu",i.isMenuInsideDropDown)("ant-menu",!i.isMenuInsideDropDown)("ant-dropdown-menu-vertical",i.isMenuInsideDropDown)("ant-menu-vertical",!i.isMenuInsideDropDown)("ant-dropdown-menu-sub",i.isMenuInsideDropDown)("ant-menu-sub",!i.isMenuInsideDropDown)("ant-menu-rtl","rtl"===i.dir),ee("ngClass",i.menuClass),J(1),ee("ngTemplateOutlet",i.templateOutlet))},dependencies:[Ss,Yr],encapsulation:2,data:{animation:[vBe,gU]},changeDetection:0}),e})();const $1e=[Hr.rightTop,Hr.right,Hr.rightBottom,Hr.leftTop,Hr.left,Hr.leftBottom],WYe=[Hr.bottomLeft,Hr.bottomRight,Hr.topRight,Hr.topLeft];let jYe=(()=>{class e{constructor(t,i,r,o,l,h,f){this.nzMenuService=t,this.cdr=i,this.nzSubmenuService=r,this.platform=o,this.isMenuInsideDropDown=l,this.directionality=h,this.noAnimation=f,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new et,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new nt,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=$1e,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}setOpenStateWithoutDebounce(t){this.nzSubmenuService.setOpenStateWithoutDebounce(t)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(t){this.isActive=t,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(t)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&"bottomLeft"===this.nzPlacement&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(t){const i=Pne(t);"rightTop"===i||"rightBottom"===i||"right"===i?this.position="right":("leftTop"===i||"leftBottom"===i||"left"===i)&&(this.position="left")}ngOnInit(){this.nzMenuService.theme$.pipe(st(this.destroy$)).subscribe(t=>{this.theme=t,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(st(this.destroy$)).subscribe(t=>{this.mode=t,"horizontal"===t?this.overlayPositions=[Hr[this.nzPlacement],...WYe]:"vertical"===t&&(this.overlayPositions=$1e),this.cdr.markForCheck()}),Go([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(st(this.destroy$)).subscribe(([t,i])=>{this.inlinePaddingLeft="inline"===t?this.level*i:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(st(this.destroy$)).subscribe(t=>{this.isActive=t,t!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=t,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const t=this.listOfNzMenuItemDirective,i=t.changes,r=Qr(i,...t.map(o=>o.selected$));i.pipe(So(t),so(()=>r),So(!0),Je(()=>t.some(o=>o.nzSelected)),st(this.destroy$)).subscribe(o=>{this.isSelected=o,this.cdr.markForCheck()})}ngOnChanges(t){const{nzOpen:i}=t;i&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(Nv),de(pr),de(Rne),de(Pc),de(M6),de(ma,8),de(Rv,9))},e.\u0275cmp=ut({type:e,selectors:[["","nz-submenu",""]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,e,5),Uo(r,Nne,5)),2&t){let o;an(o=cn())&&(i.listOfNzSubMenuComponent=o),an(o=cn())&&(i.listOfNzMenuItemDirective=o)}},viewQuery:function(t,i){if(1&t&&mi(w6,7,Vt),2&t){let r;an(r=cn())&&(i.cdkOverlayOrigin=r.first)}},hostVars:34,hostBindings:function(t,i){2&t&&Ht("ant-dropdown-menu-submenu",i.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",i.isMenuInsideDropDown&&i.nzDisabled)("ant-dropdown-menu-submenu-open",i.isMenuInsideDropDown&&i.nzOpen)("ant-dropdown-menu-submenu-selected",i.isMenuInsideDropDown&&i.isSelected)("ant-dropdown-menu-submenu-vertical",i.isMenuInsideDropDown&&"vertical"===i.mode)("ant-dropdown-menu-submenu-horizontal",i.isMenuInsideDropDown&&"horizontal"===i.mode)("ant-dropdown-menu-submenu-inline",i.isMenuInsideDropDown&&"inline"===i.mode)("ant-dropdown-menu-submenu-active",i.isMenuInsideDropDown&&i.isActive)("ant-menu-submenu",!i.isMenuInsideDropDown)("ant-menu-submenu-disabled",!i.isMenuInsideDropDown&&i.nzDisabled)("ant-menu-submenu-open",!i.isMenuInsideDropDown&&i.nzOpen)("ant-menu-submenu-selected",!i.isMenuInsideDropDown&&i.isSelected)("ant-menu-submenu-vertical",!i.isMenuInsideDropDown&&"vertical"===i.mode)("ant-menu-submenu-horizontal",!i.isMenuInsideDropDown&&"horizontal"===i.mode)("ant-menu-submenu-inline",!i.isMenuInsideDropDown&&"inline"===i.mode)("ant-menu-submenu-active",!i.isMenuInsideDropDown&&i.isActive)("ant-menu-submenu-rtl","rtl"===i.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled",nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[Ln([Rne]),Le],attrs:IYe,ngContentSelectors:HYe,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(t,i){if(1&t&&(fr(VYe),se(0,"div",0,1),He("subMenuMouseState",function(o){return i.setMouseEnterState(o)})("toggleSubMenu",function(){return i.toggleSubMenu()}),ge(2,LYe,1,0,"ng-content",2),le(),ge(3,RYe,1,6,"div",3),ge(4,FYe,1,5,"ng-template",null,4,xn),ge(6,BYe,1,0,"ng-template",null,5,xn)),2&t){const r=fn(5);ee("nzIcon",i.nzIcon)("nzTitle",i.nzTitle)("mode",i.mode)("nzDisabled",i.nzDisabled)("isMenuInsideDropDown",i.isMenuInsideDropDown)("paddingLeft",i.nzPaddingLeft||i.inlinePaddingLeft),J(2),ee("ngIf",!i.nzTitle),J(1),ee("ngIf","inline"===i.mode)("ngIfElse",r)}},dependencies:[hn,Lw,w6,Rv,YYe,UYe,GYe],encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzOpen",void 0),zt([tn()],e.prototype,"nzDisabled",void 0),e})();function $Ye(e,n){return e||n}function XYe(e){return e||!1}let qYe=(()=>{class e{constructor(t,i,r,o){this.nzMenuService=t,this.isMenuInsideDropDown=i,this.cdr=r,this.directionality=o,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new et,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new wn(this.nzInlineCollapsed),this.mode$=new wn(this.nzMode),this.destroy$=new nt,this.listOfOpenedNzSubMenuComponent=[]}setInlineCollapsed(t){this.nzInlineCollapsed=t,this.inlineCollapsed$.next(t)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(t=>t.nzOpen),this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}ngOnInit(){Go([this.inlineCollapsed$,this.mode$]).pipe(st(this.destroy$)).subscribe(([t,i])=>{this.actualMode=t?"vertical":i,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(st(this.destroy$)).subscribe(t=>{this.nzClick.emit(t),this.nzSelectable&&!t.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(i=>i.setSelectedState(i===t))}),this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(st(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzInlineCollapsed:i,nzInlineIndent:r,nzTheme:o,nzMode:l}=t;i&&this.inlineCollapsed$.next(this.nzInlineCollapsed),r&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),o&&this.nzMenuService.setTheme(this.nzTheme),l&&(this.mode$.next(this.nzMode),!t.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(h=>h.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(Nv),de(M6),de(pr),de(ma,8))},e.\u0275dir=St({type:e,selectors:[["","nz-menu",""]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,Nne,5),Uo(r,jYe,5)),2&t){let o;an(o=cn())&&(i.listOfNzMenuItemDirective=o),an(o=cn())&&(i.listOfNzSubMenuComponent=o)}},hostVars:34,hostBindings:function(t,i){2&t&&Ht("ant-dropdown-menu",i.isMenuInsideDropDown)("ant-dropdown-menu-root",i.isMenuInsideDropDown)("ant-dropdown-menu-light",i.isMenuInsideDropDown&&"light"===i.nzTheme)("ant-dropdown-menu-dark",i.isMenuInsideDropDown&&"dark"===i.nzTheme)("ant-dropdown-menu-vertical",i.isMenuInsideDropDown&&"vertical"===i.actualMode)("ant-dropdown-menu-horizontal",i.isMenuInsideDropDown&&"horizontal"===i.actualMode)("ant-dropdown-menu-inline",i.isMenuInsideDropDown&&"inline"===i.actualMode)("ant-dropdown-menu-inline-collapsed",i.isMenuInsideDropDown&&i.nzInlineCollapsed)("ant-menu",!i.isMenuInsideDropDown)("ant-menu-root",!i.isMenuInsideDropDown)("ant-menu-light",!i.isMenuInsideDropDown&&"light"===i.nzTheme)("ant-menu-dark",!i.isMenuInsideDropDown&&"dark"===i.nzTheme)("ant-menu-vertical",!i.isMenuInsideDropDown&&"vertical"===i.actualMode)("ant-menu-horizontal",!i.isMenuInsideDropDown&&"horizontal"===i.actualMode)("ant-menu-inline",!i.isMenuInsideDropDown&&"inline"===i.actualMode)("ant-menu-inline-collapsed",!i.isMenuInsideDropDown&&i.nzInlineCollapsed)("ant-menu-rtl","rtl"===i.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[Ln([{provide:j1e,useClass:Nv},{provide:Nv,useFactory:$Ye,deps:[[new mf,new M1,Nv],j1e]},{provide:M6,useFactory:XYe,deps:[[new mf,new M1,M6]]}]),Le]}),zt([tn()],e.prototype,"nzInlineCollapsed",void 0),zt([tn()],e.prototype,"nzSelectable",void 0),e})(),Fne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,E4,S6,mm,Nw,kg]}),e})();function ZYe(e,n){if(1&e){const t=Ft();se(0,"div",0),He("@slideMotion.done",function(r){return Xe(t),Ze(ue().onAnimationEvent(r))})("mouseenter",function(){return Xe(t),Ze(ue().setMouseState(!0))})("mouseleave",function(){return Xe(t),Ze(ue().setMouseState(!1))}),Ki(1),le()}if(2&e){const t=ue();Ht("ant-dropdown-rtl","rtl"===t.dir),ee("ngClass",t.nzOverlayClassName)("ngStyle",t.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}const KYe=["*"],JYe=[Hr.bottomLeft,Hr.bottomRight,Hr.topRight,Hr.topLeft];let X1e=(()=>{class e{constructor(t,i,r,o,l,h){this.nzConfigService=t,this.elementRef=i,this.overlay=r,this.renderer=o,this.viewContainerRef=l,this.platform=h,this._nzModuleName="dropDown",this.overlayRef=null,this.destroy$=new nt,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new wn(!1),this.nzTrigger$=new wn("hover"),this.overlayClose$=new nt,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new et}setDropdownMenuValue(t,i){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(t,i)}ngAfterViewInit(){if(this.nzDropdownMenu){const t=this.elementRef.nativeElement,i=Qr(as(t,"mouseenter").pipe(mg(!0)),as(t,"mouseleave").pipe(mg(!1))),o=Qr(this.nzDropdownMenu.mouseState$,i),l=as(t,"click").pipe(Je(()=>!this.nzVisible)),m=Qr(this.nzTrigger$.pipe(so(b=>"hover"===b?o:"click"===b?l:cr)),this.nzDropdownMenu.descendantMenuItemClick$.pipe(kr(()=>this.nzClickHide),mg(!1)),this.overlayClose$).pipe(kr(()=>!this.nzDisabled));Go([Qr(this.inputVisible$,m),this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(Je(([b,S])=>b||S),Ew(150),Ih(),kr(()=>this.platform.isBrowser),st(this.destroy$)).subscribe(b=>{const M=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:t).getBoundingClientRect().width;this.nzVisible!==b&&this.nzVisibleChange.emit(b),this.nzVisible=b,b?(this.overlayRef?this.overlayRef.getConfig().minWidth=M:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:M,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),Qr(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(kr(O=>!this.elementRef.nativeElement.contains(O.target))),this.overlayRef.keydownEvents().pipe(kr(O=>27===O.keyCode&&!Tge(O)))).pipe(st(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([Hr[this.nzPlacement],...JYe]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new rU(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(st(this.destroy$)).subscribe(b=>{"void"===b.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(t){const{nzVisible:i,nzDisabled:r,nzOverlayClassName:o,nzOverlayStyle:l,nzTrigger:h}=t;if(h&&this.nzTrigger$.next(this.nzTrigger),i&&this.inputVisible$.next(this.nzVisible),r){const f=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(f,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(f,"disabled")}o&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),l&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}}return e.\u0275fac=function(t){return new(t||e)(de(gm),de(Vt),de(oU),de(_r),de(Pi),de(Pc))},e.\u0275dir=St({type:e,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[Le]}),zt([ss(),tn()],e.prototype,"nzBackdrop",void 0),zt([tn()],e.prototype,"nzClickHide",void 0),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzVisible",void 0),e})(),eUe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})(),tUe=(()=>{class e{constructor(t,i,r,o,l,h,f){this.cdr=t,this.elementRef=i,this.renderer=r,this.viewContainerRef=o,this.nzMenuService=l,this.directionality=h,this.noAnimation=f,this.mouseState$=new wn(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new et,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new nt}onAnimationEvent(t){this.animationStateChange$.emit(t)}setMouseState(t){this.mouseState$.next(t)}setValue(t,i){this[t]=i,this.cdr.markForCheck()}ngOnInit(){this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(pr),de(Vt),de(_r),de(Pi),de(Nv),de(ma,8),de(Rv,9))},e.\u0275cmp=ut({type:e,selectors:[["nz-dropdown-menu"]],viewQuery:function(t,i){if(1&t&&mi(Yo,7),2&t){let r;an(r=cn())&&(i.templateRef=r.first)}},exportAs:["nzDropdownMenu"],features:[Ln([Nv,{provide:M6,useValue:!0}])],ngContentSelectors:KYe,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(t,i){1&t&&(fr(),ge(0,ZYe,2,7,"ng-template"))},dependencies:[Ss,Ys,Rv],encapsulation:2,data:{animation:[gU]},changeDetection:0}),e})(),nUe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,S6,vk,Fne,mm,Nw,E4,Bw,eUe,kg,Fne]}),e})();function iUe(e,n){if(1&e&&(wt(0),Fe(1,"img",5),Dt()),2&e){const t=ue(2);J(1),ee("src",t.nzNotFoundImage,qp)("alt",t.isContentString?t.nzNotFoundContent:"empty")}}function rUe(e,n){if(1&e&&(wt(0),ge(1,iUe,2,2,"ng-container",4),Dt()),2&e){const t=ue();J(1),ee("nzStringTemplateOutlet",t.nzNotFoundImage)}}function oUe(e,n){1&e&&Fe(0,"nz-empty-default")}function aUe(e,n){1&e&&Fe(0,"nz-empty-simple")}function sUe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue(2);J(1),In(" ",t.isContentString?t.nzNotFoundContent:t.locale.description," ")}}function lUe(e,n){if(1&e&&(se(0,"p",6),ge(1,sUe,2,1,"ng-container",4),le()),2&e){const t=ue();J(1),ee("nzStringTemplateOutlet",t.nzNotFoundContent)}}function cUe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue(2);J(1),In(" ",t.nzNotFoundFooter," ")}}function uUe(e,n){if(1&e&&(se(0,"div",7),ge(1,cUe,2,1,"ng-container",4),le()),2&e){const t=ue();J(1),ee("nzStringTemplateOutlet",t.nzNotFoundFooter)}}function hUe(e,n){1&e&&Fe(0,"nz-empty",6),2&e&&ee("nzNotFoundImage","simple")}function dUe(e,n){1&e&&Fe(0,"nz-empty",7),2&e&&ee("nzNotFoundImage","simple")}function fUe(e,n){1&e&&Fe(0,"nz-empty")}function pUe(e,n){1&e&&(wt(0,2),ge(1,hUe,1,1,"nz-empty",3),ge(2,dUe,1,1,"nz-empty",4),ge(3,fUe,1,0,"nz-empty",5),Dt()),2&e&&(ee("ngSwitch",ue().size),J(1),ee("ngSwitchCase","normal"),J(1),ee("ngSwitchCase","small"))}function gUe(e,n){}function mUe(e,n){1&e&&ge(0,gUe,0,0,"ng-template",8),2&e&&ee("cdkPortalOutlet",ue(2).contentPortal)}function vUe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue(2);J(1),In(" ",t.content," ")}}function _Ue(e,n){if(1&e&&(wt(0),ge(1,mUe,1,1,null,1),ge(2,vUe,2,1,"ng-container",1),Dt()),2&e){const t=ue();J(1),ee("ngIf","string"!==t.contentType),J(1),ee("ngIf","string"===t.contentType)}}new va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new va({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new va({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"});const yUe=new pt("nz-empty-component-name");let xUe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(t,i){1&t&&(wo(),se(0,"svg",0)(1,"g",1)(2,"g",2),Fe(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),le(),Fe(8,"path",8),se(9,"g",9),Fe(10,"ellipse",10)(11,"path",11),le()()())},encapsulation:2,changeDetection:0}),e})(),bUe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(t,i){1&t&&(wo(),se(0,"svg",0)(1,"g",1),Fe(2,"ellipse",2),se(3,"g",3),Fe(4,"path",4)(5,"path",5),le()()())},encapsulation:2,changeDetection:0}),e})();const CUe=["default","simple"];let wUe=(()=>{class e{constructor(t,i){this.i18n=t,this.cdr=i,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new nt}ngOnChanges(t){const{nzNotFoundContent:i,nzNotFoundImage:r}=t;if(i&&(this.isContentString="string"==typeof i.currentValue),r){const o=r.currentValue||"default";this.isImageBuildIn=CUe.findIndex(l=>l===o)>-1}}ngOnInit(){this.i18n.localeChange.pipe(st(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(x4),de(pr))},e.\u0275cmp=ut({type:e,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[Le],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(t,i){1&t&&(se(0,"div",0),ge(1,rUe,2,1,"ng-container",1),ge(2,oUe,1,0,"nz-empty-default",1),ge(3,aUe,1,0,"nz-empty-simple",1),le(),ge(4,lUe,2,1,"p",2),ge(5,uUe,2,1,"div",3)),2&t&&(J(1),ee("ngIf",!i.isImageBuildIn),J(1),ee("ngIf",i.isImageBuildIn&&"simple"!==i.nzNotFoundImage),J(1),ee("ngIf",i.isImageBuildIn&&"simple"===i.nzNotFoundImage),J(1),ee("ngIf",null!==i.nzNotFoundContent),J(1),ee("ngIf",i.nzNotFoundFooter))},dependencies:[hn,R4,xUe,bUe],encapsulation:2,changeDetection:0}),e})(),q1e=(()=>{class e{constructor(t,i,r,o){this.configService=t,this.viewContainerRef=i,this.cdr=r,this.injector=o,this.contentType="string",this.size="",this.destroy$=new nt}ngOnChanges(t){t.nzComponentName&&(this.size=function SUe(e){switch(e){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(t.nzComponentName.currentValue)),t.specificContent&&!t.specificContent.isFirstChange()&&(this.content=t.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const t=this.content;if("string"==typeof t)this.contentType="string";else if(t instanceof Yo){const i={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new rU(t,this.viewContainerRef,i)}else if(t instanceof Qo){const i=xs.create({parent:this.injector,providers:[{provide:yUe,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new hne(t,this.viewContainerRef,i)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe(So(!0),st(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return e.\u0275fac=function(t){return new(t||e)(de(gm),de(Pi),de(pr),de(xs))},e.\u0275cmp=ut({type:e,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[Le],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(ge(0,pUe,4,3,"ng-container",0),ge(1,_Ue,3,2,"ng-container",1)),2&t&&(ee("ngIf",!i.content&&null!==i.specificContent),J(1),ee("ngIf",i.content))},dependencies:[hn,jl,jc,kh,DRe,wUe],encapsulation:2,changeDetection:0}),e})(),Z1e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,Sge,kg,p6]}),e})();const K1e=["*"];function TUe(e,n){}function MUe(e,n){1&e&&ge(0,TUe,0,0,"ng-template",4),2&e&&ee("ngTemplateOutlet",ue().template)}function DUe(e,n){1&e&&Be(0),2&e&&Bt(ue().label)}function PUe(e,n){1&e&&Fe(0,"span",7)}function AUe(e,n){if(1&e&&(se(0,"div",5),ge(1,PUe,1,0,"span",6),le()),2&e){const t=ue();J(1),ee("ngIf",!t.icon)("ngIfElse",t.icon)}}function zUe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue();J(1),Bt(t.nzLabel)}}function kUe(e,n){if(1&e&&(se(0,"div",4),Fe(1,"nz-embed-empty",5),le()),2&e){const t=ue();J(1),ee("specificContent",t.notFoundContent)}}function OUe(e,n){1&e&&Fe(0,"nz-option-item-group",9),2&e&&ee("nzLabel",ue().$implicit.groupLabel)}function EUe(e,n){if(1&e){const t=Ft();se(0,"nz-option-item",10),He("itemHover",function(r){return Xe(t),Ze(ue(2).onItemHover(r))})("itemClick",function(r){return Xe(t),Ze(ue(2).onItemClick(r))}),le()}if(2&e){const t=ue().$implicit,i=ue();ee("icon",i.menuItemSelectedIcon)("customContent",t.nzCustomContent)("template",t.template)("grouped",!!t.groupLabel)("disabled",t.nzDisabled)("showState","tags"===i.mode||"multiple"===i.mode)("label",t.nzLabel)("compareWith",i.compareWith)("activatedValue",i.activatedValue)("listOfSelectedValue",i.listOfSelectedValue)("value",t.nzValue)}}function IUe(e,n){1&e&&(wt(0,6),ge(1,OUe,1,1,"nz-option-item-group",7),ge(2,EUe,1,11,"nz-option-item",8),Dt()),2&e&&(ee("ngSwitch",n.$implicit.type),J(1),ee("ngSwitchCase","group"),J(1),ee("ngSwitchCase","item"))}function LUe(e,n){}function RUe(e,n){1&e&&Ki(0)}const NUe=["inputElement"],FUe=["mirrorElement"];function BUe(e,n){1&e&&Fe(0,"span",3,4)}function VUe(e,n){if(1&e&&(se(0,"div",4),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.label)}}function HUe(e,n){1&e&&Be(0),2&e&&Bt(ue(2).label)}function YUe(e,n){if(1&e&&(wt(0),ge(1,VUe,2,1,"div",2),ge(2,HUe,1,1,"ng-template",null,3,xn),Dt()),2&e){const t=fn(3),i=ue();J(1),ee("ngIf",i.deletable)("ngIfElse",t)}}function UUe(e,n){1&e&&Fe(0,"span",7)}function GUe(e,n){if(1&e){const t=Ft();se(0,"span",5),He("click",function(r){return Xe(t),Ze(ue().onDelete(r))}),ge(1,UUe,1,0,"span",6),le()}if(2&e){const t=ue();J(1),ee("ngIf",!t.removeIcon)("ngIfElse",t.removeIcon)}}const WUe=function(e){return{$implicit:e}};function jUe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue();J(1),In(" ",t.placeholder," ")}}function $Ue(e,n){if(1&e&&Fe(0,"nz-select-item",6),2&e){const t=ue(2);ee("deletable",!1)("disabled",!1)("removeIcon",t.removeIcon)("label",t.listOfTopItem[0].nzLabel)("contentTemplateOutlet",t.customTemplate)("contentTemplateOutletContext",t.listOfTopItem[0])}}function XUe(e,n){if(1&e){const t=Ft();wt(0),se(1,"nz-select-search",4),He("isComposingChange",function(r){return Xe(t),Ze(ue().isComposingChange(r))})("valueChange",function(r){return Xe(t),Ze(ue().onInputValueChange(r))}),le(),ge(2,$Ue,1,6,"nz-select-item",5),Dt()}if(2&e){const t=ue();J(1),ee("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("showInput",t.showSearch)("mirrorSync",!1)("autofocus",t.autofocus)("focusTrigger",t.open),J(1),ee("ngIf",t.isShowSingleLabel)}}function qUe(e,n){if(1&e){const t=Ft();se(0,"nz-select-item",9),He("delete",function(){const o=Xe(t).$implicit;return Ze(ue(2).onDeleteItem(o.contentTemplateOutletContext))}),le()}if(2&e){const t=n.$implicit,i=ue(2);ee("removeIcon",i.removeIcon)("label",t.nzLabel)("disabled",t.nzDisabled||i.disabled)("contentTemplateOutlet",t.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",t.contentTemplateOutletContext)}}function ZUe(e,n){if(1&e){const t=Ft();wt(0),ge(1,qUe,1,6,"nz-select-item",7),se(2,"nz-select-search",8),He("isComposingChange",function(r){return Xe(t),Ze(ue().isComposingChange(r))})("valueChange",function(r){return Xe(t),Ze(ue().onInputValueChange(r))}),le(),Dt()}if(2&e){const t=ue();J(1),ee("ngForOf",t.listOfSlicedItem)("ngForTrackBy",t.trackValue),J(1),ee("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("autofocus",t.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",t.open)}}function KUe(e,n){1&e&&Fe(0,"nz-select-placeholder",10),2&e&&ee("placeholder",ue().placeHolder)}function QUe(e,n){1&e&&Fe(0,"span",1)}function JUe(e,n){1&e&&Fe(0,"span",3)}function eGe(e,n){1&e&&Fe(0,"span",8)}function tGe(e,n){1&e&&Fe(0,"span",9)}function nGe(e,n){if(1&e&&(wt(0),ge(1,eGe,1,0,"span",6),ge(2,tGe,1,0,"span",7),Dt()),2&e){const t=ue(2);J(1),ee("ngIf",!t.search),J(1),ee("ngIf",t.search)}}function iGe(e,n){1&e&&Fe(0,"span",11),2&e&&ee("nzType",ue().$implicit)}function rGe(e,n){if(1&e&&(wt(0),ge(1,iGe,1,1,"span",10),Dt()),2&e){const t=n.$implicit;J(1),ee("ngIf",t)}}function oGe(e,n){1&e&&ge(0,rGe,2,1,"ng-container",2),2&e&&ee("nzStringTemplateOutlet",ue(2).suffixIcon)}function aGe(e,n){if(1&e&&(ge(0,nGe,3,2,"ng-container",4),ge(1,oGe,1,1,"ng-template",null,5,xn)),2&e){const t=fn(2),i=ue();ee("ngIf",i.showArrow&&!i.suffixIcon)("ngIfElse",t)}}function sGe(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue();J(1),Bt(t.feedbackIcon)}}function lGe(e,n){1&e&&Fe(0,"nz-form-item-feedback-icon",8),2&e&&ee("status",ue(3).status)}function cGe(e,n){if(1&e&&ge(0,lGe,1,1,"nz-form-item-feedback-icon",7),2&e){const t=ue(2);ee("ngIf",t.hasFeedback&&!!t.status)}}function uGe(e,n){if(1&e&&(se(0,"nz-select-arrow",5),ge(1,cGe,1,1,"ng-template",null,6,xn),le()),2&e){const t=fn(2),i=ue();ee("showArrow",i.nzShowArrow)("loading",i.nzLoading)("search",i.nzOpen&&i.nzShowSearch)("suffixIcon",i.nzSuffixIcon)("feedbackIcon",t)}}function hGe(e,n){if(1&e){const t=Ft();se(0,"nz-select-clear",9),He("clear",function(){return Xe(t),Ze(ue().onClearSelection())}),le()}2&e&&ee("clearIcon",ue().nzClearIcon)}function dGe(e,n){if(1&e){const t=Ft();se(0,"nz-option-container",10),He("keydown",function(r){return Xe(t),Ze(ue().onKeyDown(r))})("itemClick",function(r){return Xe(t),Ze(ue().onItemClick(r))})("scrollToBottom",function(){return Xe(t),Ze(ue().nzScrollToBottom.emit())}),le()}if(2&e){const t=ue();Ht("ant-select-dropdown-placement-bottomLeft","bottomLeft"===t.dropDownPosition)("ant-select-dropdown-placement-topLeft","topLeft"===t.dropDownPosition)("ant-select-dropdown-placement-bottomRight","bottomRight"===t.dropDownPosition)("ant-select-dropdown-placement-topRight","topRight"===t.dropDownPosition),ee("ngStyle",t.nzDropdownStyle)("itemSize",t.nzOptionHeightPx)("maxItemLength",t.nzOptionOverflowSize)("matchWidth",t.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("listOfContainerItem",t.listOfContainerItem)("menuItemSelectedIcon",t.nzMenuItemSelectedIcon)("notFoundContent",t.nzNotFoundContent)("activatedValue",t.activatedValue)("listOfSelectedValue",t.listOfValue)("dropdownRender",t.nzDropdownRender)("compareWith",t.compareWith)("mode",t.nzMode)}}let Bne=(()=>{class e{constructor(){this.nzLabel=null,this.changes=new nt}ngOnChanges(){this.changes.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[Le],ngContentSelectors:K1e,decls:1,vars:0,template:function(t,i){1&t&&(fr(),Ki(0))},encapsulation:2,changeDetection:0}),e})(),fGe=(()=>{class e{constructor(t,i,r){this.elementRef=t,this.ngZone=i,this.destroy$=r,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new et,this.itemHover=new et}ngOnChanges(t){const{value:i,activatedValue:r,listOfSelectedValue:o}=t;(i||o)&&(this.selected=this.listOfSelectedValue.some(l=>this.compareWith(l,this.value))),(i||r)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{as(this.elementRef.nativeElement,"click").pipe(st(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),as(this.elementRef.nativeElement,"mouseenter").pipe(st(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(en),de(qf))},e.\u0275cmp=ut({type:e,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(t,i){2&t&&(oi("title",i.label),Ht("ant-select-item-option-grouped",i.grouped)("ant-select-item-option-selected",i.selected&&!i.disabled)("ant-select-item-option-disabled",i.disabled)("ant-select-item-option-active",i.activated&&!i.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[Ln([qf]),Le],decls:5,vars:3,consts:[[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["noCustomContent",""],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(t,i){if(1&t&&(se(0,"div",0),ge(1,MUe,1,1,"ng-template",1),ge(2,DUe,1,1,"ng-template",null,2,xn),le(),ge(4,AUe,2,2,"div",3)),2&t){const r=fn(3);J(1),ee("ngIf",i.customContent)("ngIfElse",r),J(3),ee("ngIf",i.showState&&i.selected)}},dependencies:[hn,Yr,$f,Xf],encapsulation:2,changeDetection:0}),e})(),pGe=(()=>{class e{constructor(){this.nzLabel=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,i){1&t&&ge(0,zUe,2,1,"ng-container",0),2&t&&ee("nzStringTemplateOutlet",i.nzLabel)},dependencies:[R4],encapsulation:2,changeDetection:0}),e})(),gGe=(()=>{class e{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new et,this.scrollToBottom=new et,this.scrolledIndex=0}onItemClick(t){this.itemClick.emit(t)}onItemHover(t){this.activatedValue=t}trackValue(t,i){return i.key}onScrolledIndexChange(t){this.scrolledIndex=t,t===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const t=this.listOfContainerItem.findIndex(i=>this.compareWith(i.key,this.activatedValue));(t<this.scrolledIndex||t>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(t||0)}ngOnChanges(t){const{listOfContainerItem:i,activatedValue:r}=t;(i||r)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-option-container"]],viewQuery:function(t,i){if(1&t&&mi(b6,7),2&t){let r;an(r=cn())&&(i.cdkVirtualScrollViewport=r.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[Le],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(t,i){1&t&&(se(0,"div"),ge(1,kUe,2,1,"div",0),se(2,"cdk-virtual-scroll-viewport",1),He("scrolledIndexChange",function(o){return i.onScrolledIndexChange(o)}),ge(3,IUe,3,3,"ng-template",2),le(),ge(4,LUe,0,0,"ng-template",3),le()),2&t&&(J(1),ee("ngIf",0===i.listOfContainerItem.length),J(1),yn("height",i.listOfContainerItem.length*i.itemSize,"px")("max-height",i.itemSize*i.maxItemLength,"px"),Ht("full-width",!i.matchWidth),ee("itemSize",i.itemSize)("maxBufferPx",i.itemSize*i.maxItemLength)("minBufferPx",i.itemSize*i.maxItemLength),J(1),ee("cdkVirtualForOf",i.listOfContainerItem)("cdkVirtualForTrackBy",i.trackValue)("cdkVirtualForTemplateCacheSize",0),J(1),ee("ngTemplateOutlet",i.dropdownRender))},dependencies:[hn,Yr,jl,jc,vge,bge,b6,q1e,fGe,pGe],encapsulation:2,changeDetection:0}),e})(),Q1e=(()=>{class e{constructor(t,i){this.nzOptionGroupComponent=t,this.destroy$=i,this.changes=new nt,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe(So(!0),st(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}}return e.\u0275fac=function(t){return new(t||e)(de(Bne,8),de(qf))},e.\u0275cmp=ut({type:e,selectors:[["nz-option"]],viewQuery:function(t,i){if(1&t&&mi(Yo,7),2&t){let r;an(r=cn())&&(i.template=r.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[Ln([qf]),Le],ngContentSelectors:K1e,decls:1,vars:0,template:function(t,i){1&t&&(fr(),ge(0,RUe,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzHide",void 0),zt([tn()],e.prototype,"nzCustomContent",void 0),e})(),J1e=(()=>{class e{constructor(t,i,r){this.elementRef=t,this.renderer=i,this.focusMonitor=r,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new et,this.isComposingChange=new et}setCompositionState(t){this.isComposingChange.next(t)}onValueChange(t){this.value=t,this.valueChange.next(t),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const t=this.mirrorElement.nativeElement,i=this.elementRef.nativeElement,r=this.inputElement.nativeElement;this.renderer.removeStyle(i,"width"),this.renderer.setProperty(t,"textContent",`${r.value}\xa0`),this.renderer.setStyle(i,"width",`${t.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(t){const i=this.inputElement.nativeElement,{focusTrigger:r,showInput:o}=t;o&&(this.showInput?this.renderer.removeAttribute(i,"readonly"):this.renderer.setAttribute(i,"readonly","readonly")),r&&!0===r.currentValue&&!1===r.previousValue&&i.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(_r),de(CU))},e.\u0275cmp=ut({type:e,selectors:[["nz-select-search"]],viewQuery:function(t,i){if(1&t&&(mi(NUe,7),mi(FUe,5)),2&t){let r;an(r=cn())&&(i.inputElement=r.first),an(r=cn())&&(i.mirrorElement=r.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[Ln([{provide:Bfe,useValue:!1}]),Le],decls:3,vars:7,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(t,i){1&t&&(se(0,"input",0,1),He("ngModelChange",function(o){return i.onValueChange(o)})("compositionstart",function(){return i.setCompositionState(!0)})("compositionend",function(){return i.setCompositionState(!1)}),le(),ge(2,BUe,2,0,"span",2)),2&t&&(yn("opacity",i.showInput?null:0),ee("ngModel",i.value)("disabled",i.disabled),oi("id",i.nzId)("autofocus",i.autofocus?"autofocus":null),J(2),ee("ngIf",i.mirrorSync))},dependencies:[hn,Pv,vl,Wf],encapsulation:2,changeDetection:0}),e})(),mGe=(()=>{class e{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new et}onDelete(t){t.preventDefault(),t.stopPropagation(),this.disabled||this.delete.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(t,i){2&t&&(oi("title",i.label),Ht("ant-select-selection-item-disabled",i.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(t,i){1&t&&(ge(0,YUe,4,2,"ng-container",0),ge(1,GUe,2,2,"span",1)),2&t&&(ee("nzStringTemplateOutlet",i.contentTemplateOutlet)("nzStringTemplateOutletContext",ei(3,WUe,i.contentTemplateOutletContext)),J(1),ee("ngIf",i.deletable&&!i.disabled))},dependencies:[hn,$f,R4,Xf],encapsulation:2,changeDetection:0}),e})(),vGe=(()=>{class e{constructor(){this.placeholder=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,i){1&t&&ge(0,jUe,2,1,"ng-container",0),2&t&&ee("nzStringTemplateOutlet",i.placeholder)},dependencies:[R4],encapsulation:2,changeDetection:0}),e})(),Vne=(()=>{class e{constructor(t,i,r){this.elementRef=t,this.ngZone=i,this.noAnimation=r,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new et,this.inputValueChange=new et,this.deleteItem=new et,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new nt}updateTemplateVariable(){const t=0===this.listOfTopItem.length;this.isShowPlaceholder=t&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!t&&!this.isComposing&&!this.inputValue}isComposingChange(t){this.isComposing=t,this.updateTemplateVariable()}onInputValueChange(t){t!==this.inputValue&&(this.inputValue=t,this.updateTemplateVariable(),this.inputValueChange.emit(t),this.tokenSeparate(t,this.tokenSeparators))}tokenSeparate(t,i){if(t&&t.length&&i.length&&"default"!==this.mode&&((l,h)=>{for(let f=0;f<h.length;++f)if(l.lastIndexOf(h[f])>0)return!0;return!1})(t,i)){const l=((l,h)=>{const f=new RegExp(`[${h.join()}]`),m=l.split(f).filter(_=>_);return[...new Set(m)]})(t,i);this.tokenize.next(l)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(t,i){return i.nzValue}onDeleteItem(t){!this.disabled&&!t.nzDisabled&&this.deleteItem.next(t)}ngOnChanges(t){const{listOfTopItem:i,maxTagCount:r,customTemplate:o,maxTagPlaceholder:l}=t;if(i&&this.updateTemplateVariable(),i||r||o||l){const h=this.listOfTopItem.slice(0,this.maxTagCount).map(f=>({nzLabel:f.nzLabel,nzValue:f.nzValue,nzDisabled:f.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:f}));if(this.listOfTopItem.length>this.maxTagCount){const f=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,m=this.listOfTopItem.map(b=>b.nzValue),_={nzLabel:f,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:m.slice(this.maxTagCount)};h.push(_)}this.listOfSlicedItem=h}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{as(this.elementRef.nativeElement,"click").pipe(st(this.destroy$)).subscribe(t=>{t.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),as(this.elementRef.nativeElement,"keydown").pipe(st(this.destroy$)).subscribe(t=>{t.target instanceof HTMLInputElement&&8===t.keyCode&&"default"!==this.mode&&!t.target.value&&this.listOfTopItem.length>0&&(t.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))})})}ngOnDestroy(){this.destroy$.next()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(en),de(Rv,9))},e.\u0275cmp=ut({type:e,selectors:[["nz-select-top-control"]],viewQuery:function(t,i){if(1&t&&mi(J1e,5),2&t){let r;an(r=cn())&&(i.nzSelectSearchComponent=r.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[Le],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(t,i){1&t&&(wt(0,0),ge(1,XUe,3,8,"ng-container",1),ge(2,ZUe,3,9,"ng-container",2),Dt(),ge(3,KUe,1,1,"nz-select-placeholder",3)),2&t&&(ee("ngSwitch",i.mode),J(1),ee("ngSwitchCase","default"),J(2),ee("ngIf",i.isShowPlaceholder))},dependencies:[xr,hn,jl,jc,kh,Xf,J1e,mGe,vGe],encapsulation:2,changeDetection:0}),e})(),_Ge=(()=>{class e{constructor(){this.clearIcon=null,this.clear=new et}onClick(t){t.preventDefault(),t.stopPropagation(),this.clear.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(t,i){1&t&&He("click",function(o){return i.onClick(o)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(t,i){1&t&&ge(0,QUe,1,0,"span",0),2&t&&ee("ngIf",!i.clearIcon)("ngIfElse",i.clearIcon)},dependencies:[hn,$f,Xf],encapsulation:2,changeDetection:0}),e})(),yGe=(()=>{class e{constructor(){this.loading=!1,this.search=!1,this.showArrow=!1,this.suffixIcon=null,this.feedbackIcon=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("ant-select-arrow-loading",i.loading)},inputs:{loading:"loading",search:"search",showArrow:"showArrow",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon"},decls:4,vars:3,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(t,i){if(1&t&&(ge(0,JUe,1,0,"span",0),ge(1,aGe,3,2,"ng-template",null,1,xn),ge(3,sGe,2,1,"ng-container",2)),2&t){const r=fn(2);ee("ngIf",i.loading)("ngIfElse",r),J(3),ee("nzStringTemplateOutlet",i.feedbackIcon)}},dependencies:[hn,$f,R4,Xf],encapsulation:2,changeDetection:0}),e})();const xGe=(e,n)=>!(!n||!n.nzLabel)&&n.nzLabel.toString().toLowerCase().indexOf(e.toLowerCase())>-1;let CGe=(()=>{class e{constructor(t,i,r,o,l,h,f,m,_,b,S,M){this.ngZone=t,this.destroy$=i,this.nzConfigService=r,this.cdr=o,this.host=l,this.renderer=h,this.platform=f,this.focusMonitor=m,this.directionality=_,this.noAnimation=b,this.nzFormStatusService=S,this.nzFormNoStatusService=M,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=xGe,this.compareWith=(O,I)=>O===I,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new et,this.nzScrollToBottom=new et,this.nzOpenChange=new et,this.nzBlur=new et,this.nzFocus=new et,this.listOfValue$=new wn([]),this.listOfTemplateItem$=new wn([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1}set nzShowArrow(t){this._nzShowArrow=t}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(t){return{nzValue:t,nzLabel:t,type:"item"}}onItemClick(t){if(this.activatedValue=t,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],t))&&this.updateListOfValue([t]),this.setOpenState(!1);else{const i=this.listOfValue.findIndex(r=>this.compareWith(r,t));if(-1!==i){const r=this.listOfValue.filter((o,l)=>l!==i);this.updateListOfValue(r)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const r=[...this.listOfValue,t];this.updateListOfValue(r)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(t){const i=this.listOfValue.filter(r=>!this.compareWith(r,t.nzValue));this.updateListOfValue(i),this.clearInput()}updateListOfContainerItem(){let t=this.listOfTagAndTemplateItem.filter(o=>!o.nzHide).filter(o=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,o));if("tags"===this.nzMode&&this.searchValue){const o=this.listOfTagAndTemplateItem.find(l=>l.nzLabel===this.searchValue);if(o)this.activatedValue=o.nzValue;else{const l=this.generateTagItem(this.searchValue);t=[l,...t],this.activatedValue=l.nzValue}}const i=t.find(o=>o.nzLabel===this.searchValue)||t.find(o=>this.compareWith(o.nzValue,this.activatedValue))||t.find(o=>this.compareWith(o.nzValue,this.listOfValue[0]))||t[0];this.activatedValue=i&&i.nzValue||null;let r=[];this.isReactiveDriven?r=[...new Set(this.nzOptions.filter(o=>o.groupLabel).map(o=>o.groupLabel))]:this.listOfNzOptionGroupComponent&&(r=this.listOfNzOptionGroupComponent.map(o=>o.nzLabel)),r.forEach(o=>{const l=t.findIndex(h=>o===h.groupLabel);l>-1&&t.splice(l,0,{groupLabel:o,type:"group",key:o})}),this.listOfContainerItem=[...t],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(t){const r=((o,l)=>"default"===this.nzMode?o.length>0?o[0]:null:o)(t);this.value!==r&&(this.listOfValue=t,this.listOfValue$.next(t),this.value=r,this.onChange(this.value))}onTokenSeparate(t){const i=this.listOfTagAndTemplateItem.filter(r=>-1!==t.findIndex(o=>o===r.nzLabel)).map(r=>r.nzValue).filter(r=>-1===this.listOfValue.findIndex(o=>this.compareWith(o,r)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...i]);else if("tags"===this.nzMode){const r=t.filter(o=>-1===this.listOfTagAndTemplateItem.findIndex(l=>l.nzLabel===o));this.updateListOfValue([...this.listOfValue,...i,...r])}this.clearInput()}onKeyDown(t){if(this.nzDisabled)return;const i=this.listOfContainerItem.filter(o=>"item"===o.type).filter(o=>!o.nzDisabled),r=i.findIndex(o=>this.compareWith(o.nzValue,this.activatedValue));switch(t.keyCode){case 38:t.preventDefault(),this.nzOpen&&i.length>0&&(this.activatedValue=i[r>0?r-1:i.length-1].nzValue);break;case 40:t.preventDefault(),this.nzOpen&&i.length>0?this.activatedValue=i[r<i.length-1?r+1:0].nzValue:this.setOpenState(!0);break;case 13:t.preventDefault(),this.nzOpen?Lo(this.activatedValue)&&-1!==r&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),t.preventDefault());break;case 9:this.nzSelectOnTab?this.nzOpen&&(t.preventDefault(),Lo(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(t){this.nzOpen!==t&&(this.nzOpen=t,this.nzOpenChange.emit(t),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(t){this.searchValue=t,this.updateListOfContainerItem(),this.nzOnSearch.emit(t),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(t){this.host.nativeElement.contains(t.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(t){const i=Pne(t);this.dropDownPosition=i}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const t=this.triggerWidth;P1e(this.requestId),this.requestId=Ane(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,t!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){Ane(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}writeValue(t){if(this.value!==t){this.value=t;const r=((o,l)=>null==o?[]:"default"===this.nzMode?[o]:o)(t);this.listOfValue=r,this.listOfValue$.next(r),this.cdr.markForCheck()}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(t){const{nzOpen:i,nzDisabled:r,nzOptions:o,nzStatus:l,nzPlacement:h}=t;if(i&&this.onOpenChange(),r&&this.nzDisabled&&this.setOpenState(!1),o){this.isReactiveDriven=!0;const m=(this.nzOptions||[]).map(_=>({template:_.label instanceof Yo?_.label:null,nzLabel:"string"==typeof _.label||"number"==typeof _.label?_.label:null,nzValue:_.value,nzDisabled:_.disabled||!1,nzHide:_.hide||!1,nzCustomContent:_.label instanceof Yo,groupLabel:_.groupLabel||null,type:"item",key:_.value}));this.listOfTemplateItem$.next(m)}if(l&&this.setStatusStyles(this.nzStatus,this.hasFeedback),h){const{currentValue:f}=h;this.dropDownPosition=f;const m=["bottomLeft","topLeft","bottomRight","topRight"];this.positions=f&&m.includes(f)?[Hr[f]]:m.map(_=>Hr[_])}}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Ih((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),BJ(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Cn(!1)),Je(([{status:t,hasFeedback:i},r])=>({status:r?"":t,hasFeedback:i})),st(this.destroy$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)}),this.focusMonitor.monitor(this.host,!0).pipe(st(this.destroy$)).subscribe(t=>{t?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),Go([this.listOfValue$,this.listOfTemplateItem$]).pipe(st(this.destroy$)).subscribe(([t,i])=>{const r=t.filter(()=>"tags"===this.nzMode).filter(o=>-1===i.findIndex(l=>this.compareWith(l.nzValue,o))).map(o=>this.listOfTopItem.find(l=>this.compareWith(l.nzValue,o))||this.generateTagItem(o));this.listOfTagAndTemplateItem=[...i,...r],this.listOfTopItem=this.listOfValue.map(o=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(l=>this.compareWith(o,l.nzValue))).filter(o=>!!o),this.updateListOfContainerItem()}),this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe(st(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>as(this.host.nativeElement,"click").pipe(st(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe(st(this.destroy$)).subscribe(t=>{27===t.keyCode&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||Qr(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe(So(!0),so(()=>Qr(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(t=>t.changes),...this.listOfNzOptionGroupComponent.map(t=>t.changes)).pipe(So(!0))),st(this.destroy$)).subscribe(()=>{const t=this.listOfNzOptionComponent.toArray().map(i=>{const{template:r,nzLabel:o,nzValue:l,nzDisabled:h,nzHide:f,nzCustomContent:m,groupLabel:_}=i;return{template:r,nzLabel:o,nzValue:l,nzDisabled:h,nzHide:f,nzCustomContent:m,groupLabel:_,type:"item",key:l}});this.listOfTemplateItem$.next(t),this.cdr.markForCheck()})}ngOnDestroy(){P1e(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(t,i){this.status=t,this.hasFeedback=i,this.cdr.markForCheck(),this.statusCls=Efe(this.prefixCls,t,i),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.host.nativeElement,r):this.renderer.removeClass(this.host.nativeElement,r)})}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(qf),de(gm),de(pr),de(Vt),de(_r),de(Pc),de(CU),de(ma,8),de(Rv,9),de(fU,8),de(v1e,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-select"]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,Q1e,5),Uo(r,Bne,5)),2&t){let o;an(o=cn())&&(i.listOfNzOptionComponent=o),an(o=cn())&&(i.listOfNzOptionGroupComponent=o)}},viewQuery:function(t,i){if(1&t&&(mi(w6,7,Vt),mi(Lw,7),mi(Vne,7),mi(Bne,7,Vt),mi(Vne,7,Vt)),2&t){let r;an(r=cn())&&(i.originElement=r.first),an(r=cn())&&(i.cdkConnectedOverlay=r.first),an(r=cn())&&(i.nzSelectTopControlComponent=r.first),an(r=cn())&&(i.nzOptionGroupComponentElement=r.first),an(r=cn())&&(i.nzSelectTopControlComponentElement=r.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(t,i){2&t&&Ht("ant-select-in-form-item",!!i.nzFormStatusService)("ant-select-lg","large"===i.nzSize)("ant-select-sm","small"===i.nzSize)("ant-select-show-arrow",i.nzShowArrow)("ant-select-disabled",i.nzDisabled)("ant-select-show-search",(i.nzShowSearch||"default"!==i.nzMode)&&!i.nzDisabled)("ant-select-allow-clear",i.nzAllowClear)("ant-select-borderless",i.nzBorderless)("ant-select-open",i.nzOpen)("ant-select-focused",i.nzOpen||i.focused)("ant-select-single","default"===i.nzMode)("ant-select-multiple","default"!==i.nzMode)("ant-select-rtl","rtl"===i.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzSelectOnTab:"nzSelectOnTab",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[Ln([qf,{provide:Ps,useExisting:Yi(()=>e),multi:!0}]),Le],decls:5,vars:25,consts:[["cdkOverlayOrigin","",3,"nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick","detach","positionChange"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon"],["feedbackIconTpl",""],[3,"status",4,"ngIf"],[3,"status"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(t,i){if(1&t&&(se(0,"nz-select-top-control",0,1),He("inputValueChange",function(o){return i.onInputValueChange(o)})("tokenize",function(o){return i.onTokenSeparate(o)})("deleteItem",function(o){return i.onItemDelete(o)})("keydown",function(o){return i.onKeyDown(o)}),le(),ge(2,uGe,3,5,"nz-select-arrow",2),ge(3,hGe,1,1,"nz-select-clear",3),ge(4,dGe,1,23,"ng-template",4),He("overlayOutsideClick",function(o){return i.onClickOutside(o)})("detach",function(){return i.setOpenState(!1)})("positionChange",function(o){return i.onPositionChange(o)})),2&t){const r=fn(1);ee("nzId",i.nzId)("open",i.nzOpen)("disabled",i.nzDisabled)("mode",i.nzMode)("@.disabled",!(null==i.noAnimation||!i.noAnimation.nzNoAnimation))("nzNoAnimation",null==i.noAnimation?null:i.noAnimation.nzNoAnimation)("maxTagPlaceholder",i.nzMaxTagPlaceholder)("removeIcon",i.nzRemoveIcon)("placeHolder",i.nzPlaceHolder)("maxTagCount",i.nzMaxTagCount)("customTemplate",i.nzCustomTemplate)("tokenSeparators",i.nzTokenSeparators)("showSearch",i.nzShowSearch)("autofocus",i.nzAutoFocus)("listOfTopItem",i.listOfTopItem),J(2),ee("ngIf",i.nzShowArrow||i.hasFeedback&&!!i.status),J(1),ee("ngIf",i.nzAllowClear&&!i.nzDisabled&&i.listOfValue.length),J(1),ee("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayMinWidth",i.nzDropdownMatchSelectWidth?null:i.triggerWidth)("cdkConnectedOverlayWidth",i.nzDropdownMatchSelectWidth?i.triggerWidth:null)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",i.nzDropdownClassName)("cdkConnectedOverlayOpen",i.nzOpen)("cdkConnectedOverlayPositions",i.positions)}},dependencies:[hn,Ys,Lw,w6,M1e,Rv,Xf,_1e,gGe,Vne,_Ge,yGe],encapsulation:2,data:{animation:[gU]},changeDetection:0}),zt([ss()],e.prototype,"nzSuffixIcon",void 0),zt([tn()],e.prototype,"nzAllowClear",void 0),zt([ss(),tn()],e.prototype,"nzBorderless",void 0),zt([tn()],e.prototype,"nzShowSearch",void 0),zt([tn()],e.prototype,"nzLoading",void 0),zt([tn()],e.prototype,"nzAutoFocus",void 0),zt([tn()],e.prototype,"nzAutoClearSearchValue",void 0),zt([tn()],e.prototype,"nzServerSearch",void 0),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzOpen",void 0),zt([tn()],e.prototype,"nzSelectOnTab",void 0),zt([ss(),tn()],e.prototype,"nzBackdrop",void 0),e})(),wGe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,p6,jf,E4,S6,mm,kg,Z1e,Bw,Nw,Cne,Tne,iU,Lne]}),e})();const SGe=["nz-pagination-item",""];function TGe(e,n){if(1&e&&(se(0,"a"),Be(1),le()),2&e){const t=ue().page;J(1),Bt(t)}}function MGe(e,n){1&e&&Fe(0,"span",9)}function DGe(e,n){1&e&&Fe(0,"span",10)}function PGe(e,n){if(1&e&&(se(0,"button",6),wt(1,2),ge(2,MGe,1,0,"span",7),ge(3,DGe,1,0,"span",8),Dt(),le()),2&e){const t=ue(2);ee("disabled",t.disabled),J(1),ee("ngSwitch",t.direction),J(1),ee("ngSwitchCase","rtl")}}function AGe(e,n){1&e&&Fe(0,"span",10)}function zGe(e,n){1&e&&Fe(0,"span",9)}function kGe(e,n){if(1&e&&(se(0,"button",6),wt(1,2),ge(2,AGe,1,0,"span",11),ge(3,zGe,1,0,"span",12),Dt(),le()),2&e){const t=ue(2);ee("disabled",t.disabled),J(1),ee("ngSwitch",t.direction),J(1),ee("ngSwitchCase","rtl")}}function OGe(e,n){1&e&&Fe(0,"span",20)}function EGe(e,n){1&e&&Fe(0,"span",21)}function IGe(e,n){1&e&&(wt(0,2),ge(1,OGe,1,0,"span",18),ge(2,EGe,1,0,"span",19),Dt()),2&e&&(ee("ngSwitch",ue(4).direction),J(1),ee("ngSwitchCase","rtl"))}function LGe(e,n){1&e&&Fe(0,"span",21)}function RGe(e,n){1&e&&Fe(0,"span",20)}function NGe(e,n){1&e&&(wt(0,2),ge(1,LGe,1,0,"span",22),ge(2,RGe,1,0,"span",23),Dt()),2&e&&(ee("ngSwitch",ue(4).direction),J(1),ee("ngSwitchCase","rtl"))}function FGe(e,n){if(1&e&&(se(0,"div",15),wt(1,2),ge(2,IGe,3,2,"ng-container",16),ge(3,NGe,3,2,"ng-container",16),Dt(),se(4,"span",17),Be(5,"\u2022\u2022\u2022"),le()()),2&e){const t=ue(2).$implicit;J(1),ee("ngSwitch",t),J(1),ee("ngSwitchCase","prev_5"),J(1),ee("ngSwitchCase","next_5")}}function BGe(e,n){if(1&e&&(wt(0),se(1,"a",13),ge(2,FGe,6,3,"div",14),le(),Dt()),2&e){const t=ue().$implicit;J(1),ee("ngSwitch",t)}}function VGe(e,n){1&e&&(wt(0,2),ge(1,TGe,2,1,"a",3),ge(2,PGe,4,3,"button",4),ge(3,kGe,4,3,"button",4),ge(4,BGe,3,1,"ng-container",5),Dt()),2&e&&(ee("ngSwitch",n.$implicit),J(1),ee("ngSwitchCase","page"),J(1),ee("ngSwitchCase","prev"),J(1),ee("ngSwitchCase","next"))}function HGe(e,n){}const YGe=function(e,n){return{$implicit:e,page:n}},eme=["containerTemplate"];function UGe(e,n){if(1&e){const t=Ft();se(0,"ul")(1,"li",1),He("click",function(){return Xe(t),Ze(ue().prePage())}),le(),se(2,"li",2)(3,"input",3),He("keydown.enter",function(r){return Xe(t),Ze(ue().jumpToPageViaInput(r))}),le(),se(4,"span",4),Be(5,"/"),le(),Be(6),le(),se(7,"li",5),He("click",function(){return Xe(t),Ze(ue().nextPage())}),le()()}if(2&e){const t=ue();J(1),ee("disabled",t.isFirstIndex)("direction",t.dir)("itemRender",t.itemRender),oi("title",t.locale.prev_page),J(1),oi("title",t.pageIndex+"/"+t.lastIndex),J(1),ee("disabled",t.disabled)("value",t.pageIndex),J(3),In(" ",t.lastIndex," "),J(1),ee("disabled",t.isLastIndex)("direction",t.dir)("itemRender",t.itemRender),oi("title",null==t.locale?null:t.locale.next_page)}}const GGe=["nz-pagination-options",""];function WGe(e,n){if(1&e&&Fe(0,"nz-option",4),2&e){const t=n.$implicit;ee("nzLabel",t.label)("nzValue",t.value)}}function jGe(e,n){if(1&e){const t=Ft();se(0,"nz-select",2),He("ngModelChange",function(r){return Xe(t),Ze(ue().onPageSizeChange(r))}),ge(1,WGe,1,2,"nz-option",3),le()}if(2&e){const t=ue();ee("nzDisabled",t.disabled)("nzSize",t.nzSize)("ngModel",t.pageSize),J(1),ee("ngForOf",t.listOfPageSizeOption)("ngForTrackBy",t.trackByOption)}}function $Ge(e,n){if(1&e){const t=Ft();se(0,"div",5),Be(1),se(2,"input",6),He("keydown.enter",function(r){return Xe(t),Ze(ue().jumpToPageViaInput(r))}),le(),Be(3),le()}if(2&e){const t=ue();J(1),In(" ",t.locale.jump_to," "),J(1),ee("disabled",t.disabled),J(1),In(" ",t.locale.page," ")}}function XGe(e,n){}const qGe=function(e,n){return{$implicit:e,range:n}};function ZGe(e,n){if(1&e&&(se(0,"li",4),ge(1,XGe,0,0,"ng-template",5),le()),2&e){const t=ue(2);J(1),ee("ngTemplateOutlet",t.showTotal)("ngTemplateOutletContext",Cs(2,qGe,t.total,t.ranges))}}function KGe(e,n){if(1&e){const t=Ft();se(0,"li",6),He("gotoIndex",function(r){return Xe(t),Ze(ue(2).jumpPage(r))})("diffIndex",function(r){return Xe(t),Ze(ue(2).jumpDiff(r))}),le()}if(2&e){const t=n.$implicit,i=ue(2);ee("locale",i.locale)("type",t.type)("index",t.index)("disabled",!!t.disabled)("itemRender",i.itemRender)("active",i.pageIndex===t.index)("direction",i.dir)}}function QGe(e,n){if(1&e){const t=Ft();se(0,"li",7),He("pageIndexChange",function(r){return Xe(t),Ze(ue(2).onPageIndexChange(r))})("pageSizeChange",function(r){return Xe(t),Ze(ue(2).onPageSizeChange(r))}),le()}if(2&e){const t=ue(2);ee("total",t.total)("locale",t.locale)("disabled",t.disabled)("nzSize",t.nzSize)("showSizeChanger",t.showSizeChanger)("showQuickJumper",t.showQuickJumper)("pageIndex",t.pageIndex)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}function JGe(e,n){if(1&e&&(se(0,"ul"),ge(1,ZGe,2,5,"li",1),ge(2,KGe,1,7,"li",2),ge(3,QGe,1,9,"li",3),le()),2&e){const t=ue();J(1),ee("ngIf",t.showTotal),J(1),ee("ngForOf",t.listOfPageItem)("ngForTrackBy",t.trackByPageItem),J(1),ee("ngIf",t.showQuickJumper||t.showSizeChanger)}}function eWe(e,n){}function tWe(e,n){if(1&e&&(wt(0),ge(1,eWe,0,0,"ng-template",6),Dt()),2&e){ue(2);const t=fn(2);J(1),ee("ngTemplateOutlet",t.template)}}function nWe(e,n){if(1&e&&(wt(0),ge(1,tWe,2,1,"ng-container",5),Dt()),2&e){const t=ue(),i=fn(4);J(1),ee("ngIf",t.nzSimple)("ngIfElse",i.template)}}let tme=(()=>{class e{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new et,this.gotoIndex=new et,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(t){const{locale:i,index:r,type:o}=t;(i||r||o)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(t,i){1&t&&He("click",function(){return i.clickItem()}),2&t&&(oi("title",i.title),Ht("ant-pagination-prev","prev"===i.type)("ant-pagination-next","next"===i.type)("ant-pagination-item","page"===i.type)("ant-pagination-jump-prev","prev_5"===i.type)("ant-pagination-jump-prev-custom-icon","prev_5"===i.type)("ant-pagination-jump-next","next_5"===i.type)("ant-pagination-jump-next-custom-icon","next_5"===i.type)("ant-pagination-disabled",i.disabled)("ant-pagination-item-active",i.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},features:[Le],attrs:SGe,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button","class","ant-pagination-item-link",3,"disabled",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right",4,"ngSwitchCase"],["nz-icon","","nzType","left",4,"ngSwitchDefault"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],["nz-icon","","nzType","left",4,"ngSwitchCase"],["nz-icon","","nzType","right",4,"ngSwitchDefault"],[1,"ant-pagination-item-link",3,"ngSwitch"],["class","ant-pagination-item-container",4,"ngSwitchDefault"],[1,"ant-pagination-item-container"],[3,"ngSwitch",4,"ngSwitchCase"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"]],template:function(t,i){if(1&t&&(ge(0,VGe,5,4,"ng-template",null,0,xn),ge(2,HGe,0,0,"ng-template",1)),2&t){const r=fn(1);J(2),ee("ngTemplateOutlet",i.itemRender||r)("ngTemplateOutletContext",Cs(2,YGe,i.type,i.index))}},dependencies:[Yr,jl,jc,kh,$f],encapsulation:2,changeDetection:0}),e})(),iWe=(()=>{class e{constructor(t,i,r,o){this.cdr=t,this.renderer=i,this.elementRef=r,this.directionality=o,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new et,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new nt,i.removeChild(i.parentNode(r.nativeElement),r.nativeElement)}ngOnInit(){this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(t){const i=t.target,r=Dte(i.value,this.pageIndex);this.onPageIndexChange(r),i.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(t){this.pageIndexChange.next(t)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(t){const{pageIndex:i,total:r,pageSize:o}=t;(i||r||o)&&this.updateBindingValue()}}return e.\u0275fac=function(t){return new(t||e)(de(pr),de(_r),de(Vt),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-pagination-simple"]],viewQuery:function(t,i){if(1&t&&mi(eme,7),2&t){let r;an(r=cn())&&(i.template=r.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},features:[Le],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"disabled","direction","itemRender","click"],[1,"ant-pagination-simple-pager"],["size","3",3,"disabled","value","keydown.enter"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"disabled","direction","itemRender","click"]],template:function(t,i){1&t&&ge(0,UGe,8,12,"ng-template",null,0,xn)},dependencies:[tme],encapsulation:2,changeDetection:0}),e})(),rWe=(()=>{class e{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new et,this.pageSizeChange=new et,this.listOfPageSizeOption=[]}onPageSizeChange(t){this.pageSize!==t&&this.pageSizeChange.next(t)}jumpToPageViaInput(t){const i=t.target,r=Math.floor(Dte(i.value,this.pageIndex));this.pageIndexChange.next(r),i.value=""}trackByOption(t,i){return i.value}ngOnChanges(t){const{pageSize:i,pageSizeOptions:r,locale:o}=t;(i||r||o)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(l=>({value:l,label:`${l} ${this.locale.items_per_page}`})))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[Le],attrs:GGe,decls:2,vars:2,consts:[["class","ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange",4,"ngIf"],["class","ant-pagination-options-quick-jumper",4,"ngIf"],[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzLabel","nzValue"],[1,"ant-pagination-options-quick-jumper"],[3,"disabled","keydown.enter"]],template:function(t,i){1&t&&(ge(0,jGe,2,5,"nz-select",0),ge(1,$Ge,4,3,"div",1)),2&t&&(ee("ngIf",i.showSizeChanger),J(1),ee("ngIf",i.showQuickJumper))},dependencies:[xr,hn,vl,Wf,Q1e,CGe],encapsulation:2,changeDetection:0}),e})(),oWe=(()=>{class e{constructor(t,i,r,o){this.cdr=t,this.renderer=i,this.elementRef=r,this.directionality=o,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new et,this.pageSizeChange=new et,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new nt,i.removeChild(i.parentNode(r.nativeElement),r.nativeElement)}ngOnInit(){this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(t){this.onPageIndexChange(t)}jumpDiff(t){this.jumpPage(this.pageIndex+t)}trackByPageItem(t,i){return`${i.type}-${i.index}`}onPageIndexChange(t){this.pageIndexChange.next(t)}onPageSizeChange(t){this.pageSizeChange.next(t)}getLastIndex(t,i){return Math.ceil(t/i)}buildIndexes(){const t=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,t)}getListOfPageItem(t,i){const o=(l,h)=>{const f=[];for(let m=l;m<=h;m++)f.push({index:m,type:"page"});return f};return l=i<=9?o(1,i):((h,f)=>{let m=[];const _={type:"prev_5"},b={type:"next_5"},S=o(1,1),M=o(i,i);return m=h<5?[...o(2,4===h?6:5),b]:h<f-3?[_,...o(h-2,h+2),b]:[_,...o(h===f-3?f-5:f-4,f-1)],[...S,...m,...M]})(t,i),[{type:"prev",disabled:1===t},...l,{type:"next",disabled:t===i}];var l}ngOnChanges(t){const{pageIndex:i,pageSize:r,total:o}=t;(i||r||o)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}}return e.\u0275fac=function(t){return new(t||e)(de(pr),de(_r),de(Vt),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-pagination-default"]],viewQuery:function(t,i){if(1&t&&mi(eme,7),2&t){let r;an(r=cn())&&(i.template=r.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[Le],decls:2,vars:0,consts:[["containerTemplate",""],["class","ant-pagination-total-text",4,"ngIf"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex",4,"ngFor","ngForOf","ngForTrackBy"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange",4,"ngIf"],[1,"ant-pagination-total-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"]],template:function(t,i){1&t&&ge(0,JGe,4,4,"ng-template",null,0,xn)},dependencies:[xr,hn,Yr,rWe,tme],encapsulation:2,changeDetection:0}),e})(),sWe=(()=>{class e{constructor(t,i,r,o,l){this.i18n=t,this.cdr=i,this.breakpointService=r,this.nzConfigService=o,this.directionality=l,this._nzModuleName="pagination",this.nzPageSizeChange=new et,this.nzPageIndexChange=new et,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new nt,this.total$=new Ws(1)}validatePageIndex(t,i){return t>i?i:t<1?1:t}onPageIndexChange(t){const i=this.getLastIndex(this.nzTotal,this.nzPageSize),r=this.validatePageIndex(t,i);r!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=r,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(t){this.nzPageSize=t,this.nzPageSizeChange.emit(t);const i=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>i&&this.onPageIndexChange(i)}onTotalChange(t){const i=this.getLastIndex(t,this.nzPageSize);this.nzPageIndex>i&&Promise.resolve().then(()=>{this.onPageIndexChange(i),this.cdr.markForCheck()})}getLastIndex(t,i){return Math.ceil(t/i)}ngOnInit(){this.i18n.localeChange.pipe(st(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe(st(this.destroy$)).subscribe(t=>{this.onTotalChange(t)}),this.breakpointService.subscribe(S1e).pipe(st(this.destroy$)).subscribe(t=>{this.nzResponsive&&(this.size=t===_k.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){const{nzHideOnSinglePage:i,nzTotal:r,nzPageSize:o,nzSize:l}=t;r&&this.total$.next(this.nzTotal),(i||r||o)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),l&&(this.size=l.currentValue)}}return e.\u0275fac=function(t){return new(t||e)(de(x4),de(pr),de(UFe),de(gm),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(t,i){2&t&&Ht("ant-pagination-simple",i.nzSimple)("ant-pagination-disabled",i.nzDisabled)("mini",!i.nzSimple&&"small"===i.size)("ant-pagination-rtl","rtl"===i.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],features:[Le],decls:5,vars:18,consts:[[4,"ngIf"],[3,"disabled","itemRender","locale","pageSize","total","pageIndex","pageIndexChange"],["simplePagination",""],[3,"nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"],["defaultPagination",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&(ge(0,nWe,2,2,"ng-container",0),se(1,"nz-pagination-simple",1,2),He("pageIndexChange",function(o){return i.onPageIndexChange(o)}),le(),se(3,"nz-pagination-default",3,4),He("pageIndexChange",function(o){return i.onPageIndexChange(o)})("pageSizeChange",function(o){return i.onPageSizeChange(o)}),le()),2&t&&(ee("ngIf",i.showPagination),J(1),ee("disabled",i.nzDisabled)("itemRender",i.nzItemRender)("locale",i.locale)("pageSize",i.nzPageSize)("total",i.nzTotal)("pageIndex",i.nzPageIndex),J(2),ee("nzSize",i.size)("itemRender",i.nzItemRender)("showTotal",i.nzShowTotal)("disabled",i.nzDisabled)("locale",i.locale)("showSizeChanger",i.nzShowSizeChanger)("showQuickJumper",i.nzShowQuickJumper)("total",i.nzTotal)("pageIndex",i.nzPageIndex)("pageSize",i.nzPageSize)("pageSizeOptions",i.nzPageSizeOptions))},dependencies:[hn,Yr,iWe,oWe],encapsulation:2,changeDetection:0}),zt([ss()],e.prototype,"nzSize",void 0),zt([ss()],e.prototype,"nzPageSizeOptions",void 0),zt([ss(),tn()],e.prototype,"nzShowSizeChanger",void 0),zt([ss(),tn()],e.prototype,"nzShowQuickJumper",void 0),zt([ss(),tn()],e.prototype,"nzSimple",void 0),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzResponsive",void 0),zt([tn()],e.prototype,"nzHideOnSinglePage",void 0),zt([EY()],e.prototype,"nzTotal",void 0),zt([EY()],e.prototype,"nzPageIndex",void 0),zt([EY()],e.prototype,"nzPageSize",void 0),e})(),lWe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,jf,wGe,p6,mm]}),e})();const cWe=["*"],uWe=["inputElement"],hWe=["nz-radio",""];let dWe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["","nz-radio-button",""]]}),e})(),fWe=(()=>{class e{constructor(){this.selected$=new Ws(1),this.touched$=new nt,this.disabled$=new Ws(1),this.name$=new Ws(1)}touch(){this.touched$.next()}select(t){this.selected$.next(t)}setDisabled(t){this.disabled$.next(t)}setName(t){this.name$.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),pWe=(()=>{class e{constructor(t,i,r,o,l,h,f,m){this.ngZone=t,this.elementRef=i,this.cdr=r,this.focusMonitor=o,this.directionality=l,this.nzRadioService=h,this.nzRadioButtonDirective=f,this.nzFormStatusService=m,this.isNgModel=!1,this.destroy$=new nt,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.isRadioButton=!!this.nzRadioButtonDirective,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.dir="ltr"}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.isNgModel=!0,this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe(st(this.destroy$)).subscribe(t=>{this.name=t,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe(st(this.destroy$)).subscribe(t=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe(st(this.destroy$)).subscribe(t=>{const i=this.isChecked;this.isChecked=this.nzValue===t,this.isNgModel&&i!==this.isChecked&&!1===this.isChecked&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe(st(this.destroy$)).subscribe(t=>{t||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe(st(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{as(this.elementRef.nativeElement,"click").pipe(st(this.destroy$)).subscribe(t=>{t.stopPropagation(),t.preventDefault(),!this.nzDisabled&&!this.isChecked&&this.ngZone.run(()=>{this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}}return e.\u0275fac=function(t){return new(t||e)(de(en),de(Vt),de(pr),de(CU),de(ma,8),de(fWe,8),de(dWe,8),de(fU,8))},e.\u0275cmp=ut({type:e,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(t,i){if(1&t&&mi(uWe,7),2&t){let r;an(r=cn())&&(i.inputElement=r.first)}},hostVars:18,hostBindings:function(t,i){2&t&&Ht("ant-radio-wrapper-in-form-item",!!i.nzFormStatusService)("ant-radio-wrapper",!i.isRadioButton)("ant-radio-button-wrapper",i.isRadioButton)("ant-radio-wrapper-checked",i.isChecked&&!i.isRadioButton)("ant-radio-button-wrapper-checked",i.isChecked&&i.isRadioButton)("ant-radio-wrapper-disabled",i.nzDisabled&&!i.isRadioButton)("ant-radio-button-wrapper-disabled",i.nzDisabled&&i.isRadioButton)("ant-radio-wrapper-rtl",!i.isRadioButton&&"rtl"===i.dir)("ant-radio-button-wrapper-rtl",i.isRadioButton&&"rtl"===i.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus"},exportAs:["nzRadio"],features:[Ln([{provide:Ps,useExisting:Yi(()=>e),multi:!0}])],attrs:hWe,ngContentSelectors:cWe,decls:6,vars:24,consts:[["type","radio",3,"disabled","checked"],["inputElement",""]],template:function(t,i){1&t&&(fr(),se(0,"span"),Fe(1,"input",0,1)(3,"span"),le(),se(4,"span"),Ki(5),le()),2&t&&(Ht("ant-radio",!i.isRadioButton)("ant-radio-checked",i.isChecked&&!i.isRadioButton)("ant-radio-disabled",i.nzDisabled&&!i.isRadioButton)("ant-radio-button",i.isRadioButton)("ant-radio-button-checked",i.isChecked&&i.isRadioButton)("ant-radio-button-disabled",i.nzDisabled&&i.isRadioButton),J(1),Ht("ant-radio-input",!i.isRadioButton)("ant-radio-button-input",i.isRadioButton),ee("disabled",i.nzDisabled)("checked",i.isChecked),oi("autofocus",i.nzAutoFocus?"autofocus":null)("name",i.name),J(2),Ht("ant-radio-inner",!i.isRadioButton)("ant-radio-button-inner",i.isRadioButton))},encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzDisabled",void 0),zt([tn()],e.prototype,"nzAutoFocus",void 0),e})(),gWe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,jf]}),e})();function vWe(e,n){1&e&&(se(0,"span",3),Fe(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),le())}function _We(e,n){}function yWe(e,n){if(1&e&&(se(0,"div",8),Be(1),le()),2&e){const t=ue(2);J(1),Bt(t.nzTip)}}function xWe(e,n){if(1&e&&(se(0,"div")(1,"div",5),ge(2,_We,0,0,"ng-template",6),ge(3,yWe,2,1,"div",7),le()()),2&e){const t=ue(),i=fn(1);J(1),Ht("ant-spin-rtl","rtl"===t.dir)("ant-spin-spinning",t.isLoading)("ant-spin-lg","large"===t.nzSize)("ant-spin-sm","small"===t.nzSize)("ant-spin-show-text",t.nzTip),J(1),ee("ngTemplateOutlet",t.nzIndicator||i),J(1),ee("ngIf",t.nzTip)}}function bWe(e,n){1&e&&(se(0,"div",9),Ki(1),le()),2&e&&Ht("ant-spin-blur",ue().isLoading)}const CWe=["*"];let wWe=(()=>{class e{constructor(t,i,r){this.nzConfigService=t,this.cdr=i,this.directionality=r,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new nt,this.spinning$=new wn(this.nzSpinning),this.delay$=new Ws(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe(So(this.nzDelay),Ih(),so(i=>0===i?this.spinning$:this.spinning$.pipe(function mWe(e){return Gt((n,t)=>{let i=!1,r=null,o=null;const l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const h=r;r=null,t.next(h)}};n.subscribe(new rt(t,h=>{o?.unsubscribe(),i=!0,r=h,o=new rt(t,l,oc),Fo(e(h)).subscribe(o)},()=>{l(),t.complete()},void 0,()=>{r=o=null}))})}(r=>eU(r?i:0)))),st(this.destroy$)).subscribe(i=>{this.isLoading=i,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe(st(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe(st(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzSpinning:i,nzDelay:r}=t;i&&this.spinning$.next(this.nzSpinning),r&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(gm),de(pr),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(t,i){2&t&&Ht("ant-spin-nested-loading",!i.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[Le],ngContentSelectors:CWe,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(t,i){1&t&&(fr(),ge(0,vWe,5,0,"ng-template",null,0,xn),ge(2,xWe,4,12,"div",1),ge(3,bWe,2,2,"div",2)),2&t&&(J(2),ee("ngIf",i.isLoading),J(1),ee("ngIf",!i.nzSimple))},dependencies:[hn,Yr],encapsulation:2}),zt([ss()],e.prototype,"nzIndicator",void 0),zt([EY()],e.prototype,"nzDelay",void 0),zt([tn()],e.prototype,"nzSimple",void 0),zt([tn()],e.prototype,"nzSpinning",void 0),e})(),SWe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,R1e]}),e})();function ime(e,n){return n?t=>sv(n.pipe(wr(1),function TWe(){return Gt((e,n)=>{e.subscribe(new rt(n,oc))})}()),t.pipe(ime(e))):Cr((t,i)=>e(t,i).pipe(wr(1),mg(t)))}function Hne(e,n=JY){const t=eU(e,n);return ime(()=>t)}const Hw=["*"];function MWe(e,n){}function DWe(e,n){if(1&e){const t=Ft();se(0,"label",15),He("ngModelChange",function(){Xe(t);const r=ue().$implicit;return Ze(ue(2).check(r))}),le()}2&e&&ee("ngModel",ue().$implicit.checked)}function PWe(e,n){if(1&e){const t=Ft();se(0,"label",16),He("ngModelChange",function(){Xe(t);const r=ue().$implicit;return Ze(ue(2).check(r))}),le()}2&e&&ee("ngModel",ue().$implicit.checked)}function AWe(e,n){if(1&e){const t=Ft();se(0,"li",12),He("click",function(){const o=Xe(t).$implicit;return Ze(ue(2).check(o))}),ge(1,DWe,1,1,"label",13),ge(2,PWe,1,1,"label",14),se(3,"span"),Be(4),le()()}if(2&e){const t=n.$implicit,i=ue(2);ee("nzSelected",t.checked),J(1),ee("ngIf",!i.filterMultiple),J(1),ee("ngIf",i.filterMultiple),J(2),Bt(t.text)}}function zWe(e,n){if(1&e){const t=Ft();wt(0),se(1,"nz-filter-trigger",3),He("nzVisibleChange",function(r){return Xe(t),Ze(ue().onVisibleChange(r))}),Fe(2,"span",4),le(),se(3,"nz-dropdown-menu",null,5)(5,"div",6)(6,"ul",7),ge(7,AWe,5,4,"li",8),le(),se(8,"div",9)(9,"button",10),He("click",function(){return Xe(t),Ze(ue().reset())}),Be(10),le(),se(11,"button",11),He("click",function(){return Xe(t),Ze(ue().confirm())}),Be(12),le()()()(),Dt()}if(2&e){const t=fn(4),i=ue();J(1),ee("nzVisible",i.isVisible)("nzActive",i.isChecked)("nzDropdownMenu",t),J(6),ee("ngForOf",i.listOfParsedFilter)("ngForTrackBy",i.trackByValue),J(2),ee("disabled",!i.isChecked),J(1),In(" ",i.locale.filterReset," "),J(2),Bt(i.locale.filterConfirm)}}function OWe(e,n){}function EWe(e,n){1&e&&Fe(0,"span",6),2&e&&Ht("active","ascend"===ue().sortOrder)}function IWe(e,n){1&e&&Fe(0,"span",7),2&e&&Ht("active","descend"===ue().sortOrder)}const LWe=["nzColumnKey",""];function RWe(e,n){if(1&e){const t=Ft();se(0,"nz-table-filter",5),He("filterChange",function(r){return Xe(t),Ze(ue().onFilterValueChange(r))}),le()}if(2&e){const t=ue(),i=fn(2),r=fn(4);ee("contentTemplate",i)("extraTemplate",r)("customFilter",t.nzCustomFilter)("filterMultiple",t.nzFilterMultiple)("listOfFilter",t.nzFilters)}}function NWe(e,n){}function FWe(e,n){if(1&e&&ge(0,NWe,0,0,"ng-template",6),2&e){const t=ue(),i=fn(6),r=fn(8);ee("ngTemplateOutlet",t.nzShowSort?i:r)}}function BWe(e,n){1&e&&(Ki(0),Ki(1,1))}function VWe(e,n){if(1&e&&Fe(0,"nz-table-sorters",7),2&e){const t=ue(),i=fn(8);ee("sortOrder",t.sortOrder)("sortDirections",t.sortDirections)("contentTemplate",i)}}function HWe(e,n){1&e&&Ki(0,2)}const YWe=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],UWe=["[nz-th-extra]","nz-filter-trigger","*"],GWe=["nz-table-content",""];function WWe(e,n){if(1&e&&Fe(0,"col"),2&e){const t=n.$implicit;yn("width",t)("min-width",t)}}function jWe(e,n){}function $We(e,n){if(1&e&&(se(0,"thead",3),ge(1,jWe,0,0,"ng-template",2),le()),2&e){const t=ue();J(1),ee("ngTemplateOutlet",t.theadTemplate)}}function XWe(e,n){}const rme=["tdElement"],qWe=["nz-table-fixed-row",""];function ZWe(e,n){}function KWe(e,n){if(1&e&&(se(0,"div",4),Lu(1,"async"),ge(2,ZWe,0,0,"ng-template",5),le()),2&e){const t=ue(),i=fn(5);yn("width",sg(1,3,t.hostWidth$),"px"),J(2),ee("ngTemplateOutlet",i)}}function QWe(e,n){1&e&&Ki(0)}const JWe=["nz-table-measure-row",""];function eje(e,n){1&e&&Fe(0,"td",1,2)}function tje(e,n){if(1&e){const t=Ft();se(0,"tr",3),He("listOfAutoWidth",function(r){return Xe(t),Ze(ue(2).onListOfAutoWidthChange(r))}),le()}2&e&&ee("listOfMeasureColumn",ue().ngIf)}function nje(e,n){if(1&e&&(wt(0),ge(1,tje,1,1,"tr",2),Dt()),2&e){const t=n.ngIf,i=ue();J(1),ee("ngIf",i.isInsideTable&&t.length)}}function ije(e,n){if(1&e&&(se(0,"tr",4),Fe(1,"nz-embed-empty",5),Lu(2,"async"),le()),2&e){const t=ue();J(1),ee("specificContent",sg(2,1,t.noResult$))}}const rje=["tableHeaderElement"],oje=["tableBodyElement"];function aje(e,n){if(1&e&&(se(0,"div",7,8),Fe(2,"table",9),le()),2&e){const t=ue(2);ee("ngStyle",t.bodyStyleMap),J(2),ee("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("contentTemplate",t.contentTemplate)}}function sje(e,n){}const lje=function(e,n){return{$implicit:e,index:n}};function cje(e,n){if(1&e&&(wt(0),ge(1,sje,0,0,"ng-template",13),Dt()),2&e){const t=n.$implicit,i=n.index,r=ue(3);J(1),ee("ngTemplateOutlet",r.virtualTemplate)("ngTemplateOutletContext",Cs(2,lje,t,i))}}function uje(e,n){if(1&e&&(se(0,"cdk-virtual-scroll-viewport",10,8)(2,"table",11)(3,"tbody"),ge(4,cje,2,5,"ng-container",12),le()()()),2&e){const t=ue(2);yn("height",t.data.length?t.scrollY:t.noDateVirtualHeight),ee("itemSize",t.virtualItemSize)("maxBufferPx",t.virtualMaxBufferPx)("minBufferPx",t.virtualMinBufferPx),J(2),ee("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth),J(2),ee("cdkVirtualForOf",t.data)("cdkVirtualForTrackBy",t.virtualForTrackBy)}}function hje(e,n){if(1&e&&(wt(0),se(1,"div",2,3),Fe(3,"table",4),le(),ge(4,aje,3,4,"div",5),ge(5,uje,5,9,"cdk-virtual-scroll-viewport",6),Dt()),2&e){const t=ue();J(1),ee("ngStyle",t.headerStyleMap),J(2),ee("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("theadTemplate",t.theadTemplate),J(1),ee("ngIf",!t.virtualTemplate),J(1),ee("ngIf",t.virtualTemplate)}}function dje(e,n){if(1&e&&(se(0,"div",14,8),Fe(2,"table",15),le()),2&e){const t=ue();ee("ngStyle",t.bodyStyleMap),J(2),ee("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("theadTemplate",t.theadTemplate)("contentTemplate",t.contentTemplate)}}function fje(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue();J(1),Bt(t.title)}}function pje(e,n){if(1&e&&(wt(0),Be(1),Dt()),2&e){const t=ue();J(1),Bt(t.footer)}}function gje(e,n){}function mje(e,n){if(1&e&&(wt(0),ge(1,gje,0,0,"ng-template",10),Dt()),2&e){ue();const t=fn(11);J(1),ee("ngTemplateOutlet",t)}}function vje(e,n){1&e&&Fe(0,"nz-table-title-footer",11),2&e&&ee("title",ue().nzTitle)}function _je(e,n){if(1&e&&Fe(0,"nz-table-inner-scroll",12),2&e){const t=ue(),i=fn(13),r=fn(3);ee("data",t.data)("scrollX",t.scrollX)("scrollY",t.scrollY)("contentTemplate",i)("listOfColWidth",t.listOfAutoColWidth)("theadTemplate",t.theadTemplate)("verticalScrollBarWidth",t.verticalScrollBarWidth)("virtualTemplate",t.nzVirtualScrollDirective?t.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",t.nzVirtualItemSize)("virtualMaxBufferPx",t.nzVirtualMaxBufferPx)("virtualMinBufferPx",t.nzVirtualMinBufferPx)("tableMainElement",r)("virtualForTrackBy",t.nzVirtualForTrackBy)}}function yje(e,n){if(1&e&&Fe(0,"nz-table-inner-default",13),2&e){const t=ue(),i=fn(13);ee("tableLayout",t.nzTableLayout)("listOfColWidth",t.listOfManualColWidth)("theadTemplate",t.theadTemplate)("contentTemplate",i)}}function xje(e,n){1&e&&Fe(0,"nz-table-title-footer",14),2&e&&ee("footer",ue().nzFooter)}function bje(e,n){}function Cje(e,n){if(1&e&&(wt(0),ge(1,bje,0,0,"ng-template",10),Dt()),2&e){ue();const t=fn(11);J(1),ee("ngTemplateOutlet",t)}}function wje(e,n){if(1&e){const t=Ft();se(0,"nz-pagination",16),He("nzPageSizeChange",function(r){return Xe(t),Ze(ue(2).onPageSizeChange(r))})("nzPageIndexChange",function(r){return Xe(t),Ze(ue(2).onPageIndexChange(r))}),le()}if(2&e){const t=ue(2);ee("hidden",!t.showPagination)("nzShowSizeChanger",t.nzShowSizeChanger)("nzPageSizeOptions",t.nzPageSizeOptions)("nzItemRender",t.nzItemRender)("nzShowQuickJumper",t.nzShowQuickJumper)("nzHideOnSinglePage",t.nzHideOnSinglePage)("nzShowTotal",t.nzShowTotal)("nzSize","small"===t.nzPaginationType?"small":"default"===t.nzSize?"default":"small")("nzPageSize",t.nzPageSize)("nzTotal",t.nzTotal)("nzSimple",t.nzSimple)("nzPageIndex",t.nzPageIndex)}}function Sje(e,n){if(1&e&&ge(0,wje,1,12,"nz-pagination",15),2&e){const t=ue();ee("ngIf",t.nzShowPagination&&t.data.length)}}function Tje(e,n){1&e&&Ki(0)}const Mje=["contentTemplate"];function Dje(e,n){1&e&&Ki(0)}function Pje(e,n){}function Aje(e,n){if(1&e&&(wt(0),ge(1,Pje,0,0,"ng-template",2),Dt()),2&e){ue();const t=fn(1);J(1),ee("ngTemplateOutlet",t)}}let kje=(()=>{class e{constructor(t,i,r,o){this.nzConfigService=t,this.ngZone=i,this.cdr=r,this.destroy$=o,this._nzModuleName="filterTrigger",this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=!1,this.nzVisibleChange=new et}onVisibleChange(t){this.nzVisible=t,this.nzVisibleChange.next(t)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{as(this.nzDropdown.nativeElement,"click").pipe(st(this.destroy$)).subscribe(t=>{t.stopPropagation()})})}}return e.\u0275fac=function(t){return new(t||e)(de(gm),de(en),de(pr),de(qf))},e.\u0275cmp=ut({type:e,selectors:[["nz-filter-trigger"]],viewQuery:function(t,i){if(1&t&&mi(X1e,7,Vt),2&t){let r;an(r=cn())&&(i.nzDropdown=r.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:"nzBackdrop"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],features:[Ln([qf])],ngContentSelectors:Hw,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible","nzVisibleChange"]],template:function(t,i){1&t&&(fr(),se(0,"span",0),He("nzVisibleChange",function(o){return i.onVisibleChange(o)}),Ki(1),le()),2&t&&(Ht("active",i.nzActive)("ant-table-filter-open",i.nzVisible),ee("nzBackdrop",i.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",i.nzDropdownMenu)("nzVisible",i.nzVisible))},dependencies:[X1e],encapsulation:2,changeDetection:0}),zt([ss(),tn()],e.prototype,"nzBackdrop",void 0),e})(),Oje=(()=>{class e{constructor(t,i){this.cdr=t,this.i18n=i,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new et,this.destroy$=new nt,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}trackByValue(t,i){return i.value}check(t){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(i=>i===t?{...i,checked:!t.checked}:i),t.checked=!t.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(i=>({...i,checked:i===t})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(t){this.isVisible=t,t?this.listOfChecked=this.listOfParsedFilter.filter(i=>i.checked).map(i=>i.value):this.emitFilterData()}emitFilterData(){const t=this.listOfParsedFilter.filter(i=>i.checked).map(i=>i.value);(function Gze(e,n){if(!e||!n||e.length!==n.length)return!1;const t=e.length;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0})(this.listOfChecked,t)||this.filterChange.emit(this.filterMultiple?t:t.length>0?t[0]:null)}parseListOfFilter(t,i){return t.map(r=>({text:r.text,value:r.value,checked:!i&&!!r.byDefault}))}getCheckedStatus(t){return t.some(i=>i.checked)}ngOnInit(){this.i18n.localeChange.pipe(st(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(t){const{listOfFilter:i}=t;i&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(pr),de(x4))},e.\u0275cmp=ut({type:e,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},features:[Le],decls:3,vars:3,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","filter","nzTheme","fill"],["filterMenu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"disabled","click"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"nzSelected","click"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModel","ngModelChange"],["nz-checkbox","",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(se(0,"span",0),ge(1,MWe,0,0,"ng-template",1),le(),ge(2,zWe,13,8,"ng-container",2)),2&t&&(J(1),ee("ngTemplateOutlet",i.contentTemplate),J(1),ee("ngIf",!i.customFilter)("ngIfElse",i.extraTemplate))},dependencies:[qYe,Nne,vl,Wf,pWe,xYe,tUe,Sne,Xf,wne,xr,hn,Yr,$f,kje],encapsulation:2,changeDetection:0}),e})(),Eje=(()=>{class e{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(t){const{sortDirections:i}=t;i&&(this.isUp=-1!==this.sortDirections.indexOf("ascend"),this.isDown=-1!==this.sortDirections.indexOf("descend"))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},features:[Le],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(t,i){1&t&&(se(0,"span",0),ge(1,OWe,0,0,"ng-template",1),le(),se(2,"span",2)(3,"span",3),ge(4,EWe,1,2,"span",4),ge(5,IWe,1,2,"span",5),le()()),2&t&&(J(1),ee("ngTemplateOutlet",i.contentTemplate),J(1),Ht("ant-table-column-sorter-full",i.isDown&&i.isUp),J(2),ee("ngIf",i.isUp),J(1),ee("ngIf",i.isDown))},dependencies:[Xf,hn,Yr,$f],encapsulation:2,changeDetection:0}),e})(),Ije=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new nt,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}setAutoLeftWidth(t){this.renderer.setStyle(this.elementRef.nativeElement,"left",t)}setAutoRightWidth(t){this.renderer.setStyle(this.elementRef.nativeElement,"right",t)}setIsFirstRight(t){this.setFixClass(t,"ant-table-cell-fix-right-first")}setIsLastLeft(t){this.setFixClass(t,"ant-table-cell-fix-left-last")}setFixClass(t,i){this.renderer.removeClass(this.elementRef.nativeElement,i),t&&this.renderer.addClass(this.elementRef.nativeElement,i)}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=""===this.nzLeft||!0===this.nzLeft,this.isAutoRight=""===this.nzRight||!0===this.nzRight,this.isFixedLeft=!1!==this.nzLeft,this.isFixedRight=!1!==this.nzRight,this.isFixed=this.isFixedLeft||this.isFixedRight;const t=i=>"string"==typeof i&&""!==i?i:null;this.setAutoLeftWidth(t(this.nzLeft)),this.setAutoRightWidth(t(this.nzRight)),this.changes$.next()}}return e.\u0275fac=function(t){return new(t||e)(de(_r),de(Vt))},e.\u0275dir=St({type:e,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(t,i){2&t&&(yn("position",i.isFixed?"sticky":null),Ht("ant-table-cell-fix-right",i.isFixedRight)("ant-table-cell-fix-left",i.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},features:[Le]}),e})(),D6=(()=>{class e{constructor(){this.theadTemplate$=new Ws(1),this.hasFixLeft$=new Ws(1),this.hasFixRight$=new Ws(1),this.hostWidth$=new Ws(1),this.columnCount$=new Ws(1),this.showEmpty$=new Ws(1),this.noResult$=new Ws(1),this.listOfThWidthConfigPx$=new wn([]),this.tableWidthConfigPx$=new wn([]),this.manualWidthConfigPx$=Go([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe(Je(([t,i])=>t.length?t:i)),this.listOfAutoWidthPx$=new Ws(1),this.listOfListOfThWidthPx$=Qr(this.manualWidthConfigPx$,Go([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe(Je(([t,i])=>t.length===i.length?t.map((r,o)=>"0px"===r?i[o]||null:i[o]||r):i))),this.listOfMeasureColumn$=new Ws(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe(Je(t=>t.map(i=>parseInt(i,10)))),this.enableAutoMeasure$=new Ws(1)}setTheadTemplate(t){this.theadTemplate$.next(t)}setHasFixLeft(t){this.hasFixLeft$.next(t)}setHasFixRight(t){this.hasFixRight$.next(t)}setTableWidthConfig(t){this.tableWidthConfigPx$.next(t)}setListOfTh(t){let i=0;t.forEach(o=>{i+=o.colspan&&+o.colspan||o.colSpan&&+o.colSpan||1});const r=t.map(o=>o.nzWidth);this.columnCount$.next(i),this.listOfThWidthConfigPx$.next(r)}setListOfMeasureColumn(t){const i=[];t.forEach(r=>{const o=r.colspan&&+r.colspan||r.colSpan&&+r.colSpan||1;for(let l=0;l<o;l++)i.push(`measure_key_${l}`)}),this.listOfMeasureColumn$.next(i)}setListOfAutoWidth(t){this.listOfAutoWidthPx$.next(t.map(i=>`${i}px`))}setShowEmpty(t){this.showEmpty$.next(t)}setNoResult(t){this.noResult$.next(t)}setScroll(t,i){const r=!(!t&&!i);r||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),ome=(()=>{class e{constructor(t){this.isInsideTable=!1,this.isInsideTable=!!t}}return e.\u0275fac=function(t){return new(t||e)(de(D6,8))},e.\u0275dir=St({type:e,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(t,i){2&t&&Ht("ant-table-cell",i.isInsideTable)}}),e})(),Lje=(()=>{class e{constructor(t,i,r,o){this.host=t,this.cdr=i,this.ngZone=r,this.destroy$=o,this.manualClickOrder$=new nt,this.calcOperatorChange$=new nt,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new nt,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new et,this.nzSortOrderChange=new et,this.nzFilterChange=new et}getNextSortDirection(t,i){const r=t.indexOf(i);return r===t.length-1?t[0]:t[r+1]}setSortOrder(t){this.sortOrderChange$.next(t)}clearSortOrder(){null!==this.sortOrder&&this.setSortOrder(null)}onFilterValueChange(t){this.nzFilterChange.emit(t),this.nzFilterValue=t,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}ngOnInit(){this.ngZone.runOutsideAngular(()=>as(this.host.nativeElement,"click").pipe(kr(()=>this.nzShowSort),st(this.destroy$)).subscribe(()=>{const t=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(t),this.manualClickOrder$.next(this)})})),this.sortOrderChange$.pipe(st(this.destroy$)).subscribe(t=>{this.sortOrder!==t&&(this.sortOrder=t,this.nzSortOrderChange.emit(t)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzSortDirections:i,nzFilters:r,nzSortOrder:o,nzSortFn:l,nzFilterFn:h,nzSortPriority:f,nzFilterMultiple:m,nzShowSort:_,nzShowFilter:b}=t;i&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),o&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),_&&(this.isNzShowSortChanged=!0),b&&(this.isNzShowFilterChanged=!0);const S=M=>M&&M.firstChange&&void 0!==M.currentValue;if((S(o)||S(l))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),S(r)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(r||m)&&this.nzShowFilter){const M=this.nzFilters.filter(O=>O.byDefault).map(O=>O.value);this.nzFilterValue=this.nzFilterMultiple?M:M[0]||null}(l||h||f||r)&&this.updateCalcOperator()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(pr),de(en),de(qf))},e.\u0275cmp=ut({type:e,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(t,i){2&t&&Ht("ant-table-column-has-sorters",i.nzShowSort)("ant-table-column-sort","descend"===i.sortOrder||"ascend"===i.sortOrder)},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},features:[Ln([qf]),Le],attrs:LWe,ngContentSelectors:UWe,decls:9,vars:2,consts:[[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(t,i){if(1&t&&(fr(YWe),ge(0,RWe,1,5,"nz-table-filter",0),ge(1,FWe,1,1,"ng-template",null,1,xn),ge(3,BWe,2,0,"ng-template",null,2,xn),ge(5,VWe,1,3,"ng-template",null,3,xn),ge(7,HWe,1,0,"ng-template",null,4,xn)),2&t){const r=fn(2);ee("ngIf",i.nzShowFilter||i.nzCustomFilter)("ngIfElse",r)}},dependencies:[hn,Yr,Eje,Oje],encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzShowSort",void 0),zt([tn()],e.prototype,"nzShowFilter",void 0),zt([tn()],e.prototype,"nzCustomFilter",void 0),e})(),Yne=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.changes$=new nt,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(t){const{nzWidth:i,colspan:r,rowspan:o,colSpan:l,rowSpan:h}=t;if(r||l){const f=this.colspan||this.colSpan;Mte(f)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${f}`)}if(o||h){const f=this.rowspan||this.rowSpan;Mte(f)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${f}`)}(i||r)&&this.changes$.next()}}return e.\u0275fac=function(t){return new(t||e)(de(_r),de(Vt))},e.\u0275dir=St({type:e,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},features:[Le]}),e})(),Rje=(()=>{class e{constructor(){this.nzAlign=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=St({type:e,selectors:[["th","nzAlign",""],["td","nzAlign",""]],hostVars:2,hostBindings:function(t,i){2&t&&yn("text-align",i.nzAlign)},inputs:{nzAlign:"nzAlign"}}),e})(),ame=(()=>{class e{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(t,i){2&t&&(yn("table-layout",i.tableLayout)("width",i.scrollX)("min-width",i.scrollX?"100%":null),Ht("ant-table-fixed",i.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},attrs:GWe,ngContentSelectors:Hw,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(t,i){1&t&&(fr(),ge(0,WWe,1,4,"col",0),ge(1,$We,2,1,"thead",1),ge(2,XWe,0,0,"ng-template",2),Ki(3)),2&t&&(ee("ngForOf",i.listOfColWidth),J(1),ee("ngIf",i.theadTemplate),J(1),ee("ngTemplateOutlet",i.contentTemplate))},dependencies:[xr,hn,Yr],encapsulation:2,changeDetection:0}),e})(),Nje=(()=>{class e{constructor(t,i){this.nzTableStyleService=t,this.renderer=i,this.hostWidth$=new wn(null),this.enableAutoMeasure$=new wn(!1),this.destroy$=new nt}ngOnInit(){if(this.nzTableStyleService){const{enableAutoMeasure$:t,hostWidth$:i}=this.nzTableStyleService;t.pipe(st(this.destroy$)).subscribe(this.enableAutoMeasure$),i.pipe(st(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe(st(this.destroy$)).subscribe(t=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${t}`)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(D6),de(_r))},e.\u0275cmp=ut({type:e,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(t,i){if(1&t&&mi(rme,7),2&t){let r;an(r=cn())&&(i.tdElement=r.first)}},attrs:qWe,ngContentSelectors:Hw,decls:6,vars:4,consts:[[1,"nz-disable-td","ant-table-cell"],["tdElement",""],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(t,i){if(1&t&&(fr(),se(0,"td",0,1),ge(2,KWe,3,5,"div",2),Lu(3,"async"),le(),ge(4,QWe,1,0,"ng-template",null,3,xn)),2&t){const r=fn(5);J(2),ee("ngIf",sg(3,2,i.enableAutoMeasure$))("ngIfElse",r)}},dependencies:[hn,Yr,jC],encapsulation:2,changeDetection:0}),e})(),Fje=(()=>{class e{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(t,i){1&t&&(se(0,"div",0),Fe(1,"table",1),le()),2&t&&(J(1),ee("contentTemplate",i.contentTemplate)("tableLayout",i.tableLayout)("listOfColWidth",i.listOfColWidth)("theadTemplate",i.theadTemplate))},dependencies:[ame],encapsulation:2,changeDetection:0}),e})(),Bje=(()=>{class e{constructor(t,i){this.nzResizeObserver=t,this.ngZone=i,this.listOfMeasureColumn=[],this.listOfAutoWidth=new et,this.destroy$=new nt}trackByFunc(t,i){return i}ngAfterViewInit(){this.listOfTdElement.changes.pipe(So(this.listOfTdElement)).pipe(so(t=>Go(t.toArray().map(i=>this.nzResizeObserver.observe(i).pipe(Je(([r])=>{const{width:o}=r.target.getBoundingClientRect();return Math.floor(o)}))))),pU(16),st(this.destroy$)).subscribe(t=>{this.ngZone instanceof en&&en.isInAngularZone()?this.listOfAutoWidth.next(t):this.ngZone.run(()=>this.listOfAutoWidth.next(t))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(kne),de(en))},e.\u0275cmp=ut({type:e,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(t,i){if(1&t&&mi(rme,5),2&t){let r;an(r=cn())&&(i.listOfTdElement=r)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},attrs:JWe,decls:1,vars:2,consts:[["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"],["tdElement",""]],template:function(t,i){1&t&&ge(0,eje,2,0,"td",0),2&t&&ee("ngForOf",i.listOfMeasureColumn)("ngForTrackBy",i.trackByFunc)},dependencies:[xr],encapsulation:2,changeDetection:0}),e})(),Une=(()=>{class e{constructor(t){if(this.nzTableStyleService=t,this.isInsideTable=!1,this.showEmpty$=new wn(!1),this.noResult$=new wn(void 0),this.listOfMeasureColumn$=new wn([]),this.destroy$=new nt,this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){const{showEmpty$:i,noResult$:r,listOfMeasureColumn$:o}=this.nzTableStyleService;r.pipe(st(this.destroy$)).subscribe(this.noResult$),o.pipe(st(this.destroy$)).subscribe(this.listOfMeasureColumn$),i.pipe(st(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(t){this.nzTableStyleService.setListOfAutoWidth(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(D6,8))},e.\u0275cmp=ut({type:e,selectors:[["tbody"]],hostVars:2,hostBindings:function(t,i){2&t&&Ht("ant-table-tbody",i.isInsideTable)},ngContentSelectors:Hw,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(t,i){1&t&&(fr(),ge(0,nje,2,1,"ng-container",0),Lu(1,"async"),Ki(2),ge(3,ije,3,3,"tr",1),Lu(4,"async")),2&t&&(ee("ngIf",sg(1,2,i.listOfMeasureColumn$)),J(3),ee("ngIf",sg(4,4,i.showEmpty$)))},dependencies:[hn,q1e,Bje,Nje,jC],encapsulation:2,changeDetection:0}),e})(),sme=(()=>{class e{constructor(t,i,r,o){this.renderer=t,this.ngZone=i,this.platform=r,this.resizeService=o,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=l=>l,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new nt,this.scroll$=new nt,this.destroy$=new nt}setScrollPositionClassName(t=!1){const{scrollWidth:i,scrollLeft:r,clientWidth:o}=this.tableBodyElement.nativeElement,l="ant-table-ping-left",h="ant-table-ping-right";i===o&&0!==i||t?(this.renderer.removeClass(this.tableMainElement,l),this.renderer.removeClass(this.tableMainElement,h)):0===r?(this.renderer.removeClass(this.tableMainElement,l),this.renderer.addClass(this.tableMainElement,h)):i===r+o?(this.renderer.removeClass(this.tableMainElement,h),this.renderer.addClass(this.tableMainElement,l)):(this.renderer.addClass(this.tableMainElement,l),this.renderer.addClass(this.tableMainElement,h))}ngOnChanges(t){const{scrollX:i,scrollY:r,data:o}=t;(i||r)&&(this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&0!==this.verticalScrollBarWidth?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())),o&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{const t=this.scroll$.pipe(So(null),Hne(0),so(()=>as(this.tableBodyElement.nativeElement,"scroll").pipe(So(!0))),st(this.destroy$));Qr(t,this.resizeService.subscribe().pipe(st(this.destroy$)),this.data$.pipe(st(this.destroy$)),this.scroll$).pipe(So(!0),Hne(0),st(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),t.pipe(kr(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(_r),de(en),de(Pc),de(w1e))},e.\u0275cmp=ut({type:e,selectors:[["nz-table-inner-scroll"]],viewQuery:function(t,i){if(1&t&&(mi(rje,5,Vt),mi(oje,5,Vt),mi(b6,5,b6)),2&t){let r;an(r=cn())&&(i.tableHeaderElement=r.first),an(r=cn())&&(i.tableBodyElement=r.first),an(r=cn())&&(i.cdkVirtualScrollViewport=r.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth"},features:[Le],decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["tableHeaderElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["tableBodyElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(t,i){1&t&&(ge(0,hje,6,6,"ng-container",0),ge(1,dje,3,5,"div",1)),2&t&&(ee("ngIf",i.scrollY),J(1),ee("ngIf",!i.scrollY))},dependencies:[hn,Yr,Ys,vge,bge,b6,Une,ame],encapsulation:2,changeDetection:0}),e})(),Vje=(()=>{class e{constructor(t){this.templateRef=t}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(de(Yo))},e.\u0275dir=St({type:e,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"]}),e})(),Gne=(()=>{class e{constructor(){this.destroy$=new nt,this.pageIndex$=new wn(1),this.frontPagination$=new wn(!0),this.pageSize$=new wn(10),this.listOfData$=new wn([]),this.pageIndexDistinct$=this.pageIndex$.pipe(Ih()),this.pageSizeDistinct$=this.pageSize$.pipe(Ih()),this.listOfCalcOperator$=new wn([]),this.queryParams$=Go([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe(pU(0),Mne(1),Je(([t,i,r])=>({pageIndex:t,pageSize:i,sort:r.filter(o=>o.sortFn).map(o=>({key:o.key,value:o.sortOrder})),filter:r.filter(o=>o.filterFn).map(o=>({key:o.key,value:o.filterValue}))}))),this.listOfDataAfterCalc$=Go([this.listOfData$,this.listOfCalcOperator$]).pipe(Je(([t,i])=>{let r=[...t];const o=i.filter(h=>{const{filterValue:f,filterFn:m}=h;return!(null==f||Array.isArray(f)&&0===f.length)&&"function"==typeof m});for(const h of o){const{filterFn:f,filterValue:m}=h;r=r.filter(_=>f(m,_))}const l=i.filter(h=>null!==h.sortOrder&&"function"==typeof h.sortFn).sort((h,f)=>+f.sortPriority-+h.sortPriority);return i.length&&r.sort((h,f)=>{for(const m of l){const{sortFn:_,sortOrder:b}=m;if(_&&b){const S=_(h,f,b);if(0!==S)return"ascend"===b?S:-S}}return 0}),r})),this.listOfFrontEndCurrentPageData$=Go([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe(st(this.destroy$),kr(t=>{const[i,r,o]=t;return i<=(Math.ceil(o.length/r)||1)}),Je(([t,i,r])=>r.slice((t-1)*i,t*i))),this.listOfCurrentPageData$=this.frontPagination$.pipe(so(t=>t?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe(so(t=>t?this.listOfDataAfterCalc$:this.listOfData$),Je(t=>t.length),Ih())}updatePageSize(t){this.pageSize$.next(t)}updateFrontPagination(t){this.frontPagination$.next(t)}updatePageIndex(t){this.pageIndex$.next(t)}updateListOfData(t){this.listOfData$.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Hje=(()=>{class e{constructor(){this.title=null,this.footer=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(t,i){2&t&&Ht("ant-table-title",null!==i.title)("ant-table-footer",null!==i.footer)},inputs:{title:"title",footer:"footer"},decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,i){1&t&&(ge(0,fje,2,1,"ng-container",0),ge(1,pje,2,1,"ng-container",0)),2&t&&(ee("nzStringTemplateOutlet",i.title),J(1),ee("nzStringTemplateOutlet",i.footer))},dependencies:[R4],encapsulation:2,changeDetection:0}),e})(),cme=(()=>{class e{constructor(t,i,r,o,l,h,f){this.elementRef=t,this.nzResizeObserver=i,this.nzConfigService=r,this.cdr=o,this.nzTableStyleService=l,this.nzTableDataService=h,this.directionality=f,this._nzModuleName="table",this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=m=>m,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new et,this.nzPageIndexChange=new et,this.nzQueryParams=new et,this.nzCurrentPageDataChange=new et,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new nt,this.templateMode$=new wn(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent("table").pipe(st(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}onPageSizeChange(t){this.nzTableDataService.updatePageSize(t)}onPageIndexChange(t){this.nzTableDataService.updatePageIndex(t)}ngOnInit(){const{pageIndexDistinct$:t,pageSizeDistinct$:i,listOfCurrentPageData$:r,total$:o,queryParams$:l}=this.nzTableDataService,{theadTemplate$:h,hasFixLeft$:f,hasFixRight$:m}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe(st(this.destroy$)).subscribe(_=>{this.dir=_,this.cdr.detectChanges()}),l.pipe(st(this.destroy$)).subscribe(this.nzQueryParams),t.pipe(st(this.destroy$)).subscribe(_=>{_!==this.nzPageIndex&&(this.nzPageIndex=_,this.nzPageIndexChange.next(_))}),i.pipe(st(this.destroy$)).subscribe(_=>{_!==this.nzPageSize&&(this.nzPageSize=_,this.nzPageSizeChange.next(_))}),o.pipe(st(this.destroy$),kr(()=>this.nzFrontPagination)).subscribe(_=>{_!==this.nzTotal&&(this.nzTotal=_,this.cdr.markForCheck())}),r.pipe(st(this.destroy$)).subscribe(_=>{this.data=_,this.nzCurrentPageDataChange.next(_),this.cdr.markForCheck()}),h.pipe(st(this.destroy$)).subscribe(_=>{this.theadTemplate=_,this.cdr.markForCheck()}),f.pipe(st(this.destroy$)).subscribe(_=>{this.hasFixLeft=_,this.cdr.markForCheck()}),m.pipe(st(this.destroy$)).subscribe(_=>{this.hasFixRight=_,this.cdr.markForCheck()}),Go([o,this.templateMode$]).pipe(Je(([_,b])=>0===_&&!b),st(this.destroy$)).subscribe(_=>{this.nzTableStyleService.setShowEmpty(_)}),this.verticalScrollBarWidth=function nke(e="vertical",n="ant"){if(typeof document>"u"||typeof window>"u")return 0;const t="vertical"===e;if(t&&Ote)return Ote;if(!t&&Ete)return Ete;const i=document.createElement("div");Object.keys(Pfe).forEach(o=>{i.style[o]=Pfe[o]}),i.className=`${n}-hide-scrollbar scroll-div-append-to-body`,t?i.style.overflowY="scroll":i.style.overflowX="scroll",document.body.appendChild(i);let r=0;return t?(r=i.offsetWidth-i.clientWidth,Ote=r):(r=i.offsetHeight-i.clientHeight,Ete=r),document.body.removeChild(i),r}("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe(st(this.destroy$)).subscribe(_=>{this.listOfAutoColWidth=_,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe(st(this.destroy$)).subscribe(_=>{this.listOfManualColWidth=_,this.cdr.markForCheck()})}ngOnChanges(t){const{nzScroll:i,nzPageIndex:r,nzPageSize:o,nzFrontPagination:l,nzData:h,nzWidthConfig:f,nzNoResult:m,nzTemplateMode:_}=t;r&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),o&&this.nzTableDataService.updatePageSize(this.nzPageSize),h&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),l&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),i&&this.setScrollOnChanges(),f&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),_&&this.templateMode$.next(this.nzTemplateMode),m&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(Je(([t])=>{const{width:i}=t.target.getBoundingClientRect();return Math.floor(i-(this.scrollY?this.verticalScrollBarWidth:0))}),st(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(kne),de(gm),de(pr),de(D6),de(Gne),de(ma,8))},e.\u0275cmp=ut({type:e,selectors:[["nz-table"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,Vje,5),2&t){let o;an(o=cn())&&(i.nzVirtualScrollDirective=o.first)}},viewQuery:function(t,i){if(1&t&&mi(sme,5),2&t){let r;an(r=cn())&&(i.nzTableInnerScrollComponent=r.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("ant-table-wrapper-rtl","rtl"===i.dir)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange"},exportAs:["nzTable"],features:[Ln([D6,Gne]),Le],ngContentSelectors:Hw,decls:14,vars:27,consts:[[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],["tableMainElement",""],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"footer",4,"ngIf"],["paginationTemplate",""],["contentTemplate",""],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange"]],template:function(t,i){if(1&t&&(fr(),se(0,"nz-spin",0),ge(1,mje,2,1,"ng-container",1),se(2,"div",2,3),ge(4,vje,1,1,"nz-table-title-footer",4),ge(5,_je,1,13,"nz-table-inner-scroll",5),ge(6,yje,1,4,"ng-template",null,6,xn),ge(8,xje,1,1,"nz-table-title-footer",7),le(),ge(9,Cje,2,1,"ng-container",1),le(),ge(10,Sje,1,1,"ng-template",null,8,xn),ge(12,Tje,1,0,"ng-template",null,9,xn)),2&t){const r=fn(7);ee("nzDelay",i.nzLoadingDelay)("nzSpinning",i.nzLoading)("nzIndicator",i.nzLoadingIndicator),J(1),ee("ngIf","both"===i.nzPaginationPosition||"top"===i.nzPaginationPosition),J(1),Ht("ant-table-rtl","rtl"===i.dir)("ant-table-fixed-header",i.nzData.length&&i.scrollY)("ant-table-fixed-column",i.scrollX)("ant-table-has-fix-left",i.hasFixLeft)("ant-table-has-fix-right",i.hasFixRight)("ant-table-bordered",i.nzBordered)("nz-table-out-bordered",i.nzOuterBordered&&!i.nzBordered)("ant-table-middle","middle"===i.nzSize)("ant-table-small","small"===i.nzSize),J(2),ee("ngIf",i.nzTitle),J(1),ee("ngIf",i.scrollY||i.scrollX)("ngIfElse",r),J(3),ee("ngIf",i.nzFooter),J(1),ee("ngIf","both"===i.nzPaginationPosition||"bottom"===i.nzPaginationPosition)}},dependencies:[hn,Yr,sWe,wWe,Hje,Fje,sme],encapsulation:2,changeDetection:0}),zt([tn()],e.prototype,"nzFrontPagination",void 0),zt([tn()],e.prototype,"nzTemplateMode",void 0),zt([tn()],e.prototype,"nzShowPagination",void 0),zt([tn()],e.prototype,"nzLoading",void 0),zt([tn()],e.prototype,"nzOuterBordered",void 0),zt([ss()],e.prototype,"nzLoadingIndicator",void 0),zt([ss(),tn()],e.prototype,"nzBordered",void 0),zt([ss()],e.prototype,"nzSize",void 0),zt([ss(),tn()],e.prototype,"nzShowSizeChanger",void 0),zt([ss(),tn()],e.prototype,"nzHideOnSinglePage",void 0),zt([ss(),tn()],e.prototype,"nzShowQuickJumper",void 0),zt([ss(),tn()],e.prototype,"nzSimple",void 0),e})(),Wne=(()=>{class e{constructor(t){this.nzTableStyleService=t,this.destroy$=new nt,this.listOfFixedColumns$=new Ws(1),this.listOfColumns$=new Ws(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe(so(i=>Qr(this.listOfFixedColumns$,...i.map(r=>r.changes$)).pipe(Cr(()=>this.listOfFixedColumns$))),st(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe(Je(i=>i.filter(r=>!1!==r.nzLeft))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe(Je(i=>i.filter(r=>!1!==r.nzRight))),this.listOfColumnsChanges$=this.listOfColumns$.pipe(so(i=>Qr(this.listOfColumns$,...i.map(r=>r.changes$)).pipe(Cr(()=>this.listOfColumns$))),st(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!t}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe(So(this.listOfCellFixedDirective),st(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe(So(this.listOfNzThDirective),st(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(t=>{t.forEach(i=>i.setIsLastLeft(i===t[t.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(t=>{t.forEach(i=>i.setIsFirstRight(i===t[0]))}),Go([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe(st(this.destroy$)).subscribe(([t,i])=>{i.forEach((r,o)=>{if(r.isAutoLeft){const h=i.slice(0,o).reduce((m,_)=>m+(_.colspan||_.colSpan||1),0),f=t.slice(0,h).reduce((m,_)=>m+_,0);r.setAutoLeftWidth(`${f}px`)}})}),Go([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe(st(this.destroy$)).subscribe(([t,i])=>{i.forEach((r,o)=>{const l=i[i.length-o-1];if(l.isAutoRight){const f=i.slice(i.length-o,i.length).reduce((_,b)=>_+(b.colspan||b.colSpan||1),0),m=t.slice(t.length-f,t.length).reduce((_,b)=>_+b,0);l.setAutoRightWidth(`${m}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(D6,8))},e.\u0275dir=St({type:e,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,Yne,4),Uo(r,Ije,4)),2&t){let o;an(o=cn())&&(i.listOfNzThDirective=o),an(o=cn())&&(i.listOfCellFixedDirective=o)}},hostVars:2,hostBindings:function(t,i){2&t&&Ht("ant-table-row",i.isInsideTable)}}),e})(),ume=(()=>{class e{constructor(t,i,r,o){this.elementRef=t,this.renderer=i,this.nzTableStyleService=r,this.nzTableDataService=o,this.destroy$=new nt,this.isInsideTable=!1,this.nzSortOrderChange=new et,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){const t=this.listOfNzTrDirective.changes.pipe(So(this.listOfNzTrDirective),Je(l=>l&&l.first)),i=t.pipe(so(l=>l?l.listOfColumnsChanges$:cr),st(this.destroy$));i.subscribe(l=>this.nzTableStyleService.setListOfTh(l)),this.nzTableStyleService.enableAutoMeasure$.pipe(so(l=>l?i:Cn([]))).pipe(st(this.destroy$)).subscribe(l=>this.nzTableStyleService.setListOfMeasureColumn(l));const r=t.pipe(so(l=>l?l.listOfFixedLeftColumnChanges$:cr),st(this.destroy$)),o=t.pipe(so(l=>l?l.listOfFixedRightColumnChanges$:cr),st(this.destroy$));r.subscribe(l=>{this.nzTableStyleService.setHasFixLeft(0!==l.length)}),o.subscribe(l=>{this.nzTableStyleService.setHasFixRight(0!==l.length)})}if(this.nzTableDataService){const t=this.listOfNzThAddOnComponent.changes.pipe(So(this.listOfNzThAddOnComponent));t.pipe(so(()=>Qr(...this.listOfNzThAddOnComponent.map(o=>o.manualClickOrder$))),st(this.destroy$)).subscribe(o=>{this.nzSortOrderChange.emit({key:o.nzColumnKey,value:o.sortOrder}),o.nzSortFn&&!1===o.nzSortPriority&&this.listOfNzThAddOnComponent.filter(h=>h!==o).forEach(h=>h.clearSortOrder())}),t.pipe(so(o=>Qr(t,...o.map(l=>l.calcOperatorChange$)).pipe(Cr(()=>t))),Je(o=>o.filter(l=>!!l.nzSortFn||!!l.nzFilterFn).map(l=>{const{nzSortFn:h,sortOrder:f,nzFilterFn:m,nzFilterValue:_,nzSortPriority:b,nzColumnKey:S}=l;return{key:S,sortFn:h,sortPriority:b,sortOrder:f,filterFn:m,filterValue:_}})),Hne(0),st(this.destroy$)).subscribe(o=>{this.nzTableDataService.listOfCalcOperator$.next(o)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(_r),de(D6,8),de(Gne,8))},e.\u0275cmp=ut({type:e,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,Wne,5),Uo(r,Lje,5)),2&t){let o;an(o=cn())&&(i.listOfNzTrDirective=o),an(o=cn())&&(i.listOfNzThAddOnComponent=o)}},viewQuery:function(t,i){if(1&t&&mi(Mje,7),2&t){let r;an(r=cn())&&(i.templateRef=r.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},ngContentSelectors:Hw,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&(fr(),ge(0,Dje,1,0,"ng-template",null,0,xn),ge(2,Aje,2,1,"ng-container",1)),2&t&&(J(2),ee("ngIf",!i.isInsideTable))},dependencies:[hn,Yr],encapsulation:2,changeDetection:0}),e})(),Yje=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,Fne,jf,kg,gWe,bYe,nUe,vk,ao,E4,lWe,_Be,SWe,p6,mm,Z1e,iU]}),e})();function Uje(e,n){if(1&e){const t=Ft();se(0,"button",14),He("click",function(){Xe(t);const r=ue().$implicit;return Ze(ue().OpenSlote(r.slote_no,r.price))}),Be(1),le()}if(2&e){const t=ue().$implicit;ee("outline",ue().time_slote_id!=t.slote_no)("view","success"),J(1),Bt(t.slote)}}function Gje(e,n){if(1&e&&(se(0,"button",15),Be(1),le()),2&e){const t=ue().$implicit;ee("disabled",!0),J(1),Bt(t.slote)}}function Wje(e,n){if(1&e&&(se(0,"div"),ge(1,Uje,2,3,"button",12),ge(2,Gje,2,2,"button",13),le()),2&e){const t=n.$implicit;J(1),ee("ngIf",0==t.is_reserved),J(1),ee("ngIf",0!=t.is_reserved)}}function jje(e,n){if(1&e){const t=Ft();se(0,"div",16)(1,"button",17),He("click",function(){Xe(t);const r=ue(),o=fn(8),l=fn(10);return Ze(r.ProceedPayment(o,"Confirm Payment",l))}),Be(2),le()()}if(2&e){const t=ue();J(1),ee("block",!0)("view","success")("tcShape",500)("afterIcon","icofont-pixels"),J(1),In(" Proceed Payment $",t.price," ")}}function $je(e,n){if(1&e&&(se(0,"tc-alert",19),Be(1),le()),2&e){const t=ue(2);ee("removable",!0)("view",t.status)("view","success"),J(1),In(" ",t.texttoshow," ")}}function Xje(e,n){if(1&e&&(se(0,"strong"),Be(1),le(),ge(2,$je,2,4,"tc-alert",18)),2&e){const t=ue();J(1),In("Are You Sure want to Proceed Payment $",t.price,""),J(1),ee("ngIf",1==t.is_ActveButton)}}function qje(e,n){if(1&e){const t=Ft();se(0,"div",20)(1,"button",21),He("click",function(){return Xe(t),Ze(ue().closeModal())}),Be(2,"Cancel"),le(),se(3,"button",22),He("click",function(){return Xe(t),Ze(ue().proceed())}),Be(4," Proceed Payment "),le()()}if(2&e){const t=ue();J(1),ee("type","button")("view","error"),J(2),ee("view","info")("disabled",0!=t.is_ActveButton)}}function Zje(e,n){if(1&e&&(se(0,"tc-alert",25),Be(1),le()),2&e){const t=ue(2);ee("removable",!0)("view",t.status)("view","success"),J(1),In(" ",t.texttoshow," ")}}function Kje(e,n){if(1&e&&(se(0,"strong",23),Be(1,"Are You Sure want to Cancel ? We will Deduct 50% "),le(),ge(2,Zje,2,4,"tc-alert",24)),2&e){const t=ue();J(2),ee("ngIf",1==t.is_ActveButton)}}function Qje(e,n){if(1&e){const t=Ft();se(0,"div",20)(1,"button",21),He("click",function(){return Xe(t),Ze(ue().closeModal())}),Be(2,"Cancel"),le(),se(3,"button",22),He("click",function(){return Xe(t),Ze(ue().CancleSlote())}),Be(4," Cancel Slote "),le()()}if(2&e){const t=ue();J(1),ee("type","button")("view","error"),J(2),ee("view","info")("disabled",0!=t.is_ActveButton)}}function Jje(e,n){if(1&e){const t=Ft();se(0,"tr"),wt(1),se(2,"td")(3,"div",30)(4,"strong",31),Be(5),le()()(),se(6,"td"),Be(7),le(),se(8,"td"),Be(9),le(),se(10,"td"),Be(11),le(),se(12,"td"),Be(13),le(),se(14,"td"),Be(15),le(),se(16,"td"),Be(17),le(),se(18,"td"),Be(19),le(),se(20,"td"),Be(21),le(),se(22,"td",29)(23,"button",32),He("click",function(){const o=Xe(t).$implicit,l=ue(2),h=fn(13),f=fn(15);return Ze(l.startEdit(o.reservations_id,h,"Cancel Slote",f))}),Be(24,"Cancel Slote"),le()(),Dt(),le()}if(2&e){const t=n.$implicit,i=n.index;J(5),Bt(i+1),J(2),Bt(t.reservations_id),J(2),Bt(t.slote_id),J(2),Bt(t.date),J(2),Bt(t.cust_id),J(2),Bt(t.slote_no),J(2),Bt(t.car_type),J(2),Bt(t.my_slote),J(2),Bt(t.amount_received),J(1),ee("nzAlign","right"),J(1),ee("size","sm")("view","accent")}}function e$e(e,n){if(1&e&&(se(0,"tc-card",2)(1,"div",26)(2,"nz-table",27,28)(4,"thead")(5,"tr")(6,"th"),Be(7,"id"),le(),se(8,"th"),Be(9,"Reservations Id"),le(),se(10,"th"),Be(11,"Slote Id"),le(),se(12,"th"),Be(13,"Date"),le(),se(14,"th"),Be(15,"Cust Id"),le(),se(16,"th"),Be(17,"Slote No"),le(),se(18,"th"),Be(19,"Car Type"),le(),se(20,"th"),Be(21,"My slote"),le(),se(22,"th"),Be(23,"Amount Received"),le(),se(24,"th",29),Be(25,"Cancel Slote"),le()()(),se(26,"tbody"),ge(27,Jje,25,12,"tr",4),le()()()()),2&e){const t=fn(3),i=ue();ee("title","My Bookings"),J(2),ee("nzData",i.Mybookings)("nzShowPagination",!1),J(22),ee("nzAlign","right"),J(3),ee("ngForOf",t.data)}}class wk extends pm{constructor(n,t,i,r,o){super(n,t),this.modal=i,this.route=r,this.datePipe=o,this.Mybookings=[],this.editCache={},this.gender=[{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.slides=[{img:"/assets/content/department-1.jpg",title:"Chronic Disease and Self-Help Program Lay Leader Training"},{img:"/assets/content/department-2.jpg",title:"BLS Instructor Course"},{img:"/assets/content/department-3.jpg",title:"New Diagnostic Approaches and Therapeutic Interventions\u201d"}],this.slote_id=0,this.slotelist=[],this.time_slote_id=0,this.price=0,this.is_ActveButton=0,this.currentdate="",this.date="",this.reservation_id_selected=0,this.pageData={title:"Slote Details",breadcrumbs:[{title:"Admin",route:"default-dashboard"},{title:"Reservation",route:"reservation"},{title:"Reserved slotes"}]}}OpenSlote(n,t){this.price=t,this.time_slote_id=n}proceed(){this.is_ActveButton=0,this.status="",this.texttoshow="";let n={slote_id:this.slote_id,date:this.date,amount_recived:this.price,slote_no:this.time_slote_id,cust_id:localStorage.getItem("cust_id")};this.httpSv.postdata(n,"book_slote").subscribe(t=>{this.status="success",this.texttoshow=t.message;let i={slote_id:this.slote_id,date:this.date};this.is_ActveButton=1,this.postdata("generateslotes","slotelist","setLoaded",i)},t=>{console.log(t),this.status="warning",this.texttoshow=t.message},()=>{})}closeModal(){this.is_ActveButton=0,this.modal.close()}ProceedPayment(n,t=null,i=null,r=null){this.modal.open({body:n,header:t,footer:i})}ngOnInit(){if(this.user_type=localStorage.getItem("user_type"),super.ngOnInit(),this.route.params.subscribe(t=>{this.slote_id=t.value,this.date=this.datePipe.transform(t.date,"yyyy-MM-dd")}),this.currentdate=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.postdata("generateslotes","slotelist","setLoaded",{slote_id:this.slote_id,date:this.date}),"customer"==this.user_type){let t={cust_id:localStorage.getItem("cust_id")};this.postdata("my_bookings","Mybookings","setLoaded",t)}}ngOnDestroy(){super.ngOnDestroy()}setDoctors(){this.updateEditCache(),this.setLoaded()}startEdit(n,t,i=null,r=null,o=null){this.reservation_id_selected=n,this.modal.open({body:t,header:i,footer:r})}findObjectByValue(n,t){return n.find(i=>i.reservations_id===t)}CancleSlote(){let n="reservations_id="+this.reservation_id_selected,t=this.findObjectByValue(this.Mybookings,this.reservation_id_selected);this.httpSv.DeleteData(n,"delete_reservation").subscribe(i=>{this.status="success",this.texttoshow=i.message,this.is_ActveButton=1,this.Mybookings=this.Mybookings.filter(o=>o!==t)},i=>{console.log(i),this.status="warning",this.texttoshow=i.message},()=>{})}cancelEdit(n){const t=this.Mybookings.findIndex(i=>i.id===n);this.editCache[n]={data:{...this.Mybookings[t]},edit:!1}}updateEditCache(){this.Mybookings.forEach(n=>{this.editCache[n.id]={edit:!1,data:{...n}}})}saveEdit(n){const t=this.Mybookings.findIndex(i=>i.id===n);Object.assign(this.Mybookings[t],this.editCache[n].data),this.editCache[n].edit=!1}}function t$e(e,n){if(1&e&&(se(0,"tr"),wt(1),se(2,"td")(3,"div",6)(4,"strong",7),Be(5),le()()(),se(6,"td"),Be(7),le(),se(8,"td"),Be(9),le(),se(10,"td"),Be(11),le(),se(12,"td"),Be(13),le(),se(14,"td"),Be(15),le(),se(16,"td"),Be(17),le(),se(18,"td"),Be(19),le(),se(20,"td"),Be(21),le(),Dt(),le()),2&e){const t=n.$implicit,i=n.index;J(5),Bt(i+1),J(2),Bt(t.reservations_id),J(2),Bt(t.slote_id),J(2),Bt(t.date),J(2),Bt(t.cust_id),J(2),Bt(t.slote_no),J(2),Bt(t.car_type),J(2),Bt(t.my_slote),J(2),Bt(t.amount_received)}}function n$e(e,n){if(1&e&&(se(0,"tc-card",1)(1,"div",2)(2,"nz-table",3,4)(4,"thead")(5,"tr")(6,"th"),Be(7,"id"),le(),se(8,"th"),Be(9,"Reservations Id"),le(),se(10,"th"),Be(11,"Slote Id"),le(),se(12,"th"),Be(13,"Date"),le(),se(14,"th"),Be(15,"Cust Id"),le(),se(16,"th"),Be(17,"Slote No"),le(),se(18,"th"),Be(19,"Car Type"),le(),se(20,"th"),Be(21,"My slote"),le(),se(22,"th"),Be(23,"Amount Received"),le()()(),se(24,"tbody"),ge(25,t$e,22,9,"tr",5),le()()()()),2&e){const t=fn(3),i=ue();ee("title","All Bookings"),J(2),ee("nzData",i.bookings)("nzShowPagination",!1),J(23),ee("ngForOf",t.data)}}wk.\u0275fac=function(n){return new(n||wk)(de(Mc),de(Dc),de(Dg),de(am),de(NP))},wk.\u0275cmp=ut({type:wk,selectors:[["app-sloteview"]],features:[Zn],decls:17,vars:4,consts:[[1,""],[1,"col-12"],[1,"mb-0",3,"title"],[1,"buttons-list"],[4,"ngFor","ngForOf"],["class","col-12 col-md-3 mt-4 mb-4",4,"ngIf"],["class","font-bold font-large"],["modalBody",""],["modalFooter",""],["modalBody2",""],["modalFooter2",""],["class","mb-0",3,"title",4,"ngIf"],["tc-button","","tcColor","#1047d1",3,"outline","view","click",4,"ngIf"],["tc-button","",3,"disabled",4,"ngIf"],["tc-button","","tcColor","#1047d1",3,"outline","view","click"],["tc-button","",3,"disabled"],[1,"col-12","col-md-3","mt-4","mb-4"],["tc-button","",3,"block","view","tcShape","afterIcon","click"],["class","mb-4",3,"removable","view",4,"ngIf"],[1,"mb-4",3,"removable","view"],[1,"actions","justify-content-between"],["tc-button","",3,"type","view","click"],["tc-button","",3,"view","disabled","click"],[1,"mb-2"],["class","mb-4 mt-4",3,"removable","view",4,"ngIf"],[1,"mb-4","mt-4",3,"removable","view"],[1,"table-wrap"],["nzBordered","",3,"nzData","nzShowPagination"],["editRowTable",""],[3,"nzAlign"],[1,"d-flex","align-items-center"],[1,"text-nowrap"],["tc-button","",3,"size","view","click"]],template:function(n,t){1&n&&(se(0,"div",0)(1,"div",1)(2,"tc-card",2)(3,"div",3),ge(4,Wje,3,2,"div",4),ge(5,jje,3,5,"div",5),wt(6),ge(7,Xje,3,2,"ng-template",6,7,xn),ge(9,qje,5,4,"ng-template",null,8,xn),Dt(),le()()()(),wt(11),ge(12,Kje,3,1,"ng-template",6,9,xn),ge(14,Qje,5,4,"ng-template",null,10,xn),Dt(),ge(16,e$e,28,5,"tc-card",11)),2&n&&(J(2),ee("title","Select Slote"),J(2),ee("ngForOf",t.slotelist),J(1),ee("ngIf","customer"==t.user_type),J(11),ee("ngIf",t.Mybookings&&t.Mybookings.length&&"customer"==t.user_type))},dependencies:[xr,hn,cme,ome,Yne,ume,Une,Wne,Rje,Hu,D4,Lh,Ev,O4]});class Sk extends pm{constructor(n,t){super(n,t),this.bookings=[],this.pageData={title:"Reservation",breadcrumbs:[{title:"Admin",route:"default-dashboard"},{title:"Reservation"}]}}ngOnInit(){super.ngOnInit(),this.postdata("GET_all_the_reservations","bookings","setLoaded",{})}}Sk.\u0275fac=function(n){return new(n||Sk)(de(Mc),de(Dc))},Sk.\u0275cmp=ut({type:Sk,selectors:[["app-all-reservations"]],features:[Zn],decls:1,vars:1,consts:[["class","mb-0",3,"title",4,"ngIf"],[1,"mb-0",3,"title"],[1,"table-wrap"],["nzBordered","",3,"nzData","nzShowPagination"],["editRowTable",""],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"text-nowrap"]],template:function(n,t){1&n&&ge(0,n$e,26,4,"tc-card",0),2&n&&ee("ngIf",t.bookings&&t.bookings.length)},dependencies:[xr,hn,cme,ome,Yne,ume,Une,Wne,Ev]});const hme=[{path:"slote_settings",component:uk},{path:"reservation",component:bk},{path:"customers",component:Ck},{path:"slot_view",component:wk},{path:"all_reservations",component:Sk}],dme=[{path:"sign-in",component:kw},{path:"sign-up",component:ak},{path:"page-404",component:ik},{path:"**",component:kw}],r$e=[{path:"",redirectTo:"/vertical/main",pathMatch:"full"},{path:"vertical",component:Aw,children:hme,canActivate:[_6]},{path:"admin",component:Aw,children:[{path:"main",component:nk}],canActivate:[_6]},{path:"horizontal",component:tk,children:hme},{path:"public",component:zw,children:dme},{path:"**",component:zw,children:dme}];class Yw{}Yw.\u0275fac=function(n){return new(n||Yw)},Yw.\u0275mod=Wt({type:Yw}),Yw.\u0275inj=Ot({imports:[Sg]});class N4{}N4.\u0275fac=function(n){return new(n||N4)},N4.\u0275mod=Wt({type:N4}),N4.\u0275inj=Ot({imports:[ao,jf,Sg,nne]});class P6{}function jne(e,n,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];r?e.setProperty(i,r,t?.has(i)?"important":""):e.removeProperty(i)}return e}function Uw(e,n){const t=n?"":"none";jne(e.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function fme(e,n,t){jne(e.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function wU(e,n){return n&&"none"!=n?e+" "+n:e}function pme(e){const n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function $ne(e,n){return e.getPropertyValue(n).split(",").map(i=>i.trim())}function Xne(e){const n=e.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function qne(e,n,t){const{top:i,bottom:r,left:o,right:l}=e;return t>=i&&t<=r&&n>=o&&n<=l}function Tk(e,n,t){e.top+=n,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function gme(e,n,t,i){const{top:r,right:o,bottom:l,left:h,width:f,height:m}=e,_=f*n,b=m*n;return i>r-b&&i<l+b&&t>h-_&&t<o+_}P6.\u0275fac=function(n){return new(n||P6)},P6.\u0275mod=Wt({type:P6}),P6.\u0275inj=Ot({imports:[ao,Sg,jf,nne,mw.forRoot(),N4]});class mme{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Xne(t)})})}handleScroll(n){const t=Ag(n),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let o,l;if(t===this._document){const m=this.getViewportScrollPosition();o=m.top,l=m.left}else o=t.scrollTop,l=t.scrollLeft;const h=r.top-o,f=r.left-l;return this.positions.forEach((m,_)=>{m.clientRect&&t!==_&&t.contains(_)&&Tk(m.clientRect,h,f)}),r.top=o,r.left=l,{top:h,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function vme(e){const n=e.cloneNode(!0),t=n.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?xme(e,n):("input"===i||"select"===i||"textarea"===i)&&yme(e,n),_me("canvas",e,n,xme),_me("input, textarea, select",e,n,yme),n}function _me(e,n,t,i){const r=n.querySelectorAll(e);if(r.length){const o=t.querySelectorAll(e);for(let l=0;l<r.length;l++)i(r[l],o[l])}}let s$e=0;function yme(e,n){"file"!==n.type&&(n.value=e.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${s$e++}`)}function xme(e,n){const t=n.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}const bme=fk({passive:!0}),SU=fk({passive:!1}),Zne=new Set(["position"]);class c$e{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const t=Bu(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Uw(i,t)))}constructor(n,t,i,r,o,l){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new nt,this._pointerMoveSubscription=Ci.EMPTY,this._pointerUpSubscription=Ci.EMPTY,this._scrollSubscription=Ci.EMPTY,this._resizeSubscription=Ci.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new nt,this.started=new nt,this.released=new nt,this.ended=new nt,this.entered=new nt,this.exited=new nt,this.dropped=new nt,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const f=this._getTargetHandle(h);f&&!this._disabledHandles.has(f)&&!this.disabled&&this._initializeDragSequence(f,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const f=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(f.x-this._pickupPositionOnPage.x)+Math.abs(f.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const M=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),O=this._dropContainer;if(!M)return void this._endDragSequence(h);(!O||!O.isDragging()&&!O.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const m=this._getConstrainedPointerPosition(f);if(this._hasMoved=!0,this._lastKnownPointerPosition=f,this._updatePointerDirectionDelta(m),this._dropContainer)this._updateActiveDropContainer(m,f);else{const _=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,b=this._activeTransform;b.x=m.x-_.x+this._passiveTransform.x,b.y=m.y-_.y+this._passiveTransform.y,this._applyRootElementTransform(b.x,b.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:m,event:h,distance:this._getDragDistance(m),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const f=this._getTargetHandle(h);f&&!this._disabledHandles.has(f)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new mme(i),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>ml(i)),this._handles.forEach(i=>Uw(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=ml(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,SU),t.addEventListener("touchstart",this._pointerDown,bme),t.addEventListener("dragstart",this._nativeDragStart,SU)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?ml(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Uw(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Uw(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Mk(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),fme(i,!1,Zne),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=Mk(t),o=!r&&0!==t.button,l=this._rootElement,h=Ag(t),f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),m=r?H1e(t):V1e(t);if(h&&h.draggable&&"mousedown"===t.type&&t.preventDefault(),i||o||f||m)return;if(this._handles.length){const S=l.style;this._rootElementTapHighlight=S.webkitTapHighlightColor||"",S.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(S=>this._updateOnScroll(S)),this._boundaryElement&&(this._boundaryRect=Xne(this._boundaryElement));const _=this._previewTemplate;this._pickupPositionInElement=_&&_.template&&!_.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,n,t);const b=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:b.x,y:b.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){fme(this._rootElement,!0,Zne),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(n),o=this._getDragDistance(r),l=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:o,dropPoint:r,event:n}),t.drop(this,i,this._initialIndex,this._initialContainer,l,o,r,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,n,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,t=this.previewClass,i=n?n.template:null;let r;if(i&&n){const o=n.matchSize?this._initialClientRect:null,l=n.viewContainer.createEmbeddedView(i,n.context);l.detectChanges(),r=wme(l,this._document),this._previewRef=l,n.matchSize?Sme(r,o):r.style.transform=TU(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=vme(this._rootElement),Sme(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return jne(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Zne),Uw(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>r.classList.add(o)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=function a$e(e){const n=getComputedStyle(e),t=$ne(n,"transition-property"),i=t.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=t.indexOf(i),o=$ne(n,"transition-duration"),l=$ne(n,"transition-delay");return pme(o[r])+pme(l[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=l=>{(!l||Ag(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let i;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),i=wme(this._placeholderRef,this._document)):i=vme(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,t,i){const r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():n,l=Mk(i)?i.targetTouches[0]:i,h=this._getViewportScrollPosition();return{x:o.left-n.left+(l.pageX-o.left-h.left),y:o.top-n.top+(l.pageY-o.top-h.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),i=Mk(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=o,h.matrixTransform(l.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(n,this,this._initialClientRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:l}=this._pickupPositionInElement,h=this._boundaryRect,{width:f,height:m}=this._getPreviewRect(),_=h.top+l,b=h.bottom-(m-l);i=Cme(i,h.left+o,h.right-(f-o)),r=Cme(r,_,b)}return{x:i,y:r}}_updatePointerDirectionDelta(n){const{x:t,y:i}=n,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,l=Math.abs(t-o.x),h=Math.abs(i-o.y);return l>this._config.pointerDirectionChangeThreshold&&(r.x=t>o.x?1:-1,o.x=t),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Uw(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,SU),n.removeEventListener("touchstart",this._pointerDown,bme),n.removeEventListener("dragstart",this._nativeDragStart,SU)}_applyRootElementTransform(n,t){const i=TU(n,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=wU(i,this._initialTransform)}_applyPreviewTransform(n,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=TU(n,t);this._preview.style.transform=wU(r,i)}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,l=i.right-r.right,h=r.top-i.top,f=i.bottom-r.bottom;r.width>i.width?(o>0&&(n+=o),l>0&&(n-=l)):n=0,r.height>i.height?(h>0&&(t+=h),f>0&&(t-=f)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:Mk(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const i=Ag(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Tk(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=lne(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return ml(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}}function TU(e,n){return`translate3d(${Math.round(e)}px, ${Math.round(n)}px, 0)`}function Cme(e,n,t){return Math.max(n,Math.min(t,e))}function Mk(e){return"t"===e.type[0]}function wme(e,n){const t=e.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const i=n.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function Sme(e,n){e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.style.transform=TU(n.left,n.top)}function Dk(e,n){return Math.max(0,Math.min(n,e))}class h$e{constructor(n,t){this._element=n,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,t,i,r){const o=this._itemPositions,l=this._getItemIndexFromPointerPosition(n,t,i,r);if(-1===l&&o.length>0)return null;const h="horizontal"===this.orientation,f=o.findIndex(N=>N.drag===n),m=o[l],b=m.clientRect,S=f>l?1:-1,M=this._getItemOffsetPx(o[f].clientRect,b,S),O=this._getSiblingOffsetPx(f,o,S),I=o.slice();return function u$e(e,n,t){const i=Dk(n,e.length-1),r=Dk(t,e.length-1);if(i===r)return;const o=e[i],l=r<i?-1:1;for(let h=i;h!==r;h+=l)e[h]=e[h+l];e[r]=o}(o,f,l),o.forEach((N,V)=>{if(I[V]===N)return;const G=N.drag===n,X=G?M:O,K=G?n.getPlaceholderElement():N.drag.getRootElement();N.offset+=X,h?(K.style.transform=wU(`translate3d(${Math.round(N.offset)}px, 0, 0)`,N.initialTransform),Tk(N.clientRect,0,X)):(K.style.transform=wU(`translate3d(0, ${Math.round(N.offset)}px, 0)`,N.initialTransform),Tk(N.clientRect,X,0))}),this._previousSwap.overlaps=qne(b,t,i),this._previousSwap.drag=m.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:f,currentIndex:l}}enter(n,t,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(n,t,i):r,l=this._activeDraggables,h=l.indexOf(n),f=n.getPlaceholderElement();let m=l[o];if(m===n&&(m=l[o+1]),!m&&(null==o||-1===o||o<l.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(m=l[0]),h>-1&&l.splice(h,1),m&&!this._dragDropRegistry.isDragging(m)){const _=m.getRootElement();_.parentElement.insertBefore(f,_),l.splice(o,0,n)}else ml(this._element).appendChild(f),l.push(n);f.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{const t=n.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===n)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:i})=>{Tk(i,n,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Xne(i)}}).sort((t,i)=>n?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,t,i){const r="horizontal"===this.orientation;let o=r?t.left-n.left:t.top-n.top;return-1===i&&(o+=r?t.width-n.width:t.height-n.height),o}_getSiblingOffsetPx(n,t,i){const r="horizontal"===this.orientation,o=t[n].clientRect,l=t[n+-1*i];let h=o[r?"width":"height"]*i;if(l){const f=r?"left":"top",m=r?"right":"bottom";-1===i?h-=l.clientRect[f]-o[m]:h+=o[f]-l.clientRect[m]}return h}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const l=i[i.length-1].clientRect;return r?n>=l.right:t>=l.bottom}{const l=i[0].clientRect;return r?n<=l.left:t<=l.top}}_getItemIndexFromPointerPosition(n,t,i,r){const o="horizontal"===this.orientation,l=this._itemPositions.findIndex(({drag:h,clientRect:f})=>h!==n&&((!r||h!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(f.left)&&t<Math.floor(f.right):i>=Math.floor(f.top)&&i<Math.floor(f.bottom))));return-1!==l&&this._sortPredicate(l,n)?l:-1}}class d$e{constructor(n,t,i,r,o){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new nt,this.entered=new nt,this.exited=new nt,this.dropped=new nt,this.sorted=new nt,this.receivingStarted=new nt,this.receivingStopped=new nt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ci.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new nt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function o$e(e=0,n=JY){return e<0&&(e=0),eU(e,e,n)}(0,lge).pipe(st(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-h):2===this._verticalScrollDirection&&l.scrollBy(0,h),1===this._horizontalScrollDirection?l.scrollBy(-h,0):2===this._horizontalScrollDirection&&l.scrollBy(h,0)})},this.element=ml(n),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new mme(i),this._sortStrategy=new h$e(this.element,t),this._sortStrategy.withSortPredicate((l,h)=>this.sortPredicate(l,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,i,r,o,l,h,f={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:l,dropPoint:h,event:f})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===n.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){const t=ml(this.element);return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,i,r){if(this.sortingDisabled||!this._clientRect||!gme(this._clientRect,.05,t,i))return;const o=this._sortStrategy.sort(n,t,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((l,h)=>{h===this._document||!l.clientRect||i||gme(l.clientRect,.05,n,t)&&([r,o]=function f$e(e,n,t,i){const r=Dme(n,i),o=Pme(n,t);let l=0,h=0;if(r){const f=e.scrollTop;1===r?f>0&&(l=1):e.scrollHeight-f>e.clientHeight&&(l=2)}if(o){const f=e.scrollLeft;1===o?f>0&&(h=1):e.scrollWidth-f>e.clientWidth&&(h=2)}return[l,h]}(h,l.clientRect,n,t),(r||o)&&(i=h))}),!r&&!o){const{width:l,height:h}=this._viewportRuler.getViewportSize(),f={width:l,height:h,top:0,right:l,bottom:h,left:0};r=Dme(f,t),o=Pme(f,n),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=ml(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=ml(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;const n=ml(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,t){return null!=this._clientRect&&qne(this._clientRect,n,t)}_getSiblingContainerFromPosition(n,t,i){return this._siblings.find(r=>r._canReceive(n,t,i))}_canReceive(n,t,i){if(!this._clientRect||!qne(this._clientRect,t,i)||!this.enterPredicate(n,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const o=ml(this.element);return r===o||o.contains(r)}_startReceiving(n,t){const i=this._activeSiblings;!i.has(n)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=lne(ml(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function Dme(e,n){const{top:t,bottom:i,height:r}=e,o=.05*r;return n>=t-o&&n<=t+o?1:n>=i-o&&n<=i+o?2:0}function Pme(e,n){const{left:t,right:i,width:r}=e,o=.05*r;return n>=t-o&&n<=t+o?1:n>=i-o&&n<=i+o?2:0}const MU=fk({passive:!1,capture:!0});let p$e=(()=>{class e{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new nt,this.pointerUp=new nt,this.scroll=new nt,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,MU)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,MU)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:MU}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:MU}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,l)=>{this._document.addEventListener(l,o.handler,o.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Wn(r=>this._ngZone.runOutsideAngular(()=>{const l=h=>{this._activeDragInstances.length&&r.next(h)};return t.addEventListener("scroll",l,!0),()=>{t.removeEventListener("scroll",l,!0)}}))),Qr(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(Ve(en),Ve(ki))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const g$e={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Kne=(()=>{class e{constructor(t,i,r,o){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(t,i=g$e){return new c$e(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new d$e(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(Ve(ki),Ve(en),Ve(nU),Ve(p$e))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S$e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[Kne],imports:[cne]}),e})();function T$e(){}function tie(e){return null==e?T$e:function(){return this.querySelector(e)}}function Eme(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function D$e(){return[]}function Ime(e){return null==e?D$e:function(){return this.querySelectorAll(e)}}function Lme(e){return function(){return this.matches(e)}}function Rme(e){return function(n){return n.matches(e)}}var z$e=Array.prototype.find;function O$e(){return this.firstElementChild}var I$e=Array.prototype.filter;function L$e(){return this.children}function Nme(e){return new Array(e.length)}function DU(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function V$e(e){return function(){return e}}function H$e(e,n,t,i,r,o){for(var h,l=0,f=n.length,m=o.length;l<m;++l)(h=n[l])?(h.__data__=o[l],i[l]=h):t[l]=new DU(e,o[l]);for(;l<f;++l)(h=n[l])&&(r[l]=h)}function Y$e(e,n,t,i,r,o,l){var h,f,M,m=new Map,_=n.length,b=o.length,S=new Array(_);for(h=0;h<_;++h)(f=n[h])&&(S[h]=M=l.call(f,f.__data__,h,n)+"",m.has(M)?r[h]=f:m.set(M,f));for(h=0;h<b;++h)M=l.call(e,o[h],h,o)+"",(f=m.get(M))?(i[h]=f,f.__data__=o[h],m.delete(M)):t[h]=new DU(e,o[h]);for(h=0;h<_;++h)(f=n[h])&&m.get(S[h])===f&&(r[h]=f)}function U$e(e){return e.__data__}function Z$e(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}DU.prototype={constructor:DU,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var nie="http://www.w3.org/1999/xhtml";const Fme={svg:"http://www.w3.org/2000/svg",xhtml:nie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function PU(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Fme.hasOwnProperty(n)?{space:Fme[n],local:e}:e}function iXe(e){return function(){this.removeAttribute(e)}}function rXe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oXe(e,n){return function(){this.setAttribute(e,n)}}function aXe(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function sXe(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function lXe(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function Bme(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function uXe(e){return function(){this.style.removeProperty(e)}}function hXe(e,n,t){return function(){this.style.setProperty(e,n,t)}}function dXe(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function Gw(e,n){return e.style.getPropertyValue(n)||Bme(e).getComputedStyle(e,null).getPropertyValue(n)}function pXe(e){return function(){delete this[e]}}function gXe(e,n){return function(){this[e]=n}}function mXe(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function Vme(e){return e.trim().split(/^|\s+/)}function iie(e){return e.classList||new Hme(e)}function Hme(e){this._node=e,this._names=Vme(e.getAttribute("class")||"")}function Yme(e,n){for(var t=iie(e),i=-1,r=n.length;++i<r;)t.add(n[i])}function Ume(e,n){for(var t=iie(e),i=-1,r=n.length;++i<r;)t.remove(n[i])}function _Xe(e){return function(){Yme(this,e)}}function yXe(e){return function(){Ume(this,e)}}function xXe(e,n){return function(){(n.apply(this,arguments)?Yme:Ume)(this,e)}}function CXe(){this.textContent=""}function wXe(e){return function(){this.textContent=e}}function SXe(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function MXe(){this.innerHTML=""}function DXe(e){return function(){this.innerHTML=e}}function PXe(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function zXe(){this.nextSibling&&this.parentNode.appendChild(this)}function OXe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function IXe(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===nie&&n.documentElement.namespaceURI===nie?n.createElement(e):n.createElementNS(t,e)}}function LXe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Gme(e){var n=PU(e);return(n.local?LXe:IXe)(n)}function NXe(){return null}function BXe(){var e=this.parentNode;e&&e.removeChild(this)}function HXe(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function YXe(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function jXe(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}function $Xe(e){return function(){var n=this.__on;if(n){for(var o,t=0,i=-1,r=n.length;t<r;++t)o=n[t],e.type&&o.type!==e.type||o.name!==e.name?n[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?n.length=i:delete this.__on}}}function XXe(e,n,t){return function(){var r,i=this.__on,o=function WXe(e){return function(n){e.call(this,n,this.__data__)}}(n);if(i)for(var l=0,h=i.length;l<h;++l)if((r=i[l]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=t),void(r.value=n);this.addEventListener(e.type,o,t),r={type:e.type,name:e.name,value:n,listener:o,options:t},i?i.push(r):this.__on=[r]}}function Wme(e,n,t){var i=Bme(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,t):(r=i.document.createEvent("Event"),t?(r.initEvent(n,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function ZXe(e,n){return function(){return Wme(this,e,n)}}function KXe(e,n){return function(){return Wme(this,e,n.apply(this,arguments))}}Hme.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var jme=[null];function Rh(e,n){this._groups=e,this._parents=n}function $me(){return new Rh([[document.documentElement]],jme)}Rh.prototype=$me.prototype={constructor:Rh,select:function M$e(e){"function"!=typeof e&&(e=tie(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var f,m,o=n[r],l=o.length,h=i[r]=new Array(l),_=0;_<l;++_)(f=o[_])&&(m=e.call(f,f.__data__,_,o))&&("__data__"in f&&(m.__data__=f.__data__),h[_]=m);return new Rh(i,this._parents)},selectAll:function A$e(e){e="function"==typeof e?function P$e(e){return function(){var n=e.apply(this,arguments);return null==n?[]:Eme(n)}}(e):Ime(e);for(var n=this._groups,t=n.length,i=[],r=[],o=0;o<t;++o)for(var f,l=n[o],h=l.length,m=0;m<h;++m)(f=l[m])&&(i.push(e.call(f,f.__data__,m,l)),r.push(f));return new Rh(i,r)},selectChild:function E$e(e){return this.select(null==e?O$e:function k$e(e){return function(){return z$e.call(this.children,e)}}("function"==typeof e?e:Rme(e)))},selectChildren:function N$e(e){return this.selectAll(null==e?L$e:function R$e(e){return function(){return I$e.call(this.children,e)}}("function"==typeof e?e:Rme(e)))},filter:function F$e(e){"function"!=typeof e&&(e=Lme(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var f,o=n[r],l=o.length,h=i[r]=[],m=0;m<l;++m)(f=o[m])&&e.call(f,f.__data__,m,o)&&h.push(f);return new Rh(i,this._parents)},data:function G$e(e,n){if(!arguments.length)return Array.from(this,U$e);var t=n?Y$e:H$e,i=this._parents,r=this._groups;"function"!=typeof e&&(e=V$e(e));for(var o=r.length,l=new Array(o),h=new Array(o),f=new Array(o),m=0;m<o;++m){var _=i[m],b=r[m],S=b.length,M=Eme(e.call(_,_&&_.__data__,m,i)),O=M.length,I=h[m]=new Array(O),N=l[m]=new Array(O),V=f[m]=new Array(S);t(_,b,I,N,V,M,n);for(var K,ne,G=0,X=0;G<O;++G)if(K=I[G]){for(G>=X&&(X=G+1);!(ne=N[X])&&++X<O;);K._next=ne||null}}return(l=new Rh(l,i))._enter=h,l._exit=f,l},enter:function B$e(){return new Rh(this._enter||this._groups.map(Nme),this._parents)},exit:function W$e(){return new Rh(this._exit||this._groups.map(Nme),this._parents)},join:function j$e(e,n,t){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=n&&(r=n(r)),null==t?o.remove():t(o),i&&r?i.merge(r).order():r},merge:function $$e(e){if(!(e instanceof Rh))throw new Error("invalid merge");for(var n=this._groups,t=e._groups,i=n.length,o=Math.min(i,t.length),l=new Array(i),h=0;h<o;++h)for(var S,f=n[h],m=t[h],_=f.length,b=l[h]=new Array(_),M=0;M<_;++M)(S=f[M]||m[M])&&(b[M]=S);for(;h<i;++h)l[h]=n[h];return new Rh(l,this._parents)},selection:function eqe(){return this},order:function X$e(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var l,i=e[n],r=i.length-1,o=i[r];--r>=0;)(l=i[r])&&(o&&4^l.compareDocumentPosition(o)&&o.parentNode.insertBefore(l,o),o=l);return this},sort:function q$e(e){function n(b,S){return b&&S?e(b.__data__,S.__data__):!b-!S}e||(e=Z$e);for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var m,l=t[o],h=l.length,f=r[o]=new Array(h),_=0;_<h;++_)(m=l[_])&&(f[_]=m);f.sort(n)}return new Rh(r,this._parents).order()},call:function K$e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function Q$e(){return Array.from(this)},node:function J$e(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,o=i.length;r<o;++r){var l=i[r];if(l)return l}return null},size:function eXe(){let e=0;for(const n of this)++e;return e},empty:function tXe(){return!this.node()},each:function nXe(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var h,r=n[t],o=0,l=r.length;o<l;++o)(h=r[o])&&e.call(h,h.__data__,o,r);return this},attr:function cXe(e,n){var t=PU(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?rXe:iXe:"function"==typeof n?t.local?lXe:sXe:t.local?aXe:oXe)(t,n))},style:function fXe(e,n,t){return arguments.length>1?this.each((null==n?uXe:"function"==typeof n?dXe:hXe)(e,n,t??"")):Gw(this.node(),e)},property:function vXe(e,n){return arguments.length>1?this.each((null==n?pXe:"function"==typeof n?mXe:gXe)(e,n)):this.node()[e]},classed:function bXe(e,n){var t=Vme(e+"");if(arguments.length<2){for(var i=iie(this.node()),r=-1,o=t.length;++r<o;)if(!i.contains(t[r]))return!1;return!0}return this.each(("function"==typeof n?xXe:n?_Xe:yXe)(t,n))},text:function TXe(e){return arguments.length?this.each(null==e?CXe:("function"==typeof e?SXe:wXe)(e)):this.node().textContent},html:function AXe(e){return arguments.length?this.each(null==e?MXe:("function"==typeof e?PXe:DXe)(e)):this.node().innerHTML},raise:function kXe(){return this.each(zXe)},lower:function EXe(){return this.each(OXe)},append:function RXe(e){var n="function"==typeof e?e:Gme(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function FXe(e,n){var t="function"==typeof e?e:Gme(e),i=null==n?NXe:"function"==typeof n?n:tie(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function VXe(){return this.each(BXe)},clone:function UXe(e){return this.select(e?YXe:HXe)},datum:function GXe(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function qXe(e,n,t){var r,l,i=jXe(e+""),o=i.length;if(!(arguments.length<2)){for(h=n?XXe:$Xe,r=0;r<o;++r)this.each(h(i[r],n,t));return this}var h=this.node().__on;if(h)for(var _,f=0,m=h.length;f<m;++f)for(r=0,_=h[f];r<o;++r)if((l=i[r]).type===_.type&&l.name===_.name)return _.value},dispatch:function QXe(e,n){return this.each(("function"==typeof n?KXe:ZXe)(e,n))},[Symbol.iterator]:function*JXe(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var l,i=e[n],r=0,o=i.length;r<o;++r)(l=i[r])&&(yield l)}};const Pk=$me;var tqe={value:()=>{}};function Xme(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new AU(t)}function AU(e){this._=e}function nqe(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function iqe(e,n){for(var r,t=0,i=e.length;t<i;++t)if((r=e[t]).name===n)return r.value}function qme(e,n,t){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=tqe,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}AU.prototype=Xme.prototype={constructor:AU,on:function(e,n){var r,t=this._,i=nqe(e+"",t),o=-1,l=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<l;)if(r=(e=i[o]).type)t[r]=qme(t[r],e.name,n);else if(null==n)for(r in t)t[r]=qme(t[r],e.name,null);return this}for(;++o<l;)if((r=(e=i[o]).type)&&(r=iqe(t[r],e.name)))return r},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new AU(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var r,o,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(o=this._[e]).length;i<r;++i)o[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(n,t)}};const Zme=Xme;function oie(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function Kme(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function Ak(){}var zU=1/.7,Ww="\\s*([+-]?\\d+)\\s*",kk="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aqe=/^#([0-9a-f]{3,8})$/,sqe=new RegExp("^rgb\\("+[Ww,Ww,Ww]+"\\)$"),lqe=new RegExp("^rgb\\("+[vm,vm,vm]+"\\)$"),cqe=new RegExp("^rgba\\("+[Ww,Ww,Ww,kk]+"\\)$"),uqe=new RegExp("^rgba\\("+[vm,vm,vm,kk]+"\\)$"),hqe=new RegExp("^hsl\\("+[kk,vm,vm]+"\\)$"),dqe=new RegExp("^hsla\\("+[kk,vm,vm,kk]+"\\)$"),Qme={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Jme(){return this.rgb().formatHex()}function e0e(){return this.rgb().formatRgb()}function A6(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=aqe.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?t0e(n):3===t?new Md(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?kU(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?kU(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=sqe.exec(e))?new Md(n[1],n[2],n[3],1):(n=lqe.exec(e))?new Md(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=cqe.exec(e))?kU(n[1],n[2],n[3],n[4]):(n=uqe.exec(e))?kU(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=hqe.exec(e))?r0e(n[1],n[2]/100,n[3]/100,1):(n=dqe.exec(e))?r0e(n[1],n[2]/100,n[3]/100,n[4]):Qme.hasOwnProperty(e)?t0e(Qme[e]):"transparent"===e?new Md(NaN,NaN,NaN,0):null}function t0e(e){return new Md(e>>16&255,e>>8&255,255&e,1)}function kU(e,n,t,i){return i<=0&&(e=n=t=NaN),new Md(e,n,t,i)}function pqe(e){return e instanceof Ak||(e=A6(e)),e?new Md((e=e.rgb()).r,e.g,e.b,e.opacity):new Md}function OU(e,n,t,i){return 1===arguments.length?pqe(e):new Md(e,n,t,i??1)}function Md(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function n0e(){return"#"+aie(this.r)+aie(this.g)+aie(this.b)}function i0e(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function aie(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function r0e(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new _m(e,n,t,i)}function o0e(e){if(e instanceof _m)return new _m(e.h,e.s,e.l,e.opacity);if(e instanceof Ak||(e=A6(e)),!e)return new _m;if(e instanceof _m)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,r=Math.min(n,t,i),o=Math.max(n,t,i),l=NaN,h=o-r,f=(o+r)/2;return h?(l=n===o?(t-i)/h+6*(t<i):t===o?(i-n)/h+2:(n-t)/h+4,h/=f<.5?o+r:2-o-r,l*=60):h=f>0&&f<1?0:l,new _m(l,h,f,e.opacity)}function _m(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function sie(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function a0e(e,n,t,i,r){var o=e*e,l=o*e;return((1-3*e+3*o-l)*n+(4-6*o+3*l)*t+(1+3*e+3*o-3*l)*i+l*r)/6}oie(Ak,A6,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Jme,formatHex:Jme,formatHsl:function fqe(){return o0e(this).formatHsl()},formatRgb:e0e,toString:e0e}),oie(Md,OU,Kme(Ak,{brighter:function(e){return e=null==e?zU:Math.pow(zU,e),new Md(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Md(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n0e,formatHex:n0e,formatRgb:i0e,toString:i0e})),oie(_m,function gqe(e,n,t,i){return 1===arguments.length?o0e(e):new _m(e,n,t,i??1)},Kme(Ak,{brighter:function(e){return e=null==e?zU:Math.pow(zU,e),new _m(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new _m(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,r=2*t-i;return new Md(sie(e>=240?e-240:e+120,r,i),sie(e,r,i),sie(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const lie=e=>()=>e;function l0e(e,n){var t=n-e;return t?function s0e(e,n){return function(t){return e+t*n}}(e,t):lie(isNaN(e)?n:e)}const EU=function e(n){var t=function yqe(e){return 1==(e=+e)?l0e:function(n,t){return t-n?function _qe(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):lie(isNaN(n)?t:n)}}(n);function i(r,o){var l=t((r=OU(r)).r,(o=OU(o)).r),h=t(r.g,o.g),f=t(r.b,o.b),m=l0e(r.opacity,o.opacity);return function(_){return r.r=l(_),r.g=h(_),r.b=f(_),r.opacity=m(_),r+""}}return i.gamma=e,i}(1);function c0e(e){return function(n){var l,h,t=n.length,i=new Array(t),r=new Array(t),o=new Array(t);for(l=0;l<t;++l)h=OU(n[l]),i[l]=h.r||0,r[l]=h.g||0,o[l]=h.b||0;return i=e(i),r=e(r),o=e(o),h.opacity=1,function(f){return h.r=i(f),h.g=r(f),h.b=o(f),h+""}}}function Eg(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}c0e(function mqe(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),r=e[i],o=e[i+1];return a0e((t-i/n)*n,i>0?e[i-1]:2*r-o,r,o,i<n-1?e[i+2]:2*o-r)}}),c0e(function vqe(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return a0e((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var cie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uie=new RegExp(cie.source,"g");function h0e(e,n){var i,r,o,t=cie.lastIndex=uie.lastIndex=0,l=-1,h=[],f=[];for(e+="",n+="";(i=cie.exec(e))&&(r=uie.exec(n));)(o=r.index)>t&&(o=n.slice(t,o),h[l]?h[l]+=o:h[++l]=o),(i=i[0])===(r=r[0])?h[l]?h[l]+=r:h[++l]=r:(h[++l]=null,f.push({i:l,x:Eg(i,r)})),t=uie.lastIndex;return t<n.length&&(o=n.slice(t),h[l]?h[l]+=o:h[++l]=o),h.length<2?f[0]?function wqe(e){return function(n){return e(n)+""}}(f[0].x):function Cqe(e){return function(){return e}}(n):(n=f.length,function(m){for(var b,_=0;_<n;++_)h[(b=f[_]).i]=b.x(m);return h.join("")})}var LU,Ik,jw=0,Ok=0,Ek=0,RU=0,z6=0,NU=0,Lk="object"==typeof performance&&performance.now?performance:Date,p0e="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hie(){return z6||(p0e(Dqe),z6=Lk.now()+NU)}function Dqe(){z6=0}function FU(){this._call=this._time=this._next=null}function g0e(e,n,t){var i=new FU;return i.restart(e,n,t),i}function m0e(){z6=(RU=Lk.now())+NU,jw=Ok=0;try{!function Pqe(){hie(),++jw;for(var n,e=LU;e;)(n=z6-e._time)>=0&&e._call.call(null,n),e=e._next;--jw}()}finally{jw=0,function zqe(){for(var e,t,n=LU,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:LU=t);Ik=e,die(i)}(),z6=0}}function Aqe(){var e=Lk.now(),n=e-RU;n>1e3&&(NU-=n,RU=e)}function die(e){jw||(Ok&&(Ok=clearTimeout(Ok)),e-z6>24?(e<1/0&&(Ok=setTimeout(m0e,e-Lk.now()-NU)),Ek&&(Ek=clearInterval(Ek))):(Ek||(RU=Lk.now(),Ek=setInterval(Aqe,1e3)),jw=1,p0e(m0e)))}function v0e(e,n,t){var i=new FU;return i.restart(r=>{i.stop(),e(r+n)},n=null==n?0:+n,t),i}FU.prototype=g0e.prototype={constructor:FU,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?hie():+t)+(null==n?0:+n),!this._next&&Ik!==this&&(Ik?Ik._next=this:LU=this,Ik=this),this._call=e,this._time=t,die()},stop:function(){this._call&&(this._call=null,this._time=1/0,die())}};var kqe=Zme("start","end","cancel","interrupt"),Oqe=[];function HU(e,n,t,i,r,o){var l=e.__transition;if(l){if(t in l)return}else e.__transition={};!function Eqe(e,n,t){var r,i=e.__transition;function l(m){var _,b,S,M;if(1!==t.state)return f();for(_ in i)if((M=i[_]).name===t.name){if(3===M.state)return v0e(l);4===M.state?(M.state=6,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete i[_]):+_<n&&(M.state=6,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete i[_])}if(v0e(function(){3===t.state&&(t.state=4,t.timer.restart(h,t.delay,t.time),h(m))}),t.state=2,t.on.call("start",e,e.__data__,t.index,t.group),2===t.state){for(t.state=3,r=new Array(S=t.tween.length),_=0,b=-1;_<S;++_)(M=t.tween[_].value.call(e,e.__data__,t.index,t.group))&&(r[++b]=M);r.length=b+1}}function h(m){for(var _=m<t.duration?t.ease.call(null,m/t.duration):(t.timer.restart(f),t.state=5,1),b=-1,S=r.length;++b<S;)r[b].call(e,_);5===t.state&&(t.on.call("end",e,e.__data__,t.index,t.group),f())}function f(){for(var m in t.state=6,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=g0e(function o(m){t.state=1,t.timer.restart(l,t.delay,t.time),t.delay<=m&&l(m-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:r,on:kqe,tween:Oqe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function mie(e,n){var t=Ig(e,n);if(t.state>0)throw new Error("too late; already scheduled");return t}function ym(e,n){var t=Ig(e,n);if(t.state>3)throw new Error("too late; already running");return t}function Ig(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}var YU,b0e=180/Math.PI,_ie={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C0e(e,n,t,i,r,o){var l,h,f;return(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l),(f=e*t+n*i)&&(t-=e*f,i-=n*f),(h=Math.sqrt(t*t+i*i))&&(t/=h,i/=h,f/=h),e*i<n*t&&(e=-e,n=-n,f=-f,l=-l),{translateX:r,translateY:o,rotate:Math.atan2(n,e)*b0e,skewX:Math.atan(f)*b0e,scaleX:l,scaleY:h}}function w0e(e,n,t,i){function r(m){return m.length?m.pop()+" ":""}return function(m,_){var b=[],S=[];return m=e(m),_=e(_),function o(m,_,b,S,M,O){if(m!==b||_!==S){var I=M.push("translate(",null,n,null,t);O.push({i:I-4,x:Eg(m,b)},{i:I-2,x:Eg(_,S)})}else(b||S)&&M.push("translate("+b+n+S+t)}(m.translateX,m.translateY,_.translateX,_.translateY,b,S),function l(m,_,b,S){m!==_?(m-_>180?_+=360:_-m>180&&(m+=360),S.push({i:b.push(r(b)+"rotate(",null,i)-2,x:Eg(m,_)})):_&&b.push(r(b)+"rotate("+_+i)}(m.rotate,_.rotate,b,S),function h(m,_,b,S){m!==_?S.push({i:b.push(r(b)+"skewX(",null,i)-2,x:Eg(m,_)}):_&&b.push(r(b)+"skewX("+_+i)}(m.skewX,_.skewX,b,S),function f(m,_,b,S,M,O){if(m!==b||_!==S){var I=M.push(r(M)+"scale(",null,",",null,")");O.push({i:I-4,x:Eg(m,b)},{i:I-2,x:Eg(_,S)})}else(1!==b||1!==S)&&M.push(r(M)+"scale("+b+","+S+")")}(m.scaleX,m.scaleY,_.scaleX,_.scaleY,b,S),m=_=null,function(M){for(var N,O=-1,I=S.length;++O<I;)b[(N=S[O]).i]=N.x(M);return b.join("")}}}var Nqe=w0e(function Lqe(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?_ie:C0e(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),Fqe=w0e(function Rqe(e){return null!=e&&(YU||(YU=document.createElementNS("http://www.w3.org/2000/svg","g")),YU.setAttribute("transform",e),e=YU.transform.baseVal.consolidate())?C0e((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):_ie},", ",")",")");function Bqe(e,n){var t,i;return function(){var r=ym(this,e),o=r.tween;if(o!==t)for(var l=0,h=(i=t=o).length;l<h;++l)if(i[l].name===n){(i=i.slice()).splice(l,1);break}r.tween=i}}function Vqe(e,n,t){var i,r;if("function"!=typeof t)throw new Error;return function(){var o=ym(this,e),l=o.tween;if(l!==i){r=(i=l).slice();for(var h={name:n,value:t},f=0,m=r.length;f<m;++f)if(r[f].name===n){r[f]=h;break}f===m&&r.push(h)}o.tween=r}}function yie(e,n,t){var i=e._id;return e.each(function(){var r=ym(this,i);(r.value||(r.value={}))[n]=t.apply(this,arguments)}),function(r){return Ig(r,i).value[n]}}function S0e(e,n){var t;return("number"==typeof n?Eg:n instanceof A6?EU:(t=A6(n))?(n=t,EU):h0e)(e,n)}function Yqe(e){return function(){this.removeAttribute(e)}}function Uqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gqe(e,n,t){var i,o,r=t+"";return function(){var l=this.getAttribute(e);return l===r?null:l===i?o:o=n(i=l,t)}}function Wqe(e,n,t){var i,o,r=t+"";return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?o:o=n(i=l,t)}}function jqe(e,n,t){var i,r,o;return function(){var l,f,h=t(this);return null==h?void this.removeAttribute(e):(l=this.getAttribute(e))===(f=h+"")?null:l===i&&f===r?o:(r=f,o=n(i=l,h))}}function $qe(e,n,t){var i,r,o;return function(){var l,f,h=t(this);return null==h?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local))===(f=h+"")?null:l===i&&f===r?o:(r=f,o=n(i=l,h))}}function qqe(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function Zqe(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function Kqe(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&Zqe(e,o)),t}return r._value=n,r}function Qqe(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&qqe(e,o)),t}return r._value=n,r}function eZe(e,n){return function(){mie(this,e).delay=+n.apply(this,arguments)}}function tZe(e,n){return n=+n,function(){mie(this,e).delay=n}}function iZe(e,n){return function(){ym(this,e).duration=+n.apply(this,arguments)}}function rZe(e,n){return n=+n,function(){ym(this,e).duration=n}}function aZe(e,n){if("function"!=typeof n)throw new Error;return function(){ym(this,e).ease=n}}function fZe(e,n,t){var i,r,o=function dZe(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?mie:ym;return function(){var l=o(this,e),h=l.on;h!==i&&(r=(i=h).copy()).on(n,t),l.on=r}}var yZe=Pk.prototype.constructor;function T0e(e){return function(){this.style.removeProperty(e)}}function MZe(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}function DZe(e,n,t){var i,r;function o(){var l=n.apply(this,arguments);return l!==r&&(i=(r=l)&&MZe(e,l,t)),i}return o._value=n,o}function OZe(e){return function(n){this.textContent=e.call(this,n)}}function EZe(e){var n,t;function i(){var r=e.apply(this,arguments);return r!==t&&(n=(t=r)&&OZe(r)),n}return i._value=e,i}var NZe=0;function Fv(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function M0e(){return++NZe}var k6=Pk.prototype;Fv.prototype=function FZe(e){return Pk().transition(e)}.prototype={constructor:Fv,select:function vZe(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=tie(e));for(var i=this._groups,r=i.length,o=new Array(r),l=0;l<r;++l)for(var _,b,h=i[l],f=h.length,m=o[l]=new Array(f),S=0;S<f;++S)(_=h[S])&&(b=e.call(_,_.__data__,S,h))&&("__data__"in _&&(b.__data__=_.__data__),m[S]=b,HU(m[S],n,t,S,m,Ig(_,t)));return new Fv(o,this._parents,n,t)},selectAll:function _Ze(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=Ime(e));for(var i=this._groups,r=i.length,o=[],l=[],h=0;h<r;++h)for(var _,f=i[h],m=f.length,b=0;b<m;++b)if(_=f[b]){for(var M,S=e.call(_,_.__data__,b,f),O=Ig(_,t),I=0,N=S.length;I<N;++I)(M=S[I])&&HU(M,n,t,I,S,O);o.push(S),l.push(_)}return new Fv(o,l,n,t)},filter:function uZe(e){"function"!=typeof e&&(e=Lme(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var f,o=n[r],l=o.length,h=i[r]=[],m=0;m<l;++m)(f=o[m])&&e.call(f,f.__data__,m,o)&&h.push(f);return new Fv(i,this._parents,this._name,this._id)},merge:function hZe(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,o=Math.min(i,t.length),l=new Array(i),h=0;h<o;++h)for(var S,f=n[h],m=t[h],_=f.length,b=l[h]=new Array(_),M=0;M<_;++M)(S=f[M]||m[M])&&(b[M]=S);for(;h<i;++h)l[h]=n[h];return new Fv(l,this._parents,this._name,this._id)},selection:function xZe(){return new yZe(this._groups,this._parents)},transition:function LZe(){for(var e=this._name,n=this._id,t=M0e(),i=this._groups,r=i.length,o=0;o<r;++o)for(var f,l=i[o],h=l.length,m=0;m<h;++m)if(f=l[m]){var _=Ig(f,n);HU(f,e,t,m,l,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Fv(i,this._parents,e,t)},call:k6.call,nodes:k6.nodes,node:k6.node,size:k6.size,empty:k6.empty,each:k6.each,on:function pZe(e,n){var t=this._id;return arguments.length<2?Ig(this.node(),t).on.on(e):this.each(fZe(t,e,n))},attr:function Xqe(e,n){var t=PU(e),i="transform"===t?Fqe:S0e;return this.attrTween(e,"function"==typeof n?(t.local?$qe:jqe)(t,i,yie(this,"attr."+e,n)):null==n?(t.local?Uqe:Yqe)(t):(t.local?Wqe:Gqe)(t,i,n))},attrTween:function Jqe(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=PU(e);return this.tween(t,(i.local?Kqe:Qqe)(i,n))},style:function TZe(e,n,t){var i="transform"==(e+="")?Nqe:S0e;return null==n?this.styleTween(e,function bZe(e,n){var t,i,r;return function(){var o=Gw(this,e),l=(this.style.removeProperty(e),Gw(this,e));return o===l?null:o===t&&l===i?r:r=n(t=o,i=l)}}(e,i)).on("end.style."+e,T0e(e)):"function"==typeof n?this.styleTween(e,function wZe(e,n,t){var i,r,o;return function(){var l=Gw(this,e),h=t(this),f=h+"";return null==h&&(this.style.removeProperty(e),f=h=Gw(this,e)),l===f?null:l===i&&f===r?o:(r=f,o=n(i=l,h))}}(e,i,yie(this,"style."+e,n))).each(function SZe(e,n){var t,i,r,h,o="style."+n,l="end."+o;return function(){var f=ym(this,e),m=f.on,_=null==f.value[o]?h||(h=T0e(n)):void 0;(m!==t||r!==_)&&(i=(t=m).copy()).on(l,r=_),f.on=i}}(this._id,e)):this.styleTween(e,function CZe(e,n,t){var i,o,r=t+"";return function(){var l=Gw(this,e);return l===r?null:l===i?o:o=n(i=l,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function PZe(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,DZe(e,n,t??""))},text:function kZe(e){return this.tween("text","function"==typeof e?function zZe(e){return function(){var n=e(this);this.textContent=n??""}}(yie(this,"text",e)):function AZe(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function IZe(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,EZe(e))},remove:function mZe(){return this.on("end.remove",function gZe(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function Hqe(e,n){var t=this._id;if(e+="",arguments.length<2){for(var l,i=Ig(this.node(),t).tween,r=0,o=i.length;r<o;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((null==n?Bqe:Vqe)(t,e,n))},delay:function nZe(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?eZe:tZe)(n,e)):Ig(this.node(),n).delay},duration:function oZe(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?iZe:rZe)(n,e)):Ig(this.node(),n).duration},ease:function sZe(e){var n=this._id;return arguments.length?this.each(aZe(n,e)):Ig(this.node(),n).ease},easeVarying:function cZe(e){if("function"!=typeof e)throw new Error;return this.each(function lZe(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;ym(this,e).ease=t}}(this._id,e))},end:function RZe(){var e,n,t=this,i=t._id,r=t.size();return new Promise(function(o,l){var h={value:l},f={value:function(){0==--r&&o()}};t.each(function(){var m=ym(this,i),_=m.on;_!==e&&((n=(e=_).copy())._.cancel.push(h),n._.interrupt.push(h),n._.end.push(f)),m.on=n}),0===r&&o()})},[Symbol.iterator]:k6[Symbol.iterator]};var VZe={time:null,delay:0,duration:250,ease:function BZe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function HZe(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}Pk.prototype.interrupt=function Iqe(e){return this.each(function(){!function vie(e,n){var i,r,l,t=e.__transition,o=!0;if(t){for(l in n=null==n?null:n+"",t)(i=t[l]).name===n?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[l]):o=!1;o&&delete e.__transition}}(this,e)})},Pk.prototype.transition=function YZe(e){var n,t;e instanceof Fv?(n=e._id,e=e._name):(n=M0e(),(t=VZe).time=hie(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var f,l=i[o],h=l.length,m=0;m<h;++m)(f=l[m])&&HU(f,e,n,m,l,t||HZe(f,n));return new Fv(i,this._parents,e,n)};Math;function Rk(e){return{type:e}}function O0e(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Mie(e){let n=e,t=e;function i(l,h,f,m){for(null==f&&(f=0),null==m&&(m=l.length);f<m;){const _=f+m>>>1;t(l[_],h)<0?f=_+1:m=_}return f}return 1===e.length&&(n=(l,h)=>e(l)-h,t=function eKe(e){return(n,t)=>O0e(e(n),t)}(e)),{left:i,center:function o(l,h,f,m){null==f&&(f=0),null==m&&(m=l.length);const _=i(l,h,f,m-1);return _>f&&n(l[_-1],h)>-n(l[_],h)?_-1:_},right:function r(l,h,f,m){for(null==f&&(f=0),null==m&&(m=l.length);f<m;){const _=f+m>>>1;t(l[_],h)>0?m=_:f=_+1}return f}}}["w","e"].map(Rk),["n","s"].map(Rk),["n","w","e","s","nw","ne","sw","se"].map(Rk);var Die=Math.sqrt(50),Pie=Math.sqrt(10),Aie=Math.sqrt(2);function zie(e,n,t){var i=Math.abs(n-e)/Math.max(0,t),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Die?r*=10:o>=Pie?r*=5:o>=Aie&&(r*=2),n<e?-r:r}const Vv=1e3,Kf=6e4,Hv=60*Kf,O6=24*Hv,kie=7*O6,Oie=365*O6;var Eie=new Date,Iie=new Date;function ql(e,n,t,i){function r(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return r.floor=function(o){return e(o=new Date(+o)),o},r.ceil=function(o){return e(o=new Date(o-1)),n(o,1),e(o),o},r.round=function(o){var l=r(o),h=r.ceil(o);return o-l<h-o?l:h},r.offset=function(o,l){return n(o=new Date(+o),null==l?1:Math.floor(l)),o},r.range=function(o,l,h){var m,f=[];if(o=r.ceil(o),h=null==h?1:Math.floor(h),!(o<l&&h>0))return f;do{f.push(m=new Date(+o)),n(o,h),e(o)}while(m<o&&o<l);return f},r.filter=function(o){return ql(function(l){if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},function(l,h){if(l>=l)if(h<0)for(;++h<=0;)for(;n(l,-1),!o(l););else for(;--h>=0;)for(;n(l,1),!o(l););})},t&&(r.count=function(o,l){return Eie.setTime(+o),Iie.setTime(+l),e(Eie),e(Iie),Math.floor(t(Eie,Iie))},r.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?r.filter(i?function(l){return i(l)%o==0}:function(l){return r.count(0,l)%o==0}):r:null}),r}var WU=ql(function(){},function(e,n){e.setTime(+e+n)},function(e,n){return n-e});WU.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ql(function(n){n.setTime(Math.floor(n/e)*e)},function(n,t){n.setTime(+n+t*e)},function(n,t){return(t-n)/e}):WU:null};const nKe=WU;var L0e=ql(function(e){e.setTime(e-e.getMilliseconds())},function(e,n){e.setTime(+e+n*Vv)},function(e,n){return(n-e)/Vv},function(e){return e.getUTCSeconds()});const Nk=L0e;var R0e=ql(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vv)},function(e,n){e.setTime(+e+n*Kf)},function(e,n){return(n-e)/Kf},function(e){return e.getMinutes()});const N0e=R0e;var F0e=ql(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vv-e.getMinutes()*Kf)},function(e,n){e.setTime(+e+n*Hv)},function(e,n){return(n-e)/Hv},function(e){return e.getHours()});const B0e=F0e;var V0e=ql(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Kf)/O6,e=>e.getDate()-1);const jU=V0e;function E6(e){return ql(function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+7*t)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Kf)/kie})}var $U=E6(0),XU=E6(1),qw=(E6(2),E6(3),E6(4)),H0e=(E6(5),E6(6),ql(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,n){e.setMonth(e.getMonth()+n)},function(e,n){return n.getMonth()-e.getMonth()+12*(n.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}));const Y0e=H0e;var Lie=ql(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Lie.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ql(function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t*e)}):null};const I6=Lie;var U0e=ql(function(e){e.setUTCSeconds(0,0)},function(e,n){e.setTime(+e+n*Kf)},function(e,n){return(n-e)/Kf},function(e){return e.getUTCMinutes()});const sKe=U0e;var G0e=ql(function(e){e.setUTCMinutes(0,0,0)},function(e,n){e.setTime(+e+n*Hv)},function(e,n){return(n-e)/Hv},function(e){return e.getUTCHours()});const lKe=G0e;var W0e=ql(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/O6},function(e){return e.getUTCDate()-1});const Rie=W0e;function L6(e){return ql(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+7*t)},function(n,t){return(t-n)/kie})}var Nie=L6(0),qU=L6(1),Zw=(L6(2),L6(3),L6(4)),j0e=(L6(5),L6(6),ql(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCMonth(e.getUTCMonth()+n)},function(e,n){return n.getUTCMonth()-e.getUTCMonth()+12*(n.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}));const fKe=j0e;var Fie=ql(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Fie.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ql(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t*e)}):null};const Kw=Fie;function $0e(e,n,t,i,r,o){const l=[[Nk,1,Vv],[Nk,5,5e3],[Nk,15,15e3],[Nk,30,3e4],[o,1,Kf],[o,5,5*Kf],[o,15,15*Kf],[o,30,30*Kf],[r,1,Hv],[r,3,3*Hv],[r,6,6*Hv],[r,12,12*Hv],[i,1,O6],[i,2,2*O6],[t,1,kie],[n,1,2592e6],[n,3,7776e6],[e,1,Oie]];function f(m,_,b){const S=Math.abs(_-m)/b,M=Mie(([,,N])=>N).right(l,S);if(M===l.length)return e.every(zie(m/Oie,_/Oie,b));if(0===M)return nKe.every(Math.max(zie(m,_,b),1));const[O,I]=l[S/l[M-1][2]<l[M][2]/S?M-1:M];return O.every(I)}return[function h(m,_,b){const S=_<m;S&&([m,_]=[_,m]);const M=b&&"function"==typeof b.range?b:f(m,_,b),O=M?M.range(m,+_+1):[];return S?O.reverse():O},f]}const[dBt,fBt]=$0e(Kw,fKe,Nie,Rie,lKe,sKe),[pKe,gKe]=$0e(I6,Y0e,$U,jU,B0e,N0e);function Bie(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vie(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fk(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}var X0e={"-":"",_:" ",0:"0"},Zl=/^\s*\d+/,vKe=/^%/,_Ke=/[\\^$*+?|[\]().{}]/g;function qr(e,n,t){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<t?new Array(t-o+1).join(n)+r:r)}function yKe(e){return e.replace(_Ke,"\\$&")}function Bk(e){return new RegExp("^(?:"+e.map(yKe).join("|")+")","i")}function Vk(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function xKe(e,n,t){var i=Zl.exec(n.slice(t,t+1));return i?(e.w=+i[0],t+i[0].length):-1}function bKe(e,n,t){var i=Zl.exec(n.slice(t,t+1));return i?(e.u=+i[0],t+i[0].length):-1}function CKe(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.U=+i[0],t+i[0].length):-1}function wKe(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.V=+i[0],t+i[0].length):-1}function SKe(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.W=+i[0],t+i[0].length):-1}function q0e(e,n,t){var i=Zl.exec(n.slice(t,t+4));return i?(e.y=+i[0],t+i[0].length):-1}function Z0e(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function TKe(e,n,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function MKe(e,n,t){var i=Zl.exec(n.slice(t,t+1));return i?(e.q=3*i[0]-3,t+i[0].length):-1}function DKe(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.m=i[0]-1,t+i[0].length):-1}function K0e(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.d=+i[0],t+i[0].length):-1}function PKe(e,n,t){var i=Zl.exec(n.slice(t,t+3));return i?(e.m=0,e.d=+i[0],t+i[0].length):-1}function Q0e(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.H=+i[0],t+i[0].length):-1}function AKe(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.M=+i[0],t+i[0].length):-1}function zKe(e,n,t){var i=Zl.exec(n.slice(t,t+2));return i?(e.S=+i[0],t+i[0].length):-1}function kKe(e,n,t){var i=Zl.exec(n.slice(t,t+3));return i?(e.L=+i[0],t+i[0].length):-1}function OKe(e,n,t){var i=Zl.exec(n.slice(t,t+6));return i?(e.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function EKe(e,n,t){var i=vKe.exec(n.slice(t,t+1));return i?t+i[0].length:-1}function IKe(e,n,t){var i=Zl.exec(n.slice(t));return i?(e.Q=+i[0],t+i[0].length):-1}function LKe(e,n,t){var i=Zl.exec(n.slice(t));return i?(e.s=+i[0],t+i[0].length):-1}function J0e(e,n){return qr(e.getDate(),n,2)}function RKe(e,n){return qr(e.getHours(),n,2)}function NKe(e,n){return qr(e.getHours()%12||12,n,2)}function FKe(e,n){return qr(1+jU.count(I6(e),e),n,3)}function eve(e,n){return qr(e.getMilliseconds(),n,3)}function BKe(e,n){return eve(e,n)+"000"}function VKe(e,n){return qr(e.getMonth()+1,n,2)}function HKe(e,n){return qr(e.getMinutes(),n,2)}function YKe(e,n){return qr(e.getSeconds(),n,2)}function UKe(e){var n=e.getDay();return 0===n?7:n}function GKe(e,n){return qr($U.count(I6(e)-1,e),n,2)}function tve(e){var n=e.getDay();return n>=4||0===n?qw(e):qw.ceil(e)}function WKe(e,n){return e=tve(e),qr(qw.count(I6(e),e)+(4===I6(e).getDay()),n,2)}function jKe(e){return e.getDay()}function $Ke(e,n){return qr(XU.count(I6(e)-1,e),n,2)}function XKe(e,n){return qr(e.getFullYear()%100,n,2)}function qKe(e,n){return qr((e=tve(e)).getFullYear()%100,n,2)}function ZKe(e,n){return qr(e.getFullYear()%1e4,n,4)}function KKe(e,n){var t=e.getDay();return qr((e=t>=4||0===t?qw(e):qw.ceil(e)).getFullYear()%1e4,n,4)}function QKe(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+qr(n/60|0,"0",2)+qr(n%60,"0",2)}function nve(e,n){return qr(e.getUTCDate(),n,2)}function JKe(e,n){return qr(e.getUTCHours(),n,2)}function eQe(e,n){return qr(e.getUTCHours()%12||12,n,2)}function tQe(e,n){return qr(1+Rie.count(Kw(e),e),n,3)}function ive(e,n){return qr(e.getUTCMilliseconds(),n,3)}function nQe(e,n){return ive(e,n)+"000"}function iQe(e,n){return qr(e.getUTCMonth()+1,n,2)}function rQe(e,n){return qr(e.getUTCMinutes(),n,2)}function oQe(e,n){return qr(e.getUTCSeconds(),n,2)}function aQe(e){var n=e.getUTCDay();return 0===n?7:n}function sQe(e,n){return qr(Nie.count(Kw(e)-1,e),n,2)}function rve(e){var n=e.getUTCDay();return n>=4||0===n?Zw(e):Zw.ceil(e)}function lQe(e,n){return e=rve(e),qr(Zw.count(Kw(e),e)+(4===Kw(e).getUTCDay()),n,2)}function cQe(e){return e.getUTCDay()}function uQe(e,n){return qr(qU.count(Kw(e)-1,e),n,2)}function hQe(e,n){return qr(e.getUTCFullYear()%100,n,2)}function dQe(e,n){return qr((e=rve(e)).getUTCFullYear()%100,n,2)}function fQe(e,n){return qr(e.getUTCFullYear()%1e4,n,4)}function pQe(e,n){var t=e.getUTCDay();return qr((e=t>=4||0===t?Zw(e):Zw.ceil(e)).getUTCFullYear()%1e4,n,4)}function gQe(){return"+0000"}function ove(){return"%"}function ave(e){return+e}function sve(e){return Math.floor(+e/1e3)}!function yQe(e){(function mKe(e){var n=e.dateTime,t=e.date,i=e.time,r=e.periods,o=e.days,l=e.shortDays,h=e.months,f=e.shortMonths,m=Bk(r),_=Vk(r),b=Bk(o),S=Vk(o),M=Bk(l),O=Vk(l),I=Bk(h),N=Vk(h),V=Bk(f),G=Vk(f),X={a:function Ye(ht){return l[ht.getDay()]},A:function Ge(ht){return o[ht.getDay()]},b:function ct(ht){return f[ht.getMonth()]},B:function We(ht){return h[ht.getMonth()]},c:null,d:J0e,e:J0e,f:BKe,g:qKe,G:KKe,H:RKe,I:NKe,j:FKe,L:eve,m:VKe,M:HKe,p:function Tt(ht){return r[+(ht.getHours()>=12)]},q:function Lt(ht){return 1+~~(ht.getMonth()/3)},Q:ave,s:sve,S:YKe,u:UKe,U:GKe,V:WKe,w:jKe,W:$Ke,x:null,X:null,y:XKe,Y:ZKe,Z:QKe,"%":ove},K={a:function An(ht){return l[ht.getUTCDay()]},A:function Qt(ht){return o[ht.getUTCDay()]},b:function zn(ht){return f[ht.getUTCMonth()]},B:function Ar(ht){return h[ht.getUTCMonth()]},c:null,d:nve,e:nve,f:nQe,g:dQe,G:pQe,H:JKe,I:eQe,j:tQe,L:ive,m:iQe,M:rQe,p:function vn(ht){return r[+(ht.getUTCHours()>=12)]},q:function Nn(ht){return 1+~~(ht.getUTCMonth()/3)},Q:ave,s:sve,S:oQe,u:aQe,U:sQe,V:lQe,w:cQe,W:uQe,x:null,X:null,y:hQe,Y:fQe,Z:gQe,"%":ove},ne={a:function Se(ht,Yt,gn){var Mt=M.exec(Yt.slice(gn));return Mt?(ht.w=O.get(Mt[0].toLowerCase()),gn+Mt[0].length):-1},A:function xe(ht,Yt,gn){var Mt=b.exec(Yt.slice(gn));return Mt?(ht.w=S.get(Mt[0].toLowerCase()),gn+Mt[0].length):-1},b:function De(ht,Yt,gn){var Mt=V.exec(Yt.slice(gn));return Mt?(ht.m=G.get(Mt[0].toLowerCase()),gn+Mt[0].length):-1},B:function Pe(ht,Yt,gn){var Mt=I.exec(Yt.slice(gn));return Mt?(ht.m=N.get(Mt[0].toLowerCase()),gn+Mt[0].length):-1},c:function Re(ht,Yt,gn){return ve(ht,n,Yt,gn)},d:K0e,e:K0e,f:OKe,g:Z0e,G:q0e,H:Q0e,I:Q0e,j:PKe,L:kKe,m:DKe,M:AKe,p:function ye(ht,Yt,gn){var Mt=m.exec(Yt.slice(gn));return Mt?(ht.p=_.get(Mt[0].toLowerCase()),gn+Mt[0].length):-1},q:MKe,Q:IKe,s:LKe,S:zKe,u:bKe,U:CKe,V:wKe,w:xKe,W:SKe,x:function ke(ht,Yt,gn){return ve(ht,t,Yt,gn)},X:function Oe(ht,Yt,gn){return ve(ht,i,Yt,gn)},y:Z0e,Y:q0e,Z:TKe,"%":EKe};function ie(ht,Yt){return function(gn){var ps,Hi,gs,Mt=[],Jn=-1,Hn=0,ir=ht.length;for(gn instanceof Date||(gn=new Date(+gn));++Jn<ir;)37===ht.charCodeAt(Jn)&&(Mt.push(ht.slice(Hn,Jn)),null!=(Hi=X0e[ps=ht.charAt(++Jn)])?ps=ht.charAt(++Jn):Hi="e"===ps?" ":"0",(gs=Yt[ps])&&(ps=gs(gn,Hi)),Mt.push(ps),Hn=Jn+1);return Mt.push(ht.slice(Hn,Jn)),Mt.join("")}}function pe(ht,Yt){return function(gn){var Hn,ir,Mt=Fk(1900,void 0,1);if(ve(Mt,ht,gn+="",0)!=gn.length)return null;if("Q"in Mt)return new Date(Mt.Q);if("s"in Mt)return new Date(1e3*Mt.s+("L"in Mt?Mt.L:0));if(Yt&&!("Z"in Mt)&&(Mt.Z=0),"p"in Mt&&(Mt.H=Mt.H%12+12*Mt.p),void 0===Mt.m&&(Mt.m="q"in Mt?Mt.q:0),"V"in Mt){if(Mt.V<1||Mt.V>53)return null;"w"in Mt||(Mt.w=1),"Z"in Mt?(ir=(Hn=Vie(Fk(Mt.y,0,1))).getUTCDay(),Hn=ir>4||0===ir?qU.ceil(Hn):qU(Hn),Hn=Rie.offset(Hn,7*(Mt.V-1)),Mt.y=Hn.getUTCFullYear(),Mt.m=Hn.getUTCMonth(),Mt.d=Hn.getUTCDate()+(Mt.w+6)%7):(ir=(Hn=Bie(Fk(Mt.y,0,1))).getDay(),Hn=ir>4||0===ir?XU.ceil(Hn):XU(Hn),Hn=jU.offset(Hn,7*(Mt.V-1)),Mt.y=Hn.getFullYear(),Mt.m=Hn.getMonth(),Mt.d=Hn.getDate()+(Mt.w+6)%7)}else("W"in Mt||"U"in Mt)&&("w"in Mt||(Mt.w="u"in Mt?Mt.u%7:"W"in Mt?1:0),ir="Z"in Mt?Vie(Fk(Mt.y,0,1)).getUTCDay():Bie(Fk(Mt.y,0,1)).getDay(),Mt.m=0,Mt.d="W"in Mt?(Mt.w+6)%7+7*Mt.W-(ir+5)%7:Mt.w+7*Mt.U-(ir+6)%7);return"Z"in Mt?(Mt.H+=Mt.Z/100|0,Mt.M+=Mt.Z%100,Vie(Mt)):Bie(Mt)}}function ve(ht,Yt,gn,Mt){for(var ps,Hi,Jn=0,Hn=Yt.length,ir=gn.length;Jn<Hn;){if(Mt>=ir)return-1;if(37===(ps=Yt.charCodeAt(Jn++))){if(ps=Yt.charAt(Jn++),!(Hi=ne[ps in X0e?Yt.charAt(Jn++):ps])||(Mt=Hi(ht,gn,Mt))<0)return-1}else if(ps!=gn.charCodeAt(Mt++))return-1}return Mt}return X.x=ie(t,X),X.X=ie(i,X),X.c=ie(n,X),K.x=ie(t,K),K.X=ie(i,K),K.c=ie(n,K),{format:function(ht){var Yt=ie(ht+="",X);return Yt.toString=function(){return ht},Yt},parse:function(ht){var Yt=pe(ht+="",!1);return Yt.toString=function(){return ht},Yt},utcFormat:function(ht){var Yt=ie(ht+="",K);return Yt.toString=function(){return ht},Yt},utcParse:function(ht){var Yt=pe(ht+="",!0);return Yt.toString=function(){return ht},Yt}}})(e)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Mie(O0e),Mie(function xQe(e){return null===e?NaN:+e});var pve,IQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function KU(e){if(!(n=IQe.exec(e)))throw new Error("invalid format: "+e);var n;return new Yie({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Yie(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function QU(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function gve(e,n){var t=QU(e,n);if(!t)return e+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}KU.prototype=Yie.prototype,Yie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const mve={"%":(e,n)=>(100*e).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function LQe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>gve(100*e,n),r:gve,s:function VQe(e,n){var t=QU(e,n);if(!t)return e+"";var i=t[0],r=t[1],o=r-(pve=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+QU(e,Math.max(0,n+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vve(e){return e}var _ve=Array.prototype.map,yve=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function HQe(e){var n=void 0===e.grouping||void 0===e.thousands?vve:function NQe(e,n){return function(t,i){for(var r=t.length,o=[],l=0,h=e[0],f=0;r>0&&h>0&&(f+h+1>i&&(h=Math.max(1,i-f)),o.push(t.substring(r-=h,r+h)),!((f+=h+1)>i));)h=e[l=(l+1)%e.length];return o.reverse().join(n)}}(_ve.call(e.grouping,Number),e.thousands+""),t=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?vve:function FQe(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}(_ve.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",h=void 0===e.minus?"\u2212":e.minus+"",f=void 0===e.nan?"NaN":e.nan+"";function m(b){var S=(b=KU(b)).fill,M=b.align,O=b.sign,I=b.symbol,N=b.zero,V=b.width,G=b.comma,X=b.precision,K=b.trim,ne=b.type;"n"===ne?(G=!0,ne="g"):mve[ne]||(void 0===X&&(X=12),K=!0,ne="g"),(N||"0"===S&&"="===M)&&(N=!0,S="0",M="=");var ie="$"===I?t:"#"===I&&/[boxX]/.test(ne)?"0"+ne.toLowerCase():"",pe="$"===I?i:/[%p]/.test(ne)?l:"",ve=mve[ne],ye=/[defgprs%]/.test(ne);function Se(xe){var Re,ke,Oe,De=ie,Pe=pe;if("c"===ne)Pe=ve(xe)+Pe,xe="";else{var Ye=(xe=+xe)<0||1/xe<0;if(xe=isNaN(xe)?f:ve(Math.abs(xe),X),K&&(xe=function BQe(e){e:for(var r,n=e.length,t=1,i=-1;t<n;++t)switch(e[t]){case".":i=r=t;break;case"0":0===i&&(i=t),r=t;break;default:if(!+e[t])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(r+1):e}(xe)),Ye&&0==+xe&&"+"!==O&&(Ye=!1),De=(Ye?"("===O?O:h:"-"===O||"("===O?"":O)+De,Pe=("s"===ne?yve[8+pve/3]:"")+Pe+(Ye&&"("===O?")":""),ye)for(Re=-1,ke=xe.length;++Re<ke;)if(48>(Oe=xe.charCodeAt(Re))||Oe>57){Pe=(46===Oe?r+xe.slice(Re+1):xe.slice(Re))+Pe,xe=xe.slice(0,Re);break}}G&&!N&&(xe=n(xe,1/0));var Ge=De.length+xe.length+Pe.length,ct=Ge<V?new Array(V-Ge+1).join(S):"";switch(G&&N&&(xe=n(ct+xe,ct.length?V-Pe.length:1/0),ct=""),M){case"<":xe=De+xe+Pe+ct;break;case"=":xe=De+ct+xe+Pe;break;case"^":xe=ct.slice(0,Ge=ct.length>>1)+De+xe+Pe+ct.slice(Ge);break;default:xe=ct+De+xe+Pe}return o(xe)}return X=void 0===X?6:/[gprs]/.test(ne)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X)),Se.toString=function(){return b+""},Se}return{format:m,formatPrefix:function _(b,S){var M=m(((b=KU(b)).type="f",b)),O=3*Math.max(-8,Math.min(8,Math.floor(function eS(e){return(e=QU(Math.abs(e)))?e[1]:NaN}(S)/3))),I=Math.pow(10,-O),N=yve[8+O/3];return function(V){return M(I*V)+N}}}}!function YQe(e){HQe(e)}({thousands:",",grouping:[3],currency:["$",""]}),Symbol("implicit"),Qe(6087);const qQe=["caretElm"];function ZQe(e,n){}const KQe=function(e){return{model:e}};function QQe(e,n){if(1&e&&(se(0,"span"),ge(1,ZQe,0,0,"ng-template",5),le()),2&e){const t=ue();J(1),ee("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ei(2,KQe,t.context))}}function JQe(e,n){1&e&&Fe(0,"span",6),2&e&&ee("innerHTML",ue().title,Xp)}function ret(e,n,t){t=t||{};let i,r,o,l=null,h=0;function f(){h=!1===t.leading?0:+new Date,l=null,o=e.apply(i,r)}return function(){const m=+new Date;!h&&!1===t.leading&&(h=m);const _=n-(m-h);return i=this,r=arguments,_<=0?(clearTimeout(l),l=null,h=m,o=e.apply(i,r)):!l&&!1!==t.trailing&&(l=setTimeout(f,_)),o}}function oet(e,n){return function(i,r,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:o.enumerable,value:ret(o.value,e,n)}),this[r]}}}}var sr=(()=>{return(e=sr||(sr={})).Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",sr;var e})();function Pve(e,n,t){return t===sr.Top?e.top-7:t===sr.Bottom?e.top+e.height-n.height+7:t===sr.Center?e.top+e.height/2-n.height/2:void 0}function Ave(e,n,t){return t===sr.Left?e.left-7:t===sr.Right?e.left+e.width-n.width+7:t===sr.Center?e.left+e.width/2-n.width/2:void 0}class Dd{static calculateVerticalAlignment(n,t,i){let r=Pve(n,t,i);return r+t.height>window.innerHeight&&(r=window.innerHeight-t.height),r}static calculateVerticalCaret(n,t,i,r){let o;r===sr.Top&&(o=n.height/2-i.height/2+7),r===sr.Bottom&&(o=t.height-n.height/2-i.height/2-7),r===sr.Center&&(o=t.height/2-i.height/2);const l=Pve(n,t,r);return l+t.height>window.innerHeight&&(o+=l+t.height-window.innerHeight),o}static calculateHorizontalAlignment(n,t,i){let r=Ave(n,t,i);return r+t.width>window.innerWidth&&(r=window.innerWidth-t.width),r}static calculateHorizontalCaret(n,t,i,r){let o;r===sr.Left&&(o=n.width/2-i.width/2+7),r===sr.Right&&(o=t.width-n.width/2-i.width/2-7),r===sr.Center&&(o=t.width/2-i.width/2);const l=Ave(n,t,r);return l+t.width>window.innerWidth&&(o+=l+t.width-window.innerWidth),o}static shouldFlip(n,t,i,r){let o=!1;return i===sr.Right&&n.left+n.width+t.width+r>window.innerWidth&&(o=!0),i===sr.Left&&n.left-t.width-r<0&&(o=!0),i===sr.Top&&n.top-t.height-r<0&&(o=!0),i===sr.Bottom&&n.top+n.height+t.height+r>window.innerHeight&&(o=!0),o}static positionCaret(n,t,i,r,o){let l=0,h=0;return n===sr.Right?(h=-7,l=Dd.calculateVerticalCaret(i,t,r,o)):n===sr.Left?(h=t.width,l=Dd.calculateVerticalCaret(i,t,r,o)):n===sr.Top?(l=t.height,h=Dd.calculateHorizontalCaret(i,t,r,o)):n===sr.Bottom&&(l=-7,h=Dd.calculateHorizontalCaret(i,t,r,o)),{top:l,left:h}}static positionContent(n,t,i,r,o){let l=0,h=0;return n===sr.Right?(h=i.left+i.width+r,l=Dd.calculateVerticalAlignment(i,t,o)):n===sr.Left?(h=i.left-t.width-r,l=Dd.calculateVerticalAlignment(i,t,o)):n===sr.Top?(l=i.top-t.height-r,h=Dd.calculateHorizontalAlignment(i,t,o)):n===sr.Bottom&&(l=i.top+i.height+r,h=Dd.calculateHorizontalAlignment(i,t,o)),{top:l,left:h}}static determinePlacement(n,t,i,r){if(Dd.shouldFlip(i,t,n,r)){if(n===sr.Right)return sr.Left;if(n===sr.Left)return sr.Right;if(n===sr.Top)return sr.Bottom;if(n===sr.Bottom)return sr.Top}return n}}let aet=(()=>{class e{constructor(t,i,r){this.element=t,this.renderer=i,this.platformId=r}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!q_(this.platformId))return;const t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=t.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(t,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,r){const{top:o,left:l}=Dd.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${o}px`),this.renderer.setStyle(t,"left",`${l}px`)}positionCaret(t,i){const r=this.caretElm.nativeElement,o=r.getBoundingClientRect(),{top:l,left:h}=Dd.positionCaret(this.placement,i,t,o,this.alignment);this.renderer.setStyle(r,"top",`${l}px`),this.renderer.setStyle(r,"left",`${h}px`)}checkFlip(t,i){this.placement=Dd.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(de(Vt),de(_r),de(kf))},e.\u0275cmp=ut({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,i){if(1&t&&mi(qQe,5),2&t){let r;an(r=cn())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&He("resize",function(){return i.onWindowResize()},0,T0),2&t&&Di(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,i){1&t&&(se(0,"div"),Fe(1,"span",0,1),se(3,"div",2),ge(4,QQe,2,4,"span",3),ge(5,JQe,1,1,"span",4),le()()),2&t&&(J(1),Jt("tooltip-caret position-",i.placement,""),ee("hidden",!i.showCaret),J(3),ee("ngIf",!i.title),J(1),ee("ngIf",i.title))},dependencies:[hn,Yr],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),zt([oet(100)],e.prototype,"onWindowResize",null),e})();class set{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,t){t=this.assignDefaults(t);const i=this.injectComponent(n,t);return this.register(n,i),i}destroy(n){const t=this.components.get(n.componentType);if(t&&t.length){const i=t.indexOf(n);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const t=this.components.get(n);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(n,t){return this.injectionService.appendComponent(n,t)}assignDefaults(n){const t={...this.defaults.inputs},i={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),t&&(n.inputs={...t,...n.inputs}),i&&(n.outputs={...i,...n.outputs}),n}register(n,t){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(t)}}let jie,zve=(()=>{class e{constructor(t,i,r){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function cet(e){return e.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const o of r)t.instance[o]=i.inputs[o]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const o of r)t.instance[o]=i.outputs[o]}}return t}appendComponent(t,i={},r){r||(r=this.getRootViewContainer());const o=this.getComponentRootNode(r),l=new wge(o,this.componentFactoryResolver,this.applicationRef,this.injector),h=new hne(t),f=l.attach(h);return this.projectComponentBindings(f,i),f}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(Ve(If),Ve(io),Ve(xs))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Uie=(()=>{class e extends set{constructor(t){super(t),this.type=aet}}return e.\u0275fac=function(t){return new(t||e)(Ve(zve))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Rve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[ao]]}),e})(),Fve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({providers:[zve,Uie],imports:[[ao]]}),e})();typeof window<"u"?jie=window:typeof global<"u"&&(jie=global);let Qf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[ao,Rve,Fve],ao,Rve,Fve]}),e})(),bet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),jve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),Cet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),wet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),Tet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),$ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})();Math;let Xie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),Pet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf,Xie,$ve]]}),e})(),zet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),ket=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf]]}),e})(),Oet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[Qf,Xie,jve]]}),e})(),Iet=(()=>{class e{constructor(){!function Eet(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[Qf,bet,jve,Cet,wet,Tet,$ve,Pet,zet,Xie,ket,Oet]}),e})();const Let=new pt("NGX_ECHARTS_CONFIG");let Ret=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:Let,useValue:t}]}}static forChild(){return{ngModule:e}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[]]}),e})();var Net=Qe(9094);Qe(8407);let Fet=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})(),ntt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({}),e})();document.createDocumentFragment(),document.createDocumentFragment();let att=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[ao]]}),e})(),ltt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,kg]}),e})(),utt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,S6,kg,Bw,Nw]}),e})(),_tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,vk,S6,p6,mm,kg,Bw,Nw,utt,Lne]}),e})();new pt("nz-carousel-custom-strategies");let Ctt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[_l,ao,E4]}),e})();const n2e=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function i2e(e,n,t){const i=t||(l=>Array.prototype.slice.call(l));let r=!1,o=[];return function(...l){o=i(l),r||(r=!0,n2e.call(window,()=>{r=!1,e.apply(n,o)}))}}const Qie=e=>"start"===e?"left":"end"===e?"right":"center",Qc=(e,n,t)=>"start"===e?n:"end"===e?t:(n+t)/2;function Yv(){}const Ttt=function(){let e=0;return function(){return e++}}();function Zr(e){return null===e||typeof e>"u"}function na(e){if(Array.isArray&&Array.isArray(e))return!0;const n=Object.prototype.toString.call(e);return"[object"===n.substr(0,7)&&"Array]"===n.substr(-6)}function Er(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const As=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function Jf(e,n){return As(e)?e:n}function Qi(e,n){return typeof e>"u"?n:e}const r2e=(e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*n:+e;function ia(e,n,t){if(e&&"function"==typeof e.call)return e.apply(t,n)}function Po(e,n,t,i){let r,o,l;if(na(e))if(o=e.length,i)for(r=o-1;r>=0;r--)n.call(t,e[r],r);else for(r=0;r<o;r++)n.call(t,e[r],r);else if(Er(e))for(l=Object.keys(e),o=l.length,r=0;r<o;r++)n.call(t,e[l[r]],l[r])}function nG(e,n){let t,i,r,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,i=e.length;t<i;++t)if(r=e[t],o=n[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function iG(e){if(na(e))return e.map(iG);if(Er(e)){const n=Object.create(null),t=Object.keys(e),i=t.length;let r=0;for(;r<i;++r)n[t[r]]=iG(e[t[r]]);return n}return e}function o2e(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Dtt(e,n,t,i){if(!o2e(e))return;const r=n[e],o=t[e];Er(r)&&Er(o)?Yk(r,o,i):n[e]=iG(o)}function Yk(e,n,t){const i=na(n)?n:[n],r=i.length;if(!Er(e))return e;const o=(t=t||{}).merger||Dtt;for(let l=0;l<r;++l){if(!Er(n=i[l]))continue;const h=Object.keys(n);for(let f=0,m=h.length;f<m;++f)o(h[f],e,n,t)}return e}function Uk(e,n){return Yk(e,n,{merger:Ptt})}function Ptt(e,n,t){if(!o2e(e))return;const i=n[e],r=t[e];Er(i)&&Er(r)?Uk(i,r):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=iG(r))}function a2e(e,n){const t=e.indexOf(".",n);return-1===t?e.length:t}function N6(e,n){if(""===n)return e;let t=0,i=a2e(n,t);for(;e&&i>t;)e=e[n.substr(t,i-t)],t=i+1,i=a2e(n,t);return e}function Jie(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ep=e=>typeof e<"u",H4=e=>"function"==typeof e,s2e=(e,n)=>{if(e.size!==n.size)return!1;for(const t of e)if(!n.has(t))return!1;return!0},Aa=Math.PI,Wo=2*Aa,Ott=Wo+Aa,rG=Number.POSITIVE_INFINITY,Ett=Aa/180,ls=Aa/2,Gk=Aa/4,l2e=2*Aa/3,tp=Math.log10,bm=Math.sign;function c2e(e){const n=Math.round(e);e=jk(e,n,e/1e3)?n:e;const t=Math.pow(10,Math.floor(tp(e))),i=e/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Wk(e){return!isNaN(parseFloat(e))&&isFinite(e)}function jk(e,n,t){return Math.abs(e-n)<t}function u2e(e,n,t){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][t],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Rg(e){return e*(Aa/180)}function ere(e){return e*(180/Aa)}function h2e(e){if(!As(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function d2e(e,n){const t=n.x-e.x,i=n.y-e.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Aa&&(o+=Wo),{angle:o,distance:r}}function tre(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Rtt(e,n){return(e-n+Ott)%Wo-Aa}function Pd(e){return(e%Wo+Wo)%Wo}function $k(e,n,t,i){const r=Pd(e),o=Pd(n),l=Pd(t),h=Pd(o-r),f=Pd(l-r),m=Pd(r-o),_=Pd(r-l);return r===o||r===l||i&&o===l||h>f&&m<_}function Kl(e,n,t){return Math.max(n,Math.min(t,e))}function Uv(e,n,t,i=1e-6){return e>=Math.min(n,t)-i&&e<=Math.max(n,t)+i}const oG=e=>0===e||1===e,f2e=(e,n,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-n)*Wo/t),p2e=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*Wo/t)+1,Xk={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*ls),easeOutSine:e=>Math.sin(e*ls),easeInOutSine:e=>-.5*(Math.cos(Aa*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>oG(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>oG(e)?e:f2e(e,.075,.3),easeOutElastic:e=>oG(e)?e:p2e(e,.075,.3),easeInOutElastic:e=>oG(e)?e:e<.5?.5*f2e(2*e,.1125,.45):.5+.5*p2e(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},easeInBounce:e=>1-Xk.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*Xk.easeInBounce(2*e):.5*Xk.easeOutBounce(2*e-1)+.5},np={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nre="0123456789ABCDEF",Ftt=e=>nre[15&e],Btt=e=>nre[(240&e)>>4]+nre[15&e],aG=e=>(240&e)>>4==(15&e);function qk(e){return e+.5|0}const sG=(e,n,t)=>Math.max(Math.min(e,t),n);function Zk(e){return sG(qk(2.55*e),0,255)}function Kk(e){return sG(qk(255*e),0,255)}function ire(e){return sG(qk(e/2.55)/100,0,1)}function g2e(e){return sG(qk(100*e),0,100)}const Utt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,jtt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function m2e(e,n,t){const i=n*Math.min(t,1-t),r=(o,l=(o+e/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function $tt(e,n,t){const i=(r,o=(r+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Xtt(e,n,t){const i=m2e(e,1,.5);let r;for(n+t>1&&(r=1/(n+t),n*=r,t*=r),r=0;r<3;r++)i[r]*=1-n-t,i[r]+=n;return i}function rre(e){const t=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(t,i,r),l=Math.min(t,i,r),h=(o+l)/2;let f,m,_;return o!==l&&(_=o-l,m=h>.5?_/(2-o-l):_/(o+l),f=o===t?(i-r)/_+(i<r?6:0):o===i?(r-t)/_+2:(t-i)/_+4,f=60*f+.5),[0|f,m||0,h]}function ore(e,n,t,i){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,i)).map(Kk)}function are(e,n,t){return ore(m2e,e,n,t)}function v2e(e){return(e%360+360)%360}const _2e={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},y2e={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let lG;function cG(e,n,t){if(e){let i=rre(e);i[n]=Math.max(0,Math.min(i[n]+i[n]*t,0===n?360:1)),i=are(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function x2e(e,n){return e&&Object.assign(n||{},e)}function b2e(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=Kk(e[3]))):(n=x2e(e,{r:0,g:0,b:0,a:1})).a=Kk(n.a),n}function nnt(e){return"r"===e.charAt(0)?function Gtt(e){const n=Utt.exec(e);let i,r,o,t=255;if(n){if(n[7]!==i){const l=+n[7];t=255&(n[8]?Zk(l):255*l)}return i=+n[1],r=+n[3],o=+n[5],i=255&(n[2]?Zk(i):i),r=255&(n[4]?Zk(r):r),o=255&(n[6]?Zk(o):o),{r:i,g:r,b:o,a:t}}}(e):function Ktt(e){const n=jtt.exec(e);let i,t=255;if(!n)return;n[5]!==i&&(t=n[6]?Zk(+n[5]):Kk(+n[5]));const r=v2e(+n[2]),o=+n[3]/100,l=+n[4]/100;return i="hwb"===n[1]?function qtt(e,n,t){return ore(Xtt,e,n,t)}(r,o,l):"hsv"===n[1]?function Ztt(e,n,t){return ore($tt,e,n,t)}(r,o,l):are(r,o,l),{r:i[0],g:i[1],b:i[2],a:t}}(e)}class uG{constructor(n){if(n instanceof uG)return n;const t=typeof n;let i;"object"===t?i=b2e(n):"string"===t&&(i=function Htt(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*np[e[1]],g:255&17*np[e[2]],b:255&17*np[e[3]],a:5===n?17*np[e[4]]:255}:(7===n||9===n)&&(t={r:np[e[1]]<<4|np[e[2]],g:np[e[3]]<<4|np[e[4]],b:np[e[5]]<<4|np[e[6]],a:9===n?np[e[7]]<<4|np[e[8]]:255})),t}(n)||function tnt(e){lG||(lG=function ent(){const e={},n=Object.keys(y2e),t=Object.keys(_2e);let i,r,o,l,h;for(i=0;i<n.length;i++){for(l=h=n[i],r=0;r<t.length;r++)o=t[r],h=h.replace(o,_2e[o]);o=parseInt(y2e[l],16),e[h]=[o>>16&255,o>>8&255,255&o]}return e}(),lG.transparent=[0,0,0,0]);const n=lG[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||nnt(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=x2e(this._rgb);return n&&(n.a=ire(n.a)),n}set rgb(n){this._rgb=b2e(n)}rgbString(){return this._valid?function Wtt(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ire(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function Ytt(e){var n=function Vtt(e){return aG(e.r)&&aG(e.g)&&aG(e.b)&&aG(e.a)}(e)?Ftt:Btt;return e&&"#"+n(e.r)+n(e.g)+n(e.b)+(e.a<255?n(e.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function Jtt(e){if(!e)return;const n=rre(e),t=n[0],i=g2e(n[1]),r=g2e(n[2]);return e.a<255?`hsla(${t}, ${i}%, ${r}%, ${ire(e.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):this._rgb}mix(n,t){const i=this;if(n){const r=i.rgb,o=n.rgb;let l;const h=t===l?.5:t,f=2*h-1,m=r.a-o.a,_=((f*m==-1?f:(f+m)/(1+f*m))+1)/2;l=1-_,r.r=255&_*r.r+l*o.r+.5,r.g=255&_*r.g+l*o.g+.5,r.b=255&_*r.b+l*o.b+.5,r.a=h*r.a+(1-h)*o.a,i.rgb=r}return i}clone(){return new uG(this.rgb)}alpha(n){return this._rgb.a=Kk(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,t=qk(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=t,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return cG(this._rgb,2,n),this}darken(n){return cG(this._rgb,2,-n),this}saturate(n){return cG(this._rgb,1,n),this}desaturate(n){return cG(this._rgb,1,-n),this}rotate(n){return function Qtt(e,n){var t=rre(e);t[0]=v2e(t[0]+n),t=are(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,n),this}}function C2e(e){return new uG(e)}const w2e=e=>e instanceof CanvasGradient||e instanceof CanvasPattern;function S2e(e){return w2e(e)?e:C2e(e)}function sre(e){return w2e(e)?e:C2e(e).saturate(.5).darken(.1).hexString()}const F6=Object.create(null),lre=Object.create(null);function Qk(e,n){if(!n)return e;const t=n.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];e=e[o]||(e[o]=Object.create(null))}return e}function cre(e,n,t){return"string"==typeof n?Yk(Qk(e,n),t):Yk(Qk(e,""),n)}var Mr=new class int{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>sre(i.backgroundColor),this.hoverBorderColor=(t,i)=>sre(i.borderColor),this.hoverColor=(t,i)=>sre(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,t){return cre(this,n,t)}get(n){return Qk(this,n)}describe(n,t){return cre(lre,n,t)}override(n,t){return cre(F6,n,t)}route(n,t,i,r){const o=Qk(this,n),l=Qk(this,i),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[h],m=l[r];return Er(f)?Object.assign({},m,f):Qi(f,m)},set(f){this[h]=f}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function hG(e,n,t,i,r){let o=n[r];return o||(o=n[r]=e.measureText(r).width,t.push(r)),o>i&&(i=o),i}function ont(e,n,t,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(r=i.data={},o=i.garbageCollect=[],i.font=n),e.save(),e.font=n;let l=0;const h=t.length;let f,m,_,b,S;for(f=0;f<h;f++)if(b=t[f],null!=b&&!0!==na(b))l=hG(e,r,o,l,b);else if(na(b))for(m=0,_=b.length;m<_;m++)S=b[m],null!=S&&!na(S)&&(l=hG(e,r,o,l,S));e.restore();const M=o.length/2;if(M>t.length){for(f=0;f<M;f++)delete r[o[f]];o.splice(0,M)}return l}function B6(e,n,t){const i=e.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((n-r)*i)/i+r}function T2e(e,n){(n=n||e.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore()}function dG(e,n,t,i){let r,o,l,h,f;const m=n.pointStyle,_=n.rotation,b=n.radius;let S=(_||0)*Ett;if(m&&"object"==typeof m&&(r=m.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(t,i),e.rotate(S),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(b)||b<=0)){switch(e.beginPath(),m){default:e.arc(t,i,b,0,Wo),e.closePath();break;case"triangle":e.moveTo(t+Math.sin(S)*b,i-Math.cos(S)*b),S+=l2e,e.lineTo(t+Math.sin(S)*b,i-Math.cos(S)*b),S+=l2e,e.lineTo(t+Math.sin(S)*b,i-Math.cos(S)*b),e.closePath();break;case"rectRounded":f=.516*b,h=b-f,o=Math.cos(S+Gk)*h,l=Math.sin(S+Gk)*h,e.arc(t-o,i-l,f,S-Aa,S-ls),e.arc(t+l,i-o,f,S-ls,S),e.arc(t+o,i+l,f,S,S+ls),e.arc(t-l,i+o,f,S+ls,S+Aa),e.closePath();break;case"rect":if(!_){h=Math.SQRT1_2*b,e.rect(t-h,i-h,2*h,2*h);break}S+=Gk;case"rectRot":o=Math.cos(S)*b,l=Math.sin(S)*b,e.moveTo(t-o,i-l),e.lineTo(t+l,i-o),e.lineTo(t+o,i+l),e.lineTo(t-l,i+o),e.closePath();break;case"crossRot":S+=Gk;case"cross":o=Math.cos(S)*b,l=Math.sin(S)*b,e.moveTo(t-o,i-l),e.lineTo(t+o,i+l),e.moveTo(t+l,i-o),e.lineTo(t-l,i+o);break;case"star":o=Math.cos(S)*b,l=Math.sin(S)*b,e.moveTo(t-o,i-l),e.lineTo(t+o,i+l),e.moveTo(t+l,i-o),e.lineTo(t-l,i+o),S+=Gk,o=Math.cos(S)*b,l=Math.sin(S)*b,e.moveTo(t-o,i-l),e.lineTo(t+o,i+l),e.moveTo(t+l,i-o),e.lineTo(t-l,i+o);break;case"line":o=Math.cos(S)*b,l=Math.sin(S)*b,e.moveTo(t-o,i-l),e.lineTo(t+o,i+l);break;case"dash":e.moveTo(t,i),e.lineTo(t+Math.cos(S)*b,i+Math.sin(S)*b)}e.fill(),n.borderWidth>0&&e.stroke()}}function V6(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function fG(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function pG(e){e.restore()}function ant(e,n,t,i,r){if(!n)return e.lineTo(t.x,t.y);if("middle"===r){const o=(n.x+t.x)/2;e.lineTo(o,n.y),e.lineTo(o,t.y)}else"after"===r!=!!i?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function snt(e,n,t,i){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function H6(e,n,t,i,r,o={}){const l=na(n)?n:[n],h=o.strokeWidth>0&&""!==o.strokeColor;let f,m;for(e.save(),e.font=r.string,function lnt(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),Zr(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}(e,o),f=0;f<l.length;++f)m=l[f],h&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Zr(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(m,t,i,o.maxWidth)),e.fillText(m,t,i,o.maxWidth),cnt(e,t,i,m,o),i+=r.lineHeight;e.restore()}function cnt(e,n,t,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),l=n-o.actualBoundingBoxLeft,h=n+o.actualBoundingBoxRight,m=t+o.actualBoundingBoxDescent,_=r.strikethrough?(t-o.actualBoundingBoxAscent+m)/2:m;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(l,_),e.lineTo(h,_),e.stroke()}}function gG(e,n){const{x:t,y:i,w:r,h:o,radius:l}=n;e.arc(t+l.topLeft,i+l.topLeft,l.topLeft,-ls,Aa,!0),e.lineTo(t,i+o-l.bottomLeft),e.arc(t+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Aa,ls,!0),e.lineTo(t+r-l.bottomRight,i+o),e.arc(t+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,ls,0,!0),e.lineTo(t+r,i+l.topRight),e.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-ls,!0),e.lineTo(t+l.topLeft,i)}const unt=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),hnt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function dnt(e,n){const t=(""+e).match(unt);if(!t||"normal"===t[1])return 1.2*n;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return n*e}const fnt=e=>+e||0;function ure(e,n){const t={},i=Er(n),r=i?Object.keys(n):n,o=Er(e)?i?l=>Qi(e[l],e[n[l]]):l=>e[l]:()=>e;for(const l of r)t[l]=fnt(o(l));return t}function M2e(e){return ure(e,{top:"y",right:"x",bottom:"y",left:"x"})}function oS(e){return ure(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Jc(e){const n=M2e(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function yl(e,n){let t=Qi((e=e||{}).size,(n=n||Mr.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=Qi(e.style,n.style);i&&!(""+i).match(hnt)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Qi(e.family,n.family),lineHeight:dnt(Qi(e.lineHeight,n.lineHeight),t),size:t,style:i,weight:Qi(e.weight,n.weight),string:""};return r.string=function rnt(e){return!e||Zr(e.size)||Zr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Jk(e,n,t,i){let o,l,h,r=!0;for(o=0,l=e.length;o<l;++o)if(h=e[o],void 0!==h&&(void 0!==n&&"function"==typeof h&&(h=h(n),r=!1),void 0!==t&&na(h)&&(h=h[t%h.length],r=!1),void 0!==h))return i&&!r&&(i.cacheable=!1),h}function Y4(e,n){return Object.assign(Object.create(e),n)}function hre(e,n,t){t=t||(l=>e[l]<n);let o,i=e.length-1,r=0;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const Gv=(e,n,t)=>hre(e,t,i=>e[i][n]<t),gnt=(e,n,t)=>hre(e,t,i=>e[i][n]>=t),D2e=["push","pop","shift","splice","unshift"];function P2e(e,n){const t=e._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(n);-1!==r&&i.splice(r,1),!(i.length>0)&&(D2e.forEach(o=>{delete e[o]}),delete e._chartjs)}function A2e(e){const n=new Set;let t,i;for(t=0,i=e.length;t<i;++t)n.add(e[t]);return n.size===i?e:Array.from(n)}function dre(e,n=[""],t=e,i,r=(()=>e[0])){ep(i)||(i=I2e("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:t,_fallback:i,_getTarget:r,override:l=>dre([l,...e],n,t,i)};return new Proxy(o,{deleteProperty:(l,h)=>(delete l[h],delete l._keys,delete e[0][h],!0),get:(l,h)=>k2e(l,h,()=>function Tnt(e,n,t,i){let r;for(const o of n)if(r=I2e(_nt(o,e),t),ep(r))return fre(e,r)?pre(t,i,e,r):r}(h,n,e,l)),getOwnPropertyDescriptor:(l,h)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],h),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,h)=>L2e(l).includes(h),ownKeys:l=>L2e(l),set(l,h,f){const m=l._storage||(l._storage=r());return l[h]=m[h]=f,delete l._keys,!0}})}function aS(e,n,t,i){const r={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:z2e(e,i),setContext:o=>aS(e,o,t,i),override:o=>aS(e.override(o),n,t,i)};return new Proxy(r,{deleteProperty:(o,l)=>(delete o[l],delete e[l],!0),get:(o,l,h)=>k2e(o,l,()=>function ynt(e,n,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=e;let h=i[n];return H4(h)&&l.isScriptable(n)&&(h=function xnt(e,n,t,i){const{_proxy:r,_context:o,_subProxy:l,_stack:h}=t;if(h.has(e))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+e);return h.add(e),n=n(o,l||i),h.delete(e),fre(e,n)&&(n=pre(r._scopes,r,e,n)),n}(n,h,e,t)),na(h)&&h.length&&(h=function bnt(e,n,t,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:h}=t;if(ep(o.index)&&i(e))n=n[o.index%n.length];else if(Er(n[0])){const f=n,m=r._scopes.filter(_=>_!==f);n=[];for(const _ of f){const b=pre(m,r,e,_);n.push(aS(b,o,l&&l[e],h))}}return n}(n,h,e,l.isIndexable)),fre(n,h)&&(h=aS(h,r,o&&o[n],l)),h}(o,l,h)),getOwnPropertyDescriptor:(o,l)=>o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(o,l)=>Reflect.has(e,l),ownKeys:()=>Reflect.ownKeys(e),set:(o,l,h)=>(e[l]=h,delete o[l],!0)})}function z2e(e,n={scriptable:!0,indexable:!0}){const{_scriptable:t=n.scriptable,_indexable:i=n.indexable,_allKeys:r=n.allKeys}=e;return{allKeys:r,scriptable:t,indexable:i,isScriptable:H4(t)?t:()=>t,isIndexable:H4(i)?i:()=>i}}const _nt=(e,n)=>e?e+Jie(n):n,fre=(e,n)=>Er(n)&&"adapters"!==e&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function k2e(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const i=t();return e[n]=i,i}function O2e(e,n,t){return H4(e)?e(n,t):e}const Cnt=(e,n)=>!0===e?n:"string"==typeof e?N6(n,e):void 0;function wnt(e,n,t,i,r){for(const o of n){const l=Cnt(t,o);if(l){e.add(l);const h=O2e(l._fallback,t,r);if(ep(h)&&h!==t&&h!==i)return h}else if(!1===l&&ep(i)&&t!==i)return null}return!1}function pre(e,n,t,i){const r=n._rootScopes,o=O2e(n._fallback,t,i),l=[...e,...r],h=new Set;h.add(i);let f=E2e(h,l,t,o||t,i);return!(null===f||ep(o)&&o!==t&&(f=E2e(h,l,o,f,i),null===f))&&dre(Array.from(h),[""],r,o,()=>function Snt(e,n,t){const i=e._getTarget();n in i||(i[n]={});const r=i[n];return na(r)&&Er(t)?t:r}(n,t,i))}function E2e(e,n,t,i,r){for(;t;)t=wnt(e,n,t,i,r);return t}function I2e(e,n){for(const t of n){if(!t)continue;const i=t[e];if(ep(i))return i}}function L2e(e){let n=e._keys;return n||(n=e._keys=function Mnt(e){const n=new Set;for(const t of e)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))n.add(i);return Array.from(n)}(e._scopes)),n}const Dnt=Number.EPSILON||1e-14,sS=(e,n)=>n<e.length&&!e[n].skip&&e[n],R2e=e=>"x"===e?"y":"x";function Pnt(e,n,t,i){const r=e.skip?n:e,o=n,l=t.skip?n:t,h=tre(o,r),f=tre(l,o);let m=h/(h+f),_=f/(h+f);m=isNaN(m)?0:m,_=isNaN(_)?0:_;const b=i*m,S=i*_;return{previous:{x:o.x-b*(l.x-r.x),y:o.y-b*(l.y-r.y)},next:{x:o.x+S*(l.x-r.x),y:o.y+S*(l.y-r.y)}}}function mG(e,n,t){return Math.max(Math.min(e,t),n)}function Ent(e,n,t,i,r){let o,l,h,f;if(n.spanGaps&&(e=e.filter(m=>!m.skip)),"monotone"===n.cubicInterpolationMode)!function knt(e,n="x"){const t=R2e(n),i=e.length,r=Array(i).fill(0),o=Array(i);let l,h,f,m=sS(e,0);for(l=0;l<i;++l)if(h=f,f=m,m=sS(e,l+1),f){if(m){const _=m[n]-f[n];r[l]=0!==_?(m[t]-f[t])/_:0}o[l]=h?m?bm(r[l-1])!==bm(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}(function Ant(e,n,t){const i=e.length;let r,o,l,h,f,m=sS(e,0);for(let _=0;_<i-1;++_)if(f=m,m=sS(e,_+1),f&&m){if(jk(n[_],0,Dnt)){t[_]=t[_+1]=0;continue}r=t[_]/n[_],o=t[_+1]/n[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(l=3/Math.sqrt(h),t[_]=r*l*n[_],t[_+1]=o*l*n[_])}})(e,r,o),function znt(e,n,t="x"){const i=R2e(t),r=e.length;let o,l,h,f=sS(e,0);for(let m=0;m<r;++m){if(l=h,h=f,f=sS(e,m+1),!h)continue;const _=h[t],b=h[i];l&&(o=(_-l[t])/3,h[`cp1${t}`]=_-o,h[`cp1${i}`]=b-o*n[m]),f&&(o=(f[t]-_)/3,h[`cp2${t}`]=_+o,h[`cp2${i}`]=b+o*n[m])}}(e,o,n)}(e,r);else{let m=i?e[e.length-1]:e[0];for(o=0,l=e.length;o<l;++o)h=e[o],f=Pnt(m,h,e[Math.min(o+1,l-(i?0:1))%l],n.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}n.capBezierPoints&&function Ont(e,n){let t,i,r,o,l,h=V6(e[0],n);for(t=0,i=e.length;t<i;++t)l=o,o=h,h=t<i-1&&V6(e[t+1],n),o&&(r=e[t],l&&(r.cp1x=mG(r.cp1x,n.left,n.right),r.cp1y=mG(r.cp1y,n.top,n.bottom)),h&&(r.cp2x=mG(r.cp2x,n.left,n.right),r.cp2y=mG(r.cp2y,n.top,n.bottom)))}(e,t)}function N2e(){return typeof window<"u"&&typeof document<"u"}function gre(e){let n=e.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function vG(e,n,t){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*n.parentNode[t])):i=e,i}const _G=e=>window.getComputedStyle(e,null),Lnt=["top","right","bottom","left"];function Y6(e,n,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=Lnt[r];i[o]=parseFloat(e[n+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function F2e(e,n){const{canvas:t,currentDevicePixelRatio:i}=n,r=_G(t),o="border-box"===r.boxSizing,l=Y6(r,"padding"),h=Y6(r,"border","width"),{x:f,y:m,box:_}=function Nnt(e,n){const t=e.native||e,i=t.touches,r=i&&i.length?i[0]:t,{offsetX:o,offsetY:l}=r;let f,m,h=!1;if(((e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot))(o,l,t.target))f=o,m=l;else{const _=n.getBoundingClientRect();f=r.clientX-_.left,m=r.clientY-_.top,h=!0}return{x:f,y:m,box:h}}(e,t),b=l.left+(_&&h.left),S=l.top+(_&&h.top);let{width:M,height:O}=n;return o&&(M-=l.width+h.width,O-=l.height+h.height),{x:Math.round((f-b)/M*t.width/i),y:Math.round((m-S)/O*t.height/i)}}const mre=e=>Math.round(10*e)/10;function B2e(e,n,t){const i=n||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=r/i,e.width=o/i;const l=e.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||l.height!==r||l.width!==o)&&(e.currentDevicePixelRatio=i,l.height=r,l.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const Vnt=function(){let e=!1;try{const n={get passive(){return e=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return e}();function V2e(e,n){const t=function Int(e,n){return _G(e).getPropertyValue(n)}(e,n),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function U6(e,n,t,i){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function Hnt(e,n,t,i){return{x:e.x+t*(n.x-e.x),y:"middle"===i?t<.5?e.y:n.y:"after"===i?t<1?e.y:n.y:t>0?n.y:e.y}}function Ynt(e,n,t,i){const r={x:e.cp2x,y:e.cp2y},o={x:n.cp1x,y:n.cp1y},l=U6(e,r,t),h=U6(r,o,t),f=U6(o,n,t),m=U6(l,h,t),_=U6(h,f,t);return U6(m,_,t)}const H2e=new Map;function eO(e,n,t){return function Unt(e,n){n=n||{};const t=e+JSON.stringify(n);let i=H2e.get(t);return i||(i=new Intl.NumberFormat(e,n),H2e.set(t,i)),i}(n,t).format(e)}function lS(e,n,t){return e?function(e,n){return{x:t=>e+e+n-t,setWidth(t){n=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(n,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,n)=>e+n,leftForLtr:(e,n)=>e}}function Y2e(e,n){let t,i;("ltr"===n||"rtl"===n)&&(t=e.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=i)}function U2e(e,n){void 0!==n&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function G2e(e){return"angle"===e?{between:$k,compare:Rtt,normalize:Pd}:{between:Uv,compare:(n,t)=>n-t,normalize:n=>n}}function W2e({start:e,end:n,count:t,loop:i,style:r}){return{start:e%t,end:n%t,loop:i&&(n-e+1)%t==0,style:r}}function j2e(e,n,t){if(!t)return[e];const{property:i,start:r,end:o}=t,l=n.length,{compare:h,between:f,normalize:m}=G2e(i),{start:_,end:b,loop:S,style:M}=function jnt(e,n,t){const{property:i,start:r,end:o}=t,{between:l,normalize:h}=G2e(i),f=n.length;let S,M,{start:m,end:_,loop:b}=e;if(b){for(m+=f,_+=f,S=0,M=f;S<M&&l(h(n[m%f][i]),r,o);++S)m--,_--;m%=f,_%=f}return _<m&&(_+=f),{start:m,end:_,loop:b,style:e.style}}(e,n,t),O=[];let V,G,X,I=!1,N=null;for(let ve=_,ye=_;ve<=b;++ve)G=n[ve%l],!G.skip&&(V=m(G[i]),V!==X&&(I=f(V,r,o),null===N&&(I||f(r,X,V)&&0!==h(r,X))&&(N=0===h(V,r)?ve:ye),null!==N&&(!I||0===h(o,V)||f(o,X,V))&&(O.push(W2e({start:N,end:ve,loop:S,count:l,style:M})),N=null),ye=ve,X=V));return null!==N&&O.push(W2e({start:N,end:b,loop:S,count:l,style:M})),O}function $2e(e,n){const t=[],i=e.segments;for(let r=0;r<i.length;r++){const o=j2e(i[r],e.points,n);o.length&&t.push(...o)}return t}function q2e(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Knt(e,n){return n&&JSON.stringify(e)!==JSON.stringify(n)}var Wv=new class Qnt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,i,r){const l=t.duration;t.listeners[r].forEach(h=>h({chart:n,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=n2e.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let f,l=o.length-1,h=!1;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(n),h=!0):(o[l]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,n,"progress")),o.length||(i.running=!1,this._notify(r,i,n,"complete"),i.initial=!1),t+=o.length}),this._lastDate=n,0===t&&(this._running=!1)}_getAnims(n){const t=this._charts;let i=t.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,i)),i}listen(n,t,i){this._getAnims(n).listeners[t].push(i)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){const t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(n){if(!this._running)return!1;const t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){const t=this._charts.get(n);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}};const Z2e="transparent",Jnt={boolean:(e,n,t)=>t>.5?n:e,color(e,n,t){const i=S2e(e||Z2e),r=i.valid&&S2e(n||Z2e);return r&&r.valid?r.mix(i,t).hexString():n},number:(e,n,t)=>e+(n-e)*t};class eit{constructor(n,t,i,r){const o=t[i];r=Jk([n.to,r,o,n.from]);const l=Jk([n.from,o,r]);this._active=!0,this._fn=n.fn||Jnt[n.type||typeof l],this._easing=Xk[n.easing]||Xk.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(n,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=Jk([n.to,t,r,n.from]),this._from=Jk([n.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const t=n-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,h=this._to;let f;if(this._active=o!==h&&(l||t<i),!this._active)return this._target[r]=h,void this._notify(!0);t<0?this._target[r]=o:(f=t/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f))}wait(){const n=this._promises||(this._promises=[]);return new Promise((t,i)=>{n.push({res:t,rej:i})})}_notify(n){const t=n?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}Mr.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const iit=Object.keys(Mr.animation);Mr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),Mr.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Mr.describe("animations",{_fallback:"animation"}),Mr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class K2e{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!Er(n))return;const t=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{const r=n[i];if(!Er(r))return;const o={};for(const l of iit)o[l]=r[l];(na(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!t.has(l))&&t.set(l,o)})})}_animateOptions(n,t){const i=t.options,r=function oit(e,n){if(!n)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=n}(n,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function rit(e,n){const t=[],i=Object.keys(n);for(let r=0;r<i.length;r++){const o=e[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}(n.options.$animations,i).then(()=>{n.options=i},()=>{}),o}_createAnimations(n,t){const i=this._properties,r=[],o=n.$animations||(n.$animations={}),l=Object.keys(t),h=Date.now();let f;for(f=l.length-1;f>=0;--f){const m=l[f];if("$"===m.charAt(0))continue;if("options"===m){r.push(...this._animateOptions(n,t));continue}const _=t[m];let b=o[m];const S=i.get(m);if(b){if(S&&b.active()){b.update(S,_,h);continue}b.cancel()}S&&S.duration?(o[m]=b=new eit(S,n,m,_),r.push(b)):n[m]=_}return r}update(n,t){if(0===this._properties.size)return void Object.assign(n,t);const i=this._createAnimations(n,t);return i.length?(Wv.add(this._chart,i),!0):void 0}}function Q2e(e,n){const t=e&&e.options||{},i=t.reverse,r=void 0===t.min?n:0,o=void 0===t.max?n:0;return{start:i?o:r,end:i?r:o}}function J2e(e,n){const t=[],i=e._getSortedDatasetMetas(n);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function e_e(e,n,t,i={}){const r=e.keys,o="single"===i.mode;let l,h,f,m;if(null!==n){for(l=0,h=r.length;l<h;++l){if(f=+r[l],f===t){if(i.all)continue;break}m=e.values[f],As(m)&&(o||0===n||bm(n)===bm(m))&&(n+=m)}return n}}function t_e(e,n){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==n.stack}function hit(e,n,t){const i=e[n]||(e[n]={});return i[t]||(i[t]={})}function n_e(e,n,t,i){for(const r of n.getMatchingVisibleMetas(i).reverse()){const o=e[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function i_e(e,n){const{chart:t,_cachedMeta:i}=e,r=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:h}=i,f=o.axis,m=l.axis,_=function cit(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}(o,l,i),b=n.length;let S;for(let M=0;M<b;++M){const O=n[M],{[f]:I,[m]:N}=O;S=(O._stacks||(O._stacks={}))[m]=hit(r,_,I),S[h]=N,S._top=n_e(S,l,!0,i.type),S._bottom=n_e(S,l,!1,i.type)}}function vre(e,n){const t=e.scales;return Object.keys(t).filter(i=>t[i].axis===n).shift()}function tO(e,n){const t=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){n=n||e._parsed;for(const r of n){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][t])return;delete o[i][t]}}}const _re=e=>"reset"===e||"none"===e,r_e=(e,n)=>n?e:Object.assign({},e);let jv=(()=>{class e{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=t_e(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&tO(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(S,M,O,I)=>"x"===S?M:"r"===S?I:O,l=i.xAxisID=Qi(r.xAxisID,vre(t,"x")),h=i.yAxisID=Qi(r.yAxisID,vre(t,"y")),f=i.rAxisID=Qi(r.rAxisID,vre(t,"r")),m=i.indexAxis,_=i.iAxisID=o(m,l,h,f),b=i.vAxisID=o(m,h,l,f);i.xScale=this.getScaleForId(l),i.yScale=this.getScaleForId(h),i.rScale=this.getScaleForId(f),i.iScale=this.getScaleForId(_),i.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&P2e(this._data,this),t._stacked&&tO(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Er(i))this._data=function lit(e){const n=Object.keys(e),t=new Array(n.length);let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i],t[i]={x:o,y:e[o]};return t}(i);else if(r!==i){if(r){P2e(r,this);const o=this._cachedMeta;tO(o),o._parsed=[]}i&&Object.isExtensible(i)&&function vnt(e,n){e._chartjs?e._chartjs.listeners.push(n):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),D2e.forEach(t=>{const i="_onData"+Jie(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return e._chartjs.listeners.forEach(h=>{"function"==typeof h[i]&&h[i](...o)}),l}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const l=i._stacked;i._stacked=t_e(i.vScale,i),i.stack!==r.stack&&(o=!0,tO(i),i.stack=r.stack),this._resyncElements(t),(o||l!==i._stacked)&&i_e(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:o}=this,{iScale:l,_stacked:h}=r,f=l.axis;let b,S,M,m=0===t&&i===o.length||r._sorted,_=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,M=o;else{M=na(o[t])?this.parseArrayData(r,o,t,i):Er(o[t])?this.parseObjectData(r,o,t,i):this.parsePrimitiveData(r,o,t,i);const O=()=>null===S[f]||_&&S[f]<_[f];for(b=0;b<i;++b)r._parsed[b+t]=S=M[b],m&&(O()&&(m=!1),_=S);r._sorted=m}h&&i_e(this,M)}parsePrimitiveData(t,i,r,o){const{iScale:l,vScale:h}=t,f=l.axis,m=h.axis,_=l.getLabels(),b=l===h,S=new Array(o);let M,O,I;for(M=0,O=o;M<O;++M)I=M+r,S[M]={[f]:b||l.parse(_[I],I),[m]:h.parse(i[I],I)};return S}parseArrayData(t,i,r,o){const{xScale:l,yScale:h}=t,f=new Array(o);let m,_,b,S;for(m=0,_=o;m<_;++m)b=m+r,S=i[b],f[m]={x:l.parse(S[0],b),y:h.parse(S[1],b)};return f}parseObjectData(t,i,r,o){const{xScale:l,yScale:h}=t,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,_=new Array(o);let b,S,M,O;for(b=0,S=o;b<S;++b)M=b+r,O=i[M],_[b]={x:l.parse(N6(O,f),M),y:h.parse(N6(O,m),M)};return _}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const l=this._cachedMeta,h=i[t.axis];return e_e({keys:J2e(this.chart,!0),values:i._stacks[t.axis]},h,l.index,{mode:r})}updateRangeFromParsed(t,i,r,o){const l=r[i.axis];let h=null===l?NaN:l;const f=o&&r._stacks[i.axis];o&&f&&(o.values=f,h=e_e(o,l,this._cachedMeta.index)),t.min=Math.min(t.min,h),t.max=Math.max(t.max,h)}getMinMax(t,i){const r=this._cachedMeta,o=r._parsed,l=r._sorted&&t===r.iScale,h=o.length,f=this._getOtherScale(t),m=((e,n,t)=>e&&!n.hidden&&n._stacked&&{keys:J2e(this.chart,!0),values:null})(i,r),_={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:S}=function uit(e){const{min:n,max:t,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(f);let M,O;function I(){O=o[M];const N=O[f.axis];return!As(O[t.axis])||b>N||S<N}for(M=0;M<h&&(I()||(this.updateRangeFromParsed(_,t,O,m),!l));++M);if(l)for(M=h-1;M>=0;--M)if(!I()){this.updateRangeFromParsed(_,t,O,m);break}return _}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let o,l,h;for(o=0,l=i.length;o<l;++o)h=i[o][t.axis],As(h)&&r.push(h);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,o=i.vScale,l=this.getParsed(t);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function sit(e){let n,t,i,r;return Er(e)?(n=e.top,t=e.right,i=e.bottom,r=e.left):n=t=i=r=e,{top:n,right:t,bottom:i,left:r,disabled:!1===e}}(Qi(this.options.clip,function ait(e,n,t){if(!1===t)return!1;const i=Q2e(e,t),r=Q2e(n,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,o=r.data||[],l=this.chart.chartArea,h=[],f=this._drawStart||0,m=this._drawCount||o.length-f,_=this.options.drawActiveElementsOnTop;let b;for(r.dataset&&r.dataset.draw(t,l,f,m),b=f;b<f+m;++b){const S=o[b];S.hidden||(S.active&&_?h.push(S):S.draw(t,l))}for(b=0;b<h.length;++b)h[b].draw(t,l)}getStyle(t,i){const r=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const o=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const h=this._cachedMeta.data[t];l=h.$context||(h.$context=function fit(e,n,t){return Y4(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}(this.getContext(),t,h)),l.parsed=this.getParsed(t),l.raw=o.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=function dit(e,n){return Y4(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!i,l.mode=r,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const o="active"===i,l=this._cachedDataOpts,h=t+"-"+i,f=l[h],m=this.enableOptionSharing&&ep(r);if(f)return r_e(f,m);const _=this.chart.config,b=_.datasetElementScopeKeys(this._type,t),S=o?[`${t}Hover`,"hover",t,""]:[t,""],M=_.getOptionScopes(this.getDataset(),b),O=Object.keys(Mr.elements[t]),N=_.resolveNamedOptions(M,O,()=>this.getContext(r,o),S);return N.$shared&&(N.$shared=m,l[h]=Object.freeze(r_e(N,m))),N}_resolveAnimations(t,i,r){const o=this.chart,l=this._cachedDataOpts,h=`animation-${i}`,f=l[h];if(f)return f;let m;if(!1!==o.options.animation){const b=this.chart.config,S=b.datasetAnimationScopeKeys(this._type,i),M=b.getOptionScopes(this.getDataset(),S);m=b.createResolver(M,this.getContext(t,r,i))}const _=new K2e(o,m&&m.animations);return m&&m._cacheable&&(l[h]=Object.freeze(_)),_}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||_re(t)||this.chart._animationsDisabled}updateElement(t,i,r,o){_re(o)?Object.assign(t,r):this._resolveAnimations(i,o).update(t,r)}updateSharedOptions(t,i,r){t&&!_re(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,o){t.active=o;const l=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(t,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[f,m,_]of this._syncList)this[f](m,_);this._syncList=[];const o=r.length,l=i.length,h=Math.min(l,o);h&&this.parse(0,h),l>o?this._insertElements(o,l-o,t):l<o&&this._removeElements(l,o-l)}_insertElements(t,i,r=!0){const o=this._cachedMeta,l=o.data,h=t+i;let f;const m=_=>{for(_.length+=i,f=_.length-1;f>=h;f--)_[f]=_[f-i]};for(m(l),f=t;f<h;++f)l[f]=new this.dataElementType;this._parsing&&m(o._parsed),this.parse(t,i),r&&this.updateElements(l,t,i,"reset")}updateElements(t,i,r,o){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(t,i);r._stacked&&tO(r,o)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,o]=t;this[i](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e.defaults={},e})();function mit(e){const n=e.iScale,t=function git(e,n){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(n);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(e));e._cache.$bar=A2e(i.sort((r,o)=>r-o))}return e._cache.$bar}(n,e.type);let r,o,l,h,i=n._length;const f=()=>{32767===l||-32768===l||(ep(h)&&(i=Math.min(i,Math.abs(l-h)||i)),h=l)};for(r=0,o=t.length;r<o;++r)l=n.getPixelForValue(t[r]),f();for(h=void 0,r=0,o=n.ticks.length;r<o;++r)l=n.getPixelForTick(r),f();return i}function o_e(e,n,t,i){return na(e)?function yit(e,n,t,i){const r=t.parse(e[0],i),o=t.parse(e[1],i),l=Math.min(r,o),h=Math.max(r,o);let f=l,m=h;Math.abs(l)>Math.abs(h)&&(f=h,m=l),n[t.axis]=m,n._custom={barStart:f,barEnd:m,start:r,end:o,min:l,max:h}}(e,n,t,i):n[t.axis]=t.parse(e,i),n}function a_e(e,n,t,i){const r=e.iScale,o=e.vScale,l=r.getLabels(),h=r===o,f=[];let m,_,b,S;for(m=t,_=t+i;m<_;++m)S=n[m],b={},b[r.axis]=h||r.parse(l[m],m),f.push(o_e(S,b,o,m));return f}function yre(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Cit(e,n,t,i){let r=n.borderSkipped;const o={};if(!r)return void(e.borderSkipped=o);const{start:l,end:h,reverse:f,top:m,bottom:_}=function bit(e){let n,t,i,r,o;return e.horizontal?(n=e.base>e.x,t="left",i="right"):(n=e.base<e.y,t="bottom",i="top"),n?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:n,top:r,bottom:o}}(e);"middle"===r&&t&&(e.enableBorderRadius=!0,(t._top||0)===i?r=m:(t._bottom||0)===i?r=_:(o[s_e(_,l,h,f)]=!0,r=m)),o[s_e(r,l,h,f)]=!0,e.borderSkipped=o}function s_e(e,n,t,i){return i?(e=function wit(e,n,t){return e===n?t:e===t?n:e}(e,n,t),e=l_e(e,t,n)):e=l_e(e,n,t),e}function l_e(e,n,t){return"start"===e?n:"end"===e?t:e}function Sit(e,{inflateAmount:n},t){e.inflateAmount="auto"===n?1===t?.33:0:n}jv.prototype.datasetElementType=null,jv.prototype.dataElementType=null;let c_e=(()=>{class e extends jv{parsePrimitiveData(t,i,r,o){return a_e(t,i,r,o)}parseArrayData(t,i,r,o){return a_e(t,i,r,o)}parseObjectData(t,i,r,o){const{iScale:l,vScale:h}=t,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,_="x"===l.axis?f:m,b="x"===h.axis?f:m,S=[];let M,O,I,N;for(M=r,O=r+o;M<O;++M)N=i[M],I={},I[l.axis]=l.parse(N6(N,_),M),S.push(o_e(N6(N,b),I,h,M));return S}updateRangeFromParsed(t,i,r,o){super.updateRangeFromParsed(t,i,r,o);const l=r._custom;l&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:o}=i,l=this.getParsed(t),h=l._custom,f=yre(h)?"["+h.start+", "+h.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+r.getLabelForValue(l[r.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,o){const l="reset"===o,{index:h,_cachedMeta:{vScale:f}}=this,m=f.getBasePixel(),_=f.isHorizontal(),b=this._getRuler(),S=this.resolveDataElementOptions(i,o),M=this.getSharedOptions(S),O=this.includeOptions(o,M);this.updateSharedOptions(M,o,S);for(let I=i;I<i+r;I++){const N=this.getParsed(I),V=l||Zr(N[f.axis])?{base:m,head:m}:this._calculateBarValuePixels(I),G=this._calculateBarIndexPixels(I,b),X=(N._stacks||{})[f.axis],K={horizontal:_,base:V.base,enableBorderRadius:!X||yre(N._custom)||h===X._top||h===X._bottom,x:_?V.head:G.center,y:_?G.center:V.head,height:_?G.size:Math.abs(V.size),width:_?Math.abs(V.size):G.size};O&&(K.options=M||this.resolveDataElementOptions(I,t[I].active?"active":o));const ne=K.options||t[I].options;Cit(K,ne,X,h),Sit(K,ne,b.ratio),this.updateElement(t[I],I,K,o)}}_getStacks(t,i){const o=this._cachedMeta.iScale,l=o.getMatchingVisibleMetas(this._type),h=o.options.stacked,f=l.length,m=[];let _,b;for(_=0;_<f;++_)if(b=l[_],b.controller.options.grouped){if(typeof i<"u"){const S=b.controller.getParsed(i)[b.controller._cachedMeta.vScale.axis];if(Zr(S)||isNaN(S))continue}if((!1===h||-1===m.indexOf(b.stack)||void 0===h&&void 0===b.stack)&&m.push(b.stack),b.index===t)break}return m.length||m.push(void 0),m}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const o=this._getStacks(t,r),l=void 0!==i?o.indexOf(i):-1;return-1===l?o.length-1:l}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,o=[];let l,h;for(l=0,h=i.data.length;l<h;++l)o.push(r.getPixelForValue(this.getParsed(l)[r.axis],l));const f=t.barThickness;return{min:f||mit(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:f?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:o,minBarLength:l}}=this,h=o||0,f=this.getParsed(t),m=f._custom,_=yre(m);let O,I,b=f[i.axis],S=0,M=r?this.applyStack(i,f,r):b;M!==b&&(S=M-b,M=b),_&&(b=m.barStart,M=m.barEnd-m.barStart,0!==b&&bm(b)!==bm(m.barEnd)&&(S=0),S+=b);const N=Zr(o)||_?S:o;let V=i.getPixelForValue(N);if(O=this.chart.getDataVisibility(t)?i.getPixelForValue(S+M):V,I=O-V,Math.abs(I)<l&&(I=function xit(e,n,t){return 0!==e?bm(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}(I,i,h)*l,b===h&&(V-=I/2),O=V+I),V===i.getPixelForValue(h)){const G=bm(I)*i.getLineWidthForValue(h)/2;V+=G,I-=G}return{size:I,base:V,head:O,center:O+I/2}}_calculateBarIndexPixels(t,i){const r=i.scale,o=this.options,l=o.skipNull,h=Qi(o.maxBarThickness,1/0);let f,m;if(i.grouped){const _=l?this._getStackCount(t):i.stackCount,b="flex"===o.barThickness?function _it(e,n,t,i){const r=n.pixels,o=r[e];let l=e>0?r[e-1]:null,h=e<r.length-1?r[e+1]:null;const f=t.categoryPercentage;null===l&&(l=o-(null===h?n.end-n.start:h-o)),null===h&&(h=o+o-l);const m=o-(o-Math.min(l,h))/2*f;return{chunk:Math.abs(h-l)/2*f/i,ratio:t.barPercentage,start:m}}(t,i,o,_):function vit(e,n,t,i){const r=t.barThickness;let o,l;return Zr(r)?(o=n.min*t.categoryPercentage,l=t.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:n.pixels[e]-o/2}}(t,i,o,_),S=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0);f=b.start+b.chunk*S+b.chunk/2,m=Math.min(h,b.chunk*b.ratio)}else f=r.getPixelForValue(this.getParsed(t)[r.axis],t),m=Math.min(h,i.min*i.ratio);return{base:f-m/2,head:f+m/2,center:f,size:m}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,o=r.length;let l=0;for(;l<o;++l)null!==this.getParsed(l)[i.axis]&&r[l].draw(this._ctx)}}return e.id="bar",e.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},e.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},e})(),u_e=(()=>{class e extends jv{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,o){const l=super.parsePrimitiveData(t,i,r,o);for(let h=0;h<l.length;h++)l[h]._custom=this.resolveDataElementOptions(h+r).radius;return l}parseArrayData(t,i,r,o){const l=super.parseArrayData(t,i,r,o);for(let h=0;h<l.length;h++)l[h]._custom=Qi(i[r+h][2],this.resolveDataElementOptions(h+r).radius);return l}parseObjectData(t,i,r,o){const l=super.parseObjectData(t,i,r,o);for(let h=0;h<l.length;h++){const f=i[r+h];l[h]._custom=Qi(f&&f.r&&+f.r,this.resolveDataElementOptions(h+r).radius)}return l}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,{xScale:r,yScale:o}=i,l=this.getParsed(t),h=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y),m=l._custom;return{label:i.label,value:"("+h+", "+f+(m?", "+m:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,o){const l="reset"===o,{iScale:h,vScale:f}=this._cachedMeta,m=this.resolveDataElementOptions(i,o),_=this.getSharedOptions(m),b=this.includeOptions(o,_),S=h.axis,M=f.axis;for(let O=i;O<i+r;O++){const I=t[O],N=!l&&this.getParsed(O),V={},G=V[S]=l?h.getPixelForDecimal(.5):h.getPixelForValue(N[S]),X=V[M]=l?f.getBasePixel():f.getPixelForValue(N[M]);V.skip=isNaN(G)||isNaN(X),b&&(V.options=this.resolveDataElementOptions(O,I.active?"active":o),l&&(V.options.radius=0)),this.updateElement(I,O,V,o)}this.updateSharedOptions(_,o,m)}resolveDataElementOptions(t,i){const r=this.getParsed(t);let o=super.resolveDataElementOptions(t,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const l=o.radius;return"active"!==i&&(o.radius=0),o.radius+=Qi(r&&r._custom,l),o}}return e.id="bubble",e.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},e.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},e})(),xre=(()=>{class e extends jv{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let h,f,l=m=>+r[m];if(Er(r[t])){const{key:m="value"}=this._parsing;l=_=>+N6(r[_],m)}for(h=t,f=t+i;h<f;++h)o._parsed[h]=l(h)}}_getRotation(){return Rg(this.options.rotation-90)}_getCircumference(){return Rg(this.options.circumference)}_getRotationExtents(){let t=Wo,i=-Wo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const o=this.chart.getDatasetMeta(r).controller,l=o._getRotation(),h=o._getCircumference();t=Math.min(t,l),i=Math.max(i,l+h)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,l=o.data,h=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,f=Math.max((Math.min(r.width,r.height)-h)/2,0),m=Math.min(((e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/n)(this.options.cutout,f),1),_=this._getRingWeight(this.index),{circumference:b,rotation:S}=this._getRotationExtents(),{ratioX:M,ratioY:O,offsetX:I,offsetY:N}=function Tit(e,n,t){let i=1,r=1,o=0,l=0;if(n<Wo){const h=e,f=h+n,m=Math.cos(h),_=Math.sin(h),b=Math.cos(f),S=Math.sin(f),M=(X,K,ne)=>$k(X,h,f,!0)?1:Math.max(K,K*t,ne,ne*t),O=(X,K,ne)=>$k(X,h,f,!0)?-1:Math.min(K,K*t,ne,ne*t),I=M(0,m,b),N=M(ls,_,S),V=O(Aa,m,b),G=O(Aa+ls,_,S);i=(I-V)/2,r=(N-G)/2,o=-(I+V)/2,l=-(N+G)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}(S,b,m),X=Math.max(Math.min((r.width-h)/M,(r.height-h)/O)/2,0),K=r2e(this.options.radius,X),ie=(K-Math.max(K*m,0))/this._getVisibleDatasetWeightTotal();this.offsetX=I*K,this.offsetY=N*K,o.total=this.calculateTotal(),this.outerRadius=K-ie*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ie*_,0),this.updateElements(l,0,l.length,t)}_circumference(t,i){const r=this.options,o=this._cachedMeta,l=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*l/Wo)}updateElements(t,i,r,o){const l="reset"===o,h=this.chart,f=h.chartArea,b=(f.left+f.right)/2,S=(f.top+f.bottom)/2,M=l&&h.options.animation.animateScale,O=M?0:this.innerRadius,I=M?0:this.outerRadius,N=this.resolveDataElementOptions(i,o),V=this.getSharedOptions(N),G=this.includeOptions(o,V);let K,X=this._getRotation();for(K=0;K<i;++K)X+=this._circumference(K,l);for(K=i;K<i+r;++K){const ne=this._circumference(K,l),ie=t[K],pe={x:b+this.offsetX,y:S+this.offsetY,startAngle:X,endAngle:X+ne,circumference:ne,outerRadius:I,innerRadius:O};G&&(pe.options=V||this.resolveDataElementOptions(K,ie.active?"active":o)),X+=ne,this.updateElement(ie,K,pe,o)}this.updateSharedOptions(V,o,N)}calculateTotal(){const t=this._cachedMeta,i=t.data;let o,r=0;for(o=0;o<i.length;o++){const l=t._parsed[o];null!==l&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(l))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?Wo*(Math.abs(t)/i):0}getLabelAndValue(t){const r=this.chart,o=r.data.labels||[],l=eO(this._cachedMeta._parsed[t],r.options.locale);return{label:o[t]||"",value:l}}getMaxBorderWidth(t){let i=0;const r=this.chart;let o,l,h,f,m;if(!t)for(o=0,l=r.data.datasets.length;o<l;++o)if(r.isDatasetVisible(o)){h=r.getDatasetMeta(o),t=h.data,f=h.controller;break}if(!t)return 0;for(o=0,l=t.length;o<l;++o)m=f.resolveDataElementOptions(o),"inner"!==m.borderAlign&&(i=Math.max(i,m.borderWidth||0,m.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,o=t.length;r<o;++r){const l=this.resolveDataElementOptions(r);i=Math.max(i,l.offset||0,l.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Qi(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e.id="doughnut",e.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},e.descriptors={_scriptable:n=>"spacing"!==n,_indexable:n=>"spacing"!==n},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=n.legend.options;return t.labels.map((r,o)=>{const h=n.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,lineWidth:h.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(o),index:o}})}return[]}},onClick(n,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(n){let t=n.label;const i=": "+n.formattedValue;return na(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},e})(),bre=(()=>{class e extends jv{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:l}=i,h=this.chart._animationsDisabled;let{start:f,count:m}=function Mit(e,n,t){const i=n.length;let r=0,o=i;if(e._sorted){const{iScale:l,_parsed:h}=e,f=l.axis,{min:m,max:_,minDefined:b,maxDefined:S}=l.getUserBounds();b&&(r=Kl(Math.min(Gv(h,l.axis,m).lo,t?i:Gv(n,f,l.getPixelForValue(m)).lo),0,i-1)),o=S?Kl(Math.max(Gv(h,l.axis,_).hi+1,t?0:Gv(n,f,l.getPixelForValue(_)).hi+1),r,i)-r:i-r}return{start:r,count:o}}(i,o,h);this._drawStart=f,this._drawCount=m,function Dit(e){const{xScale:n,yScale:t,_scaleRanges:i}=e,r={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!i)return e._scaleRanges=r,!0;const o=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),o}(i)&&(f=0,m=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=o;const _=this.resolveDatasetElementOptions(t);this.options.showLine||(_.borderWidth=0),_.segment=this.options.segment,this.updateElement(r,void 0,{animated:!h,options:_},t),this.updateElements(o,f,m,t)}updateElements(t,i,r,o){const l="reset"===o,{iScale:h,vScale:f,_stacked:m,_dataset:_}=this._cachedMeta,b=this.resolveDataElementOptions(i,o),S=this.getSharedOptions(b),M=this.includeOptions(o,S),O=h.axis,I=f.axis,{spanGaps:N,segment:V}=this.options,G=Wk(N)?N:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||l||"none"===o;let K=i>0&&this.getParsed(i-1);for(let ne=i;ne<i+r;++ne){const ie=t[ne],pe=this.getParsed(ne),ve=X?ie:{},ye=Zr(pe[I]),Se=ve[O]=h.getPixelForValue(pe[O],ne),xe=ve[I]=l||ye?f.getBasePixel():f.getPixelForValue(m?this.applyStack(f,pe,m):pe[I],ne);ve.skip=isNaN(Se)||isNaN(xe)||ye,ve.stop=ne>0&&pe[O]-K[O]>G,V&&(ve.parsed=pe,ve.raw=_.data[ne]),M&&(ve.options=S||this.resolveDataElementOptions(ne,ie.active?"active":o)),X||this.updateElement(ie,ne,ve,o),K=pe}this.updateSharedOptions(S,o,b)}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,o=t.data||[];if(!o.length)return r;const l=o[0].size(this.resolveDataElementOptions(0)),h=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,l,h)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return e.id="line",e.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},e.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},e})(),h_e=(()=>{class e extends jv{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,o=r.data.labels||[],l=eO(this._cachedMeta._parsed[t].r,r.options.locale);return{label:o[t]||"",value:l}}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,o=Math.min(i.right-i.left,i.bottom-i.top),l=Math.max(o/2,0),f=(l-Math.max(r.cutoutPercentage?l/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=l-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(t,i,r,o){const l="reset"===o,h=this.chart,f=this.getDataset(),_=h.options.animation,b=this._cachedMeta.rScale,S=b.xCenter,M=b.yCenter,O=b.getIndexAngle(0)-.5*Aa;let N,I=O;const V=360/this.countVisibleElements();for(N=0;N<i;++N)I+=this._computeAngle(N,o,V);for(N=i;N<i+r;N++){const G=t[N];let X=I,K=I+this._computeAngle(N,o,V),ne=h.getDataVisibility(N)?b.getDistanceFromCenterForValue(f.data[N]):0;I=K,l&&(_.animateScale&&(ne=0),_.animateRotate&&(X=K=O));const ie={x:S,y:M,innerRadius:0,outerRadius:ne,startAngle:X,endAngle:K,options:this.resolveDataElementOptions(N,G.active?"active":o)};this.updateElement(G,N,ie,o)}}countVisibleElements(){const t=this.getDataset();let r=0;return this._cachedMeta.data.forEach((o,l)=>{!isNaN(t.data[l])&&this.chart.getDataVisibility(l)&&r++}),r}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Rg(this.resolveDataElementOptions(t,i).angle||r):0}}return e.id="polarArea",e.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=n.legend.options;return t.labels.map((r,o)=>{const h=n.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,lineWidth:h.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(o),index:o}})}return[]}},onClick(n,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:n=>n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},e})(),d_e=(()=>{class e extends xre{}return e.id="pie",e.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},e})(),f_e=(()=>{class e extends jv{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}update(t){const i=this._cachedMeta,r=i.dataset,o=i.data||[],l=i.iScale.getLabels();if(r.points=o,"resize"!==t){const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:l.length===o.length,options:h},t)}this.updateElements(o,0,o.length,t)}updateElements(t,i,r,o){const l=this.getDataset(),h=this._cachedMeta.rScale,f="reset"===o;for(let m=i;m<i+r;m++){const _=t[m],b=this.resolveDataElementOptions(m,_.active?"active":o),S=h.getPointPositionForValue(m,l.data[m]),M=f?h.xCenter:S.x,O=f?h.yCenter:S.y,I={x:M,y:O,angle:S.angle,skip:isNaN(M)||isNaN(O),options:b};this.updateElement(_,m,I,o)}}}return e.id="radar",e.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},e.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},e})(),p_e=(()=>{class e extends bre{}return e.id="scatter",e.defaults={showLine:!1,fill:!1},e.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:n=>"("+n.label+", "+n.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},e})();function G6(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ait={_date:(()=>{class e{constructor(t){this.options=t||{}}formats(){return G6()}parse(t,i){return G6()}format(t,i){return G6()}add(t,i,r){return G6()}diff(t,i,r){return G6()}startOf(t,i,r){return G6()}endOf(t,i){return G6()}}return e.override=function(n){Object.assign(e.prototype,n)},e})()};function nO(e,n){return"native"in e?{x:e.x,y:e.y}:F2e(e,n)}function kit(e,n,t,i){const{controller:r,data:o,_sorted:l}=e,h=r._cachedMeta.iScale;if(h&&n===h.axis&&"r"!==n&&l&&o.length){const f=h._reversePixels?gnt:Gv;if(!i)return f(o,n,t);if(r._sharedOptions){const m=o[0],_="function"==typeof m.getRange&&m.getRange(n);if(_){const b=f(o,n,t-_),S=f(o,n,t+_);return{lo:b.lo,hi:S.hi}}}}return{lo:0,hi:o.length-1}}function Cre(e,n,t,i,r){const o=e.getSortedVisibleDatasetMetas(),l=t[n];for(let h=0,f=o.length;h<f;++h){const{index:m,data:_}=o[h],{lo:b,hi:S}=kit(o[h],n,l,r);for(let M=b;M<=S;++M){const O=_[M];O.skip||i(O,m,M)}}}function wre(e,n,t,i){const r=[];return V6(n,e.chartArea,e._minPadding)&&Cre(e,t,n,function(l,h,f){l.inRange(n.x,n.y,i)&&r.push({element:l,datasetIndex:h,index:f})},!0),r}function Sre(e,n,t,i,r){return V6(n,e.chartArea,e._minPadding)?"r"!==t||i?function Iit(e,n,t,i,r){let o=[];const l=function Oit(e){const n=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(i,r){const o=n?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}(t);let h=Number.POSITIVE_INFINITY;return Cre(e,t,n,function f(m,_,b){const S=m.inRange(n.x,n.y,r);if(i&&!S)return;const M=m.getCenterPoint(r);if(!V6(M,e.chartArea,e._minPadding)&&!S)return;const I=l(n,M);I<h?(o=[{element:m,datasetIndex:_,index:b}],h=I):I===h&&o.push({element:m,datasetIndex:_,index:b})}),o}(e,n,t,i,r):function Eit(e,n,t,i){let r=[];return Cre(e,t,n,function o(l,h,f){const{startAngle:m,endAngle:_}=l.getProps(["startAngle","endAngle"],i),{angle:b}=d2e(l,{x:n.x,y:n.y});$k(b,m,_)&&r.push({element:l,datasetIndex:h,index:f})}),r}(e,n,t,r):[]}function g_e(e,n,t,i){const r=nO(n,e),o=[],l=t.axis,h="x"===l?"inXRange":"inYRange";let f=!1;return function zit(e,n){const t=e.getSortedVisibleDatasetMetas();let i,r,o;for(let l=0,h=t.length;l<h;++l){({index:i,data:r}=t[l]);for(let f=0,m=r.length;f<m;++f)o=r[f],o.skip||n(o,i,f)}}(e,(m,_,b)=>{m[h](r[l],i)&&o.push({element:m,datasetIndex:_,index:b}),m.inRange(r.x,r.y,i)&&(f=!0)}),t.intersect&&!f?[]:o}var Lit={modes:{index(e,n,t,i){const r=nO(n,e),o=t.axis||"x",l=t.intersect?wre(e,r,o,i):Sre(e,r,o,!1,i),h=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const m=l[0].index,_=f.data[m];_&&!_.skip&&h.push({element:_,datasetIndex:f.index,index:m})}),h):[]},dataset(e,n,t,i){const r=nO(n,e),o=t.axis||"xy";let l=t.intersect?wre(e,r,o,i):Sre(e,r,o,!1,i);if(l.length>0){const h=l[0].datasetIndex,f=e.getDatasetMeta(h).data;l=[];for(let m=0;m<f.length;++m)l.push({element:f[m],datasetIndex:h,index:m})}return l},point:(e,n,t,i)=>wre(e,nO(n,e),t.axis||"xy",i),nearest:(e,n,t,i)=>Sre(e,nO(n,e),t.axis||"xy",t.intersect,i),x:(e,n,t,i)=>g_e(e,n,{axis:"x",intersect:t.intersect},i),y:(e,n,t,i)=>g_e(e,n,{axis:"y",intersect:t.intersect},i)}};const m_e=["left","top","right","bottom"];function iO(e,n){return e.filter(t=>t.pos===n)}function v_e(e,n){return e.filter(t=>-1===m_e.indexOf(t.pos)&&t.box.axis===n)}function rO(e,n){return e.sort((t,i)=>{const r=n?i:t,o=n?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function __e(e,n,t,i){return Math.max(e[t],n[t])+Math.max(e[i],n[i])}function y_e(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function Vit(e,n,t,i){const{pos:r,box:o}=t,l=e.maxPadding;if(!Er(r)){t.size&&(e[r]-=t.size);const b=i[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?o.height:o.width),t.size=b.size/b.count,e[r]+=t.size}o.getPadding&&y_e(l,o.getPadding());const h=Math.max(0,n.outerWidth-__e(l,e,"left","right")),f=Math.max(0,n.outerHeight-__e(l,e,"top","bottom")),m=h!==e.w,_=f!==e.h;return e.w=h,e.h=f,t.horizontal?{same:m,other:_}:{same:_,other:m}}function Yit(e,n){const t=n.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(n[l],t[l])}),o}(e?["left","right"]:["top","bottom"])}function oO(e,n,t,i){const r=[];let o,l,h,f,m,_;for(o=0,l=e.length,m=0;o<l;++o){h=e[o],f=h.box,f.update(h.width||n.w,h.height||n.h,Yit(h.horizontal,n));const{same:b,other:S}=Vit(n,t,h,i);m|=b&&r.length,_=_||S,f.fullSize||r.push(h)}return m&&oO(r,n,t,i)||_}function yG(e,n,t,i,r){e.top=t,e.left=n,e.right=n+i,e.bottom=t+r,e.width=i,e.height=r}function x_e(e,n,t,i){const r=t.padding;let{x:o,y:l}=n;for(const h of e){const f=h.box,m=i[h.stack]||{count:1,placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const b=n.w*_,S=m.size||f.height;ep(m.start)&&(l=m.start),f.fullSize?yG(f,r.left,l,t.outerWidth-r.right-r.left,S):yG(f,n.left+m.placed,l,b,S),m.start=l,m.placed+=b,l=f.bottom}else{const b=n.h*_,S=m.size||f.width;ep(m.start)&&(o=m.start),f.fullSize?yG(f,o,r.top,S,t.outerHeight-r.bottom-r.top):yG(f,o,n.top+m.placed,S,b),m.start=o,m.placed+=b,o=f.right}}n.x=o,n.y=l}Mr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var eu={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){const t=e.boxes?e.boxes.indexOf(n):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,i){if(!e)return;const r=Jc(e.options.layout.padding),o=Math.max(n-r.width,0),l=Math.max(t-r.height,0),h=function Bit(e){const n=function Rit(e){const n=[];let t,i,r,o,l,h;for(t=0,i=(e||[]).length;t<i;++t)r=e[t],({position:o,options:{stack:l,stackWeight:h=1}}=r),n.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:h});return n}(e),t=rO(n.filter(m=>m.box.fullSize),!0),i=rO(iO(n,"left"),!0),r=rO(iO(n,"right")),o=rO(iO(n,"top"),!0),l=rO(iO(n,"bottom")),h=v_e(n,"x"),f=v_e(n,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(h),chartArea:iO(n,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(h)}}(e.boxes),f=h.vertical,m=h.horizontal;Po(e.boxes,I=>{"function"==typeof I.beforeLayout&&I.beforeLayout()});const _=f.reduce((I,N)=>N.box.options&&!1===N.box.options.display?I:I+1,0)||1,b=Object.freeze({outerWidth:n,outerHeight:t,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/_,hBoxMaxHeight:l/2}),S=Object.assign({},r);y_e(S,Jc(i));const M=Object.assign({maxPadding:S,w:o,h:l,x:r.left,y:r.top},r),O=function Fit(e,n){const t=function Nit(e){const n={};for(const t of e){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!m_e.includes(r))continue;const l=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return n}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=n;let o,l,h;for(o=0,l=e.length;o<l;++o){h=e[o];const{fullSize:f}=h.box,m=t[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:f&&n.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&n.availableHeight)}return t}(f.concat(m),b);oO(h.fullSize,M,b,O),oO(f,M,b,O),oO(m,M,b,O)&&oO(f,M,b,O),function Hit(e){const n=e.maxPadding;function t(i){const r=Math.max(n[i]-e[i],0);return e[i]+=r,r}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(M),x_e(h.leftAndTop,M,b,O),M.x+=M.w,M.y+=M.h,x_e(h.rightAndBottom,M,b,O),e.chartArea={left:M.left,top:M.top,right:M.left+M.w,bottom:M.top+M.h,height:M.h,width:M.w},Po(h.chartArea,I=>{const N=I.box;Object.assign(N,e.chartArea),N.update(M.w,M.h,{left:0,top:0,right:0,bottom:0})})}};class b_e{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,i){}removeEventListener(n,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,i,r){return t=Math.max(0,t||n.width),i=i||n.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(n){return!0}updateConfig(n){}}class Uit extends b_e{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const xG="$chartjs",Git={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},C_e=e=>null===e||""===e,w_e=!!Vnt&&{passive:!0};function $it(e,n,t){e.canvas.removeEventListener(n,t,w_e)}function bG(e,n){for(const t of e)if(t===n||t.contains(n))return!0}function qit(e,n,t){const i=e.canvas,r=new MutationObserver(o=>{let l=!1;for(const h of o)l=l||bG(h.addedNodes,i),l=l&&!bG(h.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Zit(e,n,t){const i=e.canvas,r=new MutationObserver(o=>{let l=!1;for(const h of o)l=l||bG(h.removedNodes,i),l=l&&!bG(h.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const aO=new Map;let S_e=0;function T_e(){const e=window.devicePixelRatio;e!==S_e&&(S_e=e,aO.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function Jit(e,n,t){const i=e.canvas,r=i&&gre(i);if(!r)return;const o=i2e((h,f)=>{const m=r.clientWidth;t(h,f),m<r.clientWidth&&t()},window),l=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,_=f.contentRect.height;0===m&&0===_||o(m,_)});return l.observe(r),function Kit(e,n){aO.size||window.addEventListener("resize",T_e),aO.set(e,n)}(e,o),l}function Tre(e,n,t){t&&t.disconnect(),"resize"===n&&function Qit(e){aO.delete(e),aO.size||window.removeEventListener("resize",T_e)}(e)}function ert(e,n,t){const i=e.canvas,r=i2e(o=>{null!==e.ctx&&t(function Xit(e,n){const t=Git[e.type]||e.type,{x:i,y:r}=F2e(e,n);return{type:t,chart:n,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,e))},e,o=>{const l=o[0];return[l,l.offsetX,l.offsetY]});return function jit(e,n,t){e.addEventListener(n,t,w_e)}(i,n,r),r}class trt extends b_e{acquireContext(n,t){const i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(function Wit(e,n){const t=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[xG]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",C_e(r)){const o=V2e(e,"width");void 0!==o&&(e.width=o)}if(C_e(i))if(""===e.style.height)e.height=e.width/(n||2);else{const o=V2e(e,"height");void 0!==o&&(e.height=o)}}(n,t),i):null}releaseContext(n){const t=n.canvas;if(!t[xG])return!1;const i=t[xG].initial;["height","width"].forEach(o=>{const l=i[o];Zr(l)?t.removeAttribute(o):t.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[xG],!0}addEventListener(n,t,i){this.removeEventListener(n,t),(n.$proxies||(n.$proxies={}))[t]=({attach:qit,detach:Zit,resize:Jit}[t]||ert)(n,t,i)}removeEventListener(n,t){const i=n.$proxies||(n.$proxies={}),r=i[t];r&&(({attach:Tre,detach:Tre,resize:Tre}[t]||$it)(n,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,i,r){return function Bnt(e,n,t,i){const r=_G(e),o=Y6(r,"margin"),l=vG(r.maxWidth,e,"clientWidth")||rG,h=vG(r.maxHeight,e,"clientHeight")||rG,f=function Fnt(e,n,t){let i,r;if(void 0===n||void 0===t){const o=gre(e);if(o){const l=o.getBoundingClientRect(),h=_G(o),f=Y6(h,"border","width"),m=Y6(h,"padding");n=l.width-m.width-f.width,t=l.height-m.height-f.height,i=vG(h.maxWidth,o,"clientWidth"),r=vG(h.maxHeight,o,"clientHeight")}else n=e.clientWidth,t=e.clientHeight}return{width:n,height:t,maxWidth:i||rG,maxHeight:r||rG}}(e,n,t);let{width:m,height:_}=f;if("content-box"===r.boxSizing){const b=Y6(r,"border","width"),S=Y6(r,"padding");m-=S.width+b.width,_-=S.height+b.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?Math.floor(m/i):_-o.height),m=mre(Math.min(m,l,f.maxWidth)),_=mre(Math.min(_,h,f.maxHeight)),m&&!_&&(_=mre(m/2)),{width:m,height:_}}(n,t,i,r)}isAttached(n){const t=gre(n);return!(!t||!t.isConnected)}}class Ng{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){const{x:t,y:i}=this.getProps(["x","y"],n);return{x:t,y:i}}hasValue(){return Wk(this.x)&&Wk(this.y)}getProps(n,t){const i=this.$animations;if(!t||!i)return this;const r={};return n.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Ng.defaults={},Ng.defaultRoutes=void 0;const M_e={values:e=>na(e)?e:""+e,numeric(e,n,t){if(0===e)return"0";const i=this.chart.options.locale;let r,o=e;if(t.length>1){const m=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=function irt(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const l=tp(Math.abs(o)),h=Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),eO(e,i,f)},logarithmic(e,n,t){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(tp(e)));return 1===i||2===i||5===i?M_e.numeric.call(this,e,n,t):""}};var CG={formatters:M_e};function wG(e,n,t,i,r){const o=Qi(i,0),l=Math.min(Qi(r,e.length),e.length);let f,m,_,h=0;for(t=Math.ceil(t),r&&(f=r-i,t=f/Math.floor(f/t)),_=o;_<0;)h++,_=Math.round(o+h*t);for(m=Math.max(o,0);m<l;m++)m===_&&(n.push(e[m]),h++,_=Math.round(o+h*t))}Mr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:CG.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Mr.route("scale.ticks","color","","color"),Mr.route("scale.grid","color","","borderColor"),Mr.route("scale.grid","borderColor","","borderColor"),Mr.route("scale.title","color","","color"),Mr.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),Mr.describe("scales",{_fallback:"scale"}),Mr.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const D_e=(e,n,t)=>"top"===n||"left"===n?e[n]+t:e[n]-t;function P_e(e,n){const t=[],i=e.length/n,r=e.length;let o=0;for(;o<r;o+=i)t.push(e[Math.floor(o)]);return t}function hrt(e,n,t){const i=e.ticks.length,r=Math.min(n,i-1),o=e._startPixel,l=e._endPixel,h=1e-6;let m,f=e.getPixelForTick(r);if(!(t&&(m=1===i?Math.max(f-o,l-f):0===n?(e.getPixelForTick(1)-f)/2:(f-e.getPixelForTick(r-1))/2,f+=r<n?m:-m,f<o-h||f>l+h)))return f}function sO(e){return e.drawTicks?e.tickLength:0}function A_e(e,n){if(!e.display)return 0;const t=yl(e.font,n),i=Jc(e.padding);return(na(e.text)?e.text.length:1)*t.lineHeight+i.height}function grt(e,n,t){let i=Qie(e);return(t&&"right"!==n||!t&&"right"===n)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class W6 extends Ng{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return n=Jf(n,Number.POSITIVE_INFINITY),t=Jf(t,Number.NEGATIVE_INFINITY),i=Jf(i,Number.POSITIVE_INFINITY),r=Jf(r,Number.NEGATIVE_INFINITY),{min:Jf(n,i),max:Jf(t,r),minDefined:As(n),maxDefined:As(t)}}getMinMax(n){let l,{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:t,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)l=h[f].controller.getMinMax(this,n),r||(t=Math.min(t,l.min)),o||(i=Math.max(i,l.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:Jf(t,Jf(i,t)),max:Jf(i,Jf(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ia(this.options.beforeUpdate,[this])}update(n,t,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,h=l.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function pnt(e,n,t){const{min:i,max:r}=e,o=r2e(n,(r-i)/2),l=(h,f)=>t&&0===h?0:h+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?P_e(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=function rrt(e,n){const t=e.options.ticks,i=t.maxTicksLimit||function ort(e){const n=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(n?0:1),e._maxLength/t))}(e),r=t.major.enabled?function srt(e){const n=[];let t,i;for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(n):[],o=r.length,l=r[0],h=r[o-1],f=[];if(o>i)return function lrt(e,n,t,i){let l,r=0,o=t[0];for(i=Math.ceil(i),l=0;l<e.length;l++)l===o&&(n.push(e[l]),r++,o=t[r*i])}(n,f,r,o/i),f;const m=function art(e,n,t){const i=function crt(e){const n=e.length;let t,i;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),r=n.length/t;if(!i)return Math.max(r,1);const o=function Itt(e){const n=[],t=Math.sqrt(e);let i;for(i=1;i<t;i++)e%i==0&&(n.push(i),n.push(e/i));return t===(0|t)&&n.push(t),n.sort((r,o)=>r-o).pop(),n}(i);for(let l=0,h=o.length-1;l<h;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}(r,n,i);if(o>0){let _,b;const S=o>1?Math.round((h-l)/(o-1)):null;for(wG(n,f,m,Zr(S)?0:l-S,l),_=0,b=o-1;_<b;_++)wG(n,f,m,r[_],r[_+1]);return wG(n,f,m,h,Zr(S)?n.length:h+S),f}return wG(n,f,m),f}(this,this.ticks),this._labelSizes=null),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,n=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,n=!n),this._startPixel=t,this._endPixel=i,this._reversePixels=n,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ia(this.options.afterUpdate,[this])}beforeSetDimensions(){ia(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ia(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),ia(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ia(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const t=this.options.ticks;let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i],o.label=ia(t.callback,[o.value,i,n],this)}afterTickToLabelConversion(){ia(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ia(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,t=n.ticks,i=this.ticks.length,r=t.minRotation||0,o=t.maxRotation;let h,f,m,l=r;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const _=this._getLabelSizes(),b=_.widest.width,S=_.highest.height,M=Kl(this.chart.width-b,0,this.maxWidth);h=n.offset?this.maxWidth/i:M/(i-1),b+6>h&&(h=M/(i-(n.offset?.5:1)),f=this.maxHeight-sO(n.grid)-t.padding-A_e(n.title,this.chart.options.font),m=Math.sqrt(b*b+S*S),l=ere(Math.min(Math.asin(Kl((_.highest.height+6)/h,-1,1)),Math.asin(Kl(f/m,-1,1))-Math.asin(Kl(S/m,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ia(this.options.afterCalculateLabelRotation,[this])}beforeFit(){ia(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),h=this.isHorizontal();if(l){const f=A_e(r,t.options.font);if(h?(n.width=this.maxWidth,n.height=sO(o)+f):(n.height=this.maxHeight,n.width=sO(o)+f),i.display&&this.ticks.length){const{first:m,last:_,widest:b,highest:S}=this._getLabelSizes(),M=2*i.padding,O=Rg(this.labelRotation),I=Math.cos(O),N=Math.sin(O);h?n.height=Math.min(this.maxHeight,n.height+(i.mirror?0:N*b.width+I*S.height)+M):n.width=Math.min(this.maxWidth,n.width+(i.mirror?0:I*b.width+N*S.height)+M),this._calculatePadding(m,_,N,I)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,i,r){const{ticks:{align:o,padding:l},position:h}=this.options,f=0!==this.labelRotation,m="top"!==h&&"x"===this.axis;if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,M=0;f?m?(S=r*n.width,M=i*t.height):(S=i*n.height,M=r*t.width):"start"===o?M=t.width:"end"===o?S=n.width:(S=n.width/2,M=t.width/2),this.paddingLeft=Math.max((S-_+l)*this.width/(this.width-_),0),this.paddingRight=Math.max((M-b+l)*this.width/(this.width-b),0)}else{let _=t.height/2,b=n.height/2;"start"===o?(_=0,b=n.height):"end"===o&&(_=t.height,b=0),this.paddingTop=_+l,this.paddingBottom=b+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ia(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:t}=this.options;return"top"===t||"bottom"===t||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),t=0,i=n.length;t<i;t++)Zr(n[t].label)&&(n.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=P_e(i,t)),this._labelSizes=n=this._computeLabelSizes(i,i.length)}return n}_computeLabelSizes(n,t){const{ctx:i,_longestTextCache:r}=this,o=[],l=[];let m,_,b,S,M,O,I,N,V,G,X,h=0,f=0;for(m=0;m<t;++m){if(S=n[m].label,M=this._resolveTickFontOptions(m),i.font=O=M.string,I=r[O]=r[O]||{data:{},gc:[]},N=M.lineHeight,V=G=0,Zr(S)||na(S)){if(na(S))for(_=0,b=S.length;_<b;++_)X=S[_],!Zr(X)&&!na(X)&&(V=hG(i,I.data,I.gc,V,X),G+=N)}else V=hG(i,I.data,I.gc,V,S),G=N;o.push(V),l.push(G),h=Math.max(V,h),f=Math.max(G,f)}!function drt(e,n){Po(e,t=>{const i=t.gc,r=i.length/2;let o;if(r>n){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}(r,t);const K=o.indexOf(h),ne=l.indexOf(f),ie=pe=>({width:o[pe]||0,height:l[pe]||0});return{first:ie(0),last:ie(t-1),widest:ie(K),highest:ie(ne),widths:o,heights:l}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const t=this._startPixel+n*this._length;return function Ntt(e){return Kl(e,-32768,32767)}(this._alignToPixels?B6(this.chart,t,0):t)}getDecimalForPixel(n){const t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){const t=this.ticks||[];if(n>=0&&n<t.length){const i=t[n];return i.$context||(i.$context=function prt(e,n,t){return Y4(e,{tick:t,index:n,type:"tick"})}(this.getContext(),n,i))}return this.$context||(this.$context=function frt(e,n){return Y4(e,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,t=Rg(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=n.autoSkipPadding||0,h=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:l}=r,h=o.offset,f=this.isHorizontal(),_=this.ticks.length+(h?1:0),b=sO(o),S=[],M=o.setContext(this.getContext()),O=M.drawBorder?M.borderWidth:0,I=O/2,N=function(ke){return B6(i,ke,O)};let V,G,X,K,ne,ie,pe,ve,ye,Se,xe,De;if("top"===l)V=N(this.bottom),ie=this.bottom-b,ve=V-I,Se=N(n.top)+I,De=n.bottom;else if("bottom"===l)V=N(this.top),Se=n.top,De=N(n.bottom)-I,ie=V+I,ve=this.top+b;else if("left"===l)V=N(this.right),ne=this.right-b,pe=V-I,ye=N(n.left)+I,xe=n.right;else if("right"===l)V=N(this.left),ye=n.left,xe=N(n.right)-I,ne=V+I,pe=this.left+b;else if("x"===t){if("center"===l)V=N((n.top+n.bottom)/2+.5);else if(Er(l)){const ke=Object.keys(l)[0];V=N(this.chart.scales[ke].getPixelForValue(l[ke]))}Se=n.top,De=n.bottom,ie=V+I,ve=ie+b}else if("y"===t){if("center"===l)V=N((n.left+n.right)/2);else if(Er(l)){const ke=Object.keys(l)[0];V=N(this.chart.scales[ke].getPixelForValue(l[ke]))}ne=V-I,pe=ne-b,ye=n.left,xe=n.right}const Pe=Qi(r.ticks.maxTicksLimit,_),Re=Math.max(1,Math.ceil(_/Pe));for(G=0;G<_;G+=Re){const ke=o.setContext(this.getContext(G)),Oe=ke.lineWidth,Ye=ke.color,Ge=o.borderDash||[],ct=ke.borderDashOffset,We=ke.tickWidth,Tt=ke.tickColor,Lt=ke.tickBorderDash||[],An=ke.tickBorderDashOffset;X=hrt(this,G,h),void 0!==X&&(K=B6(i,X,Oe),f?ne=pe=ye=xe=K:ie=ve=Se=De=K,S.push({tx1:ne,ty1:ie,tx2:pe,ty2:ve,x1:ye,y1:Se,x2:xe,y2:De,width:Oe,color:Ye,borderDash:Ge,borderDashOffset:ct,tickWidth:We,tickColor:Tt,tickBorderDash:Lt,tickBorderDashOffset:An}))}return this._ticksLength=_,this._borderValue=V,S}_computeLabelItems(n){const t=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:_,mirror:b}=o,S=sO(i.grid),M=S+_,O=b?-_:M,I=-Rg(this.labelRotation),N=[];let V,G,X,K,ne,ie,pe,ve,ye,Se,xe,De,Pe="middle";if("top"===r)ie=this.bottom-O,pe=this._getXAxisLabelAlignment();else if("bottom"===r)ie=this.top+O,pe=this._getXAxisLabelAlignment();else if("left"===r){const ke=this._getYAxisLabelAlignment(S);pe=ke.textAlign,ne=ke.x}else if("right"===r){const ke=this._getYAxisLabelAlignment(S);pe=ke.textAlign,ne=ke.x}else if("x"===t){if("center"===r)ie=(n.top+n.bottom)/2+M;else if(Er(r)){const ke=Object.keys(r)[0];ie=this.chart.scales[ke].getPixelForValue(r[ke])+M}pe=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)ne=(n.left+n.right)/2-M;else if(Er(r)){const ke=Object.keys(r)[0];ne=this.chart.scales[ke].getPixelForValue(r[ke])}pe=this._getYAxisLabelAlignment(S).textAlign}"y"===t&&("start"===f?Pe="top":"end"===f&&(Pe="bottom"));const Re=this._getLabelSizes();for(V=0,G=h.length;V<G;++V){X=h[V],K=X.label;const ke=o.setContext(this.getContext(V));ve=this.getPixelForTick(V)+o.labelOffset,ye=this._resolveTickFontOptions(V),Se=ye.lineHeight,xe=na(K)?K.length:1;const Oe=xe/2,Ye=ke.color,Ge=ke.textStrokeColor,ct=ke.textStrokeWidth;let We;if(l?(ne=ve,De="top"===r?"near"===m||0!==I?-xe*Se+Se/2:"center"===m?-Re.highest.height/2-Oe*Se+Se:Se/2-Re.highest.height:"near"===m||0!==I?Se/2:"center"===m?Re.highest.height/2-Oe*Se:Re.highest.height-xe*Se,b&&(De*=-1)):(ie=ve,De=(1-xe)*Se/2),ke.showLabelBackdrop){const Tt=Jc(ke.backdropPadding),Lt=Re.heights[V],An=Re.widths[V];let Qt=ie+De-Tt.top,zn=ne-Tt.left;switch(Pe){case"middle":Qt-=Lt/2;break;case"bottom":Qt-=Lt}switch(pe){case"center":zn-=An/2;break;case"right":zn-=An}We={left:zn,top:Qt,width:An+Tt.width,height:Lt+Tt.height,color:ke.backdropColor}}N.push({rotation:I,label:K,font:ye,color:Ye,strokeColor:Ge,strokeWidth:ct,textOffset:De,textAlign:pe,textBaseline:Pe,translation:[ne,ie],backdrop:We})}return N}_getXAxisLabelAlignment(){const{position:n,ticks:t}=this.options;if(-Rg(this.labelRotation))return"top"===n?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align&&(r="right"),r}_getYAxisLabelAlignment(n){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,h=n+o,f=this._getLabelSizes().widest.width;let m,_;return"left"===t?r?(_=this.right+o,"near"===i?m="left":"center"===i?(m="center",_+=f/2):(m="right",_+=f)):(_=this.right-h,"near"===i?m="right":"center"===i?(m="center",_-=f/2):(m="left",_=this.left)):"right"===t?r?(_=this.left+o,"near"===i?m="right":"center"===i?(m="center",_-=f/2):(m="left",_-=f)):(_=this.left+h,"near"===i?m="left":"center"===i?(m="center",_+=f/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:t},left:i,top:r,width:o,height:l}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(i,r,o,l),n.restore())}getLineWidthForValue(n){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===n);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(n){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let o,l;const h=(f,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(t.display)for(o=0,l=r.length;o<l;++o){const f=r[o];t.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:t,options:{grid:i}}=this,r=i.setContext(this.getContext()),o=i.drawBorder?r.borderWidth:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,m,_,b;this.isHorizontal()?(f=B6(n,this.left,o)-o/2,m=B6(n,this.right,l)+l/2,_=b=h):(_=B6(n,this.top,o)-o/2,b=B6(n,this.bottom,l)+l/2,f=m=h),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(f,_),t.lineTo(m,b),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&fG(i,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(n));let l,h;for(l=0,h=o.length;l<h;++l){const f=o[l],m=f.font,_=f.label;f.backdrop&&(i.fillStyle=f.backdrop.color,i.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height)),H6(i,_,0,f.textOffset,m,f)}r&&pG(i)}drawTitle(){const{ctx:n,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=yl(i.font),l=Jc(i.padding),h=i.align;let f=o.lineHeight/2;"bottom"===t||"center"===t||Er(t)?(f+=l.bottom,na(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:m,titleY:_,maxWidth:b,rotation:S}=function mrt(e,n,t,i){const{top:r,left:o,bottom:l,right:h,chart:f}=e,{chartArea:m,scales:_}=f;let S,M,O,b=0;const I=l-r,N=h-o;if(e.isHorizontal()){if(M=Qc(i,o,h),Er(t)){const V=Object.keys(t)[0];O=_[V].getPixelForValue(t[V])+I-n}else O="center"===t?(m.bottom+m.top)/2+I-n:D_e(e,t,n);S=h-o}else{if(Er(t)){const V=Object.keys(t)[0];M=_[V].getPixelForValue(t[V])-N+n}else M="center"===t?(m.left+m.right)/2-N+n:D_e(e,t,n);O=Qc(i,l,r),b="left"===t?-ls:ls}return{titleX:M,titleY:O,maxWidth:S,rotation:b}}(this,f,t,h);H6(n,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:S,textAlign:grt(h,t,r),textBaseline:"middle",translation:[m,_]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,t=n.ticks&&n.ticks.z||0,i=Qi(n.grid&&n.grid.z,-1);return this._isVisible()&&this.draw===W6.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]:[{z:t,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(n){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=t.length;o<l;++o){const h=t[o];h[i]===this.id&&(!n||h.type===n)&&r.push(h)}return r}_resolveTickFontOptions(n){return yl(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class SG{constructor(n,t,i){this.type=n,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const t=Object.getPrototypeOf(n);let i;(function yrt(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const r=this.items,o=n.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in r||(r[o]=n,function vrt(e,n,t){const i=Yk(Object.create(null),[t?Mr.get(t):{},Mr.get(n),e.defaults]);Mr.set(n,i),e.defaultRoutes&&function _rt(e,n){Object.keys(n).forEach(t=>{const i=t.split("."),r=i.pop(),o=[e].concat(i).join("."),l=n[t].split("."),h=l.pop(),f=l.join(".");Mr.route(o,r,f,h)})}(n,e.defaultRoutes),e.descriptors&&Mr.describe(n,e.descriptors)}(n,l,i),this.override&&Mr.override(n.id,n.overrides)),l}get(n){return this.items[n]}unregister(n){const t=this.items,i=n.id,r=this.scope;i in t&&delete t[i],r&&i in Mr[r]&&(delete Mr[r][i],this.override&&delete F6[i])}}var $v=new class xrt{constructor(){this.controllers=new SG(jv,"datasets",!0),this.elements=new SG(Ng,"elements"),this.plugins=new SG(Object,"plugins"),this.scales=new SG(W6,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(n,o,r):Po(r,l=>{const h=i||this._getRegistryForType(l);this._exec(n,h,l)})})}_exec(n,t,i){const r=Jie(n);ia(i["before"+r],[],i),t[n](i),ia(i["after"+r],[],i)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(n))return i}return this.plugins}_get(n,t,i){const r=t.get(n);if(void 0===r)throw new Error('"'+n+'" is not a registered '+i+".");return r}};class brt{constructor(){this._init=[]}notify(n,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const o=r?this._descriptors(n).filter(r):this._descriptors(n),l=this._notify(o,n,t,i);return"afterDestroy"===t&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall")),l}_notify(n,t,i,r){r=r||{};for(const o of n){const l=o.plugin;if(!1===ia(l[i],[t,r,o.options],l)&&r.cancelable)return!1}return!0}invalidate(){Zr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){const i=n&&n.config,r=Qi(i.options&&i.options.plugins,{}),o=function Crt(e){const n=[],t=Object.keys($v.plugins.items);for(let r=0;r<t.length;r++)n.push($v.getPlugin(t[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];-1===n.indexOf(o)&&n.push(o)}return n}(i);return!1!==r||t?function Srt(e,n,t,i){const r=[],o=e.getContext();for(let l=0;l<n.length;l++){const h=n[l],m=wrt(t[h.id],i);null!==m&&r.push({plugin:h,options:Trt(e.config,h,m,o)})}return r}(n,o,r,t):[]}_notifyStateChanges(n){const t=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(h=>!l.some(f=>h.plugin.id===f.plugin.id));this._notify(r(t,i),n,"stop"),this._notify(r(i,t),n,"start")}}function wrt(e,n){return n||!1!==e?!0===e?{}:e:null}function Trt(e,n,t,i){const r=e.pluginScopeKeys(n),o=e.getOptionScopes(t,r);return e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mre(e,n){return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||(Mr.datasets[e]||{}).indexAxis||"x"}function Dre(e,n){return"x"===e||"y"===e?e:n.axis||function Prt(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}(n.position)||e.charAt(0).toLowerCase()}function z_e(e){const n=e.options||(e.options={});n.plugins=Qi(n.plugins,{}),n.scales=function Art(e,n){const t=F6[e.type]||{scales:{}},i=n.scales||{},r=Mre(e.type,n),o=Object.create(null),l=Object.create(null);return Object.keys(i).forEach(h=>{const f=i[h];if(!Er(f))return console.error(`Invalid scale configuration for scale: ${h}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);const m=Dre(h,f),_=function Drt(e,n){return e===n?"_index_":"_value_"}(m,r),b=t.scales||{};o[m]=o[m]||h,l[h]=Uk(Object.create(null),[{axis:m},f,b[m],b[_]])}),e.data.datasets.forEach(h=>{const f=h.type||e.type,m=h.indexAxis||Mre(f,n),b=(F6[f]||{}).scales||{};Object.keys(b).forEach(S=>{const M=function Mrt(e,n){let t=e;return"_index_"===e?t=n:"_value_"===e&&(t="x"===n?"y":"x"),t}(S,m),O=h[M+"AxisID"]||o[M]||M;l[O]=l[O]||Object.create(null),Uk(l[O],[{axis:M},i[O],b[S]])})}),Object.keys(l).forEach(h=>{const f=l[h];Uk(f,[Mr.scales[f.type],Mr.scale])}),l}(e,n)}function k_e(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const O_e=new Map,E_e=new Set;function TG(e,n){let t=O_e.get(e);return t||(t=n(),O_e.set(e,t),E_e.add(t)),t}const lO=(e,n,t)=>{const i=N6(n,t);void 0!==i&&e.add(i)};class krt{constructor(n){this._config=function zrt(e){return(e=e||{}).data=k_e(e.data),z_e(e),e}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=k_e(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),z_e(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return TG(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return TG(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return TG(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){const t=n.id;return TG(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){const i=this._scopeCache;let r=i.get(n);return(!r||t)&&(r=new Map,i.set(n,r)),r}getOptionScopes(n,t,i){const{options:r,type:o}=this,l=this._cachedScopes(n,i),h=l.get(t);if(h)return h;const f=new Set;t.forEach(_=>{n&&(f.add(n),_.forEach(b=>lO(f,n,b))),_.forEach(b=>lO(f,r,b)),_.forEach(b=>lO(f,F6[o]||{},b)),_.forEach(b=>lO(f,Mr,b)),_.forEach(b=>lO(f,lre,b))});const m=Array.from(f);return 0===m.length&&m.push(Object.create(null)),E_e.has(t)&&l.set(t,m),m}chartOptionScopes(){const{options:n,type:t}=this;return[n,F6[t]||{},Mr.datasets[t]||{},{type:t},Mr,lre]}resolveNamedOptions(n,t,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:h}=I_e(this._resolverCache,n,r);let f=l;(function Ert(e,n){const{isScriptable:t,isIndexable:i}=z2e(e);for(const r of n){const o=t(r),l=i(r),h=(l||o)&&e[r];if(o&&(H4(h)||Ort(h))||l&&na(h))return!0}return!1})(l,t)&&(o.$shared=!1,f=aS(l,i=H4(i)?i():i,this.createResolver(n,i,h)));for(const m of t)o[m]=f[m];return o}createResolver(n,t,i=[""],r){const{resolver:o}=I_e(this._resolverCache,n,i);return Er(t)?aS(o,t,void 0,r):o}}function I_e(e,n,t){let i=e.get(n);i||(i=new Map,e.set(n,i));const r=t.join();let o=i.get(r);return o||(o={resolver:dre(n,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const Ort=e=>Er(e)&&Object.getOwnPropertyNames(e).reduce((n,t)=>n||H4(e[t]),!1),Lrt=["top","bottom","left","right","chartArea"];function L_e(e,n){return"top"===e||"bottom"===e||-1===Lrt.indexOf(e)&&"x"===n}function R_e(e,n){return function(t,i){return t[e]===i[e]?t[n]-i[n]:t[e]-i[e]}}function N_e(e){const n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),ia(t&&t.onComplete,[e],n)}function Rrt(e){const n=e.chart,t=n.options.animation;ia(t&&t.onProgress,[e],n)}function F_e(e){return N2e()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const MG={},B_e=e=>{const n=F_e(e);return Object.values(MG).filter(t=>t.canvas===n).pop()};function Nrt(e,n,t){const i=Object.keys(e);for(const r of i){const o=+r;if(o>=n){const l=e[r];delete e[r],(t>0||o>n)&&(e[o+t]=l)}}}class DG{constructor(n,t){const i=this.config=new krt(t),r=F_e(n),o=B_e(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function nrt(e){return!N2e()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Uit:trt}(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,l.aspectRatio),f=h&&h.canvas,m=f&&f.height,_=f&&f.width;this.id=Ttt(),this.ctx=h,this.canvas=f,this.width=_,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new brt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function wtt(e,n){let t;return function(...i){return n?(clearTimeout(t),t=setTimeout(e,n,i)):e.apply(this,i),n}}(b=>this.update(b),l.resizeDelay||0),this._dataChanges=[],MG[this.id]=this,h&&f?(Wv.listen(this,"complete",N_e),Wv.listen(this,"progress",Rrt),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return Zr(n)?t&&o?o:r?i/r:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():B2e(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return T2e(this.canvas,this.ctx),this}stop(){return Wv.stop(this),this}resize(n,t){Wv.running(this)?this._resizeBeforeDraw={width:n,height:t}:this._resize(n,t)}_resize(n,t){const i=this.options,l=this.platform.getMaximumSize(this.canvas,n,t,i.maintainAspectRatio&&this.aspectRatio),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,B2e(this,h,!0)&&(this.notifyPlugins("resize",{size:l}),ia(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){Po(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const n=this.options,t=n.scales,i=this.scales,r=Object.keys(i).reduce((l,h)=>(l[h]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const h=t[l],f=Dre(l,h),m="r"===f,_="x"===f;return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),Po(o,l=>{const h=l.options,f=h.id,m=Dre(f,h),_=Qi(h.type,l.dtype);(void 0===h.position||L_e(h.position,m)!==L_e(l.dposition))&&(h.position=l.dposition),r[f]=!0;let b=null;f in i&&i[f].type===_?b=i[f]:(b=new($v.getScale(_))({id:f,type:_,ctx:this.ctx,chart:this}),i[b.id]=b),b.init(h,n)}),Po(r,(l,h)=>{l||delete i[h]}),Po(i,l=>{eu.configure(this,l,l.options),eu.addBox(this,l)})}_updateMetasets(){const n=this._metasets,t=this.data.datasets.length,i=n.length;if(n.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);n.splice(t,i-t)}this._sortedMetasets=n.slice(0).sort(R_e("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:t}}=this;n.length>t.length&&delete this._stacks,n.forEach((i,r)=>{0===t.filter(o=>o===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const n=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let l=this.getDatasetMeta(i);const h=o.type||this.config.type;if(l.type&&l.type!==h&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=h,l.indexAxis=o.indexAxis||Mre(h,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=$v.getController(h),{datasetElementType:m,dataElementType:_}=Mr.datasets[h];Object.assign(f.prototype,{dataElementType:$v.getElement(_),datasetElementType:m&&$v.getElement(m)}),l.controller=new f(this,i),n.push(l.controller)}}return this._updateMetasets(),n}_resetElements(){Po(this.data.datasets,(n,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:b}=this.getDatasetMeta(m),S=!r&&-1===o.indexOf(b);b.buildOrUpdateElements(S),l=Math.max(+b.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Po(o,m=>{m.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(R_e("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Po(this.scales,n=>{eu.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(n.events);(!s2e(t,i)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t)Nrt(n,r,"_removeElements"===i?-o:o)}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(n.filter(l=>l[0]===o).map((l,h)=>h+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!s2e(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;eu.update(this,this.width,this.height,n);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Po(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,H4(n)?n({datasetIndex:t}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,t){const i=this.getDatasetMeta(n),r={meta:i,index:n,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wv.has(this)?this.attached&&!Wv.running(this)&&Wv.start(this):(this.draw(),N_e({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(n=0;n<t.length&&t[n].z<=0;++n)t[n].draw(this.chartArea);for(this._drawDatasets();n<t.length;++n)t[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const l=t[r];(!n||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const n=this.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t)this._drawDataset(n[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const t=this.ctx,i=n._clip,r=!i.disabled,o=this.chartArea,l={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(r&&fG(t,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),n.controller.draw(),r&&pG(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}getElementsAtEventForMode(n,t,i,r){const o=Lit.modes[t];return"function"==typeof o?o(this,n,i,r):[]}getDatasetMeta(n){const t=this.data.datasets[n],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:n,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Y4(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const t=this.data.datasets[n];if(!t)return!1;const i=this.getDatasetMeta(n);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(n,t){this.getDatasetMeta(n).hidden=!t}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(n),l=o.controller._resolveAnimations(void 0,r);ep(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),l.update(o,{visible:i}),this.update(h=>h.datasetIndex===n?r:void 0))}hide(n,t){this._updateVisibility(n,t,!1)}show(n,t){this._updateVisibility(n,t,!0)}_destroyDatasetMeta(n){const t=this._metasets[n];t&&t.controller&&t.controller._destroy(),delete this._metasets[n]}_stop(){let n,t;for(this.stop(),Wv.remove(this),n=0,t=this.data.datasets.length;n<t;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:t}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),T2e(n,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete MG[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,t=this.platform,i=(o,l)=>{t.addEventListener(this,o,l),n[o]=l},r=(o,l,h)=>{o.offsetX=l,o.offsetY=h,this._eventHandler(o)};Po(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,t=this.platform,i=(f,m)=>{t.addEventListener(this,f,m),n[f]=m},r=(f,m)=>{n[f]&&(t.removeEventListener(this,f,m),delete n[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let l;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},t.isAttached(this.canvas)?h():l()}unbindEvents(){Po(this._listeners,(n,t)=>{this.platform.removeEventListener(this,t,n)}),this._listeners={},Po(this._responsiveListeners,(n,t)=>{this.platform.removeEventListener(this,t,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,t,i){const r=i?"set":"remove";let o,l,h,f;for("dataset"===t&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=n.length;h<f;++h){l=n[h];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const t=this._active||[],i=n.map(({datasetIndex:o,index:l})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[l],index:l}});!nG(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(n,t,i){return this._plugins.notify(this,n,t,i)}_updateHoverStyles(n,t,i){const r=this.options.hover,o=(f,m)=>f.filter(_=>!m.some(b=>_.datasetIndex===b.datasetIndex&&_.index===b.index)),l=o(t,n),h=i?n:o(n,t);l.length&&this.updateHoverStyle(l,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(n,t){const i={event:n,replay:t,cancelable:!0,inChartArea:V6(n,this.chartArea,this._minPadding)},r=l=>(l.options.events||this.options.events).includes(n.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const o=this._handleEvent(n,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(n,t,i){const{_active:r=[],options:o}=this,h=this._getActiveElements(n,r,i,t),f=function ktt(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(n),m=function Frt(e,n,t,i){return t&&"mouseout"!==e.type?i?n:e:null}(n,this._lastEvent,i,f);i&&(this._lastEvent=null,ia(o.onHover,[n,h,this],this),f&&ia(o.onClick,[n,h,this],this));const _=!nG(h,r);return(_||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=m,_}_getActiveElements(n,t,i,r){if("mouseout"===n.type)return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,r)}}const V_e=()=>Po(DG.instances,e=>e._plugins.invalidate()),U4=!0;function H_e(e,n,t){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:h,innerRadius:f}=n;let m=r/h;e.beginPath(),e.arc(o,l,h,i-m,t+m),f>r?(m=r/f,e.arc(o,l,f,t+m,i-m,!0)):e.arc(o,l,r,t+ls,i-ls),e.closePath(),e.clip()}function cS(e,n,t,i){return{x:t+e*Math.cos(n),y:i+e*Math.sin(n)}}function Pre(e,n,t,i,r){const{x:o,y:l,startAngle:h,pixelMargin:f,innerRadius:m}=n,_=Math.max(n.outerRadius+i+t-f,0),b=m>0?m+i+t+f:0;let S=0;const M=r-h;if(i){const Ge=((m>0?m-i:0)+(_>0?_-i:0))/2;S=(M-(0!==Ge?M*Ge/(Ge+i):M))/2}const I=(M-Math.max(.001,M*_-t/Aa)/_)/2,N=h+I+S,V=r-I-S,{outerStart:G,outerEnd:X,innerStart:K,innerEnd:ne}=function Vrt(e,n,t,i){const r=function Brt(e){return ure(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(t-n)/2,l=Math.min(o,i*n/2),h=f=>{const m=(t-Math.min(o,f))*i/2;return Kl(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Kl(r.innerStart,0,l),innerEnd:Kl(r.innerEnd,0,l)}}(n,b,_,V-N),ie=_-G,pe=_-X,ve=N+G/ie,ye=V-X/pe,Se=b+K,xe=b+ne,De=N+K/Se,Pe=V-ne/xe;if(e.beginPath(),e.arc(o,l,_,ve,ye),X>0){const Oe=cS(pe,ye,o,l);e.arc(Oe.x,Oe.y,X,ye,V+ls)}const Re=cS(xe,V,o,l);if(e.lineTo(Re.x,Re.y),ne>0){const Oe=cS(xe,Pe,o,l);e.arc(Oe.x,Oe.y,ne,V+ls,Pe+Math.PI)}if(e.arc(o,l,b,V-ne/b,N+K/b,!0),K>0){const Oe=cS(Se,De,o,l);e.arc(Oe.x,Oe.y,K,De+Math.PI,N-ls)}const ke=cS(ie,N,o,l);if(e.lineTo(ke.x,ke.y),G>0){const Oe=cS(ie,ve,o,l);e.arc(Oe.x,Oe.y,G,N-ls,ve)}e.closePath()}Object.defineProperties(DG,{defaults:{enumerable:U4,value:Mr},instances:{enumerable:U4,value:MG},overrides:{enumerable:U4,value:F6},registry:{enumerable:U4,value:$v},version:{enumerable:U4,value:"3.7.0"},getChart:{enumerable:U4,value:B_e},register:{enumerable:U4,value:(...e)=>{$v.add(...e),V_e()}},unregister:{enumerable:U4,value:(...e)=>{$v.remove(...e),V_e()}}});class cO extends Ng{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=d2e(r,{x:n,y:t}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),S=this.options.spacing/2,O=Qi(b,f-h)>=Wo||$k(o,h,f),I=Uv(l,m+S,_+S);return O&&I}getCenterPoint(n){const{x:t,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:f,spacing:m}=this.options,_=(r+o)/2,b=(l+h+m+f)/2;return{x:t+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:t,circumference:i}=this,r=(t.offset||0)/2,o=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>Wo?Math.floor(i/Wo):0,0===i||this.innerRadius<0||this.outerRadius<0)return;n.save();let l=0;if(r){l=r/2;const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*l,Math.sin(f)*l),this.circumference>=Aa&&(l=r)}n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor;const h=function Hrt(e,n,t,i){const{fullCircles:r,startAngle:o,circumference:l}=n;let h=n.endAngle;if(r){Pre(e,n,t,i,o+Wo);for(let f=0;f<r;++f)e.fill();isNaN(l)||(h=o+l%Wo,l%Wo==0&&(h+=Wo))}return Pre(e,n,t,i,h),e.fill(),h}(n,this,l,o);(function Urt(e,n,t,i,r){const{options:o}=n,{borderWidth:l,borderJoinStyle:h}=o,f="inner"===o.borderAlign;l&&(f?(e.lineWidth=2*l,e.lineJoin=h||"round"):(e.lineWidth=l,e.lineJoin=h||"bevel"),n.fullCircles&&function Yrt(e,n,t){const{x:i,y:r,startAngle:o,pixelMargin:l,fullCircles:h}=n,f=Math.max(n.outerRadius-l,0),m=n.innerRadius+l;let _;for(t&&H_e(e,n,o+Wo),e.beginPath(),e.arc(i,r,m,o+Wo,o,!0),_=0;_<h;++_)e.stroke();for(e.beginPath(),e.arc(i,r,f,o,o+Wo),_=0;_<h;++_)e.stroke()}(e,n,f),f&&H_e(e,n,r),Pre(e,n,t,i,r),e.stroke())})(n,this,l,o,h),n.restore()}}function Y_e(e,n,t=n){e.lineCap=Qi(t.borderCapStyle,n.borderCapStyle),e.setLineDash(Qi(t.borderDash,n.borderDash)),e.lineDashOffset=Qi(t.borderDashOffset,n.borderDashOffset),e.lineJoin=Qi(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=Qi(t.borderWidth,n.borderWidth),e.strokeStyle=Qi(t.borderColor,n.borderColor)}function Grt(e,n,t){e.lineTo(t.x,t.y)}function U_e(e,n,t={}){const i=e.length,{start:r=0,end:o=i-1}=t,{start:l,end:h}=n,f=Math.max(r,l),m=Math.min(o,h);return{count:i,start:f,loop:n.loop,ilen:m<f&&!(r<l&&o<l||r>h&&o>h)?i+m-f:m-f}}function jrt(e,n,t,i){const{points:r,options:o}=n,{count:l,start:h,loop:f,ilen:m}=U_e(r,t,i),_=function Wrt(e){return e.stepped?ant:e.tension||"monotone"===e.cubicInterpolationMode?snt:Grt}(o);let M,O,I,{move:b=!0,reverse:S}=i||{};for(M=0;M<=m;++M)O=r[(h+(S?m-M:M))%l],!O.skip&&(b?(e.moveTo(O.x,O.y),b=!1):_(e,I,O,S,o.stepped),I=O);return f&&(O=r[(h+(S?m:0))%l],_(e,I,O,S,o.stepped)),!!f}function $rt(e,n,t,i){const r=n.points,{count:o,start:l,ilen:h}=U_e(r,t,i),{move:f=!0,reverse:m}=i||{};let S,M,O,I,N,V,_=0,b=0;const G=K=>(l+(m?h-K:K))%o,X=()=>{I!==N&&(e.lineTo(_,N),e.lineTo(_,I),e.lineTo(_,V))};for(f&&(M=r[G(0)],e.moveTo(M.x,M.y)),S=0;S<=h;++S){if(M=r[G(S)],M.skip)continue;const K=M.x,ne=M.y,ie=0|K;ie===O?(ne<I?I=ne:ne>N&&(N=ne),_=(b*_+K)/++b):(X(),e.lineTo(K,ne),O=ie,b=0,I=N=ne),V=ne}X()}function Are(e){const n=e.options;return e._decimated||e._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?jrt:$rt}cO.id="arc",cO.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},cO.defaultRoutes={backgroundColor:"backgroundColor"};const Krt="function"==typeof Path2D;let uO=(()=>{class e extends Ng{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(Ent(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function qnt(e,n){const t=e.points,i=e.options.spanGaps,r=t.length;if(!r)return[];const o=!!e._loop,{start:l,end:h}=function $nt(e,n,t,i){let r=0,o=n-1;if(t&&!i)for(;r<n&&!e[r].skip;)r++;for(;r<n&&e[r].skip;)r++;for(r%=n,t&&(o+=r);o>r&&e[o%n].skip;)o--;return o%=n,{start:r,end:o}}(t,r,o,i);return function X2e(e,n,t,i){return i&&i.setContext&&t?function Znt(e,n,t,i){const r=e._chart.getContext(),o=q2e(e.options),{_datasetIndex:l,options:{spanGaps:h}}=e,f=t.length,m=[];let _=o,b=n[0].start,S=b;function M(O,I,N,V){const G=h?-1:1;if(O!==I){for(O+=f;t[O%f].skip;)O-=G;for(;t[I%f].skip;)I+=G;O%f!=I%f&&(m.push({start:O%f,end:I%f,loop:N,style:V}),_=V,b=I%f)}}for(const O of n){b=h?b:O.start;let N,I=t[b%f];for(S=b+1;S<=O.end;S++){const V=t[S%f];N=q2e(i.setContext(Y4(r,{type:"segment",p0:I,p1:V,p0DataIndex:(S-1)%f,p1DataIndex:S%f,datasetIndex:l}))),Knt(N,_)&&M(b,S-1,O.loop,_),I=V,_=N}b<S-1&&M(b,S-1,O.loop,_)}return m}(e,n,t,i):n}(e,!0===i?[{start:l,end:h,loop:o}]:function Xnt(e,n,t,i){const r=e.length,o=[];let f,l=n,h=e[n];for(f=n+1;f<=t;++f){const m=e[f%r];m.skip||m.stop?h.skip||(o.push({start:n%r,end:(f-1)%r,loop:i=!1}),n=l=m.stop?f:null):(l=f,h.skip&&(n=f)),h=m}return null!==l&&o.push({start:n%r,end:l%r,loop:i}),o}(t,l,h<l?h+r:h,!!e._fullLoop&&0===l&&h===r-1),t,n)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,i){const r=this.options,o=t[i],l=this.points,h=$2e(this,{property:i,start:o,end:o});if(!h.length)return;const f=[],m=function Xrt(e){return e.stepped?Hnt:e.tension||"monotone"===e.cubicInterpolationMode?Ynt:U6}(r);let _,b;for(_=0,b=h.length;_<b;++_){const{start:S,end:M}=h[_],O=l[S],I=l[M];if(O===I){f.push(O);continue}const V=m(O,I,Math.abs((o-O[i])/(I[i]-O[i])),r.stepped);V[i]=t[i],f.push(V)}return 1===f.length?f[0]:f}pathSegment(t,i,r){return Are(this)(t,this,i,r)}path(t,i,r){const o=this.segments,l=Are(this);let h=this._loop;i=i||0,r=r||this.points.length-i;for(const f of o)h&=l(t,this,f,{start:i,end:i+r-1});return!!h}draw(t,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Qrt(e,n,t,i){Krt&&!n.options.segment?function qrt(e,n,t,i){let r=n._path;r||(r=n._path=new Path2D,n.path(r,t,i)&&r.closePath()),Y_e(e,n.options),e.stroke(r)}(e,n,t,i):function Zrt(e,n,t,i){const{segments:r,options:o}=n,l=Are(n);for(const h of r)Y_e(e,o,h.style),e.beginPath(),l(e,n,h,{start:t,end:t+i-1})&&e.closePath(),e.stroke()}(e,n,t,i)}(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e.id="line",e.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},e.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e.descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n&&"fill"!==n},e})();function G_e(e,n,t,i){const r=e.options,{[t]:o}=e.getProps([t],i);return Math.abs(n-o)<r.radius+r.hitRadius}let W_e=(()=>{class e extends Ng{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.options,{x:l,y:h}=this.getProps(["x","y"],r);return Math.pow(t-l,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return G_e(this,t,"x",i)}inYRange(t,i){return G_e(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!V6(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,dG(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return e.id="point",e.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},e.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e})();function j_e(e,n){const{x:t,y:i,base:r,width:o,height:l}=e.getProps(["x","y","base","width","height"],n);let h,f,m,_,b;return e.horizontal?(b=l/2,h=Math.min(t,r),f=Math.max(t,r),m=i-b,_=i+b):(b=o/2,h=t-b,f=t+b,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:f,bottom:_}}function G4(e,n,t,i){return e?0:Kl(n,t,i)}function zre(e,n,t,i){const r=null===n,o=null===t,h=e&&!(r&&o)&&j_e(e,i);return h&&(r||Uv(n,h.left,h.right))&&(o||Uv(t,h.top,h.bottom))}function iot(e,n){e.rect(n.x,n.y,n.w,n.h)}function kre(e,n,t={}){const i=e.x!==t.x?-n:0,r=e.y!==t.y?-n:0;return{x:e.x+i,y:e.y+r,w:e.w+((e.x+e.w!==t.x+t.w?n:0)-i),h:e.h+((e.y+e.h!==t.y+t.h?n:0)-r),radius:e.radius}}class hO extends Ng{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=function tot(e){const n=j_e(e),t=n.right-n.left,i=n.bottom-n.top,r=function Jrt(e,n,t){const r=e.borderSkipped,o=M2e(e.options.borderWidth);return{t:G4(r.top,o.top,0,t),r:G4(r.right,o.right,0,n),b:G4(r.bottom,o.bottom,0,t),l:G4(r.left,o.left,0,n)}}(e,t/2,i/2),o=function eot(e,n,t){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=oS(r),l=Math.min(n,t),h=e.borderSkipped,f=i||Er(r);return{topLeft:G4(!f||h.top||h.left,o.topLeft,0,l),topRight:G4(!f||h.top||h.right,o.topRight,0,l),bottomLeft:G4(!f||h.bottom||h.left,o.bottomLeft,0,l),bottomRight:G4(!f||h.bottom||h.right,o.bottomRight,0,l)}}(e,t/2,i/2);return{outer:{x:n.left,y:n.top,w:t,h:i,radius:o},inner:{x:n.left+r.l,y:n.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),h=function not(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(l.radius)?gG:iot;n.save(),(l.w!==o.w||l.h!==o.h)&&(n.beginPath(),h(n,kre(l,t,o)),n.clip(),h(n,kre(o,-t,l)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),h(n,kre(o,t)),n.fillStyle=r,n.fill(),n.restore()}inRange(n,t,i){return zre(this,n,t,i)}inXRange(n,t){return zre(this,n,null,t)}inYRange(n,t){return zre(this,null,n,t)}getCenterPoint(n){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}}function hot(e,n,t){const i=function uot(e){const n=e.options,t=n.fill;let i=Qi(t&&t.target,t);return void 0===i&&(i=!!n.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(Er(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return As(r)&&Math.floor(r)===r?(("-"===i[0]||"+"===i[0])&&(r=n+r),!(r===n||r<0||r>=t)&&r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}hO.id="bar",hO.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},hO.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class q_e{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,i){const{x:r,y:o,radius:l}=this;return n.arc(r,o,l,(t=t||{start:0,end:Wo}).end,t.start,!0),!i.bounds}interpolate(n){const{x:t,y:i,radius:r}=this,o=n.angle;return{x:t+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function Z_e(e,n,t){for(;n>e;n--){const i=t[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function _ot(e,n,t){const i=[];for(let r=0;r<t.length;r++){const o=t[r],{first:l,last:h,point:f}=yot(o,n,"x");if(!(!f||l&&h))if(l)i.unshift(f);else if(e.push(f),!h)break}e.push(...i)}function yot(e,n,t){const i=e.interpolate(n,t);if(!i)return{};const r=i[t],o=e.segments,l=e.points;let h=!1,f=!1;for(let m=0;m<o.length;m++){const _=o[m],b=l[_.start][t],S=l[_.end][t];if(Uv(r,b,S)){h=r===b,f=r===S;break}}return{first:h,last:f,point:i}}function xot(e){const{chart:n,fill:t,line:i}=e;if(As(t))return function cot(e,n){const t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}(n,t);if("stack"===t)return function mot(e){const{scale:n,index:t,line:i}=e,r=[],o=i.segments,l=i.points,h=function vot(e,n){const t=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===n)break;o.hidden||t.unshift(o.dataset)}return t}(n,t);h.push(K_e({x:null,y:n.bottom},i));for(let f=0;f<o.length;f++){const m=o[f];for(let _=m.start;_<=m.end;_++)_ot(r,l[_],h)}return new uO({points:r,options:{}})}(e);if("shape"===t)return!0;const r=function pot(e){return(e.scale||{}).getPointPositionForValue?function fot(e){const{scale:n,fill:t}=e,i=n.options,r=n.getLabels().length,o=[],l=i.reverse?n.max:n.min;let f,m,_;if(_="start"===t?l:"end"===t?i.reverse?n.min:n.max:Er(t)?t.value:n.getBaseValue(),i.grid.circular)return m=n.getPointPositionForValue(0,l),new q_e({x:m.x,y:m.y,radius:n.getDistanceFromCenterForValue(_)});for(f=0;f<r;++f)o.push(n.getPointPositionForValue(f,_));return o}(e):function dot(e){const{scale:n={},fill:t}=e;let r,i=null;return"start"===t?i=n.bottom:"end"===t?i=n.top:Er(t)?i=n.getPixelForValue(t.value):n.getBasePixel&&(i=n.getBasePixel()),As(i)?(r=n.isHorizontal(),{x:r?i:null,y:r?null:i}):null}(e)}(e);return r instanceof q_e?r:K_e(r,i)}function K_e(e,n){let t=[],i=!1;return na(e)?(i=!0,t=e):t=function got(e,n){const{x:t=null,y:i=null}=e||{},r=n.points,o=[];return n.segments.forEach(({start:l,end:h})=>{h=Z_e(l,h,r);const f=r[l],m=r[h];null!==i?(o.push({x:f.x,y:i}),o.push({x:m.x,y:i})):null!==t&&(o.push({x:t,y:f.y}),o.push({x:t,y:m.y}))}),o}(e,n),t.length?new uO({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function bot(e,n,t){let r=e[n].fill;const o=[n];let l;if(!t)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!As(r))return r;if(l=e[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function Q_e(e,n,t){e.beginPath(),n.path(e),e.lineTo(n.last().x,t),e.lineTo(n.first().x,t),e.closePath(),e.clip()}function Ore(e,n,t,i){if(i)return;let r=n[e],o=t[e];return"angle"===e&&(r=Pd(r),o=Pd(o)),{property:e,start:r,end:o}}function J_e(e,n,t,i){return e&&n?i(e[t],n[t]):e?e[t]:n?n[t]:0}function wot(e,n,t){const{top:i,bottom:r}=n.chart.chartArea,{property:o,start:l,end:h}=t||{};"x"===o&&(e.beginPath(),e.rect(l,i,h-l,r-i),e.clip())}function e4e(e,n,t,i){const r=n.interpolate(t,i);r&&e.lineTo(r.x,r.y)}function t4e(e,n){const{line:t,target:i,property:r,color:o,scale:l}=n,h=function Cot(e,n,t){const i=e.segments,r=e.points,o=n.points,l=[];for(const h of i){let{start:f,end:m}=h;m=Z_e(f,m,r);const _=Ore(t,r[f],r[m],h.loop);if(!n.segments){l.push({source:h,target:_,start:r[f],end:r[m]});continue}const b=$2e(n,_);for(const S of b){const M=Ore(t,o[S.start],o[S.end],S.loop),O=j2e(h,r,M);for(const I of O)l.push({source:I,target:S,start:{[t]:J_e(_,M,"start",Math.max)},end:{[t]:J_e(_,M,"end",Math.min)}})}}return l}(t,i,r);for(const{source:f,target:m,start:_,end:b}of h){const{style:{backgroundColor:S=o}={}}=f,M=!0!==i;e.save(),e.fillStyle=S,wot(e,l,M&&Ore(r,_,b)),e.beginPath();const O=!!t.pathSegment(e,f);let I;if(M){O?e.closePath():e4e(e,i,b,r);const N=!!i.pathSegment(e,m,{move:O,reverse:!0});I=O&&N,I||e4e(e,i,_,r)}e.closePath(),e.fill(I?"evenodd":"nonzero"),e.restore()}}function Ere(e,n,t){const i=xot(n),{line:r,scale:o,axis:l}=n,h=r.options,f=h.fill,m=h.backgroundColor,{above:_=m,below:b=m}=f||{};i&&r.points.length&&(fG(e,t),function Sot(e,n){const{line:t,target:i,above:r,below:o,area:l,scale:h}=n,f=t._loop?"angle":n.axis;e.save(),"x"===f&&o!==r&&(Q_e(e,i,l.top),t4e(e,{line:t,target:i,color:r,scale:h,property:f}),e.restore(),e.save(),Q_e(e,i,l.bottom)),t4e(e,{line:t,target:i,color:o,scale:h,property:f}),e.restore()}(e,{line:r,target:i,above:_,below:b,area:t,scale:o,axis:l}),pG(e))}var n4e={id:"filler",afterDatasetsUpdate(e,n,t){const i=(e.data.datasets||[]).length,r=[];let o,l,h,f;for(l=0;l<i;++l)o=e.getDatasetMeta(l),h=o.dataset,f=null,h&&h.options&&h instanceof uO&&(f={visible:e.isDatasetVisible(l),index:l,fill:hot(h,l,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],f&&!1!==f.fill&&(f.fill=bot(r,l,t.propagate))},beforeDraw(e,n,t){const i="beforeDraw"===t.drawTime,r=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let l=r.length-1;l>=0;--l){const h=r[l].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&Ere(e.ctx,h,o))}},beforeDatasetsDraw(e,n,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;o&&Ere(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,n,t){const i=n.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==t.drawTime||Ere(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const i4e=(e,n)=>{let{boxHeight:t=n,boxWidth:i=n}=e;return e.usePointStyle&&(t=Math.min(t,n),i=Math.min(i,n)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(n,t)}};class r4e extends Ng{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,i){this.maxWidth=n,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let t=ia(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(i=>n.filter(i,this.chart.data))),n.sort&&(t=t.sort((i,r)=>n.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:n,ctx:t}=this;if(!n.display)return void(this.width=this.height=0);const i=n.labels,r=yl(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=i4e(i,o);let m,_;t.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(l,o,h,f)+10):(_=this.maxHeight,m=this._fitCols(l,o,h,f)+10),this.width=Math.min(m,n.maxWidth||this.maxWidth),this.height=Math.min(_,n.maxHeight||this.maxHeight)}_fitRows(n,t,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let b=n;o.textAlign="left",o.textBaseline="middle";let S=-1,M=-_;return this.legendItems.forEach((O,I)=>{const N=i+t/2+o.measureText(O.text).width;(0===I||m[m.length-1]+N+2*h>l)&&(b+=_,m[m.length-(I>0?0:1)]=0,M+=_,S++),f[I]={left:0,top:M,row:S,width:N,height:r},m[m.length-1]+=N+h}),b}_fitCols(n,t,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],_=l-n;let b=h,S=0,M=0,O=0,I=0;return this.legendItems.forEach((N,V)=>{const G=i+t/2+o.measureText(N.text).width;V>0&&M+r+2*h>_&&(b+=S+h,m.push({width:S,height:M}),O+=S+h,I++,S=M=0),f[V]={left:O,top:M,col:I,width:G,height:r},S=Math.max(S,G),M+=r+h}),b+=S,m.push({width:S,height:M}),b}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,l=lS(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Qc(i,this.left+r,this.right-this.lineWidths[h]);for(const m of t)h!==m.row&&(h=m.row,f=Qc(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+n+r,m.left=l.leftForLtr(l.x(f),m.width),f+=m.width+r}else{let h=0,f=Qc(i,this.top+n+r,this.bottom-this.columnSizes[h].height);for(const m of t)m.col!==h&&(h=m.col,f=Qc(i,this.top+n+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=l.leftForLtr(l.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;fG(n,this),this._draw(),pG(n)}}_draw(){const{options:n,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:l}=n,h=Mr.color,f=lS(n.rtl,this.left,this.width),m=yl(l.font),{color:_,padding:b}=l,S=m.size,M=S/2;let O;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:I,boxHeight:N,itemHeight:V}=i4e(l,S),K=this.isHorizontal(),ne=this._computeTitleHeight();O=K?{x:Qc(o,this.left+b,this.right-i[0]),y:this.top+b+ne,line:0}:{x:this.left+b,y:Qc(o,this.top+ne+b,this.bottom-t[0].height),line:0},Y2e(this.ctx,n.textDirection);const ie=V+b;this.legendItems.forEach((pe,ve)=>{r.strokeStyle=pe.fontColor||_,r.fillStyle=pe.fontColor||_;const ye=r.measureText(pe.text).width,Se=f.textAlign(pe.textAlign||(pe.textAlign=l.textAlign)),xe=I+M+ye;let De=O.x,Pe=O.y;f.setWidth(this.width),K?ve>0&&De+xe+b>this.right&&(Pe=O.y+=ie,O.line++,De=O.x=Qc(o,this.left+b,this.right-i[O.line])):ve>0&&Pe+ie>this.bottom&&(De=O.x=De+t[O.line].width+b,O.line++,Pe=O.y=Qc(o,this.top+ne+b,this.bottom-t[O.line].height)),function(pe,ve,ye){if(isNaN(I)||I<=0||isNaN(N)||N<0)return;r.save();const Se=Qi(ye.lineWidth,1);if(r.fillStyle=Qi(ye.fillStyle,h),r.lineCap=Qi(ye.lineCap,"butt"),r.lineDashOffset=Qi(ye.lineDashOffset,0),r.lineJoin=Qi(ye.lineJoin,"miter"),r.lineWidth=Se,r.strokeStyle=Qi(ye.strokeStyle,h),r.setLineDash(Qi(ye.lineDash,[])),l.usePointStyle){const xe={radius:I*Math.SQRT2/2,pointStyle:ye.pointStyle,rotation:ye.rotation,borderWidth:Se},De=f.xPlus(pe,I/2);dG(r,xe,De,ve+M)}else{const xe=ve+Math.max((S-N)/2,0),De=f.leftForLtr(pe,I),Pe=oS(ye.borderRadius);r.beginPath(),Object.values(Pe).some(Re=>0!==Re)?gG(r,{x:De,y:xe,w:I,h:N,radius:Pe}):r.rect(De,xe,I,N),r.fill(),0!==Se&&r.stroke()}r.restore()}(f.x(De),Pe,pe),De=((e,n,t,i)=>e===(i?"left":"right")?t:"center"===e?(n+t)/2:n)(Se,De+I+M,K?De+xe:this.right,n.rtl),function(pe,ve,ye){H6(r,ye.text,pe,ve+V/2,m,{strikethrough:ye.hidden,textAlign:f.textAlign(ye.textAlign)})}(f.x(De),Pe,pe),K?O.x+=xe+b:O.y+=ie}),U2e(this.ctx,n.textDirection)}drawTitle(){const n=this.options,t=n.title,i=yl(t.font),r=Jc(t.padding);if(!t.display)return;const o=lS(n.rtl,this.left,this.width),l=this.ctx,h=t.position,m=r.top+i.size/2;let _,b=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),_=this.top+m,b=Qc(n.align,b,this.right-S);else{const O=this.columnSizes.reduce((I,N)=>Math.max(I,N.height),0);_=m+Qc(n.align,this.top,this.bottom-O-n.labels.padding-this._computeTitleHeight())}const M=Qc(h,b,b+S);l.textAlign=o.textAlign(Qie(h)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,H6(l,t.text,M,_,i)}_computeTitleHeight(){const n=this.options.title,t=yl(n.font),i=Jc(n.padding);return n.display?t.lineHeight+i.height:0}_getLegendItemAt(n,t){let i,r,o;if(Uv(n,this.left,this.right)&&Uv(t,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Uv(n,r.left,r.left+r.width)&&Uv(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(n){const t=this.options;if(!function Mot(e,n){return!!("mousemove"===e&&(n.onHover||n.onLeave)||n.onClick&&("click"===e||"mouseup"===e))}(n.type,t))return;const i=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type){const r=this._hoveredItem,o=((e,n)=>null!==e&&null!==n&&e.datasetIndex===n.datasetIndex&&e.index===n.index)(r,i);r&&!o&&ia(t.onLeave,[n,r,this],this),this._hoveredItem=i,i&&!o&&ia(t.onHover,[n,i,this],this)}else i&&ia(t.onClick,[n,i,this],this)}}var o4e={id:"legend",_element:r4e,start(e,n,t){const i=e.legend=new r4e({ctx:e.ctx,options:t,chart:e});eu.configure(e,i,t),eu.addBox(e,i)},stop(e){eu.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){const i=e.legend;eu.configure(e,i,t),i.options=t},afterUpdate(e){const n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){const i=n.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),n.hidden=!0):(r.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const h=l.controller.getStyle(t?0:void 0),f=Jc(h.borderWidth);return{text:n[l.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ire extends Ng{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=t;const r=na(i.text)?i.text.length:1;this._padding=Jc(i.padding);const o=r*yl(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:t,left:i,bottom:r,right:o,options:l}=this,h=l.align;let m,_,b,f=0;return this.isHorizontal()?(_=Qc(h,i,o),b=t+n,m=o-i):("left"===l.position?(_=i+n,b=Qc(h,r,t),f=-.5*Aa):(_=o-n,b=Qc(h,t,r),f=.5*Aa),m=r-t),{titleX:_,titleY:b,maxWidth:m,rotation:f}}draw(){const n=this.ctx,t=this.options;if(!t.display)return;const i=yl(t.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);H6(n,t.text,0,0,i,{color:t.color,maxWidth:f,rotation:m,textAlign:Qie(t.align),textBaseline:"middle",translation:[l,h]})}}var a4e={id:"title",_element:Ire,start(e,n,t){!function Dot(e,n){const t=new Ire({ctx:e.ctx,options:n,chart:e});eu.configure(e,t,n),eu.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){eu.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,n,t){const i=e.titleBlock;eu.configure(e,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dO={average(e){if(!e.length)return!1;let n,t,i=0,r=0,o=0;for(n=0,t=e.length;n<t;++n){const l=e[n].element;if(l&&l.hasValue()){const h=l.tooltipPosition();i+=h.x,r+=h.y,++o}}return{x:i/o,y:r/o}},nearest(e,n){if(!e.length)return!1;let o,l,h,t=n.x,i=n.y,r=Number.POSITIVE_INFINITY;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const _=tre(n,f.getCenterPoint());_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();t=f.x,i=f.y}return{x:t,y:i}}};function Cm(e,n){return n&&(na(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function Xv(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Aot(e,n){const{element:t,datasetIndex:i,index:r}=n,o=e.getDatasetMeta(i).controller,{label:l,value:h}=o.getLabelAndValue(r);return{chart:e,label:l,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function s4e(e,n){const t=e.chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:l,boxHeight:h}=n,f=yl(n.bodyFont),m=yl(n.titleFont),_=yl(n.footerFont),b=o.length,S=r.length,M=i.length,O=Jc(n.padding);let I=O.height,N=0,V=i.reduce((K,ne)=>K+ne.before.length+ne.lines.length+ne.after.length,0);V+=e.beforeBody.length+e.afterBody.length,b&&(I+=b*m.lineHeight+(b-1)*n.titleSpacing+n.titleMarginBottom),V&&(I+=M*(n.displayColors?Math.max(h,f.lineHeight):f.lineHeight)+(V-M)*f.lineHeight+(V-1)*n.bodySpacing),S&&(I+=n.footerMarginTop+S*_.lineHeight+(S-1)*n.footerSpacing);let G=0;const X=function(K){N=Math.max(N,t.measureText(K).width+G)};return t.save(),t.font=m.string,Po(e.title,X),t.font=f.string,Po(e.beforeBody.concat(e.afterBody),X),G=n.displayColors?l+2+n.boxPadding:0,Po(i,K=>{Po(K.before,X),Po(K.lines,X),Po(K.after,X)}),G=0,t.font=_.string,Po(e.footer,X),t.restore(),N+=O.width,{width:N,height:I}}function Oot(e,n,t,i){const{x:r,width:o}=t,{width:l,chartArea:{left:h,right:f}}=e;let m="center";return"center"===i?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=l-o/2&&(m="right"),function kot(e,n,t,i){const{x:r,width:o}=i,l=t.caretSize+t.caretPadding;if("left"===e&&r+o+l>n.width||"right"===e&&r-o-l<0)return!0}(m,e,n,t)&&(m="center"),m}function l4e(e,n,t){const i=t.yAlign||n.yAlign||function zot(e,n){const{y:t,height:i}=n;return t<i/2?"top":t>e.height-i/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||n.xAlign||Oot(e,n,t,i),yAlign:i}}function c4e(e,n,t,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=e,{xAlign:h,yAlign:f}=t,m=r+o,{topLeft:_,topRight:b,bottomLeft:S,bottomRight:M}=oS(l);let O=function Eot(e,n){let{x:t,width:i}=e;return"right"===n?t-=i:"center"===n&&(t-=i/2),t}(n,h);const I=function Iot(e,n,t){let{y:i,height:r}=e;return"top"===n?i+=t:i-="bottom"===n?r+t:r/2,i}(n,f,m);return"center"===f?"left"===h?O+=m:"right"===h&&(O-=m):"left"===h?O-=Math.max(_,S)+r:"right"===h&&(O+=Math.max(b,M)+r),{x:Kl(O,0,i.width-n.width),y:Kl(I,0,i.height-n.height)}}function AG(e,n,t){const i=Jc(t.padding);return"center"===n?e.x+e.width/2:"right"===n?e.x+e.width-i.right:e.x+i.left}function u4e(e){return Cm([],Xv(e))}function h4e(e,n){const t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}let d4e=(()=>{class e extends Ng{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,l=new K2e(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=function Lot(e,n,t){return Y4(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,o=r.beforeTitle.apply(this,[t]),l=r.title.apply(this,[t]),h=r.afterTitle.apply(this,[t]);let f=[];return f=Cm(f,Xv(o)),f=Cm(f,Xv(l)),f=Cm(f,Xv(h)),f}getBeforeBody(t,i){return u4e(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){const{callbacks:r}=i,o=[];return Po(t,l=>{const h={before:[],lines:[],after:[]},f=h4e(r,l);Cm(h.before,Xv(f.beforeLabel.call(this,l))),Cm(h.lines,f.label.call(this,l)),Cm(h.after,Xv(f.afterLabel.call(this,l))),o.push(h)}),o}getAfterBody(t,i){return u4e(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){const{callbacks:r}=i,o=r.beforeFooter.apply(this,[t]),l=r.footer.apply(this,[t]),h=r.afterFooter.apply(this,[t]);let f=[];return f=Cm(f,Xv(o)),f=Cm(f,Xv(l)),f=Cm(f,Xv(h)),f}_createItems(t){const i=this._active,r=this.chart.data,o=[],l=[],h=[];let m,_,f=[];for(m=0,_=i.length;m<_;++m)f.push(Aot(this.chart,i[m]));return t.filter&&(f=f.filter((b,S,M)=>t.filter(b,S,M,r))),t.itemSort&&(f=f.sort((b,S)=>t.itemSort(b,S,r))),Po(f,b=>{const S=h4e(t.callbacks,b);o.push(S.labelColor.call(this,b)),l.push(S.labelPointStyle.call(this,b)),h.push(S.labelTextColor.call(this,b))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=h,this.dataPoints=f,f}update(t,i){const r=this.options.setContext(this.getContext()),o=this._active;let l,h=[];if(o.length){const f=dO[r.position].call(this,o,this._eventPosition);h=this._createItems(r),this.title=this.getTitle(h,r),this.beforeBody=this.getBeforeBody(h,r),this.body=this.getBody(h,r),this.afterBody=this.getAfterBody(h,r),this.footer=this.getFooter(h,r);const m=this._size=s4e(this,r),_=Object.assign({},f,m),b=l4e(this.chart,r,_),S=c4e(r,_,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,l={opacity:1,x:S.x,y:S.y,width:m.width,height:m.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(l={opacity:0});this._tooltipItems=h,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,o){const l=this.getCaretPosition(t,r,o);i.lineTo(l.x1,l.y1),i.lineTo(l.x2,l.y2),i.lineTo(l.x3,l.y3)}getCaretPosition(t,i,r){const{xAlign:o,yAlign:l}=this,{caretSize:h,cornerRadius:f}=r,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:S}=oS(f),{x:M,y:O}=t,{width:I,height:N}=i;let V,G,X,K,ne,ie;return"center"===l?(ne=O+N/2,"left"===o?(V=M,G=V-h,K=ne+h,ie=ne-h):(V=M+I,G=V+h,K=ne-h,ie=ne+h),X=V):(G="left"===o?M+Math.max(m,b)+h:"right"===o?M+I-Math.max(_,S)-h:this.caretX,"top"===l?(K=O,ne=K-h,V=G-h,X=G+h):(K=O+N,ne=K+h,V=G+h,X=G-h),ie=K),{x1:V,x2:G,x3:X,y1:K,y2:ne,y3:ie}}drawTitle(t,i,r){const o=this.title,l=o.length;let h,f,m;if(l){const _=lS(r.rtl,this.x,this.width);for(t.x=AG(this,r.titleAlign,r),i.textAlign=_.textAlign(r.titleAlign),i.textBaseline="middle",h=yl(r.titleFont),f=r.titleSpacing,i.fillStyle=r.titleColor,i.font=h.string,m=0;m<l;++m)i.fillText(o[m],_.x(t.x),t.y+h.lineHeight/2),t.y+=h.lineHeight+f,m+1===l&&(t.y+=r.titleMarginBottom-f)}}_drawColorBox(t,i,r,o,l){const h=this.labelColors[r],f=this.labelPointStyles[r],{boxHeight:m,boxWidth:_,boxPadding:b}=l,S=yl(l.bodyFont),M=AG(this,"left",l),O=o.x(M),N=i.y+(m<S.lineHeight?(S.lineHeight-m)/2:0);if(l.usePointStyle){const V={radius:Math.min(_,m)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},G=o.leftForLtr(O,_)+_/2,X=N+m/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,dG(t,V,G,X),t.strokeStyle=h.borderColor,t.fillStyle=h.backgroundColor,dG(t,V,G,X)}else{t.lineWidth=h.borderWidth||1,t.strokeStyle=h.borderColor,t.setLineDash(h.borderDash||[]),t.lineDashOffset=h.borderDashOffset||0;const V=o.leftForLtr(O,_-b),G=o.leftForLtr(o.xPlus(O,1),_-b-2),X=oS(h.borderRadius);Object.values(X).some(K=>0!==K)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,gG(t,{x:V,y:N,w:_,h:m,radius:X}),t.fill(),t.stroke(),t.fillStyle=h.backgroundColor,t.beginPath(),gG(t,{x:G,y:N+1,w:_-2,h:m-2,radius:X}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(V,N,_,m),t.strokeRect(V,N,_,m),t.fillStyle=h.backgroundColor,t.fillRect(G,N+1,_-2,m-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:o}=this,{bodySpacing:l,bodyAlign:h,displayColors:f,boxHeight:m,boxWidth:_,boxPadding:b}=r,S=yl(r.bodyFont);let M=S.lineHeight,O=0;const I=lS(r.rtl,this.x,this.width),N=function(ye){i.fillText(ye,I.x(t.x+O),t.y+M/2),t.y+=M+l},V=I.textAlign(h);let G,X,K,ne,ie,pe,ve;for(i.textAlign=h,i.textBaseline="middle",i.font=S.string,t.x=AG(this,V,r),i.fillStyle=r.bodyColor,Po(this.beforeBody,N),O=f&&"right"!==V?"center"===h?_/2+b:_+2+b:0,ne=0,pe=o.length;ne<pe;++ne){for(G=o[ne],X=this.labelTextColors[ne],i.fillStyle=X,Po(G.before,N),K=G.lines,f&&K.length&&(this._drawColorBox(i,t,ne,I,r),M=Math.max(S.lineHeight,m)),ie=0,ve=K.length;ie<ve;++ie)N(K[ie]),M=S.lineHeight;Po(G.after,N)}O=0,M=S.lineHeight,Po(this.afterBody,N),t.y-=l}drawFooter(t,i,r){const o=this.footer,l=o.length;let h,f;if(l){const m=lS(r.rtl,this.x,this.width);for(t.x=AG(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=m.textAlign(r.footerAlign),i.textBaseline="middle",h=yl(r.footerFont),i.fillStyle=r.footerColor,i.font=h.string,f=0;f<l;++f)i.fillText(o[f],m.x(t.x),t.y+h.lineHeight/2),t.y+=h.lineHeight+r.footerSpacing}}drawBackground(t,i,r,o){const{xAlign:l,yAlign:h}=this,{x:f,y:m}=t,{width:_,height:b}=r,{topLeft:S,topRight:M,bottomLeft:O,bottomRight:I}=oS(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(f+S,m),"top"===h&&this.drawCaret(t,i,r,o),i.lineTo(f+_-M,m),i.quadraticCurveTo(f+_,m,f+_,m+M),"center"===h&&"right"===l&&this.drawCaret(t,i,r,o),i.lineTo(f+_,m+b-I),i.quadraticCurveTo(f+_,m+b,f+_-I,m+b),"bottom"===h&&this.drawCaret(t,i,r,o),i.lineTo(f+O,m+b),i.quadraticCurveTo(f,m+b,f,m+b-O),"center"===h&&"left"===l&&this.drawCaret(t,i,r,o),i.lineTo(f,m+S),i.quadraticCurveTo(f,m,f+S,m),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,o=r&&r.x,l=r&&r.y;if(o||l){const h=dO[t.position].call(this,this._active,this._eventPosition);if(!h)return;const f=this._size=s4e(this,t),m=Object.assign({},h,this._size),_=l4e(i,t,m),b=c4e(t,m,_,i);(o._to!==b.x||l._to!==b.y)&&(this.xAlign=_.xAlign,this.yAlign=_.yAlign,this.width=f.width,this.height=f.height,this.caretX=h.x,this.caretY=h.y,this._resolveAnimations().update(this,b))}}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const h=Jc(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(l,t,o,i),Y2e(t,i.textDirection),l.y+=h.top,this.drawTitle(l,t,i),this.drawBody(l,t,i),this.drawFooter(l,t,i),U2e(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,o=t.map(({datasetIndex:f,index:m})=>{const _=this.chart.getDatasetMeta(f);if(!_)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:_.data[m],index:m}}),l=!nG(r,o),h=this._positionChanged(o,i);(l||h)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],h=this._getActiveElements(t,l,i,r),f=this._positionChanged(h,t),m=i||!nG(h,l)||f;return m&&(this._active=h,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),m}_getActiveElements(t,i,r,o){const l=this.options;if("mouseout"===t.type)return[];if(!o)return i;const h=this.chart.getElementsAtEventForMode(t,l.mode,l,r);return l.reverse&&h.reverse(),h}_positionChanged(t,i){const{caretX:r,caretY:o,options:l}=this,h=dO[l.position].call(this,t,i);return!1!==h&&(r!==h.x||o!==h.y)}}return e.positioners=dO,e})();var f4e={id:"tooltip",_element:d4e,positioners:dO,afterInit(e,n,t){t&&(e.tooltip=new d4e({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const n=e.tooltip,t={tooltip:n};!1!==e.notifyPlugins("beforeTooltipDraw",t)&&(n&&n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t))},afterEvent(e,n){e.tooltip&&e.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Yv,title(e){if(e.length>0){const n=e[0],t=n.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return t[n.dataIndex]}return""},afterTitle:Yv,beforeBody:Yv,beforeLabel:Yv,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");const t=e.formattedValue;return Zr(t)||(n+=t),n},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Yv,afterBody:Yv,beforeFooter:Yv,footer:Yv,afterFooter:Yv}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class fO extends W6{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(n)}parse(n,t){if(Zr(n))return null;const i=this.getLabels();return((e,n)=>null===e?null:Kl(Math.round(e),0,n))(t=isFinite(t)&&i[t]===n?t:function Fot(e,n,t,i){const r=e.indexOf(n);return-1===r?((e,n,t,i)=>("string"==typeof n?(t=e.push(n)-1,i.unshift({index:t,label:n})):isNaN(n)&&(t=null),t))(e,n,t,i):r!==e.lastIndexOf(n)?t:r}(i,n,Qi(t,n),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(n||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const n=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=0===n&&t===o.length-1?o:o.slice(n,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=n;l<=t;l++)r.push({value:l});return r}getLabelForValue(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return"number"!=typeof n&&(n=this.parse(n)),null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}function p4e(e,n,{horizontal:t,minRotation:i}){const r=Rg(i),o=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(n/o,.75*n*(""+e).length)}fO.id="category",fO.defaults={ticks:{callback:fO.prototype.getLabelForValue}};class zG extends W6{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return Zr(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=t?r:f,h=f=>o=i?o:f;if(n){const f=bm(r),m=bm(o);f<0&&m<0?h(0):f>0&&m>0&&l(0)}if(r===o){let f=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(.05*o)),h(o+f),n||l(r-f)}this.min=r,this.max=o}getTickLimit(){const n=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=n;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,t=n.ticks;let i=this.getTickLimit();i=Math.max(2,i);const l=function Vot(e,n){const t=[],{bounds:r,step:o,min:l,max:h,precision:f,count:m,maxTicks:_,maxDigits:b,includeBounds:S}=e,M=o||1,O=_-1,{min:I,max:N}=n,V=!Zr(l),G=!Zr(h),X=!Zr(m),K=(N-I)/(b+1);let ie,pe,ve,ye,ne=c2e((N-I)/O/M)*M;if(ne<1e-14&&!V&&!G)return[{value:I},{value:N}];ye=Math.ceil(N/ne)-Math.floor(I/ne),ye>O&&(ne=c2e(ye*ne/O/M)*M),Zr(f)||(ie=Math.pow(10,f),ne=Math.ceil(ne*ie)/ie),"ticks"===r?(pe=Math.floor(I/ne)*ne,ve=Math.ceil(N/ne)*ne):(pe=I,ve=N),V&&G&&o&&function Ltt(e,n){const t=Math.round(e);return t-n<=e&&t+n>=e}((h-l)/o,ne/1e3)?(ye=Math.round(Math.min((h-l)/ne,_)),ne=(h-l)/ye,pe=l,ve=h):X?(pe=V?l:pe,ve=G?h:ve,ye=m-1,ne=(ve-pe)/ye):(ye=(ve-pe)/ne,ye=jk(ye,Math.round(ye),ne/1e3)?Math.round(ye):Math.ceil(ye));const Se=Math.max(h2e(ne),h2e(pe));ie=Math.pow(10,Zr(f)?Se:f),pe=Math.round(pe*ie)/ie,ve=Math.round(ve*ie)/ie;let xe=0;for(V&&(S&&pe!==l?(t.push({value:l}),pe<l&&xe++,jk(Math.round((pe+xe*ne)*ie)/ie,l,p4e(l,K,e))&&xe++):pe<l&&xe++);xe<ye;++xe)t.push({value:Math.round((pe+xe*ne)*ie)/ie});return G&&S&&ve!==h?t.length&&jk(t[t.length-1].value,h,p4e(h,K,e))?t[t.length-1].value=h:t.push({value:h}):(!G||ve===h)&&t.push({value:ve}),t}({maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===n.bounds&&u2e(l,this,"value"),n.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const n=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){const r=(i-t)/Math.max(n.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(n){return eO(n,this.chart.options.locale,this.options.ticks.format)}}class kG extends zG{determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=As(n)?n:0,this.max=As(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),t=n?this.width:this.height,i=Rg(this.options.ticks.minRotation),r=(n?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}function g4e(e){return e/Math.pow(10,Math.floor(tp(e)))==1}kG.id="linear",kG.defaults={ticks:{callback:CG.formatters.numeric}};class Lre extends W6{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){const i=zG.prototype.parse.apply(this,[n,t]);if(0!==i)return As(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=As(n)?Math.max(0,n):null,this.max=As(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const o=f=>i=n?i:f,l=f=>r=t?r:f,h=(f,m)=>Math.pow(10,Math.floor(tp(f))+m);i===r&&(i<=0?(o(1),l(10)):(o(h(i,-1)),l(h(r,1)))),i<=0&&o(h(r,-1)),r<=0&&l(h(i,1)),this._zero&&this.min!==this._suggestedMin&&i===h(this.min,0)&&o(h(i,-1)),this.min=i,this.max=r}buildTicks(){const n=this.options,i=function Hot(e,n){const t=Math.floor(tp(n.max)),i=Math.ceil(n.max/Math.pow(10,t)),r=[];let o=Jf(e.min,Math.pow(10,Math.floor(tp(n.min)))),l=Math.floor(tp(o)),h=Math.floor(o/Math.pow(10,l)),f=l<0?Math.pow(10,Math.abs(l)):1;do{r.push({value:o,major:g4e(o)}),++h,10===h&&(h=1,++l,f=l>=0?1:f),o=Math.round(h*Math.pow(10,l)*f)/f}while(l<t||l===t&&h<i);const m=Jf(e.max,o);return r.push({value:m,major:g4e(o)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&u2e(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return void 0===n?"0":eO(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=tp(n),this._valueRange=tp(this.max)-tp(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(tp(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}}function Rre(e){const n=e.ticks;if(n.display&&e.display){const t=Jc(n.backdropPadding);return Qi(n.font&&n.font.size,Mr.font.size)+t.height}return 0}function Yot(e,n,t){return t=na(t)?t:[t],{w:ont(e,n.string,t),h:t.length*n.lineHeight}}function m4e(e,n,t,i,r){return e===i||e===r?{start:n-t/2,end:n+t/2}:e<i||e>r?{start:n-t,end:n}:{start:n,end:n+t}}function Got(e,n,t,i,r){const o=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let h=0,f=0;i.start<n.l?(h=(n.l-i.start)/o,e.l=Math.min(e.l,n.l-h)):i.end>n.r&&(h=(i.end-n.r)/o,e.r=Math.max(e.r,n.r+h)),r.start<n.t?(f=(n.t-r.start)/l,e.t=Math.min(e.t,n.t-f)):r.end>n.b&&(f=(r.end-n.b)/l,e.b=Math.max(e.b,n.b+f))}function jot(e){return 0===e||180===e?"center":e<180?"left":"right"}function $ot(e,n,t){return"right"===t?e-=n:"center"===t&&(e-=n/2),e}function Xot(e,n,t){return 90===t||270===t?e-=n/2:(t>270||t<90)&&(e-=n),e}function v4e(e,n,t,i){const{ctx:r}=e;if(t)r.arc(e.xCenter,e.yCenter,n,0,Wo);else{let o=e.getPointPosition(0,n);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=e.getPointPosition(l,n),r.lineTo(o.x,o.y)}}Lre.id="logarithmic",Lre.defaults={ticks:{callback:CG.formatters.logarithmic,major:{enabled:!0}}};class uS extends zG{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Jc(Rre(this.options)/2),t=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!1);this.min=As(n)&&!isNaN(n)?n:0,this.max=As(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Rre(this.options))}generateTickLabels(n){zG.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,i)=>{const r=ia(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const n=this.options;n.display&&n.pointLabels.display?function Uot(e){const n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),i=[],r=[],o=e._pointLabels.length,l=e.options.pointLabels,h=l.centerPointLabels?Aa/o:0;for(let f=0;f<o;f++){const m=l.setContext(e.getPointLabelContext(f));r[f]=m.padding;const _=e.getPointPosition(f,e.drawingArea+r[f],h),b=yl(m.font),S=Yot(e.ctx,b,e._pointLabels[f]);i[f]=S;const M=Pd(e.getIndexAngle(f)+h),O=Math.round(ere(M));Got(t,n,M,m4e(O,_.x,S.w,0,180),m4e(O,_.y,S.h,90,270))}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=function Wot(e,n,t){const i=[],r=e._pointLabels.length,o=e.options,l=Rre(o)/2,h=e.drawingArea,f=o.pointLabels.centerPointLabels?Aa/r:0;for(let m=0;m<r;m++){const _=e.getPointPosition(m,h+l+t[m],f),b=Math.round(ere(Pd(_.angle+ls))),S=n[m],M=Xot(_.y,S.h,b),O=jot(b),I=$ot(_.x,S.w,O);i.push({x:_.x,y:M,textAlign:O,left:I,top:M,right:I+S.w,bottom:M+S.h})}return i}(e,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,i,r){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,i,r))}getIndexAngle(n){return Pd(n*(Wo/(this._pointLabels.length||1))+Rg(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(Zr(n))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(Zr(n))return NaN;const t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){const t=this._pointLabels||[];if(n>=0&&n<t.length){const i=t[n];return function Kot(e,n,t){return Y4(e,{label:t,index:n,type:"pointLabel"})}(this.getContext(),n,i)}}getPointPosition(n,t,i=0){const r=this.getIndexAngle(n)-ls+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:t,top:i,right:r,bottom:o}=this._pointLabelItems[n];return{left:t,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:n,grid:{circular:t}}=this.options;if(n){const i=this.ctx;i.save(),i.beginPath(),v4e(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){const n=this.ctx,t=this.options,{angleLines:i,grid:r}=t,o=this._pointLabels.length;let l,h,f;if(t.pointLabels.display&&function qot(e,n){const{ctx:t,options:{pointLabels:i}}=e;for(let r=n-1;r>=0;r--){const o=i.setContext(e.getPointLabelContext(r)),l=yl(o.font),{x:h,y:f,textAlign:m,left:_,top:b,right:S,bottom:M}=e._pointLabelItems[r],{backdropColor:O}=o;if(!Zr(O)){const I=Jc(o.backdropPadding);t.fillStyle=O,t.fillRect(_-I.left,b-I.top,S-_+I.width,M-b+I.height)}H6(t,e._pointLabels[r],h,f+l.lineHeight/2,l,{color:o.color,textAlign:m,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((m,_)=>{0!==_&&(h=this.getDistanceFromCenterForValue(m.value),function Zot(e,n,t,i){const r=e.ctx,o=n.circular,{color:l,lineWidth:h}=n;!o&&!i||!l||!h||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=h,r.setLineDash(n.borderDash),r.lineDashOffset=n.borderDashOffset,r.beginPath(),v4e(e,t,o,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(_-1)),h,o))}),i.display){for(n.save(),l=o-1;l>=0;l--){const m=i.setContext(this.getPointLabelContext(l)),{color:_,lineWidth:b}=m;!b||!_||(n.lineWidth=b,n.strokeStyle=_,n.setLineDash(m.borderDash),n.lineDashOffset=m.borderDashOffset,h=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),f=this.getPointPosition(l,h),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(f.x,f.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(r),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((h,f)=>{if(0===f&&!t.reverse)return;const m=i.setContext(this.getContext(f)),_=yl(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),m.showLabelBackdrop){n.font=_.string,l=n.measureText(h.label).width,n.fillStyle=m.backdropColor;const b=Jc(m.backdropPadding);n.fillRect(-l/2-b.left,-o-_.size/2-b.top,l+b.width,_.size+b.height)}H6(n,h.label,0,-o,_,{color:m.color})}),n.restore()}drawTitle(){}}uS.id="radialLinear",uS.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:CG.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},uS.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},uS.descriptors={angleLines:{_fallback:"grid"}};const OG={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fh=Object.keys(OG);function Qot(e,n){return e-n}function _4e(e,n){if(Zr(n))return null;const t=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let l=n;return"function"==typeof i&&(l=i(l)),As(l)||(l="string"==typeof i?t.parse(l,i):t.parse(l)),null===l?null:(r&&(l="week"!==r||!Wk(o)&&!0!==o?t.startOf(l,r):t.startOf(l,"isoWeek",o)),+l)}function y4e(e,n,t,i){const r=Fh.length;for(let o=Fh.indexOf(e);o<r-1;++o){const l=OG[Fh[o]];if(l.common&&Math.ceil((t-n)/((l.steps?l.steps:Number.MAX_SAFE_INTEGER)*l.size))<=i)return Fh[o]}return Fh[r-1]}function x4e(e,n,t){if(t){if(t.length){const{lo:i,hi:r}=hre(t,n);e[t[i]>=n?t[i]:t[r]]=!0}}else e[n]=!0}function b4e(e,n,t){const i=[],r={},o=n.length;let l,h;for(l=0;l<o;++l)h=n[l],r[h]=l,i.push({value:h,major:!1});return 0!==o&&t?function tat(e,n,t,i){const r=e._adapter,o=+r.startOf(n[0].value,i),l=n[n.length-1].value;let h,f;for(h=o;h<=l;h=+r.add(h,1,i))f=t[h],f>=0&&(n[f].major=!0);return n}(e,i,r,t):i}let Nre=(()=>{class e extends W6{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){const r=t.time||(t.time={}),o=this._adapter=new Ait._date(t.adapters.date);Uk(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:_4e(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:o,max:l,minDefined:h,maxDefined:f}=this.getUserBounds();function m(_){!h&&!isNaN(_.min)&&(o=Math.min(o,_.min)),!f&&!isNaN(_.max)&&(l=Math.max(l,_.max))}(!h||!f)&&(m(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&m(this.getMinMax(!1))),o=As(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),l=As(l)&&!isNaN(l)?l:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,f=function mnt(e,n,t){let i=0,r=e.length;for(;i<r&&e[i]<n;)i++;for(;r>i&&e[r-1]>t;)r--;return i>0||r<e.length?e.slice(i,r):e}(o,l,this.max);return this._unit=i.unit||(r.autoSkip?y4e(i.minUnit,this.min,this.max,this._getLabelCapacity(l)):function Jot(e,n,t,i,r){for(let o=Fh.length-1;o>=Fh.indexOf(t);o--){const l=Fh[o];if(OG[l].common&&e._adapter.diff(r,i,l)>=n-1)return l}return Fh[t?Fh.indexOf(t):0]}(this,f.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function eat(e){for(let n=Fh.indexOf(e)+1,t=Fh.length;n<t;++n)if(OG[Fh[n]].common)return Fh[n]}(this._unit):void 0,this.initOffsets(o),t.reverse&&f.reverse(),b4e(this,f,this._majorUnit)}initOffsets(t){let o,l,i=0,r=0;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),i=1===t.length?1-o:(this.getDecimalForValue(t[1])-o)/2,l=this.getDecimalForValue(t[t.length-1]),r=1===t.length?l:(l-this.getDecimalForValue(t[t.length-2]))/2);const h=t.length<3?.5:.25;i=Kl(i,0,h),r=Kl(r,0,h),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,o=this.options,l=o.time,h=l.unit||y4e(l.minUnit,i,r,this._getLabelCapacity(i)),f=Qi(l.stepSize,1),m="week"===h&&l.isoWeekday,_=Wk(m)||!0===m,b={};let M,O,S=i;if(_&&(S=+t.startOf(S,"isoWeek",m)),S=+t.startOf(S,_?"day":h),t.diff(r,i,h)>1e5*f)throw new Error(i+" and "+r+" are too far apart with stepSize of "+f+" "+h);const I="data"===o.ticks.source&&this.getDataTimestamps();for(M=S,O=0;M<r;M=+t.add(M,f,h),O++)x4e(b,M,I);return(M===r||"ticks"===o.bounds||1===O)&&x4e(b,M,I),Object.keys(b).sort((N,V)=>N-V).map(N=>+N)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(t,i,r,o){const l=this.options,h=l.time.displayFormats,f=this._unit,m=this._majorUnit,b=m&&h[m],S=r[i],O=this._adapter.format(t,o||(m&&b&&S&&S.major?b:f&&h[f])),I=l.ticks.callback;return I?ia(I,[O,i,r],this):O}generateTickLabels(t){let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],o.label=this._tickFormatFunction(o.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,o=Rg(this.isHorizontal()?i.maxRotation:i.minRotation),l=Math.cos(o),h=Math.sin(o),f=this._resolveTickFontOptions(0).size;return{w:r*l+f*h,h:r*h+f*l}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,l=this._tickFormatFunction(t,0,b4e(this,[t],this._majorUnit),o),h=this._getLabelSize(l),f=Math.floor(this.isHorizontal()?this.width/h.w:this.height/h.h)-1;return f>0?f:1}getDataTimestamps(){let i,r,t=this._cache.data||[];if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)t=t.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)t.push(_4e(this,o[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return A2e(t.sort(Qot))}}return e.id="time",e.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},e})();function EG(e,n,t){let o,l,h,f,i=0,r=e.length-1;t?(n>=e[i].pos&&n<=e[r].pos&&({lo:i,hi:r}=Gv(e,"pos",n)),({pos:o,time:h}=e[i]),({pos:l,time:f}=e[r])):(n>=e[i].time&&n<=e[r].time&&({lo:i,hi:r}=Gv(e,"time",n)),({time:o,pos:h}=e[i]),({time:l,pos:f}=e[r]));const m=l-o;return m?h+(f-h)*(n-o)/m:h}class IG extends Nre{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=EG(t,this.min),this._tableRange=EG(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:t,max:i}=this,r=[],o=[];let l,h,f,m,_;for(l=0,h=n.length;l<h;++l)m=n[l],m>=t&&m<=i&&r.push(m);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,h=r.length;l<h;++l)_=r[l+1],f=r[l-1],m=r[l],Math.round((_+f)/2)!==m&&o.push({time:m,pos:l/(h-1)});return o}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return n=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,n=this._cache.all=n,n}getDecimalForValue(n){return(EG(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end;return EG(this._table,i*this._tableRange+this._minPos,!0)}}IG.id="timeseries",IG.defaults=Nre.defaults;const LG=function oat(e,n){return e===n||e!=e&&n!=n},RG=function aat(e,n){for(var t=e.length;t--;)if(LG(e[t][0],n))return t;return-1};var lat=Array.prototype.splice;function hS(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}hS.prototype.clear=function iat(){this.__data__=[],this.size=0},hS.prototype.delete=function cat(e){var n=this.__data__,t=RG(n,e);return!(t<0||(t==n.length-1?n.pop():lat.call(n,t,1),--this.size,0))},hS.prototype.get=function hat(e){var n=this.__data__,t=RG(n,e);return t<0?void 0:n[t][1]},hS.prototype.has=function fat(e){return RG(this.__data__,e)>-1},hS.prototype.set=function gat(e,n){var t=this.__data__,i=RG(t,e);return i<0?(++this.size,t.push([e,n])):t[i][1]=n,this};const NG=hS,C4e="object"==typeof global&&global&&global.Object===Object&&global;var Mat="object"==typeof self&&self&&self.Object===Object&&self;const dS=C4e||Mat||Function("return this")();var Pat=dS.Symbol,w4e=Object.prototype,Aat=w4e.hasOwnProperty,zat=w4e.toString,pO=Pat?Pat.toStringTag:void 0;var Iat=Object.prototype.toString;var S4e=Pat?Pat.toStringTag:void 0;const BG=function Bat(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":S4e&&S4e in Object(e)?function kat(e){var n=Aat.call(e,pO),t=e[pO];try{e[pO]=void 0;var i=!0}catch{}var r=zat.call(e);return i&&(n?e[pO]=t:delete e[pO]),r}(e):function Lat(e){return Iat.call(e)}(e)},j6=function Vat(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},Fre=function Wat(e){if(!j6(e))return!1;var n=BG(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var e,jat=dS["__core-js_shared__"],T4e=(e=/[^.]+$/.exec(jat&&jat.keys&&jat.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var Zat=Function.prototype.toString;var est=/^\[object .+?Constructor\]$/,ost=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const sst=function ast(e){return!(!j6(e)||function $at(e){return!!T4e&&T4e in e}(e))&&(Fre(e)?ost:est).test(function Kat(e){if(null!=e){try{return Zat.call(e)}catch{}try{return e+""}catch{}}return""}(e))},Vre=function ust(e,n){var t=function lst(e,n){return e?.[n]}(e,n);return sst(t)?t:void 0},M4e=Vre(dS,"Map"),gO=Vre(Object,"create");var yst=Object.prototype.hasOwnProperty;var wst=Object.prototype.hasOwnProperty;function fS(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}fS.prototype.clear=function fst(){this.__data__=gO?gO(null):{},this.size=0},fS.prototype.delete=function gst(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},fS.prototype.get=function xst(e){var n=this.__data__;if(gO){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return yst.call(n,e)?n[e]:void 0},fS.prototype.has=function Sst(e){var n=this.__data__;return gO?void 0!==n[e]:wst.call(n,e)},fS.prototype.set=function Dst(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=gO&&void 0===n?"__lodash_hash_undefined__":n,this};const D4e=fS,VG=function Est(e,n){var t=e.__data__;return function kst(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?t["string"==typeof n?"string":"hash"]:t.map};function pS(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}pS.prototype.clear=function Ast(){this.size=0,this.__data__={hash:new D4e,map:new(M4e||NG),string:new D4e}},pS.prototype.delete=function Ist(e){var n=VG(this,e).delete(e);return this.size-=n?1:0,n},pS.prototype.get=function Rst(e){return VG(this,e).get(e)},pS.prototype.has=function Fst(e){return VG(this,e).has(e)},pS.prototype.set=function Vst(e,n){var t=VG(this,e),i=t.size;return t.set(e,n),this.size+=t.size==i?0:1,this};const Yst=pS;function gS(e){var n=this.__data__=new NG(e);this.size=n.size}gS.prototype.clear=function vat(){this.__data__=new NG,this.size=0},gS.prototype.delete=function yat(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t},gS.prototype.get=function bat(e){return this.__data__.get(e)},gS.prototype.has=function wat(e){return this.__data__.has(e)},gS.prototype.set=function Gst(e,n){var t=this.__data__;if(t instanceof NG){var i=t.__data__;if(!M4e||i.length<199)return i.push([e,n]),this.size=++t.size,this;t=this.__data__=new Yst(i)}return t.set(e,n),this.size=t.size,this};const jst=gS;var $st=function(){try{var e=Vre(Object,"defineProperty");return e({},"",{}),e}catch{}}();const HG=$st,Hre=function Xst(e,n,t){"__proto__"==n&&HG?HG(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t},Yre=function qst(e,n,t){(void 0!==t&&!LG(e[n],t)||void 0===t&&!(n in e))&&Hre(e,n,t)};var Kst=function Zst(e){return function(n,t,i){for(var r=-1,o=Object(n),l=i(n),h=l.length;h--;){var f=l[e?h:++r];if(!1===t(o[f],f,o))break}return n}}();const Qst=Kst;var P4e="object"==typeof exports&&exports&&!exports.nodeType&&exports,A4e=P4e&&"object"==typeof module&&module&&!module.nodeType&&module,z4e=A4e&&A4e.exports===P4e?dS.Buffer:void 0,k4e=z4e?z4e.allocUnsafe:void 0;const O4e=dS.Uint8Array,alt=function olt(e,n){var t=n?function ilt(e){var n=new e.constructor(e.byteLength);return new O4e(n).set(new O4e(e)),n}(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)};var E4e=Object.create,clt=function(){function e(){}return function(n){if(!j6(n))return{};if(E4e)return E4e(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();const ult=clt;var dlt=function hlt(e,n){return function(t){return e(n(t))}}(Object.getPrototypeOf,Object);const I4e=dlt;var flt=Object.prototype;const L4e=function plt(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||flt)},mO=function vlt(e){return null!=e&&"object"==typeof e},R4e=function ylt(e){return mO(e)&&"[object Arguments]"==BG(e)};var N4e=Object.prototype,xlt=N4e.hasOwnProperty,blt=N4e.propertyIsEnumerable,Clt=R4e(function(){return arguments}())?R4e:function(e){return mO(e)&&xlt.call(e,"callee")&&!blt.call(e,"callee")};const Ure=Clt,Gre=Array.isArray,F4e=function Tlt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Wre=function Mlt(e){return null!=e&&F4e(e.length)&&!Fre(e)};var B4e="object"==typeof exports&&exports&&!exports.nodeType&&exports,V4e=B4e&&"object"==typeof module&&module&&!module.nodeType&&module,H4e=V4e&&V4e.exports===B4e?dS.Buffer:void 0;const Y4e=(H4e?H4e.isBuffer:void 0)||function Alt(){return!1};var U4e=Function.prototype.toString,Nlt=Object.prototype.hasOwnProperty,Flt=U4e.call(Object);var _a={};_a["[object Float32Array]"]=_a["[object Float64Array]"]=_a["[object Int8Array]"]=_a["[object Int16Array]"]=_a["[object Int32Array]"]=_a["[object Uint8Array]"]=_a["[object Uint8ClampedArray]"]=_a["[object Uint16Array]"]=_a["[object Uint32Array]"]=!0,_a["[object Arguments]"]=_a["[object Array]"]=_a["[object ArrayBuffer]"]=_a["[object Boolean]"]=_a["[object DataView]"]=_a["[object Date]"]=_a["[object Error]"]=_a["[object Function]"]=_a["[object Map]"]=_a["[object Number]"]=_a["[object Object]"]=_a["[object RegExp]"]=_a["[object Set]"]=_a["[object String]"]=_a["[object WeakMap]"]=!1;var G4e="object"==typeof exports&&exports&&!exports.nodeType&&exports,vO=G4e&&"object"==typeof module&&module&&!module.nodeType&&module,jre=vO&&vO.exports===G4e&&C4e.process,mct=function(){try{return vO&&vO.require&&vO.require("util").types||jre&&jre.binding&&jre.binding("util")}catch{}}(),j4e=mct&&mct.isTypedArray;const $4e=j4e?function fct(e){return function(n){return e(n)}}(j4e):function hct(e){return mO(e)&&F4e(e.length)&&!!_a[BG(e)]},$re=function _ct(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]};var xct=Object.prototype.hasOwnProperty;const Cct=function bct(e,n,t){var i=e[n];(!xct.call(e,n)||!LG(i,t)||void 0===t&&!(n in e))&&Hre(e,n,t)};var Pct=/^(?:0|[1-9]\d*)$/;const X4e=function Act(e,n){var t=typeof e;return!!(n=n??9007199254740991)&&("number"==t||"symbol"!=t&&Pct.test(e))&&e>-1&&e%1==0&&e<n};var kct=Object.prototype.hasOwnProperty;const Ect=function Oct(e,n){var t=Gre(e),i=!t&&Ure(e),r=!t&&!i&&Y4e(e),o=!t&&!i&&!r&&$4e(e),l=t||i||r||o,h=l?function Tct(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}(e.length,String):[],f=h.length;for(var m in e)(n||kct.call(e,m))&&(!l||!("length"==m||r&&("offset"==m||"parent"==m)||o&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||X4e(m,f)))&&h.push(m);return h};var Nct=Object.prototype.hasOwnProperty;const Bct=function Fct(e){if(!j6(e))return function Ict(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n}(e);var n=L4e(e),t=[];for(var i in e)"constructor"==i&&(n||!Nct.call(e,i))||t.push(i);return t},q4e=function Vct(e){return Wre(e)?Ect(e,!0):Bct(e)},Yct=function Hct(e){return function wct(e,n,t,i){var r=!t;t||(t={});for(var o=-1,l=n.length;++o<l;){var h=n[o],f=i?i(t[h],e[h],h,t,e):void 0;void 0===f&&(f=e[h]),r?Hre(t,h,f):Cct(t,h,f)}return t}(e,q4e(e))},Gct=function Uct(e,n,t,i,r,o,l){var h=$re(e,t),f=$re(n,t),m=l.get(f);if(m)Yre(e,t,m);else{var _=o?o(h,f,t+"",e,n,l):void 0,b=void 0===_;if(b){var S=Gre(f),M=!S&&Y4e(f),O=!S&&!M&&$4e(f);_=f,S||M||O?Gre(h)?_=h:function Dlt(e){return mO(e)&&Wre(e)}(h)?_=function slt(e,n){var t=-1,i=e.length;for(n||(n=Array(i));++t<i;)n[t]=e[t];return n}(h):M?(b=!1,_=function elt(e,n){if(n)return e.slice();var t=e.length,i=k4e?k4e(t):new e.constructor(t);return e.copy(i),i}(f,!0)):O?(b=!1,_=alt(f,!0)):_=[]:function Blt(e){if(!mO(e)||"[object Object]"!=BG(e))return!1;var n=I4e(e);if(null===n)return!0;var t=Nlt.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&U4e.call(t)==Flt}(f)||Ure(f)?(_=h,Ure(h)?_=Yct(h):(!j6(h)||Fre(h))&&(_=function glt(e){return"function"!=typeof e.constructor||L4e(e)?{}:ult(I4e(e))}(f))):b=!1}b&&(l.set(f,_),r(_,f,i,o,l),l.delete(f)),Yre(e,t,_)}},Wct=function Z4e(e,n,t,i,r){e!==n&&Qst(n,function(o,l){if(r||(r=new jst),j6(o))Gct(e,n,l,t,Z4e,i,r);else{var h=i?i($re(e,l),o,l+"",e,n,r):void 0;void 0===h&&(h=o),Yre(e,l,h)}},q4e)},K4e=function jct(e){return e},Xct=function $ct(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)};var Q4e=Math.max;const Qct=function Kct(e){return function(){return e}};var Jct=HG?function(e,n){return HG(e,"toString",{configurable:!0,enumerable:!1,value:Qct(n),writable:!0})}:K4e,iut=Date.now,out=function rut(e){var n=0,t=0;return function(){var i=iut(),r=16-(i-t);if(t=i,r>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}(Jct);const aut=out,lut=function sut(e,n){return aut(function qct(e,n,t){return n=Q4e(void 0===n?e.length-1:n,0),function(){for(var i=arguments,r=-1,o=Q4e(i.length-n,0),l=Array(o);++r<o;)l[r]=i[n+r];r=-1;for(var h=Array(n+1);++r<n;)h[r]=i[r];return h[n]=t(l),Xct(e,this,h)}}(e,n,K4e),e+"")};var dut=function hut(e){return lut(function(n,t){var i=-1,r=t.length,o=r>1?t[r-1]:void 0,l=r>2?t[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,l&&function cut(e,n,t){if(!j6(t))return!1;var i=typeof n;return!!("number"==i?Wre(t)&&X4e(n,t.length):"string"==i&&n in t)&&LG(t[n],e)}(t[0],t[1],l)&&(o=r<3?void 0:o,r=1),n=Object(n);++i<r;){var h=t[i];h&&e(n,h,i,o)}return n})}(function(e,n,t){Wct(e,n,t)});const fut=dut,put=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],gut={datasets:{line:{backgroundColor:e=>Yu(Uu(e.datasetIndex),.4),borderColor:e=>Yu(Uu(e.datasetIndex),1),pointBackgroundColor:e=>Yu(Uu(e.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:e=>Yu(Uu(e.datasetIndex),.8)},bar:{backgroundColor:e=>Yu(Uu(e.datasetIndex),.6),borderColor:e=>Yu(Uu(e.datasetIndex),1),hoverBackgroundColor:e=>Yu(Uu(e.datasetIndex),.8),hoverBorderColor:e=>Yu(Uu(e.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:e=>Yu(Uu(e.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:e=>Yu(Uu(e.dataIndex),1),hoverBorderColor:e=>Yu(Uu(e.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:e=>Yu(Uu(e.dataIndex),.6),borderColor:e=>Yu(Uu(e.dataIndex),1),hoverBackgroundColor:e=>Yu(Uu(e.dataIndex),.8),hoverBorderColor:e=>Yu(Uu(e.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Yu(e,n){return"rgba("+e.concat(n).join(",")+")"}function Xre(e,n){return Math.floor(Math.random()*(n-e+1))+e}function Uu(e=0){return put[e]||function mut(){return[Xre(0,255),Xre(0,255),Xre(0,255)]}()}DG.register(a4e,f4e,n4e,o4e,bre,uO,W_e,kG,fO,c_e,hO,xre,cO,f_e,uS,d_e,h_e,u_e,p_e,IG);let J4e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vut=(()=>{class e{constructor(t){t?.plugins&&DG.register(...t?.plugins);const i=fut(gut,t?.defaults||{});Mr.set(i)}static forRoot(t){return{ngModule:e,providers:[{provide:J4e,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Ve(J4e,8))},e.\u0275mod=Wt({type:e}),e.\u0275inj=Ot({imports:[[]]}),e})();class mS{}mS.\u0275fac=function(n){return new(n||mS)},mS.\u0275mod=Wt({type:mS}),mS.\u0275inj=Ot({imports:[ao,jf,nne,Sg,IV,dJ,vut,Iet,Ret.forRoot({echarts:{init:Net.init}}),Fet,ntt,att,$He,ltt,Yje,_tt,Ctt,S$e,N4,P6]});const e3e={title:"",loaded:!1,breadcrumbs:null,fullFilled:!1},t3e=kv_appSettings,$6=void 0;!function AZ(e,n,t){(function Ey(e,n,t){"string"!=typeof n&&(t=n,n=e[Kt.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Bn[n]=e,t&&(Bn[n][Kt.ExtraData]=t)})(e,n,t)}(["en",[["a","p"],["AM","PM"],$6],[["AM","PM"],$6,$6],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$6,"{1} 'at' {0}",$6],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wut(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}]);class vS{}vS.\u0275fac=function(n){return new(n||vS)},vS.\u0275mod=Wt({type:vS,bootstrap:[Gz]}),vS.\u0275inj=Ot({providers:[NP,{provide:fg,useClass:mP},{provide:Rfe,useValue:Lfe}],imports:[JF,zSe,IV,Sg.forRoot(r$e,{}),OTe.forRoot({pageData:function yut(e=e3e,n){switch(n.type){case Kpe:return n.data;case Qpe:return((e,n)=>Object.assign({},e,n))(e,n.data);case Jpe:return e3e;default:return e}},appSettings:function but(e=t3e,n){switch(n.type){case"[Settings] Set":return n.data;case Vpe:return((e,n)=>Object.assign({},e,n))(e,n.data);case Hpe:return t3e;case Ype:return{...e,sidebarOpened:n.data};default:return e}},patients:function Cut(e=[],n){switch(n.type){case Gpe:return n.data;case"[Patients] Edit":return e.forEach((t,i)=>{t.id===n.data.id&&(e[i]=n.data)}),[...e];case Wpe:return[n.data,...e];case"[Patients] Delete":{const t=e.filter(i=>i.id!==n.id);return console.log(t),t}case"[Patients] Open modal":return!0;case"[Patients] Close modal":return!1;default:return e}}}),Yw,P6,N4,mS,jf]});var qre=function(e,n){return(qre=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(e,n)};function Bh(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}qre(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function Tut(e,n,t){if(t||2===arguments.length)for(var o,i=0,r=n.length;i<r;i++)(o||!(i in n))&&(o||(o=Array.prototype.slice.call(n,0,i)),o[i]=n[i]);return e.concat(o||n)}var Dut=function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},wm=new function e(){this.browser=new Dut,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(wm.wxa=!0,wm.canvasSupported=!0,wm.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?(wm.worker=!0,wm.canvasSupported=!0):typeof navigator>"u"?(wm.node=!0,wm.canvasSupported=!0,wm.svgSupported=!0):function Aut(e,n){var t=n.browser,i=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),l=/micromessenger/i.test(e);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),l&&(t.weChat=!0),n.canvasSupported=!!document.createElement("canvas").getContext,n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,n.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),n.domSupported=typeof document<"u";var h=document.documentElement.style;n.transform3dSupported=(t.ie&&"transition"in h||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in h)&&!("OTransition"in h),n.transformSupported=n.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,wm);const jo=wm;var o3e={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},a3e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},_S=Object.prototype.toString,UG=Array.prototype,zut=UG.forEach,kut=UG.filter,Zre=UG.slice,Out=UG.map,s3e=function(){}.constructor,GG=s3e?s3e.prototype:null,Kre="__proto__",Qre={},Eut=2311;function l3e(){return Eut++}function yS(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];typeof console<"u"&&console.error.apply(console,e)}function ho(e){if(null==e||"object"!=typeof e)return e;var n=e,t=_S.call(e);if("[object Array]"===t){if(!_O(e)){n=[];for(var i=0,r=e.length;i<r;i++)n[i]=ho(e[i])}}else if(a3e[t]){if(!_O(e)){var o=e.constructor;if(o.from)n=o.from(e);else for(n=new o(e.length),i=0,r=e.length;i<r;i++)n[i]=ho(e[i])}}else if(!o3e[t]&&!_O(e)&&!noe(e))for(var l in n={},e)e.hasOwnProperty(l)&&l!==Kre&&(n[l]=ho(e[l]));return n}function ti(e,n,t){if(!Xi(n)||!Xi(e))return t?ho(n):e;for(var i in n)if(n.hasOwnProperty(i)&&i!==Kre){var r=e[i],o=n[i];!Xi(o)||!Xi(r)||si(o)||si(r)||noe(o)||noe(r)||c3e(o)||c3e(r)||_O(o)||_O(r)?(t||!(i in e))&&(e[i]=ho(n[i])):ti(r,o,t)}return e}function Tn(e,n){if(Object.assign)Object.assign(e,n);else for(var t in n)n.hasOwnProperty(t)&&t!==Kre&&(e[t]=n[t]);return e}function ya(e,n,t){for(var i=ja(n),r=0;r<i.length;r++){var o=i[r];(t?null!=n[o]:null==e[o])&&(e[o]=n[o])}return e}var WG=function(){return Qre.createCanvas()};function xa(e,n){if(e){if(e.indexOf)return e.indexOf(n);for(var t=0,i=e.length;t<i;t++)if(e[t]===n)return t}return-1}function Jre(e,n){var t=e.prototype;function i(){}for(var r in i.prototype=n.prototype,e.prototype=new i,t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r]);e.prototype.constructor=e,e.superClass=n}function ip(e,n,t){if(e="prototype"in e?e.prototype:e,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(n),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(t?null!=n[o]:null==e[o])&&(e[o]=n[o])}else ya(e,n,t)}function Fg(e){return!(!e||"string"==typeof e)&&"number"==typeof e.length}function Ke(e,n,t){if(e&&n)if(e.forEach&&e.forEach===zut)e.forEach(n,t);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)n.call(t,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&n.call(t,e[o],o,e)}function Gi(e,n,t){if(!e)return[];if(!n)return roe(e);if(e.map&&e.map===Out)return e.map(n,t);for(var i=[],r=0,o=e.length;r<o;r++)i.push(n.call(t,e[r],r,e));return i}function xS(e,n,t,i){if(e&&n){for(var r=0,o=e.length;r<o;r++)t=n.call(i,t,e[r],r,e);return t}}function tu(e,n,t){if(!e)return[];if(!n)return roe(e);if(e.filter&&e.filter===kut)return e.filter(n,t);for(var i=[],r=0,o=e.length;r<o;r++)n.call(t,e[r],r,e)&&i.push(e[r]);return i}function ja(e){if(!e)return[];if(Object.keys)return Object.keys(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n}Qre.createCanvas=function(){return document.createElement("canvas")};var Vh=GG&&zc(GG.bind)?GG.call.bind(GG.bind):function Iut(e,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return e.apply(n,t.concat(Zre.call(arguments)))}};function W4(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return function(){return e.apply(this,n.concat(Zre.call(arguments)))}}function si(e){return Array.isArray?Array.isArray(e):"[object Array]"===_S.call(e)}function zc(e){return"function"==typeof e}function js(e){return"string"==typeof e}function toe(e){return"number"==typeof e}function Xi(e){var n=typeof e;return"function"===n||!!e&&"object"===n}function c3e(e){return!!o3e[_S.call(e)]}function Ad(e){return!!a3e[_S.call(e)]}function noe(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function ioe(e){return e!=e}function Ro(e,n){return e??n}function jG(e,n,t){return e??n??t}function roe(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return Zre.apply(e,n)}function u3e(e){if("number"==typeof e)return[e,e,e,e];var n=e.length;return 2===n?[e[0],e[1],e[0],e[1]]:3===n?[e[0],e[1],e[2],e[1]]:e}function Bg(e,n){if(!e)throw new Error(n)}function bS(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var h3e="__ec_primitive__";function $G(e){e[h3e]=!0}function _O(e){return e[h3e]}var Nut=function(){function e(n){this.data={};var t=si(n);this.data={};var i=this;function r(o,l){t?i.set(o,l):i.set(l,o)}n instanceof e?n.each(r):n&&Ke(n,r)}return e.prototype.get=function(n){return this.data.hasOwnProperty(n)?this.data[n]:null},e.prototype.set=function(n,t){return this.data[n]=t},e.prototype.each=function(n,t){for(var i in this.data)this.data.hasOwnProperty(i)&&n.call(t,this.data[i],i)},e.prototype.keys=function(){return ja(this.data)},e.prototype.removeKey=function(n){delete this.data[n]},e}();function Ji(e){return new Nut(e)}function ooe(e,n){for(var t=new e.constructor(e.length+n.length),i=0;i<e.length;i++)t[i]=e[i];var r=e.length;for(i=0;i<n.length;i++)t[i+r]=n[i];return t}function yO(e,n){var t;if(Object.create)t=Object.create(e);else{var i=function(){};i.prototype=e,t=new i}return n&&Tn(t,n),t}function Sm(e,n){return e.hasOwnProperty(n)}function qv(){}var aoe=function(e,n){return(aoe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(e,n)};function $o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}aoe(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function CS(e,n){return null==e&&(e=0),null==n&&(n=0),[e,n]}function Vut(e){return[e[0],e[1]]}function g3e(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e}function Hut(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e}function soe(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e}function qG(e,n){return Math.sqrt((e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1]))}var loe=qG,wS=function Wut(e,n){return(e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1])};function coe(e,n,t,i){return e[0]=n[0]+i*(t[0]-n[0]),e[1]=n[1]+i*(t[1]-n[1]),e}function Tm(e,n,t){var i=n[0],r=n[1];return e[0]=t[0]*i+t[2]*r+t[4],e[1]=t[1]*i+t[3]*r+t[5],e}function X6(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e}function q6(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e}var SS=function e(n,t){this.target=n,this.topTarget=t&&t.topTarget},jut=function(){function e(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(n){for(var t=n.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new SS(t,n),"dragstart",n.event))},e.prototype._drag=function(n){var t=this._draggingTarget;if(t){var i=n.offsetX,r=n.offsetY,o=i-this._x,l=r-this._y;this._x=i,this._y=r,t.drift(o,l,n),this.handler.dispatchToElement(new SS(t,n),"drag",n.event);var h=this.handler.findHover(i,r,t).target,f=this._dropTarget;this._dropTarget=h,t!==h&&(f&&h!==f&&this.handler.dispatchToElement(new SS(f,n),"dragleave",n.event),h&&h!==f&&this.handler.dispatchToElement(new SS(h,n),"dragenter",n.event))}},e.prototype._dragEnd=function(n){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new SS(t,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new SS(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},e}();const $ut=jut;var Xut=function(){function e(n){n&&(this._$eventProcessor=n)}return e.prototype.on=function(n,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof t&&(r=i,i=t,t=null),!i||!n)return this;var l=this._$eventProcessor;null!=t&&l&&l.normalizeQuery&&(t=l.normalizeQuery(t)),o[n]||(o[n]=[]);for(var h=0;h<o[n].length;h++)if(o[n][h].h===i)return this;var f={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},m=o[n].length-1,_=o[n][m];return _&&_.callAtLast?o[n].splice(m,0,f):o[n].push(f),this},e.prototype.isSilent=function(n){var t=this._$handlers;return!t||!t[n]||!t[n].length},e.prototype.off=function(n,t){var i=this._$handlers;if(!i)return this;if(!n)return this._$handlers={},this;if(t){if(i[n]){for(var r=[],o=0,l=i[n].length;o<l;o++)i[n][o].h!==t&&r.push(i[n][o]);i[n]=r}i[n]&&0===i[n].length&&delete i[n]}else delete i[n];return this},e.prototype.trigger=function(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[n],o=this._$eventProcessor;if(r)for(var l=t.length,h=r.length,f=0;f<h;f++){var m=r[f];if(!o||!o.filter||null==m.query||o.filter(n,m.query))switch(l){case 0:m.h.call(m.ctx);break;case 1:m.h.call(m.ctx,t[0]);break;case 2:m.h.call(m.ctx,t[0],t[1]);break;default:m.h.apply(m.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(n),this},e.prototype.triggerWithContext=function(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[n],o=this._$eventProcessor;if(r)for(var l=t.length,h=t[l-1],f=r.length,m=0;m<f;m++){var _=r[m];if(!o||!o.filter||null==_.query||o.filter(n,_.query))switch(l){case 0:_.h.call(h);break;case 1:_.h.call(h,t[0]);break;case 2:_.h.call(h,t[0],t[1]);break;default:_.h.apply(h,t.slice(1,l-1))}}return o&&o.afterTrigger&&o.afterTrigger(n),this},e}();const Mm=Xut;var qut=Math.log(2);function uoe(e,n,t,i,r,o){var l=i+"-"+r,h=e.length;if(o.hasOwnProperty(l))return o[l];if(1===n){var f=Math.round(Math.log((1<<h)-1&~r)/qut);return e[t][f]}for(var m=i|1<<t,_=t+1;i&1<<_;)_++;for(var b=0,S=0,M=0;S<h;S++){var O=1<<S;O&r||(b+=(M%2?-1:1)*e[t][S]*uoe(e,n-1,_,m,r|O,o),M++)}return o[l]=b,b}function m3e(e,n){var t=[[e[0],e[1],1,0,0,0,-n[0]*e[0],-n[0]*e[1]],[0,0,0,e[0],e[1],1,-n[1]*e[0],-n[1]*e[1]],[e[2],e[3],1,0,0,0,-n[2]*e[2],-n[2]*e[3]],[0,0,0,e[2],e[3],1,-n[3]*e[2],-n[3]*e[3]],[e[4],e[5],1,0,0,0,-n[4]*e[4],-n[4]*e[5]],[0,0,0,e[4],e[5],1,-n[5]*e[4],-n[5]*e[5]],[e[6],e[7],1,0,0,0,-n[6]*e[6],-n[6]*e[7]],[0,0,0,e[6],e[7],1,-n[7]*e[6],-n[7]*e[7]]],i={},r=uoe(t,8,0,0,0,i);if(0!==r){for(var o=[],l=0;l<8;l++)for(var h=0;h<8;h++)null==o[h]&&(o[h]=0),o[h]+=((l+h)%2?-1:1)*uoe(t,7,0===l?1:0,1<<l,1<<h,i)/r*n[l];return function(f,m,_){var b=m*o[6]+_*o[7]+1;f[0]=(m*o[0]+_*o[1]+o[2])/b,f[1]=(m*o[3]+_*o[4]+o[5])/b}}}var v3e="___zrEVENTSAVED";function _3e(e){return"CANVAS"===e.nodeName.toUpperCase()}var foe=typeof window<"u"&&!!window.addEventListener,Qut=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,poe=[];function goe(e,n,t,i){return t=t||{},i||!jo.canvasSupported?y3e(e,n,t):jo.browser.firefox&&jo.browser.version<"39"&&null!=n.layerX&&n.layerX!==n.offsetX?(t.zrX=n.layerX,t.zrY=n.layerY):null!=n.offsetX?(t.zrX=n.offsetX,t.zrY=n.offsetY):y3e(e,n,t),t}function y3e(e,n,t){if(jo.domSupported&&e.getBoundingClientRect){var i=n.clientX,r=n.clientY;if(_3e(e)){var o=e.getBoundingClientRect();return t.zrX=i-o.left,void(t.zrY=r-o.top)}if(function doe(e,n,t,i,r){if(n.getBoundingClientRect&&jo.domSupported&&!_3e(n)){var o=n[v3e]||(n[v3e]={}),l=function Zut(e,n){var t=n.markers;if(t)return t;t=n.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var l=document.createElement("div"),f=o%2,m=(o>>1)%2;l.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[f]+":0",r[m]+":0",i[1-f]+":auto",r[1-m]+":auto",""].join("!important;"),e.appendChild(l),t.push(l)}return t}(n,o),h=function Kut(e,n,t){for(var i=t?"invTrans":"trans",r=n[i],o=n.srcCoords,l=[],h=[],f=!0,m=0;m<4;m++){var _=e[m].getBoundingClientRect(),b=2*m,S=_.left,M=_.top;l.push(S,M),f=f&&o&&S===o[b]&&M===o[b+1],h.push(e[m].offsetLeft,e[m].offsetTop)}return f&&r?r:(n.srcCoords=l,n[i]=t?m3e(h,l):m3e(l,h))}(l,o,r);if(h)return h(e,t,i),!0}return!1}(poe,e,i,r))return t.zrX=poe[0],void(t.zrY=poe[1])}t.zrX=t.zrY=0}function moe(e){return e||window.event}function Vg(e,n,t){if(null!=(n=moe(n)).zrX)return n;var i=n.type;if(i&&i.indexOf("touch")>=0){var l="touchend"!==i?n.targetTouches[0]:n.changedTouches[0];l&&goe(e,l,n,t)}else{goe(e,n,n,t);var o=function Jut(e){var n=e.wheelDelta;if(n)return n;var t=e.deltaX,i=e.deltaY;return null==t||null==i?n:3*Math.abs(0!==i?i:t)*(i>0?-1:i<0?1:t>0?-1:1)}(n);n.zrDelta=o?o/120:-(n.detail||0)/3}var h=n.button;return null==n.which&&void 0!==h&&Qut.test(n.type)&&(n.which=1&h?1:2&h?3:4&h?2:0),n}function tht(e,n,t,i){foe?e.removeEventListener(n,t,i):e.detachEvent("on"+n,t)}var nht=foe?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},iht=function(){function e(){this._track=[]}return e.prototype.recognize=function(n,t,i){return this._doTrack(n,t,i),this._recognize(n)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(n,t,i){var r=n.touches;if(r){for(var o={points:[],touches:[],target:t,event:n},l=0,h=r.length;l<h;l++){var f=r[l],m=goe(i,f,{});o.points.push([m.zrX,m.zrY]),o.touches.push(f)}this._track.push(o)}},e.prototype._recognize=function(n){for(var t in voe)if(voe.hasOwnProperty(t)){var i=voe[t](this._track,n);if(i)return i}},e}();function x3e(e){var n=e[1][0]-e[0][0],t=e[1][1]-e[0][1];return Math.sqrt(n*n+t*t)}var voe={pinch:function(e,n){var t=e.length;if(t){var i=(e[t-1]||{}).points,r=(e[t-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=x3e(i)/x3e(r);!isFinite(o)&&(o=1),n.pinchScale=o;var l=function rht(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(i);return n.pinchX=l[0],n.pinchY=l[1],{type:"pinch",target:e[0].target,event:n}}}}};function aht(){nht(this.event)}var sht=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return $o(n,e),n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Mm),xO=function e(n,t){this.x=n,this.y=t},lht=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],C3e=function(e){function n(t,i,r,o){var l=e.call(this)||this;return l._hovered=new xO(0,0),l.storage=t,l.painter=i,l.painterRoot=o,r=r||new sht,l.proxy=null,l.setHandlerProxy(r),l._draggingMgr=new $ut(l),l}return $o(n,e),n.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Ke(lht,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},n.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=w3e(this,i,r),l=this._hovered,h=l.target;h&&!h.__zr&&(h=(l=this.findHover(l.x,l.y)).target);var f=this._hovered=o?new xO(i,r):this.findHover(i,r),m=f.target,_=this.proxy;_.setCursor&&_.setCursor(m?m.cursor:"default"),h&&m!==h&&this.dispatchToElement(l,"mouseout",t),this.dispatchToElement(f,"mousemove",t),m&&m!==h&&this.dispatchToElement(f,"mouseover",t)},n.prototype.mouseout=function(t){var i=t.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:t})},n.prototype.resize=function(){this._hovered=new xO(0,0)},n.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},n.prototype.dispatchToElement=function(t,i,r){var o=(t=t||{}).target;if(!o||!o.silent){for(var l="on"+i,h=function oht(e,n,t){return{type:e,event:t,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:aht}}(i,t,r);o&&(o[l]&&(h.cancelBubble=!!o[l].call(o,h)),o.trigger(i,h),o=o.__hostTarget?o.__hostTarget:o.parent,!h.cancelBubble););h.cancelBubble||(this.trigger(i,h),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(f){"function"==typeof f[l]&&f[l].call(f,h),f.trigger&&f.trigger(i,h)}))}},n.prototype.findHover=function(t,i,r){for(var o=this.storage.getDisplayList(),l=new xO(t,i),h=o.length-1;h>=0;h--){var f=void 0;if(o[h]!==r&&!o[h].ignore&&(f=cht(o[h],t,i))&&(!l.topTarget&&(l.topTarget=o[h]),"silent"!==f)){l.target=o[h];break}}return l},n.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new iht);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var l=o.type;t.gestureEvent=l;var h=new xO;h.target=o.target,this.dispatchToElement(h,l,o.event)}},n}(Mm);function cht(e,n,t){if(e[e.rectHover?"rectContain":"contain"](n,t)){for(var i=e,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var l=i.getClipPath();if(l&&!l.contain(n,t))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||"silent"}return!1}function w3e(e,n,t){var i=e.painter;return n<0||n>i.getWidth()||t<0||t>i.getHeight()}Ke(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){C3e.prototype[e]=function(n){var o,l,t=n.zrX,i=n.zrY,r=w3e(this,t,i);if(("mouseup"!==e||!r)&&(l=(o=this.findHover(t,i)).target),"mousedown"===e)this._downEl=l,this._downPoint=[n.zrX,n.zrY],this._upEl=l;else if("mouseup"===e)this._upEl=l;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||loe(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,n)}});const uht=C3e;function M3e(e,n,t,i){var r=n+1;if(r===t)return 1;if(i(e[r++],e[n])<0){for(;r<t&&i(e[r],e[r-1])<0;)r++;!function dht(e,n,t){for(t--;n<t;){var i=e[n];e[n++]=e[t],e[t--]=i}}(e,n,r)}else for(;r<t&&i(e[r],e[r-1])>=0;)r++;return r-n}function D3e(e,n,t,i,r){for(i===n&&i++;i<t;i++){for(var f,o=e[i],l=n,h=i;l<h;)r(o,e[f=l+h>>>1])<0?h=f:l=f+1;var m=i-l;switch(m){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;m>0;)e[l+m]=e[l+m-1],m--}e[l]=o}}function _oe(e,n,t,i,r,o){var l=0,h=0,f=1;if(o(e,n[t+r])>0){for(h=i-r;f<h&&o(e,n[t+r+f])>0;)l=f,(f=1+(f<<1))<=0&&(f=h);f>h&&(f=h),l+=r,f+=r}else{for(h=r+1;f<h&&o(e,n[t+r-f])<=0;)l=f,(f=1+(f<<1))<=0&&(f=h);f>h&&(f=h);var m=l;l=r-f,f=r-m}for(l++;l<f;){var _=l+(f-l>>>1);o(e,n[t+_])>0?l=_+1:f=_}return f}function yoe(e,n,t,i,r,o){var l=0,h=0,f=1;if(o(e,n[t+r])<0){for(h=r+1;f<h&&o(e,n[t+r-f])<0;)l=f,(f=1+(f<<1))<=0&&(f=h);f>h&&(f=h);var m=l;l=r-f,f=r-m}else{for(h=i-r;f<h&&o(e,n[t+r+f])>=0;)l=f,(f=1+(f<<1))<=0&&(f=h);f>h&&(f=h),l+=r,f+=r}for(l++;l<f;){var _=l+(f-l>>>1);o(e,n[t+_])<0?f=_:l=_+1}return f}function xoe(e,n,t,i){t||(t=0),i||(i=e.length);var r=i-t;if(!(r<2)){var o=0;if(r<32)return void D3e(e,t,i,t+(o=M3e(e,t,i,n)),n);var l=function fht(e,n){var l,h,t=7,f=0,m=[];function M(N){var V=l[N],G=h[N],X=l[N+1],K=h[N+1];h[N]=G+K,N===f-3&&(l[N+1]=l[N+2],h[N+1]=h[N+2]),f--;var ne=yoe(e[X],e,V,G,0,n);V+=ne,0!=(G-=ne)&&0!==(K=_oe(e[V+G-1],e,X,K,K-1,n))&&(G<=K?function O(N,V,G,X){var K=0;for(K=0;K<V;K++)m[K]=e[N+K];var ne=0,ie=G,pe=N;if(e[pe++]=e[ie++],0!=--X)if(1!==V){for(var ye,Se,xe,ve=t;;){ye=0,Se=0,xe=!1;do{if(n(e[ie],m[ne])<0){if(e[pe++]=e[ie++],Se++,ye=0,0==--X){xe=!0;break}}else if(e[pe++]=m[ne++],ye++,Se=0,1==--V){xe=!0;break}}while((ye|Se)<ve);if(xe)break;do{if(0!==(ye=yoe(e[ie],m,ne,V,0,n))){for(K=0;K<ye;K++)e[pe+K]=m[ne+K];if(pe+=ye,ne+=ye,(V-=ye)<=1){xe=!0;break}}if(e[pe++]=e[ie++],0==--X){xe=!0;break}if(0!==(Se=_oe(m[ne],e,ie,X,0,n))){for(K=0;K<Se;K++)e[pe+K]=e[ie+K];if(pe+=Se,ie+=Se,0==(X-=Se)){xe=!0;break}}if(e[pe++]=m[ne++],1==--V){xe=!0;break}ve--}while(ye>=7||Se>=7);if(xe)break;ve<0&&(ve=0),ve+=2}if((t=ve)<1&&(t=1),1===V){for(K=0;K<X;K++)e[pe+K]=e[ie+K];e[pe+X]=m[ne]}else{if(0===V)throw new Error;for(K=0;K<V;K++)e[pe+K]=m[ne+K]}}else{for(K=0;K<X;K++)e[pe+K]=e[ie+K];e[pe+X]=m[ne]}else for(K=0;K<V;K++)e[pe+K]=m[ne+K]}(V,G,X,K):function I(N,V,G,X){var K=0;for(K=0;K<X;K++)m[K]=e[G+K];var ne=N+V-1,ie=X-1,pe=G+X-1,ve=0,ye=0;if(e[pe--]=e[ne--],0!=--V)if(1!==X){for(var Se=t;;){var xe=0,De=0,Pe=!1;do{if(n(m[ie],e[ne])<0){if(e[pe--]=e[ne--],xe++,De=0,0==--V){Pe=!0;break}}else if(e[pe--]=m[ie--],De++,xe=0,1==--X){Pe=!0;break}}while((xe|De)<Se);if(Pe)break;do{if(0!=(xe=V-yoe(m[ie],e,N,V,V-1,n))){for(V-=xe,ye=1+(pe-=xe),ve=1+(ne-=xe),K=xe-1;K>=0;K--)e[ye+K]=e[ve+K];if(0===V){Pe=!0;break}}if(e[pe--]=m[ie--],1==--X){Pe=!0;break}if(0!=(De=X-_oe(e[ne],m,0,X,X-1,n))){for(X-=De,ye=1+(pe-=De),ve=1+(ie-=De),K=0;K<De;K++)e[ye+K]=m[ve+K];if(X<=1){Pe=!0;break}}if(e[pe--]=e[ne--],0==--V){Pe=!0;break}Se--}while(xe>=7||De>=7);if(Pe)break;Se<0&&(Se=0),Se+=2}if((t=Se)<1&&(t=1),1===X){for(ye=1+(pe-=V),ve=1+(ne-=V),K=V-1;K>=0;K--)e[ye+K]=e[ve+K];e[pe]=m[ie]}else{if(0===X)throw new Error;for(ve=pe-(X-1),K=0;K<X;K++)e[ve+K]=m[K]}}else{for(ye=1+(pe-=V),ve=1+(ne-=V),K=V-1;K>=0;K--)e[ye+K]=e[ve+K];e[pe]=m[ie]}else for(ve=pe-(X-1),K=0;K<X;K++)e[ve+K]=m[K]}(V,G,X,K))}return l=[],h=[],{mergeRuns:function b(){for(;f>1;){var N=f-2;if(N>=1&&h[N-1]<=h[N]+h[N+1]||N>=2&&h[N-2]<=h[N]+h[N-1])h[N-1]<h[N+1]&&N--;else if(h[N]>h[N+1])break;M(N)}},forceMergeRuns:function S(){for(;f>1;){var N=f-2;N>0&&h[N-1]<h[N+1]&&N--,M(N)}},pushRun:function _(N,V){l[f]=N,h[f]=V,f+=1}}}(e,n),h=function hht(e){for(var n=0;e>=32;)n|=1&e,e>>=1;return e+n}(r);do{if((o=M3e(e,t,i,n))<h){var f=r;f>h&&(f=h),D3e(e,t,t+f,t+o,n),o=f}l.pushRun(t,o),l.mergeRuns(),r-=o,t+=o}while(0!==r);l.forceMergeRuns()}}var P3e=!1;function boe(){P3e||(P3e=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function A3e(e,n){return e.zlevel===n.zlevel?e.z===n.z?e.z2-n.z2:e.z-n.z:e.zlevel-n.zlevel}var pht=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=A3e}return e.prototype.traverse=function(n,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(n,t)},e.prototype.getDisplayList=function(n,t){t=t||!1;var i=this._displayList;return(n||!i.length)&&this.updateDisplayList(t),i},e.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,n);i.length=this._displayListLen,jo.canvasSupported&&xoe(i,A3e)},e.prototype._updateAndAddDisplayable=function(n,t,i){if(!n.ignore||i){n.beforeUpdate(),n.update(),n.afterUpdate();var r=n.getClipPath();if(n.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var o=r,l=n;o;)o.parent=l,o.updateTransform(),t.push(o),l=o,o=o.getClipPath()}if(n.childrenRef){for(var h=n.childrenRef(),f=0;f<h.length;f++){var m=h[f];n.__dirty&&(m.__dirty|=1),this._updateAndAddDisplayable(m,t,i)}n.__dirty=0}else{var _=n;t&&t.length?_.__clipPaths=t:_.__clipPaths&&_.__clipPaths.length>0&&(_.__clipPaths=[]),isNaN(_.z)&&(boe(),_.z=0),isNaN(_.z2)&&(boe(),_.z2=0),isNaN(_.zlevel)&&(boe(),_.zlevel=0),this._displayList[this._displayListLen++]=_}var b=n.getDecalElement&&n.getDecalElement();b&&this._updateAndAddDisplayable(b,t,i);var S=n.getTextGuideLine();S&&this._updateAndAddDisplayable(S,t,i);var M=n.getTextContent();M&&this._updateAndAddDisplayable(M,t,i)}},e.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},e.prototype.delRoot=function(n){if(n instanceof Array)for(var t=0,i=n.length;t<i;t++)this.delRoot(n[t]);else{var r=xa(this._roots,n);r>=0&&this._roots.splice(r,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const ght=pht;var z3e;z3e=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const MS=z3e;var ZG={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var n,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,n=.1):n=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/.4))},elasticOut:function(e){var n,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,n=.1):n=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-n)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var n,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,n=.1):n=.4*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var n=1.70158;return e*e*((n+1)*e-n)},backOut:function(e){var n=1.70158;return--e*e*((n+1)*e+n)+1},backInOut:function(e){var n=2.5949095;return(e*=2)<1?e*e*((n+1)*e-n)*.5:.5*((e-=2)*e*((n+1)*e+n)+2)},bounceIn:function(e){return 1-ZG.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*ZG.bounceIn(2*e):.5*ZG.bounceOut(2*e-1)+.5}};const mht=ZG;var vht=function(){function e(n){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=null!=n.loop&&n.loop,this.gap=n.gap||0,this.easing=n.easing||"linear",this.onframe=n.onframe,this.ondestroy=n.ondestroy,this.onrestart=n.onrestart}return e.prototype.step=function(n,t){if(this._initialized||(this._startTime=n+this._delay,this._initialized=!0),!this._paused){var i=(n-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var r=this.easing,o="string"==typeof r?mht[r]:r,l="function"==typeof o?o(i):i;if(this.onframe&&this.onframe(l),1===i){if(!this.loop)return!0;this._restart(n),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=t},e.prototype._restart=function(n){this._startTime=n-(n-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e}();const _ht=vht;var k3e=function e(n){this.value=n},yht=function(){function e(){this._len=0}return e.prototype.insert=function(n){var t=new k3e(n);return this.insertEntry(t),t},e.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},e.prototype.remove=function(n){var t=n.prev,i=n.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,n.next=n.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),xht=function(){function e(n){this._list=new yht,this._maxSize=10,this._map={},this._maxSize=n}return e.prototype.put=function(n,t){var i=this._list,r=this._map,o=null;if(null==r[n]){var l=i.len(),h=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var f=i.head;i.remove(f),delete r[f.key],o=f.value,this._lastRemovedEntry=f}h?h.value=t:h=new k3e(t),h.key=n,i.insertEntry(h),r[n]=h}return o},e.prototype.get=function(n){var t=this._map[n],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const DS=xht;var O3e={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Hg(e){return(e=Math.round(e))<0?0:e>255?255:e}function wO(e){return e<0?0:e>1?1:e}function Coe(e){var n=e;return n.length&&"%"===n.charAt(n.length-1)?Hg(parseFloat(n)/100*255):Hg(parseInt(n,10))}function PS(e){var n=e;return n.length&&"%"===n.charAt(n.length-1)?wO(parseFloat(n)/100):wO(parseFloat(n))}function woe(e,n,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?e+(n-e)*t*6:2*t<1?n:3*t<2?e+(n-e)*(2/3-t)*6:e}function rp(e,n,t,i,r){return e[0]=n,e[1]=t,e[2]=i,e[3]=r,e}function Soe(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}var E3e=new DS(20),KG=null;function AS(e,n){KG&&Soe(KG,n),KG=E3e.put(e,KG||n.slice())}function kd(e,n){if(e){n=n||[];var t=E3e.get(e);if(t)return Soe(n,t);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in O3e)return Soe(n,O3e[i]),AS(e,n),n;var o,r=i.length;if("#"===i.charAt(0))return 4===r||5===r?(o=parseInt(i.slice(1,4),16))>=0&&o<=4095?(rp(n,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===r?parseInt(i.slice(4),16)/15:1),AS(e,n),n):void rp(n,0,0,0,1):7===r||9===r?(o=parseInt(i.slice(1,7),16))>=0&&o<=16777215?(rp(n,(16711680&o)>>16,(65280&o)>>8,255&o,9===r?parseInt(i.slice(7),16)/255:1),AS(e,n),n):void rp(n,0,0,0,1):void 0;var l=i.indexOf("("),h=i.indexOf(")");if(-1!==l&&h+1===r){var f=i.substr(0,l),m=i.substr(l+1,h-(l+1)).split(","),_=1;switch(f){case"rgba":if(4!==m.length)return 3===m.length?rp(n,+m[0],+m[1],+m[2],1):rp(n,0,0,0,1);_=PS(m.pop());case"rgb":return 3!==m.length?void rp(n,0,0,0,1):(rp(n,Coe(m[0]),Coe(m[1]),Coe(m[2]),_),AS(e,n),n);case"hsla":return 4!==m.length?void rp(n,0,0,0,1):(m[3]=PS(m[3]),Toe(m,n),AS(e,n),n);case"hsl":return 3!==m.length?void rp(n,0,0,0,1):(Toe(m,n),AS(e,n),n);default:return}}rp(n,0,0,0,1)}}function Toe(e,n){var t=(parseFloat(e[0])%360+360)%360/360,i=PS(e[1]),r=PS(e[2]),o=r<=.5?r*(i+1):r+i-r*i,l=2*r-o;return rp(n=n||[],Hg(255*woe(l,o,t+1/3)),Hg(255*woe(l,o,t)),Hg(255*woe(l,o,t-1/3)),1),4===e.length&&(n[3]=e[3]),n}function QG(e,n){var t=kd(e);if(t){for(var i=0;i<3;i++)t[i]=n<0?t[i]*(1-n)|0:(255-t[i])*n+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return zS(t,4===t.length?"rgba":"rgb")}}function zS(e,n){if(e&&e.length){var t=e[0]+","+e[1]+","+e[2];return("rgba"===n||"hsva"===n||"hsla"===n)&&(t+=","+e[3]),n+"("+t+")"}}function JG(e,n){var t=kd(e);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*n:0}var Moe=Array.prototype.slice;function SO(e,n,t){return(n-e)*t+e}function I3e(e,n,t,i){for(var r=n.length,o=0;o<r;o++)e[o]=SO(n[o],t[o],i)}function eW(e,n,t,i){for(var r=n.length,o=0;o<r;o++)e[o]=n[o]+t[o]*i;return e}function L3e(e,n,t,i){for(var r=n.length,o=r&&n[0].length,l=0;l<r;l++){e[l]||(e[l]=[]);for(var h=0;h<o;h++)e[l][h]=n[l][h]+t[l][h]*i}return e}function Dht(e,n,t){var i=e,r=n;if(i.push&&r.push){var o=i.length,l=r.length;if(o!==l)if(o>l)i.length=l;else for(var f=o;f<l;f++)i.push(1===t?r[f]:Moe.call(r[f]));var m=i[0]&&i[0].length;for(f=0;f<i.length;f++)if(1===t)isNaN(i[f])&&(i[f]=r[f]);else for(var _=0;_<m;_++)isNaN(i[f][_])&&(i[f][_]=r[f][_])}}function R3e(e,n){var t=e.length;if(t!==n.length)return!1;for(var i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Doe(e,n,t,i,r,o,l){var h=.5*(t-e),f=.5*(i-n);return(2*(n-t)+h+f)*l+(-3*(n-t)-2*h-f)*o+h*r+n}function N3e(e,n,t,i,r,o,l,h){for(var f=n.length,m=0;m<f;m++)e[m]=Doe(n[m],t[m],i[m],r[m],o,l,h)}function tW(e){if(Fg(e)){var n=e.length;if(Fg(e[0])){for(var t=[],i=0;i<n;i++)t.push(Moe.call(e[i]));return t}return Moe.call(e)}return e}function TO(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}var MO=[0,0,0,0],zht=function(){function e(n){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=n}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(n,t){n>=this.maxTime?this.maxTime=n:this._needsSort=!0;var i=this.keyframes,r=i.length;if(this.interpolable)if(Fg(t)){var o=function Aht(e){return Fg(e&&e[0])?2:1}(t);if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(1===o&&"number"!=typeof t[0]||2===o&&"number"!=typeof t[0][0])return void(this.interpolable=!1);if(r>0){var l=i[r-1];this._isAllValueEqual&&(1===o&&R3e(t,l.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof t){var h=kd(t);h?(t=h,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof t||isNaN(t))return void(this.interpolable=!1);this._isAllValueEqual&&r>0&&(l=i[r-1],(this.isValueColor&&!R3e(l.value,t)||l.value!==t)&&(this._isAllValueEqual=!1))}var f={time:n,value:t,percent:0};return this.keyframes.push(f),f},e.prototype.prepare=function(n){var t=this.keyframes;this._needsSort&&t.sort(function(f,m){return f.time-m.time});for(var i=this.arrDim,r=t.length,o=t[r-1],l=0;l<r;l++)t[l].percent=t[l].time/this.maxTime,i>0&&l!==r-1&&Dht(t[l].value,o.value,i);if(n&&this.needsAnimate()&&n.needsAnimate()&&i===n.arrDim&&this.isValueColor===n.isValueColor&&!n._finished){this._additiveTrack=n;var h=t[0].value;for(l=0;l<r;l++)0===i?t[l].additiveValue=this.isValueColor?eW([],t[l].value,h,-1):t[l].value-h:1===i?t[l].additiveValue=eW([],t[l].value,h,-1):2===i&&(t[l].additiveValue=L3e([],t[l].value,h,-1))}},e.prototype.step=function(n,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var _,i=null!=this._additiveTrack,r=i?"additiveValue":"value",o=this.keyframes,l=this.keyframes.length,h=this.propName,f=this.arrDim,m=this.isValueColor;if(t<0)_=0;else if(t<this._lastFramePercent){for(_=Math.min(this._lastFrame+1,l-1);_>=0&&!(o[_].percent<=t);_--);_=Math.min(_,l-2)}else{for(_=this._lastFrame;_<l&&!(o[_].percent>t);_++);_=Math.min(_-1,l-2)}var S=o[_+1],M=o[_];if(M&&S){this._lastFrame=_,this._lastFramePercent=t;var O=S.percent-M.percent;if(0!==O){var I=(t-M.percent)/O,N=i?this._additiveValue:m?MO:n[h];if((f>0||m)&&!N&&(N=this._additiveValue=[]),this.useSpline){var V=o[_][r],G=o[0===_?_:_-1][r],X=o[_>l-2?l-1:_+1][r],K=o[_>l-3?l-1:_+2][r];if(f>0)1===f?N3e(N,G,V,X,K,I,I*I,I*I*I):function Pht(e,n,t,i,r,o,l,h){for(var f=n.length,m=n[0].length,_=0;_<f;_++){e[_]||(e[1]=[]);for(var b=0;b<m;b++)e[_][b]=Doe(n[_][b],t[_][b],i[_][b],r[_][b],o,l,h)}}(N,G,V,X,K,I,I*I,I*I*I);else if(m)N3e(N,G,V,X,K,I,I*I,I*I*I),i||(n[h]=TO(N));else{var ne=void 0;ne=this.interpolable?Doe(G,V,X,K,I,I*I,I*I*I):X,i?this._additiveValue=ne:n[h]=ne}}else f>0?1===f?I3e(N,M[r],S[r],I):function Mht(e,n,t,i){for(var r=n.length,o=r&&n[0].length,l=0;l<r;l++){e[l]||(e[l]=[]);for(var h=0;h<o;h++)e[l][h]=SO(n[l][h],t[l][h],i)}}(N,M[r],S[r],I):m?(I3e(N,M[r],S[r],I),i||(n[h]=TO(N))):(ne=void 0,ne=this.interpolable?SO(M[r],S[r],I):function Tht(e,n,t){return t>.5?n:e}(M[r],S[r],I),i?this._additiveValue=ne:n[h]=ne);i&&this._addToTarget(n)}}}},e.prototype._addToTarget=function(n){var t=this.arrDim,i=this.propName,r=this._additiveValue;0===t?this.isValueColor?(kd(n[i],MO),eW(MO,MO,r,1),n[i]=TO(MO)):n[i]=n[i]+r:1===t?eW(n[i],n[i],r,1):2===t&&L3e(n[i],n[i],r,1)},e}(),kht=function(){function e(n,t,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=n,this._loop=t,t&&i?yS("Can' use additive animation on looped animation."):this._additiveAnimators=i}return e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(n){this._target=n},e.prototype.when=function(n,t){return this.whenWithKeys(n,t,ja(t))},e.prototype.whenWithKeys=function(n,t,i){for(var r=this._tracks,o=0;o<i.length;o++){var l=i[o],h=r[l];if(!h){h=r[l]=new zht(l);var f=void 0,m=this._getAdditiveTrack(l);if(m){var _=m.keyframes[m.keyframes.length-1];f=_&&_.value,m.isValueColor&&f&&(f=TO(f))}else f=this._target[l];if(null==f)continue;0!==n&&h.addKeyframe(0,tW(f)),this._trackKeys.push(l)}h.addKeyframe(n,tW(t[l]))}return this._maxTime=Math.max(this._maxTime,n),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var t=n.length,i=0;i<t;i++)n[i].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,t=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},e.prototype._setTracksFinished=function(){for(var n=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)n[t[i]].setFinished()},e.prototype._getAdditiveTrack=function(n){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(n);o&&(t=o)}return t},e.prototype.start=function(n,t){if(!(this._started>0)){this._started=1;for(var i=this,r=[],o=0;o<this._trackKeys.length;o++){var l=this._trackKeys[o],h=this._tracks[l],f=this._getAdditiveTrack(l),m=h.keyframes;if(h.prepare(f),h.needsAnimate())r.push(h);else if(!h.interpolable){var _=m[m.length-1];_&&(i._target[h.propName]=_.value)}}if(r.length||t){var b=new _ht({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(S){i._started=2;var M=i._additiveAnimators;if(M){for(var O=!1,I=0;I<M.length;I++)if(M[I]._clip){O=!0;break}O||(i._additiveAnimators=null)}for(I=0;I<r.length;I++)r[I].step(i._target,S);var N=i._onframeCbs;if(N)for(I=0;I<N.length;I++)N[I](i._target,S)},ondestroy:function(){i._doneCallback()}});this._clip=b,this.animation&&this.animation.addClip(b),n&&"spline"!==n&&(b.easing=n)}else this._doneCallback();return this}},e.prototype.stop=function(n){this._clip&&(n&&this._clip.onframe(1),this._abortedCallback())},e.prototype.delay=function(n){return this._delay=n,this},e.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},e.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},e.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(n){return this._tracks[n]},e.prototype.stopTracks=function(n,t){if(!n.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<n.length;o++){var l=i[n[o]];l&&(t?l.step(this._target,1):1===this._started&&l.step(this._target,0),l.setFinished())}var h=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){h=!1;break}return h&&this._abortedCallback(),h},e.prototype.saveFinalToTarget=function(n,t){if(n){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o&&!o.isFinished()){var l=o.keyframes,h=l[l.length-1];if(h){var f=tW(h.value);o.isValueColor&&(f=TO(f)),n[r]=f}}}}},e.prototype.__changeFinalValue=function(n,t){t=t||ja(n);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var l=o.keyframes;if(l.length>1){var h=l.pop();o.addKeyframe(h.time,n[r]),o.prepare(o.getAdditiveTrack())}}}},e}();const nW=kht;var Oht=function(e){function n(t){var i=e.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i.onframe=t.onframe||function(){},i}return $o(n,e),n.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},n.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},n.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._clipsHead=r,r?r.prev=i:this._clipsTail=i,t.next=t.prev=t.animation=null}},n.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},n.prototype.update=function(t){for(var i=(new Date).getTime()-this._pausedTime,r=i-this._time,o=this._clipsHead;o;){var l=o.next;o.step(i,r)&&(o.ondestroy&&o.ondestroy(),this.removeClip(o)),o=l}this._time=i,t||(this.onframe(r),this.trigger("frame",r),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var t=this;this._running=!0,MS(function i(){t._running&&(MS(i),!t._paused&&t.update())})},n.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var t=this._clipsHead;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._clipsHead=this._clipsTail=null},n.prototype.isFinished=function(){return null==this._clipsHead},n.prototype.animate=function(t,i){i=i||{},this.start();var r=new nW(t,i.loop);return this.addAnimator(r),r},n}(Mm);const Eht=Oht;var Poe=jo.domSupported,Aoe=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:Gi(e,function(r){var o=r.replace("mouse","pointer");return t.hasOwnProperty(o)?o:r})}}(),F3e_mouse=["mousemove","mouseup"],F3e_pointer=["pointermove","pointerup"],B3e=!1;function zoe(e){var n=e.pointerType;return"pen"===n||"touch"===n}function koe(e){e&&(e.zrByTouch=!0)}function V3e(e,n){for(var t=n,i=!1;t&&9!==t.nodeType&&!(i=t.domBelongToZr||t!==n&&t===e.painterRoot);)t=t.parentNode;return i}var Nht=function e(n,t){this.stopPropagation=qv,this.stopImmediatePropagation=qv,this.preventDefault=qv,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},Yg={mousedown:function(e){e=Vg(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Vg(this.dom,e);var n=this.__mayPointerCapture;n&&(e.zrX!==n[0]||e.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Vg(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){V3e(this,(e=Vg(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){B3e=!0,e=Vg(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){B3e||(e=Vg(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){koe(e=Vg(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Yg.mousemove.call(this,e),Yg.mousedown.call(this,e)},touchmove:function(e){koe(e=Vg(this.dom,e)),this.handler.processGesture(e,"change"),Yg.mousemove.call(this,e)},touchend:function(e){koe(e=Vg(this.dom,e)),this.handler.processGesture(e,"end"),Yg.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&Yg.click.call(this,e)},pointerdown:function(e){Yg.mousedown.call(this,e)},pointermove:function(e){zoe(e)||Yg.mousemove.call(this,e)},pointerup:function(e){Yg.mouseup.call(this,e)},pointerout:function(e){zoe(e)||Yg.mouseout.call(this,e)}};Ke(["click","dblclick","contextmenu"],function(e){Yg[e]=function(n){n=Vg(this.dom,n),this.trigger(e,n)}});var Ooe={pointermove:function(e){zoe(e)||Ooe.mousemove.call(this,e)},pointerup:function(e){Ooe.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),n&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function iW(e,n,t,i){e.mounted[n]=t,e.listenerOpts[n]=i,function eht(e,n,t,i){foe?e.addEventListener(n,t,i):e.attachEvent("on"+n,t)}(e.domTarget,n,t,i)}function Eoe(e){var n=e.mounted;for(var t in n)n.hasOwnProperty(t)&&tht(e.domTarget,t,n[t],e.listenerOpts[t]);e.mounted={}}var H3e=function e(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},Vht=function(e){function n(t,i){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new H3e(t,Yg),Poe&&(r._globalHandlerScope=new H3e(document,Ooe)),function Fht(e,n){var t=n.domHandlers;jo.pointerEventsSupported?Ke(Aoe.pointer,function(i){iW(n,i,function(r){t[i].call(e,r)})}):(jo.touchEventsSupported&&Ke(Aoe.touch,function(i){iW(n,i,function(r){t[i].call(e,r),function Lht(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}(n)})}),Ke(Aoe.mouse,function(i){iW(n,i,function(r){r=moe(r),n.touching||t[i].call(e,r)})}))}(r,r._localHandlerScope),r}return $o(n,e),n.prototype.dispose=function(){Eoe(this._localHandlerScope),Poe&&Eoe(this._globalHandlerScope)},n.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},n.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Poe&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?function Bht(e,n){function t(i){iW(n,i,function r(o){o=moe(o),V3e(e,o.target)||(o=function Rht(e,n){return Vg(e.dom,new Nht(e,n),!0)}(e,o),n.domHandlers[i].call(e,o))},{capture:!0})}jo.pointerEventsSupported?Ke(F3e_pointer,t):jo.touchEventsSupported||Ke(F3e_mouse,t)}(this,i):Eoe(i)}},n}(Mm);const Hht=Vht;var Y3e=1;typeof window<"u"&&(Y3e=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var rW=Y3e;function U3e(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function kS(e,n,t){var r=n[1]*t[0]+n[3]*t[1],o=n[0]*t[2]+n[2]*t[3],l=n[1]*t[2]+n[3]*t[3],h=n[0]*t[4]+n[2]*t[5]+n[4],f=n[1]*t[4]+n[3]*t[5]+n[5];return e[0]=n[0]*t[0]+n[2]*t[1],e[1]=r,e[2]=o,e[3]=l,e[4]=h,e[5]=f,e}function Noe(e,n,t){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4]+t[0],e[5]=n[5]+t[1],e}function W3e(e,n,t){var i=n[0],r=n[2],o=n[4],l=n[1],h=n[3],f=n[5],m=Math.sin(t),_=Math.cos(t);return e[0]=i*_+l*m,e[1]=-i*m+l*_,e[2]=r*_+h*m,e[3]=-r*m+_*h,e[4]=_*o+m*f,e[5]=_*f-m*o,e}function j3e(e,n,t){var i=t[0],r=t[1];return e[0]=n[0]*i,e[1]=n[1]*r,e[2]=n[2]*i,e[3]=n[3]*r,e[4]=n[4]*i,e[5]=n[5]*r,e}function oW(e,n){var t=n[0],i=n[2],r=n[4],o=n[1],l=n[3],h=n[5],f=t*l-o*i;return f?(e[0]=l*(f=1/f),e[1]=-o*f,e[2]=-i*f,e[3]=t*f,e[4]=(i*h-l*r)*f,e[5]=(o*r-t*h)*f,e):null}var $3e=U3e;function DO(e){return e>5e-5||e<-5e-5}var K6=[],OS=[],Foe=[1,0,0,1,0,0],Boe=Math.abs,Uht=function(){function e(){}return e.prototype.getLocalTransform=function(n){return e.getLocalTransform(this,n)},e.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},e.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},e.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},e.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},e.prototype.needLocalTransform=function(){return DO(this.rotation)||DO(this.x)||DO(this.y)||DO(this.scaleX-1)||DO(this.scaleY-1)},e.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||n?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):$3e(i),n&&(t?kS(i,n,i):function G3e(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e}(i,n)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&$3e(i)},e.prototype._resolveGlobalScaleRatio=function(n){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(K6);var i=K6[0]<0?-1:1,r=K6[1]<0?-1:1,o=((K6[0]-i)*t+i)/K6[0]||0,l=((K6[1]-r)*t+r)/K6[1]||0;n[0]*=o,n[1]*=o,n[2]*=l,n[3]*=l}this.invTransform=this.invTransform||[1,0,0,1,0,0],oW(this.invTransform,n)},e.prototype.getComputedTransform=function(){for(var n=this,t=[];n;)t.push(n),n=n.parent;for(;n=t.pop();)n.updateTransform();return this.transform},e.prototype.setLocalTransform=function(n){if(n){var t=n[0]*n[0]+n[1]*n[1],i=n[2]*n[2]+n[3]*n[3],r=Math.atan2(n[1],n[0]),o=Math.PI/2+r-Math.atan2(n[3],n[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+n[4],this.y=+n[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,t=this.transform;n&&n.transform&&(kS(OS,n.invTransform,t),t=OS);var i=this.originX,r=this.originY;(i||r)&&(Foe[4]=i,Foe[5]=r,kS(OS,t,Foe),OS[4]-=i,OS[5]-=r,t=OS),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(n){var t=this.transform;return n=n||[],t?(n[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(n[0]=-n[0]),t[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},e.prototype.transformCoordToLocal=function(n,t){var i=[n,t],r=this.invTransform;return r&&Tm(i,i,r),i},e.prototype.transformCoordToGlobal=function(n,t){var i=[n,t],r=this.transform;return r&&Tm(i,i,r),i},e.prototype.getLineScale=function(){var n=this.transform;return n&&Boe(n[0]-1)>1e-10&&Boe(n[3]-1)>1e-10?Math.sqrt(Boe(n[0]*n[3]-n[2]*n[1])):1},e.prototype.copyTransform=function(n){for(var i=0;i<q3e.length;i++){var r=q3e[i];this[r]=n[r]}},e.getLocalTransform=function(n,t){t=t||[];var i=n.originX||0,r=n.originY||0,o=n.scaleX,l=n.scaleY,h=n.rotation||0,f=n.x,m=n.y,_=n.skewX?Math.tan(n.skewX):0,b=n.skewY?Math.tan(-n.skewY):0;return i||r?(t[4]=-i*o-_*r*l,t[5]=-r*l-b*i*o):t[4]=t[5]=0,t[0]=o,t[3]=l,t[1]=b*o,t[2]=_*l,h&&W3e(t,t,h),t[4]+=i+f,t[5]+=r+m,t},e.initDefaultProps=((n=e.prototype).x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.originX=0,n.originY=0,n.skewX=0,n.skewY=0,n.rotation=0,void(n.globalScaleRatio=1)),e;var n}(),q3e=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"];const Voe=Uht;var Ght=function(){function e(n,t){this.x=n||0,this.y=t||0}return e.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(n,t){return this.x=n,this.y=t,this},e.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},e.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},e.prototype.scale=function(n){this.x*=n,this.y*=n},e.prototype.scaleAndAdd=function(n,t){this.x+=n.x*t,this.y+=n.y*t},e.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},e.prototype.dot=function(n){return this.x*n.x+this.y*n.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},e.prototype.distance=function(n){var t=this.x-n.x,i=this.y-n.y;return Math.sqrt(t*t+i*i)},e.prototype.distanceSquare=function(n){var t=this.x-n.x,i=this.y-n.y;return t*t+i*i},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(n){if(n){var t=this.x,i=this.y;return this.x=n[0]*t+n[2]*i+n[4],this.y=n[1]*t+n[3]*i+n[5],this}},e.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},e.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},e.set=function(n,t,i){n.x=t,n.y=i},e.copy=function(n,t){n.x=t.x,n.y=t.y},e.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},e.lenSquare=function(n){return n.x*n.x+n.y*n.y},e.dot=function(n,t){return n.x*t.x+n.y*t.y},e.add=function(n,t,i){n.x=t.x+i.x,n.y=t.y+i.y},e.sub=function(n,t,i){n.x=t.x-i.x,n.y=t.y-i.y},e.scale=function(n,t,i){n.x=t.x*i,n.y=t.y*i},e.scaleAndAdd=function(n,t,i,r){n.x=t.x+i.x*r,n.y=t.y+i.y*r},e.lerp=function(n,t,i,r){var o=1-r;n.x=o*t.x+r*i.x,n.y=o*t.y+r*i.y},e}();const br=Ght;var aW=Math.min,sW=Math.max,Q6=new br,J6=new br,ex=new br,tx=new br,PO=new br,AO=new br,Wht=function(){function e(n,t,i,r){i<0&&(n+=i,i=-i),r<0&&(t+=r,r=-r),this.x=n,this.y=t,this.width=i,this.height=r}return e.prototype.union=function(n){var t=aW(n.x,this.x),i=aW(n.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?sW(n.x+n.width,this.x+this.width)-t:n.width,this.height=isFinite(this.y)&&isFinite(this.height)?sW(n.y+n.height,this.y+this.height)-i:n.height,this.x=t,this.y=i},e.prototype.applyTransform=function(n){e.applyTransform(this,this,n)},e.prototype.calculateTransform=function(n){var t=this,i=n.width/t.width,r=n.height/t.height,o=[1,0,0,1,0,0];return Noe(o,o,[-t.x,-t.y]),j3e(o,o,[i,r]),Noe(o,o,[n.x,n.y]),o},e.prototype.intersect=function(n,t){if(!n)return!1;n instanceof e||(n=e.create(n));var i=this,r=i.x,o=i.x+i.width,l=i.y,h=i.y+i.height,f=n.x,m=n.x+n.width,_=n.y,b=n.y+n.height,S=!(o<f||m<r||h<_||b<l);if(t){var M=1/0,O=0,I=Math.abs(o-f),N=Math.abs(m-r),V=Math.abs(h-_),G=Math.abs(b-l),X=Math.min(I,N),K=Math.min(V,G);o<f||m<r?X>O&&(O=X,br.set(AO,I<N?-I:N,0)):X<M&&(M=X,br.set(PO,I<N?I:-N,0)),h<_||b<l?K>O&&(O=K,br.set(AO,0,V<G?-V:G)):X<M&&(M=X,br.set(PO,0,V<G?V:-G))}return t&&br.copy(t,S?PO:AO),S},e.prototype.contain=function(n,t){var i=this;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(n){e.copy(this,n)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(n){return new e(n.x,n.y,n.width,n.height)},e.copy=function(n,t){n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height},e.applyTransform=function(n,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],h=i[5];return n.x=t.x*r+i[4],n.y=t.y*o+h,n.width=t.width*r,n.height=t.height*o,n.width<0&&(n.x+=n.width,n.width=-n.width),void(n.height<0&&(n.y+=n.height,n.height=-n.height))}Q6.x=ex.x=t.x,Q6.y=tx.y=t.y,J6.x=tx.x=t.x+t.width,J6.y=ex.y=t.y+t.height,Q6.transform(i),tx.transform(i),J6.transform(i),ex.transform(i),n.x=aW(Q6.x,J6.x,ex.x,tx.x),n.y=aW(Q6.y,J6.y,ex.y,tx.y);var f=sW(Q6.x,J6.x,ex.x,tx.x),m=sW(Q6.y,J6.y,ex.y,tx.y);n.width=f-n.x,n.height=m-n.y}else n!==t&&e.copy(n,t)},e}();const fo=Wht;var lW,K3e,Z3e={},ES="12px sans-serif",Hoe_measureText=function jht(e,n){return lW||(lW=WG().getContext("2d")),K3e!==n&&(K3e=lW.font=n||ES),lW.measureText(e)};function Od(e,n){var t=Z3e[n=n||ES];t||(t=Z3e[n]=new DS(500));var i=t.get(e);return null==i&&(i=Hoe_measureText(e,n).width,t.put(e,i)),i}function Q3e(e,n,t,i){var r=Od(e,n),o=Yoe(n),l=zO(0,r,t),h=IS(0,o,i);return new fo(l,h,r,o)}function J3e(e,n,t,i){var r=((e||"")+"").split("\n");if(1===r.length)return Q3e(r[0],n,t,i);for(var l=new fo(0,0,0,0),h=0;h<r.length;h++){var f=Q3e(r[h],n,t,i);0===h?l.copy(f):l.union(f)}return l}function zO(e,n,t){return"right"===t?e-=n:"center"===t&&(e-=n/2),e}function IS(e,n,t){return"middle"===t?e-=n/2:"bottom"===t&&(e-=n),e}function Yoe(e){return Od("\u56fd",e)}function nx(e,n){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*n:parseFloat(e):e}function eye(e,n,t){var i=n.position||"inside",r=null!=n.distance?n.distance:5,o=t.height,l=t.width,h=o/2,f=t.x,m=t.y,_="left",b="top";if(i instanceof Array)f+=nx(i[0],t.width),m+=nx(i[1],t.height),_=null,b=null;else switch(i){case"left":f-=r,m+=h,_="right",b="middle";break;case"right":f+=r+l,m+=h,b="middle";break;case"top":f+=l/2,m-=r,_="center",b="bottom";break;case"bottom":f+=l/2,m+=o+r,_="center";break;case"inside":f+=l/2,m+=h,_="center",b="middle";break;case"insideLeft":f+=r,m+=h,b="middle";break;case"insideRight":f+=l-r,m+=h,_="right",b="middle";break;case"insideTop":f+=l/2,m+=r,_="center";break;case"insideBottom":f+=l/2,m+=o-r,_="center",b="bottom";break;case"insideTopLeft":f+=r,m+=r;break;case"insideTopRight":f+=l-r,m+=r,_="right";break;case"insideBottomLeft":f+=r,m+=o-r,b="bottom";break;case"insideBottomRight":f+=l-r,m+=o-r,_="right",b="bottom"}return(e=e||{}).x=f,e.y=m,e.align=_,e.verticalAlign=b,e}var Uoe="__zr_normal__",Goe=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],$ht={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},LS={},Xht=new fo(0,0,0,0),Woe=function(){function e(n){this.id=l3e(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return e.prototype._init=function(n){this.attr(n)},e.prototype.drift=function(n,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=n,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(n){var t=this._textContent;if(t&&(!t.ignore||n)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,l=void 0,h=void 0,f=!1;o.parent=r?this:null;var m=!1;if(o.copyTransform(t),null!=i.position){var _=Xht;_.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||_.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(LS,i,_):eye(LS,i,_),o.x=LS.x,o.y=LS.y,l=LS.align,h=LS.verticalAlign;var b=i.origin;if(b&&null!=i.rotation){var S=void 0,M=void 0;"center"===b?(S=.5*_.width,M=.5*_.height):(S=nx(b[0],_.width),M=nx(b[1],_.height)),m=!0,o.originX=-o.x+S+(r?0:_.x),o.originY=-o.y+M+(r?0:_.y)}}null!=i.rotation&&(o.rotation=i.rotation);var O=i.offset;O&&(o.x+=O[0],o.y+=O[1],m||(o.originX=-O[0],o.originY=-O[1]));var I=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,N=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),V=void 0,G=void 0,X=void 0;I&&this.canBeInsideText()?(G=i.insideStroke,(null==(V=i.insideFill)||"auto"===V)&&(V=this.getInsideTextFill()),(null==G||"auto"===G)&&(G=this.getInsideTextStroke(V),X=!0)):(G=i.outsideStroke,(null==(V=i.outsideFill)||"auto"===V)&&(V=this.getOutsideFill()),(null==G||"auto"===G)&&(G=this.getOutsideStroke(V),X=!0)),((V=V||"#000")!==N.fill||G!==N.stroke||X!==N.autoStroke||l!==N.align||h!==N.verticalAlign)&&(f=!0,N.fill=V,N.stroke=G,N.autoStroke=X,N.align=l,N.verticalAlign=h,t.setDefaultTextStyle(N)),t.__dirty|=1,f&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(n){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},e.prototype.getOutsideStroke=function(n){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&kd(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),l=0;l<3;l++)i[l]=i[l]*r+(o?0:255)*(1-r);return i[3]=1,zS(i,"rgba")},e.prototype.traverse=function(n,t){},e.prototype.attrKV=function(n,t){"textConfig"===n?this.setTextConfig(t):"textContent"===n?this.setTextContent(t):"clipPath"===n?this.setClipPath(t):"extra"===n?(this.extra=this.extra||{},Tn(this.extra,t)):this[n]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(n,t){if("string"==typeof n)this.attrKV(n,t);else if(Xi(n))for(var r=ja(n),o=0;o<r.length;o++){var l=r[o];this.attrKV(l,n[l])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!o||o===Uoe){var l=r.targetName;r.saveFinalToTarget(l?t[l]:t)}}},e.prototype._innerSaveToNormal=function(n){var t=this._normalState;t||(t=this._normalState={}),n.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(n,t,Goe)},e.prototype._savePrimaryToNormal=function(n,t,i){for(var r=0;r<i.length;r++){var o=i[r];null!=n[o]&&!(o in t)&&(t[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(n){return this.states[n]},e.prototype.ensureState=function(n){var t=this.states;return t[n]||(t[n]={}),t[n]},e.prototype.clearStates=function(n){this.useState(Uoe,!1,n)},e.prototype.useState=function(n,t,i,r){var o=n===Uoe;if(this.hasState()||!o){var h=this.currentStates,f=this.stateTransition;if(!(xa(h,n)>=0)||!t&&1!==h.length){var m;if(this.stateProxy&&!o&&(m=this.stateProxy(n)),m||(m=this.states&&this.states[n]),!m&&!o)return void yS("State "+n+" not exists.");o||this.saveCurrentToNormalState(m);var _=!!(m&&m.hoverLayer||r);_&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,m,this._normalState,t,!i&&!this.__inHover&&f&&f.duration>0,f);var b=this._textContent,S=this._textGuide;return b&&b.useState(n,t,i,_),S&&S.useState(n,t,i,_),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),m}}},e.prototype.useStates=function(n,t,i){if(n.length){var r=[],o=this.currentStates,l=n.length,h=l===o.length;if(h)for(var f=0;f<l;f++)if(n[f]!==o[f]){h=!1;break}if(h)return;for(f=0;f<l;f++){var m=n[f],_=void 0;this.stateProxy&&(_=this.stateProxy(m,n)),_||(_=this.states[m]),_&&r.push(_)}var b=r[l-1],S=!!(b&&b.hoverLayer||i);S&&this._toggleHoverLayerFlag(!0);var M=this._mergeStates(r),O=this.stateTransition;this.saveCurrentToNormalState(M),this._applyStateObj(n.join(","),M,this._normalState,!1,!t&&!this.__inHover&&O&&O.duration>0,O);var I=this._textContent,N=this._textGuide;I&&I.useStates(n,t,S),N&&N.useStates(n,t,S),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var t=this.animators[n];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(n){var t=xa(this.currentStates,n);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},e.prototype.replaceState=function(n,t,i){var r=this.currentStates.slice(),o=xa(r,n),l=xa(r,t)>=0;o>=0?l?r.splice(o,1):r[o]=t:i&&!l&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(n,t){t?this.useState(n,!0):this.removeState(n)},e.prototype._mergeStates=function(n){for(var i,t={},r=0;r<n.length;r++){var o=n[r];Tn(t,o),o.textConfig&&Tn(i=i||{},o.textConfig)}return i&&(t.textConfig=i),t},e.prototype._applyStateObj=function(n,t,i,r,o,l){var h=!(t&&r);t&&t.textConfig?(this.textConfig=Tn({},r?this.textConfig:i.textConfig),Tn(this.textConfig,t.textConfig)):h&&i.textConfig&&(this.textConfig=i.textConfig);for(var f={},m=!1,_=0;_<Goe.length;_++){var b=Goe[_],S=o&&$ht[b];t&&null!=t[b]?S?(m=!0,f[b]=t[b]):this[b]=t[b]:h&&null!=i[b]&&(S?(m=!0,f[b]=i[b]):this[b]=i[b])}if(!o)for(_=0;_<this.animators.length;_++){var M=this.animators[_],O=M.targetName;M.__changeFinalValue(O?(t||i)[O]:t||i)}m&&this._transitionState(n,f,l)},e.prototype._attachComponent=function(n){if(n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");if(n===this)throw new Error("Recursive component attachment.");var t=this.__zr;t&&n.addSelfToZr(t),n.__zr=t,n.__hostTarget=this},e.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},e.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(n){var t=this._textContent;if(t!==n){if(t&&t!==n&&this.removeTextContent(),n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");n.innerTransformable=new Voe,this._attachComponent(n),this._textContent=n,this.markRedraw()}},e.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),Tn(this.textConfig,n),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=1;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=n),i&&(i.__inHover=n)},e.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var t=this.animators;if(t)for(var i=0;i<t.length;i++)n.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)n.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},e.prototype.animate=function(n,t){var i=n?this[n]:this;if(i){var r=new nW(i,t);return this.addAnimator(r,n),r}yS('Property "'+n+'" is not existed in element '+this.id)},e.prototype.addAnimator=function(n,t){var i=this.__zr,r=this;n.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,l=xa(o,n);l>=0&&o.splice(l,1)}),this.animators.push(n),i&&i.animation.addAnimator(n),i&&i.wakeUp()},e.prototype.updateDuringAnimation=function(n){this.markRedraw()},e.prototype.stopAnimation=function(n,t){for(var i=this.animators,r=i.length,o=[],l=0;l<r;l++){var h=i[l];n&&n!==h.scope?o.push(h):h.stop(t)}return this.animators=o,this},e.prototype.animateTo=function(n,t,i){joe(this,n,t,i)},e.prototype.animateFrom=function(n,t,i){joe(this,n,t,i,!0)},e.prototype._transitionState=function(n,t,i,r){for(var o=joe(this,t,i,r),l=0;l<o.length;l++)o[l].__fromStateTransition=n},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var n=e.prototype;n.type="element",n.name="",n.ignore=!1,n.silent=!1,n.isGroup=!1,n.draggable=!1,n.dragging=!1,n.ignoreClip=!1,n.__inHover=!1,n.__dirty=1;var t={};function i(o,l,h){t[o+l+h]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+l+"', '"+h+"' instead"),t[o+l+h]=!0)}function r(o,l,h,f){function m(_,b){Object.defineProperty(b,0,{get:function(){return _[h]},set:function(S){_[h]=S}}),Object.defineProperty(b,1,{get:function(){return _[f]},set:function(S){_[f]=S}})}Object.defineProperty(n,o,{get:function(){return i(o,h,f),this[l]||m(this,this[l]=[]),this[l]},set:function(_){i(o,h,f),this[h]=_[0],this[f]=_[1],this[l]=_,m(this,_)}})}Object.defineProperty&&(!jo.browser.ie||jo.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();function joe(e,n,t,i,r){var o=[];tye(e,"",e,n,t=t||{},i,o,r);var l=o.length,h=!1,f=t.done,m=t.aborted,_=function(){h=!0,--l<=0&&(h?f&&f():m&&m())},b=function(){--l<=0&&(h?f&&f():m&&m())};l||f&&f(),o.length>0&&t.during&&o[0].during(function(O,I){t.during(I)});for(var S=0;S<o.length;S++){var M=o[S];_&&M.done(_),b&&M.aborted(b),M.start(t.easing,t.force)}return o}function $oe(e,n,t){for(var i=0;i<t;i++)e[i]=n[i]}function Zht(e,n,t){if(Fg(n[t]))if(Fg(e[t])||(e[t]=[]),Ad(n[t])){var i=n[t].length;e[t].length!==i&&(e[t]=new n[t].constructor(i),$oe(e[t],n[t],i))}else{var r=n[t],o=e[t],l=r.length;if(function qht(e){return Fg(e[0])}(r))for(var h=r[0].length,f=0;f<l;f++)o[f]?$oe(o[f],r[f],h):o[f]=Array.prototype.slice.call(r[f]);else $oe(o,r,l);o.length=r.length}else e[t]=n[t]}function tye(e,n,t,i,r,o,l,h){for(var f=[],m=[],_=ja(i),b=r.duration,S=r.delay,M=r.additive,O=r.setToFinal,I=!Xi(o),N=0;N<_.length;N++)if(null!=t[V=_[N]]&&null!=i[V]&&(I||o[V]))if(Xi(i[V])&&!Fg(i[V])){if(n){h||(t[V]=i[V],e.updateDuringAnimation(n));continue}tye(e,V,t[V],i[V],r,o&&o[V],l,h)}else f.push(V),m.push(V);else h||(t[V]=i[V],e.updateDuringAnimation(n),m.push(V));var G=f.length;if(G>0||r.force&&!l.length){for(var X=e.animators,K=[],ne=0;ne<X.length;ne++)X[ne].targetName===n&&K.push(X[ne]);if(!M&&K.length)for(ne=0;ne<K.length;ne++)if(K[ne].stopTracks(m)){var pe=xa(X,K[ne]);X.splice(pe,1)}var ve=void 0,ye=void 0,Se=void 0;if(h)for(ye={},O&&(ve={}),ne=0;ne<G;ne++)ye[V=f[ne]]=t[V],O?ve[V]=i[V]:t[V]=i[V];else if(O)for(Se={},ne=0;ne<G;ne++){var V;Se[V=f[ne]]=tW(t[V]),Zht(t,i,V)}var xe=new nW(t,!1,M?K:null);xe.targetName=n,r.scope&&(xe.scope=r.scope),O&&ve&&xe.whenWithKeys(0,ve,f),Se&&xe.whenWithKeys(0,Se,f),xe.whenWithKeys(b??500,h?ye:i,f).delay(S||0),e.addAnimator(xe,n),l.push(xe)}}ip(Woe,Mm),ip(Woe,Voe);const nye=Woe;var iye=function(e){function n(t){var i=e.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return $o(n,e),n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(t){return this._children[t]},n.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},n.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},n.prototype.replace=function(t,i){var r=xa(this._children,t);return r>=0&&this.replaceAt(i,r),this},n.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var l=this.__zr;l&&o.removeSelfFromZr(l),this._doAdd(t)}return this},n.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},n.prototype.remove=function(t){var i=this.__zr,r=this._children,o=xa(r,t);return o<0||(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},n.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},n.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++)t.call(i,r[o],o);return this},n.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],l=t.call(i,o);o.isGroup&&!l&&o.traverse(t,i)}return this},n.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},n.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},n.prototype.getBoundingRect=function(t){for(var i=new fo(0,0,0,0),r=t||this._children,o=[],l=null,h=0;h<r.length;h++){var f=r[h];if(!f.ignore&&!f.invisible){var m=f.getBoundingRect(),_=f.getLocalTransform(o);_?(fo.applyTransform(i,m,_),(l=l||i.clone()).union(i)):(l=l||m.clone()).union(m)}}return l||i},n}(nye);iye.prototype.type="group";const Dm=iye;var Kht=!jo.canvasSupported,kO={},ix={},edt=function(){function e(n,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=n;var o=new ght,l=i.renderer||"canvas";if(Kht)throw new Error("IE8 support has been dropped since 5.0");if(kO[l]||(l=ja(kO)[0]),!kO[l])throw new Error("Renderer '"+l+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var h=new kO[l](t,o,i,n);this.storage=o,this.painter=h;var f=jo.node||jo.worker?null:new Hht(h.getViewportRoot(),h.root);this.handler=new uht(o,h,f,h.root),this.animation=new Eht({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return e.prototype.add=function(n){n&&(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},e.prototype.remove=function(n){n&&(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(n,t){this.painter.configLayer&&this.painter.configLayer(n,t),this.refresh()},e.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=function Jht(e){if(!e)return!1;if("string"==typeof e)return JG(e,1)<.4;if(e.colorStops){for(var n=e.colorStops,t=0,i=n.length,r=0;r<i;r++)t+=JG(n[r].color,1);return(t/=i)<.4}return!1}(n)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(n){this._darkMode=n},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(n){var t,i=(new Date).getTime();this._needsRefresh&&(t=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=(new Date).getTime();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.addHover=function(n){},e.prototype.removeHover=function(n){},e.prototype.clearHover=function(){},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(n){this.painter.resize((n=n||{}).width,n.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.pathToImage=function(n,t){if(this.painter.pathToImage)return this.painter.pathToImage(n,t)},e.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},e.prototype.findHover=function(n,t){return this.handler.findHover(n,t)},e.prototype.on=function(n,t,i){return this.handler.on(n,t,i),this},e.prototype.off=function(n,t){this.handler.off(n,t)},e.prototype.trigger=function(n,t){this.handler.trigger(n,t)},e.prototype.clear=function(){for(var n=this.storage.getRoots(),t=0;t<n.length;t++)n[t]instanceof Dm&&n[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function Qht(e){delete ix[e]}(this.id)},e}();function Xoe(e,n){var t=new edt(l3e(),e,n);return ix[t.id]=t,t}function cW(e,n,t,i){var r=n[0],o=n[1],l=t[0],h=t[1],f=o-r,m=h-l;if(0===f)return 0===m?l:(l+h)/2;if(i)if(f>0){if(e<=r)return l;if(e>=o)return h}else{if(e>=r)return l;if(e<=o)return h}else{if(e===r)return l;if(e===o)return h}return(e-r)/f*m+l}function Ed(e,n){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function ndt(e){return e.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*n:parseFloat(e):null==e?NaN:+e}function Gu(e,n,t){return null==n&&(n=10),n=Math.min(Math.max(0,n),20),e=(+e).toFixed(n),t?e:+e}function Zv(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var n=1,t=0;t<15;t++,n*=10)if(Math.round(e*n)/n===e)return t;return qoe(e)}function qoe(e){var n=e.toString().toLowerCase(),t=n.indexOf("e"),i=t>0?+n.slice(t+1):0,r=t>0?t:n.length,o=n.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}function rdt(e,n){var t=Math.max(Zv(e),Zv(n)),i=e+n;return t>20?i:Gu(i,t)}var odt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ug(e){if(e instanceof Date)return e;if("string"==typeof e){var n=odt.exec(e);if(!n)return new Date(NaN);if(n[8]){var t=+n[4]||0;return"Z"!==n[8].toUpperCase()&&(t-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,t,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function aye(e){if(0===e)return 0;var n=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,n)>=10&&n++,n}function sye(e,n){var t=aye(e),i=Math.pow(10,t),r=e/i;return e=(n?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+e.toFixed(t<0?-t:0):e}function $4(e){var n=parseFloat(e);return n==e&&(0!==n||"string"!=typeof e||e.indexOf("x")<=0)?n:NaN}function lye(){return Math.round(9*Math.random())}function cye(e,n){return 0===n?e:cye(n,e%n)}function uye(e,n){return null==e?n:null==n?e:e*n/cye(e,n)}function nu(e){return e instanceof Array?e:null==e?[]:[e]}function fye(e,n,t){if(e){e[n]=e[n]||{},e.emphasis=e.emphasis||{},e.emphasis[n]=e.emphasis[n]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!e.emphasis[n].hasOwnProperty(o)&&e[n].hasOwnProperty(o)&&(e.emphasis[n][o]=e[n][o])}}}var pye=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function OO(e){return!Xi(e)||si(e)||e instanceof Date?e:e.value}function ldt(e){return Xi(e)&&!(e instanceof Array)}function gye(e,n,t){var i=Gg(n[e],null),r=Gg(t[e],null);return null!=i&&null!=r&&i===r}function EO(e){return Gg(e,"")}function Gg(e,n){if(null==e)return n;var t=typeof e;return"string"===t?e:"number"===t||function eoe(e){return"[object String]"===_S.call(e)}(e)?e+"":n}function mye(e){var n=e.name;return!(!n||!n.indexOf("series\0"))}function IO(e){return e&&null!=e.id&&0===EO(e.id).indexOf("\0_ec_\0")}function uW(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?si(n.dataIndex)?Gi(n.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?si(n.name)?Gi(n.name,function(t){return e.indexOfName(t)}):e.indexOfName(n.name):void 0}function Ql(){var e="__ec_inner_"+_dt++;return function(n){return n[e]||(n[e]={})}}var _dt=lye();function Zoe(e,n,t){var i=vye(n,t),o=i.queryOptionMap,h=i.others,f=t?t.defaultMainType:null;return!i.mainTypeSpecified&&f&&o.set(f,{}),o.each(function(m,_){var b=hW(e,_,m,{useDefault:f===_,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});h[_+"Models"]=b.models,h[_+"Model"]=b.models[0]}),h}function vye(e,n){var t;if(js(e)){var i={};i[e+"Index"]=0,t=i}else t=e;var r=Ji(),o={},l=!1;return Ke(t,function(h,f){if("dataIndex"!==f&&"dataIndexInside"!==f){var m=f.match(/^(\w+)(Index|Id|Name)$/)||[],_=m[1],b=(m[2]||"").toLowerCase();!_||!b||n&&n.includeMainTypes&&xa(n.includeMainTypes,_)<0||(l=l||!!_,(r.get(_)||r.set(_,{}))[b]=h)}else o[f]=h}),{mainTypeSpecified:l,queryOptionMap:r,others:o}}var rx={useDefault:!0,enableAll:!1,enableNone:!1};function hW(e,n,t,i){i=i||rx;var r=t.index,o=t.id,l=t.name,h={models:null,specified:null!=r||null!=o||null!=l};if(!h.specified){var f=void 0;return h.models=i.useDefault&&(f=e.getComponent(n))?[f]:[],h}return"none"===r||!1===r?(Bg(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),h.models=[],h):("all"===r&&(Bg(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=l=null),h.models=e.queryComponents({mainType:n,index:r,id:o,name:l}),h)}var ox="___EC__COMPONENT__CONTAINER___",yye="___EC__EXTENDED_CLASS___";function Pm(e){var n={main:"",sub:""};if(e){var t=e.split(".");n.main=t[0]||"",n.sub=t[1]||""}return n}function Koe(e,n){e.$constructor=e,e.extend=function(t){var i=this;function r(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(Sdt(i)){var h=yO(r.prototype,new(i.bind.apply(i,Tut([void 0],o))));return h}i.apply(this,arguments)}}return r[yye]=!0,Tn(r.prototype,t),r.extend=this.extend,r.superCall=Ddt,r.superApply=Pdt,Jre(r,this),r.superClass=i,r}}function Sdt(e){return"function"==typeof e&&/^class\s/.test(Function.prototype.toString.call(e))}function xye(e,n){e.extend=n.extend}var Tdt=Math.round(10*Math.random());function Ddt(e,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[n].apply(e,t)}function Pdt(e,n,t){return this.superClass.prototype[n].apply(e,t)}function dW(e){var n={};e.registerClass=function(i){var r=i.type||i.prototype.type;if(r){(function Cdt(e){Bg(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')})(r),i.prototype.type=r;var o=Pm(r);if(o.sub){if(o.sub!==ox){var l=function t(i){var r=n[i.main];return(!r||!r[ox])&&((r=n[i.main]={})[ox]=!0),r}(o);l[o.sub]=i}}else n[o.main]=i}return i},e.getClass=function(i,r,o){var l=n[i];if(l&&l[ox]&&(l=r?l[r]:null),o&&!l)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return l},e.getClassesByMainType=function(i){var r=Pm(i),o=[],l=n[r.main];return l&&l[ox]?Ke(l,function(h,f){f!==ox&&o.push(h)}):o.push(l),o},e.hasClass=function(i){var r=Pm(i);return!!n[r.main]},e.getAllClassMainTypes=function(){var i=[];return Ke(n,function(r,o){i.push(o)}),i},e.hasSubTypes=function(i){var r=Pm(i),o=n[r.main];return o&&o[ox]}}function LO(e,n){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return n=n||!1,function(i,r,o){for(var l={},h=0;h<e.length;h++){var f=e[h][1];if(!(r&&xa(r,f)>=0||o&&xa(o,f)<0)){var m=i.getShallow(f,n);null!=m&&(l[e[h][0]]=m)}}return l}}var zdt=LO([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),kdt=function(){function e(){}return e.prototype.getAreaStyle=function(n,t){return zdt(this,n,t)},e}(),Hh=Ql(),Qoe="__zr_style_"+Math.round(10*Math.random()),ax={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},fW={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ax[Qoe]=!0;var bye=["z","z2","invisible"],Edt=["invisible"],Idt=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype._init=function(t){for(var i=ja(t),r=0;r<i.length;r++){var o=i[r];"style"===o?this.useStyle(t[o]):e.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(t,i,r,o){var l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function Ldt(e,n,t){return Joe.copy(e.getBoundingRect()),e.transform&&Joe.applyTransform(e.transform),eae.width=n,eae.height=t,!Joe.intersect(eae)}(this,t,i)||l&&!l[0]&&!l[3])return!1;if(r&&this.__clipPaths)for(var h=0;h<this.__clipPaths.length;++h)if(this.__clipPaths[h].isZeroArea())return!1;if(o&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},n.prototype.contain=function(t,i){return this.rectContain(t,i)},n.prototype.traverse=function(t,i){t.call(i,this)},n.prototype.rectContain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(r[0],r[1])},n.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,l=o.shadowBlur||0,h=o.shadowOffsetX||0,f=o.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new fo(0,0,0,0)),i?fo.applyTransform(t,r,i):t.copy(r),(l||h||f)&&(t.width+=2*l+Math.abs(h),t.height+=2*l+Math.abs(f),t.x=Math.min(t.x,t.x+h-l),t.y=Math.min(t.y,t.y+f-l));var m=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-m),t.y=Math.floor(t.y-m),t.width=Math.ceil(t.width+1+2*m),t.height=Math.ceil(t.height+1+2*m))}return t},n.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new fo(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(t){return this.animate("style",t)},n.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(t,i){"style"!==t?e.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},n.prototype.setStyle=function(t,i){return"string"==typeof t?this.style[t]=i:Tn(this.style,t),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(2&this.__dirty)},n.prototype.styleUpdated=function(){this.__dirty&=-3},n.prototype.createStyle=function(t){return yO(ax,t)},n.prototype.useStyle=function(t){t[Qoe]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},n.prototype.isStyleObject=function(t){return t[Qoe]},n.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,bye)},n.prototype._applyStateObj=function(t,i,r,o,l,h){e.prototype._applyStateObj.call(this,t,i,r,o,l,h);var m,f=!(i&&o);if(i&&i.style?l?o?m=i.style:(m=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(m,i.style)):(m=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(m,i.style)):f&&(m=r.style),m)if(l){var _=this.style;if(this.style=this.createStyle(f?{}:_),f)for(var b=ja(_),S=0;S<b.length;S++)(M=b[S])in m&&(m[M]=m[M],this.style[M]=_[M]);var O=ja(m);for(S=0;S<O.length;S++)this.style[M=O[S]]=this.style[M];this._transitionState(t,{style:m},h,this.getAnimationStyleProps())}else this.useStyle(m);var I=this.__inHover?Edt:bye;for(S=0;S<I.length;S++){var M=I[S];i&&null!=i[M]?this[M]=i[M]:f&&null!=r[M]&&(this[M]=r[M])}},n.prototype._mergeStates=function(t){for(var r,i=e.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var l=t[o];l.style&&this._mergeStyle(r=r||{},l.style)}return r&&(i.style=r),i},n.prototype._mergeStyle=function(t,i){return Tn(t,i),t},n.prototype.getAnimationStyleProps=function(){return fW},n.initDefaultProps=((t=n.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),n;var t}(nye),Joe=new fo(0,0,0,0),eae=new fo(0,0,0,0);const RO=Idt;var pW=Math.pow,X4=Math.sqrt,wye=X4(3),mW=1/3,Am=CS(),op=CS(),RS=CS();function q4(e){return e>-1e-8&&e<1e-8}function Sye(e){return e>1e-8||e<-1e-8}function cs(e,n,t,i,r){var o=1-r;return o*o*(o*e+3*r*n)+r*r*(r*i+3*o*t)}function Tye(e,n,t,i,r){var o=1-r;return 3*(((n-e)*o+2*(t-n)*r)*o+(i-t)*r*r)}function Mye(e,n,t,i,r){var o=6*t-12*n+6*e,l=9*n+3*i-3*e-9*t,h=3*n-3*e,f=0;if(q4(l))Sye(o)&&(m=-h/o)>=0&&m<=1&&(r[f++]=m);else{var _=o*o-4*l*h;if(q4(_))r[0]=-o/(2*l);else if(_>0){var m,b=X4(_),S=(-o-b)/(2*l);(m=(-o+b)/(2*l))>=0&&m<=1&&(r[f++]=m),S>=0&&S<=1&&(r[f++]=S)}}return f}function vW(e,n,t,i,r,o){var l=(n-e)*r+e,h=(t-n)*r+n,f=(i-t)*r+t,m=(h-l)*r+l,_=(f-h)*r+h,b=(_-m)*r+m;o[0]=e,o[1]=l,o[2]=m,o[3]=b,o[4]=b,o[5]=_,o[6]=f,o[7]=i}function Dye(e,n,t,i,r,o,l,h,f,m,_){var b,O,I,N,V,S=.005,M=1/0;Am[0]=f,Am[1]=m;for(var G=0;G<1;G+=.05)op[0]=cs(e,t,r,l,G),op[1]=cs(n,i,o,h,G),(N=wS(Am,op))<M&&(b=G,M=N);M=1/0;for(var X=0;X<32&&!(S<1e-4);X++)I=b+S,op[0]=cs(e,t,r,l,O=b-S),op[1]=cs(n,i,o,h,O),N=wS(op,Am),O>=0&&N<M?(b=O,M=N):(RS[0]=cs(e,t,r,l,I),RS[1]=cs(n,i,o,h,I),V=wS(RS,Am),I<=1&&V<M?(b=I,M=V):S*=.5);return _&&(_[0]=cs(e,t,r,l,b),_[1]=cs(n,i,o,h,b)),X4(M)}function Ndt(e,n,t,i,r,o,l,h,f){for(var m=e,_=n,b=0,S=1/f,M=1;M<=f;M++){var O=M*S,I=cs(e,t,r,l,O),N=cs(n,i,o,h,O),V=I-m,G=N-_;b+=Math.sqrt(V*V+G*G),m=I,_=N}return b}function iu(e,n,t,i){var r=1-i;return r*(r*e+2*i*n)+i*i*t}function Pye(e,n,t,i){return 2*((1-i)*(n-e)+i*(t-n))}function Aye(e,n,t){var i=e+t-2*n;return 0===i?.5:(e-n)/i}function _W(e,n,t,i,r){var o=(n-e)*i+e,l=(t-n)*i+n,h=(l-o)*i+o;r[0]=e,r[1]=o,r[2]=h,r[3]=h,r[4]=l,r[5]=t}function zye(e,n,t,i,r,o,l,h,f){var m,_=.005,b=1/0;Am[0]=l,Am[1]=h;for(var S=0;S<1;S+=.05)op[0]=iu(e,t,r,S),op[1]=iu(n,i,o,S),(M=wS(Am,op))<b&&(m=S,b=M);b=1/0;for(var O=0;O<32&&!(_<1e-4);O++){var I=m-_,N=m+_;op[0]=iu(e,t,r,I),op[1]=iu(n,i,o,I);var M=wS(op,Am);if(I>=0&&M<b)m=I,b=M;else{RS[0]=iu(e,t,r,N),RS[1]=iu(n,i,o,N);var V=wS(RS,Am);N<=1&&V<b?(m=N,b=V):_*=.5}}return f&&(f[0]=iu(e,t,r,m),f[1]=iu(n,i,o,m)),X4(b)}function Bdt(e,n,t,i,r,o,l){for(var h=e,f=n,m=0,_=1/l,b=1;b<=l;b++){var S=b*_,M=iu(e,t,r,S),O=iu(n,i,o,S),I=M-h,N=O-f;m+=Math.sqrt(I*I+N*N),h=M,f=O}return m}var Yh=Math.min,Uh=Math.max,tae=Math.sin,nae=Math.cos,sx=2*Math.PI,yW=CS(),xW=CS(),bW=CS();function Vdt(e,n,t){if(0!==e.length){for(var i=e[0],r=i[0],o=i[0],l=i[1],h=i[1],f=1;f<e.length;f++)r=Yh(r,(i=e[f])[0]),o=Uh(o,i[0]),l=Yh(l,i[1]),h=Uh(h,i[1]);n[0]=r,n[1]=l,t[0]=o,t[1]=h}}function kye(e,n,t,i,r,o){r[0]=Yh(e,t),r[1]=Yh(n,i),o[0]=Uh(e,t),o[1]=Uh(n,i)}var Oye=[],Eye=[];function Hdt(e,n,t,i,r,o,l,h,f,m){var _=Mye,b=cs,S=_(e,t,r,l,Oye);f[0]=1/0,f[1]=1/0,m[0]=-1/0,m[1]=-1/0;for(var M=0;M<S;M++){var O=b(e,t,r,l,Oye[M]);f[0]=Yh(O,f[0]),m[0]=Uh(O,m[0])}for(S=_(n,i,o,h,Eye),M=0;M<S;M++){var I=b(n,i,o,h,Eye[M]);f[1]=Yh(I,f[1]),m[1]=Uh(I,m[1])}f[0]=Yh(e,f[0]),m[0]=Uh(e,m[0]),f[0]=Yh(l,f[0]),m[0]=Uh(l,m[0]),f[1]=Yh(n,f[1]),m[1]=Uh(n,m[1]),f[1]=Yh(h,f[1]),m[1]=Uh(h,m[1])}function Ydt(e,n,t,i,r,o,l,h){var f=Aye,m=iu,_=Uh(Yh(f(e,t,r),1),0),b=Uh(Yh(f(n,i,o),1),0),S=m(e,t,r,_),M=m(n,i,o,b);l[0]=Yh(e,r,S),l[1]=Yh(n,o,M),h[0]=Uh(e,r,S),h[1]=Uh(n,o,M)}function Udt(e,n,t,i,r,o,l,h,f){var m=X6,_=q6,b=Math.abs(r-o);if(b%sx<1e-4&&b>1e-4)return h[0]=e-t,h[1]=n-i,f[0]=e+t,void(f[1]=n+i);if(yW[0]=nae(r)*t+e,yW[1]=tae(r)*i+n,xW[0]=nae(o)*t+e,xW[1]=tae(o)*i+n,m(h,yW,xW),_(f,yW,xW),(r%=sx)<0&&(r+=sx),(o%=sx)<0&&(o+=sx),r>o&&!l?o+=sx:r<o&&l&&(r+=sx),l){var S=o;o=r,r=S}for(var M=0;M<o;M+=Math.PI/2)M>r&&(bW[0]=nae(M)*t+e,bW[1]=tae(M)*i+n,m(h,bW,h),_(f,bW,f))}var vo={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lx=[],cx=[],zm=[],Z4=[],km=[],Om=[],NO=Math.min,FO=Math.max,ux=Math.cos,hx=Math.sin,CW=Math.sqrt,Kv=Math.abs,iae=Math.PI,K4=2*iae,rae=typeof Float32Array<"u",BO=[];function oae(e){return Math.round(e/iae*1e8)/1e8%2*iae}function Iye(e,n){var t=oae(e[0]);t<0&&(t+=K4);var r=e[1];r+=t-e[0],!n&&r-t>=K4?r=t+K4:n&&t-r>=K4?r=t-K4:!n&&t>r?r=t+(K4-oae(t-r)):n&&t<r&&(r=t-(K4-oae(r-t))),e[0]=t,e[1]=r}var Gdt=function(){function e(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(n,t,i){(i=i||0)>0&&(this._ux=Kv(i/rW/n)||0,this._uy=Kv(i/rW/t)||0)},e.prototype.setDPR=function(n){this.dpr=n},e.prototype.setContext=function(n){this._ctx=n},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(n,t){return this._drawPendingPt(),this.addData(vo.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},e.prototype.lineTo=function(n,t){var i=Kv(n-this._xi),r=Kv(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(vo.L,n,t),this._ctx&&o&&(this._needsDash?this._dashedLineTo(n,t):this._ctx.lineTo(n,t)),o)this._xi=n,this._yi=t,this._pendingPtDist=0;else{var l=i*i+r*r;l>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=t,this._pendingPtDist=l)}return this},e.prototype.bezierCurveTo=function(n,t,i,r,o,l){return this._drawPendingPt(),this.addData(vo.C,n,t,i,r,o,l),this._ctx&&(this._needsDash?this._dashedBezierTo(n,t,i,r,o,l):this._ctx.bezierCurveTo(n,t,i,r,o,l)),this._xi=o,this._yi=l,this},e.prototype.quadraticCurveTo=function(n,t,i,r){return this._drawPendingPt(),this.addData(vo.Q,n,t,i,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(n,t,i,r):this._ctx.quadraticCurveTo(n,t,i,r)),this._xi=i,this._yi=r,this},e.prototype.arc=function(n,t,i,r,o,l){return this._drawPendingPt(),BO[0]=r,BO[1]=o,Iye(BO,l),this.addData(vo.A,n,t,i,i,r=BO[0],(o=BO[1])-r,0,l?0:1),this._ctx&&this._ctx.arc(n,t,i,r,o,l),this._xi=ux(o)*i+n,this._yi=hx(o)*i+t,this},e.prototype.arcTo=function(n,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,t,i,r,o),this},e.prototype.rect=function(n,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,t,i,r),this.addData(vo.R,n,t,i,r),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(vo.Z);var n=this._ctx,t=this._x0,i=this._y0;return n&&(this._needsDash&&this._dashedLineTo(t,i),n.closePath()),this._xi=t,this._yi=i,this},e.prototype.fill=function(n){n&&n.fill(),this.toStatic()},e.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},e.prototype.setLineDash=function(n){if(n instanceof Array){this._lineDash=n,this._dashIdx=0;for(var t=0,i=0;i<n.length;i++)t+=n[i];this._dashSum=t,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},e.prototype.setLineDashOffset=function(n){return this._dashOffset=n,this},e.prototype.len=function(){return this._len},e.prototype.setData=function(n){var t=n.length;(!this.data||this.data.length!==t)&&rae&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=n[i];this._len=t},e.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var t=n.length,i=0,r=this._len,o=0;o<t;o++)i+=n[o].len();for(rae&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<t;o++)for(var l=n[o].data,h=0;h<l.length;h++)this.data[r++]=l[h];this._len=r},e.prototype.addData=function(n,t,i,r,o,l,h,f,m){if(this._saveData){var _=this.data;this._len+arguments.length>_.length&&(this._expandData(),_=this.data);for(var b=0;b<arguments.length;b++)_[this._len++]=arguments[b]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],t=0;t<this._len;t++)n[t]=this.data[t];this.data=n}},e.prototype._dashedLineTo=function(n,t){var I,N,i=this._dashSum,r=this._lineDash,o=this._ctx,l=this._dashOffset,h=this._xi,f=this._yi,m=n-h,_=t-f,b=CW(m*m+_*_),S=h,M=f,O=r.length;for(l<0&&(l=i+l),S-=(l%=i)*(m/=b),M-=l*(_/=b);m>0&&S<=n||m<0&&S>=n||0===m&&(_>0&&M<=t||_<0&&M>=t);)S+=m*(I=r[N=this._dashIdx]),M+=_*I,this._dashIdx=(N+1)%O,!(m>0&&S<h||m<0&&S>h||_>0&&M<f||_<0&&M>f)&&o[N%2?"moveTo":"lineTo"](m>=0?NO(S,n):FO(S,n),_>=0?NO(M,t):FO(M,t));this._dashOffset=-CW((m=S-n)*m+(_=M-t)*_)},e.prototype._dashedBezierTo=function(n,t,i,r,o,l){var N,V,G,X,K,h=this._ctx,f=this._dashSum,m=this._dashOffset,_=this._lineDash,b=this._xi,S=this._yi,M=0,O=this._dashIdx,I=_.length,ne=0;for(m<0&&(m=f+m),m%=f,N=0;N<1;N+=.1)V=cs(b,n,i,o,N+.1)-cs(b,n,i,o,N),G=cs(S,t,r,l,N+.1)-cs(S,t,r,l,N),M+=CW(V*V+G*G);for(;O<I&&!((ne+=_[O])>m);O++);for(N=(ne-m)/M;N<=1;)X=cs(b,n,i,o,N),K=cs(S,t,r,l,N),O%2?h.moveTo(X,K):h.lineTo(X,K),N+=_[O]/M,O=(O+1)%I;O%2!=0&&h.lineTo(o,l),this._dashOffset=-CW((V=o-X)*V+(G=l-K)*G)},e.prototype._dashedQuadraticTo=function(n,t,i,r){var o=i,l=r;i=(i+2*n)/3,r=(r+2*t)/3,this._dashedBezierTo(n=(this._xi+2*n)/3,t=(this._yi+2*t)/3,i,r,o,l)},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,rae&&this._len>11&&(this.data=new Float32Array(n)))}},e.prototype.getBoundingRect=function(){zm[0]=zm[1]=km[0]=km[1]=Number.MAX_VALUE,Z4[0]=Z4[1]=Om[0]=Om[1]=-Number.MAX_VALUE;var l,n=this.data,t=0,i=0,r=0,o=0;for(l=0;l<this._len;){var h=n[l++],f=1===l;switch(f&&(r=t=n[l],o=i=n[l+1]),h){case vo.M:t=r=n[l++],i=o=n[l++],km[0]=r,km[1]=o,Om[0]=r,Om[1]=o;break;case vo.L:kye(t,i,n[l],n[l+1],km,Om),t=n[l++],i=n[l++];break;case vo.C:Hdt(t,i,n[l++],n[l++],n[l++],n[l++],n[l],n[l+1],km,Om),t=n[l++],i=n[l++];break;case vo.Q:Ydt(t,i,n[l++],n[l++],n[l],n[l+1],km,Om),t=n[l++],i=n[l++];break;case vo.A:var m=n[l++],_=n[l++],b=n[l++],S=n[l++],M=n[l++],O=n[l++]+M;l+=1;var I=!n[l++];f&&(r=ux(M)*b+m,o=hx(M)*S+_),Udt(m,_,b,S,M,O,I,km,Om),t=ux(O)*b+m,i=hx(O)*S+_;break;case vo.R:kye(r=t=n[l++],o=i=n[l++],r+n[l++],o+n[l++],km,Om);break;case vo.Z:t=r,i=o}X6(zm,zm,km),q6(Z4,Z4,Om)}return 0===l&&(zm[0]=zm[1]=Z4[0]=Z4[1]=0),new fo(zm[0],zm[1],Z4[0]-zm[0],Z4[1]-zm[1])},e.prototype._calculateLength=function(){var n=this.data,t=this._len,i=this._ux,r=this._uy,o=0,l=0,h=0,f=0;this._pathSegLen||(this._pathSegLen=[]);for(var m=this._pathSegLen,_=0,b=0,S=0;S<t;){var M=n[S++],O=1===S;O&&(h=o=n[S],f=l=n[S+1]);var I=-1;switch(M){case vo.M:o=h=n[S++],l=f=n[S++];break;case vo.L:var N=n[S++],X=(V=n[S++])-l;(Kv(G=N-o)>i||Kv(X)>r||S===t-1)&&(I=Math.sqrt(G*G+X*X),o=N,l=V);break;case vo.C:var K=n[S++],ne=n[S++],V=(N=n[S++],n[S++]),ie=n[S++],pe=n[S++];I=Ndt(o,l,K,ne,N,V,ie,pe,10),o=ie,l=pe;break;case vo.Q:I=Bdt(o,l,K=n[S++],ne=n[S++],N=n[S++],V=n[S++],10),o=N,l=V;break;case vo.A:var ve=n[S++],ye=n[S++],Se=n[S++],xe=n[S++],De=n[S++],Pe=n[S++],Re=Pe+De;S+=1,S++,O&&(h=ux(De)*Se+ve,f=hx(De)*xe+ye),I=FO(Se,xe)*NO(K4,Math.abs(Pe)),o=ux(Re)*Se+ve,l=hx(Re)*xe+ye;break;case vo.R:h=o=n[S++],f=l=n[S++],I=2*n[S++]+2*n[S++];break;case vo.Z:var G=h-o;X=f-l,I=Math.sqrt(G*G+X*X),o=h,l=f}I>=0&&(m[b++]=I,_+=I)}return this._pathLen=_,_},e.prototype.rebuildPath=function(n,t){var h,f,m,_,b,S,O,G,K,ne,i=this.data,r=this._ux,o=this._uy,l=this._len,M=t<1,N=0,V=0,X=0;if(!M||(this._pathSegLen||this._calculateLength(),O=this._pathSegLen,G=t*this._pathLen))e:for(var ie=0;ie<l;){var pe=i[ie++],ve=1===ie;switch(ve&&(h=m=i[ie],f=_=i[ie+1]),pe!==vo.L&&X>0&&(n.lineTo(K,ne),X=0),pe){case vo.M:h=m=i[ie++],f=_=i[ie++],n.moveTo(m,_);break;case vo.L:b=i[ie++],S=i[ie++];var ye=Kv(b-m),Se=Kv(S-_);if(ye>r||Se>o){if(M){if(N+(xe=O[V++])>G){n.lineTo(m*(1-(De=(G-N)/xe))+b*De,_*(1-De)+S*De);break e}N+=xe}n.lineTo(b,S),m=b,_=S,X=0}else{var Pe=ye*ye+Se*Se;Pe>X&&(K=b,ne=S,X=Pe)}break;case vo.C:var Re=i[ie++],ke=i[ie++],Oe=i[ie++],Ye=i[ie++],Ge=i[ie++],ct=i[ie++];if(M){if(N+(xe=O[V++])>G){vW(m,Re,Oe,Ge,De=(G-N)/xe,lx),vW(_,ke,Ye,ct,De,cx),n.bezierCurveTo(lx[1],cx[1],lx[2],cx[2],lx[3],cx[3]);break e}N+=xe}n.bezierCurveTo(Re,ke,Oe,Ye,Ge,ct),m=Ge,_=ct;break;case vo.Q:if(Re=i[ie++],ke=i[ie++],Oe=i[ie++],Ye=i[ie++],M){if(N+(xe=O[V++])>G){_W(m,Re,Oe,De=(G-N)/xe,lx),_W(_,ke,Ye,De,cx),n.quadraticCurveTo(lx[1],cx[1],lx[2],cx[2]);break e}N+=xe}n.quadraticCurveTo(Re,ke,Oe,Ye),m=Oe,_=Ye;break;case vo.A:var We=i[ie++],Tt=i[ie++],Lt=i[ie++],An=i[ie++],Qt=i[ie++],zn=i[ie++],Ar=i[ie++],vn=!i[ie++],Nn=Lt>An?Lt:An,ht=Kv(Lt-An)>.001,Yt=Qt+zn,gn=!1;if(M&&(N+(xe=O[V++])>G&&(Yt=Qt+zn*(G-N)/xe,gn=!0),N+=xe),ht&&n.ellipse?n.ellipse(We,Tt,Lt,An,Ar,Qt,Yt,vn):n.arc(We,Tt,Nn,Qt,Yt,vn),gn)break e;ve&&(h=ux(Qt)*Lt+We,f=hx(Qt)*An+Tt),m=ux(Yt)*Lt+We,_=hx(Yt)*An+Tt;break;case vo.R:h=m=i[ie],f=_=i[ie+1],b=i[ie++],S=i[ie++];var Mt=i[ie++],Jn=i[ie++];if(M){if(N+(xe=O[V++])>G){var Hn=G-N;n.moveTo(b,S),n.lineTo(b+NO(Hn,Mt),S),(Hn-=Mt)>0&&n.lineTo(b+Mt,S+NO(Hn,Jn)),(Hn-=Jn)>0&&n.lineTo(b+FO(Mt-Hn,0),S+Jn),(Hn-=Mt)>0&&n.lineTo(b,S+FO(Jn-Hn,0));break e}N+=xe}n.rect(b,S,Mt,Jn);break;case vo.Z:if(M){var xe;if(N+(xe=O[V++])>G){var De;n.lineTo(m*(1-(De=(G-N)/xe))+h*De,_*(1-De)+f*De);break e}N+=xe}n.closePath(),m=h,_=f}}},e.prototype.clone=function(){var n=new e,t=this.data;return n.data=t.slice?t.slice():Array.prototype.slice.call(t),n._len=this._len,n},e.CMD=vo,e.initDefaultProps=((n=e.prototype)._saveData=!0,n._needsDash=!1,n._dashOffset=0,n._dashIdx=0,n._dashSum=0,n._ux=0,n._uy=0,n._pendingPtDist=0,void(n._version=0)),e;var n}();const dx=Gdt;function fx(e,n,t,i,r,o,l){if(0===r)return!1;var f,h=r;if(l>n+h&&l>i+h||l<n-h&&l<i-h||o>e+h&&o>t+h||o<e-h&&o<t-h)return!1;if(e===t)return Math.abs(o-e)<=h/2;var _=(f=(n-i)/(e-t))*o-l+(e*i-t*n)/(e-t);return _*_/(f*f+1)<=h/2*h/2}function Wdt(e,n,t,i,r,o,l,h,f,m,_){if(0===f)return!1;var b=f;return!(_>n+b&&_>i+b&&_>o+b&&_>h+b||_<n-b&&_<i-b&&_<o-b&&_<h-b||m>e+b&&m>t+b&&m>r+b&&m>l+b||m<e-b&&m<t-b&&m<r-b&&m<l-b)&&Dye(e,n,t,i,r,o,l,h,m,_,null)<=b/2}function jdt(e,n,t,i,r,o,l,h,f){if(0===l)return!1;var m=l;return!(f>n+m&&f>i+m&&f>o+m||f<n-m&&f<i-m&&f<o-m||h>e+m&&h>t+m&&h>r+m||h<e-m&&h<t-m&&h<r-m)&&zye(e,n,t,i,r,o,h,f,null)<=m/2}var Lye=2*Math.PI;function Q4(e){return(e%=Lye)<0&&(e+=Lye),e}var VO=2*Math.PI;function $dt(e,n,t,i,r,o,l,h,f){if(0===l)return!1;var m=l;h-=e,f-=n;var _=Math.sqrt(h*h+f*f);if(_-m>t||_+m<t)return!1;if(Math.abs(i-r)%VO<1e-4)return!0;if(o){var b=i;i=Q4(r),r=Q4(b)}else i=Q4(i),r=Q4(r);i>r&&(r+=VO);var S=Math.atan2(f,h);return S<0&&(S+=VO),S>=i&&S<=r||S+VO>=i&&S+VO<=r}function Qv(e,n,t,i,r,o){if(o>n&&o>i||o<n&&o<i||i===n)return 0;var l=(o-n)/(i-n),h=i<n?1:-1;(1===l||0===l)&&(h=i<n?.5:-.5);var f=l*(t-e)+e;return f===r?1/0:f>r?h:0}var J4=dx.CMD,px=2*Math.PI,Wu=[-1,-1,-1],ap=[-1,-1];function Zdt(){var e=ap[0];ap[0]=ap[1],ap[1]=e}function Kdt(e,n,t,i,r,o,l,h,f,m){if(m>n&&m>i&&m>o&&m>h||m<n&&m<i&&m<o&&m<h)return 0;var _=function Rdt(e,n,t,i,r,o){var l=i+3*(n-t)-e,h=3*(t-2*n+e),f=3*(n-e),m=e-r,_=h*h-3*l*f,b=h*f-9*l*m,S=f*f-3*h*m,M=0;if(q4(_)&&q4(b))q4(h)?o[0]=0:(O=-f/h)>=0&&O<=1&&(o[M++]=O);else{var I=b*b-4*_*S;if(q4(I)){var N=b/_,V=-N/2;(O=-h/l+N)>=0&&O<=1&&(o[M++]=O),V>=0&&V<=1&&(o[M++]=V)}else if(I>0){var G=X4(I),X=_*h+1.5*l*(-b+G),K=_*h+1.5*l*(-b-G);(O=(-h-((X=X<0?-pW(-X,mW):pW(X,mW))+(K=K<0?-pW(-K,mW):pW(K,mW))))/(3*l))>=0&&O<=1&&(o[M++]=O)}else{var ne=(2*_*h-3*l*b)/(2*X4(_*_*_)),ie=Math.acos(ne)/3,pe=X4(_),ve=Math.cos(ie),O=(-h-2*pe*ve)/(3*l),ye=(V=(-h+pe*(ve+wye*Math.sin(ie)))/(3*l),(-h+pe*(ve-wye*Math.sin(ie)))/(3*l));O>=0&&O<=1&&(o[M++]=O),V>=0&&V<=1&&(o[M++]=V),ye>=0&&ye<=1&&(o[M++]=ye)}}return M}(n,i,o,h,m,Wu);if(0===_)return 0;for(var b=0,S=-1,M=void 0,O=void 0,I=0;I<_;I++){var N=Wu[I],V=0===N||1===N?.5:1;cs(e,t,r,l,N)<f||(S<0&&(S=Mye(n,i,o,h,ap),ap[1]<ap[0]&&S>1&&Zdt(),M=cs(n,i,o,h,ap[0]),S>1&&(O=cs(n,i,o,h,ap[1]))),b+=2===S?N<ap[0]?M<n?V:-V:N<ap[1]?O<M?V:-V:h<O?V:-V:N<ap[0]?M<n?V:-V:h<M?V:-V)}return b}function Qdt(e,n,t,i,r,o,l,h){if(h>n&&h>i&&h>o||h<n&&h<i&&h<o)return 0;var f=function Fdt(e,n,t,i,r){var o=e-2*n+t,l=2*(n-e),h=e-i,f=0;if(q4(o))Sye(l)&&(m=-h/l)>=0&&m<=1&&(r[f++]=m);else{var _=l*l-4*o*h;if(q4(_))(m=-l/(2*o))>=0&&m<=1&&(r[f++]=m);else if(_>0){var m,b=X4(_),S=(-l-b)/(2*o);(m=(-l+b)/(2*o))>=0&&m<=1&&(r[f++]=m),S>=0&&S<=1&&(r[f++]=S)}}return f}(n,i,o,h,Wu);if(0===f)return 0;var m=Aye(n,i,o);if(m>=0&&m<=1){for(var _=0,b=iu(n,i,o,m),S=0;S<f;S++){var M=0===Wu[S]||1===Wu[S]?.5:1;iu(e,t,r,Wu[S])<l||(_+=Wu[S]<m?b<n?M:-M:o<b?M:-M)}return _}return M=0===Wu[0]||1===Wu[0]?.5:1,iu(e,t,r,Wu[0])<l?0:o<n?M:-M}function Jdt(e,n,t,i,r,o,l,h){if((h-=n)>t||h<-t)return 0;var f=Math.sqrt(t*t-h*h);Wu[0]=-f,Wu[1]=f;var m=Math.abs(i-r);if(m<1e-4)return 0;if(m>=px-1e-4){i=0,r=px;var _=o?1:-1;return l>=Wu[0]+e&&l<=Wu[1]+e?_:0}if(i>r){var b=i;i=r,r=b}i<0&&(i+=px,r+=px);for(var S=0,M=0;M<2;M++){var O=Wu[M];if(O+e>l){var I=Math.atan2(h,O);_=o?1:-1,I<0&&(I=px+I),(I>=i&&I<=r||I+px>=i&&I+px<=r)&&(I>Math.PI/2&&I<1.5*Math.PI&&(_=-_),S+=_)}}return S}function Rye(e,n,t,i,r){for(var S,M,o=e.data,l=e.len(),h=0,f=0,m=0,_=0,b=0,O=0;O<l;){var I=o[O++],N=1===O;switch(I===J4.M&&O>1&&(t||(h+=Qv(f,m,_,b,i,r))),N&&(_=f=o[O],b=m=o[O+1]),I){case J4.M:f=_=o[O++],m=b=o[O++];break;case J4.L:if(t){if(fx(f,m,o[O],o[O+1],n,i,r))return!0}else h+=Qv(f,m,o[O],o[O+1],i,r)||0;f=o[O++],m=o[O++];break;case J4.C:if(t){if(Wdt(f,m,o[O++],o[O++],o[O++],o[O++],o[O],o[O+1],n,i,r))return!0}else h+=Kdt(f,m,o[O++],o[O++],o[O++],o[O++],o[O],o[O+1],i,r)||0;f=o[O++],m=o[O++];break;case J4.Q:if(t){if(jdt(f,m,o[O++],o[O++],o[O],o[O+1],n,i,r))return!0}else h+=Qdt(f,m,o[O++],o[O++],o[O],o[O+1],i,r)||0;f=o[O++],m=o[O++];break;case J4.A:var V=o[O++],G=o[O++],X=o[O++],K=o[O++],ne=o[O++],ie=o[O++];O+=1;var pe=!!(1-o[O++]);S=Math.cos(ne)*X+V,M=Math.sin(ne)*K+G,N?(_=S,b=M):h+=Qv(f,m,S,M,i,r);var ve=(i-V)*K/X+V;if(t){if($dt(V,G,K,ne,ne+ie,pe,n,ve,r))return!0}else h+=Jdt(V,G,K,ne,ne+ie,pe,ve,r);f=Math.cos(ne+ie)*X+V,m=Math.sin(ne+ie)*K+G;break;case J4.R:if(_=f=o[O++],b=m=o[O++],S=_+o[O++],M=b+o[O++],t){if(fx(_,b,S,b,n,i,r)||fx(S,b,S,M,n,i,r)||fx(S,M,_,M,n,i,r)||fx(_,M,_,b,n,i,r))return!0}else h+=Qv(S,b,S,M,i,r),h+=Qv(_,M,_,b,i,r);break;case J4.Z:if(t){if(fx(f,m,_,b,n,i,r))return!0}else h+=Qv(f,m,_,b,i,r);f=_,m=b}}return!t&&!function qdt(e,n){return Math.abs(e-n)<1e-4}(m,b)&&(h+=Qv(f,m,_,b,i,r)||0),0!==h}var Nye=ya({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ax),nft={style:ya({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},fW.style)},aae=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],ift=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.update=function(){var t=this;e.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new n;r.buildPath===n.prototype.buildPath&&(r.buildPath=function(f){t.buildPath(f,t.shape)}),r.silent=!0;var o=r.style;for(var l in i)o[l]!==i[l]&&(o[l]=i[l]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var h=0;h<aae.length;++h)r[aae[h]]=this[aae[h]];r.__dirty|=1}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(t){var i=ja(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var l=i[o],h=t[l];"style"===l?this.style?Tn(this.style,h):this.useStyle(h):"shape"===l?Tn(this.shape,h):e.prototype.attrKV.call(this,l,h)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(js(t)){var i=JG(t,0);return i>.5?"#333":i>.2?"#eee":"#ccc"}if(t)return"#ccc"}return"#333"},n.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if(js(i)){var r=this.__zr;if(!(!r||!r.isDarkMode())==JG(t,0)<.4)return i}},n.prototype.buildPath=function(t,i,r){},n.prototype.pathUpdated=function(){this.__dirty&=-5},n.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},n.prototype.createPathProxy=function(){this.path=new dx(!1)},n.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(null==i||"none"===i||!(t.lineWidth>0))},n.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},n.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,r=!t;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var l=this.path;(o||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),t=l.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var h=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){h.copy(t);var f=i.strokeNoScale?this.getLineScale():1,m=i.lineWidth;this.hasFill()||(m=Math.max(m,this.strokeContainThreshold??4)),f>1e-10&&(h.width+=m/f,h.height+=m/f,h.x-=m/f/2,h.y-=m/f/2)}return h}return t},n.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect(),l=this.style;if(o.contain(t=r[0],i=r[1])){var h=this.path;if(this.hasStroke()){var f=l.lineWidth,m=l.strokeNoScale?this.getLineScale():1;if(m>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),function tft(e,n,t,i){return Rye(e,n,!0,t,i)}(h,f/m,t,i)))return!0}if(this.hasFill())return function eft(e,n,t){return Rye(e,0,!1,n,t)}(h,t,i)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(t){return this.animate("shape",t)},n.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(t,i){"shape"===t?this.setShape(i):e.prototype.attrKV.call(this,t,i)},n.prototype.setShape=function(t,i){var r=this.shape;return r||(r=this.shape={}),"string"==typeof t?r[t]=i:Tn(r,t),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(4&this.__dirty)},n.prototype.createStyle=function(t){return yO(Nye,t)},n.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=Tn({},this.shape))},n.prototype._applyStateObj=function(t,i,r,o,l,h){e.prototype._applyStateObj.call(this,t,i,r,o,l,h);var m,f=!(i&&o);if(i&&i.shape?l?o?m=i.shape:(m=Tn({},r.shape),Tn(m,i.shape)):(m=Tn({},o?this.shape:r.shape),Tn(m,i.shape)):f&&(m=r.shape),m)if(l){this.shape=Tn({},this.shape);for(var _={},b=ja(m),S=0;S<b.length;S++){var M=b[S];"object"==typeof m[M]?this.shape[M]=m[M]:_[M]=m[M]}this._transitionState(t,{shape:_},h)}else this.shape=m,this.dirtyShape()},n.prototype._mergeStates=function(t){for(var r,i=e.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var l=t[o];l.shape&&this._mergeStyle(r=r||{},l.shape)}return r&&(i.shape=r),i},n.prototype.getAnimationStyleProps=function(){return nft},n.prototype.isZeroArea=function(){return!1},n.extend=function(t){var i=function(o){function l(h){var f=o.call(this,h)||this;return t.init&&t.init.call(f,h),f}return $o(l,o),l.prototype.getDefaultStyle=function(){return ho(t.style)},l.prototype.getDefaultShape=function(){return ho(t.shape)},l}(n);for(var r in t)"function"==typeof t[r]&&(i.prototype[r]=t[r]);return i},n.initDefaultProps=((t=n.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7)),n;var t}(RO);const us=ift;var Fye=1,Bye={},Vye=Ql(),NS=["emphasis","blur","select"],Hye=["normal","emphasis","blur","select"],gx="highlight",TW="downplay",HO="select",MW="unselect",YO="toggleSelect";function DW(e,n,t){e.onHoverStateChange&&(e.hoverState||0)!==t&&e.onHoverStateChange(n),e.hoverState=t}function Gye(e){DW(e,"emphasis",2)}function Wye(e){2===e.hoverState&&DW(e,"normal",0)}function lae(e){DW(e,"blur",1)}function jye(e){1===e.hoverState&&DW(e,"normal",0)}function aft(e){e.selected=!0}function sft(e){e.selected=!1}function $ye(e,n,t){n(e,t)}function Jv(e,n,t){$ye(e,n,t),e.isGroup&&e.traverse(function(i){$ye(i,n,t)})}function Xye(e,n){!Jye(e,n)&&!e.__highByOuter&&Jv(e,Gye)}function qye(e,n){!Jye(e,n)&&!e.__highByOuter&&Jv(e,Wye)}function uae(e,n){e.__highByOuter|=1<<(n||0),Jv(e,Gye)}function hae(e,n){!(e.__highByOuter&=~(1<<(n||0)))&&Jv(e,Wye)}function Zye(e){Jv(e,jye)}function Kye(e){Jv(e,aft)}function Qye(e){Jv(e,sft)}function Jye(e,n){return e.__highDownSilentOnTouch&&n.zrByTouch}function e8e(e){e.getModel().eachComponent(function(t,i){("series"===t?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i)).group.traverse(function(o){jye(o)})})}function dae(e,n,t,i){var r=i.getModel();function o(m,_){for(var b=0;b<_.length;b++){var S=m.getItemGraphicEl(_[b]);S&&Zye(S)}}if(t=t||"coordinateSystem",null!=e&&n&&"none"!==n){var l=r.getSeriesByIndex(e),h=l.coordinateSystem;h&&h.master&&(h=h.master);var f=[];r.eachSeries(function(m){var _=l===m,b=m.coordinateSystem;if(b&&b.master&&(b=b.master),!("series"===t&&!_||"coordinateSystem"===t&&!(b&&h?b===h:_)||"series"===n&&_)){if(i.getViewOfSeriesModel(m).group.traverse(function(N){lae(N)}),Fg(n))o(m.getData(),n);else if(Xi(n))for(var O=ja(n),I=0;I<O.length;I++)o(m.getData(O[I]),n[O[I]]);f.push(m)}}),r.eachComponent(function(m,_){if("series"!==m){var b=i.getViewOfComponentModel(_);b&&b.blurSeries&&b.blurSeries(f,r)}})}}function fae(e,n,t){if(null!=e&&null!=n){var i=t.getModel().getComponent(e,n);if(i){var r=t.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){lae(o)})}}}function pae(e,n,t,i){var r={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==n||null==t)return r;var o=i.getModel().getComponent(e,n);if(!o)return r;var l=i.getViewOfComponentModel(o);if(!l||!l.findHighDownDispatchers)return r;for(var f,h=l.findHighDownDispatchers(t),m=0;m<h.length;m++)if("self"===Hh(h[m]).focus){f=!0;break}return{focusSelf:f,dispatchers:h}}function t8e(e){Ke(e.getAllData(),function(t){var r=t.type;t.data.eachItemGraphicEl(function(o,l){e.isSelected(l,r)?Kye(o):Qye(o)})})}function _ft(e){var n=[];return e.eachSeries(function(t){Ke(t.getAllData(),function(r){var l=r.type,h=t.getSelectedDataIndices();if(h.length>0){var f={dataIndex:h,seriesIndex:t.seriesIndex};null!=l&&(f.dataType=l),n.push(f)}})}),n}function i8e(e){return!(!e||!e.__highDownDispatcher)}function gae(e){var n=e.type;return n===HO||n===MW||n===YO}function mae(e){var n=e.type;return n===gx||n===TW}function vae(e,n,t,i,r,o,l){var f,h=!1;"function"==typeof r?(l=o,o=r,r=null):Xi(r)&&(o=r.cb,l=r.during,h=r.isFrom,f=r.removeOpt,r=r.dataIndex);var m="remove"===e;m||n.stopAnimation("remove");var _=function Sft(e,n,t,i,r){var o;if(n&&n.ecModel){var l=n.ecModel.getUpdatePayload();o=l&&l.animation}var f="update"===e;if(n&&n.isAnimationEnabled()){var m=void 0,_=void 0,b=void 0;return i?(m=Ro(i.duration,200),_=Ro(i.easing,"cubicOut"),b=0):(m=n.getShallow(f?"animationDurationUpdate":"animationDuration"),_=n.getShallow(f?"animationEasingUpdate":"animationEasing"),b=n.getShallow(f?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(m=o.duration),null!=o.easing&&(_=o.easing),null!=o.delay&&(b=o.delay)),"function"==typeof b&&(b=b(t,r)),"function"==typeof m&&(m=m(t)),{duration:m||0,delay:b,easing:_}}return null}(e,i,r,m?f||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(n,r):null);if(_&&_.duration>0){var O={duration:_.duration,delay:_.delay||0,easing:_.easing,done:o,force:!!o||!!l,setToFinal:!m,scope:e,during:l};h?n.animateFrom(t,O):n.animateTo(t,O)}else n.stopAnimation(),!h&&n.attr(t),l&&l(1),o&&o()}function _ae(e,n,t,i,r,o){vae("update",e,n,t,i,r,o)}function yae(e,n,t,i,r,o){vae("init",e,n,t,i,r,o)}function UO(e){if(!e.__zr)return!0;for(var n=0;n<e.animators.length;n++)if("remove"===e.animators[n].scope)return!0;return!1}new DS(100),Ql();var PW={};function mx(e,n,t,i,r){var o={};return function Mft(e,n,t,i,r){t=t||PW;var f,o=n.ecModel,l=o&&o.option.textStyle,h=function Dft(e){for(var n;e&&e!==e.ecModel;){var t=(e.option||PW).rich;if(t){n=n||{};for(var i=ja(t),r=0;r<i.length;r++)n[i[r]]=1}e=e.parentModel}return n}(n);if(h)for(var m in f={},h)if(h.hasOwnProperty(m)){var _=n.getModel(["rich",m]);h8e(f[m]={},_,l,t,i,r,!1,!0)}f&&(e.rich=f);var b=n.get("overflow");b&&(e.overflow=b);var S=n.get("minMargin");null!=S&&(e.margin=S),h8e(e,n,l,t,i,r,!0,!1)}(o,e,t,i,r),n&&Tn(o,n),o}var l8e=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],c8e=["align","lineHeight","width","height","tag","verticalAlign"],u8e=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function h8e(e,n,t,i,r,o,l,h){t=!r&&t||PW;var f=i&&i.inheritColor,m=n.getShallow("color"),_=n.getShallow("textBorderColor"),b=Ro(n.getShallow("opacity"),t.opacity);("inherit"===m||"auto"===m)&&(m=f||null),("inherit"===_||"auto"===_)&&(_=f||null),o||(m=m||t.color,_=_||t.textBorderColor),null!=m&&(e.fill=m),null!=_&&(e.stroke=_);var S=Ro(n.getShallow("textBorderWidth"),t.textBorderWidth);null!=S&&(e.lineWidth=S);var M=Ro(n.getShallow("textBorderType"),t.textBorderType);null!=M&&(e.lineDash=M);var O=Ro(n.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=O&&(e.lineDashOffset=O),!r&&null==b&&!h&&(b=i&&i.defaultOpacity),null!=b&&(e.opacity=b),!r&&!o&&null==e.fill&&i.inheritColor&&(e.fill=i.inheritColor);for(var I=0;I<l8e.length;I++)null!=(V=Ro(n.getShallow(N=l8e[I]),t[N]))&&(e[N]=V);for(I=0;I<c8e.length;I++)null!=(V=n.getShallow(N=c8e[I]))&&(e[N]=V);if(null==e.verticalAlign){var G=n.getShallow("baseline");null!=G&&(e.verticalAlign=G)}if(!l||!i.disableBox){for(I=0;I<u8e.length;I++){var N,V;null!=(V=n.getShallow(N=u8e[I]))&&(e[N]=V)}var X=n.getShallow("borderType");null!=X&&(e.borderDash=X),("auto"===e.backgroundColor||"inherit"===e.backgroundColor)&&f&&(e.backgroundColor=f),("auto"===e.borderColor||"inherit"===e.borderColor)&&f&&(e.borderColor=f)}}var AW=Ql();function Aft(e,n,t,i,r){var o=AW(e);if(o.valueAnimation&&o.prevValue!==o.value){var l=o.defaultInterpolatedText,h=Ro(o.interpolatedValue,o.prevValue),f=o.value;e.percent=0,(null==o.prevValue?yae:_ae)(e,{percent:1},i,n,null,function m(_){var b=function xdt(e,n,t,i,r){var o=null==n||"auto"===n;if(null==i)return i;if("number"==typeof i)return Gu(l=SO(t||0,i,r),o?Math.max(Zv(t||0),Zv(i)):n);if("string"==typeof i)return r<1?t:i;for(var h=[],f=t,m=i,_=Math.max(f?f.length:0,m.length),b=0;b<_;++b){var S=e.getDimensionInfo(b);if(S&&"ordinal"===S.type)h[b]=(r<1&&f?f:m)[b];else{var M=f&&f[b]?f[b]:0,O=m[b],l=SO(M,O,r);h[b]=Gu(l,o?Math.max(Zv(M),Zv(O)):n)}}return h}(t,o.precision,h,f,_);o.interpolatedValue=1===_?null:b;var S=function xae(e,n,t){var h,i=e.labelFetcher,r=e.labelDataIndex,o=e.labelDimIndex,l=n.normal;i&&(h=i.getFormattedLabel(r,"normal",null,o,l&&l.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==h&&(h=zc(e.defaultText)?e.defaultText(r,e,t):e.defaultText);for(var f={normal:h},m=0;m<NS.length;m++){var _=NS[m],b=n[_];f[_]=Ro(i?i.getFormattedLabel(r,_,null,o,b&&b.get("formatter")):null,h)}return f}({labelDataIndex:n,labelFetcher:r,defaultText:l?l(b):b+""},o.statesModels,b);!function a8e(e,n){for(var t=0;t<NS.length;t++){var i=NS[t],r=n[i],o=e.ensureState(i);o.style=o.style||{},o.style.text=r}var l=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:n.normal}),e.useStates(l,!0)}(e,S)})}}var bae=new DS(50);function zft(e){if("string"==typeof e){var n=bae.get(e);return n&&n.image}return e}function d8e(e,n,t,i,r){if(e){if("string"==typeof e){if(n&&n.__zrImageSrc===e||!t)return n;var o=bae.get(e),l={hostEl:t,cb:i,cbPayload:r};return o?!zW(n=o.image)&&o.pending.push(l):((n=new Image).onload=n.onerror=kft,bae.put(e,n.__cachedImgObj={image:n,pending:[l]}),n.src=n.__zrImageSrc=e),n}return e}return n}function kft(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<e.pending.length;n++){var t=e.pending[n],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}e.pending.length=0}function zW(e){return e&&e.width&&e.height}var Cae=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Oft(e,n,t,i,r){if(!n)return"";var o=(e+"").split("\n");r=f8e(n,t,i,r);for(var l=0,h=o.length;l<h;l++)o[l]=p8e(o[l],r);return o.join("\n")}function f8e(e,n,t,i){var r=Tn({},i=i||{});r.font=n,t=Ro(t,"..."),r.maxIterations=Ro(i.maxIterations,2);var o=r.minChar=Ro(i.minChar,0);r.cnCharWidth=Od("\u56fd",n);var l=r.ascCharWidth=Od("a",n);r.placeholder=Ro(i.placeholder,"");for(var h=e=Math.max(0,e-1),f=0;f<o&&h>=l;f++)h-=l;var m=Od(t,n);return m>h&&(t="",m=0),h=e-m,r.ellipsis=t,r.ellipsisWidth=m,r.contentWidth=h,r.containerWidth=e,r}function p8e(e,n){var t=n.containerWidth,i=n.font,r=n.contentWidth;if(!t)return"";var o=Od(e,i);if(o<=t)return e;for(var l=0;;l++){if(o<=r||l>=n.maxIterations){e+=n.ellipsis;break}var h=0===l?Eft(e,r,n.ascCharWidth,n.cnCharWidth):o>0?Math.floor(e.length*r/o):0;o=Od(e=e.substr(0,h),i)}return""===e&&(e=n.placeholder),e}function Eft(e,n,t,i){for(var r=0,o=0,l=e.length;o<l&&r<n;o++){var h=e.charCodeAt(o);r+=0<=h&&h<=127?t:i}return o}var Lft=function e(){},g8e=function e(n){this.tokens=[],n&&(this.tokens=n)},Rft=function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function wae(e,n,t,i,r){var _,b,o=""===n,l=r&&t.rich[r]||{},h=e.lines,f=l.font||t.font,m=!1;if(i){var S=l.padding,M=S?S[1]+S[3]:0;if(null!=l.width&&"auto"!==l.width){var O=nx(l.width,i.width)+M;h.length>0&&O+i.accumWidth>i.width&&(_=n.split("\n"),m=!0),i.accumWidth=O}else{var I=m8e(n,f,i.width,i.breakAll,i.accumWidth);i.accumWidth=I.accumWidth+M,b=I.linesWidths,_=I.lines}}else _=n.split("\n");for(var N=0;N<_.length;N++){var V=_[N],G=new Lft;if(G.styleName=r,G.text=V,G.isLineHolder=!V&&!o,G.width="number"==typeof l.width?l.width:b?b[N]:Od(V,f),N||m)h.push(new g8e([G]));else{var X=(h[h.length-1]||(h[0]=new g8e)).tokens,K=X.length;1===K&&X[0].isLineHolder?X[0]=G:(V||!K||o)&&X.push(G)}}}var Bft=xS(",&?/;] ".split(""),function(e,n){return e[n]=!0,e},{});function Vft(e){return!function Fft(e){var n=e.charCodeAt(0);return n>=33&&n<=255}(e)||!!Bft[e]}function m8e(e,n,t,i,r){for(var o=[],l=[],h="",f="",m=0,_=0,b=0;b<e.length;b++){var S=e.charAt(b);if("\n"!==S){var M=Od(S,n),O=!i&&!Vft(S);(o.length?_+M>t:r+_+M>t)?_?(h||f)&&(O?(h||(h=f,f="",_=m=0),o.push(h),l.push(_-m),f+=S,h="",_=m+=M):(f&&(h+=f,_+=m,f="",m=0),o.push(h),l.push(_),h=S,_=M)):O?(o.push(f),l.push(m),f=S,m=M):(o.push(S),l.push(M)):(_+=M,O?(f+=S,m+=M):(f&&(h+=f,f="",m=0),h+=S))}else f&&(h+=f,_+=m),o.push(h),l.push(_),h="",f="",m=0,_=0}return!o.length&&!h&&(h=e,f="",m=0),f&&(h+=f),h&&(o.push(h),l.push(_)),1===o.length&&(_+=r),{accumWidth:_,lines:o,linesWidths:l}}var Hft=ya({strokeFirst:!0,font:ES,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Nye),v8e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return $o(n,e),n.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return null!=i&&"none"!==i&&t.lineWidth>0},n.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},n.prototype.createStyle=function(t){return yO(Hft,t)},n.prototype.setBoundingRect=function(t){this._rect=t},n.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;null!=i?i+="":i="";var r=J3e(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},n.initDefaultProps=void(n.prototype.dirtyRectTolerance=10),n}(RO);v8e.prototype.type="tspan";const kW=v8e;var Yft=ya({x:0,y:0},ax),Uft={style:ya({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},fW.style)},_8e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return $o(n,e),n.prototype.createStyle=function(t){return yO(Yft,t)},n.prototype._getSize=function(t){var i=this.style,r=i[t];if(null!=r)return r;var o=function Gft(e){return!!(e&&"string"!=typeof e&&e.width&&e.height)}(i.image)?i.image:this.__image;if(!o)return 0;var l="width"===t?"height":"width",h=i[l];return null==h?o[t]:o[t]/o[l]*h},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return Uft},n.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new fo(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},n}(RO);_8e.prototype.type="image";const vx=_8e;var BS=Math.round;function _x(e,n,t){if(!n)return e;var i=BS(2*e);return(i+BS(n))%2==0?i/2:(i+(t?1:-1))/2}var Xft=function e(){this.x=0,this.y=0,this.width=0,this.height=0},qft={},y8e=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultShape=function(){return new Xft},n.prototype.buildPath=function(t,i){var r,o,l,h;if(this.subPixelOptimize){var f=function $ft(e,n,t){if(n){var i=n.x,r=n.y,o=n.width,l=n.height;e.x=i,e.y=r,e.width=o,e.height=l;var h=t&&t.lineWidth;return h&&(e.x=_x(i,h,!0),e.y=_x(r,h,!0),e.width=Math.max(_x(i+o,h,!1)-e.x,0===o?0:1),e.height=Math.max(_x(r+l,h,!1)-e.y,0===l?0:1)),e}}(qft,i,this.style);r=f.x,o=f.y,l=f.width,h=f.height,f.r=i.r,i=f}else r=i.x,o=i.y,l=i.width,h=i.height;i.r?function Wft(e,n){var h,f,m,_,b,t=n.x,i=n.y,r=n.width,o=n.height,l=n.r;r<0&&(t+=r,r=-r),o<0&&(i+=o,o=-o),"number"==typeof l?h=f=m=_=l:l instanceof Array?1===l.length?h=f=m=_=l[0]:2===l.length?(h=m=l[0],f=_=l[1]):3===l.length?(h=l[0],f=_=l[1],m=l[2]):(h=l[0],f=l[1],m=l[2],_=l[3]):h=f=m=_=0,h+f>r&&(h*=r/(b=h+f),f*=r/b),m+_>r&&(m*=r/(b=m+_),_*=r/b),f+m>o&&(f*=o/(b=f+m),m*=o/b),h+_>o&&(h*=o/(b=h+_),_*=o/b),e.moveTo(t+h,i),e.lineTo(t+r-f,i),0!==f&&e.arc(t+r-f,i+f,f,-Math.PI/2,0),e.lineTo(t+r,i+o-m),0!==m&&e.arc(t+r-m,i+o-m,m,0,Math.PI/2),e.lineTo(t+_,i+o),0!==_&&e.arc(t+_,i+o-_,_,Math.PI/2,Math.PI),e.lineTo(t,i+h),0!==h&&e.arc(t+h,i+h,h,Math.PI,1.5*Math.PI)}(t,i):t.rect(r,o,l,h)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(us);y8e.prototype.type="rect";const Id=y8e;var x8e={fill:"#000"},Zft={style:ya({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},fW.style)},C8e=function(e){function n(t){var i=e.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=x8e,i.attr(t),i}return $o(n,e),n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},n.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,function Jft(e){w8e(e),Ke(e.rich,w8e)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},n.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new fo(0,0,0,0),i=this._children,r=[],o=null,l=0;l<i.length;l++){var h=i[l],f=h.getBoundingRect(),m=h.getLocalTransform(r);m?(t.copy(f),t.applyTransform(m),(o=o||t.clone()).union(t)):(o=o||f.clone()).union(f)}this._rect=o||t}return this._rect},n.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||x8e},n.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},n.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return Tn(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},n.prototype._mergeRich=function(t,i){for(var r=ja(i),o=0;o<r.length;o++){var l=r[o];t[l]=t[l]||{},Tn(t[l],i[l])}},n.prototype.getAnimationStyleProps=function(){return Zft},n.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},n.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||ES,r=t.padding,l=function Ift(e,n){null!=e&&(e+="");var _,t=n.overflow,i=n.padding,r=n.font,o="truncate"===t,l=Yoe(r),h=Ro(n.lineHeight,l),f="truncate"===n.lineOverflow,m=n.width,b=(_=null!=m&&"break"===t||"breakAll"===t?e?m8e(e,n.font,m,"breakAll"===t,0).lines:[]:e?e.split("\n"):[]).length*h,S=Ro(n.height,b);if(b>S&&f){var M=Math.floor(S/h);_=_.slice(0,M)}var O=S,I=m;if(i&&(O+=i[0]+i[2],null!=I&&(I+=i[1]+i[3])),e&&o&&null!=I)for(var N=f8e(m,r,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),V=0;V<_.length;V++)_[V]=p8e(_[V],N);if(null==m){var G=0;for(V=0;V<_.length;V++)G=Math.max(Od(_[V],r),G);m=G}return{lines:_,height:S,outerHeight:O,lineHeight:h,calculatedLineHeight:l,contentHeight:b,width:m}}(D8e(t),t),h=Sae(t),f=!!t.backgroundColor,m=l.outerHeight,_=l.lines,b=l.lineHeight,S=this._defaultStyle,M=t.x||0,O=t.y||0,I=t.align||S.align||"left",N=t.verticalAlign||S.verticalAlign||"top",V=M,G=IS(O,l.contentHeight,N);if(h||r){var X=l.width;r&&(X+=r[1]+r[3]);var K=zO(M,X,I),ne=IS(O,m,N);h&&this._renderBackground(t,t,K,ne,X,m)}G+=b/2,r&&(V=M8e(M,I,r),"top"===N?G+=r[0]:"bottom"===N&&(G-=r[2]));for(var ie=0,pe=!1,ve=(T8e("fill"in t?t.fill:(pe=!0,S.fill))),ye=(S8e("stroke"in t?t.stroke:f||S.autoStroke&&!pe?null:(ie=2,S.stroke))),Se=t.textShadowBlur>0,xe=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),De=l.calculatedLineHeight,Pe=0;Pe<_.length;Pe++){var Re=this._getOrCreateChild(kW),ke=Re.createStyle();Re.useStyle(ke),ke.text=_[Pe],ke.x=V,ke.y=G,I&&(ke.textAlign=I),ke.textBaseline="middle",ke.opacity=t.opacity,ke.strokeFirst=!0,Se&&(ke.shadowBlur=t.textShadowBlur||0,ke.shadowColor=t.textShadowColor||"transparent",ke.shadowOffsetX=t.textShadowOffsetX||0,ke.shadowOffsetY=t.textShadowOffsetY||0),ye&&(ke.stroke=ye,ke.lineWidth=t.lineWidth||ie,ke.lineDash=t.lineDash,ke.lineDashOffset=t.lineDashOffset||0),ve&&(ke.fill=ve),ke.font=i,G+=b,xe&&Re.setBoundingRect(new fo(zO(ke.x,t.width,ke.textAlign),IS(ke.y,De,ke.textBaseline),t.width,De))}},n.prototype._updateRichTexts=function(){var t=this.style,r=function Nft(e,n){var t=new Rft;if(null!=e&&(e+=""),!e)return t;for(var f,i=n.width,r=n.height,o=n.overflow,l="break"!==o&&"breakAll"!==o||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===o},h=Cae.lastIndex=0;null!=(f=Cae.exec(e));){var m=f.index;m>h&&wae(t,e.substring(h,m),n,l),wae(t,f[2],n,l,f[1]),h=Cae.lastIndex}h<e.length&&wae(t,e.substring(h,e.length),n,l);var _=[],b=0,S=0,M=n.padding,O="truncate"===o,I="truncate"===n.lineOverflow;function N(Ge,ct,We){Ge.width=ct,Ge.lineHeight=We,b+=We,S=Math.max(S,ct)}e:for(var V=0;V<t.lines.length;V++){for(var G=t.lines[V],X=0,K=0,ne=0;ne<G.tokens.length;ne++){var pe=(ie=G.tokens[ne]).styleName&&n.rich[ie.styleName]||{},ve=ie.textPadding=pe.padding,ye=ve?ve[1]+ve[3]:0,Se=ie.font=pe.font||n.font;ie.contentHeight=Yoe(Se);var xe=Ro(pe.height,ie.contentHeight);if(ie.innerHeight=xe,ve&&(xe+=ve[0]+ve[2]),ie.height=xe,ie.lineHeight=jG(pe.lineHeight,n.lineHeight,xe),ie.align=pe&&pe.align||n.align,ie.verticalAlign=pe&&pe.verticalAlign||"middle",I&&null!=r&&b+ie.lineHeight>r){ne>0?(G.tokens=G.tokens.slice(0,ne),N(G,K,X),t.lines=t.lines.slice(0,V+1)):t.lines=t.lines.slice(0,V);break e}var De=pe.width,Pe=null==De||"auto"===De;if("string"==typeof De&&"%"===De.charAt(De.length-1))ie.percentWidth=De,_.push(ie),ie.contentWidth=Od(ie.text,Se);else{if(Pe){var Re=pe.backgroundColor,ke=Re&&Re.image;ke&&zW(ke=zft(ke))&&(ie.width=Math.max(ie.width,ke.width*xe/ke.height))}var Oe=O&&null!=i?i-K:null;null!=Oe&&Oe<ie.width?!Pe||Oe<ye?(ie.text="",ie.width=ie.contentWidth=0):(ie.text=Oft(ie.text,Oe-ye,Se,n.ellipsis,{minChar:n.truncateMinChar}),ie.width=ie.contentWidth=Od(ie.text,Se)):ie.contentWidth=Od(ie.text,Se)}ie.width+=ye,K+=ie.width,pe&&(X=Math.max(X,ie.lineHeight))}N(G,K,X)}for(t.outerWidth=t.width=Ro(i,S),t.outerHeight=t.height=Ro(r,b),t.contentHeight=b,t.contentWidth=S,M&&(t.outerWidth+=M[1]+M[3],t.outerHeight+=M[0]+M[2]),V=0;V<_.length;V++){var ie;(ie=_[V]).width=parseInt(ie.percentWidth,10)/100*t.width}return t}(D8e(t),t),o=r.width,l=r.outerWidth,h=r.outerHeight,f=t.padding,_=t.y||0,b=this._defaultStyle,M=t.verticalAlign||b.verticalAlign,O=zO(t.x||0,l,t.align||b.align),I=IS(_,h,M),N=O,V=I;f&&(N+=f[3],V+=f[0]);var G=N+o;Sae(t)&&this._renderBackground(t,t,O,I,l,h);for(var X=!!t.backgroundColor,K=0;K<r.lines.length;K++){for(var ne=r.lines[K],ie=ne.tokens,pe=ie.length,ve=ne.lineHeight,ye=ne.width,Se=0,xe=N,De=G,Pe=pe-1,Re=void 0;Se<pe&&(!(Re=ie[Se]).align||"left"===Re.align);)this._placeToken(Re,t,ve,V,xe,"left",X),ye-=Re.width,xe+=Re.width,Se++;for(;Pe>=0&&"right"===(Re=ie[Pe]).align;)this._placeToken(Re,t,ve,V,De,"right",X),ye-=Re.width,De-=Re.width,Pe--;for(xe+=(o-(xe-N)-(G-De)-ye)/2;Se<=Pe;)this._placeToken(Re=ie[Se],t,ve,V,xe+Re.width/2,"center",X),xe+=Re.width,Se++;V+=ve}},n.prototype._placeToken=function(t,i,r,o,l,h,f){var m=i.rich[t.styleName]||{};m.text=t.text;var _=t.verticalAlign,b=o+r/2;"top"===_?b=o+t.height/2:"bottom"===_&&(b=o+r-t.height/2),!t.isLineHolder&&Sae(m)&&this._renderBackground(m,i,"right"===h?l-t.width:"center"===h?l-t.width/2:l,b-t.height/2,t.width,t.height);var M=!!m.backgroundColor,O=t.textPadding;O&&(l=M8e(l,h,O),b-=t.height/2-O[0]-t.innerHeight/2);var I=this._getOrCreateChild(kW),N=I.createStyle();I.useStyle(N);var V=this._defaultStyle,G=!1,X=0,K=T8e("fill"in m?m.fill:"fill"in i?i.fill:(G=!0,V.fill)),ne=S8e("stroke"in m?m.stroke:"stroke"in i?i.stroke:M||f||V.autoStroke&&!G?null:(X=2,V.stroke)),ie=m.textShadowBlur>0||i.textShadowBlur>0;N.text=t.text,N.x=l,N.y=b,ie&&(N.shadowBlur=m.textShadowBlur||i.textShadowBlur||0,N.shadowColor=m.textShadowColor||i.textShadowColor||"transparent",N.shadowOffsetX=m.textShadowOffsetX||i.textShadowOffsetX||0,N.shadowOffsetY=m.textShadowOffsetY||i.textShadowOffsetY||0),N.textAlign=h,N.textBaseline="middle",N.font=t.font||ES,N.opacity=jG(m.opacity,i.opacity,1),ne&&(N.lineWidth=jG(m.lineWidth,i.lineWidth,X),N.lineDash=Ro(m.lineDash,i.lineDash),N.lineDashOffset=i.lineDashOffset||0,N.stroke=ne),K&&(N.fill=K);var pe=t.contentWidth,ve=t.contentHeight;I.setBoundingRect(new fo(zO(N.x,pe,N.textAlign),IS(N.y,ve,N.textBaseline),pe,ve))},n.prototype._renderBackground=function(t,i,r,o,l,h){var I,N,G,f=t.backgroundColor,m=t.borderWidth,_=t.borderColor,b=f&&f.image,S=f&&!b,M=t.borderRadius,O=this;if(S||t.lineHeight||m&&_){(I=this._getOrCreateChild(Id)).useStyle(I.createStyle()),I.style.fill=null;var V=I.shape;V.x=r,V.y=o,V.width=l,V.height=h,V.r=M,I.dirtyShape()}if(S)(G=I.style).fill=f||null,G.fillOpacity=Ro(t.fillOpacity,1);else if(b){(N=this._getOrCreateChild(vx)).onload=function(){O.dirtyStyle()};var X=N.style;X.image=f.image,X.x=r,X.y=o,X.width=l,X.height=h}m&&_&&((G=I.style).lineWidth=m,G.stroke=_,G.strokeOpacity=Ro(t.strokeOpacity,1),G.lineDash=t.borderDash,G.lineDashOffset=t.borderDashOffset||0,I.strokeContainThreshold=0,I.hasFill()&&I.hasStroke()&&(G.strokeFirst=!0,G.lineWidth*=2));var K=(I||N).style;K.shadowBlur=t.shadowBlur||0,K.shadowColor=t.shadowColor||"transparent",K.shadowOffsetX=t.shadowOffsetX||0,K.shadowOffsetY=t.shadowOffsetY||0,K.opacity=jG(t.opacity,i.opacity,1)},n.makeFont=function(t){var i="";if(t.fontSize||t.fontFamily||t.fontWeight){var r="";r="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,i=[t.fontStyle,t.fontWeight,r,t.fontFamily||"sans-serif"].join(" ")}return i&&bS(i)||t.textFont||t.font},n}(RO),Kft={left:!0,right:1,center:1},Qft={top:1,bottom:1,middle:1};function w8e(e){if(e){e.font=C8e.makeFont(e);var n=e.align;"middle"===n&&(n="center"),e.align=null==n||Kft[n]?n:"left";var t=e.verticalAlign;"center"===t&&(t="middle"),e.verticalAlign=null==t||Qft[t]?t:"top",e.padding&&(e.padding=u3e(e.padding))}}function S8e(e,n){return null==e||n<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function T8e(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function M8e(e,n,t){return"right"===n?e-t[1]:"center"===n?e+t[3]/2-t[1]/2:e+t[3]}function D8e(e){var n=e.text;return null!=n&&(n+=""),n}function Sae(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const yx=C8e;var ept=["textStyle","color"],Tae=new yx,tpt=function(){function e(){}return e.prototype.getTextColor=function(n){var t=this.ecModel;return this.getShallow("color")||(!n&&t?t.get(ept):null)},e.prototype.getFont=function(){return function Pft(e,n){var t=n&&n.getModel("textStyle");return bS([e.fontStyle||t&&t.getShallow("fontStyle")||"",e.fontWeight||t&&t.getShallow("fontWeight")||"",(e.fontSize||t&&t.getShallow("fontSize")||12)+"px",e.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(n){return Tae.useStyle({text:n,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),Tae.update(),Tae.getBoundingRect()},e}();const npt=tpt;var P8e=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],ipt=LO(P8e),rpt=function(){function e(){}return e.prototype.getLineStyle=function(n){return ipt(this,n)},e}(),A8e=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],opt=LO(A8e),apt=function(){function e(){}return e.prototype.getItemStyle=function(n,t){return opt(this,n,t)},e}(),xx=function(){function e(n,t,i){this.parentModel=t,this.ecModel=i,this.option=n}return e.prototype.init=function(n,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},e.prototype.mergeOption=function(n,t){ti(this.option,n,!0)},e.prototype.get=function(n,t){return null==n?this.option:this._doGet(this.parsePath(n),!t&&this.parentModel)},e.prototype.getShallow=function(n,t){var i=this.option,r=null==i?i:i[n];if(null==r&&!t){var o=this.parentModel;o&&(r=o.getShallow(n))}return r},e.prototype.getModel=function(n,t){var i=null!=n,r=i?this.parsePath(n):null;return new e(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)(ho(this.option))},e.prototype.parsePath=function(n){return"string"==typeof n?n.split("."):n},e.prototype.resolveParentPath=function(n){return n},e.prototype.isAnimationEnabled=function(){if(!jo.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(n,t){var i=this.option;if(!n)return i;for(var r=0;r<n.length&&(!n[r]||null!=(i=i&&"object"==typeof i?i[n[r]]:null));r++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(n),t.parentModel)),i},e}();Koe(xx),function Mdt(e){var n=["__\0is_clz",Tdt++].join("_");e.prototype[n]=!0,e.isInstance=function(t){return!(!t||!t[n])}}(xx),ip(xx,rpt),ip(xx,apt),ip(xx,kdt),ip(xx,npt);const ju=xx;var spt=Math.round(10*Math.random());function OW(e){return[e||"",spt++].join("_")}var IW={},Dae={},z8e=jo.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function k8e(e,n){e=e.toUpperCase(),Dae[e]=new ju(n),IW[e]=n}k8e("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),k8e("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var WO=36e5,sp=24*WO,jO={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},LW="{yyyy}-{MM}-{dd}",E8e={year:"{yyyy}",month:"{yyyy}-{MM}",day:LW,hour:LW+" "+jO.hour,minute:LW+" "+jO.minute,second:LW+" "+jO.second,millisecond:jO.none},zae=["year","month","day","hour","minute","second","millisecond"],I8e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ld(e,n){return"0000".substr(0,n-(e+="").length)+e}function VS(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function gpt(e){return e===VS(e)}function kae(e,n,t,i){var r=Ug(e),o=r[Oae(t)](),l=r[HS(t)]()+1,h=Math.floor((l-1)/4)+1,f=r[RW(t)](),m=r["get"+(t?"UTC":"")+"Day"](),_=r[$O(t)](),b=(_-1)%12+1,S=r[NW(t)](),M=r[FW(t)](),O=r[BW(t)](),I=i instanceof ju?i:function fpt(e){return Dae[e]}(i||z8e)||function ppt(){return Dae.EN}(),N=I.getModel("time"),V=N.get("month"),G=N.get("monthAbbr"),X=N.get("dayOfWeek"),K=N.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,h+"").replace(/{MMMM}/g,V[l-1]).replace(/{MMM}/g,G[l-1]).replace(/{MM}/g,Ld(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,Ld(f,2)).replace(/{d}/g,f+"").replace(/{eeee}/g,X[m]).replace(/{ee}/g,K[m]).replace(/{e}/g,m+"").replace(/{HH}/g,Ld(_,2)).replace(/{H}/g,_+"").replace(/{hh}/g,Ld(b+"",2)).replace(/{h}/g,b+"").replace(/{mm}/g,Ld(S,2)).replace(/{m}/g,S+"").replace(/{ss}/g,Ld(M,2)).replace(/{s}/g,M+"").replace(/{SSS}/g,Ld(O,3)).replace(/{S}/g,O+"")}function L8e(e,n){var t=Ug(e),i=t[HS(n)]()+1,r=t[RW(n)](),o=t[$O(n)](),l=t[NW(n)](),h=t[FW(n)](),m=0===t[BW(n)](),_=m&&0===h,b=_&&0===l,S=b&&0===o,M=S&&1===r;return M&&1===i?"year":M?"month":S?"day":b?"hour":_?"minute":m?"second":"millisecond"}function R8e(e,n,t){var i="number"==typeof e?Ug(e):e;switch(n=n||L8e(e,t)){case"year":return i[Oae(t)]();case"half-year":return i[HS(t)]()>=6?1:0;case"quarter":return Math.floor((i[HS(t)]()+1)/4);case"month":return i[HS(t)]();case"day":return i[RW(t)]();case"half-day":return i[$O(t)]()/24;case"hour":return i[$O(t)]();case"minute":return i[NW(t)]();case"second":return i[FW(t)]();case"millisecond":return i[BW(t)]()}}function Oae(e){return e?"getUTCFullYear":"getFullYear"}function HS(e){return e?"getUTCMonth":"getMonth"}function RW(e){return e?"getUTCDate":"getDate"}function $O(e){return e?"getUTCHours":"getHours"}function NW(e){return e?"getUTCMinutes":"getMinutes"}function FW(e){return e?"getUTCSeconds":"getSeconds"}function BW(e){return e?"getUTCMilliseconds":"getMilliseconds"}function _pt(e){return e?"setUTCFullYear":"setFullYear"}function N8e(e){return e?"setUTCMonth":"setMonth"}function F8e(e){return e?"setUTCDate":"setDate"}function B8e(e){return e?"setUTCHours":"setHours"}function V8e(e){return e?"setUTCMinutes":"setMinutes"}function H8e(e){return e?"setUTCSeconds":"setSeconds"}function Y8e(e){return e?"setUTCMilliseconds":"setMilliseconds"}function VW(e){if(!function sdt(e){return!isNaN($4(e))}(e))return js(e)?e:"-";var n=(e+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}var ypt=u3e,xpt=/([&<>"'])/g,bpt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xl(e){return null==e?"":(e+"").replace(xpt,function(n,t){return bpt[t]})}var U8e=["a","b","c","d","e","f","g"],Eae=function(e,n){return"{"+e+(n??"")+"}"};function G8e(e,n,t){si(n)||(n=[n]);var i=n.length;if(!i)return"";for(var r=n[0].$vars||[],o=0;o<r.length;o++){var l=U8e[o];e=e.replace(Eae(l),Eae(l,0))}for(var h=0;h<i;h++)for(var f=0;f<r.length;f++){var m=n[h][r[f]];e=e.replace(Eae(U8e[f],h),t?xl(m):m)}return e}function W8e(e,n){var t=js(e)?{color:e,extraCssText:n}:e||{},i=t.color,r=t.type;n=t.extraCssText;var o=t.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+xl(i)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+xl(i)+";"+(n||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}var YW=Ke,Spt=["left","right","top","bottom","width","height"],bx=[["width","left","right"],["height","top","bottom"]];function j8e(e,n,t,i,r){var o=0,l=0;null==i&&(i=1/0),null==r&&(r=1/0);var h=0;n.eachChild(function(f,m){var M,O,_=f.getBoundingRect(),b=n.childAt(m+1),S=b&&b.getBoundingRect();if("horizontal"===e){var I=_.width+(S?-S.x+_.x:0);(M=o+I)>i||f.newline?(o=0,M=I,l+=h+t,h=_.height):h=Math.max(h,_.height)}else{var N=_.height+(S?-S.y+_.y:0);(O=l+N)>r||f.newline?(o+=h+t,l=0,O=N,h=_.width):h=Math.max(h,_.width)}f.newline||(f.x=o,f.y=l,f.markRedraw(),"horizontal"===e?o=M+t:l=O+t)})}function XO(e,n,t){t=ypt(t||0);var i=n.width,r=n.height,o=Ed(e.left,i),l=Ed(e.top,r),h=Ed(e.right,i),f=Ed(e.bottom,r),m=Ed(e.width,i),_=Ed(e.height,r),b=t[2]+t[0],S=t[1]+t[3],M=e.aspect;switch(isNaN(m)&&(m=i-h-S-o),isNaN(_)&&(_=r-f-b-l),null!=M&&(isNaN(m)&&isNaN(_)&&(M>i/r?m=.8*i:_=.8*r),isNaN(m)&&(m=M*_),isNaN(_)&&(_=m/M)),isNaN(o)&&(o=i-h-m-S),isNaN(l)&&(l=r-f-_-b),e.left||e.right){case"center":o=i/2-m/2-t[3];break;case"right":o=i-m-S}switch(e.top||e.bottom){case"middle":case"center":l=r/2-_/2-t[0];break;case"bottom":l=r-_-b}o=o||0,l=l||0,isNaN(m)&&(m=i-S-o-(h||0)),isNaN(_)&&(_=r-b-l-(f||0));var O=new fo(o+t[3],l+t[0],m,_);return O.margin=t,O}function UW(e){var n=e.layoutMode||e.constructor.layoutMode;return Xi(n)?n:n?{type:n}:null}function GW(e,n,t){var i=t&&t.ignoreSize;!si(i)&&(i=[i,i]);var r=l(bx[0],0),o=l(bx[1],1);function l(_,b){var S={},M=0,O={},I=0;if(YW(_,function(X){O[X]=e[X]}),YW(_,function(X){h(n,X)&&(S[X]=O[X]=n[X]),f(S,X)&&M++,f(O,X)&&I++}),i[b])return f(n,_[1])?O[_[2]]=null:f(n,_[2])&&(O[_[1]]=null),O;if(2===I||!M)return O;if(M>=2)return S;for(var V=0;V<_.length;V++){var G=_[V];if(!h(S,G)&&h(e,G)){S[G]=e[G];break}}return S}function h(_,b){return _.hasOwnProperty(b)}function f(_,b){return null!=_[b]&&"auto"!==_[b]}function m(_,b,S){YW(_,function(M){b[M]=S[M]})}m(bx[0],e,r),m(bx[1],e,o)}function $8e(e){return function Tpt(e,n){return n&&e&&YW(Spt,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}({},e)}W4(j8e,"vertical"),W4(j8e,"horizontal");var Mpt=Ql(),YS=function(e){function n(t,i,r){var o=e.call(this,t,i,r)||this;return o.uid=OW("ec_cpt_model"),o}return Bh(n,e),n.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},n.prototype.mergeDefaultAndTheme=function(t,i){var r=UW(this),o=r?$8e(t):{};ti(t,i.getTheme().get(this.mainType)),ti(t,this.getDefaultOption()),r&&GW(t,o,r)},n.prototype.mergeOption=function(t,i){ti(this.option,t,!0);var r=UW(this);r&&GW(this.option,t,r)},n.prototype.optionUpdated=function(t,i){},n.prototype.getDefaultOption=function(){var t=this.constructor;if(!function wdt(e){return!(!e||!e[yye])}(t))return t.defaultOption;var i=Mpt(this);if(!i.defaultOption){for(var r=[],o=t;o;){var l=o.prototype.defaultOption;l&&r.push(l),o=o.superClass}for(var h={},f=r.length-1;f>=0;f--)h=ti(h,r[f],!0);i.defaultOption=h}return i.defaultOption},n.prototype.getReferringComponents=function(t,i){var o=t+"Id";return hW(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(o,!0)},i)},n.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},n.protoInitialize=((t=n.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),n;var t}(ju);xye(YS,ju),dW(YS),function lpt(e){var n={};e.registerSubTypeDefaulter=function(t,i){var r=Pm(t);n[r.main]=i},e.determineSubType=function(t,i){var r=i.type;if(!r){var o=Pm(t).main;e.hasSubTypes(t)&&n[o]&&(r=n[o](i))}return r}}(YS),function cpt(e,n){function i(o,l){return o[l]||(o[l]={predecessor:[],successor:[]}),o[l]}e.topologicalTravel=function(o,l,h,f){if(o.length){var m=function t(o){var l={},h=[];return Ke(o,function(f){var m=i(l,f),b=function r(o,l){var h=[];return Ke(o,function(f){xa(l,f)>=0&&h.push(f)}),h}(m.originalDeps=n(f),o);m.entryCount=b.length,0===m.entryCount&&h.push(f),Ke(b,function(S){xa(m.predecessor,S)<0&&m.predecessor.push(S);var M=i(l,S);xa(M.successor,S)<0&&M.successor.push(f)})}),{graph:l,noEntryList:h}}(l),_=m.graph,b=m.noEntryList,S={};for(Ke(o,function(G){S[G]=!0});b.length;){var M=b.pop(),O=_[M],I=!!S[M];I&&(h.call(f,M,O.originalDeps.slice()),delete S[M]),Ke(O.successor,I?V:N)}Ke(S,function(){throw new Error("")})}function N(G){_[G].entryCount--,0===_[G].entryCount&&b.push(G)}function V(G){S[G]=!0,N(G)}}}(YS,function Dpt(e){var n=[];return Ke(YS.getClassesByMainType(e),function(t){n=n.concat(t.dependencies||t.prototype.dependencies||[])}),n=Gi(n,function(t){return Pm(t).main}),"dataset"!==e&&xa(n,"dataset")<=0&&n.unshift("dataset"),n});const ba=YS;var X8e="";typeof navigator<"u"&&(X8e=navigator.platform||"");var US="rgba(0, 0, 0, 0.2)";const Ppt={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:US,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:US,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:US,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:US,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:US,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:US,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:X8e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var q8e=Ji(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),lp="original",Gh="arrayRows",Em="objectRows",e2="keyedColumns",t2="typedArray",Im="column",GS="row",K8e=Ql();function zpt(e,n,t){var i={},r=Iae(n);if(!r||!e)return i;var _,b,o=[],l=[],f=K8e(n.ecModel).datasetMap,m=r.uid+"_"+t.seriesLayoutBy;Ke(e=e.slice(),function(I,N){var V=Xi(I)?I:e[N]={name:I};"ordinal"===V.type&&null==_&&(_=N,b=O(V)),i[V.name]=[]});var S=f.get(m)||f.set(m,{categoryWayDim:b,valueWayDim:0});function M(I,N,V){for(var G=0;G<V;G++)I.push(N+G)}function O(I){var N=I.dimsDef;return N?N.length:1}return Ke(e,function(I,N){var V=I.name,G=O(I);if(null==_)M(i[V],X=S.valueWayDim,G),M(l,X,G),S.valueWayDim+=G;else if(_===N)M(i[V],0,G),M(o,0,G);else{var X;M(i[V],X=S.categoryWayDim,G),M(l,X,G),S.categoryWayDim+=G}}),o.length&&(i.itemName=o),l.length&&(i.seriesName=l),i}function Iae(e){if(!e.get("data",!0))return hW(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},rx).models[0]}function Q8e(e,n){return function J8e(e,n,t,i,r,o){var l,f,m;if(Ad(e))return 3;if(i){var _=i[o];Xi(_)?(f=_.name,m=_.type):js(_)&&(f=_)}if(null!=m)return"ordinal"===m?1:3;if(n===Gh){var b=e;if(t===GS){for(var S=b[o],M=0;M<(S||[]).length&&M<5;M++)if(null!=(l=K(S[r+M])))return l}else for(M=0;M<b.length&&M<5;M++){var O=b[r+M];if(O&&null!=(l=K(O[o])))return l}}else if(n===Em){var I=e;if(!f)return 3;for(M=0;M<I.length&&M<5;M++)if((N=I[M])&&null!=(l=K(N[f])))return l}else if(n===e2){if(!f)return 3;if(!(S=e[f])||Ad(S))return 3;for(M=0;M<S.length&&M<5;M++)if(null!=(l=K(S[M])))return l}else if(n===lp){var G=e;for(M=0;M<G.length&&M<5;M++){var N,X=OO(N=G[M]);if(!si(X))return 3;if(null!=(l=K(X[o])))return l}}function K(ne){var ie=js(ne);return null!=ne&&isFinite(ne)&&""!==ne?ie?2:3:ie&&"-"!==ne?1:void 0}return 3}(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,n)}var Lae=Ji(),e6e=Ql(),Rae=(Ql(),function(){function e(){}return e.prototype.getColorFromPalette=function(n,t,i){var r=nu(this.get("color",!0)),o=this.get("colorLayer",!0);return function t6e(e,n,t,i,r,o,l){var h=n(o=o||e),f=h.paletteIdx||0,m=h.paletteNameMap=h.paletteNameMap||{};if(m.hasOwnProperty(r))return m[r];var _=null!=l&&i?function Ipt(e,n){for(var t=e.length,i=0;i<t;i++)if(e[i].length>n)return e[i];return e[t-1]}(i,l):t;if((_=_||t)&&_.length){var b=_[f];return r&&(m[r]=b),h.paletteIdx=(f+1)%_.length,b}}(this,e6e,r,o,n,t,i)},e.prototype.clearColorPalette=function(){!function Lpt(e,n){n(e).paletteIdx=0,n(e).paletteNameMap={}}(this,e6e)},e}());var WW,qO,n6e,i6e="\0_ec_inner",o6e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Bh(n,e),n.prototype.init=function(t,i,r,o,l,h){o=o||{},this.option=null,this._theme=new ju(o),this._locale=new ju(l),this._optionManager=h},n.prototype.setOption=function(t,i,r){var o=l6e(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},n.prototype.resetOption=function(t,i){return this._resetOption(t,l6e(i))},n.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||"recreate"===t){var l=o.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(l,i)):n6e(this,l),r=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var h=o.getTimelineOption(this);h&&(r=!0,this._mergeOption(h,i))}if(!t||"recreate"===t||"media"===t){var f=o.getMediaOption(this);f.length&&Ke(f,function(m){r=!0,this._mergeOption(m,i)},this)}return r},n.prototype.mergeOption=function(t){this._mergeOption(t,null)},n.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,l=this._componentsCount,h=[],f=Ji(),m=i&&i.replaceMergeMainTypeMap;(function Apt(e){K8e(e).datasetMap=Ji()})(this),Ke(t,function(b,S){null!=b&&(ba.hasClass(S)?S&&(h.push(S),f.set(S,!0)):r[S]=null==r[S]?ho(b):ti(r[S],b,!0))}),m&&m.each(function(b,S){ba.hasClass(S)&&!f.get(S)&&(h.push(S),f.set(S,!0))}),ba.topologicalTravel(h,ba.getAllClassMainTypes(),function _(b){var S=function Opt(e,n,t){var i=Lae.get(n);if(!i)return t;var r=i(e);return r?t.concat(r):t}(this,b,nu(t[b])),M=o.get(b),I=function cdt(e,n,t){var i="normalMerge"===t,r="replaceMerge"===t,o="replaceAll"===t;e=e||[],n=(n||[]).slice();var l=Ji();Ke(n,function(f,m){Xi(f)||(n[m]=null)});var h=function udt(e,n,t){var i=[];if("replaceAll"===t)return i;for(var r=0;r<e.length;r++){var o=e[r];o&&null!=o.id&&n.set(o.id,r),i.push({existing:"replaceMerge"===t||IO(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(e,l,t);return(i||r)&&function hdt(e,n,t,i){Ke(i,function(r,o){if(r&&null!=r.id){var l=EO(r.id),h=t.get(l);if(null!=h){var f=e[h];Bg(!f.newOption,'Duplicated option on id "'+l+'".'),f.newOption=r,f.existing=n[h],i[o]=null}}})}(h,e,l,n),i&&function ddt(e,n){Ke(n,function(t,i){if(t&&null!=t.name)for(var r=0;r<e.length;r++){var o=e[r].existing;if(!e[r].newOption&&o&&(null==o.id||null==t.id)&&!IO(t)&&!IO(o)&&gye("name",o,t))return e[r].newOption=t,void(n[i]=null)}})}(h,n),i||r?function fdt(e,n,t){Ke(n,function(i){if(i){for(var r,o=0;(r=e[o])&&(r.newOption||IO(r.existing)||r.existing&&null!=i.id&&!gye("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=t):e.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),o++}})}(h,n,r):o&&function pdt(e,n){Ke(n,function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(h,n),function gdt(e){var n=Ji();Ke(e,function(t){var i=t.existing;i&&n.set(i.id,t)}),Ke(e,function(t){var i=t.newOption;Bg(!i||null==i.id||!n.get(i.id)||n.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&n.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Ke(e,function(t,i){var r=t.existing,o=t.newOption,l=t.keyInfo;if(Xi(o)){if(l.name=null!=o.name?EO(o.name):r?r.name:"series\0"+i,r)l.id=EO(r.id);else if(null!=o.id)l.id=EO(o.id);else{var h=0;do{l.id="\0"+l.name+"\0"+h++}while(n.get(l.id))}n.set(l.id,t)}})}(h),h}(M,S,M?m&&m.get(b)?"replaceMerge":"normalMerge":"replaceAll");(function mdt(e,n,t){Ke(e,function(i){var r=i.newOption;Xi(r)&&(i.keyInfo.mainType=n,i.keyInfo.subType=function vdt(e,n,t,i){return n.type?n.type:t?t.subType:i.determineSubType(e,n)}(n,r,i.existing,t))})})(I,b,ba),r[b]=null,o.set(b,null),l.set(b,0);var N=[],V=[],G=0;Ke(I,function(X,K){var ne=X.existing,ie=X.newOption;if(ie){var ve=ba.getClass(b,X.keyInfo.subType,!("series"===b));if(!ve)return;if(ne&&ne.constructor===ve)ne.name=X.keyInfo.name,ne.mergeOption(ie,this),ne.optionUpdated(ie,!1);else{var xe=Tn({componentIndex:K},X.keyInfo);Tn(ne=new ve(ie,this,this,xe),xe),X.brandNew&&(ne.__requireNewView=!0),ne.init(ie,this,this),ne.optionUpdated(null,!0)}}else ne&&(ne.mergeOption({},this),ne.optionUpdated({},!1));ne?(N.push(ne.option),V.push(ne),G++):(N.push(void 0),V.push(void 0))},this),r[b]=N,o.set(b,V),l.set(b,G),"series"===b&&WW(this)},this),this._seriesIndices||WW(this)},n.prototype.getOption=function(){var t=ho(this.option);return Ke(t,function(i,r){if(ba.hasClass(r)){for(var o=nu(i),l=o.length,h=!1,f=l-1;f>=0;f--)o[f]&&!IO(o[f])?h=!0:(o[f]=null,!h&&l--);o.length=l,t[r]=o}}),delete t[i6e],t},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(t){this._payload=t},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var l=0;l<r.length;l++)if(r[l])return r[l]}},n.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var f,r=t.index,o=t.id,l=t.name,h=this._componentsMap.get(i);return h&&h.length?(null!=r?(f=[],Ke(nu(r),function(m){h[m]&&f.push(h[m])})):f=null!=o?a6e("id",o,h):null!=l?a6e("name",l,h):tu(h,function(m){return!!m}),s6e(f,t)):[]},n.prototype.findComponents=function(t){var r=t.mainType,o=function h(m){var _=r+"Index",b=r+"Id",S=r+"Name";return!m||null==m[_]&&null==m[b]&&null==m[S]?null:{mainType:r,index:m[_],id:m[b],name:m[S]}}(t.query);return function f(m){return t.filter?tu(m,t.filter):m}(s6e(o?this.queryComponents(o):tu(this._componentsMap.get(r),function(m){return!!m}),t))},n.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(zc(t)){var l=i,h=t;o.each(function(b,S){for(var M=0;b&&M<b.length;M++){var O=b[M];O&&h.call(l,S,O,O.componentIndex)}})}else for(var f=js(t)?o.get(t):Xi(t)?this.findComponents(t):null,m=0;f&&m<f.length;m++){var _=f[m];_&&i.call(r,_,_.componentIndex)}},n.prototype.getSeriesByName=function(t){var i=Gg(t,null);return tu(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},n.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},n.prototype.getSeriesByType=function(t){return tu(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},n.prototype.getSeries=function(){return tu(this._componentsMap.get("series"),function(t){return!!t})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(t,i){qO(this),Ke(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},n.prototype.eachRawSeries=function(t,i){Ke(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},n.prototype.eachSeriesByType=function(t,i,r){qO(this),Ke(this._seriesIndices,function(o){var l=this._componentsMap.get("series")[o];l.subType===t&&i.call(r,l,o)},this)},n.prototype.eachRawSeriesByType=function(t,i,r){return Ke(this.getSeriesByType(t),i,r)},n.prototype.isSeriesFiltered=function(t){return qO(this),null==this._seriesIndicesMap.get(t.componentIndex)},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(t,i){qO(this);var r=[];Ke(this._seriesIndices,function(o){var l=this._componentsMap.get("series")[o];t.call(i,l,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Ji(r)},n.prototype.restoreData=function(t){WW(this);var i=this._componentsMap,r=[];i.each(function(o,l){ba.hasClass(l)&&r.push(l)}),ba.topologicalTravel(r,ba.getAllClassMainTypes(),function(o){Ke(i.get(o),function(l){l&&("series"!==o||!function Fpt(e,n){if(n){var t=n.seriesIndex,i=n.seriesId,r=n.seriesName;return null!=t&&e.componentIndex!==t||null!=i&&e.id!==i||null!=r&&e.name!==r}}(l,t))&&l.restoreData()})})},n.internalField=(WW=function(t){var i=t._seriesIndices=[];Ke(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=Ji(i)},qO=function(t){},void(n6e=function(t,i){t.option={},t.option[i6e]=1,t._componentsMap=Ji({series:[]}),t._componentsCount=Ji();var r=i.aria;Xi(r)&&null==r.enabled&&(r.enabled=!0),function Bpt(e,n){var t=e.color&&!e.colorLayer;Ke(n,function(i,r){"colorLayer"===r&&t||ba.hasClass(r)||("object"==typeof i?e[r]=e[r]?ti(e[r],i,!1):ho(i):null==e[r]&&(e[r]=i))})}(i,t._theme.option),ti(i,Ppt,!1),t._mergeOption(i,null)})),n}(ju);function a6e(e,n,t){if(si(n)){var i=Ji();return Ke(n,function(o){null!=o&&null!=Gg(o,null)&&i.set(o,!0)}),tu(t,function(o){return o&&i.get(o[e])})}var r=Gg(n,null);return tu(t,function(o){return o&&null!=r&&o[e]===r})}function s6e(e,n){return n.hasOwnProperty("subType")?tu(e,function(t){return t&&t.subType===n.subType}):e}function l6e(e){var n=Ji();return e&&Ke(nu(e.replaceMerge),function(t){n.set(t,!0)}),{replaceMergeMainTypeMap:n}}ip(o6e,Rae);const c6e=o6e;var Vpt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const u6e=function e(n){Ke(Vpt,function(t){this[t]=Vh(n[t],n)},this)};var Nae={},Ypt=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(n,t){var i=[];Ke(Nae,function(r,o){var l=r.create(n,t);i=i.concat(l||[])}),this._coordinateSystems=i},e.prototype.update=function(n,t){Ke(this._coordinateSystems,function(i){i.update&&i.update(n,t)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(n,t){Nae[n]=t},e.get=function(n){return Nae[n]},e}();const jW=Ypt;var Upt=/^(min|max)?(.+)$/,Gpt=function(){function e(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return e.prototype.setOption=function(n,t,i){n&&(Ke(nu(n.series),function(l){l&&l.data&&Ad(l.data)&&$G(l.data)}),Ke(nu(n.dataset),function(l){l&&l.source&&Ad(l.source)&&$G(l.source)})),n=ho(n);var r=this._optionBackup,o=function Wpt(e,n,t){var r,o,i=[],l=e.baseOption,h=e.timeline,f=e.options,m=e.media,_=!!e.media,b=!!(f||h||l&&l.timeline);function S(M){Ke(n,function(O){O(M,t)})}return l?(o=l).timeline||(o.timeline=h):((b||_)&&(e.options=e.media=null),o=e),_&&si(m)&&Ke(m,function(M){M&&M.option&&(M.query?i.push(M):r||(r=M))}),S(o),Ke(f,function(M){return S(M)}),Ke(i,function(M){return S(M.option)}),{baseOption:o,timelineOptions:f||[],mediaDefault:r,mediaList:i}}(n,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(n){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ho(n?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(n){var t,i=this._timelineOptions;if(i.length){var r=n.getComponent("timeline");r&&(t=ho(i[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(n){var t=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,l=[],h=[];if(!r.length&&!o)return h;for(var f=0,m=r.length;f<m;f++)jpt(r[f].query,t,i)&&l.push(f);return!l.length&&o&&(l=[-1]),l.length&&!function Xpt(e,n){return e.join(",")===n.join(",")}(l,this._currentMediaIndices)&&(h=Gi(l,function(_){return ho(-1===_?o.option:r[_].option)})),this._currentMediaIndices=l,h},e}();function jpt(e,n,t){var i={width:n,height:t,aspectratio:n/t},r=!0;return Ke(e,function(o,l){var h=l.match(Upt);if(h&&h[1]&&h[2]){var f=h[1],m=h[2].toLowerCase();(function $pt(e,n,t){return"min"===t?e>=n:"max"===t?e<=n:e===n})(i[m],o,f)||(r=!1)}}),r}const qpt=Gpt;var Wg=Ke,ZO=Xi,h6e=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Fae(e){var n=e&&e.itemStyle;if(n)for(var t=0,i=h6e.length;t<i;t++){var r=h6e[t],o=n.normal,l=n.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?ti(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),l&&l[r]&&(e[r]=e[r]||{},e[r].emphasis?ti(e[r].emphasis,l[r]):e[r].emphasis=l[r],l[r]=null)}}function ru(e,n,t){if(e&&e[n]&&(e[n].normal||e[n].emphasis)){var i=e[n].normal,r=e[n].emphasis;i&&(t?(e[n].normal=e[n].emphasis=null,ya(e[n],i)):e[n]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[n]=r,r.focus&&(e.emphasis.focus=r.focus),r.blurScope&&(e.emphasis.blurScope=r.blurScope))}}function KO(e){ru(e,"itemStyle"),ru(e,"lineStyle"),ru(e,"areaStyle"),ru(e,"label"),ru(e,"labelLine"),ru(e,"upperLabel"),ru(e,"edgeLabel")}function zs(e,n){var t=ZO(e)&&e[n],i=ZO(t)&&t.textStyle;if(i)for(var r=0,o=pye.length;r<o;r++){var l=pye[r];i.hasOwnProperty(l)&&(t[l]=i[l])}}function cp(e){e&&(KO(e),zs(e,"label"),e.emphasis&&zs(e.emphasis,"label"))}function n2(e){return si(e)?e:e?[e]:[]}function d6e(e){return(si(e)?e[0]:e)||{}}function f6e(e){e&&Ke(egt,function(n){n[0]in e&&!(n[1]in e)&&(e[n[1]]=e[n[0]])})}var egt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],tgt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Bae=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function QO(e){var n=e&&e.itemStyle;if(n)for(var t=0;t<Bae.length;t++){var i=Bae[t][1];null!=n[i]&&(n[Bae[t][0]]=n[i])}}function p6e(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function g6e(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function m6e(e,n){if(e)for(var t=0;t<e.length;t++)n(e[t]),e[t]&&m6e(e[t].children,n)}function v6e(e,n){(function Kpt(e,n){Wg(n2(e.series),function(i){ZO(i)&&function Zpt(e){if(ZO(e)){Fae(e),KO(e),zs(e,"label"),zs(e,"upperLabel"),zs(e,"edgeLabel"),e.emphasis&&(zs(e.emphasis,"label"),zs(e.emphasis,"upperLabel"),zs(e.emphasis,"edgeLabel"));var n=e.markPoint;n&&(Fae(n),cp(n));var t=e.markLine;t&&(Fae(t),cp(t));var i=e.markArea;i&&cp(i);var r=e.data;if("graph"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!Ad(o))for(var l=0;l<o.length;l++)cp(o[l]);Ke(e.categories,function(m){KO(m)})}if(r&&!Ad(r))for(l=0;l<r.length;l++)cp(r[l]);if((n=e.markPoint)&&n.data){var h=n.data;for(l=0;l<h.length;l++)cp(h[l])}if((t=e.markLine)&&t.data){var f=t.data;for(l=0;l<f.length;l++)si(f[l])?(cp(f[l][0]),cp(f[l][1])):cp(f[l])}"gauge"===e.type?(zs(e,"axisLabel"),zs(e,"title"),zs(e,"detail")):"treemap"===e.type?(ru(e.breadcrumb,"itemStyle"),Ke(e.levels,function(m){KO(m)})):"tree"===e.type&&KO(e.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Wg(t,function(i){Wg(n2(e[i]),function(r){r&&(zs(r,"axisLabel"),zs(r.axisPointer,"label"))})}),Wg(n2(e.parallel),function(i){var r=i&&i.parallelAxisDefault;zs(r,"axisLabel"),zs(r&&r.axisPointer,"label")}),Wg(n2(e.calendar),function(i){ru(i,"itemStyle"),zs(i,"dayLabel"),zs(i,"monthLabel"),zs(i,"yearLabel")}),Wg(n2(e.radar),function(i){zs(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),Wg(n2(e.geo),function(i){ZO(i)&&(cp(i),Wg(n2(i.regions),function(r){cp(r)}))}),Wg(n2(e.timeline),function(i){cp(i),ru(i,"label"),ru(i,"itemStyle"),ru(i,"controlStyle",!0);var r=i.data;si(r)&&Ke(r,function(o){Xi(o)&&(ru(o,"label"),ru(o,"itemStyle"))})}),Wg(n2(e.toolbox),function(i){ru(i,"iconStyle"),Wg(i.feature,function(r){ru(r,"iconStyle")})}),zs(d6e(e.axisPointer),"label"),zs(d6e(e.tooltip).axisPointer,"label")})(e,n),e.series=nu(e.series),Ke(e.series,function(t){if(Xi(t)){var i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),p6e(t.label),(r=t.data)&&!Ad(r))for(var o=0;o<r.length;o++)p6e(r[o]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var l=function Qpt(e,n){for(var t=n.split(","),i=e,r=0;r<t.length&&null!=(i=i&&i[t[r]]);r++);return i}(t,"pointer.color");null!=l&&function Jpt(e,n,t,i){for(var l,r=n.split(","),o=e,h=0;h<r.length-1;h++)null==o[l=r[h]]&&(o[l]={}),o=o[l];(i||null==o[r[h]])&&(o[r[h]]=t)}(t,"itemStyle.color",l)}else if("bar"===i){var r;if(QO(t),QO(t.backgroundStyle),QO(t.emphasis),(r=t.data)&&!Ad(r))for(o=0;o<r.length;o++)"object"==typeof r[o]&&(QO(r[o]),QO(r[o]&&r[o].emphasis))}else if("sunburst"===i){var h=t.highlightPolicy;h&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=h)),g6e(t),m6e(t.data,g6e)}else"graph"===i||"sankey"===i?function ngt(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(t):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&ya(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),f6e(t)}}),e.dataRange&&(e.visualMap=e.dataRange),Ke(tgt,function(t){var i=e[t];i&&(si(i)||(i=[i]),Ke(i,function(r){f6e(r)}))})}function rgt(e){Ke(e,function(n,t){var i=[],r=[NaN,NaN],l=n.data,h=n.isStackedByIndex;l.modify([n.stackResultDimension,n.stackedOverDimension],function(f,m,_){var S,M,b=l.get(n.stackedDimension,_);if(isNaN(b))return r;h?M=l.getRawIndex(_):S=l.get(n.stackedByDimension,_);for(var O=NaN,I=t-1;I>=0;I--){var N=e[I];if(h||(M=N.data.rawIndexOf(N.stackedByDimension,S)),M>=0){var V=N.data.getByRawIndex(N.stackResultDimension,M);if(b>=0&&V>0||b<=0&&V<0){b=rdt(b,V),O=V;break}}}return i[0]=b,i[1]=O,i})})}var $W=function e(n){this.data=n.data||(n.sourceFormat===e2?{}:[]),this.sourceFormat=n.sourceFormat||"unknown",this.seriesLayoutBy=n.seriesLayoutBy||Im,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];null==r.type&&1===Q8e(this,i)&&(r.type="ordinal")}};function Vae(e){return e instanceof $W}function Hae(e,n,t){t=t||_6e(e);var i=n.seriesLayoutBy,r=function agt(e,n,t,i,r){var o,l;if(!e)return{dimensionsDefine:y6e(r),startIndex:l,dimensionsDetectedCount:o};if(n===Gh){var h=e;"auto"===i||null==i?x6e(function(m){null!=m&&"-"!==m&&(js(m)?null==l&&(l=1):l=0)},t,h,10):l=toe(i)?i:i?1:0,!r&&1===l&&(r=[],x6e(function(m,_){r[_]=null!=m?m+"":""},t,h,1/0)),o=r?r.length:t===GS?h.length:h[0]?h[0].length:null}else if(n===Em)r||(r=function sgt(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var i=[];return Ke(t,function(r,o){i.push(o)}),i}}(e));else if(n===e2)r||(r=[],Ke(e,function(m,_){r.push(_)}));else if(n===lp){var f=OO(e[0]);o=si(f)&&f.length||1}return{startIndex:l,dimensionsDefine:y6e(r),dimensionsDetectedCount:o}}(e,t,i,n.sourceHeader,n.dimensions);return new $W({data:e,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:ho(n)})}function Yae(e){return new $W({data:e,sourceFormat:Ad(e)?t2:lp})}function ogt(e){return new $W({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:ho(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function _6e(e){var n="unknown";if(Ad(e))n=t2;else if(si(e)){0===e.length&&(n=Gh);for(var t=0,i=e.length;t<i;t++){var r=e[t];if(null!=r){if(si(r)){n=Gh;break}if(Xi(r)){n=Em;break}}}}else if(Xi(e))for(var o in e)if(Sm(e,o)&&Fg(e[o])){n=e2;break}return n}function y6e(e){if(e){var n=Ji();return Gi(e,function(t,i){var r={name:(t=Xi(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=n.get(r.name);return o?r.name+="-"+o.count++:n.set(r.name,{count:1}),r})}}function x6e(e,n,t,i){if(n===GS)for(var r=0;r<t.length&&r<i;r++)e(t[r]?t[r][0]:null,r);else{var o=t[0]||[];for(r=0;r<o.length&&r<i;r++)e(o[r],r)}}function b6e(e){var n=e.sourceFormat;return n===Em||n===e2}var Cx,Sx,Tx,C6e,w6e,S6e=function(){function e(n,t){var i=Vae(n)?n:Yae(n);this._source=i;var r=this._data=i.data;i.sourceFormat===t2&&(this._offset=0,this._dimSize=t,this._data=r),w6e(this,r,i)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(n,t){},e.prototype.appendData=function(n){},e.prototype.clean=function(){},e.protoInitialize=((n=e.prototype).pure=!1,void(n.persistent=!0)),e.internalField=function(){var n;w6e=function(l,h,f){var m=f.sourceFormat,_=f.seriesLayoutBy,b=f.startIndex,S=f.dimensionsDefine;if(Tn(l,C6e[Gae(m,_)]),m===t2)l.getItem=t,l.count=r,l.fillStorage=i;else{var O=M6e(m,_);l.getItem=Vh(O,null,h,b,S);var I=P6e(m,_);l.count=Vh(I,null,h,b,S)}};var t=function(l,h){h=h||[];for(var f=this._data,m=this._dimSize,_=m*(l-=this._offset),b=0;b<m;b++)h[b]=f[_+b];return h},i=function(l,h,f,m){for(var _=this._data,b=this._dimSize,S=0;S<b;S++){for(var M=m[S],O=null==M[0]?1/0:M[0],I=null==M[1]?-1/0:M[1],N=h-l,V=f[S],G=0;G<N;G++){var X=_[G*b+S];V[l+G]=X,X<O&&(O=X),X>I&&(I=X)}M[0]=O,M[1]=I}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(l){for(var h=0;h<l.length;h++)this._data.push(l[h])}(n={})[Gh+"_"+Im]={pure:!0,appendData:o},n[Gh+"_"+GS]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[Em]={pure:!0,appendData:o},n[e2]={pure:!0,appendData:function(l){var h=this._data;Ke(l,function(f,m){for(var _=h[m]||(h[m]=[]),b=0;b<(f||[]).length;b++)_.push(f[b])})}},n[lp]={appendData:o},n[t2]={persistent:!1,pure:!0,appendData:function(l){this._data=l},clean:function(){this._offset+=this.count(),this._data=null}},C6e=n}(),e;var n}(),T6e=function(e,n,t,i){return e[i]},lgt=((Cx={})[Gh+"_"+Im]=function(e,n,t,i){return e[i+n]},Cx[Gh+"_"+GS]=function(e,n,t,i,r){i+=n;for(var o=r||[],l=e,h=0;h<l.length;h++){var f=l[h];o[h]=f?f[i]:null}return o},Cx[Em]=T6e,Cx[e2]=function(e,n,t,i,r){for(var o=r||[],l=0;l<t.length;l++){var f=e[t[l].name];o[l]=f?f[i]:null}return o},Cx[lp]=T6e,Cx);function M6e(e,n){return lgt[Gae(e,n)]}var D6e=function(e,n,t){return e.length},cgt=((Sx={})[Gh+"_"+Im]=function(e,n,t){return Math.max(0,e.length-n)},Sx[Gh+"_"+GS]=function(e,n,t){var i=e[0];return i?Math.max(0,i.length-n):0},Sx[Em]=D6e,Sx[e2]=function(e,n,t){var r=e[t[0].name];return r?r.length:0},Sx[lp]=D6e,Sx);function P6e(e,n){return cgt[Gae(e,n)]}var Uae=function(e,n,t){return e[n]},ugt=((Tx={})[Gh]=Uae,Tx[Em]=function(e,n,t){return e[t]},Tx[e2]=Uae,Tx[lp]=function(e,n,t){var i=OO(e);return i instanceof Array?i[n]:i},Tx[t2]=Uae,Tx);function A6e(e){return ugt[e]}function Gae(e,n){return e===Gh?e+"_"+n:e}function XW(e,n,t){if(e){var i=e.getRawDataItem(n);if(null!=i){var r=e.getStore(),o=r.getSource().sourceFormat;if(null!=t){var l=e.getDimensionIndex(t),h=r.getDimensionProperty(l);return A6e(o)(i,l,h)}var f=i;return o===lp&&(f=OO(i)),f}}}var hgt=/\{@(.+?)\}/g,dgt=function(){function e(){}return e.prototype.getDataParams=function(n,t){var i=this.getData(t),r=this.getRawValue(n,t),o=i.getRawIndex(n),l=i.getName(n),h=i.getRawDataItem(n),f=i.getItemVisual(n,"style"),m=f&&f[i.getItemVisual(n,"drawType")||"fill"],_=f&&f.stroke,b=this.mainType,S="series"===b,M=i.userOutput&&i.userOutput.get();return{componentType:b,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:l,dataIndex:o,data:h,dataType:t,value:r,color:m,borderColor:_,dimensionNames:M?M.fullDimensions:null,encode:M?M.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(n,t,i,r,o,l){t=t||"normal";var h=this.getData(i),f=this.getDataParams(n,i);return l&&(f.value=l.interpolatedValue),null!=r&&si(f.value)&&(f.value=f.value[r]),o||(o=h.getItemModel(n).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),"function"==typeof o?(f.status=t,f.dimensionIndex=r,o(f)):"string"==typeof o?G8e(o,f).replace(hgt,function(b,S){var M=S.length,O=S;"["===O.charAt(0)&&"]"===O.charAt(M-1)&&(O=+O.slice(1,M-1));var I=XW(h,n,O);if(l&&si(l.interpolatedValue)){var N=h.getDimensionIndex(O);N>=0&&(I=l.interpolatedValue[N])}return null!=I?I+"":""}):void 0},e.prototype.getRawValue=function(n,t){return XW(this.getData(t),n)},e.prototype.formatTooltip=function(n,t,i){},e}();function JO(e){return new fgt(e)}var fgt=function(){function e(n){this._reset=(n=n||{}).reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return e.prototype.perform=function(n){var o,t=this._upstream,i=n&&n.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(o=this._plan(this.context));var b,l=_(this._modBy),h=this._modDataCount||0,f=_(n&&n.modBy),m=n&&n.modDataCount||0;function _(G){return!(G>=1)&&(G=1),G}(l!==f||h!==m)&&(o="reset"),(this._dirty||"reset"===o)&&(this._dirty=!1,b=this._doReset(i)),this._modBy=f,this._modDataCount=m;var S=n&&n.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var M=this._dueIndex,O=Math.min(null!=S?this._dueIndex+S:1/0,this._dueEnd);if(!i&&(b||M<O)){var I=this._progress;if(si(I))for(var N=0;N<I.length;N++)this._doProgress(I[N],M,O,f,m);else this._doProgress(I,M,O,f,m)}this._dueIndex=O,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:O}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(n,t,i,r,o){z6e.reset(t,i,r,o),this._callingProgress=n,this._callingProgress({start:t,end:i,count:i-t,next:z6e.next},this.context)},e.prototype._doReset=function(n){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!n&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),si(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},e}(),z6e=function(){var e,n,t,i,r,o={reset:function(f,m,_,b){n=f,e=m,t=_,i=b,r=Math.ceil(i/t),o.next=t>1&&i>0?h:l}};return o;function l(){return n<e?n++:null}function h(){var f=n%r*t+Math.ceil(n/r),m=n>=e?null:f<i?f:n;return n++,m}}();function Wh(e){throw new Error(e)}function qW(e,n){var t=n&&n.type;return"ordinal"===t?e:("time"===t&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Ug(e)),null==e||""===e?NaN:+e)}typeof console<"u"&&console.warn&&console,Ji({number:function(e){return parseFloat(e)},time:function(e){return+Ug(e)},trim:function(e){return"string"==typeof e?bS(e):e}});var _gt=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(n){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(n){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(n,t){},e.prototype.retrieveValueFromItem=function(n,t){},e.prototype.convertValue=function(n,t){return qW(n,t)},e}();function xgt(e){return $ae(e.sourceFormat)||Wh(""),e.data}function bgt(e){var n=e.sourceFormat,t=e.data;if($ae(n)||Wh(""),n===Gh){for(var r=[],o=0,l=t.length;o<l;o++)r.push(t[o].slice());return r}if(n===Em){for(r=[],o=0,l=t.length;o<l;o++)r.push(Tn({},t[o]));return r}}function Cgt(e,n,t){if(null!=t){if("number"==typeof t||!isNaN(t)&&!Sm(n,t))return e[t];if(Sm(n,t))return n[t]}}function wgt(e){return ho(e)}var O6e=Ji();function Mgt(e,n,t,i){n.length||Wh(""),Xi(e)||Wh("");var l=O6e.get(e.type);l||Wh("");var h=Gi(n,function(_){return function ygt(e,n){var t=new _gt,i=e.data,r=t.sourceFormat=e.sourceFormat,o=e.startIndex;e.seriesLayoutBy!==Im&&Wh("");var h=[],f={},m=e.dimensionsDefine;if(m)Ke(m,function(I,N){var V=I.name,G={index:N,name:V,displayName:I.displayName};h.push(G),null!=V&&(Sm(f,V)&&Wh(""),f[V]=G)});else for(var _=0;_<e.dimensionsDetectedCount;_++)h.push({index:_});var b=M6e(r,Im);n.__isBuiltIn&&(t.getRawDataItem=function(I){return b(i,o,h,I)},t.getRawData=Vh(xgt,null,e)),t.cloneRawData=Vh(bgt,null,e);var S=P6e(r,Im);t.count=Vh(S,null,i,o,h);var M=A6e(r);t.retrieveValue=function(I,N){var V=b(i,o,h,I);return O(V,N)};var O=t.retrieveValueFromItem=function(I,N){if(null!=I){var V=h[N];if(V)return M(I,N,V.name)}};return t.getDimensionInfo=Vh(Cgt,null,h,f),t.cloneAllDimensionInfo=Vh(wgt,null,h),t}(_,l)});return Gi(nu(l.transform({upstream:h[0],upstreamList:h,config:ho(e.config)})),function(_,b){Xi(_)||Wh(""),_.data||Wh(""),$ae(_6e(_.data))||Wh("");var O,I=n[0];if(I&&0===b&&!_.dimensions){var N=I.startIndex;N&&(_.data=I.data.slice(0,N).concat(_.data)),O={seriesLayoutBy:Im,sourceHeader:N,dimensions:I.metaRawOption.dimensions}}else O={seriesLayoutBy:Im,sourceHeader:0,dimensions:_.dimensions};return Hae(_.data,O,null)})}function $ae(e){return e===Gh||e===Em}var Xae,ZW="undefined",Dgt=typeof Uint32Array===ZW?Array:Uint32Array,Pgt=typeof Uint16Array===ZW?Array:Uint16Array,E6e=typeof Int32Array===ZW?Array:Int32Array,I6e=typeof Float64Array===ZW?Array:Float64Array,L6e={float:I6e,int:E6e,ordinal:Array,number:Array,time:I6e};function eE(e){return e>65535?Dgt:Pgt}function Agt(e){var n=e.constructor;return n===Array?e.slice():new n(e)}function R6e(e,n,t,i,r){var o=L6e[t||"float"];if(r){var l=e[n],h=l&&l.length;if(h!==i){for(var f=new o(i),m=0;m<h;m++)f[m]=l[m];e[n]=f}}else e[n]=new o(i)}var zgt=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ji()}return e.prototype.initData=function(n,t,i){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=n.getSource(),o=this.defaultDimValueGetter=Xae[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],b6e(r),this._dimensions=Gi(t,function(h){return{type:h.type,property:h.property}}),this._initDataFromProvider(0,n.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(n,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(n);if(null!=o){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(n,o),this._chunks[o]=new L6e[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},e.prototype.collectOrdinalMeta=function(n,t){var i=this._chunks[n],r=this._dimensions[n],o=this._rawExtent,l=r.ordinalOffset||0,h=i.length;0===l&&(o[n]=[1/0,-1/0]);for(var f=o[n],m=l;m<h;m++){var _=i[m]=t.parseAndCollect(i[m]);f[0]=Math.min(_,f[0]),f[1]=Math.max(_,f[1])}r.ordinalMeta=t,r.ordinalOffset=h,r.type="ordinal"},e.prototype.getOrdinalMeta=function(n){return this._dimensions[n].ordinalMeta},e.prototype.getDimensionProperty=function(n){var t=this._dimensions[n];return t&&t.property},e.prototype.appendData=function(n){var t=this._provider,i=this.count();t.appendData(n);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},e.prototype.appendValues=function(n,t){for(var i=this._chunks,r=this._dimensions,o=r.length,l=this._rawExtent,h=this.count(),f=h+Math.max(n.length,t||0),m=0;m<o;m++)R6e(i,m,r[m].type,f,!0);for(var b=[],S=h;S<f;S++)for(var M=S-h,O=0;O<o;O++){var I=Xae.arrayRows.call(this,n[M]||b,r[O].property,M,O);i[O][S]=I;var N=l[O];I<N[0]&&(N[0]=I),I>N[1]&&(N[1]=I)}return this._rawCount=this._count=f,{start:h,end:f}},e.prototype._initDataFromProvider=function(n,t,i){for(var r=this._provider,o=this._chunks,l=this._dimensions,h=l.length,f=this._rawExtent,m=Gi(l,function(G){return G.property}),_=0;_<h;_++){var b=l[_];f[_]||(f[_]=[1/0,-1/0]),R6e(o,_,b.type,t,i)}if(r.fillStorage)r.fillStorage(n,t,o,f);else for(var S=[],M=n;M<t;M++){S=r.getItem(M,S);for(var O=0;O<h;O++){var I=o[O],N=this._dimValueGetter(S,m[O],M,O);I[M]=N;var V=f[O];N<V[0]&&(V[0]=N),N>V[1]&&(V[1]=N)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(n,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[n];return i?i[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(n,t){var i=[],r=[];if(null==t){t=n,n=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=n;o=0;for(var l=r.length;o<l;o++)i.push(this.get(r[o],t));return i},e.prototype.getByRawIndex=function(n,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[n];return i?i[t]:NaN},e.prototype.getSum=function(n){var i=0;if(this._chunks[n])for(var r=0,o=this.count();r<o;r++){var l=this.get(n,r);isNaN(l)||(i+=l)}return i},e.prototype.getMedian=function(n){var t=[];this.each([n],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,l){return o-l}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},e.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var t=this._indices,i=t[n];if(null!=i&&i<this._count&&i===n)return n;for(var r=0,o=this._count-1;r<=o;){var l=(r+o)/2|0;if(t[l]<n)r=l+1;else{if(!(t[l]>n))return l;o=l-1}}return-1},e.prototype.indicesOfNearest=function(n,t,i){var o=this._chunks[n],l=[];if(!o)return l;null==i&&(i=1/0);for(var h=1/0,f=-1,m=0,_=0,b=this.count();_<b;_++){var M=t-o[this.getRawIndex(_)],O=Math.abs(M);O<=i&&((O<h||O===h&&M>=0&&f<0)&&(h=O,f=M,m=0),M===f&&(l[m++]=_))}return l.length=m,l},e.prototype.getIndices=function(){var n,t=this._indices;if(t){var r=this._count;if((i=t.constructor)===Array){n=new i(r);for(var o=0;o<r;o++)n[o]=t[o]}else n=new i(t.buffer,0,r)}else{var i;for(n=new(i=eE(this._rawCount))(this.count()),o=0;o<n.length;o++)n[o]=o}return n},e.prototype.filter=function(n,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),l=new(eE(i._rawCount))(r),h=[],f=n.length,m=0,_=n[0],b=i._chunks,S=0;S<r;S++){var M=void 0,O=i.getRawIndex(S);if(0===f)M=t(S);else if(1===f)M=t(b[_][O],S);else{for(var N=0;N<f;N++)h[N]=b[n[N]][O];h[N]=S,M=t.apply(null,h)}M&&(l[m++]=O)}return m<r&&(i._indices=l),i._count=m,i._extent=[],i._updateGetRawIdx(),i},e.prototype.selectRange=function(n){var t=this.clone(),i=t._count;if(!i)return this;var r=ja(n),o=r.length;if(!o)return this;var l=t.count(),f=new(eE(t._rawCount))(l),m=0,_=r[0],b=n[_][0],S=n[_][1],M=t._chunks,O=!1;if(!t._indices){var I=0;if(1===o){for(var N=M[r[0]],V=0;V<i;V++)((G=N[V])>=b&&G<=S||isNaN(G))&&(f[m++]=I),I++;O=!0}else if(2===o){N=M[r[0]];var X=M[r[1]],K=n[r[1]][0],ne=n[r[1]][1];for(V=0;V<i;V++){var ie=X[V];((G=N[V])>=b&&G<=S||isNaN(G))&&(ie>=K&&ie<=ne||isNaN(ie))&&(f[m++]=I),I++}O=!0}}if(!O)if(1===o)for(V=0;V<l;V++){var pe=t.getRawIndex(V);((G=M[r[0]][pe])>=b&&G<=S||isNaN(G))&&(f[m++]=pe)}else for(V=0;V<l;V++){for(var ve=!0,ye=(pe=t.getRawIndex(V),0);ye<o;ye++){var G,Se=r[ye];((G=M[Se][pe])<n[Se][0]||G>n[Se][1])&&(ve=!1)}ve&&(f[m++]=t.getRawIndex(V))}return m<l&&(t._indices=f),t._count=m,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(n,t){var i=this.clone(n);return this._updateDims(i,n,t),i},e.prototype.modify=function(n,t){this._updateDims(this,n,t)},e.prototype._updateDims=function(n,t,i){for(var r=n._chunks,o=[],l=t.length,h=n.count(),f=[],m=n._rawExtent,_=0;_<t.length;_++)m[t[_]]=[1/0,-1/0];for(var b=0;b<h;b++){for(var S=n.getRawIndex(b),M=0;M<l;M++)f[M]=r[t[M]][S];f[l]=b;var O=i&&i.apply(null,f);if(null!=O)for("object"!=typeof O&&(o[0]=O,O=o),_=0;_<O.length;_++){var I=t[_],N=O[_],V=m[I],G=r[I];G&&(G[S]=N),N<V[0]&&(V[0]=N),N>V[1]&&(V[1]=N)}}},e.prototype.lttbDownSample=function(n,t){var _,b,S,i=this.clone([n],!0),o=i._chunks[n],l=this.count(),h=0,f=Math.floor(1/t),m=this.getRawIndex(0),M=new(eE(this._rawCount))(Math.ceil(l/f)+2);M[h++]=m;for(var O=1;O<l-1;O+=f){for(var I=Math.min(O+f,l-1),N=Math.min(O+2*f,l),V=(N+I)/2,G=0,X=I;X<N;X++){var ne=o[K=this.getRawIndex(X)];isNaN(ne)||(G+=ne)}G/=N-I;var ie=O,pe=Math.min(O+f,l),ve=O-1,ye=o[m];for(_=-1,S=ie,X=ie;X<pe;X++){var K;ne=o[K=this.getRawIndex(X)],isNaN(ne)||(b=Math.abs((ve-V)*(ne-ye)-(ve-X)*(G-ye)))>_&&(_=b,S=K)}M[h++]=S,m=S}return M[h++]=this.getRawIndex(l-1),i._count=h,i._indices=M,i.getRawIndex=this._getRawIdx,i},e.prototype.downSample=function(n,t,i,r){for(var o=this.clone([n],!0),l=o._chunks,h=[],f=Math.floor(1/t),m=l[n],_=this.count(),b=o._rawExtent[n]=[1/0,-1/0],S=new(eE(this._rawCount))(Math.ceil(_/f)),M=0,O=0;O<_;O+=f){f>_-O&&(h.length=f=_-O);for(var I=0;I<f;I++){var N=this.getRawIndex(O+I);h[I]=m[N]}var V=i(h),G=this.getRawIndex(Math.min(O+r(h,V)||0,_-1));m[G]=V,V<b[0]&&(b[0]=V),V>b[1]&&(b[1]=V),S[M++]=G}return o._count=M,o._indices=S,o._updateGetRawIdx(),o},e.prototype.each=function(n,t){if(this._count)for(var i=n.length,r=this._chunks,o=0,l=this.count();o<l;o++){var h=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[n[0]][h],o);break;case 2:t(r[n[0]][h],r[n[1]][h],o);break;default:for(var f=0,m=[];f<i;f++)m[f]=r[n[f]][h];m[f]=o,t.apply(null,m)}}},e.prototype.getDataExtent=function(n){var t=this._chunks[n],i=[1/0,-1/0];if(!t)return i;var l,r=this.count();if(!this._indices)return this._rawExtent[n].slice();if(l=this._extent[n])return l.slice();for(var h=(l=i)[0],f=l[1],m=0;m<r;m++){var b=t[this.getRawIndex(m)];b<h&&(h=b),b>f&&(f=b)}return this._extent[n]=l=[h,f],l},e.prototype.getRawDataItem=function(n){var t=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},e.prototype.clone=function(n,t){var i=new e,r=this._chunks,o=n&&xS(n,function(h,f){return h[f]=!0,h},{});if(o)for(var l=0;l<r.length;l++)i._chunks[l]=o[l]?Agt(r[l]):r[l];else i._chunks=r;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},e.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=ho(this._extent),n._rawExtent=ho(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,t=void 0;if(n===Array){var i=this._indices.length;t=new n(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new n(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(n){return n},e.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function n(t,i,r,o){return qW(t[o],this._dimensions[o])}Xae={arrayRows:n,objectRows:function(t,i,r,o){return qW(t[i],this._dimensions[o])},keyedColumns:n,original:function(t,i,r,o){var l=t&&(null==t.value?t:t.value);return qW(l instanceof Array?l[o]:l,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),e}();const qae=zgt;var N6e=function(){function e(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(n,t){this._sourceList=n,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var r,o,n=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length;if(KW(n)){var l=n,h=void 0,f=void 0,m=void 0;if(i){var _=t[0];_.prepareSource(),h=(m=_.getSource()).data,f=m.sourceFormat,o=[_._getVersionSign()]}else f=Ad(h=l.get("data",!0))?t2:lp,o=[];var b=this._getSourceMetaRawOption()||{},S=m&&m.metaRawOption||{},M=Ro(b.seriesLayoutBy,S.seriesLayoutBy)||null,O=Ro(b.sourceHeader,S.sourceHeader)||null,I=Ro(b.dimensions,S.dimensions);r=M!==S.seriesLayoutBy||!!O!=!!S.sourceHeader||I?[Hae(h,{seriesLayoutBy:M,sourceHeader:O,dimensions:I},f)]:[]}else{var V=n;if(i){var G=this._applyTransform(t);r=G.sourceList,o=G.upstreamSignList}else r=[Hae(V.get("source",!0),this._getSourceMetaRawOption(),null)],o=[]}this._setLocalSource(r,o)},e.prototype._applyTransform=function(n){var t=this._sourceHost,i=t.get("transform",!0),r=t.get("fromTransformResult",!0);null!=r&&1!==n.length&&B6e("");var l,h=[],f=[];return Ke(n,function(m){m.prepareSource();var _=m.getSource(r||0);null!=r&&!_&&B6e(""),h.push(_),f.push(m._getVersionSign())}),i?l=function Tgt(e,n,t){var i=nu(e),r=i.length;r||Wh("");for(var l=0,h=r;l<h;l++)n=Mgt(i[l],n),l!==h-1&&(n.length=Math.max(n.length,1));return n}(i,h):null!=r&&(l=[ogt(h[0])]),{sourceList:l,upstreamSignList:f}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),t=0;t<n.length;t++){var i=n[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},e.prototype.getSource=function(n){var t=this._sourceList[n=n||0];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(n)}return t},e.prototype.getSharedDataStore=function(n){var t=n.makeStoreSchema();return this._innerGetDataStore(t.dimensions,n.source,t.hash)},e.prototype._innerGetDataStore=function(n,t,i){var o=this._storeList,l=o[0];l||(l=o[0]={});var h=l[i];if(!h){var f=this._getUpstreamSourceManagers()[0];KW(this._sourceHost)&&f?h=f._innerGetDataStore(n,t,i):(h=new qae).initData(new S6e(t,n.length),n),l[i]=h}return h},e.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(KW(n)){var t=Iae(n);return t?[t.getSourceManager()]:[]}return Gi(function kpt(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?hW(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},rx).models:[]}(n),function(i){return i.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t,i,r,n=this._sourceHost;if(KW(n))t=n.get("seriesLayoutBy",!0),i=n.get("sourceHeader",!0),r=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=n;t=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:r}},e}();function F6e(e){e.option.transform&&$G(e.option.transform)}function KW(e){return"series"===e.mainType}function B6e(e){throw new Error(e)}function Zae(e,n){return n.type=e,n}function Fgt(e){var _,b,S,M,n=e.series,t=e.dataIndex,i=e.multipleSeries,r=n.getData(),o=r.mapDimensionsAll("defaultedTooltip"),l=o.length,h=n.getRawValue(t),f=si(h),m=function Ngt(e,n){return function wpt(e,n){return n=n||"transparent",js(e)?e:Xi(e)&&e.colorStops&&(e.colorStops[0]||{}).color||n}(e.getData().getItemVisual(n,"style")[e.visualDrawType])}(n,t);if(l>1||f&&!l){var O=function Bgt(e,n,t,i,r){var o=n.getData(),l=xS(e,function(b,S,M){var O=o.getDimensionInfo(M);return b||O&&!1!==O.tooltip&&null!=O.displayName},!1),h=[],f=[],m=[];function _(b,S){var M=o.getDimensionInfo(S);!M||!1===M.otherDims.tooltip||(l?m.push(Zae("nameValue",{markerType:"subItem",markerColor:r,name:M.displayName,value:b,valueType:M.type})):(h.push(b),f.push(M.type)))}return i.length?Ke(i,function(b){_(XW(o,t,b),b)}):Ke(e,_),{inlineValues:h,inlineValueTypes:f,blocks:m}}(h,n,t,o,m);_=O.inlineValues,b=O.inlineValueTypes,S=O.blocks,M=O.inlineValues[0]}else if(l){var I=r.getDimensionInfo(o[0]);M=_=XW(r,t,o[0]),b=I.type}else M=_=f?h[0]:h;var N=mye(n),V=N&&n.name||"",G=r.getName(t),X=i?V:G;return Zae("section",{header:V,noHeader:i||!N,sortParam:M,blocks:[Zae("nameValue",{markerType:"item",markerColor:m,name:X,noName:!bS(X),value:_,valueType:b})].concat(S||[])})}!function(){function e(){this.richTextStyles={},this._nextStyleNameId=lye()}e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(n,t,i){var r="richText"===i?this._generateStyleName():null,o=W8e({color:t,type:n,renderMode:i,markerId:r});return js(o)?o:(this.richTextStyles[r]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(n,t){var i={};si(t)?Ke(t,function(o){return Tn(i,o)}):Tn(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+n+"}"}}();var e3=Ql();function QW(e,n){return e.getName(n)||e.getId(n)}var JW=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return Bh(n,e),n.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=JO({count:Ygt,reset:Ugt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(e3(this).sourceManager=new N6e(this)).prepareSource();var l=this.getInitialData(t,r);j6e(l,this),this.dataTask.context.data=l,e3(this).dataBeforeProcessed=l,W6e(this),this._initSelectedMapFromData(l)},n.prototype.mergeDefaultAndTheme=function(t,i){var r=UW(this),o=r?$8e(t):{},l=this.subType;ba.hasClass(l)&&(l+="Series"),ti(t,i.getTheme().get(this.subType)),ti(t,this.getDefaultOption()),fye(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&GW(t,o,r)},n.prototype.mergeOption=function(t,i){t=ti(this.option,t,!0),this.fillDataTextStyle(t.data);var r=UW(this);r&&GW(this.option,t,r);var o=e3(this).sourceManager;o.dirty(),o.prepareSource();var l=this.getInitialData(t,i);j6e(l,this),this.dataTask.dirty(),this.dataTask.context.data=l,e3(this).dataBeforeProcessed=l,W6e(this),this._initSelectedMapFromData(l)},n.prototype.fillDataTextStyle=function(t){if(t&&!Ad(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&fye(t[r],"label",i)},n.prototype.getInitialData=function(t,i){},n.prototype.appendData=function(t){this.getRawData().appendData(t.data)},n.prototype.getData=function(t){var i=Jae(this);if(i){var r=i.context.data;return null==t?r:r.getLinkedData(t)}return e3(this).data},n.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},n.prototype.setData=function(t){var i=Jae(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}e3(this).data=t},n.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Ji(t)},n.prototype.getSourceManager=function(){return e3(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return e3(this).dataBeforeProcessed},n.prototype.getColorBy=function(){return this.get("colorBy")||"series"},n.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},n.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},n.prototype.formatTooltip=function(t,i,r){return Fgt({series:this,dataIndex:t,multipleSeries:i})},n.prototype.isAnimationEnabled=function(){if(jo.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,l=Rae.prototype.getColorFromPalette.call(this,t,i,r);return l||(l=o.getColorFromPalette(t,i,r)),l},n.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},n.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r)for(var o=this.getData(i),l=0;l<t.length;l++){var f=QW(o,t[l]);r[f]=!1,this._selectedDataIndicesMap[f]=-1}},n.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},n.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,i=ja(t),r=[],o=0;o<i.length;o++){var l=t[i[o]];l>=0&&r.push(l)}return r},n.prototype.isSelected=function(t,i){var r=this.option.selectedMap;return r&&r[QW(this.getData(i),t)]||!1},n.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},n.prototype._innerSelect=function(t,i){var r,o,l=this.option.selectedMode,h=i.length;if(l&&h)if("multiple"===l)for(var f=this.option.selectedMap||(this.option.selectedMap={}),m=0;m<h;m++){var _=i[m];f[b=QW(t,_)]=!0,this._selectedDataIndicesMap[b]=t.getRawIndex(_)}else if("single"===l||!0===l){var S=i[h-1],b=QW(t,S);this.option.selectedMap=((r={})[b]=!0,r),this._selectedDataIndicesMap=((o={})[b]=t.getRawIndex(S),o)}},n.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},n.registerClass=function(t){return ba.registerClass(t)},n.protoInitialize=((t=n.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),n;var t}(ba);function W6e(e){var n=e.name;mye(e)||(e.name=function Hgt(e){var n=e.getRawData(),t=n.mapDimensionsAll("seriesName"),i=[];return Ke(t,function(r){var o=n.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}(e)||n)}function Ygt(e){return e.model.getRawData().count()}function Ugt(e){var n=e.model;return n.setData(n.getRawData().cloneShallow()),Ggt}function Ggt(e,n){n.outputData&&e.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function j6e(e,n){Ke(ooe(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(t){e.wrapMethod(t,W4(Wgt,n))})}function Wgt(e,n){var t=Jae(e);return t&&t.setOutputEnd((n||this).count()),n}function Jae(e){var n=(e.ecModel||{}).scheduler,t=n&&n.getPipeline(e.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(e.uid))}return i}}ip(JW,dgt),ip(JW,Rae),xye(JW,ba);const $u=JW;var ese=function(){function e(){this.group=new Dm,this.uid=OW("viewComponent")}return e.prototype.init=function(n,t){},e.prototype.render=function(n,t,i,r){},e.prototype.dispose=function(n,t){},e.prototype.updateView=function(n,t,i,r){},e.prototype.updateLayout=function(n,t,i,r){},e.prototype.updateVisual=function(n,t,i,r){},e.prototype.blurSeries=function(n,t){},e}();Koe(ese),dW(ese);const r2=ese;function $6e(){var e=Ql();return function(n){var t=e(n),i=n.pipelineContext,r=!!t.large,o=!!t.progressiveRender,l=t.large=!(!i||!i.large),h=t.progressiveRender=!(!i||!i.progressiveRender);return(r!==l||o!==h)&&"reset"}}var X6e=Ql(),jgt=$6e(),tse=function(){function e(){this.group=new Dm,this.uid=OW("viewChart"),this.renderTask=JO({plan:$gt,reset:Xgt}),this.renderTask.context={view:this}}return e.prototype.init=function(n,t){},e.prototype.render=function(n,t,i,r){},e.prototype.highlight=function(n,t,i,r){Z6e(n.getData(),r,"emphasis")},e.prototype.downplay=function(n,t,i,r){Z6e(n.getData(),r,"normal")},e.prototype.remove=function(n,t){this.group.removeAll()},e.prototype.dispose=function(n,t){},e.prototype.updateView=function(n,t,i,r){this.render(n,t,i,r)},e.prototype.updateLayout=function(n,t,i,r){this.render(n,t,i,r)},e.prototype.updateVisual=function(n,t,i,r){this.render(n,t,i,r)},e.markUpdateMethod=function(n,t){X6e(n).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function q6e(e,n,t){e&&("emphasis"===n?uae:hae)(e,t)}function Z6e(e,n,t){var i=uW(e,n),r=n&&null!=n.highlightKey?function Cft(e){var n=Bye[e];return null==n&&Fye<=32&&(n=Bye[e]=Fye++),n}(n.highlightKey):null;null!=i?Ke(nu(i),function(o){q6e(e.getItemGraphicEl(o),t,r)}):e.eachItemGraphicEl(function(o){q6e(o,t,r)})}function $gt(e){return jgt(e.model)}function Xgt(e){var n=e.model,t=e.ecModel,i=e.api,r=e.payload,o=n.pipelineContext.progressiveRender,l=e.view,h=r&&X6e(r).updateMethod,f=o?"incrementalPrepareRender":h&&l[h]?h:"render";return"render"!==f&&l[f](n,t,i,r),qgt[f]}Koe(tse),dW(tse);var qgt={incrementalPrepareRender:{progress:function(e,n){n.view.incrementalRender(e,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(e,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ou=tse;var exe=Ql(),txe={itemStyle:LO(A8e,!0),lineStyle:LO(P8e,!0)},Zgt={lineStyle:"stroke",itemStyle:"fill"};function nxe(e,n){return e.visualStyleMapper||txe[n]||(console.warn("Unkown style type '"+n+"'."),txe.itemStyle)}function ixe(e,n){return e.visualDrawType||Zgt[n]||(console.warn("Unkown style type '"+n+"'."),"fill")}var Kgt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){var t=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=e.getModel(i),l=nxe(e,i)(r),h=r.getShallow("decal");h&&(t.setVisual("decal",h),h.dirty=!0);var f=ixe(e,i),m=l[f],_=zc(m)?m:null;if(!l[f]||_||"auto"===l.fill||"auto"===l.stroke){var S=e.getColorFromPalette(e.name,null,n.getSeriesCount());l[f]||(l[f]=S,t.setVisual("colorFromPalette",!0)),l.fill="auto"===l.fill||"function"==typeof l.fill?S:l.fill,l.stroke="auto"===l.stroke||"function"==typeof l.stroke?S:l.stroke}if(t.setVisual("style",l),t.setVisual("drawType",f),!n.isSeriesFiltered(e)&&_)return t.setVisual("colorFromPalette",!1),{dataEach:function(M,O){var I=e.getDataParams(O),N=Tn({},l);N[f]=_(I),M.setItemVisual(O,"style",N)}}}},tE=new ju,Qgt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){if(!e.ignoreStyleOnData&&!n.isSeriesFiltered(e)){var t=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=nxe(e,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(l,h){var f=l.getRawDataItem(h);if(f&&f[i]){tE.option=f[i];var m=r(tE);Tn(l.ensureUniqueItemVisual(h,"style"),m),tE.option.decal&&(l.setItemVisual(h,"decal",tE.option.decal),tE.option.decal.dirty=!0),o in m&&l.setItemVisual(h,"colorFromPalette",!1)}}:null}}}},Jgt={performRawSeries:!0,overallReset:function(e){var n=Ji();e.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=n.get(r);o||n.set(r,o={}),exe(t).scope=o}}),e.eachSeries(function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var i=t.getRawData(),r={},o=t.getData(),l=exe(t).scope,f=ixe(t,t.visualStyleAccessPath||"itemStyle");o.each(function(m){var _=o.getRawIndex(m);r[_]=m}),i.each(function(m){var _=r[m];if(o.getItemVisual(_,"colorFromPalette")){var S=o.ensureUniqueItemVisual(_,"style"),M=i.getName(m)||m+"",O=i.count();S[f]=t.getColorFromPalette(M,l,O)}})}})}},e1t=function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},rxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new e1t},n.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,l=Math.max(i.r,0),h=i.startAngle,f=i.endAngle,m=i.clockwise,_=Math.cos(h),b=Math.sin(h);t.moveTo(_*l+r,b*l+o),t.arc(r,o,l,h,f,!m)},n}(us);rxe.prototype.type="arc";const oxe=rxe;var tj=Math.PI,n1t=function(){function e(n,t,i,r){this._stageTaskMap=Ji(),this.ecInstance=n,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return e.prototype.restoreData=function(n,t){n.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},e.prototype.getPerformArgs=function(n,t){if(n.__pipeline){var i=this._pipelineMap.get(n.__pipeline.id),r=i.context,l=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&n.__idxInPipeline>i.blockIndex?i.step:null,h=r&&r.modDataCount;return{step:l,modBy:null!=h?Math.ceil(h/l):null,modDataCount:h}}},e.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},e.prototype.updateStreamModes=function(n,t){var i=this._pipelineMap.get(n.uid),o=n.getData().count(),l=i.progressiveEnabled&&t.incrementalPrepareRender&&o>=i.threshold,h=n.get("large")&&o>=n.get("largeThreshold"),f="mod"===n.get("progressiveChunkMode")?o:null;n.pipelineContext=i.context={progressiveRender:l,modDataCount:f,large:h}},e.prototype.restorePipelines=function(n){var t=this,i=t._pipelineMap=Ji();n.eachSeries(function(r){var o=r.getProgressive(),l=r.uid;i.set(l,{id:l,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},e.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,t=this.api.getModel(),i=this.api;Ke(this._allHandlers,function(r){var o=n.get(r.uid)||n.set(r.uid,{});Bg(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},e.prototype.prepareView=function(n,t,i,r){var o=n.renderTask,l=o.context;l.model=t,l.ecModel=i,l.api=r,o.__block=!n.incrementalPrepareRender,this._pipe(t,o)},e.prototype.performDataProcessorTasks=function(n,t){this._performStageTasks(this._dataProcessorHandlers,n,t,{block:!0})},e.prototype.performVisualTasks=function(n,t,i){this._performStageTasks(this._visualHandlers,n,t,i)},e.prototype._performStageTasks=function(n,t,i,r){r=r||{};var o=!1,l=this;function h(f,m){return f.setDirty&&(!f.dirtyMap||f.dirtyMap.get(m.__pipeline.id))}Ke(n,function(f,m){if(!r.visualType||r.visualType===f.visualType){var _=l._stageTaskMap.get(f.uid),b=_.seriesTaskMap,S=_.overallTask;if(S){var M,O=S.agentStubMap;O.each(function(N){h(r,N)&&(N.dirty(),M=!0)}),M&&S.dirty(),l.updatePayload(S,i);var I=l.getPerformArgs(S,r.block);O.each(function(N){N.perform(I)}),S.perform(I)&&(o=!0)}else b&&b.each(function(N,V){h(r,N)&&N.dirty();var G=l.getPerformArgs(N,r.block);G.skip=!f.performRawSeries&&t.isSeriesFiltered(N.context.model),l.updatePayload(N,i),N.perform(G)&&(o=!0)})}}),this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(n){var t;n.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(n){var t=n.tail;do{if(t.__block){n.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(n,t){"remain"!==t&&(n.context.payload=t)},e.prototype._createSeriesStageTask=function(n,t,i,r){var o=this,l=t.seriesTaskMap,h=t.seriesTaskMap=Ji(),f=n.seriesType,m=n.getTargetSeries;function _(b){var S=b.uid,M=h.set(S,l&&l.get(S)||JO({plan:s1t,reset:l1t,count:u1t}));M.context={model:b,ecModel:i,api:r,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:o},o._pipe(b,M)}n.createOnAllSeries?i.eachRawSeries(_):f?i.eachRawSeriesByType(f,_):m&&m(i,r).each(_)},e.prototype._createOverallStageTask=function(n,t,i,r){var o=this,l=t.overallTask=t.overallTask||JO({reset:i1t});l.context={ecModel:i,api:r,overallReset:n.overallReset,scheduler:o};var h=l.agentStubMap,f=l.agentStubMap=Ji(),m=n.seriesType,_=n.getTargetSeries,b=!0,S=!1;function O(I){var N=I.uid,V=f.set(N,h&&h.get(N)||(S=!0,JO({reset:r1t,onDirty:a1t})));V.context={model:I,overallProgress:b},V.agent=l,V.__block=b,o._pipe(I,V)}Bg(!n.createOnAllSeries,""),m?i.eachRawSeriesByType(m,O):_?_(i,r).each(O):(b=!1,Ke(i.getSeries(),O)),S&&l.dirty()},e.prototype._pipe=function(n,t){var r=this._pipelineMap.get(n.uid);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(n,t){return zc(n)&&(n={overallReset:n,seriesType:h1t(n)}),n.uid=OW("stageHandler"),t&&(n.visualType=t),n},e}();function i1t(e){e.overallReset(e.ecModel,e.api,e.payload)}function r1t(e){return e.overallProgress&&o1t}function o1t(){this.agent.dirty(),this.getDownstream().dirty()}function a1t(){this.agent&&this.agent.dirty()}function s1t(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function l1t(e){e.useClearVisual&&e.data.clearAllVisual();var n=e.resetDefines=nu(e.reset(e.model,e.ecModel,e.api,e.payload));return n.length>1?Gi(n,function(t,i){return axe(i)}):c1t}var c1t=axe(0);function axe(e){return function(n,t){var i=t.data,r=t.resetDefines[e];if(r&&r.dataEach)for(var o=n.start;o<n.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(n,i)}}function u1t(e){return e.data.count()}function h1t(e){nj=null;try{e(nE,sxe)}catch{}return nj}var nj,nE={},sxe={};function lxe(e,n){for(var t in n.prototype)e[t]=qv}lxe(nE,c6e),lxe(sxe,u6e),nE.eachSeriesByType=nE.eachRawSeriesByType=function(e){nj=e},nE.eachComponent=function(e){"series"===e.mainType&&e.subType&&(nj=e.subType)};const cxe=n1t;var uxe=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const d1t={color:uxe,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],uxe]};var Xu="#B9B8CE",ij=function(){return{axisLine:{lineStyle:{color:Xu}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},dxe=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],fxe={darkMode:!0,color:dxe,backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Xu}},textStyle:{color:Xu},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Xu}},dataZoom:{borderColor:"#71708A",textStyle:{color:Xu},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Xu}},timeline:{lineStyle:{color:Xu},label:{color:Xu},controlStyle:{color:Xu,borderColor:Xu}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:Xu},monthLabel:{color:Xu},yearLabel:{color:Xu}},timeAxis:ij(),logAxis:ij(),valueAxis:ij(),categoryAxis:ij(),line:{symbol:"circle"},graph:{color:dxe},gauge:{title:{color:Xu},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Xu},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fxe.categoryAxis.splitLine.show=!1;const f1t=fxe;var p1t=function(){function e(){}return e.prototype.normalizeQuery=function(n){var t={},i={},r={};if(js(n)){var o=Pm(n);t.mainType=o.main||null,t.subType=o.sub||null}else{var l=["Index","Name","Id"],h={name:1,dataIndex:1,dataType:1};Ke(n,function(f,m){for(var _=!1,b=0;b<l.length;b++){var S=l[b],M=m.lastIndexOf(S);if(M>0&&M===m.length-S.length){var O=m.slice(0,M);"data"!==O&&(t.mainType=O,t[S.toLowerCase()]=f,_=!0)}}h.hasOwnProperty(m)&&(i[m]=f,_=!0),_||(r[m]=f)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},e.prototype.filter=function(n,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,l=i.model,h=i.view;if(!l||!h)return!0;var f=t.cptQuery,m=t.dataQuery;return _(f,l,"mainType")&&_(f,l,"subType")&&_(f,l,"index","componentIndex")&&_(f,l,"name")&&_(f,l,"id")&&_(m,o,"name")&&_(m,o,"dataIndex")&&_(m,o,"dataType")&&(!h.filterForExposedEvent||h.filterForExposedEvent(n,t.otherQuery,r,o));function _(b,S,M,O){return null==b[M]||S[O||M]===b[M]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),g1t={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){var t=e.getData();if(e.legendIcon&&t.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){var i=e.get("symbol"),r=e.get("symbolSize"),o=e.get("symbolKeepAspect"),l=e.get("symbolRotate"),h=e.get("symbolOffset"),f=zc(i),m=zc(r),_=zc(l),b=zc(h),S=f||m||_||b,M=!f&&i?i:e.defaultSymbol;if(t.setVisual({legendIcon:e.legendIcon||M,symbol:M,symbolSize:m?null:r,symbolKeepAspect:o,symbolRotate:_?null:l,symbolOffset:b?null:h}),!n.isSeriesFiltered(e))return{dataEach:S?function V(G,X){var K=e.getRawValue(X),ne=e.getDataParams(X);f&&G.setItemVisual(X,"symbol",i(K,ne)),m&&G.setItemVisual(X,"symbolSize",r(K,ne)),_&&G.setItemVisual(X,"symbolRotate",l(K,ne)),b&&G.setItemVisual(X,"symbolOffset",h(K,ne))}:null}}}};function jS(e,n,t,i,r){var o=e+n;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(l){for(var h=l.seriesIndex,f=r.selected,m=0;m<f.length;m++)if(f[m].seriesIndex===h){var _=l.getData(),b=uW(_,r.fromActionPayload);t.trigger(o,{type:o,seriesId:l.id,name:si(b)?_.getName(b[0]):_.getName(b),selected:Tn({},l.option.selectedMap)})}})}function rj(e,n,t){for(var i;e&&(!n(e)||(i=e,!t));)e=e.__hostTarget||e.parent;return i}var x1t=Math.round(9*Math.random()),b1t="function"==typeof Object.defineProperty,C1t=function(){function e(){this._id="__ec_inner_"+x1t++}return e.prototype.get=function(n){return this._guard(n)[this._id]},e.prototype.set=function(n,t){var i=this._guard(n);return b1t?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},e.prototype.delete=function(n){return!!this.has(n)&&(delete this._guard(n)[this._id],!0)},e.prototype.has=function(n){return!!this._guard(n)[this._id]},e.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},e}();const w1t=C1t;var S1t={},T1t=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},pxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new T1t},n.prototype.buildPath=function(t,i){var r,o,l,h;if(this.subPixelOptimize){var f=function jft(e,n,t){if(n){var i=n.x1,r=n.x2,o=n.y1,l=n.y2;e.x1=i,e.x2=r,e.y1=o,e.y2=l;var h=t&&t.lineWidth;return h&&(BS(2*i)===BS(2*r)&&(e.x1=e.x2=_x(i,h,!0)),BS(2*o)===BS(2*l)&&(e.y1=e.y2=_x(o,h,!0))),e}}(S1t,i,this.style);r=f.x1,o=f.y1,l=f.x2,h=f.y2}else r=i.x1,o=i.y1,l=i.x2,h=i.y2;var m=i.percent;0!==m&&(t.moveTo(r,o),m<1&&(l=r*(1-m)+l*m,h=o*(1-m)+h*m),t.lineTo(l,h))},n.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},n}(us);pxe.prototype.type="line";const nse=pxe;var M1t=function e(){this.cx=0,this.cy=0,this.r=0},gxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultShape=function(){return new M1t},n.prototype.buildPath=function(t,i,r){r&&t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},n}(us);gxe.prototype.type="circle";const ise=gxe;var $S=dx.CMD,D1t=[[],[],[]],mxe=Math.sqrt,P1t=Math.atan2,rse=Math.sqrt,oj=Math.sin,aj=Math.cos,iE=Math.PI;function vxe(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ose(e,n){return(e[0]*n[0]+e[1]*n[1])/(vxe(e)*vxe(n))}function _xe(e,n){return(e[0]*n[1]<e[1]*n[0]?-1:1)*Math.acos(ose(e,n))}function yxe(e,n,t,i,r,o,l,h,f,m,_){var b=f*(iE/180),S=aj(b)*(e-t)/2+oj(b)*(n-i)/2,M=-1*oj(b)*(e-t)/2+aj(b)*(n-i)/2,O=S*S/(l*l)+M*M/(h*h);O>1&&(l*=rse(O),h*=rse(O));var I=(r===o?-1:1)*rse((l*l*(h*h)-l*l*(M*M)-h*h*(S*S))/(l*l*(M*M)+h*h*(S*S)))||0,N=I*l*M/h,V=I*-h*S/l,G=(e+t)/2+aj(b)*N-oj(b)*V,X=(n+i)/2+oj(b)*N+aj(b)*V,K=_xe([1,0],[(S-N)/l,(M-V)/h]),ne=[(S-N)/l,(M-V)/h],ie=[(-1*S-N)/l,(-1*M-V)/h],pe=_xe(ne,ie);if(ose(ne,ie)<=-1&&(pe=iE),ose(ne,ie)>=1&&(pe=0),pe<0){var ve=Math.round(pe/iE*1e6)/1e6;pe=2*iE+ve%2*iE}_.addData(m,G,X,l,h,K,pe,b,o)}var z1t=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,k1t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,xxe=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return $o(n,e),n.prototype.applyTransform=function(t){},n}(us);function wxe(e,n){return new xxe(function Cxe(e,n){var t=function O1t(e){var n=new dx;if(!e)return n;var l,t=0,i=0,r=t,o=i,h=dx.CMD,f=e.match(z1t);if(!f)return n;for(var m=0;m<f.length;m++){for(var _=f[m],b=_.charAt(0),S=void 0,M=_.match(k1t)||[],O=M.length,I=0;I<O;I++)M[I]=parseFloat(M[I]);for(var N=0;N<O;){var V=void 0,G=void 0,X=void 0,K=void 0,ne=void 0,ie=void 0,pe=void 0,ve=t,ye=i,Se=void 0,xe=void 0;switch(b){case"l":t+=M[N++],i+=M[N++],n.addData(S=h.L,t,i);break;case"L":t=M[N++],i=M[N++],n.addData(S=h.L,t,i);break;case"m":t+=M[N++],i+=M[N++],n.addData(S=h.M,t,i),r=t,o=i,b="l";break;case"M":t=M[N++],i=M[N++],n.addData(S=h.M,t,i),r=t,o=i,b="L";break;case"h":t+=M[N++],n.addData(S=h.L,t,i);break;case"H":t=M[N++],n.addData(S=h.L,t,i);break;case"v":i+=M[N++],n.addData(S=h.L,t,i);break;case"V":i=M[N++],n.addData(S=h.L,t,i);break;case"C":n.addData(S=h.C,M[N++],M[N++],M[N++],M[N++],M[N++],M[N++]),t=M[N-2],i=M[N-1];break;case"c":n.addData(S=h.C,M[N++]+t,M[N++]+i,M[N++]+t,M[N++]+i,M[N++]+t,M[N++]+i),t+=M[N-2],i+=M[N-1];break;case"S":V=t,G=i,Se=n.len(),xe=n.data,l===h.C&&(V+=t-xe[Se-4],G+=i-xe[Se-3]),ve=M[N++],ye=M[N++],t=M[N++],i=M[N++],n.addData(S=h.C,V,G,ve,ye,t,i);break;case"s":V=t,G=i,Se=n.len(),xe=n.data,l===h.C&&(V+=t-xe[Se-4],G+=i-xe[Se-3]),ve=t+M[N++],ye=i+M[N++],t+=M[N++],i+=M[N++],n.addData(S=h.C,V,G,ve,ye,t,i);break;case"Q":ve=M[N++],ye=M[N++],t=M[N++],i=M[N++],n.addData(S=h.Q,ve,ye,t,i);break;case"q":ve=M[N++]+t,ye=M[N++]+i,t+=M[N++],i+=M[N++],n.addData(S=h.Q,ve,ye,t,i);break;case"T":V=t,G=i,Se=n.len(),xe=n.data,l===h.Q&&(V+=t-xe[Se-4],G+=i-xe[Se-3]),t=M[N++],i=M[N++],n.addData(S=h.Q,V,G,t,i);break;case"t":V=t,G=i,Se=n.len(),xe=n.data,l===h.Q&&(V+=t-xe[Se-4],G+=i-xe[Se-3]),t+=M[N++],i+=M[N++],n.addData(S=h.Q,V,G,t,i);break;case"A":X=M[N++],K=M[N++],ne=M[N++],ie=M[N++],pe=M[N++],yxe(ve=t,ye=i,t=M[N++],i=M[N++],ie,pe,X,K,ne,S=h.A,n);break;case"a":X=M[N++],K=M[N++],ne=M[N++],ie=M[N++],pe=M[N++],yxe(ve=t,ye=i,t+=M[N++],i+=M[N++],ie,pe,X,K,ne,S=h.A,n)}}("z"===b||"Z"===b)&&(n.addData(S=h.Z),t=r,i=o),l=S}return n.toStatic(),n}(e),i=Tn({},n);return i.buildPath=function(r){var o;!function bxe(e){return null!=e.setData}(r)?t.rebuildPath(o=r,1):(r.setData(t.data),(o=r.getContext())&&r.rebuildPath(o,1))},i.applyTransform=function(r){(function A1t(e,n){if(n){var r,o,l,h,f,m,t=e.data,i=e.len(),_=$S.M,b=$S.C,S=$S.L,M=$S.R,O=$S.A,I=$S.Q;for(l=0,h=0;l<i;){switch(r=t[l++],h=l,o=0,r){case _:case S:o=1;break;case b:o=3;break;case I:o=2;break;case O:var N=n[4],V=n[5],G=mxe(n[0]*n[0]+n[1]*n[1]),X=mxe(n[2]*n[2]+n[3]*n[3]),K=P1t(-n[1]/X,n[0]/G);t[l]*=G,t[l++]+=N,t[l]*=X,t[l++]+=V,t[l++]*=G,t[l++]*=X,t[l++]+=K,t[l++]+=K,h=l+=2;break;case M:m[0]=t[l++],m[1]=t[l++],Tm(m,m,n),t[h++]=m[0],t[h++]=m[1],m[0]+=t[l++],m[1]+=t[l++],Tm(m,m,n),t[h++]=m[0],t[h++]=m[1]}for(f=0;f<o;f++){var ne=D1t[f];ne[0]=t[l++],ne[1]=t[l++],Tm(ne,ne,n),t[h++]=ne[0],t[h++]=ne[1]}}e.increaseVersion()}})(t,r),this.dirtyShape()},i}(e,n))}var L1t=function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Sxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultShape=function(){return new L1t},n.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,l=i.cy,h=i.rx,f=i.ry,m=h*r,_=f*r;t.moveTo(o-h,l),t.bezierCurveTo(o-h,l-_,o-m,l-f,o,l-f),t.bezierCurveTo(o+m,l-f,o+h,l-_,o+h,l),t.bezierCurveTo(o+h,l+_,o+m,l+f,o,l+f),t.bezierCurveTo(o-m,l+f,o-h,l+_,o-h,l),t.closePath()},n}(us);Sxe.prototype.type="ellipse";const Txe=Sxe;var Mxe=Math.PI,R1t=2*Mxe,Mx=Math.sin,XS=Math.cos,N1t=Math.acos,au=Math.atan2,Dxe=Math.abs,rE=Math.sqrt,ase=Math.max,sj=Math.min,jg=1e-4;function lj(e,n,t,i,r,o,l){var h=e-t,f=n-i,m=(l?o:-o)/rE(h*h+f*f),_=m*f,b=-m*h,S=e+_,M=n+b,O=t+_,I=i+b,N=(S+O)/2,V=(M+I)/2,G=O-S,X=I-M,K=G*G+X*X,ne=r-o,ie=S*I-O*M,pe=(X<0?-1:1)*rE(ase(0,ne*ne*K-ie*ie)),ve=(ie*X-G*pe)/K,ye=(-ie*G-X*pe)/K,Se=(ie*X+G*pe)/K,xe=(-ie*G+X*pe)/K,De=ve-N,Pe=ye-V,Re=Se-N,ke=xe-V;return De*De+Pe*Pe>Re*Re+ke*ke&&(ve=Se,ye=xe),{cx:ve,cy:ye,x01:-_,y01:-b,x11:ve*(r/ne-1),y11:ye*(r/ne-1)}}var V1t=function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Pxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultShape=function(){return new V1t},n.prototype.buildPath=function(t,i){!function B1t(e,n){var t=ase(n.r,0),i=ase(n.r0||0,0),r=t>0;if(r||i>0){if(r||(t=i,i=0),i>t){var l=t;t=i,i=l}var _,h=!!n.clockwise,f=n.startAngle,m=n.endAngle;if(f===m)_=0;else{var b=[f,m];Iye(b,!h),_=Dxe(b[0]-b[1])}var S=n.cx,M=n.cy,O=n.cornerRadius||0,I=n.innerCornerRadius||0;if(t>jg)if(_>R1t-jg)e.moveTo(S+t*XS(f),M+t*Mx(f)),e.arc(S,M,t,f,m,!h),i>jg&&(e.moveTo(S+i*XS(m),M+i*Mx(m)),e.arc(S,M,i,m,f,h));else{var N=Dxe(t-i)/2,V=sj(N,O),G=sj(N,I),X=G,K=V,ne=t*XS(f),ie=t*Mx(f),pe=i*XS(m),ve=i*Mx(m),ye=void 0,Se=void 0,xe=void 0,De=void 0;if((V>jg||G>jg)&&(ye=t*XS(m),Se=t*Mx(m),xe=i*XS(f),De=i*Mx(f),_<Mxe)){var Pe=function F1t(e,n,t,i,r,o,l,h){var f=t-e,m=i-n,_=l-r,b=h-o,S=b*f-_*m;if(!(S*S<jg))return[e+(S=(_*(n-o)-b*(e-r))/S)*f,n+S*m]}(ne,ie,xe,De,ye,Se,pe,ve);if(Pe){var Re=ne-Pe[0],ke=ie-Pe[1],Oe=ye-Pe[0],Ye=Se-Pe[1],Ge=1/Mx(N1t((Re*Oe+ke*Ye)/(rE(Re*Re+ke*ke)*rE(Oe*Oe+Ye*Ye)))/2),ct=rE(Pe[0]*Pe[0]+Pe[1]*Pe[1]);X=sj(G,(i-ct)/(Ge-1)),K=sj(V,(t-ct)/(Ge+1))}}if(_>jg)if(K>jg){var We=lj(xe,De,ne,ie,t,K,h),Tt=lj(ye,Se,pe,ve,t,K,h);e.moveTo(S+We.cx+We.x01,M+We.cy+We.y01),K<V?e.arc(S+We.cx,M+We.cy,K,au(We.y01,We.x01),au(Tt.y01,Tt.x01),!h):(e.arc(S+We.cx,M+We.cy,K,au(We.y01,We.x01),au(We.y11,We.x11),!h),e.arc(S,M,t,au(We.cy+We.y11,We.cx+We.x11),au(Tt.cy+Tt.y11,Tt.cx+Tt.x11),!h),e.arc(S+Tt.cx,M+Tt.cy,K,au(Tt.y11,Tt.x11),au(Tt.y01,Tt.x01),!h))}else e.moveTo(S+ne,M+ie),e.arc(S,M,t,f,m,!h);else e.moveTo(S+ne,M+ie);i>jg&&_>jg?X>jg?(We=lj(pe,ve,ye,Se,i,-X,h),Tt=lj(ne,ie,xe,De,i,-X,h),e.lineTo(S+We.cx+We.x01,M+We.cy+We.y01),X<G?e.arc(S+We.cx,M+We.cy,X,au(We.y01,We.x01),au(Tt.y01,Tt.x01),!h):(e.arc(S+We.cx,M+We.cy,X,au(We.y01,We.x01),au(We.y11,We.x11),!h),e.arc(S,M,i,au(We.cy+We.y11,We.cx+We.x11),au(Tt.cy+Tt.y11,Tt.cx+Tt.x11),h),e.arc(S+Tt.cx,M+Tt.cy,X,au(Tt.y11,Tt.x11),au(Tt.y01,Tt.x01),!h))):(e.lineTo(S+pe,M+ve),e.arc(S,M,i,m,f,h)):e.lineTo(S+pe,M+ve)}else e.moveTo(S,M);e.closePath()}}(t,i)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(us);Pxe.prototype.type="sector";const H1t=Pxe;var Y1t=function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Axe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultShape=function(){return new Y1t},n.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,l=2*Math.PI;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,l,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,l,!0)},n}(us);Axe.prototype.type="ring";const U1t=Axe;function zxe(e,n,t,i,r,o,l){var h=.5*(t-e),f=.5*(i-n);return(2*(n-t)+h+f)*l+(-3*(n-t)-2*h-f)*o+h*r+n}function kxe(e,n,t){var i=n.smooth,r=n.points;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function W1t(e,n,t,i){var f,m,_,b,r=[],o=[],l=[],h=[];if(i){_=[1/0,1/0],b=[-1/0,-1/0];for(var S=0,M=e.length;S<M;S++)X6(_,_,e[S]),q6(b,b,e[S]);X6(_,_,i[0]),q6(b,b,i[1])}for(S=0,M=e.length;S<M;S++){var O=e[S];if(t)f=e[S?S-1:M-1],m=e[(S+1)%M];else{if(0===S||S===M-1){r.push(Vut(e[S]));continue}f=e[S-1],m=e[S+1]}Hut(o,m,f),soe(o,o,n);var I=qG(O,f),N=qG(O,m),V=I+N;0!==V&&(I/=V,N/=V),soe(l,o,-I),soe(h,o,N);var G=g3e([],O,l),X=g3e([],O,h);i&&(q6(G,G,_),X6(G,G,b),q6(X,X,_),X6(X,X,b)),r.push(G),r.push(X)}return t&&r.push(r.shift()),r}(r,i,t,n.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var l=r.length,h=0;h<(t?l:l-1);h++){var f=o[2*h],m=o[2*h+1],_=r[(h+1)%l];e.bezierCurveTo(f[0],f[1],m[0],m[1],_[0],_[1])}}else{"spline"===i&&(r=function G1t(e,n){for(var t=e.length,i=[],r=0,o=1;o<t;o++)r+=qG(e[o-1],e[o]);var l=r/2;for(l=l<t?t:l,o=0;o<l;o++){var h=o/(l-1)*(n?t:t-1),f=Math.floor(h),m=h-f,_=void 0,b=e[f%t],S=void 0,M=void 0;n?(_=e[(f-1+t)%t],S=e[(f+1)%t],M=e[(f+2)%t]):(_=e[0===f?f:f-1],S=e[f>t-2?t-1:f+1],M=e[f>t-3?t-1:f+2]);var O=m*m,I=m*O;i.push([zxe(_[0],b[0],S[0],M[0],m,O,I),zxe(_[1],b[1],S[1],M[1],m,O,I)])}return i}(r,t)),e.moveTo(r[0][0],r[0][1]),h=1;for(var b=r.length;h<b;h++)e.lineTo(r[h][0],r[h][1])}t&&e.closePath()}}var j1t=function e(){this.points=null,this.smooth=0,this.smoothConstraint=null},Oxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultShape=function(){return new j1t},n.prototype.buildPath=function(t,i){kxe(t,i,!0)},n}(us);Oxe.prototype.type="polygon";const Exe=Oxe;var $1t=function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Ixe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new $1t},n.prototype.buildPath=function(t,i){kxe(t,i,!1)},n}(us);Ixe.prototype.type="polyline";const sse=Ixe;var jh=[],X1t=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Lxe(e,n,t){return null===e.cpx2||null===e.cpy2?[(t?Tye:cs)(e.x1,e.cpx1,e.cpx2,e.x2,n),(t?Tye:cs)(e.y1,e.cpy1,e.cpy2,e.y2,n)]:[(t?Pye:iu)(e.x1,e.cpx1,e.x2,n),(t?Pye:iu)(e.y1,e.cpy1,e.y2,n)]}var Rxe=function(e){function n(t){return e.call(this,t)||this}return $o(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new X1t},n.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,l=i.x2,h=i.y2,f=i.cpx1,m=i.cpy1,_=i.cpx2,b=i.cpy2,S=i.percent;0!==S&&(t.moveTo(r,o),null==_||null==b?(S<1&&(_W(r,f,l,S,jh),f=jh[1],l=jh[2],_W(o,m,h,S,jh),m=jh[1],h=jh[2]),t.quadraticCurveTo(f,m,l,h)):(S<1&&(vW(r,f,_,l,S,jh),f=jh[1],_=jh[2],l=jh[3],vW(o,m,b,h,S,jh),m=jh[1],b=jh[2],h=jh[3]),t.bezierCurveTo(f,m,_,b,l,h)))},n.prototype.pointAt=function(t){return Lxe(this.shape,t,!1)},n.prototype.tangentAt=function(t){var i=Lxe(this.shape,t,!0);return function Gut(e,n){var t=function Yut(e){return Math.sqrt(function Uut(e){return e[0]*e[0]+e[1]*e[1]}(e))}(n);return 0===t?(e[0]=0,e[1]=0):(e[0]=n[0]/t,e[1]=n[1]/t),e}(i,i)},n}(us);Rxe.prototype.type="bezier-curve";const q1t=Rxe;Math,Math;var lse={};function Lm(e,n){lse[e]=n}function Fxe(e,n){var r,t=n.width/n.height,i=e.height*t;return r=i<=e.width?e.height:(i=e.width)/t,{x:e.x+e.width/2-i/2,y:e.y+e.height/2-r/2,width:i,height:r}}Lm("circle",ise),Lm("ellipse",Txe),Lm("sector",H1t),Lm("ring",U1t),Lm("polygon",Exe),Lm("polyline",sse),Lm("rect",Id),Lm("line",nse),Lm("bezierCurve",q1t),Lm("arc",oxe);var imt=us.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,n){var t=n.cx,i=n.cy,r=n.width/2,o=n.height/2;e.moveTo(t,i-o),e.lineTo(t+r,i+o),e.lineTo(t-r,i+o),e.closePath()}}),rmt=us.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,n){var t=n.cx,i=n.cy,r=n.width/2,o=n.height/2;e.moveTo(t,i-o),e.lineTo(t+r,i),e.lineTo(t,i+o),e.lineTo(t-r,i),e.closePath()}}),omt=us.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,n){var t=n.x,i=n.y,r=n.width/5*3,o=Math.max(r,n.height),l=r/2,h=l*l/(o-l),f=i-o+l+h,m=Math.asin(h/l),_=Math.cos(m)*l,b=Math.sin(m),S=Math.cos(m),M=.6*l,O=.7*l;e.moveTo(t-_,f+h),e.arc(t,f,l,Math.PI-m,2*Math.PI+m),e.bezierCurveTo(t+_-b*M,f+h+S*M,t,i-O,t,i),e.bezierCurveTo(t,i-O,t-_+b*M,f+h+S*M,t-_,f+h),e.closePath()}}),amt=us.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,n){var t=n.height,r=n.x,o=n.y,l=n.width/3*2;e.moveTo(r,o),e.lineTo(r+l,o+t),e.lineTo(r,o+t/4*3),e.lineTo(r-l,o+t),e.lineTo(r,o),e.closePath()}}),lmt={line:function(e,n,t,i,r){r.x1=e,r.y1=n+i/2,r.x2=e+t,r.y2=n+i/2},rect:function(e,n,t,i,r){r.x=e,r.y=n,r.width=t,r.height=i},roundRect:function(e,n,t,i,r){r.x=e,r.y=n,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(e,n,t,i,r){var o=Math.min(t,i);r.x=e,r.y=n,r.width=o,r.height=o},circle:function(e,n,t,i,r){r.cx=e+t/2,r.cy=n+i/2,r.r=Math.min(t,i)/2},diamond:function(e,n,t,i,r){r.cx=e+t/2,r.cy=n+i/2,r.width=t,r.height=i},pin:function(e,n,t,i,r){r.x=e+t/2,r.y=n+i/2,r.width=t,r.height=i},arrow:function(e,n,t,i,r){r.x=e+t/2,r.y=n+i/2,r.width=t,r.height=i},triangle:function(e,n,t,i,r){r.cx=e+t/2,r.cy=n+i/2,r.width=t,r.height=i}},use={};Ke({line:nse,rect:Id,roundRect:Id,square:Id,circle:ise,diamond:rmt,pin:omt,arrow:amt,triangle:imt},function(e,n){use[n]=new e});var cmt=us.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,n,t){var i=eye(e,n,t),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===n.position&&(i.y=t.y+.4*t.height),i},buildPath:function(e,n,t){var i=n.symbolType;if("none"!==i){var r=use[i];r||(r=use[i="rect"]),lmt[i](n.x,n.y,n.width,n.height,r.shape),r.buildPath(e,r.shape,t)}}});function umt(e,n){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=e,t.fill=n||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=e:t.fill=e,this.markRedraw()}}function Vxe(e,n,t,i,r,o,l){var f,h=0===e.indexOf("empty");return h&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),f=0===e.indexOf("image://")?function K1t(e,n,t){var i=new vx({style:{image:e,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(r){"center"===t&&i.setStyle(Fxe(n,{width:r.width,height:r.height}))}});return i}(e.slice(8),new fo(n,t,i,r),l?"center":"cover"):0===e.indexOf("path://")?function Nxe(e,n,t,i){var r=wxe(e,n);return t&&("center"===i&&(t=Fxe(t,r.getBoundingRect())),function Q1t(e,n){if(e.applyTransform){var i=e.getBoundingRect().calculateTransform(n);e.applyTransform(i)}}(r,t)),r}(e.slice(7),{},new fo(n,t,i,r),l?"center":"cover"):new cmt({shape:{symbolType:e,x:n,y:t,width:i,height:r}}),f.__isEmptyBrush=h,f.setColor=umt,o&&f.setColor(o),f}function hse(e,n,t){for(var i="radial"===n.type?function dmt(e,n,t){var i=t.width,r=t.height,o=Math.min(i,r),l=null==n.x?.5:n.x,h=null==n.y?.5:n.y,f=null==n.r?.5:n.r;return n.global||(l=l*i+t.x,h=h*r+t.y,f*=o),e.createRadialGradient(l,h,0,l,h,f)}(e,n,t):function hmt(e,n,t){var i=null==n.x?0:n.x,r=null==n.x2?1:n.x2,o=null==n.y?0:n.y,l=null==n.y2?0:n.y2;return n.global||(i=i*t.width+t.x,r=r*t.width+t.x,o=o*t.height+t.y,l=l*t.height+t.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,l=isNaN(l)?0:l,e.createLinearGradient(i,o,r,l)}(e,n,t),r=n.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Hxe(e,n){return e&&"solid"!==e&&n>0?(n=n||1,"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:toe(e)?[e]:si(e)?e:null):null}var pmt=[],gmt=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return $o(n,e),n.prototype.traverse=function(t,i){t.call(i,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},n.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},n.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new fo(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(pmt)),t.union(o)}this._rect=t}return this._rect},n.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var l=0;l<this._displayables.length;l++)if(this._displayables[l].contain(t,i))return!0;return!1},n}(RO);const mmt=gmt;var vmt=new dx(!0);function hj(e){var n=e.stroke;return!(null==n||"none"===n||!(e.lineWidth>0))}function Yxe(e){return"string"==typeof e&&"none"!==e}function dj(e){var n=e.fill;return null!=n&&"none"!==n}function Uxe(e,n){if(null!=n.fillOpacity&&1!==n.fillOpacity){var t=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=t}else e.fill()}function Gxe(e,n){if(null!=n.strokeOpacity&&1!==n.strokeOpacity){var t=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=t}else e.stroke()}function dse(e,n,t){var i=d8e(n.image,n.__image,t);if(zW(i)){var r=e.createPattern(i,n.repeat||"repeat");if("function"==typeof DOMMatrix&&r.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(n.rotation||0)/Math.PI*180),o.scaleSelf(n.scaleX||1,n.scaleY||1),o.translateSelf(n.x||0,n.y||0),r.setTransform(o)}return r}}var Wxe=["shadowBlur","shadowOffsetX","shadowOffsetY"],jxe=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function $xe(e,n,t,i,r){var o=!1;if(!i&&n===(t=t||{}))return!1;if(i||n.opacity!==t.opacity){o||($h(e,r),o=!0);var l=Math.max(Math.min(n.opacity,1),0);e.globalAlpha=isNaN(l)?ax.opacity:l}(i||n.blend!==t.blend)&&(o||($h(e,r),o=!0),e.globalCompositeOperation=n.blend||ax.blend);for(var h=0;h<Wxe.length;h++){var f=Wxe[h];(i||n[f]!==t[f])&&(o||($h(e,r),o=!0),e[f]=e.dpr*(n[f]||0))}return(i||n.shadowColor!==t.shadowColor)&&(o||($h(e,r),o=!0),e.shadowColor=n.shadowColor||ax.shadowColor),o}function Xxe(e,n,t,i,r){var o=oE(n,r.inHover),l=i?null:t&&oE(t,r.inHover)||{};if(o===l)return!1;var h=$xe(e,o,l,i,r);if((i||o.fill!==l.fill)&&(h||($h(e,r),h=!0),Yxe(o.fill)&&(e.fillStyle=o.fill)),(i||o.stroke!==l.stroke)&&(h||($h(e,r),h=!0),Yxe(o.stroke)&&(e.strokeStyle=o.stroke)),(i||o.opacity!==l.opacity)&&(h||($h(e,r),h=!0),e.globalAlpha=null==o.opacity?1:o.opacity),n.hasStroke()){var m=o.lineWidth/(o.strokeNoScale&&n&&n.getLineScale?n.getLineScale():1);e.lineWidth!==m&&(h||($h(e,r),h=!0),e.lineWidth=m)}for(var _=0;_<jxe.length;_++){var b=jxe[_],S=b[0];(i||o[S]!==l[S])&&(h||($h(e,r),h=!0),e[S]=o[S]||b[1])}return h}function qxe(e,n){var t=n.transform,i=e.dpr||1;t?e.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):e.setTransform(i,0,0,i,0,0)}function $h(e,n){n.batchFill&&e.fill(),n.batchStroke&&e.stroke(),n.batchFill="",n.batchStroke=""}function oE(e,n){return n&&e.__hoverStyle||e.style}function fj(e,n){t3(e,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function t3(e,n,t,i){var r=n.transform;if(!n.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return n.__dirty&=-2,void(n.__isRendered=!1);var o=n.__clipPaths,l=t.prevElClipPaths,h=!1,f=!1;if((!l||function fmt(e,n){if(e===n||!e&&!n)return!1;if(!e||!n||e.length!==n.length)return!0;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!0;return!1}(o,l))&&(l&&l.length&&($h(e,t),e.restore(),f=h=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&($h(e,t),e.save(),function Cmt(e,n,t){for(var i=!1,r=0;r<e.length;r++){var o=e[r];i=i||o.isZeroArea(),qxe(n,o),n.beginPath(),o.buildPath(n,o.shape),n.clip()}t.allClipped=i}(o,e,t),h=!0),t.prevElClipPaths=o),t.allClipped)n.__isRendered=!1;else{n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var m=t.prevEl;m||(f=h=!0);var _=n instanceof us&&n.autoBatch&&function Smt(e){var n=dj(e),t=hj(e);return!(e.lineDash||!(+n^+t)||n&&"string"!=typeof e.fill||t&&"string"!=typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(n.style);h||function wmt(e,n){return e&&n?e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||e[3]!==n[3]||e[4]!==n[4]||e[5]!==n[5]:!(!e&&!n)}(r,m.transform)?($h(e,t),qxe(e,n)):_||$h(e,t);var b=oE(n,t.inHover);n instanceof us?(1!==t.lastDrawType&&(f=!0,t.lastDrawType=1),Xxe(e,n,m,f,t),(!_||!t.batchFill&&!t.batchStroke)&&e.beginPath(),function _mt(e,n,t,i){var r=hj(t),o=dj(t),l=t.strokePercent,h=l<1,f=!n.path;(!n.silent||h)&&f&&n.createPathProxy();var m=n.path||vmt;if(!i){var _=t.fill,b=t.stroke,S=o&&!!_.colorStops,M=r&&!!b.colorStops,O=o&&!!_.image,I=r&&!!b.image,N=void 0,V=void 0,G=void 0,X=void 0,K=void 0;(S||M)&&(K=n.getBoundingRect()),S&&(N=n.__dirty?hse(e,_,K):n.__canvasFillGradient,n.__canvasFillGradient=N),M&&(V=n.__dirty?hse(e,b,K):n.__canvasStrokeGradient,n.__canvasStrokeGradient=V),O&&(G=n.__dirty||!n.__canvasFillPattern?dse(e,_,n):n.__canvasFillPattern,n.__canvasFillPattern=G),I&&(X=n.__dirty||!n.__canvasStrokePattern?dse(e,b,n):n.__canvasStrokePattern,n.__canvasStrokePattern=G),S?e.fillStyle=N:O&&(G?e.fillStyle=G:o=!1),M?e.strokeStyle=V:I&&(X?e.strokeStyle=X:r=!1)}var ne=t.lineDash&&t.lineWidth>0&&Hxe(t.lineDash,t.lineWidth),ie=t.lineDashOffset,pe=!!e.setLineDash,ve=n.getGlobalScale();if(m.setScale(ve[0],ve[1],n.segmentIgnoreThreshold),ne){var ye=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;ye&&1!==ye&&(ne=Gi(ne,function(xe){return xe/ye}),ie/=ye)}var Se=!0;(f||4&n.__dirty||ne&&!pe&&r)&&(m.setDPR(e.dpr),h?m.setContext(null):(m.setContext(e),Se=!1),m.reset(),ne&&!pe&&(m.setLineDash(ne),m.setLineDashOffset(ie)),n.buildPath(m,n.shape,i),m.toStatic(),n.pathUpdated()),Se&&m.rebuildPath(e,h?l:1),ne&&pe&&(e.setLineDash(ne),e.lineDashOffset=ie),i||(t.strokeFirst?(r&&Gxe(e,t),o&&Uxe(e,t)):(o&&Uxe(e,t),r&&Gxe(e,t))),ne&&pe&&e.setLineDash([])}(e,n,b,_),_&&(t.batchFill=b.fill||"",t.batchStroke=b.stroke||"")):n instanceof kW?(3!==t.lastDrawType&&(f=!0,t.lastDrawType=3),Xxe(e,n,m,f,t),function xmt(e,n,t){var i=t.text;if(null!=i&&(i+=""),i){e.font=t.font||ES,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline;var r=void 0;if(e.setLineDash){var o=t.lineDash&&t.lineWidth>0&&Hxe(t.lineDash,t.lineWidth),l=t.lineDashOffset;if(o){var h=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;h&&1!==h&&(o=Gi(o,function(f){return f/h}),l/=h),e.setLineDash(o),e.lineDashOffset=l,r=!0}}t.strokeFirst?(hj(t)&&e.strokeText(i,t.x,t.y),dj(t)&&e.fillText(i,t.x,t.y)):(dj(t)&&e.fillText(i,t.x,t.y),hj(t)&&e.strokeText(i,t.x,t.y)),r&&e.setLineDash([])}}(e,n,b)):n instanceof vx?(2!==t.lastDrawType&&(f=!0,t.lastDrawType=2),function bmt(e,n,t,i,r){$xe(e,oE(n,r.inHover),t&&oE(t,r.inHover),i,r)}(e,n,m,f,t),function ymt(e,n,t){var i=n.__image=d8e(t.image,n.__image,n,n.onload);if(i&&zW(i)){var r=t.x||0,o=t.y||0,l=n.getWidth(),h=n.getHeight(),f=i.width/i.height;if(null==l&&null!=h?l=h*f:null==h&&null!=l?h=l/f:null==l&&null==h&&(l=i.width,h=i.height),t.sWidth&&t.sHeight)e.drawImage(i,m=t.sx||0,_=t.sy||0,t.sWidth,t.sHeight,r,o,l,h);else if(t.sx&&t.sy){var m,_;e.drawImage(i,m=t.sx,_=t.sy,l-m,h-_,r,o,l,h)}else e.drawImage(i,r,o,l,h)}}(e,n,b)):n instanceof mmt&&(4!==t.lastDrawType&&(f=!0,t.lastDrawType=4),function Tmt(e,n,t){var i=n.getDisplayables(),r=n.getTemporalDisplayables();e.save();var l,h,o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(l=n.getCursor(),h=i.length;l<h;l++)(f=i[l]).beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),t3(e,f,o,l===h-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),o.prevEl=f;for(var m=0,_=r.length;m<_;m++){var f;(f=r[m]).beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),t3(e,f,o,m===_-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),o.prevEl=f}n.clearTemporalDisplayables(),n.notClear=!0,e.restore()}(e,n,t)),_&&i&&$h(e,t),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),t.prevEl=n,n.__dirty=0,n.__isRendered=!0}}var fse=new w1t,e5e=new DS(100),t5e=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function n5e(e,n){if("none"===e)return null;var t=n.getDevicePixelRatio(),i=n.getZr(),r="svg"===i.painter.type;e.dirty&&fse.delete(e);var o=fse.get(e);if(o)return o;var l=ya(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===l.backgroundColor&&(l.backgroundColor=null);var h={repeat:"repeat"};return function f(m){for(var _=[t],b=!0,S=0;S<t5e.length;++S){var M=l[t5e[S]],O=typeof M;if(null!=M&&!si(M)&&"string"!==O&&"number"!==O&&"boolean"!==O){b=!1;break}_.push(M)}var I;if(b){I=_.join(",")+(r?"-svg":"");var N=e5e.get(I);N&&(r?m.svgElement=N:m.image=N)}var ye,V=r5e(l.dashArrayX),G=function Mmt(e){if(!e||"object"==typeof e&&0===e.length)return[0,0];if("number"==typeof e){var n=Math.ceil(e);return[n,n]}var t=Gi(e,function(i){return Math.ceil(i)});return e.length%2?t.concat(t):t}(l.dashArrayY),X=i5e(l.symbol),K=function Dmt(e){return Gi(e,function(n){return o5e(n)})}(V),ne=o5e(G),ie=!r&&WG(),pe=r&&i.painter.createSVGElement("g"),ve=function Se(){for(var De=1,Pe=0,Re=K.length;Pe<Re;++Pe)De=uye(De,K[Pe]);var ke=1;for(Pe=0,Re=X.length;Pe<Re;++Pe)ke=uye(ke,X[Pe].length);De*=ke;var Oe=ne*K.length*X.length;return{width:Math.max(1,Math.min(De,l.maxTileWidth)),height:Math.max(1,Math.min(Oe,l.maxTileHeight))}}();ie&&(ie.width=ve.width*t,ie.height=ve.height*t,ye=ie.getContext("2d")),function xe(){ye&&(ye.clearRect(0,0,ie.width,ie.height),l.backgroundColor&&(ye.fillStyle=l.backgroundColor,ye.fillRect(0,0,ie.width,ie.height)));for(var De=0,Pe=0;Pe<G.length;++Pe)De+=G[Pe];var ir,ps;if(!(De<=0))for(var Re=-ne,ke=0,Oe=0,Ye=0;Re<ve.height;){if(ke%2==0){for(var Ge=Oe/2%X.length,ct=0,We=0,Tt=0;ct<2*ve.width;){var Lt=0;for(Pe=0;Pe<V[Ye].length;++Pe)Lt+=V[Ye][Pe];if(Lt<=0)break;if(We%2==0){var An=.5*(1-l.symbolSize);void 0,void 0,ps=Vxe(X[Ge][Tt/2%X[Ge].length],(ct+V[Ye][We]*An)*(ir=r?1:t),(Re+G[ke]*An)*ir,V[Ye][We]*l.symbolSize*ir,G[ke]*l.symbolSize*ir,l.color,l.symbolKeepAspect),r?pe.appendChild(i.painter.paintOne(ps)):fj(ye,ps)}ct+=V[Ye][We],++Tt,++We===V[Ye].length&&(We=0)}++Ye===V.length&&(Ye=0)}Re+=G[ke],++Oe,++ke===G.length&&(ke=0)}}(),b&&e5e.put(I,ie||pe),m.image=ie,m.svgElement=pe,m.svgWidth=ve.width,m.svgHeight=ve.height}(h),h.rotation=l.rotation,h.scaleX=h.scaleY=r?1:1/t,fse.set(e,h),e.dirty=!1,h}function i5e(e){if(!e||0===e.length)return[["rect"]];if("string"==typeof e)return[[e]];for(var n=!0,t=0;t<e.length;++t)if("string"!=typeof e[t]){n=!1;break}if(n)return i5e([e]);var i=[];for(t=0;t<e.length;++t)i.push("string"==typeof e[t]?[e[t]]:e[t]);return i}function r5e(e){if(!e||0===e.length)return[[0,0]];if("number"==typeof e)return[[n=Math.ceil(e),n]];for(var t=!0,i=0;i<e.length;++i)if("number"!=typeof e[i]){t=!1;break}if(t)return r5e([e]);var r=[];for(i=0;i<e.length;++i)if("number"==typeof e[i]){var n=Math.ceil(e[i]);r.push([n,n])}else n=Gi(e[i],function(h){return Math.ceil(h)}),r.push(n.length%2==1?n.concat(n):n);return r}function o5e(e){for(var n=0,t=0;t<e.length;++t)n+=e[t];return e.length%2==1?2*n:n}var Amt=function(){function e(n){this.colorStops=n||[]}return e.prototype.addColorStop=function(n,t){this.colorStops.push({offset:n,color:t})},e}();const a5e=Amt;var zmt=function(e){function n(t,i,r,o,l,h){var f=e.call(this,l)||this;return f.x=t??0,f.y=i??0,f.x2=r??1,f.y2=o??0,f.type="linear",f.global=h||!1,f}return $o(n,e),n}(a5e);const kmt=zmt;var Omt=function(e){function n(t,i,r,o,l){var h=e.call(this,o)||this;return h.x=t??.5,h.y=i??.5,h.r=r??.5,h.type="radial",h.global=l||!1,h}return $o(n,e),n}(a5e);const Emt=Omt;function s5e(e){js(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var pse,pj={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},l5e=ja(pj),gj={"alignment-baseline":"textBaseline","stop-color":"stopColor"},c5e=ja(gj),Imt=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(n,t){t=t||{};var i=s5e(n);if(!i)throw new Error("Illegal svg");this._defsUsePending=[];var r=new Dm;this._root=r;var _,b,o=[],l=i.getAttribute("viewBox")||"",h=parseFloat(i.getAttribute("width")||t.width),f=parseFloat(i.getAttribute("height")||t.height);isNaN(h)&&(h=null),isNaN(f)&&(f=null),Rd(i,r,null,!0,!1);for(var m=i.firstChild;m;)this._parseNode(m,r,o,null,!1,!1),m=m.nextSibling;if(function Nmt(e,n){for(var t=0;t<n.length;t++){var i=n[t];i[0].style[i[1]]=e[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],l){var S=mj(l);S.length>=4&&(_={x:parseFloat(S[0]||0),y:parseFloat(S[1]||0),width:parseFloat(S[2]),height:parseFloat(S[3])})}if(_&&null!=h&&null!=f&&(b=v5e(_,{x:0,y:0,width:h,height:f}),!t.ignoreViewBox)){var M=r;(r=new Dm).add(M),M.scaleX=M.scaleY=b.scale,M.x=b.x,M.y=b.y}return!t.ignoreRootClip&&null!=h&&null!=f&&r.setClipPath(new Id({shape:{x:0,y:0,width:h,height:f}})),{root:r,width:h,height:f,viewBoxRect:_,viewBoxTransform:b,named:o}},e.prototype._parseNode=function(n,t,i,r,o,l){var f,h=n.nodeName.toLowerCase(),m=r;if("defs"===h&&(o=!0),"text"===h&&(l=!0),"defs"===h||"switch"===h)f=t;else{if(!o){var _=pse[h];if(_&&Sm(pse,h)){f=_.call(this,n,t);var b=n.getAttribute("name");if(b){var S={name:b,namedFrom:null,svgNodeTagLower:h,el:f};i.push(S),"g"===h&&(m=S)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:h,el:f});t.add(f)}}var M=u5e[h];if(M&&Sm(u5e,h)){var O=M.call(this,n),I=n.getAttribute("id");I&&(this._defs[I]=O)}}if(f&&f.isGroup)for(var N=n.firstChild;N;)1===N.nodeType?this._parseNode(N,f,i,m,o,l):3===N.nodeType&&l&&this._parseText(N,f),N=N.nextSibling},e.prototype._parseText=function(n,t){var i=new kW({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});up(t,i),Rd(n,i,this._defsUsePending,!1,!1),function Lmt(e,n){var t=n.__selfStyle;if(t){var i=t.textBaseline,r=i;i&&"auto"!==i&&"baseline"!==i?"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":("central"===i||"mathematical"===i)&&(r="middle"):r="alphabetic",e.style.textBaseline=r}var o=n.__inheritedStyle;if(o){var l=o.textAlign,h=l;l&&("middle"===l&&(h="center"),e.style.textAlign=h)}}(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var l=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=l;var h=i.getBoundingRect();return this._textX+=h.width,t.add(i),i},e.internalField=void(pse={g:function(n,t){var i=new Dm;return up(t,i),Rd(n,i,this._defsUsePending,!1,!1),i},rect:function(n,t){var i=new Id;return up(t,i),Rd(n,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(n,t){var i=new ise;return up(t,i),Rd(n,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),i.silent=!0,i},line:function(n,t){var i=new nse;return up(t,i),Rd(n,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(n,t){var i=new Txe;return up(t,i),Rd(n,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(n,t){var r,i=n.getAttribute("points");i&&(r=f5e(i));var o=new Exe({shape:{points:r||[]},silent:!0});return up(t,o),Rd(n,o,this._defsUsePending,!1,!1),o},polyline:function(n,t){var r,i=n.getAttribute("points");i&&(r=f5e(i));var o=new sse({shape:{points:r||[]},silent:!0});return up(t,o),Rd(n,o,this._defsUsePending,!1,!1),o},image:function(n,t){var i=new vx;return up(t,i),Rd(n,i,this._defsUsePending,!1,!1),i.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),i.silent=!0,i},text:function(n,t){var i=n.getAttribute("x")||"0",r=n.getAttribute("y")||"0",o=n.getAttribute("dx")||"0",l=n.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(l);var h=new Dm;return up(t,h),Rd(n,h,this._defsUsePending,!1,!0),h},tspan:function(n,t){var i=n.getAttribute("x"),r=n.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=n.getAttribute("dx")||"0",l=n.getAttribute("dy")||"0",h=new Dm;return up(t,h),Rd(n,h,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(l),h},path:function(n,t){var r=wxe(n.getAttribute("d")||"");return up(t,r),Rd(n,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),e}(),u5e={lineargradient:function(e){var n=parseInt(e.getAttribute("x1")||"0",10),t=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),r=parseInt(e.getAttribute("y2")||"0",10),o=new kmt(n,t,i,r);return h5e(e,o),d5e(e,o),o},radialgradient:function(e){var n=parseInt(e.getAttribute("cx")||"0",10),t=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10),r=new Emt(n,t,i);return h5e(e,r),d5e(e,r),r}};function h5e(e,n){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(n.global=!0)}function d5e(e,n){for(var t=e.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var r,i=t.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};m5e(t,o,o);var l=o.stopColor||t.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:r,color:l})}t=t.nextSibling}}function up(e,n){e&&e.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),ya(n.__inheritedStyle,e.__inheritedStyle))}function f5e(e){for(var n=mj(e),t=[],i=0;i<n.length;i+=2){var r=parseFloat(n[i]),o=parseFloat(n[i+1]);t.push([r,o])}return t}function Rd(e,n,t,i,r){var o=n,l=o.__inheritedStyle=o.__inheritedStyle||{},h={};1===e.nodeType&&(function Vmt(e,n){var t=e.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],r=null;t.replace(Bmt,function(b,S,M){return i.push(S,M),""});for(var o=i.length-1;o>0;o-=2){var h=i[o-1],f=mj(i[o]);switch(r=r||[1,0,0,1,0,0],h){case"translate":Noe(r,r,[parseFloat(f[0]),parseFloat(f[1]||"0")]);break;case"scale":j3e(r,r,[parseFloat(f[0]),parseFloat(f[1]||f[0])]);break;case"rotate":W3e(r,r,-parseFloat(f[0])*gse);break;case"skewX":kS(r,[1,0,Math.tan(parseFloat(f[0])*gse),1,0,0],r);break;case"skewY":kS(r,[1,Math.tan(parseFloat(f[0])*gse),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(f[0]),r[1]=parseFloat(f[1]),r[2]=parseFloat(f[2]),r[3]=parseFloat(f[3]),r[4]=parseFloat(f[4]),r[5]=parseFloat(f[5])}}n.setLocalTransform(r)}}(e,n),m5e(e,l,h),i||function Hmt(e,n,t){for(var i=0;i<l5e.length;i++)null!=(o=e.getAttribute(r=l5e[i]))&&(n[pj[r]]=o);for(i=0;i<c5e.length;i++){var r,o;null!=(o=e.getAttribute(r=c5e[i]))&&(t[gj[r]]=o)}}(e,l,h)),o.style=o.style||{},null!=l.fill&&(o.style.fill=p5e(o,"fill",l.fill,t)),null!=l.stroke&&(o.style.stroke=p5e(o,"stroke",l.stroke,t)),Ke(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(f){null!=l[f]&&(o.style[f]=parseFloat(l[f]))}),Ke(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(f){null!=l[f]&&(o.style[f]=l[f])}),r&&(o.__selfStyle=h),l.lineDash&&(o.style.lineDash=Gi(mj(l.lineDash),function(f){return parseFloat(f)})),("hidden"===l.visibility||"collapse"===l.visibility)&&(o.invisible=!0),"none"===l.display&&(o.ignore=!0)}var Rmt=/^url\(\s*#(.*?)\)/;function p5e(e,n,t,i){var r=t&&t.match(Rmt);if(!r)return"none"===t&&(t=null),t;var o=bS(r[1]);i.push([e,n,o])}var Fmt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function mj(e){return e.match(Fmt)||[]}var Bmt=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,gse=Math.PI/180,g5e=/([^\s:;]+)\s*:\s*([^:;]+)/g;function m5e(e,n,t){var i=e.getAttribute("style");if(i){g5e.lastIndex=0;for(var r;null!=(r=g5e.exec(i));){var o=r[1],l=Sm(pj,o)?pj[o]:null;l&&(n[l]=r[2]);var h=Sm(gj,o)?gj[o]:null;h&&(t[h]=r[2])}}}function v5e(e,n){var r=Math.min(n.width/e.width,n.height/e.height);return{scale:r,x:-(e.x+e.width/2)*r+(n.x+n.width/2),y:-(e.y+e.height/2)*r+(n.y+n.height/2)}}function _5e(e,n){return Math.abs(e-n)<1e-8}function y5e(e,n,t){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var l=e[o];i+=Qv(r[0],r[1],l[0],l[1],n,t),r=l}var h=e[0];return(!_5e(r[0],h[0])||!_5e(r[1],h[1]))&&(i+=Qv(r[0],r[1],h[0],h[1],n,t)),0!==i}var Gmt=[],x5e=function(){function e(n){this.name=n}return e.prototype.getCenter=function(){},e}(),b5e=function(e){function n(t,i,r){var o=e.call(this,t)||this;if(o.type="geoJSON",o.geometries=i,r)r=[r[0],r[1]];else{var l=o.getBoundingRect();r=[l.x+l.width/2,l.y+l.height/2]}return o._center=r,o}return Bh(n,e),n.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var i=Number.MAX_VALUE,r=[i,i],o=[-i,-i],l=[],h=[],f=this.geometries,m=0;m<f.length;m++)"polygon"===f[m].type&&(Vdt(f[m].exterior,l,h),X6(r,r,l),q6(o,o,h));return 0===m&&(r[0]=r[1]=o[0]=o[1]=0),this._rect=new fo(r[0],r[1],o[0]-r[0],o[1]-r[1])},n.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;e:for(var o=0,l=r.length;o<l;o++)if("polygon"===r[o].type){var f=r[o].interiors;if(y5e(r[o].exterior,t[0],t[1])){for(var m=0;m<(f?f.length:0);m++)if(y5e(f[m],t[0],t[1]))continue e;return!0}}return!1},n.prototype.transformTo=function(t,i,r,o){var l=this.getBoundingRect(),h=l.width/l.height;r?o||(o=r/h):r=h*o;for(var f=new fo(t,i,r,o),m=l.calculateTransform(f),_=this.geometries,b=0;b<_.length;b++)if("polygon"===_[b].type){for(var S=_[b].exterior,M=_[b].interiors,O=0;O<S.length;O++)Tm(S[O],S[O],m);for(var I=0;I<(M?M.length:0);I++)for(O=0;O<M[I].length;O++)Tm(M[I][O],M[I][O],m)}(l=this._rect).copy(f),this._center=[l.x+l.width/2,l.y+l.height/2]},n.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new n(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},n.prototype.getCenter=function(){return this._center},n.prototype.setCenter=function(t){this._center=t},n}(x5e),Wmt=function(e){function n(t,i){var r=e.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return Bh(n,e),n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this._calculateCenter()),t},n.prototype._calculateCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=U3e(Gmt),l=t;l&&!l.isGeoSVGGraphicRoot;)kS(o,l.getLocalTransform(),o),l=l.parent;return oW(o,o),Tm(r,r,o),r},n}(x5e),jmt=Ji(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),$mt=function(){function e(n,t){this.type="geoSVG",this._usedGraphicMap=Ji(),this._freedGraphics=[],this._mapName=n,this._parsedXML=s5e(t)}return e.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function qmt(e){var n=[],t=Ji();return Ke(e,function(i){if(null==i.namedFrom){var r=new Wmt(i.name,i.el);n.push(r),t.set(i.name,r)}}),{regions:n,regionsMap:t}}(n.named),r=t.regionsMap;this._regions=t.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(n){var t,i;try{t=n&&function Ymt(e,n){return(new Imt).parse(e,n)}(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Bg(null!=(i=t.root))}catch(N){throw new Error("Invalid svg format\n"+N.message)}var r=new Dm;r.add(i),r.isGeoSVGGraphicRoot=!0;var o=t.width,l=t.height,h=t.viewBoxRect,f=this._boundingRect;if(!f){var m=void 0,_=void 0,b=void 0,S=void 0;if(null!=o?(m=0,b=o):h&&(m=h.x,b=h.width),null!=l?(_=0,S=l):h&&(_=h.y,S=h.height),null==m||null==_){var M=i.getBoundingRect();null==m&&(m=M.x,b=M.width),null==_&&(_=M.y,S=M.height)}f=this._boundingRect=new fo(m,_,b,S)}if(h){var O=v5e(h,f);i.scaleX=i.scaleY=O.scale,i.x=O.x,i.y=O.y}r.setClipPath(new Id({shape:f.plain()}));var I=[];return Ke(t.named,function(N){null!=jmt.get(N.svgNodeTagLower)&&(I.push(N),function Xmt(e){e.silent=!1,e.isGroup&&e.traverse(function(n){n.silent=!1})}(N.el))}),{root:r,boundingRect:f,named:I}},e.prototype.useGraphic=function(n){var t=this._usedGraphicMap,i=t.get(n);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(n,i),i)},e.prototype.freeGraphic=function(n){var t=this._usedGraphicMap,i=t.get(n);i&&(t.removeKey(n),this._freedGraphics.push(i))},e}();function C5e(e,n,t){for(var i=[],r=n[0],o=n[1],l=0;l<e.length;l+=2){var h=e.charCodeAt(l)-64,f=e.charCodeAt(l+1)-64;h=h>>1^-(1&h),f=f>>1^-(1&f),r=h+=r,o=f+=o,i.push([h/t,f/t])}return i}function mse(e,n){return e=function Zmt(e){if(!e.UTF8Encoding)return e;var n=e,t=n.UTF8Scale;null==t&&(t=1024);for(var i=n.features,r=0;r<i.length;r++){var l=i[r].geometry;if("Polygon"===l.type)for(var h=l.coordinates,f=0;f<h.length;f++)h[f]=C5e(h[f],l.encodeOffsets[f],t);else if("MultiPolygon"===l.type)for(h=l.coordinates,f=0;f<h.length;f++)for(var m=h[f],_=0;_<m.length;_++)m[_]=C5e(m[_],l.encodeOffsets[f][_],t)}return n.UTF8Encoding=!1,n}(e),Gi(tu(e.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var l,i=t.properties,r=t.geometry,o=[];"Polygon"===r.type&&o.push({type:"polygon",exterior:(l=r.coordinates)[0],interiors:l.slice(1)}),"MultiPolygon"===r.type&&Ke(l=r.coordinates,function(m){m[0]&&o.push({type:"polygon",exterior:m[0],interiors:m.slice(1)})});var h=new b5e(i[n||"name"],o,i.cp);return h.properties=i,h})}for(var vse=[126,25],Dx=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Px=0;Px<Dx.length;Px++)for(var qS=0;qS<Dx[Px].length;qS++)Dx[Px][qS][0]/=10.5,Dx[Px][qS][1]/=-14,Dx[Px][qS][0]+=vse[0],Dx[Px][qS][1]+=vse[1];var Qmt={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]};function S5e(e,n){if("china"===e){var t=Qmt[n.name];if(t){var i=n.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/14,n.setCenter(i)}}}var Jmt={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function T5e(e,n){if("world"===e){var t=Jmt[n.name];t&&n.setCenter([t[0],t[1]])}}var e0t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],i0t=function(){function e(n,t,i){this.type="geoJSON",this._parsedMap=Ji(),this._mapName=n,this._specialAreas=i,this._geoJSON=function o0t(e){return js(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}(t)}return e.prototype.load=function(n,t){var i=this._parsedMap.get(t=t||"name");if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:r0t(r)})}var o=Ji(),l=[];return Ke(i.regions,function(h){var f=h.name;n&&n.hasOwnProperty(f)&&(h=h.cloneShallow(f=n[f])),l.push(h),o.set(f,h)}),{regions:l,boundingRect:i.boundingRect||new fo(0,0,0,0),regionsMap:o}},e.prototype._parseToRegions=function(n){var r,t=this._mapName,i=this._geoJSON;try{r=i?mse(i,n):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function Kmt(e,n){if("china"===e){for(var t=0;t<n.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===n[t].name)return;n.push(new b5e("\u5357\u6d77\u8bf8\u5c9b",Gi(Dx,function(i){return{type:"polygon",exterior:i}}),vse))}}(t,r),Ke(r,function(o){var l=o.name;S5e(t,o),T5e(t,o),function t0t(e,n){"china"===e&&"\u53f0\u6e7e"===n.name&&n.geometries.push({type:"polygon",exterior:e0t[0]})}(t,o);var h=this._specialAreas&&this._specialAreas[l];h&&o.transformTo(h.left,h.top,h.width,h.height)},this),r},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function r0t(e){for(var n,t=0;t<e.length;t++){var i=e[t].getBoundingRect();(n=n||i.clone()).union(i)}return n}var aE=Ji();const $g=new Mm;var s0t=typeof window<"u",Rm="__flagInMainProcess",hp="__pendingUpdate",yse="__needsUpdateStatus",z5e=/^[a-zA-Z0-9_]+$/;function O5e(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!this.isDisposed())return I5e(this,e,n)}}function E5e(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return I5e(this,e,n)}}function I5e(e,n,t){return t[0]=t[0]&&t[0].toLowerCase(),Mm.prototype[n].apply(e,t)}var L5e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Bh(n,e),n}(Mm),R5e=L5e.prototype;R5e.on=E5e("on"),R5e.off=E5e("off");var ZS,bse,_j,n3,Cse,wse,Sse,sE,lE,N5e,F5e,cE,Tse,B5e,yj,V5e,dp,Y5e,xj=function(e){function n(t,i,r){var o=e.call(this,new p1t)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},"string"==typeof i&&(i=U5e[i]),o._dom=t;var _=o._zr=Xoe(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null!=r.useDirtyRect&&r.useDirtyRect});o._throttledZrFlush=function J6e(e,n,t){var i,h,f,m,_,r=0,o=0,l=null;function b(){o=(new Date).getTime(),l=null,e.apply(f,m||[])}n=n||0;var S=function(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];i=(new Date).getTime(),f=this,m=M;var I=_||n,N=_||t;_=null,h=i-(N?r:o)-I,clearTimeout(l),N?l=setTimeout(b,I):h>=0?b():l=setTimeout(b,-h),r=i};return S.clear=function(){l&&(clearTimeout(l),l=null)},S.debounceNextCall=function(M){_=M},S}(Vh(_.flush,_),17),(i=ho(i))&&v6e(i,!0),o._theme=i,o._locale=function dpt(e){if(js(e)){var n=IW[e.toUpperCase()]||{};return"ZH"===e||"EN"===e?ho(n):ti(ho(n),ho(IW.EN),!1)}return ti(ho(e),ho(IW.EN),!1)}(r.locale||z8e),o._coordSysMgr=new jW;var b=o._api=V5e(o);function S(M,O){return M.__prio-O.__prio}return xoe(Cj,S),xoe(Dse,S),o._scheduler=new cxe(o,b,Dse,Cj),o._messageCenter=new L5e,o._initEvents(),o.resize=Vh(o.resize,o),_.animation.on("frame",o._onframe,o),N5e(_,o),F5e(_,o),$G(o),o}return Bh(n,e),n.prototype._onframe=function(){if(!this._disposed){Y5e(this);var t=this._scheduler;if(this[hp]){var i=this[hp].silent;this[Rm]=!0,ZS(this),n3.update.call(this,null,this[hp].updateParams),this._zr.flush(),this[Rm]=!1,this[hp]=null,sE.call(this,i),lE.call(this,i)}else if(t.unfinished){var r=1,o=this._model,l=this._api;t.unfinished=!1;do{var h=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),wse(this,o),t.performVisualTasks(o),yj(this,this._model,l,"remain",{}),r-=+new Date-h}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.setOption=function(t,i,r){if(!this._disposed){var o,l,h;if(Xi(i)&&(r=i.lazyUpdate,o=i.silent,l=i.replaceMerge,h=i.transition,i=i.notMerge),this[Rm]=!0,!this._model||i){var f=new qpt(this._api),m=this._theme,_=this._model=new c6e;_.scheduler=this._scheduler,_.init(null,null,null,m,this._locale,f)}this._model.setOption(t,{replaceMerge:l},Pse);var b={seriesTransition:h,optionChanged:!0};r?(this[hp]={silent:o,updateParams:b},this[Rm]=!1,this.getZr().wakeUp()):(ZS(this),n3.update.call(this,null,b),this._zr.flush(),this[hp]=null,this[Rm]=!1,sE.call(this,o),lE.call(this,o))}},n.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||s0t&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(t){if(jo.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},n.prototype.getSvgDataURL=function(){if(jo.svgSupported){var t=this._zr;return Ke(t.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()}},n.prototype.getDataURL=function(t){if(!this._disposed){var r=this._model,o=[],l=this;Ke((t=t||{}).excludeComponents,function(f){r.eachComponent({mainType:f},function(m){var _=l._componentsMap[m.__viewId];_.group.ignore||(o.push(_),_.group.ignore=!0)})});var h="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Ke(o,function(f){f.group.ignore=!1}),h}},n.prototype.getConnectedDataURL=function(t){if(!this._disposed&&jo.canvasSupported){var i="svg"===t.type,r=this.group,o=Math.min,l=Math.max,h=1/0;if(wj[r]){var f=h,m=h,_=-h,b=-h,S=[],M=t&&t.pixelRatio||this.getDevicePixelRatio();Ke(Ax,function(X,K){if(X.group===r){var ne=i?X.getZr().painter.getSvgDom().innerHTML:X.getRenderedCanvas(ho(t)),ie=X.getDom().getBoundingClientRect();f=o(ie.left,f),m=o(ie.top,m),_=l(ie.right,_),b=l(ie.bottom,b),S.push({dom:ne,left:ie.left,top:ie.top})}});var O=(_*=M)-(f*=M),I=(b*=M)-(m*=M),N=WG(),V=Xoe(N,{renderer:i?"svg":"canvas"});if(V.resize({width:O,height:I}),i){var G="";return Ke(S,function(X){G+='<g transform="translate('+(X.left-f)+","+(X.top-m)+')">'+X.dom+"</g>"}),V.painter.getSvgRoot().innerHTML=G,t.connectedBackgroundColor&&V.painter.setBackgroundColor(t.connectedBackgroundColor),V.refreshImmediately(),V.painter.toDataURL()}return t.connectedBackgroundColor&&V.add(new Id({shape:{x:0,y:0,width:O,height:I},style:{fill:t.connectedBackgroundColor}})),Ke(S,function(X){var K=new vx({style:{x:X.left*M-f,y:X.top*M-m,image:X.dom}});V.add(K)}),V.refreshImmediately(),N.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},n.prototype.convertToPixel=function(t,i){return Cse(this,"convertToPixel",t,i)},n.prototype.convertFromPixel=function(t,i){return Cse(this,"convertFromPixel",t,i)},n.prototype.containPixel=function(t,i){var o;if(!this._disposed)return Ke(Zoe(this._model,t),function(h,f){f.indexOf("Models")>=0&&Ke(h,function(m){var _=m.coordinateSystem;if(_&&_.containPoint)o=o||!!_.containPoint(i);else if("seriesModels"===f){var b=this._chartsMap[m.__viewId];b&&b.containPoint&&(o=o||b.containPoint(i,m))}},this)},this),!!o},n.prototype.getVisual=function(t,i){var o=Zoe(this._model,t,{defaultMainType:"series"}),h=o.seriesModel.getData(),f=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?h.indexOfRawIndex(o.dataIndex):null;return null!=f?function v1t(e,n,t){switch(t){case"color":return e.getItemVisual(n,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(n,t)}}(h,f,i):function _1t(e,n){switch(n){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(n)}}(h,i)},n.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},n.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},n.prototype._initEvents=function(){var t=this;Ke(C0t,function(i){var r=function(o){var f,l=t.getModel(),h=o.target;if("globalout"===i?f={}:h&&rj(h,function(O){var I=Hh(O);if(I&&null!=I.dataIndex){var N=I.dataModel||l.getSeriesByIndex(I.seriesIndex);return f=N&&N.getDataParams(I.dataIndex,I.dataType)||{},!0}if(I.eventData)return f=Tn({},I.eventData),!0},!0),f){var _=f.componentType,b=f.componentIndex;("markLine"===_||"markPoint"===_||"markArea"===_)&&(_="series",b=f.seriesIndex);var S=_&&null!=b&&l.getComponent(_,b),M=S&&t["series"===S.mainType?"_chartsMap":"_componentsMap"][S.__viewId];f.event=o,f.type=i,t._$eventProcessor.eventInfo={targetEl:h,packedEvent:f,model:S,view:M},t.trigger(i,f)}};r.zrEventfulCallAtLast=!0,t._zr.on(i,r,t)}),Ke(uE,function(i,r){t._messageCenter.on(r,function(o){this.trigger(r,o)},t)}),Ke(["selectchanged"],function(i){t._messageCenter.on(i,function(r){this.trigger(i,r)},t)}),function y1t(e,n,t){e.on("selectchanged",function(i){var r=t.getModel();i.isFromClick?(jS("map","selectchanged",n,r,i),jS("pie","selectchanged",n,r,i)):"select"===i.fromAction?(jS("map","selected",n,r,i),jS("pie","selected",n,r,i)):"unselect"===i.fromAction&&(jS("map","unselected",n,r,i),jS("pie","unselected",n,r,i))})}(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,function _ye(e,n,t){e.setAttribute?e.setAttribute(n,t):e[n]=t}(this.getDom(),zse,"");var t=this,i=t._api,r=t._model;Ke(t._componentsViews,function(o){o.dispose(r,i)}),Ke(t._chartsViews,function(o){o.dispose(r,i)}),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete Ax[t.id]}},n.prototype.resize=function(t){if(!this._disposed){this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=t&&t.silent;this[hp]&&(null==o&&(o=this[hp].silent),r=!0,this[hp]=null),this[Rm]=!0,r&&ZS(this),n3.update.call(this,{type:"resize",animation:Tn({duration:0},t&&t.animation)}),this[Rm]=!1,sE.call(this,o),lE.call(this,o)}}},n.prototype.showLoading=function(t,i){if(!this._disposed&&(Xi(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),Ase[t])){var r=Ase[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},n.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},n.prototype.makeActionFromEvent=function(t){var i=Tn({},t);return i.type=uE[t.type],i},n.prototype.dispatchAction=function(t,i){if(!this._disposed&&(Xi(i)||(i={silent:!!i}),bj[t.type]&&this._model)){if(this[Rm])return void this._pendingActions.push(t);var r=i.silent;Sse.call(this,t,r);var o=i.flush;o?this._zr.flush():!1!==o&&jo.browser.weChat&&this._throttledZrFlush(),sE.call(this,r),lE.call(this,r)}},n.prototype.updateLabelLayout=function(){$g.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(t){if(!this._disposed){var i=t.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},n.internalField=function(){function t(m){for(var _=[],b=m.currentStates,S=0;S<b.length;S++){var M=b[S];"emphasis"===M||"blur"===M||"select"===M||_.push(M)}m.selected&&m.states.select&&_.push("select"),2===m.hoverState&&m.states.emphasis?_.push("emphasis"):1===m.hoverState&&m.states.blur&&_.push("blur"),m.useStates(_)}function o(m,_){m.preventAutoZ||l(_.group,m.get("z")||0,m.get("zlevel")||0,-1/0)}function l(m,_,b,S){var M=m.getTextContent(),O=m.getTextGuideLine();if(m.isGroup)for(var N=m.childrenRef(),V=0;V<N.length;V++)S=Math.max(l(N[V],_,b,S),S);else m.z=_,m.zlevel=b,S=Math.max(m.z2,S);if(M&&(M.z=_,M.zlevel=b,isFinite(S)&&(M.z2=S+2)),O){var G=m.textGuideLineConfig;O.z=_,O.zlevel=b,isFinite(S)&&(O.z2=S+(G&&G.showAbove?1:-1))}return S}function h(m,_){_.group.traverse(function(b){if(!UO(b)){var S=b.getTextContent(),M=b.getTextGuideLine();b.stateTransition&&(b.stateTransition=null),S&&S.stateTransition&&(S.stateTransition=null),M&&M.stateTransition&&(M.stateTransition=null),b.hasState()?(b.prevStates=b.currentStates,b.clearStates()):b.prevStates&&(b.prevStates=null)}})}function f(m,_){var b=m.getModel("stateAnimation"),S=m.isAnimationEnabled(),M=b.get("duration"),O=M>0?{duration:M,delay:b.get("delay"),easing:b.get("easing")}:null;_.group.traverse(function(I){if(I.states&&I.states.emphasis){if(UO(I))return;if(I instanceof us&&function wft(e){var n=Vye(e);n.normalFill=e.style.fill,n.normalStroke=e.style.stroke;var t=e.states.select||{};n.selectFill=t.style&&t.style.fill||null,n.selectStroke=t.style&&t.style.stroke||null}(I),I.__dirty){var N=I.prevStates;N&&I.useStates(N)}if(S){I.stateTransition=O;var V=I.getTextContent(),G=I.getTextGuideLine();V&&(V.stateTransition=O),G&&(G.stateTransition=O)}I.__dirty&&t(I)}})}ZS=function(m){var _=m._scheduler;_.restorePipelines(m._model),_.prepareStageTasks(),bse(m,!0),bse(m,!1),_.plan()},bse=function(m,_){for(var b=m._model,S=m._scheduler,M=_?m._componentsViews:m._chartsViews,O=_?m._componentsMap:m._chartsMap,I=m._zr,N=m._api,V=0;V<M.length;V++)M[V].__alive=!1;function G(K){var ne=K.__requireNewView;K.__requireNewView=!1;var ie="_ec_"+K.id+"_"+K.type,pe=!ne&&O[ie];if(!pe){var ve=Pm(K.type);(pe=new(_?r2.getClass(ve.main,ve.sub):ou.getClass(ve.sub))).init(b,N),O[ie]=pe,M.push(pe),I.add(pe.group)}K.__viewId=pe.__id=ie,pe.__alive=!0,pe.__model=K,pe.group.__ecComponentInfo={mainType:K.mainType,index:K.componentIndex},!_&&S.prepareView(pe,K,b,N)}for(_?b.eachComponent(function(K,ne){"series"!==K&&G(ne)}):b.eachSeries(G),V=0;V<M.length;){var X=M[V];X.__alive?V++:(!_&&X.renderTask.dispose(),I.remove(X.group),X.dispose(b,N),M.splice(V,1),O[X.__id]===X&&delete O[X.__id],X.__id=X.group.__ecComponentInfo=null)}},_j=function(m,_,b,S,M){var O=m._model;if(O.setUpdatePayload(b),S){var I={};I[S+"Id"]=b[S+"Id"],I[S+"Index"]=b[S+"Index"],I[S+"Name"]=b[S+"Name"];var N={mainType:S,query:I};M&&(N.subType=M);var G,V=b.excludeSeriesId;null!=V&&(G=Ji(),Ke(nu(V),function(K){var ne=Gg(K,null);null!=ne&&G.set(ne,!0)})),mae(b)&&e8e(m._api),O&&O.eachComponent(N,function(K){if(!G||null===G.get(K.id))if(mae(b))if(K instanceof $u)b.type===gx&&!b.notBlur&&function pft(e,n,t){var i=e.seriesIndex,r=e.getData(n.dataType),o=uW(r,n);o=(si(o)?o[0]:o)||0;var l=r.getItemGraphicEl(o);if(!l)for(var h=r.count(),f=0;!l&&f<h;)l=r.getItemGraphicEl(f++);if(l){var m=Hh(l);dae(i,m.focus,m.blurScope,t)}else{var _=e.get(["emphasis","focus"]),b=e.get(["emphasis","blurScope"]);null!=_&&dae(i,_,b,t)}}(K,b,m._api);else{var ie=pae(K.mainType,K.componentIndex,b.name,m._api),ve=ie.dispatchers;b.type===gx&&ie.focusSelf&&!b.notBlur&&fae(K.mainType,K.componentIndex,m._api),ve&&Ke(ve,function(ye){b.type===gx?uae(ye):hae(ye)})}else gae(b)&&K instanceof $u&&(function vft(e,n,t){if(gae(n)){var i=n.dataType,o=uW(e.getData(i),n);si(o)||(o=[o]),e[n.type===YO?"toggleSelect":n.type===HO?"select":"unselect"](o,i)}}(K,b),t8e(K),dp(m))},m),O&&O.eachComponent(N,function(K){G&&null!==G.get(K.id)||X(m["series"===S?"_chartsMap":"_componentsMap"][K.__viewId])},m)}else Ke([].concat(m._componentsViews).concat(m._chartsViews),X);function X(K){K&&K.__alive&&K[_]&&K[_](K.__model,O,m._api,b)}},n3={prepareAndUpdate:function(m){ZS(this),n3.update.call(this,m,{optionChanged:null!=m.newOption})},update:function(m,_){var b=this._model,S=this._api,M=this._zr,O=this._coordSysMgr,I=this._scheduler;if(b){b.setUpdatePayload(m),I.restoreData(b,m),I.performSeriesTasks(b),O.create(b,S),I.performDataProcessorTasks(b,m),wse(this,b),O.update(b,S),cE(b),I.performVisualTasks(b,m),Tse(this,b,S,m,_);var N=b.get("backgroundColor")||"transparent",V=b.get("darkMode");if(jo.canvasSupported)M.setBackgroundColor(N),null!=V&&"auto"!==V&&M.setDarkMode(V);else{var G=kd(N);N=zS(G,"rgb"),0===G[3]&&(N="transparent")}$g.trigger("afterupdate",b,S)}},updateTransform:function(m){var _=this,b=this._model,S=this._api;if(b){b.setUpdatePayload(m);var M=[];b.eachComponent(function(I,N){if("series"!==I){var V=_.getViewOfComponentModel(N);if(V&&V.__alive)if(V.updateTransform){var G=V.updateTransform(N,b,S,m);G&&G.update&&M.push(V)}else M.push(V)}});var O=Ji();b.eachSeries(function(I){var N=_._chartsMap[I.__viewId];if(N.updateTransform){var V=N.updateTransform(I,b,S,m);V&&V.update&&O.set(I.uid,1)}else O.set(I.uid,1)}),cE(b),this._scheduler.performVisualTasks(b,m,{setDirty:!0,dirtyMap:O}),yj(this,b,S,m,{},O),$g.trigger("afterupdate",b,S)}},updateView:function(m){var _=this._model;_&&(_.setUpdatePayload(m),ou.markUpdateMethod(m,"updateView"),cE(_),this._scheduler.performVisualTasks(_,m,{setDirty:!0}),Tse(this,_,this._api,m,{}),$g.trigger("afterupdate",_,this._api))},updateVisual:function(m){var _=this,b=this._model;b&&(b.setUpdatePayload(m),b.eachSeries(function(S){S.getData().clearAllVisual()}),ou.markUpdateMethod(m,"updateVisual"),cE(b),this._scheduler.performVisualTasks(b,m,{visualType:"visual",setDirty:!0}),b.eachComponent(function(S,M){if("series"!==S){var O=_.getViewOfComponentModel(M);O&&O.__alive&&O.updateVisual(M,b,_._api,m)}}),b.eachSeries(function(S){_._chartsMap[S.__viewId].updateVisual(S,b,_._api,m)}),$g.trigger("afterupdate",b,this._api))},updateLayout:function(m){n3.update.call(this,m)}},Cse=function(m,_,b,S){if(!m._disposed)for(var I,M=m._model,O=m._coordSysMgr.getCoordinateSystems(),N=Zoe(M,b),V=0;V<O.length;V++){var G=O[V];if(G[_]&&null!=(I=G[_](M,N,S)))return I}},wse=function(m,_){var b=m._chartsMap,S=m._scheduler;_.eachSeries(function(M){S.updateStreamModes(M,b[M.__viewId])})},Sse=function(m,_){var b=this,S=this.getModel(),M=m.type,O=m.escapeConnect,I=bj[M],N=I.actionInfo,V=(N.update||"update").split(":"),G=V.pop(),X=null!=V[0]&&Pm(V[0]);this[Rm]=!0;var K=[m],ne=!1;m.batch&&(ne=!0,K=Gi(m.batch,function(De){return(De=ya(Tn({},De),m)).batch=null,De}));var pe,ie=[],ve=gae(m),ye=mae(m);if(Ke(K,function(De){if((pe=(pe=I.action(De,b._model,b._api))||Tn({},De)).type=N.event||pe.type,ie.push(pe),ye){var Pe=vye(m),Oe=Pe.mainTypeSpecified?Pe.queryOptionMap.keys()[0]:"series";_j(b,G,De,Oe),dp(b)}else ve?(_j(b,G,De,"series"),dp(b)):X&&_j(b,G,De,X.main,X.sub)}),"none"!==G&&!ye&&!ve&&!X&&(this[hp]?(ZS(this),n3.update.call(this,m),this[hp]=null):n3[G].call(this,m)),pe=ne?{type:N.event||M,escapeConnect:O,batch:ie}:ie[0],this[Rm]=!1,!_){var Se=this._messageCenter;if(Se.trigger(pe.type,pe),ve){var xe={type:"selectchanged",escapeConnect:O,selected:_ft(S),isFromClick:m.isFromClick||!1,fromAction:m.type,fromActionPayload:m};Se.trigger(xe.type,xe)}}},sE=function(m){for(var _=this._pendingActions;_.length;){var b=_.shift();Sse.call(this,b,m)}},lE=function(m){!m&&this.trigger("updated")},N5e=function(m,_){m.on("rendered",function(b){_.trigger("rendered",b),m.animation.isFinished()&&!_[hp]&&!_._scheduler.unfinished&&!_._pendingActions.length&&_.trigger("finished")})},F5e=function(m,_){m.on("mouseover",function(b){var M=rj(b.target,i8e);M&&(function gft(e,n,t){var i=Hh(e),r=pae(i.componentMainType,i.componentIndex,i.componentHighDownName,t),o=r.dispatchers;o?(r.focusSelf&&fae(i.componentMainType,i.componentIndex,t),Ke(o,function(h){return Xye(h,n)})):(dae(i.seriesIndex,i.focus,i.blurScope,t),"self"===i.focus&&fae(i.componentMainType,i.componentIndex,t),Xye(e,n))}(M,b,_._api),dp(_))}).on("mouseout",function(b){var M=rj(b.target,i8e);M&&(function mft(e,n,t){e8e(t);var i=Hh(e),r=pae(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;r?Ke(r,function(o){return qye(o,n)}):qye(e,n)}(M,b,_._api),dp(_))}).on("click",function(b){var M=rj(b.target,function(N){return null!=Hh(N).dataIndex},!0);if(M){var O=M.selected?"unselect":"select",I=Hh(M);_._api.dispatchAction({type:O,dataType:I.dataType,dataIndexInside:I.dataIndex,seriesIndex:I.seriesIndex,isFromClick:!0})}})},cE=function(m){m.clearColorPalette(),m.eachSeries(function(_){_.clearColorPalette()})},Tse=function(m,_,b,S,M){B5e(m,_,b,S,M),Ke(m._chartsViews,function(O){O.__alive=!1}),yj(m,_,b,S,M),Ke(m._chartsViews,function(O){O.__alive||O.remove(_,b)})},B5e=function(m,_,b,S,M,O){Ke(O||m._componentsViews,function(I){var N=I.__model;h(0,I),I.render(N,_,b,S),o(N,I),f(N,I)})},yj=function(m,_,b,S,M,O){var I=m._scheduler;M=Tn(M||{},{updatedSeries:_.getSeries()}),$g.trigger("series:beforeupdate",_,b,M);var N=!1;_.eachSeries(function(V){var G=m._chartsMap[V.__viewId];G.__alive=!0;var X=G.renderTask;I.updatePayload(X,S),h(0,G),O&&O.get(V.uid)&&X.dirty(),X.perform(I.getPerformArgs(X))&&(N=!0),G.group.silent=!!V.get("silent"),function r(m,_){var b=m.get("blendMode")||null;_.group.traverse(function(S){S.isGroup||(S.style.blend=b),S.eachPendingDisplayable&&S.eachPendingDisplayable(function(M){M.style.blend=b})})}(V,G),t8e(V)}),I.unfinished=N||I.unfinished,$g.trigger("series:layoutlabels",_,b,M),$g.trigger("series:transition",_,b,M),_.eachSeries(function(V){var G=m._chartsMap[V.__viewId];o(V,G),f(V,G)}),function i(m,_){var M=0;m._zr.storage.traverse(function(O){O.isGroup||M++}),M>_.get("hoverLayerThreshold")&&!jo.node&&!jo.worker&&_.eachSeries(function(O){if(!O.preventUsingHoverLayer){var I=m._chartsMap[O.__viewId];I.__alive&&I.group.traverse(function(N){N.states.emphasis&&(N.states.emphasis.hoverLayer=!0)})}})}(m,_),$g.trigger("series:afterupdate",_,b,M)},dp=function(m){m[yse]=!0,m.getZr().wakeUp()},Y5e=function(m){m[yse]&&(m.getZr().storage.traverse(function(_){UO(_)||t(_)}),m[yse]=!1)},V5e=function(m){return new(function(_){function b(){return null!==_&&_.apply(this,arguments)||this}return Bh(b,_),b.prototype.getCoordinateSystems=function(){return m._coordSysMgr.getCoordinateSystems()},b.prototype.getComponentByElement=function(S){for(;S;){var M=S.__ecComponentInfo;if(null!=M)return m._model.getComponent(M.mainType,M.index);S=S.parent}},b.prototype.enterEmphasis=function(S,M){uae(S,M),dp(m)},b.prototype.leaveEmphasis=function(S,M){hae(S,M),dp(m)},b.prototype.enterBlur=function(S){(function fft(e){Jv(e,lae)})(S),dp(m)},b.prototype.leaveBlur=function(S){Zye(S),dp(m)},b.prototype.enterSelect=function(S){Kye(S),dp(m)},b.prototype.leaveSelect=function(S){Qye(S),dp(m)},b.prototype.getModel=function(){return m.getModel()},b.prototype.getViewOfComponentModel=function(S){return m.getViewOfComponentModel(S)},b.prototype.getViewOfSeriesModel=function(S){return m.getViewOfSeriesModel(S)},b}(u6e))(m)}}(),n}(Mm),Mse=xj.prototype;Mse.on=O5e("on"),Mse.off=O5e("off"),Mse.one=function(e,n,t){var i=this;this.on.call(this,e,function r(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];n&&n.apply&&n.apply(this,o),i.off(e,r)},t)};var C0t=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],bj={},uE={},Dse=[],Pse=[],Cj=[],U5e={},Ase={},Ax={},wj={},zse=(new Date,new Date,"_echarts_instance_");function W5e(e,n){U5e[e]=n}function kse(e){xa(Pse,e)<0&&Pse.push(e)}function j5e(e,n){Ese(Dse,e,n,2e3)}function $5e(e){Ose("afterinit",e)}function X5e(e){Ose("afterupdate",e)}function Ose(e,n){$g.on(e,n)}function KS(e,n,t){"function"==typeof n&&(t=n,n="");var i=Xi(e)?e.type:[e,e={event:n}][0];e.event=(e.event||i).toLowerCase(),!uE[n=e.event]&&(Bg(z5e.test(i)&&z5e.test(n)),bj[i]||(bj[i]={action:t,actionInfo:e}),uE[n]=i)}function q5e(e){var n=jW.get(e);if(n)return n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice()}function zx(e,n){Ese(Cj,e,n,3e3,"visual")}var Z5e=[];function Ese(e,n,t,i,r){if((zc(n)||Xi(n))&&(t=n,n=i),!(xa(Z5e,t)>=0)){Z5e.push(t);var o=cxe.wrapStageHandler(t,r);o.__prio=n,o.__raw=t,e.push(o)}}function K5e(e,n){Ase[e]=n}function Ise(e){return function(e){var n=aE.get(e);return n&&"geoJSON"===n.type&&n.getMapForUser()}(e)}function hE(e){return null==e?0:e.length||1}function Q5e(e){return e}zx(2e3,Kgt),zx(4500,Qgt),zx(4500,Jgt),zx(2e3,g1t),zx(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){if(e.hasSymbolVisual&&!n.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function i(r,o){var l=r.getItemModel(o),h=l.getShallow("symbol",!0),f=l.getShallow("symbolSize",!0),m=l.getShallow("symbolRotate",!0),_=l.getShallow("symbolOffset",!0),b=l.getShallow("symbolKeepAspect",!0);null!=h&&r.setItemVisual(o,"symbol",h),null!=f&&r.setItemVisual(o,"symbolSize",f),null!=m&&r.setItemVisual(o,"symbolRotate",m),null!=_&&r.setItemVisual(o,"symbolOffset",_),null!=b&&r.setItemVisual(o,"symbolKeepAspect",b)}:null}}}),zx(7e3,function Pmt(e,n){e.eachRawSeries(function(t){if(!e.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(l){var h=i.getItemVisual(l,"decal");h&&(i.ensureUniqueItemVisual(l,"style").decal=n5e(h,n))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=n5e(r,n))}})}),kse(v6e),j5e(900,function igt(e){var n=Ji();e.eachSeries(function(t){var i=t.get("stack");if(i){var r=n.get(i)||n.set(i,[]),o=t.getData(),l={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!l.stackedDimension||!l.isStackedByIndex&&!l.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(l)}}),n.each(rgt)}),K5e("default",function t1t(e,n){ya(n=n||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Dm,i=new Id({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});t.add(i);var l,r=new yx({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),o=new Id({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});return t.add(o),n.showSpinner&&((l=new oxe({shape:{startAngle:-tj/2,endAngle:-tj/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*tj/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:3*tj/2}).delay(300).start("circularInOut"),t.add(l)),t.resize=function(){var h=r.getBoundingRect().width,f=n.showSpinner?n.spinnerRadius:0,m=(e.getWidth()-2*f-(n.showSpinner&&h?10:0)-h)/2-(n.showSpinner&&h?0:5+h/2)+(n.showSpinner?0:h/2)+(h?0:f),_=e.getHeight()/2;n.showSpinner&&l.setShape({cx:m,cy:_}),o.setShape({x:m-f,y:_-f,width:2*f,height:2*f}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},t.resize(),t}),KS({type:gx,event:gx,update:gx},qv),KS({type:TW,event:TW,update:TW},qv),KS({type:HO,event:HO,update:HO},qv),KS({type:MW,event:MW,update:MW},qv),KS({type:YO,event:YO,update:YO},qv),W5e("light",d1t),W5e("dark",f1t);var z0t=function(){function e(n,t,i,r,o,l){this._old=n,this._new=t,this._oldKeyGetter=i||Q5e,this._newKeyGetter=r||Q5e,this.context=o,this._diffModeMultiple="multiple"===l}return e.prototype.add=function(n){return this._add=n,this},e.prototype.update=function(n){return this._update=n,this},e.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},e.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},e.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},e.prototype.remove=function(n){return this._remove=n,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var n=this._old,t=this._new,i={},r=new Array(n.length),o=new Array(t.length);this._initIndexMap(n,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var l=0;l<n.length;l++){var h=r[l],f=i[h],m=hE(f);if(m>1){var _=f.shift();1===f.length&&(i[h]=f[0]),this._update&&this._update(_,l)}else 1===m?(i[h]=null,this._update&&this._update(f,l)):this._remove&&this._remove(l)}this._performRestAdd(o,i)},e.prototype._executeMultiple=function(){var t=this._new,i={},r={},o=[],l=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,l,"_newKeyGetter");for(var h=0;h<o.length;h++){var f=o[h],m=i[f],_=r[f],b=hE(m),S=hE(_);if(b>1&&1===S)this._updateManyToOne&&this._updateManyToOne(_,m),r[f]=null;else if(1===b&&S>1)this._updateOneToMany&&this._updateOneToMany(_,m),r[f]=null;else if(1===b&&1===S)this._update&&this._update(_,m),r[f]=null;else if(b>1&&S>1)this._updateManyToMany&&this._updateManyToMany(_,m),r[f]=null;else if(b>1)for(var M=0;M<b;M++)this._remove&&this._remove(m[M]);else this._remove&&this._remove(m)}this._performRestAdd(l,r)},e.prototype._performRestAdd=function(n,t){for(var i=0;i<n.length;i++){var r=n[i],o=t[r],l=hE(o);if(l>1)for(var h=0;h<l;h++)this._add&&this._add(o[h]);else 1===l&&this._add&&this._add(o);t[r]=null}},e.prototype._initIndexMap=function(n,t,i,r){for(var o=this._diffModeMultiple,l=0;l<n.length;l++){var h="_ec_"+this[r](n[l],l);if(o||(i[l]=h),t){var f=t[h],m=hE(f);0===m?(t[h]=l,o&&i.push(h)):1===m?t[h]=[f,l]:f.push(l)}}},e}();const k0t=z0t;var O0t=function(){function e(n,t){this._encode=n,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Lse(e,n){return e.hasOwnProperty(n)||(e[n]=[]),e[n]}const Sj=function e(n){this.otherDims={},null!=n&&Tn(this,n)};var N0t=Ql(),F0t={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},J5e=function(){function e(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=nbe(this.source)))},e.prototype.getSourceDimensionIndex=function(n){return Ro(this._dimNameMap.get(n),-1)},e.prototype.getSourceDimension=function(n){var t=this.source.dimensionsDefine;if(t)return t[n]},e.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,t=b6e(this.source),i=!ibe(n),r="",o=[],l=0,h=0;l<n;l++){var f=void 0,m=void 0,_=void 0,b=this.dimensions[h];if(b&&b.storeDimIndex===l)f=t?b.name:null,m=b.type,_=b.ordinalMeta,h++;else{var S=this.getSourceDimension(l);S&&(f=t?S.name:null,m=S.type)}o.push({property:f,type:m,ordinalMeta:_}),t&&null!=f&&(!b||!b.isCalculationCoord)&&(r+=i?f.replace(/\`/g,"`1").replace(/\$/g,"`2"):f),r+="$",r+=F0t[m]||"f",_&&(r+=_.uid),r+="$"}var M=this.source;return{dimensions:o,hash:[M.seriesLayoutBy,M.startIndex,r].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var n=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var l=this.getSourceDimension(t);l&&(r=l.name)}n.push(r)}return n},e.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function ebe(e){return e instanceof J5e}function tbe(e){for(var n=Ji(),t=0;t<(e||[]).length;t++){var i=e[t],r=Xi(i)?i.name:i;null!=r&&null==n.get(r)&&n.set(r,t)}return n}function nbe(e){var n=N0t(e);return n.dimNameMap||(n.dimNameMap=tbe(e.dimensionsDefine))}function ibe(e){return e>30}var obe,Tj,fE,pE,Rse,Mj,Nse,dE=Xi,r3=Gi,B0t=typeof Int32Array>"u"?Array:Int32Array,H0t=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Y0t=["_approximateExtent"],U0t=function(){function e(n,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,r=!1;ebe(n)?(i=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(r=!0,i=n),i=i||["x","y"];for(var o={},l=[],h={},f=!1,m={},_=0;_<i.length;_++){var b=i[_],S=js(b)?new Sj({name:b}):b instanceof Sj?b:new Sj(b),M=S.name;S.type=S.type||"float",S.coordDim||(S.coordDim=M,S.coordDimIndex=0);var O=S.otherDims=S.otherDims||{};l.push(M),o[M]=S,null!=m[M]&&(f=!0),S.createInvertedIndices&&(h[M]=[]),0===O.itemName&&(this._nameDimIdx=_),0===O.itemId&&(this._idDimIdx=_),r&&(S.storeDimIndex=_)}if(this.dimensions=l,this._dimInfos=o,this._initGetDimensionInfo(f),this.hostModel=t,this._invertedIndicesMap=h,this._dimOmitted){var I=this._dimIdxToName=Ji();Ke(l,function(N){I.set(o[N].storeDimIndex,N)})}}return e.prototype.getDimension=function(n){var t=this._recognizeDimIndex(n);if(null==t)return n;if(t=n,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},e.prototype.getDimensionIndex=function(n){var t=this._recognizeDimIndex(n);if(null!=t)return t;if(null==n)return-1;var i=this._getDimInfo(n);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},e.prototype._recognizeDimIndex=function(n){if("number"==typeof n||null!=n&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},e.prototype._getStoreDimIndex=function(n){return this.getDimensionIndex(n)},e.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},e.prototype._initGetDimensionInfo=function(n){var t=this._dimInfos;this._getDimInfo=n?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(n,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[n];var r=i.encode[n];return r?r[t]:null},e.prototype.mapDimensionsAll=function(n){return(this._dimSummary.encode[n]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(n,t,i){var o,r=this;if(n instanceof qae&&(o=n),!o){var l=this.dimensions,h=Vae(n)||Fg(n)?new S6e(n,l.length):n;o=new qae;var f=r3(l,function(m){return{type:r._dimInfos[m].type,property:m}});o.initData(h,f,i)}this._store=o,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function E0t(e,n){var t={},i=t.encode={},r=Ji(),o=[],l=[],h={};Ke(e.dimensions,function(S){var M=e.getDimensionInfo(S),O=M.coordDim;if(O){var I=M.coordDimIndex;Lse(i,O)[I]=S,M.isExtraCoord||(r.set(O,1),function L0t(e){return!("ordinal"===e||"time"===e)}(M.type)&&(o[0]=S),Lse(h,O)[I]=e.getDimensionIndex(M.name)),M.defaultTooltip&&l.push(S)}q8e.each(function(N,V){var G=Lse(i,V),X=M.otherDims[V];null!=X&&!1!==X&&(G[X]=M.name)})});var f=[],m={};r.each(function(S,M){var O=i[M];m[M]=O[0],f=f.concat(O)}),t.dataDimsOnCoord=f,t.dataDimIndicesOnCoord=Gi(f,function(S){return e.getDimensionInfo(S).storeDimIndex}),t.encodeFirstDimNotExtra=m;var _=i.label;_&&_.length&&(o=_.slice());var b=i.tooltip;return b&&b.length?l=b.slice():l.length||(l=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=l,t.userOutput=new O0t(h,n),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(n){var t=this._store.appendData(n);this._doInit(t[0],t[1])},e.prototype.appendValues=function(n,t){var i=this._store.appendValues(n,t.length),r=i.start,o=i.end,l=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var h=r;h<o;h++)this._nameList[h]=t[h-r],l&&Nse(this,h)},e.prototype._updateOrdinalMeta=function(){for(var n=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&n.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return null==this._idDimIdx&&n.getSource().sourceFormat!==t2&&!n.fillStorage},e.prototype._doInit=function(n,t){if(!(n>=t)){var r=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,l=this._idList;if(r.getSource().sourceFormat===lp&&!r.pure)for(var m=[],_=n;_<t;_++){var b=r.getItem(_,m);if(!this.hasItemOption&&ldt(b)&&(this.hasItemOption=!0),b){var S=b.name;null==o[_]&&null!=S&&(o[_]=Gg(S,null));var M=b.id;null==l[_]&&null!=M&&(l[_]=Gg(M,null))}}if(this._shouldMakeIdFromName())for(_=n;_<t;_++)Nse(this,_);obe(this)}},e.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},e.prototype.setApproximateExtent=function(n,t){t=this.getDimension(t),this._approximateExtent[t]=n.slice()},e.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},e.prototype.setCalculationInfo=function(n,t){dE(n)?Tn(this._calculationInfo,n):this._calculationInfo[n]=t},e.prototype.getName=function(n){var t=this.getRawIndex(n),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=fE(this,this._nameDimIdx,t)),null==i&&(i=""),i},e.prototype._getCategory=function(n,t){var i=this._store.get(n,t),r=this._store.getOrdinalMeta(n);return r?r.categories[i]:i},e.prototype.getId=function(n){return Tj(this,this.getRawIndex(n))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(n,t){var r=this._dimInfos[n];if(r)return this._store.get(r.storeDimIndex,t)},e.prototype.getByRawIndex=function(n,t){var r=this._dimInfos[n];if(r)return this._store.getByRawIndex(r.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},e.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},e.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},e.prototype.getValues=function(n,t){var i=this,r=this._store;return si(n)?r.getValues(r3(n,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(n)},e.prototype.hasValue=function(n){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],n)))return!1;return!0},e.prototype.indexOfName=function(n){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===n)return t;return-1},e.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},e.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},e.prototype.rawIndexOf=function(n,t){var r=(n&&this._invertedIndicesMap[n])[t];return null==r||isNaN(r)?-1:r},e.prototype.indicesOfNearest=function(n,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(n),t,i)},e.prototype.each=function(n,t,i){"function"==typeof n&&(i=t,t=n,n=[]);var r=i||this,o=r3(pE(n),this._getStoreDimIndex,this);this._store.each(o,r?Vh(t,r):t)},e.prototype.filterSelf=function(n,t,i){"function"==typeof n&&(i=t,t=n,n=[]);var r=i||this,o=r3(pE(n),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?Vh(t,r):t),this},e.prototype.selectRange=function(n){var t=this,i={},r=ja(n),o=[];return Ke(r,function(l){var h=t._getStoreDimIndex(l);i[h]=n[l],o.push(h)}),this._store=this._store.selectRange(i),this},e.prototype.mapArray=function(n,t,i){"function"==typeof n&&(i=t,t=n,n=[]);var r=[];return this.each(n,function(){r.push(t&&t.apply(this,arguments))},i=i||this),r},e.prototype.map=function(n,t,i,r){var o=i||r||this,l=r3(pE(n),this._getStoreDimIndex,this),h=Mj(this);return h._store=this._store.map(l,o?Vh(t,o):t),h},e.prototype.modify=function(n,t,i,r){var l=i||r||this,h=r3(pE(n),this._getStoreDimIndex,this);this._store.modify(h,l?Vh(t,l):t)},e.prototype.downSample=function(n,t,i,r){var o=Mj(this);return o._store=this._store.downSample(this._getStoreDimIndex(n),t,i,r),o},e.prototype.lttbDownSample=function(n,t){var i=Mj(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(n),t),i},e.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},e.prototype.getItemModel=function(n){var t=this.hostModel,i=this.getRawDataItem(n);return new ju(i,t,t&&t.ecModel)},e.prototype.diff=function(n){var t=this;return new k0t(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(i){return Tj(n,i)},function(i){return Tj(t,i)})},e.prototype.getVisual=function(n){var t=this._visual;return t&&t[n]},e.prototype.setVisual=function(n,t){this._visual=this._visual||{},dE(n)?Tn(this._visual,n):this._visual[n]=t},e.prototype.getItemVisual=function(n,t){var i=this._itemVisuals[n];return(i&&i[t])??this.getVisual(t)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(n,t){var i=this._itemVisuals,r=i[n];r||(r=i[n]={});var o=r[t];return null==o&&(si(o=this.getVisual(t))?o=o.slice():dE(o)&&(o=Tn({},o)),r[t]=o),o},e.prototype.setItemVisual=function(n,t,i){var r=this._itemVisuals[n]||{};this._itemVisuals[n]=r,dE(t)?Tn(r,t):r[t]=i},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(n,t){if(dE(n))for(var i in n)n.hasOwnProperty(i)&&this.setLayout(i,n[i]);else this._layout[n]=t},e.prototype.getLayout=function(n){return this._layout[n]},e.prototype.getItemLayout=function(n){return this._itemLayouts[n]},e.prototype.setItemLayout=function(n,t,i){this._itemLayouts[n]=i?Tn(this._itemLayouts[n]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(n,t){(function(e,n,t,i){if(i){var r=Hh(i);r.dataIndex=t,r.dataType=n,r.seriesIndex=e,"group"===i.type&&i.traverse(function(o){var l=Hh(o);l.seriesIndex=e,l.dataIndex=t,l.dataType=n})}})(this.hostModel&&this.hostModel.seriesIndex,this.dataType,n,t),this._graphicEls[n]=t},e.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},e.prototype.eachItemGraphicEl=function(n,t){Ke(this._graphicEls,function(i,r){i&&n&&n.call(t,i,r)})},e.prototype.cloneShallow=function(n){return n||(n=new e(this._schema?this._schema:r3(this.dimensions,this._getDimInfo,this),this.hostModel)),Rse(n,this),n._store=this._store,n},e.prototype.wrapMethod=function(n,t){var i=this[n];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(roe(arguments)))})},e.internalField=(obe=function(n){var t=n._invertedIndicesMap;Ke(t,function(i,r){var o=n._dimInfos[r],l=o.ordinalMeta,h=n._store;if(l){i=t[r]=new B0t(l.categories.length);for(var f=0;f<i.length;f++)i[f]=-1;for(f=0;f<h.count();f++)i[h.get(o.storeDimIndex,f)]=f}})},fE=function(n,t,i){return Gg(n._getCategory(t,i),null)},Tj=function(n,t){var i=n._idList[t];return null==i&&null!=n._idDimIdx&&(i=fE(n,n._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},pE=function(n){return si(n)||(n=null!=n?[n]:[]),n},Mj=function(n){var t=new e(n._schema?n._schema:r3(n.dimensions,n._getDimInfo,n),n.hostModel);return Rse(t,n),t},Rse=function(n,t){Ke(H0t.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n.__wrappedMethods=t.__wrappedMethods,Ke(Y0t,function(i){n[i]=ho(t[i])}),n._calculationInfo=Tn({},t._calculationInfo)},void(Nse=function(n,t){var i=n._nameList,r=n._idList,o=n._nameDimIdx,l=n._idDimIdx,h=i[t],f=r[t];if(null==h&&null!=o&&(i[t]=h=fE(n,o,t)),null==f&&null!=l&&(r[t]=f=fE(n,l,t)),null==f&&null!=h){var m=n._nameRepeatCount,_=m[h]=(m[h]||0)+1;f=h,_>1&&(f+="__ec__"+_),r[t]=f}})),e}();const Xg=U0t;function gE(e,n){return abe(e,n).dimensions}function abe(e,n){Vae(e)||(e=Yae(e));var t=(n=n||{}).coordDimensions||[],i=n.dimensionsDefine||e.dimensionsDefine||[],r=Ji(),o=[],l=function W0t(e,n,t,i){var r=Math.max(e.dimensionsDetectedCount||1,n.length,t.length,i||0);return Ke(n,function(o){var l;Xi(o)&&(l=o.dimsDef)&&(r=Math.max(r,l.length))}),r}(e,t,i,n.dimensionsCount),h=n.canOmitUnusedDimensions&&ibe(l),f=i===e.dimensionsDefine,m=f?nbe(e):tbe(i),_=n.encodeDefine;!_&&n.encodeDefaulter&&(_=n.encodeDefaulter(e,l));for(var b=Ji(_),S=new E6e(l),M=0;M<S.length;M++)S[M]=-1;function O(ye){var Se=S[ye];if(Se<0){var xe=i[ye],De=Xi(xe)?xe:{name:xe},Pe=new Sj,Re=De.name;return null!=Re&&null!=m.get(Re)&&(Pe.name=Pe.displayName=Re),null!=De.type&&(Pe.type=De.type),null!=De.displayName&&(Pe.displayName=De.displayName),S[ye]=o.length,Pe.storeDimIndex=ye,o.push(Pe),Pe}return o[Se]}if(!h)for(M=0;M<l;M++)O(M);b.each(function(ye,Se){var xe=nu(ye).slice();if(1===xe.length&&!js(xe[0])&&xe[0]<0)b.set(Se,!1);else{var De=b.set(Se,[]);Ke(xe,function(Pe,Re){var ke=js(Pe)?m.get(Pe):Pe;null!=ke&&ke<l&&(De[Re]=ke,N(O(ke),Se,Re))})}});var I=0;function N(ye,Se,xe){null!=q8e.get(Se)?ye.otherDims[Se]=xe:(ye.coordDim=Se,ye.coordDimIndex=xe,r.set(Se,!0))}Ke(t,function(ye){var Se,xe,De,Pe;if(js(ye))Se=ye,Pe={};else{Se=(Pe=ye).name;var Re=Pe.ordinalMeta;Pe.ordinalMeta=null,(Pe=Tn({},Pe)).ordinalMeta=Re,xe=Pe.dimsDef,De=Pe.otherDims,Pe.name=Pe.coordDim=Pe.coordDimIndex=Pe.dimsDef=Pe.otherDims=null}var ke=b.get(Se);if(!1!==ke){if(!(ke=nu(ke)).length)for(var Oe=0;Oe<(xe&&xe.length||1);Oe++){for(;I<l&&null!=O(I).coordDim;)I++;I<l&&ke.push(I++)}Ke(ke,function(Ye,Ge){var ct=O(Ye);if(f&&null!=Pe.type&&(ct.type=Pe.type),N(ya(ct,Pe),Se,Ge),null==ct.name&&xe){var We=xe[Ge];!Xi(We)&&(We={name:We}),ct.name=ct.displayName=We.name,ct.defaultTooltip=We.defaultTooltip}De&&ya(ct.otherDims,De)})}});var V=n.generateCoord,G=n.generateCoordCount,X=null!=G;G=V?G||1:0;var K=V||"value";function ne(ye){null==ye.name&&(ye.name=ye.coordDim)}if(h)Ke(o,function(ye){ne(ye)}),o.sort(function(ye,Se){return ye.storeDimIndex-Se.storeDimIndex});else for(var ie=0;ie<l;ie++){var pe=O(ie);null==pe.coordDim&&(pe.coordDim=j0t(K,r,X),pe.coordDimIndex=0,(!V||G<=0)&&(pe.isExtraCoord=!0),G--),ne(pe),null==pe.type&&(1===Q8e(e,ie)||pe.isExtraCoord&&(null!=pe.otherDims.itemName||null!=pe.otherDims.seriesName))&&(pe.type="ordinal")}return function G0t(e){for(var n=Ji(),t=0;t<e.length;t++){var i=e[t],r=i.name,o=n.get(r)||0;o>0&&(i.name=r+(o-1)),o++,n.set(r,o)}}(o),new J5e({source:e,dimensions:o,fullDimensionCount:l,dimensionOmitted:h})}function j0t(e,n,t){var i=n.data;if(t||i.hasOwnProperty(e)){for(var r=0;i.hasOwnProperty(e+r);)r++;e+=r}return n.set(e,!0),e}var $0t=function e(n){this.coordSysDims=[],this.axisMap=Ji(),this.categoryAxisMap=Ji(),this.coordSysName=n},q0t={cartesian2d:function(e,n,t,i){var r=e.getReferringComponents("xAxis",rx).models[0],o=e.getReferringComponents("yAxis",rx).models[0];n.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),QS(r)&&(i.set("x",r),n.firstCategoryDimIndex=0),QS(o)&&(i.set("y",o),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},singleAxis:function(e,n,t,i){var r=e.getReferringComponents("singleAxis",rx).models[0];n.coordSysDims=["single"],t.set("single",r),QS(r)&&(i.set("single",r),n.firstCategoryDimIndex=0)},polar:function(e,n,t,i){var r=e.getReferringComponents("polar",rx).models[0],o=r.findAxisModel("radiusAxis"),l=r.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",l),QS(o)&&(i.set("radius",o),n.firstCategoryDimIndex=0),QS(l)&&(i.set("angle",l),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},geo:function(e,n,t,i){n.coordSysDims=["lng","lat"]},parallel:function(e,n,t,i){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),l=n.coordSysDims=o.dimensions.slice();Ke(o.parallelAxisIndex,function(h,f){var m=r.getComponent("parallelAxis",h),_=l[f];t.set(_,m),QS(m)&&(i.set(_,m),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=f))})}};function QS(e){return"category"===e.get("type")}function sbe(e,n,t){var o,l,h,i=(t=t||{}).byIndex,r=t.stackedCoordDimension;!function Z0t(e){return!ebe(e.schema)}(n)?(o=(l=n.schema).dimensions,h=n.store):o=n;var m,_,b,S,f=!(!e||!e.get("stack"));if(Ke(o,function(G,X){js(G)&&(o[X]=G={name:G}),f&&!G.isExtraCoord&&(!i&&!m&&G.ordinalMeta&&(m=G),!_&&"ordinal"!==G.type&&"time"!==G.type&&(!r||r===G.coordDim)&&(_=G))}),_&&!i&&!m&&(i=!0),_){b="__\0ecstackresult_"+e.id,S="__\0ecstackedover_"+e.id,m&&(m.createInvertedIndices=!0);var M=_.coordDim,O=_.type,I=0;Ke(o,function(G){G.coordDim===M&&I++});var N={name:b,coordDim:M,coordDimIndex:I,type:O,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},V={name:S,coordDim:S,coordDimIndex:I+1,type:O,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};l?(h&&(N.storeDimIndex=h.ensureCalculationDimension(S,O),V.storeDimIndex=h.ensureCalculationDimension(b,O)),l.appendCalculationDimension(N),l.appendCalculationDimension(V)):(o.push(N),o.push(V))}return{stackedDimension:_&&_.name,stackedByDimension:m&&m.name,isStackedByIndex:i,stackedOverDimension:S,stackResultDimension:b}}function lbe(e,n){return!!n&&n===e.getCalculationInfo("stackedDimension")}var cbe=function(){function e(n){this._setting=n||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(n){return this._setting[n]},e.prototype.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]),n[1]>t[1]&&(t[1]=n[1])},e.prototype.unionExtentFromData=function(n,t){this.unionExtent(n.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(n,t){var i=this._extent;isNaN(n)||(i[0]=n),isNaN(t)||(i[1]=t)},e.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(n){this._isBlank=n},e}();dW(cbe);const o2=cbe;var rvt=0,ovt=function(){function e(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++rvt}return e.createByAxisModel=function(n){var t=n.option,i=t.data,r=i&&Gi(i,avt);return new e({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})},e.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},e.prototype.parseAndCollect=function(n){var t,i=this._needCollect;if("string"!=typeof n&&!i)return n;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=n,t;var r=this._getOrCreateMap();return null==(t=r.get(n))&&(i?(this.categories[t=this.categories.length]=n,r.set(n,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Ji(this.categories))},e}();function avt(e){return Xi(e)&&null!=e.value?e.value:e+""}const Fse=ovt;var ube=Gu;function hbe(e){return Zv(e)+2}function dbe(e,n,t){e[n]=Math.max(Math.min(e[n],t[1]),t[0])}function Dj(e,n){return e>=n[0]&&e<=n[1]}function Pj(e,n){return n[1]===n[0]?.5:(e-n[0])/(n[1]-n[0])}function Aj(e,n){return e*(n[1]-n[0])+n[0]}var fbe=function(e){function n(t){var i=e.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Fse({})),si(r)&&(r=new Fse({categories:Gi(r,function(o){return Xi(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return Bh(n,e),n.prototype.parse=function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},n.prototype.contain=function(t){return Dj(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},n.prototype.normalize=function(t){return Pj(t=this._getTickNumber(this.parse(t)),this._extent)},n.prototype.scale=function(t){return t=Math.round(Aj(t,this._extent)),this.getRawOrdinalNumber(t)},n.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},n.prototype.getMinorTicks=function(t){},n.prototype.setSortInfo=function(t){if(null!=t){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],l=0,h=this._ordinalMeta.categories.length,f=Math.min(h,i.length);l<f;++l){var m=i[l];r[l]=m,o[m]=l}for(var _=0;l<h;++l){for(;null!=o[_];)_++;r.push(_),o[_]=l}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},n.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},n.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},n.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},n.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.niceTicks=function(){},n.prototype.niceExtent=function(){},n.type="ordinal",n}(o2);o2.registerClass(fbe);const cvt=fbe;var kx=Gu,pbe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return Bh(n,e),n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return Dj(t,this._extent)},n.prototype.normalize=function(t){return Pj(t,this._extent)},n.prototype.scale=function(t){return Aj(t,this._extent)},n.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},n.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=hbe(t)},n.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,l=this._intervalPrecision,h=[];if(!i)return h;r[0]<o[0]&&h.push(t?{value:kx(o[0]-i,l)}:{value:r[0]});for(var m=o[0];m<=o[1]&&(h.push({value:m}),(m=kx(m+i,l))!==h[h.length-1].value);)if(h.length>1e4)return[];var _=h.length?h[h.length-1].value:o[1];return r[1]>_&&h.push(t?{value:kx(_+i,l)}:{value:r[1]}),h},n.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),l=1;l<i.length;l++){for(var f=i[l-1],m=0,_=[],S=(i[l].value-f.value)/t;m<t-1;){var M=kx(f.value+(m+1)*S);M>o[0]&&M<o[1]&&_.push(M),m++}r.push(_)}return r},n.prototype.getLabel=function(t,i){if(null==t)return"";var r=i&&i.precision;return null==r?r=Zv(t.value)||0:"auto"===r&&(r=this._intervalPrecision),VW(kx(t.value,r,!0))},n.prototype.niceTicks=function(t,i,r){t=t||5;var o=this._extent,l=o[1]-o[0];if(isFinite(l)){l<0&&(l=-l,o.reverse());var h=function svt(e,n,t,i){var r={},l=r.interval=sye((e[1]-e[0])/n,!0);null!=t&&l<t&&(l=r.interval=t),null!=i&&l>i&&(l=r.interval=i);var h=r.intervalPrecision=hbe(l);return function lvt(e,n){!isFinite(e[0])&&(e[0]=n[0]),!isFinite(e[1])&&(e[1]=n[1]),dbe(e,0,n),dbe(e,1,n),e[0]>e[1]&&(e[0]=e[1])}(r.niceTickExtent=[ube(Math.ceil(e[0]/l)*l,h),ube(Math.floor(e[1]/l)*l,h)],e),r}(o,t,i,r);this._intervalPrecision=h.intervalPrecision,this._interval=h.interval,this._niceExtent=h.niceTickExtent}},n.prototype.niceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var l=this._interval;t.fixMin||(i[0]=kx(Math.floor(i[0]/l)*l)),t.fixMax||(i[1]=kx(Math.ceil(i[1]/l)*l))},n.type="interval",n}(o2);o2.registerClass(pbe);const zj=pbe;function Hse(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function Yse(e){return e.dim+e.index}function Use(e){var n=function uvt(e){var n={};Ke(e,function(f){var _=f.coordinateSystem.getBaseAxis();if("time"===_.type||"value"===_.type)for(var b=f.getData(),S=_.dim+"_"+_.index,M=b.getDimensionIndex(b.mapDimension(_.dim)),O=b.getStore(),I=0,N=O.count();I<N;++I){var V=O.get(M,I);n[S]?n[S].push(V):n[S]=[V]}});var t={};for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r){r.sort(function(f,m){return f-m});for(var o=null,l=1;l<r.length;++l){var h=r[l]-r[l-1];h>0&&(o=null===o?h:Math.min(o,h))}t[i]=o}}return t}(e),t=[];return Ke(e,function(i){var h,o=i.coordinateSystem.getBaseAxis(),l=o.getExtent();if("category"===o.type)h=o.getBandWidth();else if("value"===o.type||"time"===o.type){var m=n[o.dim+"_"+o.index],_=Math.abs(l[1]-l[0]),b=o.scale.getExtent(),S=Math.abs(b[1]-b[0]);h=m?_/S*m:_}else{var M=i.getData();h=Math.abs(l[1]-l[0])/M.count()}var O=Ed(i.get("barWidth"),h),I=Ed(i.get("barMaxWidth"),h),N=Ed(i.get("barMinWidth")||1,h),V=i.get("barGap"),G=i.get("barCategoryGap");t.push({bandWidth:h,barWidth:O,barMaxWidth:I,barMinWidth:N,barGap:V,barCategoryGap:G,axisKey:Yse(o),stackId:Hse(i)})}),function vbe(e){var n={};Ke(e,function(i,r){var o=i.axisKey,l=i.bandWidth,h=n[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},f=h.stacks;n[o]=h;var m=i.stackId;f[m]||h.autoWidthCount++,f[m]=f[m]||{width:0,maxWidth:0};var _=i.barWidth;_&&!f[m].width&&(f[m].width=_,_=Math.min(h.remainedWidth,_),h.remainedWidth-=_);var b=i.barMaxWidth;b&&(f[m].maxWidth=b);var S=i.barMinWidth;S&&(f[m].minWidth=S);var M=i.barGap;null!=M&&(h.gap=M);var O=i.barCategoryGap;null!=O&&(h.categoryGap=O)});var t={};return Ke(n,function(i,r){t[r]={};var o=i.stacks,l=i.bandWidth,h=i.categoryGap;if(null==h){var f=ja(o).length;h=Math.max(35-4*f,15)+"%"}var m=Ed(h,l),_=Ed(i.gap,1),b=i.remainedWidth,S=i.autoWidthCount,M=(b-m)/(S+(S-1)*_);M=Math.max(M,0),Ke(o,function(V){var G=V.maxWidth,X=V.minWidth;if(V.width){var K=V.width;G&&(K=Math.min(K,G)),X&&(K=Math.max(K,X)),V.width=K,b-=K+_*K,S--}else K=M,G&&G<K&&(K=Math.min(G,b)),X&&X>K&&(K=X),K!==M&&(V.width=K,b-=K+_*K,S--)}),M=(b-m)/(S+(S-1)*_),M=Math.max(M,0);var I,O=0;Ke(o,function(V,G){V.width||(V.width=M),I=V,O+=V.width*(1+_)}),I&&(O-=I.width*_);var N=-O/2;Ke(o,function(V,G){t[r][G]=t[r][G]||{bandWidth:l,offset:N,width:V.width},N+=V.width*(1+_)})}),t}(t)}typeof Float32Array<"u"&&Float32Array,$6e();var Cbe=function(e){function n(t){var i=e.call(this,t)||this;return i.type="time",i}return Bh(n,e),n.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return kae(t.value,E8e[function mpt(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(VS(this._minLevelUnit))]||E8e.second,i,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC");return function vpt(e,n,t,i,r){var o=null;if("string"==typeof t)o=t;else if("function"==typeof t)o=t(e.value,n,{level:e.level});else{var l=Tn({},jO);if(e.level>0)for(var h=0;h<zae.length;++h)l[zae[h]]="{primary|"+l[zae[h]]+"}";var f=t?!1===t.inherit?t:ya(t,l):l,m=L8e(e.value,r);if(f[m])o=f[m];else if(f.inherit){for(h=I8e.indexOf(m)-1;h>=0;--h)if(f[m]){o=f[m];break}o=o||l.none}if(si(o)){var b=null==e.level?0:e.level>=0?e.level:o.length+e.level;o=o[b=Math.min(b,o.length-1)]}}return kae(new Date(e.value),o,r,i)}(t,i,r,this.getSetting("locale"),o)},n.prototype.getTicks=function(t){var r=this._extent,o=[];if(!this._interval)return o;o.push({value:r[0],level:0});var l=this.getSetting("useUTC"),h=function _vt(e,n,t,i){var o=I8e,l=0;function h(Se,xe,De,Pe,Re,ke,Oe){for(var Ye=new Date(xe),Ge=xe,ct=Ye[Pe]();Ge<De&&Ge<=i[1];)Oe.push({value:Ge}),Ye[Re](ct+=Se),Ge=Ye.getTime();Oe.push({value:Ge,notAdd:!0})}function f(Se,xe,De){var Pe=[],Re=!xe.length;if(!function dvt(e,n,t,i){var r=Ug(n),o=Ug(t),l=function(O){return R8e(r,O,i)===R8e(o,O,i)},h=function(){return l("year")},f=function(){return h()&&l("month")},m=function(){return f()&&l("day")},_=function(){return m()&&l("hour")},b=function(){return _()&&l("minute")},S=function(){return b()&&l("second")};switch(e){case"year":return h();case"month":return f();case"day":return m();case"hour":return _();case"minute":return b();case"second":return S();case"millisecond":return S()&&l("millisecond")}}(VS(Se),i[0],i[1],t)){Re&&(xe=[{value:vvt(new Date(i[0]),Se,t)},{value:i[1]}]);for(var ke=0;ke<xe.length-1;ke++){var Oe=xe[ke].value,Ye=xe[ke+1].value;if(Oe!==Ye){var Ge=void 0,ct=void 0,We=void 0;switch(Se){case"year":Ge=Math.max(1,Math.round(n/sp/365)),ct=Oae(t),We=_pt(t);break;case"half-year":case"quarter":case"month":Ge=pvt(n),ct=HS(t),We=N8e(t);break;case"week":case"half-week":case"day":Ge=fvt(n),ct=RW(t),We=F8e(t),!0;break;case"half-day":case"quarter-day":case"hour":Ge=gvt(n),ct=$O(t),We=B8e(t);break;case"minute":Ge=wbe(n,!0),ct=NW(t),We=V8e(t);break;case"second":Ge=wbe(n,!1),ct=FW(t),We=H8e(t);break;case"millisecond":Ge=mvt(n),ct=BW(t),We=Y8e(t)}h(Ge,Oe,Ye,ct,We,0,Pe),"year"===Se&&De.length>1&&0===ke&&De.unshift({value:De[0].value-Ge})}}for(ke=0;ke<Pe.length;ke++)De.push(Pe[ke]);return Pe}}for(var m=[],_=[],b=0,S=0,M=0;M<o.length&&l++<1e4;++M){var O=VS(o[M]);if(gpt(o[M])&&(f(o[M],m[m.length-1]||[],_),O!==(o[M+1]?VS(o[M+1]):null))){if(_.length){S=b,_.sort(function(Se,xe){return Se.value-xe.value});for(var N=[],V=0;V<_.length;++V){var G=_[V].value;(0===V||_[V-1].value!==G)&&(N.push(_[V]),G>=i[0]&&G<=i[1]&&b++)}var X=(i[1]-i[0])/n;if(b>1.5*X&&S>X/1.5||(m.push(N),b>X||e===o[M]))break}_=[]}}var K=tu(Gi(m,function(Se){return tu(Se,function(xe){return xe.value>=i[0]&&xe.value<=i[1]&&!xe.notAdd})}),function(Se){return Se.length>0}),ne=[],ie=K.length-1;for(M=0;M<K.length;++M)for(var pe=K[M],ve=0;ve<pe.length;++ve)ne.push({value:pe[ve].value,level:ie-M});ne.sort(function(Se,xe){return Se.value-xe.value});var ye=[];for(M=0;M<ne.length;++M)(0===M||ne[M].value!==ne[M-1].value)&&ye.push(ne[M]);return ye}(this._minLevelUnit,this._approxInterval,l,r);return(o=o.concat(h)).push({value:r[1],level:0}),o},n.prototype.niceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=sp,i[1]+=sp),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-sp}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},n.prototype.niceTicks=function(t,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(t=t||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var h=kj.length,f=Math.min(function(e,n,t,i){for(;t<i;){var r=t+i>>>1;e[r][1]<n?t=r+1:i=r}return t}(kj,this._approxInterval,0,h),h-1);this._interval=kj[f][1],this._minLevelUnit=kj[Math.max(f-1,0)][0]},n.prototype.parse=function(t){return"number"==typeof t?t:+Ug(t)},n.prototype.contain=function(t){return Dj(this.parse(t),this._extent)},n.prototype.normalize=function(t){return Pj(this.parse(t),this._extent)},n.prototype.scale=function(t){return Aj(t,this._extent)},n.type="time",n}(zj),kj=[["second",1e3],["minute",6e4],["hour",WO],["quarter-day",6*WO],["half-day",12*WO],["day",1.2*sp],["half-week",3.5*sp],["week",7*sp],["month",31*sp],["quarter",95*sp],["half-year",15768e6],["year",31536e6]];function fvt(e,n){return(e/=sp)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function pvt(e){return(e/=2592e6)>6?6:e>3?3:e>2?2:1}function gvt(e){return(e/=WO)>12?12:e>6?6:e>3.5?4:e>2?2:1}function wbe(e,n){return(e/=n?6e4:1e3)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function mvt(e){return sye(e,!0)}function vvt(e,n,t){var i=new Date(e);switch(VS(n)){case"year":case"month":i[N8e(t)](0);case"day":i[F8e(t)](1);case"hour":i[B8e(t)](0);case"minute":i[V8e(t)](0);case"second":i[H8e(t)](0),i[Y8e(t)](0)}return i.getTime()}o2.registerClass(Cbe);const yvt=Cbe;var Sbe=o2.prototype,mE=zj.prototype,xvt=Gu,bvt=Math.floor,Cvt=Math.ceil,Oj=Math.pow,fp=Math.log,Gse=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new zj,t._interval=0,t}return Bh(n,e),n.prototype.getTicks=function(t){var r=this._extent,o=this._originalScale.getExtent();return Gi(mE.getTicks.call(this,t),function(h){var f=h.value,m=Gu(Oj(this.base,f));return m=f===r[0]&&this._fixMin?Ej(m,o[0]):m,{value:m=f===r[1]&&this._fixMax?Ej(m,o[1]):m}},this)},n.prototype.setExtent=function(t,i){var r=this.base;t=fp(t)/fp(r),i=fp(i)/fp(r),mE.setExtent.call(this,t,i)},n.prototype.getExtent=function(){var t=this.base,i=Sbe.getExtent.call(this);i[0]=Oj(t,i[0]),i[1]=Oj(t,i[1]);var o=this._originalScale.getExtent();return this._fixMin&&(i[0]=Ej(i[0],o[0])),this._fixMax&&(i[1]=Ej(i[1],o[1])),i},n.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=fp(t[0])/fp(i),t[1]=fp(t[1])/fp(i),Sbe.unionExtent.call(this,t)},n.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},n.prototype.niceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=function adt(e){return Math.pow(10,aye(e))}(r);for(t/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var h=[Gu(Cvt(i[0]/o)*o),Gu(bvt(i[1]/o)*o)];this._interval=o,this._niceExtent=h}},n.prototype.niceExtent=function(t){mE.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return Dj(t=fp(t)/fp(this.base),this._extent)},n.prototype.normalize=function(t){return Pj(t=fp(t)/fp(this.base),this._extent)},n.prototype.scale=function(t){return t=Aj(t,this._extent),Oj(this.base,t)},n.type="log",n}(o2),Tbe=Gse.prototype;function Ej(e,n){return xvt(e,Zv(n))}Tbe.getMinorTicks=mE.getMinorTicks,Tbe.getLabel=mE.getLabel,o2.registerClass(Gse);const wvt=Gse;var Svt=function(){function e(n,t,i){this._prepareParams(n,t,i)}return e.prototype._prepareParams=function(n,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===n.type;this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);zc(o)?this._modelMinNum=Ij(n,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=Ij(n,o));var l=this._modelMaxRaw=t.get("max",!0);if(zc(l)?this._modelMaxNum=Ij(n,l({min:i[0],max:i[1]})):"dataMax"!==l&&(this._modelMaxNum=Ij(n,l)),r)this._axisDataLen=t.getCategories().length;else{var h=t.get("boundaryGap"),f=si(h)?h:[h||0,h||0];this._boundaryGapInner="boolean"==typeof f[0]||"boolean"==typeof f[1]?[0,0]:[nx(f[0],1),nx(f[1],1)]}},e.prototype.calculate=function(){var n=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,l=n?null:i-t||Math.abs(t),h="dataMin"===this._modelMinRaw?t:this._modelMinNum,f="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,m=null!=h,_=null!=f;null==h&&(h=n?r?0:NaN:t-o[0]*l),null==f&&(f=n?r?r-1:NaN:i+o[1]*l),(null==h||!isFinite(h))&&(h=NaN),(null==f||!isFinite(f))&&(f=NaN);var b=ioe(h)||ioe(f)||n&&!r;this._needCrossZero&&(h>0&&f>0&&!m&&(h=0),h<0&&f<0&&!_&&(f=0));var S=this._determinedMin,M=this._determinedMax;return null!=S&&(h=S,m=!0),null!=M&&(f=M,_=!0),{min:h,max:f,minFixed:m,maxFixed:_,isBlank:b}},e.prototype.modifyDataMinMax=function(n,t){this[Mvt[n]]=t},e.prototype.setDeterminedMinMax=function(n,t){this[Tvt[n]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),Tvt={min:"_determinedMin",max:"_determinedMax"},Mvt={min:"_dataMin",max:"_dataMax"};function Ij(e,n){return null==n?null:ioe(n)?NaN:e.parse(n)}function Pvt(e,n){var t=e.type,i=function Dvt(e,n,t){var i=e.rawExtentInfo;return i||(i=new Svt(e,n,t),e.rawExtentInfo=i,i)}(e,n,e.getExtent()).calculate();e.setBlank(i.isBlank);var r=i.min,o=i.max,l=n.ecModel;if(l&&"time"===t){var h=function mbe(e,n){var t=[];return n.eachSeriesByType(e,function(i){(function ybe(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})(i)&&!function xbe(e){return e.pipelineContext&&e.pipelineContext.large}(i)&&t.push(i)}),t}("bar",l),f=!1;if(Ke(h,function(b){f=f||b.getBaseAxis()===n.axis}),f){var m=Use(h),_=function Avt(e,n,t,i){var r=t.axis.getExtent(),o=r[1]-r[0],l=function _be(e,n,t){if(e&&n){var i=e[Yse(n)];return null!=i&&null!=t?i[Hse(t)]:i}}(i,t.axis);if(void 0===l)return{min:e,max:n};var h=1/0;Ke(l,function(M){h=Math.min(M.offset,h)});var f=-1/0;Ke(l,function(M){f=Math.max(M.offset+M.width,f)}),h=Math.abs(h),f=Math.abs(f);var m=h+f,_=n-e,S=_/(1-(h+f)/o)-_;return{min:e-=S*(h/m),max:n+=S*(f/m)}}(r,o,n,m);r=_.min,o=_.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function vE(e){var i,n=e.getLabelModel().get("formatter"),t="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(i=n,function(r,o){return e.scale.getFormattedLabel(r,o,i)}):"string"==typeof n?function(i){return function(r){var o=e.scale.getLabel(r);return i.replace("{value}",o??"")}}(n):"function"==typeof n?function(i){return function(r,o){return null!=t&&(o=r.value-t),i(function Ovt(e,n){return"category"===e.type?e.scale.getLabel(n):n.value}(e,r),o,null!=r.level?{level:r.level}:null)}}(n):function(i){return e.scale.getLabel(i)}}function Wse(e){return e.get("interval")??"auto"}var Rvt=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),jse={isDimensionStacked:lbe,enableDataStack:sbe,getStackedDimension:function K0t(e,n){return lbe(e,n)?e.getCalculationInfo("stackResultDimension"):n}};function $se(e,n){var t=n;n instanceof ju||(t=new ju(n));var i=function kvt(e,n){if(n=n||e.get("type"))switch(n){case"category":return new cvt({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new yvt({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(o2.getClass(n)||zj)}}(t);return i.setExtent(e[0],e[1]),function zvt(e,n){var t=n,i=Pvt(e,t),r=i.extent,o=t.get("splitNumber");e instanceof wvt&&(e.base=t.get("logBase"));var l=e.type;e.setExtent(r[0],r[1]),e.niceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===l||"time"===l?t.get("minInterval"):null,maxInterval:"interval"===l||"time"===l?t.get("maxInterval"):null});var h=t.get("interval");null!=h&&e.setInterval&&e.setInterval(h)}(i,t),i}var Mbe=[],Bvt={registerPreprocessor:kse,registerProcessor:j5e,registerPostInit:$5e,registerPostUpdate:X5e,registerUpdateLifecycle:Ose,registerAction:KS,registerCoordinateSystem:function M0t(e,n){jW.register(e,n)},registerLayout:function D0t(e,n){Ese(Cj,e,n,1e3,"layout")},registerVisual:zx,registerTransform:function Sgt(e){var n=(e=ho(e)).type;n||Wh("");var i=n.split(":");2!==i.length&&Wh("");var r=!1;"echarts"===i[0]&&(n=i[1],r=!0),e.__isBuiltIn=r,O6e.set(n,e)},registerLoading:K5e,registerMap:function P0t(e,n,t){!function(e,n,t){if(n.svg){var i=new $mt(e,n.svg);aE.set(e,i)}else{var r=n.geoJson||n.geoJSON;r&&!n.features?t=n.specialAreas:r=n,i=new i0t(e,r,t),aE.set(e,i)}}(e,n,t)},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:ba,ComponentView:r2,SeriesModel:$u,ChartView:ou,registerComponentModel:function(e){ba.registerClass(e)},registerComponentView:function(e){r2.registerClass(e)},registerSeriesModel:function(e){$u.registerClass(e)},registerChartView:function(e){ou.registerClass(e)},registerSubTypeDefaulter:function(e,n){ba.registerSubTypeDefaulter(e,n)},registerPainter:function(e,n){!function tdt(e,n){kO[e]=n}(e,n)}};function $s(e){si(e)?Ke(e,function(n){$s(n)}):xa(Mbe,e)>=0||(Mbe.push(e),zc(e)&&(e={install:e}),e.install(Bvt))}var _E=Ql();function Dbe(e,n){var o,l,t=Pbe(e,"labels"),i=Wse(n);return Abe(t,i)||(zc(i)?o=Obe(e,i):(l="auto"===i?function Wvt(e){return _E(e).autoInterval??(_E(e).autoInterval=e.calculateCategoryInterval())}(e):i,o=kbe(e,l)),zbe(t,i,{labels:o,labelCategoryInterval:l}))}function Pbe(e,n){return _E(e)[n]||(_E(e)[n]=[])}function Abe(e,n){for(var t=0;t<e.length;t++)if(e[t].key===n)return e[t].value}function zbe(e,n,t){return e.push({key:n,value:t}),t}function kbe(e,n,t){var i=vE(e),r=e.scale,o=r.getExtent(),l=e.getLabelModel(),h=[],f=Math.max((n||0)+1,1),m=o[0],_=r.count();0!==m&&f>1&&_/f>2&&(m=Math.round(Math.ceil(m/f)*f));var b=function Ivt(e){return"category"===e.type&&0===Wse(e.getLabelModel())}(e),S=l.get("showMinLabel")||b,M=l.get("showMaxLabel")||b;S&&m!==o[0]&&I(o[0]);for(var O=m;O<=o[1];O+=f)I(O);function I(N){var V={value:N};h.push(t?N:{formattedLabel:i(V),rawLabel:r.getLabel(V),tickValue:N})}return M&&O-f!==o[1]&&I(o[1]),h}function Obe(e,n,t){var i=e.scale,r=vE(e),o=[];return Ke(i.getTicks(),function(l){var h=i.getLabel(l),f=l.value;n(l.value,h)&&o.push(t?f:{formattedLabel:r(l),rawLabel:h,tickValue:f})}),o}var Ebe=[0,1],Xvt=function(){function e(n,t,i){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=t,this._extent=i||[0,0]}return e.prototype.contain=function(n){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=i&&n<=r},e.prototype.containData=function(n){return this.scale.contain(n)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(n){return function idt(e,n){var t=Math.log,i=Math.LN10,r=Math.floor(t(e[1]-e[0])/i),o=Math.round(t(Math.abs(n[1]-n[0]))/i),l=Math.min(Math.max(-r+o,0),20);return isFinite(l)?l:20}(n||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(n,t){var i=this._extent;i[0]=n,i[1]=t},e.prototype.dataToCoord=function(n,t){var i=this._extent,r=this.scale;return n=r.normalize(n),this.onBand&&"ordinal"===r.type&&Ibe(i=i.slice(),r.count()),cW(n,Ebe,i,t)},e.prototype.coordToData=function(n,t){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&Ibe(i=i.slice(),r.count());var o=cW(n,i,Ebe,t);return this.scale.scale(o)},e.prototype.pointToData=function(n,t){},e.prototype.getTicksCoords=function(n){var t=(n=n||{}).tickModel||this.getTickModel(),o=Gi(function Hvt(e,n){return"category"===e.type?function Uvt(e,n){var o,l,t=Pbe(e,"ticks"),i=Wse(n),r=Abe(t,i);if(r)return r;if((!n.get("show")||e.scale.isBlank())&&(o=[]),zc(i))o=Obe(e,i,!0);else if("auto"===i){var h=Dbe(e,e.getLabelModel());l=h.labelCategoryInterval,o=Gi(h.labels,function(f){return f.tickValue})}else o=kbe(e,l=i,!0);return zbe(t,i,{ticks:o,tickCategoryInterval:l})}(e,n):{ticks:Gi(e.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(h){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(h):h),tickValue:h}},this);return function qvt(e,n,t,i){var r=n.length;if(e.onBand&&!t&&r){var l,o=e.getExtent();if(1===r)n[0].coord=o[0],l=n[1]={coord:o[0]};else{var m=(n[r-1].coord-n[0].coord)/(n[r-1].tickValue-n[0].tickValue);Ke(n,function(M){M.coord-=m/2});var _=e.scale.getExtent();n.push(l={coord:n[r-1].coord+m*(1+_[1]-n[r-1].tickValue)})}var b=o[0]>o[1];S(n[0].coord,o[0])&&(i?n[0].coord=o[0]:n.shift()),i&&S(o[0],n[0].coord)&&n.unshift({coord:o[0]}),S(o[1],l.coord)&&(i?l.coord=o[1]:n.pop()),i&&S(l.coord,o[1])&&n.push({coord:o[1]})}function S(M,O){return M=Gu(M),O=Gu(O),b?M>O:M<O}}(this,o,t.get("alignWithLabel"),n.clamp),o},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),Gi(this.scale.getMinorTicks(t),function(o){return Gi(o,function(l){return{coord:this.dataToCoord(l),tickValue:l}},this)},this)},e.prototype.getViewLabels=function(){return function Vvt(e){return"category"===e.type?function Yvt(e){var n=e.getLabelModel(),t=Dbe(e,n);return!n.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(e):function Gvt(e){var n=e.scale.getTicks(),t=vE(e);return{labels:Gi(n,function(i,r){return{level:i.level,formattedLabel:t(i,r),rawLabel:e.scale.getLabel(i),tickValue:i.value}})}}(e)}(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var n=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(n[1]-n[0]);return Math.abs(r)/i},e.prototype.calculateCategoryInterval=function(){return function jvt(e){var n=function $vt(e){var n=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}(e),t=vE(e),i=(n.axisRotate-n.labelRotate)/180*Math.PI,r=e.scale,o=r.getExtent(),l=r.count();if(o[1]-o[0]<1)return 0;var h=1;l>40&&(h=Math.max(1,Math.floor(l/40)));for(var f=o[0],m=e.dataToCoord(f+1)-e.dataToCoord(f),_=Math.abs(m*Math.cos(i)),b=Math.abs(m*Math.sin(i)),S=0,M=0;f<=o[1];f+=h){var I,N=J3e(t({value:f}),n.font,"center","top");I=1.3*N.height,S=Math.max(S,1.3*N.width,7),M=Math.max(M,I,7)}var V=S/_,G=M/b;isNaN(V)&&(V=1/0),isNaN(G)&&(G=1/0);var X=Math.max(0,Math.floor(Math.min(V,G))),K=_E(e.model),ne=e.getExtent(),ie=K.lastAutoInterval,pe=K.lastTickCount;return null!=ie&&null!=pe&&Math.abs(ie-X)<=1&&Math.abs(pe-l)<=1&&ie>X&&K.axisExtent0===ne[0]&&K.axisExtent1===ne[1]?X=ie:(K.lastTickCount=l,K.lastAutoInterval=X,K.axisExtent0=ne[0],K.axisExtent1=ne[1]),X}(this)},e}();function Ibe(e,n){var r=(e[1]-e[0])/n/2;e[0]+=r,e[1]-=r}const Lj=Xvt;var yE=2*Math.PI,Ox=dx.CMD,Zvt=["top","right","bottom","left"];function Kvt(e,n,t,i,r){var o=t.width,l=t.height;switch(e){case"top":i.set(t.x+o/2,t.y-n),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+l+n),r.set(0,1);break;case"left":i.set(t.x-n,t.y+l/2),r.set(-1,0);break;case"right":i.set(t.x+o+n,t.y+l/2),r.set(1,0)}}function Qvt(e,n,t,i,r,o,l,h,f){l-=e,h-=n;var m=Math.sqrt(l*l+h*h),_=(l/=m)*t+e,b=(h/=m)*t+n;if(Math.abs(i-r)%yE<1e-4)return f[0]=_,f[1]=b,m-t;if(o){var S=i;i=Q4(r),r=Q4(S)}else i=Q4(i),r=Q4(r);i>r&&(r+=yE);var M=Math.atan2(h,l);if(M<0&&(M+=yE),M>=i&&M<=r||M+yE>=i&&M+yE<=r)return f[0]=_,f[1]=b,m-t;var O=t*Math.cos(i)+e,I=t*Math.sin(i)+n,N=t*Math.cos(r)+e,V=t*Math.sin(r)+n,G=(O-l)*(O-l)+(I-h)*(I-h),X=(N-l)*(N-l)+(V-h)*(V-h);return G<X?(f[0]=O,f[1]=I,Math.sqrt(G)):(f[0]=N,f[1]=V,Math.sqrt(X))}function Rj(e,n,t,i,r,o,l,h){var f=r-e,m=o-n,_=t-e,b=i-n,S=Math.sqrt(_*_+b*b),O=(f*(_/=S)+m*(b/=S))/S;h&&(O=Math.min(Math.max(O,0),1));var I=l[0]=e+(O*=S)*_,N=l[1]=n+O*b;return Math.sqrt((I-r)*(I-r)+(N-o)*(N-o))}function Lbe(e,n,t,i,r,o,l){t<0&&(e+=t,t=-t),i<0&&(n+=i,i=-i);var h=e+t,f=n+i,m=l[0]=Math.min(Math.max(r,e),h),_=l[1]=Math.min(Math.max(o,n),f);return Math.sqrt((m-r)*(m-r)+(_-o)*(_-o))}var qg=[];function Jvt(e,n,t){var i=Lbe(n.x,n.y,n.width,n.height,e.x,e.y,qg);return t.set(qg[0],qg[1]),i}function e2t(e,n,t){for(var h,f,i=0,r=0,o=0,l=0,m=1/0,_=n.data,b=e.x,S=e.y,M=0;M<_.length;){var O=_[M++];1===M&&(o=i=_[M],l=r=_[M+1]);var I=m;switch(O){case Ox.M:i=o=_[M++],r=l=_[M++];break;case Ox.L:I=Rj(i,r,_[M],_[M+1],b,S,qg,!0),i=_[M++],r=_[M++];break;case Ox.C:I=Dye(i,r,_[M++],_[M++],_[M++],_[M++],_[M],_[M+1],b,S,qg),i=_[M++],r=_[M++];break;case Ox.Q:I=zye(i,r,_[M++],_[M++],_[M],_[M+1],b,S,qg),i=_[M++],r=_[M++];break;case Ox.A:var N=_[M++],V=_[M++],G=_[M++],X=_[M++],K=_[M++],ne=_[M++];M+=1;var ie=!!(1-_[M++]);h=Math.cos(K)*G+N,f=Math.sin(K)*X+V,M<=1&&(o=h,l=f),I=Qvt(N,V,X,K,K+ne,ie,(b-N)*X/G+N,S,qg),i=Math.cos(K+ne)*G+N,r=Math.sin(K+ne)*X+V;break;case Ox.R:I=Lbe(o=i=_[M++],l=r=_[M++],_[M++],_[M++],b,S,qg);break;case Ox.Z:I=Rj(i,r,o,l,b,S,qg,!0),i=o,r=l}I<m&&(m=I,t.set(qg[0],qg[1]))}return m}var Zg=new br,Ao=new br,hs=new br,Nm=new br,Fm=new br;function Rbe(e,n){if(e){var t=e.getTextGuideLine(),i=e.getTextContent();if(i&&t){var r=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],l=r.candidates||Zvt,h=i.getBoundingRect().clone();h.applyTransform(i.getComputedTransform());var f=1/0,m=r.anchor,_=e.getComputedTransform(),b=_&&oW([],_),S=n.get("length2")||0;m&&hs.copy(m);for(var M=0;M<l.length;M++){Kvt(l[M],0,h,Zg,Nm),br.scaleAndAdd(Ao,Zg,Nm,S),Ao.transform(b);var I=e.getBoundingRect(),N=m?m.distance(Ao):e instanceof us?e2t(Ao,e.path,hs):Jvt(Ao,I,hs);N<f&&(f=N,Ao.transform(_),hs.transform(_),hs.toArray(o[0]),Ao.toArray(o[1]),Zg.toArray(o[2]))}(function t2t(e,n){if(n<=180&&n>0){n=n/180*Math.PI,Zg.fromArray(e[0]),Ao.fromArray(e[1]),hs.fromArray(e[2]),br.sub(Nm,Zg,Ao),br.sub(Fm,hs,Ao);var t=Nm.len(),i=Fm.len();if(!(t<.001||i<.001)){Nm.scale(1/t),Fm.scale(1/i);var r=Nm.dot(Fm);if(Math.cos(n)<r){var l=Rj(Ao.x,Ao.y,hs.x,hs.y,Zg.x,Zg.y,Nj,!1);qu.fromArray(Nj),qu.scaleAndAdd(Fm,l/Math.tan(Math.PI-n));var h=hs.x!==Ao.x?(qu.x-Ao.x)/(hs.x-Ao.x):(qu.y-Ao.y)/(hs.y-Ao.y);if(isNaN(h))return;h<0?br.copy(qu,Ao):h>1&&br.copy(qu,hs),qu.toArray(e[1])}}}})(o,n.get("minTurnAngle")),t.setShape({points:o})}}}var Nj=[],qu=new br;function Nbe(e,n,t,i){var r="normal"===t,o=r?e:e.ensureState(t);o.ignore=n;var l=i.get("smooth");l&&!0===l&&(l=.3),o.shape=o.shape||{},l>0&&(o.shape.smooth=l);var h=i.getModel("lineStyle").getLineStyle();r?e.useStyle(h):o.style=h}function n2t(e,n){var t=n.smooth,i=n.points;if(i)if(e.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=loe(i[0],i[1]),o=loe(i[1],i[2]);if(!r||!o)return e.lineTo(i[1][0],i[1][1]),void e.lineTo(i[2][0],i[2][1]);var l=Math.min(r,o)*t,h=coe([],i[1],i[0],l/r),f=coe([],i[1],i[2],l/o),m=coe([],h,f,.5);e.bezierCurveTo(h[0],h[1],h[0],h[1],m[0],m[1]),e.bezierCurveTo(f[0],f[1],f[0],f[1],i[2][0],i[2][1])}else for(var _=1;_<i.length;_++)e.lineTo(i[_][0],i[_][1])}var Ex=[0,0],Ix=[0,0],Fj=new br,Bj=new br,o2t=function(){function e(n,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new br;for(i=0;i<2;i++)this._axes[i]=new br;n&&this.fromBoundingRect(n,t)}return e.prototype.fromBoundingRect=function(n,t){var i=this._corners,r=this._axes,o=n.x,l=n.y,h=o+n.width,f=l+n.height;if(i[0].set(o,l),i[1].set(h,l),i[2].set(h,f),i[3].set(o,f),t)for(var m=0;m<4;m++)i[m].transform(t);for(br.sub(r[0],i[1],i[0]),br.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),m=0;m<2;m++)this._origin[m]=r[m].dot(i[0])},e.prototype.intersect=function(n,t){var i=!0,r=!t;return Fj.set(1/0,1/0),Bj.set(0,0),!this._intersectCheckOneSide(this,n,Fj,Bj,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(n,this,Fj,Bj,r,-1)&&(i=!1,r)||r||br.copy(t,i?Fj:Bj),i},e.prototype._intersectCheckOneSide=function(n,t,i,r,o,l){for(var h=!0,f=0;f<2;f++){var m=this._axes[f];if(this._getProjMinMaxOnAxis(f,n._corners,Ex),this._getProjMinMaxOnAxis(f,t._corners,Ix),Ex[1]<Ix[0]||Ex[0]>Ix[1]){if(h=!1,o)return h;var _=Math.abs(Ix[0]-Ex[1]),b=Math.abs(Ex[0]-Ix[1]);Math.min(_,b)>r.len()&&br.scale(r,m,_<b?-_*l:b*l)}else i&&(_=Math.abs(Ix[0]-Ex[1]),b=Math.abs(Ex[0]-Ix[1]),Math.min(_,b)<i.len()&&br.scale(i,m,_<b?_*l:-b*l))}return h},e.prototype._getProjMinMaxOnAxis=function(n,t,i){for(var r=this._axes[n],o=this._origin,l=t[0].dot(r)+o[n],h=l,f=l,m=1;m<t.length;m++){var _=t[m].dot(r)+o[n];h=Math.min(_,h),f=Math.max(_,f)}i[0]=h,i[1]=f},e}();const Xse=o2t;function Fbe(e,n,t,i,r,o){var l=e.length;if(!(l<2)){e.sort(function(ye,Se){return ye.rect[n]-Se.rect[n]});for(var f,h=0,m=!1,_=[],b=0,S=0;S<l;S++){var M=e[S],O=M.rect;(f=O[n]-h)<0&&(O[n]-=f,M.label[n]-=f,m=!0);var I=Math.max(-f,0);_.push(I),b+=I,h=O[n]+O[t]}b>0&&o&&ie(-b/l,0,l);var G,X,N=e[0],V=e[l-1];return K(),G<0&&pe(-G,.8),X<0&&pe(X,.8),K(),ne(G,X,1),ne(X,G,-1),K(),G<0&&ve(-G),X<0&&ve(X),m}function K(){G=N.rect[n]-i,X=r-V.rect[n]-V.rect[t]}function ne(ye,Se,xe){if(ye<0){var De=Math.min(Se,-ye);if(De>0){ie(De*xe,0,l);var Pe=De+ye;Pe<0&&pe(-Pe*xe,1)}else pe(-ye*xe,1)}}function ie(ye,Se,xe){0!==ye&&(m=!0);for(var De=Se;De<xe;De++){var Pe=e[De];Pe.rect[n]+=ye,Pe.label[n]+=ye}}function pe(ye,Se){for(var xe=[],De=0,Pe=1;Pe<l;Pe++){var Re=e[Pe-1].rect,ke=Math.max(e[Pe].rect[n]-Re[n]-Re[t],0);xe.push(ke),De+=ke}if(De){var Oe=Math.min(Math.abs(ye)/De,Se);if(ye>0)for(Pe=0;Pe<l-1;Pe++)ie(xe[Pe]*Oe,0,Pe+1);else for(Pe=l-1;Pe>0;Pe--)ie(-xe[Pe-1]*Oe,Pe,l)}}function ve(ye){var Se=ye<0?-1:1;ye=Math.abs(ye);for(var xe=Math.ceil(ye/(l-1)),De=0;De<l-1;De++)if(Se>0?ie(xe,0,De+1):ie(-xe,l-De-1,l),(ye-=xe)<=0)return}}function u2t(e){if(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t].slice());return n}}function h2t(e,n){var t=e.label,i=n&&n.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:u2t(i&&i.shape.points)}}var Bbe=["align","verticalAlign","width","height","fontSize"],Nd=new Voe,qse=Ql(),d2t=Ql();function Vj(e,n,t){for(var i=0;i<t.length;i++){var r=t[i];null!=n[r]&&(e[r]=n[r])}}var Hj=["x","y","rotation"],f2t=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(n,t,i,r,o){var l=r.style,f=r.__hostTarget.textConfig||{},m=r.getComputedTransform(),_=r.getBoundingRect().plain();fo.applyTransform(_,_,m),m?Nd.setLocalTransform(m):(Nd.x=Nd.y=Nd.rotation=Nd.originX=Nd.originY=0,Nd.scaleX=Nd.scaleY=1);var S,b=r.__hostTarget;if(b){S=b.getBoundingRect().plain();var M=b.getComputedTransform();fo.applyTransform(S,S,M)}var O=S&&b.getTextGuideLine();this._labelList.push({label:r,labelLine:O,seriesModel:i,dataIndex:n,dataType:t,layoutOption:o,computedLayoutOption:null,rect:_,hostRect:S,priority:S?S.width*S.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:O&&O.ignore,x:Nd.x,y:Nd.y,scaleX:Nd.scaleX,scaleY:Nd.scaleY,rotation:Nd.rotation,style:{x:l.x,y:l.y,align:l.align,verticalAlign:l.verticalAlign,width:l.width,height:l.height,fontSize:l.fontSize},cursor:r.cursor,attachedPos:f.position,attachedRot:f.rotation}})},e.prototype.addLabelsOfSeries=function(n){var t=this;this._chartViewList.push(n);var i=n.__model,r=i.get("labelLayout");(zc(r)||ja(r).length)&&n.group.traverse(function(o){if(o.ignore)return!0;var l=o.getTextContent(),h=Hh(o);l&&!l.disableLabelLayout&&t._addLabel(h.dataIndex,h.dataType,i,l,r)})},e.prototype.updateLayoutConfig=function(n){var t=n.getWidth(),i=n.getHeight();function r(X,K){return function(){Rbe(X,K)}}for(var o=0;o<this._labelList.length;o++){var l=this._labelList[o],h=l.label,f=h.__hostTarget,m=l.defaultAttr,_=void 0;_="function"==typeof l.layoutOption?l.layoutOption(h2t(l,f)):l.layoutOption,l.computedLayoutOption=_=_||{};var b=Math.PI/180;f&&f.setTextConfig({local:!1,position:null!=_.x||null!=_.y?null:m.attachedPos,rotation:null!=_.rotate?_.rotate*b:m.attachedRot,offset:[_.dx||0,_.dy||0]});var S=!1;if(null!=_.x?(h.x=Ed(_.x,t),h.setStyle("x",0),S=!0):(h.x=m.x,h.setStyle("x",m.style.x)),null!=_.y?(h.y=Ed(_.y,i),h.setStyle("y",0),S=!0):(h.y=m.y,h.setStyle("y",m.style.y)),_.labelLinePoints){var M=f.getTextGuideLine();M&&(M.setShape({points:_.labelLinePoints}),S=!1)}qse(h).needsUpdateLabelLine=S,h.rotation=null!=_.rotate?_.rotate*b:m.rotation,h.scaleX=m.scaleX,h.scaleY=m.scaleY;for(var I=0;I<Bbe.length;I++){var N=Bbe[I];h.setStyle(N,null!=_[N]?_[N]:m.style[N])}if(_.draggable){if(h.draggable=!0,h.cursor="move",f){var V=l.seriesModel;null!=l.dataIndex&&(V=l.seriesModel.getData(l.dataType).getItemModel(l.dataIndex)),h.on("drag",r(f,V.getModel("labelLine")))}}else h.off("drag"),h.cursor=m.cursor}},e.prototype.layout=function(n){var t=n.getWidth(),i=n.getHeight(),r=function a2t(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),l=r.getBoundingRect(),h=!o||o[1]<1e-5&&o[2]<1e-5,f=r.style.margin||0,m=l.clone();m.applyTransform(o),m.x-=f/2,m.y-=f/2,m.width+=f,m.height+=f;var _=h?new Xse(l,o):null;n.push({label:r,labelLine:i.labelLine,rect:m,localRect:l,obb:_,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:h,transform:o})}}return n}(this._labelList),o=tu(r,function(f){return"shiftX"===f.layoutOption.moveOverlap}),l=tu(r,function(f){return"shiftY"===f.layoutOption.moveOverlap});(function s2t(e,n,t,i){Fbe(e,"x","width",n,t,i)})(o,0,t),function l2t(e,n,t,i){Fbe(e,"y","height",n,t,i)}(l,0,i),function c2t(e){var n=[];e.sort(function(I,N){return N.priority-I.priority});var t=new fo(0,0,0,0);function i(I){if(!I.ignore){var N=I.ensureState("emphasis");null==N.ignore&&(N.ignore=!1)}I.ignore=!0}for(var r=0;r<e.length;r++){var o=e[r],l=o.axisAligned,h=o.localRect,f=o.transform,m=o.label,_=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var b=o.obb,S=!1,M=0;M<n.length;M++){var O=n[M];if(t.intersect(O.rect)){if(l&&O.axisAligned){S=!0;break}if(O.obb||(O.obb=new Xse(O.localRect,O.transform)),b||(b=new Xse(h,f)),b.intersect(O.obb)){S=!0;break}}}S?(i(m),_&&i(_)):(m.attr("ignore",o.defaultAttr.ignore),_&&_.attr("ignore",o.defaultAttr.labelGuideIgnore),n.push(o))}}(tu(r,function(f){return f.layoutOption.hideOverlap}))},e.prototype.processLabelsOverall=function(){var n=this;Ke(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(l){if(l.ignore&&!l.forceLabelAnimation)return!0;var h=!r,f=l.getTextContent();!h&&f&&(h=qse(f).needsUpdateLabelLine),h&&n._updateLabelLine(l,i),o&&n._animateLabels(l,i)})})},e.prototype._updateLabelLine=function(n,t){var i=n.getTextContent(),r=Hh(n),o=r.dataIndex;if(i&&null!=o){var l=t.getData(r.dataType),h=l.getItemModel(o),f={},m=l.getItemVisual(o,"style"),_=l.getVisual("drawType");f.stroke=m[_];var b=h.getModel("labelLine");(function i2t(e,n,t){var i=e.getTextGuideLine(),r=e.getTextContent();if(r){for(var o=n.normal,l=o.get("show"),h=r.ignore,f=0;f<Hye.length;f++){var m=Hye[f],_=n[m],b="normal"===m;if(_){var S=_.get("show");if((b?h:Ro(r.states[m]&&r.states[m].ignore,h))||!Ro(S,l)){var O=b?i:i&&i.states.normal;O&&(O.ignore=!0);continue}i||(i=new sse,e.setTextGuideLine(i),!b&&(h||!l)&&Nbe(i,!0,"normal",n.normal),e.stateProxy&&(i.stateProxy=e.stateProxy)),Nbe(i,!1,m,_)}}if(i){ya(i.style,t),i.style.fill=null;var I=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=I||!1,i.buildPath=n2t}}else i&&e.removeTextGuideLine()})(n,function r2t(e,n){for(var t={normal:e.getModel(n=n||"labelLine")},i=0;i<NS.length;i++){var r=NS[i];t[r]=e.getModel([r,n])}return t}(h),f),Rbe(n,b)}},e.prototype._animateLabels=function(n,t){var i=n.getTextContent(),r=n.getTextGuideLine();if(i&&(n.forceLabelAnimation||!i.ignore&&!i.invisible&&!n.disableLabelAnimation&&!UO(n))){var l=(o=qse(i)).oldLayout,h=Hh(n),f=h.dataIndex,m={x:i.x,y:i.y,rotation:i.rotation},_=t.getData(h.dataType);if(l){i.attr(l);var S=n.prevStates;S&&(xa(S,"select")>=0&&i.attr(o.oldLayoutSelect),xa(S,"emphasis")>=0&&i.attr(o.oldLayoutEmphasis)),_ae(i,m,t,f)}else if(i.attr(m),!AW(i).valueAnimation){var b=Ro(i.style.opacity,1);i.style.opacity=0,yae(i,{style:{opacity:b}},t,f)}if(o.oldLayout=m,i.states.select){var M=o.oldLayoutSelect={};Vj(M,m,Hj),Vj(M,i.states.select,Hj)}if(i.states.emphasis){var O=o.oldLayoutEmphasis={};Vj(O,m,Hj),Vj(O,i.states.emphasis,Hj)}Aft(i,f,_,t,t)}if(r&&!r.ignore&&!r.invisible){var o=d2t(r),I={points:r.shape.points};(l=o.oldLayout)?(r.attr({shape:l}),_ae(r,{shape:I},t)):(r.setShape(I),r.style.strokePercent=0,yae(r,{style:{strokePercent:1}},t)),o.oldLayout=I}},e}();const p2t=f2t;var Zse=Ql();function Vbe(e){e.registerUpdateLifecycle("series:beforeupdate",function(n,t,i){var r=Zse(t).labelManager;r||(r=Zse(t).labelManager=new p2t),r.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(n,t,i){var r=Zse(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}function g2t(){return!1}function Hbe(e,n,t){var i=WG(),r=n.getWidth(),o=n.getHeight(),l=i.style;return l&&(l.position="absolute",l.left="0",l.top="0",l.width=r+"px",l.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*t,i.height=o*t,i}$s(Vbe);var m2t=function(e){function n(t,i,r){var l,o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||rW,"string"==typeof t?l=Hbe(t,i,r):Xi(t)&&(t=(l=t).id),o.id=t,o.dom=l;var h=l.style;return h&&(l.onselectstart=g2t,h.webkitUserSelect="none",h.userSelect="none",h.webkitTapHighlightColor="rgba(0,0,0,0)",h["-webkit-touch-callout"]="none",h.padding="0",h.margin="0",h.borderWidth="0"),o.domBack=null,o.ctxBack=null,o.painter=i,o.config=null,o.dpr=r,o}return $o(n,e),n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Hbe("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},n.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var N,l=[],h=this.maxRepaintRectCount,f=!1,m=new fo(0,0,0,0);function _(G){if(G.isFinite()&&!G.isZero())if(0===l.length)(X=new fo(0,0,0,0)).copy(G),l.push(X);else{for(var K=!1,ne=1/0,ie=0,pe=0;pe<l.length;++pe){var ve=l[pe];if(ve.intersect(G)){var ye=new fo(0,0,0,0);ye.copy(ve),ye.union(G),l[pe]=ye,K=!0;break}if(f){m.copy(G),m.union(ve);var Pe=m.width*m.height-G.width*G.height-ve.width*ve.height;Pe<ne&&(ne=Pe,ie=pe)}}var X;f&&(l[ie].union(G),K=!0),K||((X=new fo(0,0,0,0)).copy(G),l.push(X)),f||(f=l.length>=h)}}for(var b=this.__startIndex;b<this.__endIndex;++b)if(S=t[b]){var M=S.shouldBePainted(r,o,!0,!0);(O=S.__isRendered&&(1&S.__dirty||!M)?S.getPrevPaintRect():null)&&_(O);var I=M&&(1&S.__dirty||!S.__isRendered)?S.getPaintRect():null;I&&_(I)}for(b=this.__prevStartIndex;b<this.__prevEndIndex;++b){var S,O;M=(S=i[b]).shouldBePainted(r,o,!0,!0),!S||M&&S.__zr||!S.__isRendered||(O=S.getPrevPaintRect())&&_(O)}do{for(N=!1,b=0;b<l.length;)if(l[b].isZero())l.splice(b,1);else{for(var V=b+1;V<l.length;)l[b].intersect(l[V])?(N=!0,l[b].union(l[V]),l.splice(V,1)):V++;b++}}while(N);return this._paintRects=l,l},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,l=o.style,h=this.domBack;l&&(l.width=t+"px",l.height=i+"px"),o.width=t*r,o.height=i*r,h&&(h.width=t*r,h.height=i*r,1!==r&&this.ctxBack.scale(r,r))},n.prototype.clear=function(t,i,r){var o=this.dom,l=this.ctx,h=o.width,f=o.height;i=i||this.clearColor;var m=this.motionBlur&&!t,_=this.lastFrameAlpha,b=this.dpr,S=this;m&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,h/b,f/b));var M=this.domBack;function O(I,N,V,G){if(l.clearRect(I,N,V,G),i&&"transparent"!==i){var X=void 0;!function Lut(e){return null!=e.colorStops}(i)?function Rut(e){return null!=e.image}(i)&&(X=dse(l,i,{dirty:function(){S.setUnpainted(),S.__painter.refresh()}})):(X=i.__canvasGradient||hse(l,i,{x:0,y:0,width:V,height:G}),i.__canvasGradient=X),l.save(),l.fillStyle=X||i,l.fillRect(I,N,V,G),l.restore()}m&&(l.save(),l.globalAlpha=_,l.drawImage(M,I,N,V,G),l.restore())}!r||m?O(0,0,h,f):r.length&&Ke(r,function(I){O(I.x*b,I.y*b,I.width*b,I.height*b)})},n}(Mm);const Kse=m2t;var Lx=314159;function Uj(e){return parseInt(e,10)}var x2t=function(){function e(n,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!n.nodeName||"CANVAS"===n.nodeName.toUpperCase();this._opts=i=Tn({},i||{}),this.dpr=i.devicePixelRatio||rW,this._singleCanvas=o,this.root=n;var l=n.style;l&&(l.webkitTapHighlightColor="transparent",l.webkitUserSelect="none",l.userSelect="none",l["-webkit-touch-callout"]="none",n.innerHTML=""),this.storage=t;var h=this._zlevelList;this._prevDisplayList=[];var f=this._layers;if(o){var _=n,b=_.width,S=_.height;null!=i.width&&(b=i.width),null!=i.height&&(S=i.height),this.dpr=i.devicePixelRatio||1,_.width=b*this.dpr,_.height=S*this.dpr,this._width=b,this._height=S;var M=new Kse(_,this,this.dpr);M.__builtin__=!0,M.initContext(),f[Lx]=M,M.zlevel=Lx,h.push(Lx),this._domRoot=n}else{this._width=this._getSize(0),this._height=this._getSize(1);var m=this._domRoot=function y2t(e,n){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+e+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);n.appendChild(m)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},e.prototype.refresh=function(n){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,n,this._redrawId);for(var o=0;o<r.length;o++){var h=this._layers[r[o]];!h.__builtin__&&h.refresh&&h.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(n){var t=n.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var o,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},l=0;l<t;l++){var h=n[l];h.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),o||(o=i.ctx).save(),t3(o,h,r,l===t-1))}o&&o.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(1e5)},e.prototype.paintOne=function(n,t){fj(n,t)},e.prototype._paintList=function(n,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(n);var o=this._doPaintList(n,t,i),l=o.finished,h=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),h&&this._paintHoverList(n),l)this.eachLayer(function(m){m.afterBrush&&m.afterBrush()});else{var f=this;MS(function(){f._paintList(n,t,i,r)})}}},e.prototype._compositeManually=function(){var n=this.getLayer(Lx).ctx,t=this._domRoot.width,i=this._domRoot.height;n.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&n.drawImage(r.dom,0,0,t,i)})},e.prototype._doPaintList=function(n,t,i){for(var r=this,o=[],l=this._opts.useDirtyRect,h=0;h<this._zlevelList.length;h++){var m=this._layers[this._zlevelList[h]];m.__builtin__&&m!==this._hoverlayer&&(m.__dirty||i)&&o.push(m)}for(var _=!0,b=!1,S=function(I){var N=o[I],V=N.ctx,G=l&&N.createRepaintRects(n,t,M._width,M._height),X=i?N.__startIndex:N.__drawIndex,K=!i&&N.incremental&&Date.now,ne=K&&Date.now(),ie=N.zlevel===M._zlevelList[0]?M._backgroundColor:null;if(N.__startIndex===N.__endIndex)N.clear(!1,ie,G);else if(X===N.__startIndex){var pe=n[X];(!pe.incremental||!pe.notClear||i)&&N.clear(!1,ie,G)}-1===X&&(console.error("For some unknown reason. drawIndex is -1"),X=N.__startIndex);var ve,ye=function(Pe){var Re={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(ve=X;ve<N.__endIndex;ve++){var ke=n[ve];if(ke.__inHover&&(b=!0),r._doPaintEl(ke,N,l,Pe,Re,ve===N.__endIndex-1),K&&Date.now()-ne>15)break}Re.prevElClipPaths&&V.restore()};if(G)if(0===G.length)ve=N.__endIndex;else for(var Se=M.dpr,xe=0;xe<G.length;++xe){var De=G[xe];V.save(),V.beginPath(),V.rect(De.x*Se,De.y*Se,De.width*Se,De.height*Se),V.clip(),ye(De),V.restore()}else V.save(),ye(),V.restore();N.__drawIndex=ve,N.__drawIndex<N.__endIndex&&(_=!1)},M=this,O=0;O<o.length;O++)S(O);return jo.wxa&&Ke(this._layers,function(I){I&&I.ctx&&I.ctx.draw&&I.ctx.draw()}),{finished:_,needsRefreshHover:b}},e.prototype._doPaintEl=function(n,t,i,r,o,l){var h=t.ctx;if(i){var f=n.getPaintRect();(!r||f&&f.intersect(r))&&(t3(h,n,o,l),n.setPrevPaintRect(f))}else t3(h,n,o,l)},e.prototype.getLayer=function(n,t){this._singleCanvas&&!this._needsManuallyCompositing&&(n=Lx);var i=this._layers[n];return i||((i=new Kse("zr_"+n,this,this.dpr)).zlevel=n,i.__builtin__=!0,this._layerConfig[n]?ti(i,this._layerConfig[n],!0):this._layerConfig[n-.01]&&ti(i,this._layerConfig[n-.01],!0),t&&(i.virtual=t),this.insertLayer(n,i),i.initContext()),i},e.prototype.insertLayer=function(n,t){var i=this._layers,r=this._zlevelList,o=r.length,l=this._domRoot,h=null,f=-1;if(i[n])yS("ZLevel "+n+" has been used already");else if(function _2t(e){return!(!e||!e.__builtin__&&("function"!=typeof e.resize||"function"!=typeof e.refresh))}(t)){if(o>0&&n>r[0]){for(f=0;f<o-1&&!(r[f]<n&&r[f+1]>n);f++);h=i[r[f]]}if(r.splice(f+1,0,n),i[n]=t,!t.virtual)if(h){var m=h.dom;m.nextSibling?l.insertBefore(t.dom,m.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);t.__painter=this}else yS("Layer of zlevel "+n+" is not valid")},e.prototype.eachLayer=function(n,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];n.call(t,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(n,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],l=this._layers[o];l.__builtin__&&n.call(t,l,o)}},e.prototype.eachOtherLayer=function(n,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],l=this._layers[o];l.__builtin__||n.call(t,l,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(n){function t(b){o&&(o.__endIndex!==b&&(o.__dirty=!0),o.__endIndex=b)}if(this.eachBuiltinLayer(function(b,S){b.__dirty=b.__used=!1}),this._singleCanvas)for(var i=1;i<n.length;i++)if((r=n[i]).zlevel!==n[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}var h,f,o=null,l=0;for(f=0;f<n.length;f++){var r,m=(r=n[f]).zlevel,_=void 0;h!==m&&(h=m,l=0),r.incremental?((_=this.getLayer(m+.001,this._needsManuallyCompositing)).incremental=!0,l=1):_=this.getLayer(m+(l>0?.01:0),this._needsManuallyCompositing),_.__builtin__||yS("ZLevel "+m+" has been used by unkown layer "+_.id),_!==o&&(_.__used=!0,_.__startIndex!==f&&(_.__dirty=!0),_.__startIndex=f,_.__drawIndex=_.incremental?-1:f,t(f),o=_),1&r.__dirty&&!r.__inHover&&(_.__dirty=!0,_.incremental&&_.__drawIndex<0&&(_.__drawIndex=f))}t(f),this.eachBuiltinLayer(function(b,S){!b.__used&&b.getElementCount()>0&&(b.__dirty=!0,b.__startIndex=b.__endIndex=b.__drawIndex=0),b.__dirty&&b.__drawIndex<0&&(b.__drawIndex=b.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(n){n.clear()},e.prototype.setBackgroundColor=function(n){this._backgroundColor=n,Ke(this._layers,function(t){t.setUnpainted()})},e.prototype.configLayer=function(n,t){if(t){var i=this._layerConfig;i[n]?ti(i[n],t,!0):i[n]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];o!==n&&o!==n+.01||ti(this._layers[o],i[n],!0)}}},e.prototype.delLayer=function(n){var t=this._layers,i=this._zlevelList,r=t[n];r&&(r.dom.parentNode.removeChild(r.dom),delete t[n],i.splice(xa(i,n),1))},e.prototype.resize=function(n,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts;if(null!=n&&(r.width=n),null!=t&&(r.height=t),n=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==n||t!==this._height){for(var o in i.style.width=n+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(n,t);this.refresh(!0)}this._width=n,this._height=t}else{if(null==n||null==t)return;this._width=n,this._height=t,this.getLayer(Lx).resize(n,t)}return this},e.prototype.clearLayer=function(n){var t=this._layers[n];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(n){if(this._singleCanvas&&!this._compositeManually)return this._layers[Lx].dom;var t=new Kse("image",this,(n=n||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,n.backgroundColor||this._backgroundColor);var i=t.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(b){b.__builtin__?i.drawImage(b.dom,0,0,r,o):b.renderToCanvas&&(i.save(),b.renderToCanvas(i),i.restore())})}else for(var l={inHover:!1,viewWidth:this._width,viewHeight:this._height},h=this.storage.getDisplayList(!0),f=0,m=h.length;f<m;f++)t3(i,h[f],l,f===m-1);return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype._getSize=function(n){var t=this._opts,i=["width","height"][n],r=["clientWidth","clientHeight"][n],o=["paddingLeft","paddingTop"][n],l=["paddingRight","paddingBottom"][n];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var h=this.root,f=document.defaultView.getComputedStyle(h);return(h[r]||Uj(f[i])||Uj(h.style[i]))-(Uj(f[o])||0)-(Uj(f[l])||0)|0},e.prototype.pathToImage=function(n,t){t=t||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),o=n.getBoundingRect(),l=n.style,h=l.shadowBlur*t,f=l.shadowOffsetX*t,m=l.shadowOffsetY*t,_=n.hasStroke()?l.lineWidth:0,b=Math.max(_/2,-f+h),S=Math.max(_/2,f+h),M=Math.max(_/2,-m+h),O=Math.max(_/2,m+h),I=o.width+b+S,N=o.height+M+O;i.width=I*t,i.height=N*t,r.scale(t,t),r.clearRect(0,0,I,N),r.dpr=t;var V={x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY,rotation:n.rotation,originX:n.originX,originY:n.originY};n.x=b-o.x,n.y=M-o.y,n.rotation=0,n.scaleX=1,n.scaleY=1,n.updateTransform(),n&&t3(r,n,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var G=new vx({style:{x:0,y:0,image:i}});return Tn(n,V),G},e}();const b2t=x2t;var w2t=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return Bh(n,e),n.prototype.init=function(t,i,r){e.prototype.init.call(this,t,i,r),this._sourceManager=new N6e(this),F6e(this)},n.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),F6e(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:Im},n}(ba),S2t=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return Bh(n,e),n.type="dataset",n}(r2);function Ube(e,n,t){"object"==typeof n&&(t=n,n=null);var r,i=this;if(!(e instanceof Function))for(var o in r=[],e)e.hasOwnProperty(o)&&r.push(o);var l=function(f){if(i.apply(this,arguments),e instanceof Function?Gbe(this,e.call(this,f)):M2t(this,e,r),this.constructor===l)for(var m=l.__initializers__,_=0;_<m.length;_++)m[_].apply(this,arguments)};l.__super__=i,l.__initializers__=i.__initializers__?i.__initializers__.slice():[],n&&l.__initializers__.push(n);var h=function(){};return h.prototype=i.prototype,l.prototype=new h,l.prototype.constructor=l,Gbe(l.prototype,t),l.extend=i.extend,l.derive=i.extend,l}function Gbe(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}function M2t(e,n,t){for(var i=0;i<t.length;i++){var r=t[i];e[r]=n[r]}}$s([function C2t(e){e.registerPainter("canvas",b2t)},function T2t(e){e.registerComponentModel(w2t),e.registerComponentView(S2t)}]),$s(Vbe);const D2t={extend:Ube,derive:Ube};function P2t(e,n){this.action=e,this.context=n}var A2t={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var n=this.__handlers__[e],t=n.length,i=-1,r=arguments;switch(r.length){case 1:for(;++i<t;)n[i].action.call(n[i].context);return;case 2:for(;++i<t;)n[i].action.call(n[i].context,r[1]);return;case 3:for(;++i<t;)n[i].action.call(n[i].context,r[1],r[2]);return;case 4:for(;++i<t;)n[i].action.call(n[i].context,r[1],r[2],r[3]);return;case 5:for(;++i<t;)n[i].action.call(n[i].context,r[1],r[2],r[3],r[4]);return;default:for(;++i<t;)n[i].action.apply(n[i].context,Array.prototype.slice.call(r,1));return}}},on:function(e,n,t){if(e&&n){var i=this.__handlers__||(this.__handlers__={});if(i[e]){if(this.has(e,n))return}else i[e]=[];var r=new P2t(n,t||this);return i[e].push(r),this}},once:function(e,n,t){if(e&&n){var i=this;return this.on(e,function r(){i.off(e,r),n.apply(this,arguments)},t)}},before:function(e,n,t){if(e&&n)return this.on(e="before"+e,n,t)},after:function(e,n,t){if(e&&n)return this.on(e="after"+e,n,t)},success:function(e,n){return this.once("success",e,n)},error:function(e,n){return this.once("error",e,n)},off:function(e,n){var t=this.__handlers__||(this.__handlers__={});if(n){if(t[e]){for(var i=t[e],r=[],o=0;o<i.length;o++)n&&i[o].action!==n&&r.push(i[o]);t[e]=r}return this}t[e]=[]},has:function(e,n){var t=this.__handlers__;if(!t||!t[e])return!1;for(var i=t[e],r=0;r<i.length;r++)if(i[r].action===n)return!0}};const Qse=A2t;var z2t=0,O2t=Array.prototype.forEach,xE={genGUID:function(){return++z2t},relative2absolute:function(e,n){if(!n||e.match(/^\//))return e;for(var t=e.split("/"),i=n.split("/"),r=t[0];"."===r||".."===r;)".."===r&&i.pop(),t.shift(),r=t[0];return i.join("/")+"/"+t.join("/")},extend:function(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},defaults:function(e,n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t]);return e},extendWithPropList:function(e,n,t){if(n)for(var i=0;i<t.length;i++){var r=t[i];e[r]=n[r]}return e},defaultsWithPropList:function(e,n,t){if(n)for(var i=0;i<t.length;i++){var r=t[i];null==e[r]&&(e[r]=n[r])}return e},each:function(e,n,t){if(e&&n)if(e.forEach&&e.forEach===O2t)e.forEach(n,t);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)n.call(t,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&n.call(t,e[o],o,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(xE.isObject(e)){if(xE.isArray(e))return e.slice();if(xE.isArrayLike(e)){for(var n=new e.constructor(e.length),t=0;t<e.length;t++)n[t]=e[t];return n}return xE.extend({},e)}return e}};const Jl=xE;var Gj=function(){this.__uid__=Jl.genGUID()};Gj.__initializers__=[function(e){Jl.extend(this,e)}],Jl.extend(Gj,D2t),Jl.extend(Gj.prototype,Qse);const Zu=Gj;var Wbe=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],jbe=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];const I2t=function E2t(e){for(var n={},t={},i=0;i<Wbe.length;i++)l(Wbe[i]);for(i=0;i<jbe.length;i++){var o=jbe[i];t[o]=e.getParameter(e[o])}function l(h){if(e.getExtension){var f=e.getExtension(h);f||(f=e.getExtension("MOZ_"+h)),f||(f=e.getExtension("WEBKIT_"+h)),n[h]=f}}this.getExtension=function(h){return h in n||l(h),n[h]},this.getParameter=function(h){return t[h]}},R2t={get:function L2t(e){var n=new XMLHttpRequest;n.open("get",e.url),n.responseType=e.responseType||"text",e.onprogress&&(n.onprogress=function(t){t.lengthComputable?e.onprogress(t.loaded/t.total,t.loaded,t.total):e.onprogress(null)}),n.onload=function(t){n.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(n.response)},e.onerror&&(n.onerror=e.onerror),n.send(null)}};var Jse,Ku={supportWebGL:function(){if(null==Jse)try{var e=document.createElement("canvas");if(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))throw new Error}catch{Jse=!1}return Jse}};Ku.Int8Array=typeof Int8Array>"u"?Array:Int8Array,Ku.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array,Ku.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array,Ku.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array,Ku.Int16Array=typeof Int16Array>"u"?Array:Int16Array,Ku.Float32Array=typeof Float32Array>"u"?Array:Float32Array,Ku.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var Rx={};typeof window<"u"?Rx=window:typeof global<"u"&&(Rx=global),Ku.requestAnimationFrame=Rx.requestAnimationFrame||Rx.msRequestAnimationFrame||Rx.mozRequestAnimationFrame||Rx.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},Ku.createCanvas=function(){return document.createElement("canvas")},Ku.createImage=function(){return new Rx.Image},Ku.request={get:R2t.get},Ku.addEventListener=function(e,n,t,i){e.addEventListener(n,t,i)},Ku.removeEventListener=function(e,n,t){e.removeEventListener(n,t)};const ks=Ku;var bl=function(){this.head=null,this.tail=null,this._length=0};bl.prototype.insert=function(e){var n=new bl.Entry(e);return this.insertEntry(n),n},bl.prototype.insertAt=function(e,n){if(!(e<0)){for(var t=this.head,i=0;t&&i!=e;)t=t.next,i++;if(t){var r=new bl.Entry(n),o=t.prev;o?(o.next=r,r.prev=o):this.head=r,r.next=t,t.prev=r}else this.insert(n)}},bl.prototype.insertBeforeEntry=function(e,n){var t=new bl.Entry(e),i=n.prev;i?(i.next=t,t.prev=i):this.head=t,t.next=n,n.prev=t,this._length++},bl.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},bl.prototype.remove=function(e){var n=e.prev,t=e.next;n?n.next=t:this.head=t,t?t.prev=n:this.tail=n,e.next=e.prev=null,this._length--},bl.prototype.removeAt=function(e){if(!(e<0)){for(var n=this.head,t=0;n&&t!=e;)n=n.next,t++;if(n)return this.remove(n),n.value}},bl.prototype.getHead=function(){if(this.head)return this.head.value},bl.prototype.getTail=function(){if(this.tail)return this.tail.value},bl.prototype.getAt=function(e){if(!(e<0)){for(var n=this.head,t=0;n&&t!=e;)n=n.next,t++;return n.value}},bl.prototype.indexOf=function(e){for(var n=this.head,t=0;n;){if(n.value===e)return t;n=n.next,t++}},bl.prototype.length=function(){return this._length},bl.prototype.isEmpty=function(){return 0===this._length},bl.prototype.forEach=function(e,n){for(var t=this.head,i=0,r=typeof n<"u";t;)r?e.call(n,t.value,i):e(t.value,i),t=t.next,i++},bl.prototype.clear=function(){this.tail=this.head=null,this._length=0},bl.Entry=function(e){this.value=e,this.next=null,this.prev=null};const N2t=bl;var JS=function(e){this._list=new N2t,this._map={},this._maxSize=e||10};JS.prototype.setMaxSize=function(e){this._maxSize=e},JS.prototype.put=function(e,n){if(!this._map.hasOwnProperty(e)){var t=this._list.length();if(t>=this._maxSize&&t>0){var i=this._list.head;this._list.remove(i),delete this._map[i.key]}var r=this._list.insert(n);r.key=e,this._map[e]=r}},JS.prototype.get=function(e){var n=this._map[e];if(this._map.hasOwnProperty(e))return n!==this._list.tail&&(this._list.remove(n),this._list.insertEntry(n)),n.value},JS.prototype.remove=function(e){var n=this._map[e];typeof n<"u"&&(delete this._map[e],this._list.remove(n))},JS.prototype.clear=function(){this._list.clear(),this._map={}};const $be=JS;var Ca={},Xbe={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Kg(e){return(e=Math.round(e))<0?0:e>255?255:e}function bE(e){return e<0?0:e>1?1:e}function ele(e){return e.length&&"%"===e.charAt(e.length-1)?Kg(parseFloat(e)/100*255):Kg(parseInt(e,10))}function eT(e){return e.length&&"%"===e.charAt(e.length-1)?bE(parseFloat(e)/100):bE(parseFloat(e))}function tle(e,n,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?e+(n-e)*t*6:2*t<1?n:3*t<2?e+(n-e)*(2/3-t)*6:e}function o3(e,n,t){return e+(n-e)*t}function Qg(e,n,t,i,r){return e[0]=n,e[1]=t,e[2]=i,e[3]=r,e}function nle(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}var qbe=new $be(20),Wj=null;function tT(e,n){Wj&&nle(Wj,n),Wj=qbe.put(e,Wj||n.slice())}function ile(e,n){var t=(parseFloat(e[0])%360+360)%360/360,i=eT(e[1]),r=eT(e[2]),o=r<=.5?r*(i+1):r+i-r*i,l=2*r-o;return Qg(n=n||[],Kg(255*tle(l,o,t+1/3)),Kg(255*tle(l,o,t)),Kg(255*tle(l,o,t-1/3)),1),4===e.length&&(n[3]=e[3]),n}Ca.parse=function(e,n){if(e){n=n||[];var t=qbe.get(e);if(t)return nle(n,t);var r,i=(e+="").replace(/ /g,"").toLowerCase();if(i in Xbe)return nle(n,Xbe[i]),tT(e,n),n;if("#"===i.charAt(0))return 4===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=4095?(Qg(n,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),tT(e,n),n):void Qg(n,0,0,0,1):7===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=16777215?(Qg(n,(16711680&r)>>16,(65280&r)>>8,255&r,1),tT(e,n),n):void Qg(n,0,0,0,1):void 0;var o=i.indexOf("("),l=i.indexOf(")");if(-1!==o&&l+1===i.length){var h=i.substr(0,o),f=i.substr(o+1,l-(o+1)).split(","),m=1;switch(h){case"rgba":if(4!==f.length)return void Qg(n,0,0,0,1);m=eT(f.pop());case"rgb":return 3!==f.length?void Qg(n,0,0,0,1):(Qg(n,ele(f[0]),ele(f[1]),ele(f[2]),m),tT(e,n),n);case"hsla":return 4!==f.length?void Qg(n,0,0,0,1):(f[3]=eT(f[3]),ile(f,n),tT(e,n),n);case"hsl":return 3!==f.length?void Qg(n,0,0,0,1):(ile(f,n),tT(e,n),n);default:return}}Qg(n,0,0,0,1)}},Ca.parseToFloat=function(e,n){if(n=Ca.parse(e,n))return n[0]/=255,n[1]/=255,n[2]/=255,n},Ca.lift=function(e,n){var t=Ca.parse(e);if(t){for(var i=0;i<3;i++)t[i]=n<0?t[i]*(1-n)|0:(255-t[i])*n+t[i]|0;return Ca.stringify(t,4===t.length?"rgba":"rgb")}},Ca.toHex=function(e){var n=Ca.parse(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)},Ca.fastLerp=function(e,n,t){if(n&&n.length&&e>=0&&e<=1){t=t||[];var i=e*(n.length-1),r=Math.floor(i),o=Math.ceil(i),l=n[r],h=n[o],f=i-r;return t[0]=Kg(o3(l[0],h[0],f)),t[1]=Kg(o3(l[1],h[1],f)),t[2]=Kg(o3(l[2],h[2],f)),t[3]=bE(o3(l[3],h[3],f)),t}},Ca.fastMapToColor=Ca.fastLerp,Ca.lerp=function(e,n,t){if(n&&n.length&&e>=0&&e<=1){var i=e*(n.length-1),r=Math.floor(i),o=Math.ceil(i),l=Ca.parse(n[r]),h=Ca.parse(n[o]),f=i-r,m=Ca.stringify([Kg(o3(l[0],h[0],f)),Kg(o3(l[1],h[1],f)),Kg(o3(l[2],h[2],f)),bE(o3(l[3],h[3],f))],"rgba");return t?{color:m,leftIndex:r,rightIndex:o,value:i}:m}},Ca.mapToColor=Ca.lerp,Ca.modifyHSL=function(e,n,t,i){if(e=Ca.parse(e))return e=function B2t(e){if(e){var f,m,n=e[0]/255,t=e[1]/255,i=e[2]/255,r=Math.min(n,t,i),o=Math.max(n,t,i),l=o-r,h=(o+r)/2;if(0===l)f=0,m=0;else{m=h<.5?l/(o+r):l/(2-o-r);var _=((o-n)/6+l/2)/l,b=((o-t)/6+l/2)/l,S=((o-i)/6+l/2)/l;n===o?f=S-b:t===o?f=1/3+_-S:i===o&&(f=2/3+b-_),f<0&&(f+=1),f>1&&(f-=1)}var M=[360*f,m,h];return null!=e[3]&&M.push(e[3]),M}}(e),null!=n&&(e[0]=function F2t(e){return(e=Math.round(e))<0?0:e>360?360:e}(n)),null!=t&&(e[1]=eT(t)),null!=i&&(e[2]=eT(i)),Ca.stringify(ile(e),"rgba")},Ca.modifyAlpha=function(e,n){if((e=Ca.parse(e))&&null!=n)return e[3]=bE(n),Ca.stringify(e,"rgba")},Ca.stringify=function(e,n){if(e&&e.length){var t=e[0]+","+e[1]+","+e[2];return("rgba"===n||"hsva"===n||"hsla"===n)&&(t+=","+e[3]),n+"("+t+")"}};var V2t=Ca.parseToFloat,rle={};function Zbe(e){var n=Object.keys(e);n.sort();for(var t=[],i=0;i<n.length;i++){var r=n[i],o=e[r];t.push(null===o?r:r+" "+o.toString())}return t.join("\n")}var Y2t=Zu.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,n){void 0===n&&console.warn('Uniform value "'+e+'" is undefined');var t=this.uniforms[e];t&&("string"==typeof n&&(n=V2t(n)||n),t.value=n,this.autoUpdateTextureStatus&&"t"===t.type&&(n?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var n in e)this.setUniform(n,e[n])},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,n){if("object"==typeof e)for(var t in e)this.setUniform(t,e[t]);else this.setUniform(e,n)},get:function(e){var n=this.uniforms[e];if(n)return n.value},attachShader:function(e,n){var t=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var i=this.uniforms;this._enabledUniforms=Object.keys(i),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(m){var _=this.uniforms[m].type;return"t"===_||"tv"===_},this);var r=this.vertexDefines,o=this.fragmentDefines;if(this.vertexDefines=Jl.clone(e.vertexDefines),this.fragmentDefines=Jl.clone(e.fragmentDefines),n){for(var l in t)i[l]&&(i[l].value=t[l].value);Jl.defaults(this.vertexDefines,r),Jl.defaults(this.fragmentDefines,o)}var h={};for(var f in e.textures)h[f]={shaderType:e.textures[f].shaderType,type:e.textures[f].type,enabled:!(!n||!this._textureStatus[f])&&this._textureStatus[f].enabled};this._textureStatus=h,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var n in this.uniforms)e.uniforms[n].value=this.uniforms[n].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=Jl.clone(this.vertexDefines),e.fragmentDefines=Jl.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,n,t){var i=this.vertexDefines,r=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(t=n,n=e,e="both"),t=t??null,("vertex"===e||"both"===e)&&i[n]!==t&&(i[n]=t,this._programKey=""),("fragment"===e||"both"===e)&&r[n]!==t&&(r[n]=t,"both"!==e&&(this._programKey=""))},undefine:function(e,n){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(n=e,e="both"),("vertex"===e||"both"===e)&&this.isDefined("vertex",n)&&(delete this.vertexDefines[n],this._programKey=""),("fragment"===e||"both"===e)&&this.isDefined("fragment",n)&&(delete this.fragmentDefines[n],"both"!==e&&(this._programKey=""))},isDefined:function(e,n){switch(e){case"vertex":return void 0!==this.vertexDefines[n];case"fragment":return void 0!==this.fragmentDefines[n]}},getDefine:function(e,n){switch(e){case"vertex":return this.vertexDefines[n];case"fragment":return this.fragmentDefines[n]}},enableTexture:function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.enableTexture(e[n]);else{var t=this._textureStatus[e];t&&(t.enabled||(t.enabled=!0,this._programKey=""))}},enableTexturesAll:function(){var e=this._textureStatus;for(var n in e)e[n].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.disableTexture(e[n]);else{var t=this._textureStatus[e];t&&(!t.enabled||(t.enabled=!1,this._programKey=""))}},disableTexturesAll:function(){var e=this._textureStatus;for(var n in e)e[n].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var n=this._textureStatus;return!!n[e]&&n[e].enabled},getEnabledTextures:function(){var e=[],n=this._textureStatus;for(var t in n)n[t].enabled&&e.push(t);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function H2t(e,n,t){t.sort();for(var i=[],r=0;r<t.length;r++)i.push(t[r]);var l=Zbe(e)+"\n"+Zbe(n)+"\n"+i.join("\n");if(rle[l])return rle[l];var h=Jl.genGUID();return rle[l]=h,h}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});const pp=Y2t;var jj=1e-6,ec=Array,nT=Math.random,Li={create:function(){var e=new ec(2);return e[0]=0,e[1]=0,e},clone:function(e){var n=new ec(2);return n[0]=e[0],n[1]=e[1],n},fromValues:function(e,n){var t=new ec(2);return t[0]=e,t[1]=n,t},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e},set:function(e,n,t){return e[0]=n,e[1]=t,e},add:function(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e},subtract:function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e}};Li.sub=Li.subtract,Li.multiply=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e},Li.mul=Li.multiply,Li.divide=function(e,n,t){return e[0]=n[0]/t[0],e[1]=n[1]/t[1],e},Li.div=Li.divide,Li.min=function(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e},Li.max=function(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e},Li.scale=function(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e},Li.scaleAndAdd=function(e,n,t,i){return e[0]=n[0]+t[0]*i,e[1]=n[1]+t[1]*i,e},Li.distance=function(e,n){var t=n[0]-e[0],i=n[1]-e[1];return Math.sqrt(t*t+i*i)},Li.dist=Li.distance,Li.squaredDistance=function(e,n){var t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i},Li.sqrDist=Li.squaredDistance,Li.length=function(e){var n=e[0],t=e[1];return Math.sqrt(n*n+t*t)},Li.len=Li.length,Li.squaredLength=function(e){var n=e[0],t=e[1];return n*n+t*t},Li.sqrLen=Li.squaredLength,Li.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e},Li.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e},Li.normalize=function(e,n){var t=n[0],i=n[1],r=t*t+i*i;return r>0&&(r=1/Math.sqrt(r),e[0]=n[0]*r,e[1]=n[1]*r),e},Li.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]},Li.cross=function(e,n,t){var i=n[0]*t[1]-n[1]*t[0];return e[0]=e[1]=0,e[2]=i,e},Li.lerp=function(e,n,t,i){var r=n[0],o=n[1];return e[0]=r+i*(t[0]-r),e[1]=o+i*(t[1]-o),e},Li.random=function(e,n){n=n||1;var t=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(t)*n,e[1]=Math.sin(t)*n,e},Li.transformMat2=function(e,n,t){var i=n[0],r=n[1];return e[0]=t[0]*i+t[2]*r,e[1]=t[1]*i+t[3]*r,e},Li.transformMat2d=function(e,n,t){var i=n[0],r=n[1];return e[0]=t[0]*i+t[2]*r+t[4],e[1]=t[1]*i+t[3]*r+t[5],e},Li.transformMat3=function(e,n,t){var i=n[0],r=n[1];return e[0]=t[0]*i+t[3]*r+t[6],e[1]=t[1]*i+t[4]*r+t[7],e},Li.transformMat4=function(e,n,t){var i=n[0],r=n[1];return e[0]=t[0]*i+t[4]*r+t[12],e[1]=t[1]*i+t[5]*r+t[13],e},Li.forEach=function(){var e=Li.create();return function(n,t,i,r,o,l){var h,f;for(t||(t=2),i||(i=0),f=r?Math.min(r*t+i,n.length):n.length,h=i;h<f;h+=t)e[0]=n[h],e[1]=n[h+1],o(e,e,l),n[h]=e[0],n[h+1]=e[1];return n}}();const Yn=Li;var er=function(e,n){this.array=Yn.fromValues(e=e||0,n=n||0),this._dirty=!0};if(er.prototype={constructor:er,add:function(e){return Yn.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n){return this.array[0]=e,this.array[1]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new er(this.x,this.y)},copy:function(e){return Yn.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,n){return Yn.cross(e.array,this.array,n.array),e._dirty=!0,this},dist:function(e){return Yn.dist(this.array,e.array)},distance:function(e){return Yn.distance(this.array,e.array)},div:function(e){return Yn.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return Yn.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return Yn.dot(this.array,e.array)},len:function(){return Yn.len(this.array)},length:function(){return Yn.length(this.array)},lerp:function(e,n,t){return Yn.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},min:function(e){return Yn.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return Yn.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return Yn.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return Yn.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return Yn.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Yn.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return Yn.random(this.array,e),this._dirty=!0,this},scale:function(e){return Yn.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return Yn.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return Yn.sqrDist(this.array,e.array)},squaredDistance:function(e){return Yn.squaredDistance(this.array,e.array)},sqrLen:function(){return Yn.sqrLen(this.array)},squaredLength:function(){return Yn.squaredLength(this.array)},sub:function(e){return Yn.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return Yn.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return Yn.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return Yn.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return Yn.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return Yn.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var Kbe=er.prototype;Object.defineProperty(Kbe,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(Kbe,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}er.add=function(e,n,t){return Yn.add(e.array,n.array,t.array),e._dirty=!0,e},er.set=function(e,n,t){return Yn.set(e.array,n,t),e._dirty=!0,e},er.copy=function(e,n){return Yn.copy(e.array,n.array),e._dirty=!0,e},er.cross=function(e,n,t){return Yn.cross(e.array,n.array,t.array),e._dirty=!0,e},er.dist=function(e,n){return Yn.distance(e.array,n.array)},er.distance=er.dist,er.div=function(e,n,t){return Yn.divide(e.array,n.array,t.array),e._dirty=!0,e},er.divide=er.div,er.dot=function(e,n){return Yn.dot(e.array,n.array)},er.len=function(e){return Yn.length(e.array)},er.lerp=function(e,n,t,i){return Yn.lerp(e.array,n.array,t.array,i),e._dirty=!0,e},er.min=function(e,n,t){return Yn.min(e.array,n.array,t.array),e._dirty=!0,e},er.max=function(e,n,t){return Yn.max(e.array,n.array,t.array),e._dirty=!0,e},er.mul=function(e,n,t){return Yn.multiply(e.array,n.array,t.array),e._dirty=!0,e},er.multiply=er.mul,er.negate=function(e,n){return Yn.negate(e.array,n.array),e._dirty=!0,e},er.normalize=function(e,n){return Yn.normalize(e.array,n.array),e._dirty=!0,e},er.random=function(e,n){return Yn.random(e.array,n),e._dirty=!0,e},er.scale=function(e,n,t){return Yn.scale(e.array,n.array,t),e._dirty=!0,e},er.scaleAndAdd=function(e,n,t,i){return Yn.scaleAndAdd(e.array,n.array,t.array,i),e._dirty=!0,e},er.sqrDist=function(e,n){return Yn.sqrDist(e.array,n.array)},er.squaredDistance=er.sqrDist,er.sqrLen=function(e){return Yn.sqrLen(e.array)},er.squaredLength=er.sqrLen,er.sub=function(e,n,t){return Yn.subtract(e.array,n.array,t.array),e._dirty=!0,e},er.subtract=er.sub,er.transformMat2=function(e,n,t){return Yn.transformMat2(e.array,n.array,t.array),e._dirty=!0,e},er.transformMat2d=function(e,n,t){return Yn.transformMat2d(e.array,n.array,t.array),e._dirty=!0,e},er.transformMat3=function(e,n,t){return Yn.transformMat3(e.array,n.array,t.array),e._dirty=!0,e},er.transformMat4=function(e,n,t){return Yn.transformMat4(e.array,n.array,t.array),e._dirty=!0,e};const Fd=er;var eCe={};function U2t(e){for(var n=e.split("\n"),t=0,i=n.length;t<i;t++)n[t]=t+1+": "+n[t];return n.join("\n")}function tCe(e,n,t){if(!e.getShaderParameter(n,e.COMPILE_STATUS))return[e.getShaderInfoLog(n),U2t(t)].join("\n")}var nCe=new ks.Float32Array(16),G2t=Zu.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){return null!=this._locations[e]},useTextureSlot:function(e,n,t){n&&(e.gl.activeTexture(e.gl.TEXTURE0+t),n.isRenderable()?n.bind(e):n.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,n){var t=this._textureSlot;return this.useTextureSlot(e,n,t),this._textureSlot++,t},setUniform:function(e,n,t,i){var o=this._locations[t];if(null==o)return!1;switch(n){case"m4":if(!(i instanceof Float32Array)){for(var l=0;l<i.length;l++)nCe[l]=i[l];i=nCe}e.uniformMatrix4fv(o,!1,i);break;case"2i":e.uniform2i(o,i[0],i[1]);break;case"2f":e.uniform2f(o,i[0],i[1]);break;case"3i":e.uniform3i(o,i[0],i[1],i[2]);break;case"3f":e.uniform3f(o,i[0],i[1],i[2]);break;case"4i":e.uniform4i(o,i[0],i[1],i[2],i[3]);break;case"4f":e.uniform4f(o,i[0],i[1],i[2],i[3]);break;case"1i":e.uniform1i(o,i);break;case"1f":e.uniform1f(o,i);break;case"1fv":e.uniform1fv(o,i);break;case"1iv":e.uniform1iv(o,i);break;case"2iv":e.uniform2iv(o,i);break;case"2fv":e.uniform2fv(o,i);break;case"3iv":e.uniform3iv(o,i);break;case"3fv":e.uniform3fv(o,i);break;case"4iv":e.uniform4iv(o,i);break;case"4fv":e.uniform4fv(o,i);break;case"m2":case"m2v":e.uniformMatrix2fv(o,!1,i);break;case"m3":case"m3v":e.uniformMatrix3fv(o,!1,i);break;case"m4v":if(Array.isArray(i)&&Array.isArray(i[0])){var h=new ks.Float32Array(16*i.length),f=0;for(l=0;l<i.length;l++)for(var m=i[l],_=0;_<16;_++)h[f++]=m[_];e.uniformMatrix4fv(o,!1,h)}else e.uniformMatrix4fv(o,!1,i)}return!0},setUniformOfSemantic:function(e,n,t){var i=this.uniformSemantics[n];return!!i&&this.setUniform(e,i.type,i.symbol,t)},enableAttributes:function(e,n,t){var l,i=e.gl,r=this._program,o=this._locations;(l=t?t.__enabledAttributeList:eCe[e.__uid__])||(l=t?t.__enabledAttributeList=[]:eCe[e.__uid__]=[]);for(var h=[],f=0;f<n.length;f++){var m=n[f];if(this.attributes[m]){var _=o[m];if(null==_){if(-1===(_=i.getAttribLocation(r,m))){h[f]=-1;continue}o[m]=_}h[f]=_,l[_]=l[_]?2:1}else h[f]=-1}for(f=0;f<l.length;f++)switch(l[f]){case 1:i.enableVertexAttribArray(f),l[f]=3;break;case 2:l[f]=3;break;case 3:i.disableVertexAttribArray(f),l[f]=0}return h},getAttribLocation:function(e,n){var t=this._locations,i=t[n];return null==i&&(i=e.getAttribLocation(this._program,n),t[n]=i),i},buildProgram:function(e,n,t,i){var r=e.createShader(e.VERTEX_SHADER),o=e.createProgram();e.shaderSource(r,t),e.compileShader(r);var l=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(l,i),e.compileShader(l);var h=tCe(e,r,t);if(h||(h=tCe(e,l,i)))return h;if(e.attachShader(o,r),e.attachShader(o,l),n.attributeSemantics.POSITION)e.bindAttribLocation(o,0,n.attributeSemantics.POSITION.symbol);else{var f=Object.keys(this.attributes);e.bindAttribLocation(o,0,f[0])}if(e.linkProgram(o),e.deleteShader(r),e.deleteShader(l),this._program=o,this.vertexCode=t,this.fragmentCode=i,!e.getProgramParameter(o,e.LINK_STATUS))return"Could not link program\n"+e.getProgramInfoLog(o);for(var m=0;m<n.uniforms.length;m++){var _=n.uniforms[m];this._locations[_]=e.getUniformLocation(o,_)}}});const W2t=G2t;var j2t=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function iCe(e,n,t){var r={};for(var o in t)r[o+"_COUNT"]=t[o];return e.replace(j2t,function i(l,h,f,m){var _="";isNaN(h)&&(h=h in n?n[h]:r[h]),isNaN(f)&&(f=f in n?n[f]:r[f]);for(var b=parseInt(h);b<parseInt(f);b++)_+="{"+m.replace(/float\s*\(\s*_idx_\s*\)/g,b.toFixed(1)).replace(/_idx_/g,b)+"}";return _})}function ale(e,n,t){var i=[];if(n)for(var r in n){var o=n[r];o>0&&i.push("#define "+r.toUpperCase()+"_COUNT "+o)}if(t)for(var l=0;l<t.length;l++)i.push("#define "+(h=t[l]).toUpperCase()+"_ENABLED");for(var h in e){var f=e[h];i.push(null===f?"#define "+h:"#define "+h+" "+f.toString())}return i.join("\n")}function rCe(e){this._renderer=e,this._cache={}}rCe.prototype.getProgram=function(e,n,t){var i=this._cache,r=e.isSkinnedMesh&&e.isSkinnedMesh(),o=e.isInstancedMesh&&e.isInstancedMesh(),l="s"+n.shader.shaderID+"m"+n.getProgramKey();if(t&&(l+="se"+t.getProgramKey(e.lightGroup)),r&&(l+=",sk"+e.joints.length),o&&(l+=",is"),K=i[l])return K;var h=t?t.getLightsNumbers(e.lightGroup):{},f=this._renderer,m=f.gl,_=n.getEnabledTextures(),b="";if(r){var S={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>f.getMaxJointNumber()&&(S.USE_SKIN_MATRICES_TEXTURE=null),b+="\n"+ale(S)+"\n"}o&&(b+="\n#define INSTANCING\n");var M=b+ale(n.vertexDefines,h,_),O=b+ale(n.fragmentDefines,h,_),I=M+"\n"+n.shader.vertex,N=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(ie){return null!=f.getGLExtension(ie)});N.indexOf("EXT_shader_texture_lod")>=0&&(O+="\n#define SUPPORT_TEXTURE_LOD"),N.indexOf("OES_standard_derivatives")>=0&&(O+="\n#define SUPPORT_STANDARD_DERIVATIVES");var K,V=function $2t(e){for(var n=[],t=0;t<e.length;t++)n.push("#extension GL_"+e[t]+" : enable");return n.join("\n")}(N)+"\n"+function X2t(e){return["precision",e,"float"].join(" ")+";\n"+["precision",e,"int"].join(" ")+";\n"+["precision",e,"sampler2D"].join(" ")+";\n"}(n.precision)+"\n"+O+"\n"+n.shader.fragment,G=iCe(I,n.vertexDefines,h),X=iCe(V,n.fragmentDefines,h);(K=new W2t).uniformSemantics=n.shader.uniformSemantics,K.attributes=n.shader.attributes;var ne=K.buildProgram(m,n.shader,G,X);return K.__error=ne,i[l]=K,K};const q2t=rCe;var oCe=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,Z2t=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,aCe=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,K2t={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function a2(e){for(var n=[],t=0;t<e;t++)n[t]=0;return n}var sCe={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return a2(2)},vec3:function(){return a2(3)},vec4:function(){return a2(4)},ivec2:function(){return a2(2)},ivec3:function(){return a2(3)},ivec4:function(){return a2(4)},mat2:function(){return a2(4)},mat3:function(){return a2(9)},mat4:function(){return a2(16)},array:function(){return[]}},sle=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],lCe=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],cCe=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],Q2t={vec4:4,vec3:3,vec2:2,float:1},lle={},uCe={};function hCe(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function iT(){console.error("Wrong uniform/attributes syntax")}function dCe(e,n){for(var t=/[,=\(\):]/,i=n.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),r=[],o=0;o<i.length;o++)i[o].match(t)?r.push(i[o].charAt(0),i[o].slice(1)):r.push(i[o]);var I,S=0,M={},O=null;function N(X){X||iT();var K=X.match(/\[(.*?)\]/);I=X.replace(/\[(.*?)\]/,""),M[I]={},K&&(M[I].isArray=!0,M[I].arraySize=K[1])}for(N((i=r)[0]),o=1;o<i.length;o++){var V=i[o];if(V){if("="===V){if(0!==S&&3!==S){iT();break}S=1;continue}if(":"===V){S=4;continue}if(","===V){if(2===S){if(!(O instanceof Array)){iT();break}O.push(+i[++o])}else S=5;continue}if(")"===V){M[I].value=new ks.Float32Array(O),O=null,S=5;continue}if("("===V){if(2!==S){iT();break}if(!(O instanceof Array)){iT();break}O.push(+i[++o]);continue}if(V.indexOf("vec")>=0){if(1!==S&&4!==S){iT();break}S=2,O=[];continue}if(1===S){M[I].value="bool"===e?"true"===V:parseFloat(V),O=null;continue}if(4===S){var G=V;sle.indexOf(G)>=0||lCe.indexOf(G)>=0||cCe.indexOf(G)>=0?M[I].semantic=G:"ignore"===G||"unconfigurable"===G?M[I].ignore=!0:M[I].value="bool"===e?"true"===G:parseFloat(G);continue}N(V),S=0}}return M}function Xs(e,n){"object"==typeof e&&(n=e.fragment,e=e.vertex),e=hCe(e),n=hCe(n),this._shaderID=function J2t(e,n){var t="vertex:"+e+"fragment:"+n;if(lle[t])return lle[t];var i=Jl.genGUID();return lle[t]=i,uCe[i]={vertex:e,fragment:n},i}(e,n),this._vertexCode=Xs.parseImport(e),this._fragmentCode=Xs.parseImport(n),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}Xs.prototype={constructor:Xs,createUniforms:function(){var e={};for(var n in this.uniformTemplates){var t=this.uniformTemplates[n];e[n]={type:t.type,value:t.value()}}return e},_parseImport:function(){this._vertexCode=Xs.parseImport(this.vertex),this._fragmentCode=Xs.parseImport(this.fragment)},_addSemanticUniform:function(e,n,t){if(sle.indexOf(t)>=0)this.attributeSemantics[t]={symbol:e,type:n};else if(cCe.indexOf(t)>=0){var i=!1,r=t;t.match(/TRANSPOSE$/)&&(i=!0,r=t.slice(0,-9)),this.matrixSemantics[t]={symbol:e,type:n,isTranspose:i,semanticNoTranspose:r}}else lCe.indexOf(t)>=0&&(this.uniformSemantics[t]={symbol:e,type:n})},_addMaterialUniform:function(e,n,t,i,r,o){o[e]={type:t,value:r?sCe.array:i||sCe[n],semantic:null}},_parseUniforms:function(){var e={},n=this;function i(o){return null!=o?function(){return o}:null}function r(o,l,h){var f=dCe(l,h),m=[];for(var _ in f){var b=f[_],S=b.semantic,M=_,O=K2t[l],I=i(f[_].value);f[_].isArray&&(M+="["+f[_].arraySize+"]",O+="v"),m.push(M),n._uniformList.push(_),b.ignore||(("sampler2D"===l||"samplerCube"===l)&&(n.textures[_]={shaderType:"fragment",type:l}),S?n._addSemanticUniform(_,O,S):n._addMaterialUniform(_,l,O,I,f[_].isArray,e))}return m.length>0?"uniform "+l+" "+m.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(oCe,r),this._fragmentCode=this._fragmentCode.replace(oCe,r),n.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},n=this;this._vertexCode=this._vertexCode.replace(Z2t,function t(i,r,o){var l=dCe(r,o),h=Q2t[r]||1,f=[];for(var m in l){var _=l[m].semantic;if(e[m]={type:"float",size:h,semantic:_||null},_){if(sle.indexOf(_)<0)throw new Error('Unkown semantic "'+_+'"');n.attributeSemantics[_]={symbol:m,type:r}}f.push(m)}return"attribute "+r+" "+f.join(",")+";\n"}),this.attributes=e},_parseDefines:function(){var e=this;function t(i,r,o){var l=e.fragmentDefines;return l[r]||(l[r]="false"!==o&&("true"===o||(o?isNaN(parseFloat(o))?o.trim():parseFloat(o):null))),""}this._vertexCode=this._vertexCode.replace(aCe,t),this._fragmentCode=this._fragmentCode.replace(aCe,t)},clone:function(){var e=uCe[this._shaderID];return new Xs(e.vertex,e.fragment)}},Object.defineProperty&&(Object.defineProperty(Xs.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(Xs.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(Xs.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(Xs.prototype,"uniforms",{get:function(){return this._uniformList}}));var e_t=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;Xs.parseImport=function(e){return e.replace(e_t,function(r,t,i){return(r=Xs.source(i))?Xs.parseImport(r):(console.error('Shader chunk "'+i+'" not existed in library'),"")})};var t_t=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;Xs.import=function(e){e.replace(t_t,function(n,t,i,o){if(o=o.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var m,l=i.split("."),h=Xs.codes,f=0;f<l.length-1;)h[m=l[f++]]||(h[m]={}),h=h[m];h[m=l[f]]=o}return o})},Xs.codes={},Xs.source=function(e){for(var n=e.split("."),t=Xs.codes,i=0;t&&i<n.length;)t=t[n[i++]];return"string"!=typeof t?(console.error('Shader "'+e+'" not existed in library'),""):t};const sn=Xs,fCe="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end";var zo={create:function(){var e=new ec(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var n=new ec(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,n){if(e===n){var t=n[1],i=n[2],r=n[3],o=n[6],l=n[7],h=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=t,e[6]=n[9],e[7]=n[13],e[8]=i,e[9]=o,e[11]=n[14],e[12]=r,e[13]=l,e[14]=h}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e},invert:function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=n[4],h=n[5],f=n[6],m=n[7],_=n[8],b=n[9],S=n[10],M=n[11],O=n[12],I=n[13],N=n[14],V=n[15],G=t*h-i*l,X=t*f-r*l,K=t*m-o*l,ne=i*f-r*h,ie=i*m-o*h,pe=r*m-o*f,ve=_*I-b*O,ye=_*N-S*O,Se=_*V-M*O,xe=b*N-S*I,De=b*V-M*I,Pe=S*V-M*N,Re=G*Pe-X*De+K*xe+ne*Se-ie*ye+pe*ve;return Re?(e[0]=(h*Pe-f*De+m*xe)*(Re=1/Re),e[1]=(r*De-i*Pe-o*xe)*Re,e[2]=(I*pe-N*ie+V*ne)*Re,e[3]=(S*ie-b*pe-M*ne)*Re,e[4]=(f*Se-l*Pe-m*ye)*Re,e[5]=(t*Pe-r*Se+o*ye)*Re,e[6]=(N*K-O*pe-V*X)*Re,e[7]=(_*pe-S*K+M*X)*Re,e[8]=(l*De-h*Se+m*ve)*Re,e[9]=(i*Se-t*De-o*ve)*Re,e[10]=(O*ie-I*K+V*G)*Re,e[11]=(b*K-_*ie-M*G)*Re,e[12]=(h*ye-l*xe-f*ve)*Re,e[13]=(t*xe-i*ye+r*ve)*Re,e[14]=(I*X-O*ne-N*G)*Re,e[15]=(_*ne-b*X+S*G)*Re,e):null},adjoint:function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=n[4],h=n[5],f=n[6],m=n[7],_=n[8],b=n[9],S=n[10],M=n[11],O=n[12],I=n[13],N=n[14],V=n[15];return e[0]=h*(S*V-M*N)-b*(f*V-m*N)+I*(f*M-m*S),e[1]=-(i*(S*V-M*N)-b*(r*V-o*N)+I*(r*M-o*S)),e[2]=i*(f*V-m*N)-h*(r*V-o*N)+I*(r*m-o*f),e[3]=-(i*(f*M-m*S)-h*(r*M-o*S)+b*(r*m-o*f)),e[4]=-(l*(S*V-M*N)-_*(f*V-m*N)+O*(f*M-m*S)),e[5]=t*(S*V-M*N)-_*(r*V-o*N)+O*(r*M-o*S),e[6]=-(t*(f*V-m*N)-l*(r*V-o*N)+O*(r*m-o*f)),e[7]=t*(f*M-m*S)-l*(r*M-o*S)+_*(r*m-o*f),e[8]=l*(b*V-M*I)-_*(h*V-m*I)+O*(h*M-m*b),e[9]=-(t*(b*V-M*I)-_*(i*V-o*I)+O*(i*M-o*b)),e[10]=t*(h*V-m*I)-l*(i*V-o*I)+O*(i*m-o*h),e[11]=-(t*(h*M-m*b)-l*(i*M-o*b)+_*(i*m-o*h)),e[12]=-(l*(b*N-S*I)-_*(h*N-f*I)+O*(h*S-f*b)),e[13]=t*(b*N-S*I)-_*(i*N-r*I)+O*(i*S-r*b),e[14]=-(t*(h*N-f*I)-l*(i*N-r*I)+O*(i*f-r*h)),e[15]=t*(h*S-f*b)-l*(i*S-r*b)+_*(i*f-r*h),e},determinant:function(e){var n=e[0],t=e[1],i=e[2],r=e[3],o=e[4],l=e[5],h=e[6],f=e[7],m=e[8],_=e[9],b=e[10],S=e[11],M=e[12],O=e[13],I=e[14],N=e[15];return(n*l-t*o)*(b*N-S*I)-(n*h-i*o)*(_*N-S*O)+(n*f-r*o)*(_*I-b*O)+(t*h-i*l)*(m*N-S*M)-(t*f-r*l)*(m*I-b*M)+(i*f-r*h)*(m*O-_*M)},multiply:function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=n[6],_=n[7],b=n[8],S=n[9],M=n[10],O=n[11],I=n[12],N=n[13],V=n[14],G=n[15],X=t[0],K=t[1],ne=t[2],ie=t[3];return e[0]=X*i+K*h+ne*b+ie*I,e[1]=X*r+K*f+ne*S+ie*N,e[2]=X*o+K*m+ne*M+ie*V,e[3]=X*l+K*_+ne*O+ie*G,e[4]=(X=t[4])*i+(K=t[5])*h+(ne=t[6])*b+(ie=t[7])*I,e[5]=X*r+K*f+ne*S+ie*N,e[6]=X*o+K*m+ne*M+ie*V,e[7]=X*l+K*_+ne*O+ie*G,e[8]=(X=t[8])*i+(K=t[9])*h+(ne=t[10])*b+(ie=t[11])*I,e[9]=X*r+K*f+ne*S+ie*N,e[10]=X*o+K*m+ne*M+ie*V,e[11]=X*l+K*_+ne*O+ie*G,e[12]=(X=t[12])*i+(K=t[13])*h+(ne=t[14])*b+(ie=t[15])*I,e[13]=X*r+K*f+ne*S+ie*N,e[14]=X*o+K*m+ne*M+ie*V,e[15]=X*l+K*_+ne*O+ie*G,e},multiplyAffine:function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[4],h=n[5],f=n[6],m=n[8],_=n[9],b=n[10],S=n[12],M=n[13],O=n[14],I=t[0],N=t[1],V=t[2];return e[0]=I*i+N*l+V*m,e[1]=I*r+N*h+V*_,e[2]=I*o+N*f+V*b,e[4]=(I=t[4])*i+(N=t[5])*l+(V=t[6])*m,e[5]=I*r+N*h+V*_,e[6]=I*o+N*f+V*b,e[8]=(I=t[8])*i+(N=t[9])*l+(V=t[10])*m,e[9]=I*r+N*h+V*_,e[10]=I*o+N*f+V*b,e[12]=(I=t[12])*i+(N=t[13])*l+(V=t[14])*m+S,e[13]=I*r+N*h+V*_+M,e[14]=I*o+N*f+V*b+O,e}};zo.mul=zo.multiply,zo.mulAffine=zo.multiplyAffine,zo.translate=function(e,n,t){var l,h,f,m,_,b,S,M,O,I,N,V,i=t[0],r=t[1],o=t[2];return n===e?(e[12]=n[0]*i+n[4]*r+n[8]*o+n[12],e[13]=n[1]*i+n[5]*r+n[9]*o+n[13],e[14]=n[2]*i+n[6]*r+n[10]*o+n[14],e[15]=n[3]*i+n[7]*r+n[11]*o+n[15]):(h=n[1],f=n[2],m=n[3],_=n[4],b=n[5],S=n[6],M=n[7],O=n[8],I=n[9],N=n[10],V=n[11],e[0]=l=n[0],e[1]=h,e[2]=f,e[3]=m,e[4]=_,e[5]=b,e[6]=S,e[7]=M,e[8]=O,e[9]=I,e[10]=N,e[11]=V,e[12]=l*i+_*r+O*o+n[12],e[13]=h*i+b*r+I*o+n[13],e[14]=f*i+S*r+N*o+n[14],e[15]=m*i+M*r+V*o+n[15]),e},zo.scale=function(e,n,t){var i=t[0],r=t[1],o=t[2];return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=n[3]*i,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=n[7]*r,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=n[11]*o,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},zo.rotate=function(e,n,t,i){var f,m,_,b,S,M,O,I,N,V,G,X,K,ne,ie,pe,ve,ye,Se,xe,De,Pe,Re,ke,r=i[0],o=i[1],l=i[2],h=Math.sqrt(r*r+o*o+l*l);return Math.abs(h)<jj?null:(r*=h=1/h,o*=h,l*=h,f=Math.sin(t),m=Math.cos(t),S=n[1],M=n[2],O=n[3],N=n[5],V=n[6],G=n[7],K=n[9],ne=n[10],ie=n[11],Se=r*o*(_=1-m)-l*f,xe=o*o*_+m,De=l*o*_+r*f,Pe=r*l*_+o*f,Re=o*l*_-r*f,ke=l*l*_+m,e[0]=(b=n[0])*(pe=r*r*_+m)+(I=n[4])*(ve=o*r*_+l*f)+(X=n[8])*(ye=l*r*_-o*f),e[1]=S*pe+N*ve+K*ye,e[2]=M*pe+V*ve+ne*ye,e[3]=O*pe+G*ve+ie*ye,e[4]=b*Se+I*xe+X*De,e[5]=S*Se+N*xe+K*De,e[6]=M*Se+V*xe+ne*De,e[7]=O*Se+G*xe+ie*De,e[8]=b*Pe+I*Re+X*ke,e[9]=S*Pe+N*Re+K*ke,e[10]=M*Pe+V*Re+ne*ke,e[11]=O*Pe+G*Re+ie*ke,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)},zo.rotateX=function(e,n,t){var i=Math.sin(t),r=Math.cos(t),o=n[4],l=n[5],h=n[6],f=n[7],m=n[8],_=n[9],b=n[10],S=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=o*r+m*i,e[5]=l*r+_*i,e[6]=h*r+b*i,e[7]=f*r+S*i,e[8]=m*r-o*i,e[9]=_*r-l*i,e[10]=b*r-h*i,e[11]=S*r-f*i,e},zo.rotateY=function(e,n,t){var i=Math.sin(t),r=Math.cos(t),o=n[0],l=n[1],h=n[2],f=n[3],m=n[8],_=n[9],b=n[10],S=n[11];return n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=o*r-m*i,e[1]=l*r-_*i,e[2]=h*r-b*i,e[3]=f*r-S*i,e[8]=o*i+m*r,e[9]=l*i+_*r,e[10]=h*i+b*r,e[11]=f*i+S*r,e},zo.rotateZ=function(e,n,t){var i=Math.sin(t),r=Math.cos(t),o=n[0],l=n[1],h=n[2],f=n[3],m=n[4],_=n[5],b=n[6],S=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=o*r+m*i,e[1]=l*r+_*i,e[2]=h*r+b*i,e[3]=f*r+S*i,e[4]=m*r-o*i,e[5]=_*r-l*i,e[6]=b*r-h*i,e[7]=S*r-f*i,e},zo.fromRotationTranslation=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=i+i,f=r+r,m=o+o,_=i*h,b=i*f,S=i*m,M=r*f,O=r*m,I=o*m,N=l*h,V=l*f,G=l*m;return e[0]=1-(M+I),e[1]=b+G,e[2]=S-V,e[3]=0,e[4]=b-G,e[5]=1-(_+I),e[6]=O+N,e[7]=0,e[8]=S+V,e[9]=O-N,e[10]=1-(_+M),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},zo.fromQuat=function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=t+t,h=i+i,f=r+r,m=t*l,_=i*l,b=i*h,S=r*l,M=r*h,O=r*f,I=o*l,N=o*h,V=o*f;return e[0]=1-b-O,e[1]=_+V,e[2]=S-N,e[3]=0,e[4]=_-V,e[5]=1-m-O,e[6]=M+I,e[7]=0,e[8]=S+N,e[9]=M-I,e[10]=1-m-b,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},zo.frustum=function(e,n,t,i,r,o,l){var h=1/(t-n),f=1/(r-i),m=1/(o-l);return e[0]=2*o*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*f,e[6]=0,e[7]=0,e[8]=(t+n)*h,e[9]=(r+i)*f,e[10]=(l+o)*m,e[11]=-1,e[12]=0,e[13]=0,e[14]=l*o*2*m,e[15]=0,e},zo.perspective=function(e,n,t,i,r){var o=1/Math.tan(n/2),l=1/(i-r);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(r+i)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*r*i*l,e[15]=0,e},zo.ortho=function(e,n,t,i,r,o,l){var h=1/(n-t),f=1/(i-r),m=1/(o-l);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*m,e[11]=0,e[12]=(n+t)*h,e[13]=(r+i)*f,e[14]=(l+o)*m,e[15]=1,e},zo.lookAt=function(e,n,t,i){var r,o,l,h,f,m,_,b,S,M,O=n[0],I=n[1],N=n[2],V=i[0],G=i[1],X=i[2],K=t[0],ne=t[1],ie=t[2];return Math.abs(O-K)<jj&&Math.abs(I-ne)<jj&&Math.abs(N-ie)<jj?zo.identity(e):(_=O-K,b=I-ne,S=N-ie,r=G*(S*=M=1/Math.sqrt(_*_+b*b+S*S))-X*(b*=M),o=X*(_*=M)-V*S,l=V*b-G*_,(M=Math.sqrt(r*r+o*o+l*l))?(r*=M=1/M,o*=M,l*=M):(r=0,o=0,l=0),h=b*l-S*o,f=S*r-_*l,m=_*o-b*r,(M=Math.sqrt(h*h+f*f+m*m))?(h*=M=1/M,f*=M,m*=M):(h=0,f=0,m=0),e[0]=r,e[1]=h,e[2]=_,e[3]=0,e[4]=o,e[5]=f,e[6]=b,e[7]=0,e[8]=l,e[9]=m,e[10]=S,e[11]=0,e[12]=-(r*O+o*I+l*N),e[13]=-(h*O+f*I+m*N),e[14]=-(_*O+b*I+S*N),e[15]=1,e)},zo.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};const Ut=zo;var ni={create:function(){var e=new ec(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var n=new ec(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},fromValues:function(e,n,t){var i=new ec(3);return i[0]=e,i[1]=n,i[2]=t,i},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e},set:function(e,n,t,i){return e[0]=n,e[1]=t,e[2]=i,e},add:function(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e},subtract:function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e}};ni.sub=ni.subtract,ni.multiply=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e},ni.mul=ni.multiply,ni.divide=function(e,n,t){return e[0]=n[0]/t[0],e[1]=n[1]/t[1],e[2]=n[2]/t[2],e},ni.div=ni.divide,ni.min=function(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.min(n[2],t[2]),e},ni.max=function(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e},ni.scale=function(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e},ni.scaleAndAdd=function(e,n,t,i){return e[0]=n[0]+t[0]*i,e[1]=n[1]+t[1]*i,e[2]=n[2]+t[2]*i,e},ni.distance=function(e,n){var t=n[0]-e[0],i=n[1]-e[1],r=n[2]-e[2];return Math.sqrt(t*t+i*i+r*r)},ni.dist=ni.distance,ni.squaredDistance=function(e,n){var t=n[0]-e[0],i=n[1]-e[1],r=n[2]-e[2];return t*t+i*i+r*r},ni.sqrDist=ni.squaredDistance,ni.length=function(e){var n=e[0],t=e[1],i=e[2];return Math.sqrt(n*n+t*t+i*i)},ni.len=ni.length,ni.squaredLength=function(e){var n=e[0],t=e[1],i=e[2];return n*n+t*t+i*i},ni.sqrLen=ni.squaredLength,ni.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e},ni.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],e},ni.normalize=function(e,n){var t=n[0],i=n[1],r=n[2],o=t*t+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=n[0]*o,e[1]=n[1]*o,e[2]=n[2]*o),e},ni.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]},ni.cross=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=t[0],h=t[1],f=t[2];return e[0]=r*f-o*h,e[1]=o*l-i*f,e[2]=i*h-r*l,e},ni.lerp=function(e,n,t,i){var r=n[0],o=n[1],l=n[2];return e[0]=r+i*(t[0]-r),e[1]=o+i*(t[1]-o),e[2]=l+i*(t[2]-l),e},ni.random=function(e,n){n=n||1;var t=2*nT()*Math.PI,i=2*nT()-1,r=Math.sqrt(1-i*i)*n;return e[0]=Math.cos(t)*r,e[1]=Math.sin(t)*r,e[2]=i*n,e},ni.transformMat4=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=t[3]*i+t[7]*r+t[11]*o+t[15];return e[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(l=l||1),e[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/l,e[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/l,e},ni.transformMat3=function(e,n,t){var i=n[0],r=n[1],o=n[2];return e[0]=i*t[0]+r*t[3]+o*t[6],e[1]=i*t[1]+r*t[4]+o*t[7],e[2]=i*t[2]+r*t[5]+o*t[8],e},ni.transformQuat=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=t[0],h=t[1],f=t[2],m=t[3],_=m*i+h*o-f*r,b=m*r+f*i-l*o,S=m*o+l*r-h*i,M=-l*i-h*r-f*o;return e[0]=_*m+M*-l+b*-f-S*-h,e[1]=b*m+M*-h+S*-l-_*-f,e[2]=S*m+M*-f+_*-h-b*-l,e},ni.rotateX=function(e,n,t,i){var r=[],o=[];return r[0]=n[0]-t[0],r[1]=n[1]-t[1],r[2]=n[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),e[0]=o[0]+t[0],e[1]=o[1]+t[1],e[2]=o[2]+t[2],e},ni.rotateY=function(e,n,t,i){var r=[],o=[];return r[0]=n[0]-t[0],r[1]=n[1]-t[1],r[2]=n[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=o[0]+t[0],e[1]=o[1]+t[1],e[2]=o[2]+t[2],e},ni.rotateZ=function(e,n,t,i){var r=[],o=[];return r[0]=n[0]-t[0],r[1]=n[1]-t[1],r[2]=n[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],e[0]=o[0]+t[0],e[1]=o[1]+t[1],e[2]=o[2]+t[2],e},ni.forEach=function(){var e=ni.create();return function(n,t,i,r,o,l){var h,f;for(t||(t=3),i||(i=0),f=r?Math.min(r*t+i,n.length):n.length,h=i;h<f;h+=t)e[0]=n[h],e[1]=n[h+1],e[2]=n[h+2],o(e,e,l),n[h]=e[0],n[h+1]=e[1],n[h+2]=e[2];return n}}(),ni.angle=function(e,n){var t=ni.fromValues(e[0],e[1],e[2]),i=ni.fromValues(n[0],n[1],n[2]);ni.normalize(t,t),ni.normalize(i,i);var r=ni.dot(t,i);return r>1?0:Math.acos(r)};const je=ni;sn.import(fCe);var ra=Ut.create,pCe={};function gCe(e){return e.material}function n_t(e,n,t){return n.uniforms[t].value}function i_t(e,n,t,i){return t!==i}function r_t(e){return!0}function mCe(){}var vCe={float:5126,byte:5120,ubyte:5121,short:5122,ushort:5123};function o_t(e,n,t){this.availableAttributes=e,this.availableAttributeSymbols=n,this.indicesBuffer=t,this.vao=null}function a_t(e){var n,t;this.bind=function(i){n||((n=ks.createCanvas()).width=n.height=1,n.getContext("2d"));var r=i.gl,o=!t;o&&(t=r.createTexture()),r.bindTexture(r.TEXTURE_2D,t),o&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n)},this.unbind=function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var a3=Zu.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=ks.createCanvas());var e=this.canvas;try{var n={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!this.gl)throw new Error;this._glinfo=new I2t(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(t){throw"Error creating WebGL Context "+t}this._programMgr=new q2t(this),this._placeholderTexture=new a_t(this)},{resize:function(e,n){var t=this.canvas,i=this.devicePixelRatio;null!=e?(t.style&&(t.style.width=e+"px",t.style.height=n+"px"),t.width=e*i,t.height=n*i,this._width=e,this._height=n):(this._width=t.width/i,this._height=t.height/i),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,n,t,i,r){if("object"==typeof e){var o=e;e=o.x,n=o.y,t=o.width,i=o.height,r=o.devicePixelRatio}this.gl.viewport(e*(r=r||this.devicePixelRatio),n*r,t*r,i*r),this.viewport={x:e,y:n,width:t,height:i,devicePixelRatio:r}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,n,t,i){var r=this.gl,o=this.clearColor;if(this.clearBit){r.colorMask(!0,!0,!0,!0),r.depthMask(!0);var l=this.viewport,h=!1,f=l.devicePixelRatio;(l.width!==this._width||l.height!==this._height||f&&f!==this.devicePixelRatio||l.x||l.y)&&(h=!0,r.enable(r.SCISSOR_TEST),r.scissor(l.x*f,l.y*f,l.width*f,l.height*f)),r.clearColor(o[0],o[1],o[2],o[3]),r.clear(this.clearBit),h&&r.disable(r.SCISSOR_TEST)}if(t||e.update(!1),e.updateLights(),n=n||e.getMainCamera()){n.update();var m=e.updateRenderList(n,!0);this._sceneRendering=e;var _=m.opaque,b=m.transparent,S=e.material;e.trigger("beforerender",this,e,n,m),i?(this.renderPreZ(_,e,n),r.depthFunc(r.LEQUAL)):r.depthFunc(r.LESS);for(var M=ra(),O=je.create(),I=0;I<b.length;I++){var N=b[I];Ut.multiplyAffine(M,n.viewMatrix.array,N.worldTransform.array),je.transformMat4(O,N.position.array,M),N.__depth=O[2]}this.renderPass(_,n,{getMaterial:function(V){return S||V.material},sortCompare:this.opaqueSortCompare}),this.renderPass(b,n,{getMaterial:function(V){return S||V.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,n,m),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(e,n,t){return this._programMgr.getProgram(e,n=n||e.material,t)},validateProgram:function(e){if(e.__error){var n=e.__error;if(pCe[e.__uid__])return;if(pCe[e.__uid__]=!0,this.throwError)throw new Error(n);this.trigger("error",n)}},updatePrograms:function(e,n,t){var i=t&&t.getMaterial||gCe;n=n||null;for(var r=0;r<e.length;r++){var o=e[r],l=i.call(this,o);if(r>0){var h=e[r-1];if((o.joints?o.joints.length:0)===(h.joints?h.joints.length:0)&&o.material===h.material&&o.lightGroup===h.lightGroup){o.__program=h.__program;continue}}var _=this._programMgr.getProgram(o,l,n);this.validateProgram(_),o.__program=_}},renderPass:function(e,n,t){this.trigger("beforerenderpass",this,e,n,t),(t=t||{}).getMaterial=t.getMaterial||gCe,t.getUniform=t.getUniform||n_t,t.isMaterialChanged=t.isMaterialChanged||i_t,t.beforeRender=t.beforeRender||mCe,t.afterRender=t.afterRender||mCe;var i=t.ifRender||r_t;this.updatePrograms(e,this._sceneRendering,t),t.sortCompare&&e.sort(t.sortCompare);var r=this.viewport,o=r.devicePixelRatio,l=[r.x*o,r.y*o,r.width*o,r.height*o],h=this.devicePixelRatio,f=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*h,this._height*h],m=[l[2],l[3]],_=Date.now();n?(Ut.copy(oa.VIEW,n.viewMatrix.array),Ut.copy(oa.PROJECTION,n.projectionMatrix.array),Ut.copy(oa.VIEWINVERSE,n.worldTransform.array)):(Ut.identity(oa.VIEW),Ut.identity(oa.PROJECTION),Ut.identity(oa.VIEWINVERSE)),Ut.multiply(oa.VIEWPROJECTION,oa.PROJECTION,oa.VIEW),Ut.invert(oa.PROJECTIONINVERSE,oa.PROJECTION),Ut.invert(oa.VIEWPROJECTIONINVERSE,oa.VIEWPROJECTION);for(var M,O,I,N,V,G,X,K,ne,ie,pe,ve,b=this.gl,S=this._sceneRendering,Se=0;Se<e.length;Se++){var Pe,xe=e[Se],De=null!=xe.worldTransform;if(i(xe)){De&&(Pe=xe.isSkinnedMesh&&xe.isSkinnedMesh()?xe.offsetMatrix?xe.offsetMatrix.array:oa.IDENTITY:xe.worldTransform.array);var Re=xe.geometry,ke=t.getMaterial.call(this,xe),Oe=xe.__program,Ye=ke.shader,Ge=Re.__uid__+"-"+Oe.__uid__,ct=Ge!==ie;ie=Ge,De&&(Ut.copy(oa.WORLD,Pe),Ut.multiply(oa.WORLDVIEWPROJECTION,oa.VIEWPROJECTION,Pe),Ut.multiplyAffine(oa.WORLDVIEW,oa.VIEW,Pe),(Ye.matrixSemantics.WORLDINVERSE||Ye.matrixSemantics.WORLDINVERSETRANSPOSE)&&Ut.invert(oa.WORLDINVERSE,Pe),(Ye.matrixSemantics.WORLDVIEWINVERSE||Ye.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&Ut.invert(oa.WORLDVIEWINVERSE,oa.WORLDVIEW),(Ye.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||Ye.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&Ut.invert(oa.WORLDVIEWPROJECTIONINVERSE,oa.WORLDVIEWPROJECTION)),xe.beforeRender&&xe.beforeRender(this),t.beforeRender.call(this,xe,ke,M);var We=Oe!==O;We?(Oe.bind(this),Oe.setUniformOfSemantic(b,"VIEWPORT",l),Oe.setUniformOfSemantic(b,"WINDOW_SIZE",f),n&&(Oe.setUniformOfSemantic(b,"NEAR",n.near),Oe.setUniformOfSemantic(b,"FAR",n.far)),Oe.setUniformOfSemantic(b,"DEVICEPIXELRATIO",o),Oe.setUniformOfSemantic(b,"TIME",_),Oe.setUniformOfSemantic(b,"VIEWPORT_SIZE",m),S&&S.setLightUniforms(Oe,xe.lightGroup,this)):Oe=O,(We||t.isMaterialChanged(xe,I,ke,M))&&(ke.depthTest!==N&&(ke.depthTest?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),N=ke.depthTest),ke.depthMask!==V&&(b.depthMask(ke.depthMask),V=ke.depthMask),ke.transparent!==ne&&(ke.transparent?b.enable(b.BLEND):b.disable(b.BLEND),ne=ke.transparent),ke.transparent&&(ke.blend?ke.blend(b):(b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA))),ve=this._bindMaterial(xe,ke,Oe,I||null,M||null,O||null,t.getUniform),M=ke);var Tt=Ye.matrixSemanticKeys;if(De)for(var Lt=0;Lt<Tt.length;Lt++){var An=Tt[Lt],Qt=Ye.matrixSemantics[An],zn=oa[An];Qt.isTranspose&&Ut.transpose(zn,oa[Qt.semanticNoTranspose]),Oe.setUniform(b,Qt.type,Qt.symbol,zn)}xe.cullFace!==X&&b.cullFace(X=xe.cullFace),xe.frontFace!==K&&b.frontFace(K=xe.frontFace),xe.culling!==G&&((G=xe.culling)?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE)),this._updateSkeleton(xe,Oe,ve),ct&&(pe=this._bindVAO(null,Ye,Re,Oe)),this._renderObject(xe,pe,Oe),t.afterRender(this,xe),xe.afterRender&&xe.afterRender(this),O=Oe,I=xe}}this.trigger("afterrenderpass",this,e,n,t)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,n,t){var i=this.gl,r=e.skeleton;if(r)if(r.update(),e.joints.length>this.getMaxJointNumber()){var o=r.getSubSkinMatricesTexture(e.__uid__,e.joints);n.useTextureSlot(this,o,t),n.setUniform(i,"1i","skinMatricesTexture",t),n.setUniform(i,"1f","skinMatricesTextureSize",o.width)}else{var l=r.getSubSkinMatrices(e.__uid__,e.joints);n.setUniformOfSemantic(i,"SKIN_MATRIX",l)}},_renderObject:function(e,n,t){var i=this.gl,r=e.geometry,o=e.mode;null==o&&(o=4);var l=null,h=e.isInstancedMesh&&e.isInstancedMesh();if(!h||(l=this.getGLExtension("ANGLE_instanced_arrays"))){var f;if(h&&(f=this._bindInstancedAttributes(e,t,l)),n.indicesBuffer){var b=this.getGLExtension("OES_element_index_uint")&&r.indices instanceof Uint32Array?i.UNSIGNED_INT:i.UNSIGNED_SHORT;h?l.drawElementsInstancedANGLE(o,n.indicesBuffer.count,b,0,e.getInstanceCount()):i.drawElements(o,n.indicesBuffer.count,b,0)}else h?l.drawArraysInstancedANGLE(o,0,r.vertexCount,e.getInstanceCount()):i.drawArrays(o,0,r.vertexCount);if(h)for(var S=0;S<f.length;S++)i.disableVertexAttribArray(f[S])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(e,n,t){for(var i=this.gl,r=e.getInstancedAttributesBuffers(this),o=[],l=0;l<r.length;l++){var h=r[l],f=n.getAttribLocation(i,h.symbol);if(!(f<0)){var m=vCe[h.type]||i.FLOAT;i.enableVertexAttribArray(f),i.bindBuffer(i.ARRAY_BUFFER,h.buffer),i.vertexAttribPointer(f,h.size,m,!1,0,0),t.vertexAttribDivisorANGLE(f,h.divisor),o.push(f)}}return o},_bindMaterial:function(e,n,t,i,r,o,l){for(var h=this.gl,f=o===t,m=t.currentTextureSlot(),_=n.getEnabledUniforms(),b=n.getTextureUniforms(),S=this._placeholderTexture,M=0;M<b.length;M++){var I=l(e,n,O=b[M]);if("t"===(N=n.uniforms[O].type)&&I)I.__slot=-1;else if("tv"===N)for(var V=0;V<I.length;V++)I[V]&&(I[V].__slot=-1)}for(S.__slot=-1,M=0;M<_.length;M++){var O,N,G=n.uniforms[O=_[M]],X=(I=l(e,n,O),"t"===(N=G.type));if(X&&(!I||!I.isRenderable())&&(I=S),r&&f){var K=l(i,r,O);if(X&&(!K||!K.isRenderable())&&(K=S),K===I){if(X)t.takeCurrentTextureSlot(this,null);else if("tv"===N&&I)for(V=0;V<I.length;V++)t.takeCurrentTextureSlot(this,null);continue}}if(null!=I)if(X)if(I.__slot<0){var ne=t.currentTextureSlot();t.setUniform(h,"1i",O,ne)&&(t.takeCurrentTextureSlot(this,I),I.__slot=ne)}else t.setUniform(h,"1i",O,I.__slot);else if(Array.isArray(I)){if(0===I.length)continue;if("tv"===N){if(!t.hasUniform(O))continue;var pe=[];for(V=0;V<I.length;V++){var ve=I[V];ve.__slot<0?(ne=t.currentTextureSlot(),pe.push(ne),t.takeCurrentTextureSlot(this,ve),ve.__slot=ne):pe.push(ve.__slot)}t.setUniform(h,"1iv",O,pe)}else t.setUniform(h,G.type,O,I)}else t.setUniform(h,G.type,O,I)}var ye=t.currentTextureSlot();return t.resetTextureSlot(m),ye},_bindVAO:function(e,n,t,i){var r=!t.dynamic,o=this.gl,l=this.__uid__+"-"+i.__uid__,h=t.__vaoCache[l];if(!h){var f=t.getBufferChunks(this);if(!f||!f.length)return;for(var m=f[0],_=m.attributeBuffers,K=m.indicesBuffer,X=[],b=[],S=0;S<_.length;S++){var N,I=(M=_[S]).semantic;if(I){var V=n.attributeSemantics[I];N=V&&V.symbol}else N=M.name;N&&i.attributes[N]&&(X.push(M),b.push(N))}h=new o_t(X,b,K),r&&(t.__vaoCache[l]=h)}var G=!0;if(e&&r&&(null==h.vao?h.vao=e.createVertexArrayOES():G=!1,e.bindVertexArrayOES(h.vao)),X=h.availableAttributes,K=h.indicesBuffer,G){var ne=i.enableAttributes(this,h.availableAttributeSymbols,e&&r&&h);for(S=0;S<X.length;S++){var ie=ne[S];if(-1!==ie){var M,ve=(M=X[S]).size,ye=vCe[M.type]||o.FLOAT;o.bindBuffer(o.ARRAY_BUFFER,M.buffer),o.vertexAttribPointer(ie,ve,ye,!1,0,0)}}t.isUseIndices()&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,K.buffer)}return h},renderPreZ:function(e,n,t){var i=this.gl,r=this._prezMaterial||new pp({shader:new sn(sn.source("clay.prez.vertex"),sn.source("clay.prez.fragment"))});this._prezMaterial=r,i.colorMask(!1,!1,!1,!1),i.depthMask(!0),this.renderPass(e,t,{ifRender:function(o){return!o.ignorePreZ},isMaterialChanged:function(o,l){var h=o.material,f=l.material;return h.get("diffuseMap")!==f.get("diffuseMap")||(h.get("alphaCutoff")||0)!==(f.get("alphaCutoff")||0)},getUniform:function(o,l,h){return"alphaMap"===h?o.material.get("diffuseMap"):"alphaCutoff"===h?o.material.isDefined("fragment","ALPHA_TEST")&&o.material.get("diffuseMap")&&o.material.get("alphaCutoff")||0:"uvRepeat"===h?o.material.get("uvRepeat"):"uvOffset"===h?o.material.get("uvOffset"):l.get(h)},getMaterial:function(){return r},sort:this.opaqueSortCompare}),i.colorMask(!0,!0,!0,!0),i.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,n,t){e.getParent()&&e.getParent().remove(e);var i={};e.traverse(function(r){var o=r.material;if(r.geometry&&n&&r.geometry.dispose(this),t&&o&&!i[o.__uid__]){for(var l=o.getTextureUniforms(),h=0;h<l.length;h++){var f=l[h],m=o.uniforms[f].value,_=o.uniforms[f].type;if(m)if("t"===_)m.dispose&&m.dispose(this);else if("tv"===_)for(var b=0;b<m.length;b++)m[b]&&m[b].dispose&&m[b].dispose(this)}i[o.__uid__]=!0}r.dispose&&r.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,n,t){t||(t=new Fd),n=this._height-n;var i=this.viewport,r=t.array;return r[0]=(e-i.x)/i.width,r[0]=2*r[0]-1,r[1]=(n-i.y)/i.height,r[1]=2*r[1]-1,t}});a3.opaqueSortCompare=a3.prototype.opaqueSortCompare=function(e,n){return e.renderOrder===n.renderOrder?e.__program===n.__program?e.material===n.material?e.geometry.__uid__-n.geometry.__uid__:e.material.__uid__-n.material.__uid__:e.__program&&n.__program?e.__program.__uid__-n.__program.__uid__:0:e.renderOrder-n.renderOrder},a3.transparentSortCompare=a3.prototype.transparentSortCompare=function(e,n){return e.renderOrder===n.renderOrder?e.__depth===n.__depth?e.__program===n.__program?e.material===n.material?e.geometry.__uid__-n.geometry.__uid__:e.material.__uid__-n.material.__uid__:e.__program&&n.__program?e.__program.__uid__-n.__program.__uid__:0:e.__depth-n.__depth:e.renderOrder-n.renderOrder};var oa={IDENTITY:ra(),WORLD:ra(),VIEW:ra(),PROJECTION:ra(),WORLDVIEW:ra(),VIEWPROJECTION:ra(),WORLDVIEWPROJECTION:ra(),WORLDINVERSE:ra(),VIEWINVERSE:ra(),PROJECTIONINVERSE:ra(),WORLDVIEWINVERSE:ra(),VIEWPROJECTIONINVERSE:ra(),WORLDVIEWPROJECTIONINVERSE:ra(),WORLDTRANSPOSE:ra(),VIEWTRANSPOSE:ra(),PROJECTIONTRANSPOSE:ra(),WORLDVIEWTRANSPOSE:ra(),VIEWPROJECTIONTRANSPOSE:ra(),WORLDVIEWPROJECTIONTRANSPOSE:ra(),WORLDINVERSETRANSPOSE:ra(),VIEWINVERSETRANSPOSE:ra(),PROJECTIONINVERSETRANSPOSE:ra(),WORLDVIEWINVERSETRANSPOSE:ra(),VIEWPROJECTIONINVERSETRANSPOSE:ra(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:ra()};a3.COLOR_BUFFER_BIT=16384,a3.DEPTH_BUFFER_BIT=256,a3.STENCIL_BUFFER_BIT=1024;const CE=a3;var ii=function(e,n,t){this.array=je.fromValues(e=e||0,n=n||0,t=t||0),this._dirty=!0};ii.prototype={constructor:ii,add:function(e){return je.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,t){return this.array[0]=e,this.array[1]=n,this.array[2]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new ii(this.x,this.y,this.z)},copy:function(e){return je.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,n){return je.cross(this.array,e.array,n.array),this._dirty=!0,this},dist:function(e){return je.dist(this.array,e.array)},distance:function(e){return je.distance(this.array,e.array)},div:function(e){return je.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return je.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return je.dot(this.array,e.array)},len:function(){return je.len(this.array)},length:function(){return je.length(this.array)},lerp:function(e,n,t){return je.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},min:function(e){return je.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return je.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return je.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return je.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return je.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return je.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return je.random(this.array,e),this._dirty=!0,this},scale:function(e){return je.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return je.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return je.sqrDist(this.array,e.array)},squaredDistance:function(e){return je.squaredDistance(this.array,e.array)},sqrLen:function(){return je.sqrLen(this.array)},squaredLength:function(){return je.squaredLength(this.array)},sub:function(e){return je.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return je.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return je.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return je.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return je.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var n=this.array;if(0===(e=e.array)[15]){var t=-1/n[2];n[0]=e[0]*n[0]*t,n[1]=e[5]*n[1]*t,n[2]=(e[10]*n[2]+e[14])*t}else n[0]=e[0]*n[0]+e[12],n[1]=e[5]*n[1]+e[13],n[2]=e[10]*n[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,n){ii.eulerFromQuat(this,e,n)},eulerFromMat3:function(e,n){ii.eulerFromMat3(this,e,n)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var $j=Object.defineProperty;if($j){var cle=ii.prototype;$j(cle,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),$j(cle,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),$j(cle,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function gp(e,n,t){return e<n?n:e>t?t:e}ii.add=function(e,n,t){return je.add(e.array,n.array,t.array),e._dirty=!0,e},ii.set=function(e,n,t,i){je.set(e.array,n,t,i),e._dirty=!0},ii.copy=function(e,n){return je.copy(e.array,n.array),e._dirty=!0,e},ii.cross=function(e,n,t){return je.cross(e.array,n.array,t.array),e._dirty=!0,e},ii.dist=function(e,n){return je.distance(e.array,n.array)},ii.distance=ii.dist,ii.div=function(e,n,t){return je.divide(e.array,n.array,t.array),e._dirty=!0,e},ii.divide=ii.div,ii.dot=function(e,n){return je.dot(e.array,n.array)},ii.len=function(e){return je.length(e.array)},ii.lerp=function(e,n,t,i){return je.lerp(e.array,n.array,t.array,i),e._dirty=!0,e},ii.min=function(e,n,t){return je.min(e.array,n.array,t.array),e._dirty=!0,e},ii.max=function(e,n,t){return je.max(e.array,n.array,t.array),e._dirty=!0,e},ii.mul=function(e,n,t){return je.multiply(e.array,n.array,t.array),e._dirty=!0,e},ii.multiply=ii.mul,ii.negate=function(e,n){return je.negate(e.array,n.array),e._dirty=!0,e},ii.normalize=function(e,n){return je.normalize(e.array,n.array),e._dirty=!0,e},ii.random=function(e,n){return je.random(e.array,n),e._dirty=!0,e},ii.scale=function(e,n,t){return je.scale(e.array,n.array,t),e._dirty=!0,e},ii.scaleAndAdd=function(e,n,t,i){return je.scaleAndAdd(e.array,n.array,t.array,i),e._dirty=!0,e},ii.sqrDist=function(e,n){return je.sqrDist(e.array,n.array)},ii.squaredDistance=ii.sqrDist,ii.sqrLen=function(e){return je.sqrLen(e.array)},ii.squaredLength=ii.sqrLen,ii.sub=function(e,n,t){return je.subtract(e.array,n.array,t.array),e._dirty=!0,e},ii.subtract=ii.sub,ii.transformMat3=function(e,n,t){return je.transformMat3(e.array,n.array,t.array),e._dirty=!0,e},ii.transformMat4=function(e,n,t){return je.transformMat4(e.array,n.array,t.array),e._dirty=!0,e},ii.transformQuat=function(e,n,t){return je.transformQuat(e.array,n.array,t.array),e._dirty=!0,e};var _o=Math.atan2,mp=Math.asin,rT=Math.abs;ii.eulerFromQuat=function(e,n,S){e._dirty=!0;var i=e.array,r=(n=n.array)[0],o=n[1],l=n[2],h=n[3],f=r*r,m=o*o,_=l*l,b=h*h;switch(S=(S||"XYZ").toUpperCase()){case"XYZ":i[0]=_o(2*(r*h-o*l),b-f-m+_),i[1]=mp(gp(2*(r*l+o*h),-1,1)),i[2]=_o(2*(l*h-r*o),b+f-m-_);break;case"YXZ":i[0]=mp(gp(2*(r*h-o*l),-1,1)),i[1]=_o(2*(r*l+o*h),b-f-m+_),i[2]=_o(2*(r*o+l*h),b-f+m-_);break;case"ZXY":i[0]=mp(gp(2*(r*h+o*l),-1,1)),i[1]=_o(2*(o*h-l*r),b-f-m+_),i[2]=_o(2*(l*h-r*o),b-f+m-_);break;case"ZYX":i[0]=_o(2*(r*h+l*o),b-f-m+_),i[1]=mp(gp(2*(o*h-r*l),-1,1)),i[2]=_o(2*(r*o+l*h),b+f-m-_);break;case"YZX":i[0]=_o(2*(r*h-l*o),b-f+m-_),i[1]=_o(2*(o*h-r*l),b+f-m-_),i[2]=mp(gp(2*(r*o+l*h),-1,1));break;case"XZY":i[0]=_o(2*(r*h+o*l),b-f+m-_),i[1]=_o(2*(r*l+o*h),b+f-m-_),i[2]=mp(gp(2*(l*h-r*o),-1,1));break;default:console.warn("Unkown order: "+S)}return e},ii.eulerFromMat3=function(e,n,O){var i=n.array,r=i[0],o=i[3],l=i[6],h=i[1],f=i[4],m=i[7],_=i[2],b=i[5],S=i[8],M=e.array;switch(O=(O||"XYZ").toUpperCase()){case"XYZ":M[1]=mp(gp(l,-1,1)),rT(l)<.99999?(M[0]=_o(-m,S),M[2]=_o(-o,r)):(M[0]=_o(b,f),M[2]=0);break;case"YXZ":M[0]=mp(-gp(m,-1,1)),rT(m)<.99999?(M[1]=_o(l,S),M[2]=_o(h,f)):(M[1]=_o(-_,r),M[2]=0);break;case"ZXY":M[0]=mp(gp(b,-1,1)),rT(b)<.99999?(M[1]=_o(-_,S),M[2]=_o(-o,f)):(M[1]=0,M[2]=_o(h,r));break;case"ZYX":M[1]=mp(-gp(_,-1,1)),rT(_)<.99999?(M[0]=_o(b,S),M[2]=_o(h,r)):(M[0]=0,M[2]=_o(-o,f));break;case"YZX":M[2]=mp(gp(h,-1,1)),rT(h)<.99999?(M[0]=_o(-m,f),M[1]=_o(-_,r)):(M[0]=0,M[1]=_o(l,S));break;case"XZY":M[2]=mp(-gp(o,-1,1)),rT(o)<.99999?(M[0]=_o(b,f),M[1]=_o(l,r)):(M[0]=_o(-m,S),M[1]=0);break;default:console.warn("Unkown order: "+O)}return e._dirty=!0,e},Object.defineProperties(ii,{POSITIVE_X:{get:function(){return new ii(1,0,0)}},NEGATIVE_X:{get:function(){return new ii(-1,0,0)}},POSITIVE_Y:{get:function(){return new ii(0,1,0)}},NEGATIVE_Y:{get:function(){return new ii(0,-1,0)}},POSITIVE_Z:{get:function(){return new ii(0,0,1)}},NEGATIVE_Z:{get:function(){return new ii(0,0,-1)}},UP:{get:function(){return new ii(0,1,0)}},ZERO:{get:function(){return new ii}}});const $t=ii;var Xj=function(e,n){this.origin=e||new $t,this.direction=n||new $t};Xj.prototype={constructor:Xj,intersectPlane:function(e,n){var t=e.normal.array,i=e.distance,r=this.origin.array,o=this.direction.array,l=je.dot(t,o);if(0===l)return null;n||(n=new $t);var h=(je.dot(t,r)-i)/l;return je.scaleAndAdd(n.array,r,o,-h),n._dirty=!0,n},mirrorAgainstPlane:function(e){var n=je.dot(e.normal.array,this.direction.array);je.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-n),this.direction._dirty=!0},distanceToPoint:function(){var e=je.create();return function(n){je.sub(e,n,this.origin.array);var t=je.dot(e,this.direction.array);if(t<0)return je.distance(this.origin.array,n);var i=je.lenSquared(e);return Math.sqrt(i-t*t)}}(),intersectSphere:function(){var e=je.create();return function(n,t,i){var r=this.origin.array,o=this.direction.array;je.sub(e,n=n.array,r);var l=je.dot(e,o),f=je.squaredLength(e)-l*l,m=t*t;if(!(f>m)){var _=Math.sqrt(m-f),b=l-_,S=l+_;return i||(i=new $t),b<0?S<0?null:(je.scaleAndAdd(i.array,r,o,S),i):(je.scaleAndAdd(i.array,r,o,b),i)}}}(),intersectBoundingBox:function(e,n){var m,_,b,S,M,O,t=this.direction.array,i=this.origin.array,r=e.min.array,o=e.max.array,l=1/t[0],h=1/t[1],f=1/t[2];if(l>=0?(m=(r[0]-i[0])*l,_=(o[0]-i[0])*l):(_=(r[0]-i[0])*l,m=(o[0]-i[0])*l),h>=0?(b=(r[1]-i[1])*h,S=(o[1]-i[1])*h):(S=(r[1]-i[1])*h,b=(o[1]-i[1])*h),m>S||b>_||((b>m||m!=m)&&(m=b),(S<_||_!=_)&&(_=S),f>=0?(M=(r[2]-i[2])*f,O=(o[2]-i[2])*f):(O=(r[2]-i[2])*f,M=(o[2]-i[2])*f),m>O||M>_)||((M>m||m!=m)&&(m=M),(O<_||_!=_)&&(_=O),_<0))return null;var I=m>=0?m:_;return n||(n=new $t),je.scaleAndAdd(n.array,i,t,I),n},intersectTriangle:function(){var e=je.create(),n=je.create(),t=je.create(),i=je.create();return function(r,o,l,h,f,m){var _=this.direction.array,b=this.origin.array;l=l.array,je.sub(e,o=o.array,r=r.array),je.sub(n,l,r),je.cross(i,n,_);var S=je.dot(e,i);if(h){if(S>-1e-5)return null}else if(S>-1e-5&&S<1e-5)return null;je.sub(t,b,r);var M=je.dot(i,t)/S;if(M<0||M>1)return null;je.cross(i,e,t);var O=je.dot(_,i)/S;if(O<0||O>1||M+O>1)return null;je.cross(i,e,n);var I=-je.dot(t,i)/S;return I<0?null:(f||(f=new $t),m&&$t.set(m,1-M-O,M,O),je.scaleAndAdd(f.array,b,_,I),f)}}(),applyTransform:function(e){$t.add(this.direction,this.direction,this.origin),$t.transformMat4(this.origin,this.origin,e),$t.transformMat4(this.direction,this.direction,e),$t.sub(this.direction,this.direction,this.origin),$t.normalize(this.direction,this.direction)},copy:function(e){$t.copy(this.origin,e.origin),$t.copy(this.direction,e.direction)},clone:function(){var e=new Xj;return e.copy(this),e}};const qj=Xj;var Bi={create:function(){var e=new ec(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var n=new ec(4);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},fromValues:function(e,n,t,i){var r=new ec(4);return r[0]=e,r[1]=n,r[2]=t,r[3]=i,r},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},set:function(e,n,t,i,r){return e[0]=n,e[1]=t,e[2]=i,e[3]=r,e},add:function(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e},subtract:function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e}};Bi.sub=Bi.subtract,Bi.multiply=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e[3]=n[3]*t[3],e},Bi.mul=Bi.multiply,Bi.divide=function(e,n,t){return e[0]=n[0]/t[0],e[1]=n[1]/t[1],e[2]=n[2]/t[2],e[3]=n[3]/t[3],e},Bi.div=Bi.divide,Bi.min=function(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.min(n[2],t[2]),e[3]=Math.min(n[3],t[3]),e},Bi.max=function(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e[3]=Math.max(n[3],t[3]),e},Bi.scale=function(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e},Bi.scaleAndAdd=function(e,n,t,i){return e[0]=n[0]+t[0]*i,e[1]=n[1]+t[1]*i,e[2]=n[2]+t[2]*i,e[3]=n[3]+t[3]*i,e},Bi.distance=function(e,n){var t=n[0]-e[0],i=n[1]-e[1],r=n[2]-e[2],o=n[3]-e[3];return Math.sqrt(t*t+i*i+r*r+o*o)},Bi.dist=Bi.distance,Bi.squaredDistance=function(e,n){var t=n[0]-e[0],i=n[1]-e[1],r=n[2]-e[2],o=n[3]-e[3];return t*t+i*i+r*r+o*o},Bi.sqrDist=Bi.squaredDistance,Bi.length=function(e){var n=e[0],t=e[1],i=e[2],r=e[3];return Math.sqrt(n*n+t*t+i*i+r*r)},Bi.len=Bi.length,Bi.squaredLength=function(e){var n=e[0],t=e[1],i=e[2],r=e[3];return n*n+t*t+i*i+r*r},Bi.sqrLen=Bi.squaredLength,Bi.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=-n[3],e},Bi.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],e[3]=1/n[3],e},Bi.normalize=function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=t*t+i*i+r*r+o*o;return l>0&&(l=1/Math.sqrt(l),e[0]=n[0]*l,e[1]=n[1]*l,e[2]=n[2]*l,e[3]=n[3]*l),e},Bi.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]},Bi.lerp=function(e,n,t,i){var r=n[0],o=n[1],l=n[2],h=n[3];return e[0]=r+i*(t[0]-r),e[1]=o+i*(t[1]-o),e[2]=l+i*(t[2]-l),e[3]=h+i*(t[3]-h),e},Bi.random=function(e,n){return n=n||1,e[0]=nT(),e[1]=nT(),e[2]=nT(),e[3]=nT(),Bi.normalize(e,e),Bi.scale(e,e,n),e},Bi.transformMat4=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3];return e[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*l,e[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*l,e[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*l,e[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*l,e},Bi.transformQuat=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=t[0],h=t[1],f=t[2],m=t[3],_=m*i+h*o-f*r,b=m*r+f*i-l*o,S=m*o+l*r-h*i,M=-l*i-h*r-f*o;return e[0]=_*m+M*-l+b*-f-S*-h,e[1]=b*m+M*-h+S*-l-_*-f,e[2]=S*m+M*-f+_*-h-b*-l,e},Bi.forEach=function(){var e=Bi.create();return function(n,t,i,r,o,l){var h,f;for(t||(t=4),i||(i=0),f=r?Math.min(r*t+i,n.length):n.length,h=i;h<f;h+=t)e[0]=n[h],e[1]=n[h+1],e[2]=n[h+2],e[3]=n[h+3],o(e,e,l),n[h]=e[0],n[h+1]=e[1],n[h+2]=e[2],n[h+3]=e[3];return n}}();const un=Bi;var qs={create:function(){var e=new ec(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[4],e[4]=n[5],e[5]=n[6],e[6]=n[8],e[7]=n[9],e[8]=n[10],e},clone:function(e){var n=new ec(9);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,n){if(e===n){var t=n[1],i=n[2],r=n[5];e[1]=n[3],e[2]=n[6],e[3]=t,e[5]=n[7],e[6]=i,e[7]=r}else e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8];return e},invert:function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=n[4],h=n[5],f=n[6],m=n[7],_=n[8],b=_*l-h*m,S=-_*o+h*f,M=m*o-l*f,O=t*b+i*S+r*M;return O?(e[0]=b*(O=1/O),e[1]=(-_*i+r*m)*O,e[2]=(h*i-r*l)*O,e[3]=S*O,e[4]=(_*t-r*f)*O,e[5]=(-h*t+r*o)*O,e[6]=M*O,e[7]=(-m*t+i*f)*O,e[8]=(l*t-i*o)*O,e):null},adjoint:function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=n[4],h=n[5],f=n[6],m=n[7],_=n[8];return e[0]=l*_-h*m,e[1]=r*m-i*_,e[2]=i*h-r*l,e[3]=h*f-o*_,e[4]=t*_-r*f,e[5]=r*o-t*h,e[6]=o*m-l*f,e[7]=i*f-t*m,e[8]=t*l-i*o,e},determinant:function(e){var r=e[3],o=e[4],l=e[5],h=e[6],f=e[7],m=e[8];return e[0]*(m*o-l*f)+e[1]*(-m*r+l*h)+e[2]*(f*r-o*h)},multiply:function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=n[6],_=n[7],b=n[8],S=t[0],M=t[1],O=t[2],I=t[3],N=t[4],V=t[5],G=t[6],X=t[7],K=t[8];return e[0]=S*i+M*l+O*m,e[1]=S*r+M*h+O*_,e[2]=S*o+M*f+O*b,e[3]=I*i+N*l+V*m,e[4]=I*r+N*h+V*_,e[5]=I*o+N*f+V*b,e[6]=G*i+X*l+K*m,e[7]=G*r+X*h+K*_,e[8]=G*o+X*f+K*b,e}};qs.mul=qs.multiply,qs.translate=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=n[6],_=n[7],b=n[8],S=t[0],M=t[1];return e[0]=i,e[1]=r,e[2]=o,e[3]=l,e[4]=h,e[5]=f,e[6]=S*i+M*l+m,e[7]=S*r+M*h+_,e[8]=S*o+M*f+b,e},qs.rotate=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=n[6],_=n[7],b=n[8],S=Math.sin(t),M=Math.cos(t);return e[0]=M*i+S*l,e[1]=M*r+S*h,e[2]=M*o+S*f,e[3]=M*l-S*i,e[4]=M*h-S*r,e[5]=M*f-S*o,e[6]=m,e[7]=_,e[8]=b,e},qs.scale=function(e,n,t){var i=t[0],r=t[1];return e[0]=i*n[0],e[1]=i*n[1],e[2]=i*n[2],e[3]=r*n[3],e[4]=r*n[4],e[5]=r*n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},qs.fromMat2d=function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=0,e[3]=n[2],e[4]=n[3],e[5]=0,e[6]=n[4],e[7]=n[5],e[8]=1,e},qs.fromQuat=function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=t+t,h=i+i,f=r+r,m=t*l,_=i*l,b=i*h,S=r*l,M=r*h,O=r*f,I=o*l,N=o*h,V=o*f;return e[0]=1-b-O,e[3]=_-V,e[6]=S+N,e[1]=_+V,e[4]=1-m-O,e[7]=M-I,e[2]=S-N,e[5]=M+I,e[8]=1-m-b,e},qs.normalFromMat4=function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=n[4],h=n[5],f=n[6],m=n[7],_=n[8],b=n[9],S=n[10],M=n[11],O=n[12],I=n[13],N=n[14],V=n[15],G=t*h-i*l,X=t*f-r*l,K=t*m-o*l,ne=i*f-r*h,ie=i*m-o*h,pe=r*m-o*f,ve=_*I-b*O,ye=_*N-S*O,Se=_*V-M*O,xe=b*N-S*I,De=b*V-M*I,Pe=S*V-M*N,Re=G*Pe-X*De+K*xe+ne*Se-ie*ye+pe*ve;return Re?(e[0]=(h*Pe-f*De+m*xe)*(Re=1/Re),e[1]=(f*Se-l*Pe-m*ye)*Re,e[2]=(l*De-h*Se+m*ve)*Re,e[3]=(r*De-i*Pe-o*xe)*Re,e[4]=(t*Pe-r*Se+o*ye)*Re,e[5]=(i*Se-t*De-o*ve)*Re,e[6]=(I*pe-N*ie+V*ne)*Re,e[7]=(N*K-O*pe-V*X)*Re,e[8]=(O*ie-I*K+V*G)*Re,e):null},qs.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};const lr=qs;var Dr={create:function(){var e=new ec(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};Dr.rotationTo=function(){var e=je.create(),n=je.fromValues(1,0,0),t=je.fromValues(0,1,0);return function(i,r,o){var l=je.dot(r,o);return l<-.999999?(je.cross(e,n,r),je.length(e)<1e-6&&je.cross(e,t,r),je.normalize(e,e),Dr.setAxisAngle(i,e,Math.PI),i):l>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(je.cross(e,r,o),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+l,Dr.normalize(i,i))}}(),Dr.setAxes=function(){var e=lr.create();return function(n,t,i,r){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-t[0],e[5]=-t[1],e[8]=-t[2],Dr.normalize(n,Dr.fromMat3(n,e))}}(),Dr.clone=un.clone,Dr.fromValues=un.fromValues,Dr.copy=un.copy,Dr.set=un.set,Dr.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},Dr.setAxisAngle=function(e,n,t){t*=.5;var i=Math.sin(t);return e[0]=i*n[0],e[1]=i*n[1],e[2]=i*n[2],e[3]=Math.cos(t),e},Dr.add=un.add,Dr.multiply=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=t[0],f=t[1],m=t[2],_=t[3];return e[0]=i*_+l*h+r*m-o*f,e[1]=r*_+l*f+o*h-i*m,e[2]=o*_+l*m+i*f-r*h,e[3]=l*_-i*h-r*f-o*m,e},Dr.mul=Dr.multiply,Dr.scale=un.scale,Dr.rotateX=function(e,n,t){t*=.5;var i=n[0],r=n[1],o=n[2],l=n[3],h=Math.sin(t),f=Math.cos(t);return e[0]=i*f+l*h,e[1]=r*f+o*h,e[2]=o*f-r*h,e[3]=l*f-i*h,e},Dr.rotateY=function(e,n,t){t*=.5;var i=n[0],r=n[1],o=n[2],l=n[3],h=Math.sin(t),f=Math.cos(t);return e[0]=i*f-o*h,e[1]=r*f+l*h,e[2]=o*f+i*h,e[3]=l*f-r*h,e},Dr.rotateZ=function(e,n,t){t*=.5;var i=n[0],r=n[1],o=n[2],l=n[3],h=Math.sin(t),f=Math.cos(t);return e[0]=i*f+r*h,e[1]=r*f-i*h,e[2]=o*f+l*h,e[3]=l*f-o*h,e},Dr.calculateW=function(e,n){var t=n[0],i=n[1],r=n[2];return e[0]=t,e[1]=i,e[2]=r,e[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r)),e},Dr.dot=un.dot,Dr.lerp=un.lerp,Dr.slerp=function(e,n,t,i){var S,M,O,I,N,r=n[0],o=n[1],l=n[2],h=n[3],f=t[0],m=t[1],_=t[2],b=t[3];return(M=r*f+o*m+l*_+h*b)<0&&(M=-M,f=-f,m=-m,_=-_,b=-b),1-M>1e-6?(S=Math.acos(M),O=Math.sin(S),I=Math.sin((1-i)*S)/O,N=Math.sin(i*S)/O):(I=1-i,N=i),e[0]=I*r+N*f,e[1]=I*o+N*m,e[2]=I*l+N*_,e[3]=I*h+N*b,e},Dr.invert=function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=t*t+i*i+r*r+o*o,h=l?1/l:0;return e[0]=-t*h,e[1]=-i*h,e[2]=-r*h,e[3]=o*h,e},Dr.conjugate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],e},Dr.length=un.length,Dr.len=Dr.length,Dr.squaredLength=un.squaredLength,Dr.sqrLen=Dr.squaredLength,Dr.normalize=un.normalize,Dr.fromMat3=function(e,n){var i,t=n[0]+n[4]+n[8];if(t>0)i=Math.sqrt(t+1),e[3]=.5*i,e[0]=(n[5]-n[7])*(i=.5/i),e[1]=(n[6]-n[2])*i,e[2]=(n[1]-n[3])*i;else{var r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);var o=(r+1)%3,l=(r+2)%3;i=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*l+l]+1),e[r]=.5*i,e[3]=(n[3*o+l]-n[3*l+o])*(i=.5/i),e[o]=(n[3*o+r]+n[3*r+o])*i,e[l]=(n[3*l+r]+n[3*r+l])*i}return e};const ci=Dr;var Xo=function(){this._axisX=new $t,this._axisY=new $t,this._axisZ=new $t,this.array=Ut.create(),this._dirty=!0};Xo.prototype={constructor:Xo,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},adjoint:function(){return Ut.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Xo).copy(this)},copy:function(e){return Ut.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Ut.determinant(this.array)},fromQuat:function(e){return Ut.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,n){return Ut.fromRotationTranslation(this.array,e.array,n.array),this._dirty=!0,this},fromMat2d:function(e){return Xo.fromMat2d(this,e),this},frustum:function(e,n,t,i,r,o){return Ut.frustum(this.array,e,n,t,i,r,o),this._dirty=!0,this},identity:function(){return Ut.identity(this.array),this._dirty=!0,this},invert:function(){return Ut.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,n,t){return Ut.lookAt(this.array,e.array,n.array,t.array),this._dirty=!0,this},mul:function(e){return Ut.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Ut.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Ut.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Ut.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,n,t,i,r,o){return Ut.ortho(this.array,e,n,t,i,r,o),this._dirty=!0,this},perspective:function(e,n,t,i){return Ut.perspective(this.array,e,n,t,i),this._dirty=!0,this},rotate:function(e,n){return Ut.rotate(this.array,this.array,e,n.array),this._dirty=!0,this},rotateX:function(e){return Ut.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Ut.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Ut.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Ut.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Ut.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return Ut.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=je.create(),n=je.create(),t=je.create(),i=lr.create();return function(r,o,l){var h=this.array;je.set(e,h[0],h[1],h[2]),je.set(n,h[4],h[5],h[6]),je.set(t,h[8],h[9],h[10]);var f=je.length(e),m=je.length(n),_=je.length(t);this.determinant()<0&&(f=-f),r&&r.set(f,m,_),l.set(h[12],h[13],h[14]),lr.fromMat4(i,h),i[0]/=f,i[1]/=f,i[2]/=f,i[3]/=m,i[4]/=m,i[5]/=m,i[6]/=_,i[7]/=_,i[8]/=_,ci.fromMat3(o.array,i),ci.normalize(o.array,o.array),o._dirty=!0,l._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Zj=Object.defineProperty;if(Zj){var hle=Xo.prototype;Zj(hle,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var n=this.array;n[8]=(e=e.array)[0],n[9]=e[1],n[10]=e[2],this._dirty=!0}}),Zj(hle,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var n=this.array;n[4]=(e=e.array)[0],n[5]=e[1],n[6]=e[2],this._dirty=!0}}),Zj(hle,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var n=this.array;n[0]=(e=e.array)[0],n[1]=e[1],n[2]=e[2],this._dirty=!0}})}Xo.adjoint=function(e,n){return Ut.adjoint(e.array,n.array),e._dirty=!0,e},Xo.copy=function(e,n){return Ut.copy(e.array,n.array),e._dirty=!0,e},Xo.determinant=function(e){return Ut.determinant(e.array)},Xo.identity=function(e){return Ut.identity(e.array),e._dirty=!0,e},Xo.ortho=function(e,n,t,i,r,o,l){return Ut.ortho(e.array,n,t,i,r,o,l),e._dirty=!0,e},Xo.perspective=function(e,n,t,i,r){return Ut.perspective(e.array,n,t,i,r),e._dirty=!0,e},Xo.lookAt=function(e,n,t,i){return Ut.lookAt(e.array,n.array,t.array,i.array),e._dirty=!0,e},Xo.invert=function(e,n){return Ut.invert(e.array,n.array),e._dirty=!0,e},Xo.mul=function(e,n,t){return Ut.mul(e.array,n.array,t.array),e._dirty=!0,e},Xo.multiply=Xo.mul,Xo.fromQuat=function(e,n){return Ut.fromQuat(e.array,n.array),e._dirty=!0,e},Xo.fromRotationTranslation=function(e,n,t){return Ut.fromRotationTranslation(e.array,n.array,t.array),e._dirty=!0,e},Xo.fromMat2d=function(i,t){return i._dirty=!0,(i=i.array)[0]=(t=t.array)[0],i[4]=t[2],i[12]=t[4],i[1]=t[1],i[5]=t[3],i[13]=t[5],i},Xo.rotate=function(e,n,t,i){return Ut.rotate(e.array,n.array,t,i.array),e._dirty=!0,e},Xo.rotateX=function(e,n,t){return Ut.rotateX(e.array,n.array,t),e._dirty=!0,e},Xo.rotateY=function(e,n,t){return Ut.rotateY(e.array,n.array,t),e._dirty=!0,e},Xo.rotateZ=function(e,n,t){return Ut.rotateZ(e.array,n.array,t),e._dirty=!0,e},Xo.scale=function(e,n,t){return Ut.scale(e.array,n.array,t.array),e._dirty=!0,e},Xo.transpose=function(e,n){return Ut.transpose(e.array,n.array),e._dirty=!0,e},Xo.translate=function(e,n,t){return Ut.translate(e.array,n.array,t.array),e._dirty=!0,e};const En=Xo;var Kr=function(e,n,t,i){this.array=ci.fromValues(e=e||0,n=n||0,t=t||0,i=void 0===i?1:i),this._dirty=!0};Kr.prototype={constructor:Kr,add:function(e){return ci.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return ci.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,n,t,i){return this.array[0]=e,this.array[1]=n,this.array[2]=t,this.array[3]=i,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new Kr(this.x,this.y,this.z,this.w)},conjugate:function(){return ci.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return ci.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return ci.dot(this.array,e.array)},fromMat3:function(e){return ci.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=lr.create();return function(n){return lr.fromMat4(e,n.array),lr.transpose(e,e),ci.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return ci.identity(this.array),this._dirty=!0,this},invert:function(){return ci.invert(this.array,this.array),this._dirty=!0,this},len:function(){return ci.len(this.array)},length:function(){return ci.length(this.array)},lerp:function(e,n,t){return ci.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},mul:function(e){return ci.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return ci.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return ci.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return ci.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return ci.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return ci.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return ci.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return ci.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,n){return ci.rotationTo(this.array,e.array,n.array),this._dirty=!0,this},setAxes:function(e,n,t){return ci.setAxes(this.array,e.array,n.array,t.array),this._dirty=!0,this},setAxisAngle:function(e,n){return ci.setAxisAngle(this.array,e.array,n),this._dirty=!0,this},slerp:function(e,n,t){return ci.slerp(this.array,e.array,n.array,t),this._dirty=!0,this},sqrLen:function(){return ci.sqrLen(this.array)},squaredLength:function(){return ci.squaredLength(this.array)},fromEuler:function(e,n){return Kr.fromEuler(this,e,n)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var wE=Object.defineProperty;if(wE){var Kj=Kr.prototype;wE(Kj,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),wE(Kj,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),wE(Kj,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),wE(Kj,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}Kr.add=function(e,n,t){return ci.add(e.array,n.array,t.array),e._dirty=!0,e},Kr.set=function(e,n,t,i,r){ci.set(e.array,n,t,i,r),e._dirty=!0},Kr.copy=function(e,n){return ci.copy(e.array,n.array),e._dirty=!0,e},Kr.calculateW=function(e,n){return ci.calculateW(e.array,n.array),e._dirty=!0,e},Kr.conjugate=function(e,n){return ci.conjugate(e.array,n.array),e._dirty=!0,e},Kr.identity=function(e){return ci.identity(e.array),e._dirty=!0,e},Kr.invert=function(e,n){return ci.invert(e.array,n.array),e._dirty=!0,e},Kr.dot=function(e,n){return ci.dot(e.array,n.array)},Kr.len=function(e){return ci.length(e.array)},Kr.lerp=function(e,n,t,i){return ci.lerp(e.array,n.array,t.array,i),e._dirty=!0,e},Kr.slerp=function(e,n,t,i){return ci.slerp(e.array,n.array,t.array,i),e._dirty=!0,e},Kr.mul=function(e,n,t){return ci.multiply(e.array,n.array,t.array),e._dirty=!0,e},Kr.multiply=Kr.mul,Kr.rotateX=function(e,n,t){return ci.rotateX(e.array,n.array,t),e._dirty=!0,e},Kr.rotateY=function(e,n,t){return ci.rotateY(e.array,n.array,t),e._dirty=!0,e},Kr.rotateZ=function(e,n,t){return ci.rotateZ(e.array,n.array,t),e._dirty=!0,e},Kr.setAxisAngle=function(e,n,t){return ci.setAxisAngle(e.array,n.array,t),e._dirty=!0,e},Kr.normalize=function(e,n){return ci.normalize(e.array,n.array),e._dirty=!0,e},Kr.sqrLen=function(e){return ci.sqrLen(e.array)},Kr.squaredLength=Kr.sqrLen,Kr.fromMat3=function(e,n){return ci.fromMat3(e.array,n.array),e._dirty=!0,e},Kr.setAxes=function(e,n,t,i){return ci.setAxes(e.array,n.array,t.array,i.array),e._dirty=!0,e},Kr.rotationTo=function(e,n,t){return ci.rotationTo(e.array,n.array,t.array),e._dirty=!0,e},Kr.fromEuler=function(e,n,_){e._dirty=!0,n=n.array;var i=e.array,r=Math.cos(n[0]/2),o=Math.cos(n[1]/2),l=Math.cos(n[2]/2),h=Math.sin(n[0]/2),f=Math.sin(n[1]/2),m=Math.sin(n[2]/2);switch(_=(_||"XYZ").toUpperCase()){case"XYZ":i[0]=h*o*l+r*f*m,i[1]=r*f*l-h*o*m,i[2]=r*o*m+h*f*l,i[3]=r*o*l-h*f*m;break;case"YXZ":i[0]=h*o*l+r*f*m,i[1]=r*f*l-h*o*m,i[2]=r*o*m-h*f*l,i[3]=r*o*l+h*f*m;break;case"ZXY":i[0]=h*o*l-r*f*m,i[1]=r*f*l+h*o*m,i[2]=r*o*m+h*f*l,i[3]=r*o*l-h*f*m;break;case"ZYX":i[0]=h*o*l-r*f*m,i[1]=r*f*l+h*o*m,i[2]=r*o*m-h*f*l,i[3]=r*o*l+h*f*m;break;case"YZX":i[0]=h*o*l+r*f*m,i[1]=r*f*l+h*o*m,i[2]=r*o*m-h*f*l,i[3]=r*o*l-h*f*m;break;case"XZY":i[0]=h*o*l-r*f*m,i[1]=r*f*l-h*o*m,i[2]=r*o*m+h*f*l,i[3]=r*o*l+h*f*m}};const _Ce=Kr;var s3=je.set,Qj=je.copy,Jj=function(e,n){this.min=e||new $t(1/0,1/0,1/0),this.max=n||new $t(-1/0,-1/0,-1/0),this.vertices=null};Jj.prototype={constructor:Jj,updateFromVertices:function(e){if(e.length>0){var n=this.min,t=this.max,i=n.array,r=t.array;Qj(i,e[0]),Qj(r,e[0]);for(var o=1;o<e.length;o++){var l=e[o];l[0]<i[0]&&(i[0]=l[0]),l[1]<i[1]&&(i[1]=l[1]),l[2]<i[2]&&(i[2]=l[2]),l[0]>r[0]&&(r[0]=l[0]),l[1]>r[1]&&(r[1]=l[1]),l[2]>r[2]&&(r[2]=l[2])}n._dirty=!0,t._dirty=!0}},union:function(e){var n=this.min,t=this.max;return je.min(n.array,n.array,e.min.array),je.max(t.array,t.array,e.max.array),n._dirty=!0,t._dirty=!0,this},intersection:function(e){var n=this.min,t=this.max;return je.max(n.array,n.array,e.min.array),je.min(t.array,t.array,e.max.array),n._dirty=!0,t._dirty=!0,this},intersectBoundingBox:function(e){var n=this.min.array,t=this.max.array,i=e.min.array,r=e.max.array;return!(n[0]>r[0]||n[1]>r[1]||n[2]>r[2]||t[0]<i[0]||t[1]<i[1]||t[2]<i[2])},containBoundingBox:function(e){var n=this.min.array,t=this.max.array,i=e.min.array,r=e.max.array;return n[0]<=i[0]&&n[1]<=i[1]&&n[2]<=i[2]&&t[0]>=r[0]&&t[1]>=r[1]&&t[2]>=r[2]},containPoint:function(e){var n=this.min.array,t=this.max.array,i=e.array;return n[0]<=i[0]&&n[1]<=i[1]&&n[2]<=i[2]&&t[0]>=i[0]&&t[1]>=i[1]&&t[2]>=i[2]},isFinite:function(){var e=this.min.array,n=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(n[0])&&isFinite(n[1])&&isFinite(n[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=je.create(),n=je.create(),t=je.create(),i=je.create(),r=je.create(),o=je.create();return function(l,h){var f=l.min.array,m=l.max.array,_=h.array;return e[0]=_[0]*f[0],e[1]=_[1]*f[0],e[2]=_[2]*f[0],n[0]=_[0]*m[0],n[1]=_[1]*m[0],n[2]=_[2]*m[0],t[0]=_[4]*f[1],t[1]=_[5]*f[1],t[2]=_[6]*f[1],i[0]=_[4]*m[1],i[1]=_[5]*m[1],i[2]=_[6]*m[1],r[0]=_[8]*f[2],r[1]=_[9]*f[2],r[2]=_[10]*f[2],o[0]=_[8]*m[2],o[1]=_[9]*m[2],o[2]=_[10]*m[2],m=this.max.array,(f=this.min.array)[0]=Math.min(e[0],n[0])+Math.min(t[0],i[0])+Math.min(r[0],o[0])+_[12],f[1]=Math.min(e[1],n[1])+Math.min(t[1],i[1])+Math.min(r[1],o[1])+_[13],f[2]=Math.min(e[2],n[2])+Math.min(t[2],i[2])+Math.min(r[2],o[2])+_[14],m[0]=Math.max(e[0],n[0])+Math.max(t[0],i[0])+Math.max(r[0],o[0])+_[12],m[1]=Math.max(e[1],n[1])+Math.max(t[1],i[1])+Math.max(r[1],o[1])+_[13],m[2]=Math.max(e[2],n[2])+Math.max(t[2],i[2])+Math.max(r[2],o[2])+_[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var n=this.min.array,t=this.max.array,i=e.array,r=n[0],o=n[1],l=n[2],h=t[0],f=t[1],m=n[2],_=t[0],b=t[1],S=t[2];if(1===i[15])n[0]=i[0]*r+i[12],n[1]=i[5]*o+i[13],t[2]=i[10]*l+i[14],t[0]=i[0]*_+i[12],t[1]=i[5]*b+i[13],n[2]=i[10]*S+i[14];else{var M=-1/l;n[0]=i[0]*r*M,n[1]=i[5]*o*M,t[2]=(i[10]*l+i[14])*M,t[0]=i[0]*h*(M=-1/m),t[1]=i[5]*f*M,n[2]=(i[10]*S+i[14])*(M=-1/S)}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var n=0;n<8;n++)e[n]=je.fromValues(0,0,0);this.vertices=e}var t=this.min.array,i=this.max.array;return s3(e[0],t[0],t[1],t[2]),s3(e[1],t[0],i[1],t[2]),s3(e[2],i[0],t[1],t[2]),s3(e[3],i[0],i[1],t[2]),s3(e[4],t[0],t[1],i[2]),s3(e[5],t[0],i[1],i[2]),s3(e[6],i[0],t[1],i[2]),s3(e[7],i[0],i[1],i[2]),this},copy:function(e){var n=this.min,t=this.max;return Qj(n.array,e.min.array),Qj(t.array,e.max.array),n._dirty=!0,t._dirty=!0,this},clone:function(){var e=new Jj;return e.copy(this),e}};const Qu=Jj;var s_t=0,l_t=Zu.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+s_t++),this.position||(this.position=new $t),this.rotation||(this.rotation=new _Ce),this.scale||(this.scale=new $t(1,1,1)),this.worldTransform=new En,this.localTransform=new En,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var n=this._scene;if(n){var t=n._nodeRepository;delete t[this.name],t[e]=this}this.name=e},add:function(e){var n=e._parent;if(n!==this){n&&n.remove(e),e._parent=this,this._children.push(e);var t=this._scene;t&&t!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var n=this._children,t=n.indexOf(e);t<0||(n.splice(t,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,n=0;n<e.length;n++)e[n]._parent=null,this._scene&&e[n].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var n=e._parent;n;){if(n===this)return!0;n=n._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var n=this._children,t=0;t<n.length;t++)if(n[t].name===e)return n[t]},getDescendantByName:function(e){for(var n=this._children,t=0;t<n.length;t++){var i=n[t];if(i.name===e)return i;var r=i.getDescendantByName(e);if(r)return r}},queryNode:function(e){if(e){for(var n=e.split("/"),t=this,i=0;i<n.length;i++){var r=n[i];if(r){for(var o=!1,l=t._children,h=0;h<l.length;h++){var f=l[h];if(f.name===r){t=f,o=!0;break}}if(!o)return}}return t}},getPath:function(e){if(!this._parent)return"/";for(var n=this._parent,t=this.name;n._parent&&(t=n.name+"/"+t,n._parent!=e);)n=n._parent;return!n._parent&&e?null:t},traverse:function(e,n){e.call(n,this);for(var t=this._children,i=0,r=t.length;i<r;i++)t[i].traverse(e,n)},eachChild:function(e,n){for(var t=this._children,i=0,r=t.length;i<r;i++)e.call(n,t[i],i)},setLocalTransform:function(e){Ut.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){this.localTransform.decomposeMatrix(e?null:this.scale,this.rotation,this.position)},setWorldTransform:function(e){Ut.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=Ut.create();return function(n){var t=this.localTransform,i=this.worldTransform;this._parent?(Ut.invert(e,this._parent.worldTransform.array),Ut.multiply(t.array,e,i.array)):Ut.copy(t.array,i.array),t.decomposeMatrix(n?null:this.scale,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,n=this.rotation,t=this.scale;if(this.transformNeedsUpdate()){var i=this.localTransform.array;Ut.fromRotationTranslation(i,n.array,e.array),Ut.scale(i,i,t.array),n._dirty=!1,t._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,n=this.worldTransform.array;this._parent?Ut.multiplyAffine(n,this._parent.worldTransform.array,e):Ut.copy(n,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var n=this._children,t=0,i=n.length;t<i;t++)n[t].update(e)},getBoundingBox:function(){function e(r){return!r.invisible&&r.geometry}var n=new Qu,t=new En,i=new En;return function(r,o){return o=o||new Qu,r=r||e,this._parent?En.invert(i,this._parent.worldTransform):En.identity(i),this.traverse(function(l){l.geometry&&l.geometry.boundingBox&&(n.copy(l.geometry.boundingBox),En.multiply(t,i,l.worldTransform),n.applyTransform(t),o.union(n))},this,e),o}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var n=this.worldTransform.array;if(e){var t=e.array;return t[0]=n[12],t[1]=n[13],t[2]=n[14],e}return new $t(n[12],n[13],n[14])},clone:function(){var e=new this.constructor,n=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var t=0;t<n.length;t++)e.add(n[t].clone());return e},rotateAround:function(){var e=new $t,n=new En;return function(t,i,r){e.copy(this.position).subtract(t);var o=this.localTransform;o.identity(),o.translate(t),o.rotate(r,i),n.fromRotationTranslation(this.rotation,e),o.multiply(n),o.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new En;return function(n,t){e.lookAt(this.position,n,t||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=n}}()});const Bm=l_t;var Bd=Bm.extend({material:null,geometry:null,mode:4,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:1029,frontFace:2305,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,n){},getBoundingBox:function(e,n){return n=Bm.prototype.getBoundingBox.call(this,e,n),this.geometry&&this.geometry.boundingBox&&n.union(this.geometry.boundingBox),n},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var n=Bm.prototype.clone.call(this);n.geometry=this.geometry,n.material=this.material;for(var t=0;t<e.length;t++){var i=e[t];n[i]!==this[i]&&(n[i]=this[i])}return n}}()});Bd.POINTS=0,Bd.LINES=1,Bd.LINE_LOOP=2,Bd.LINE_STRIP=3,Bd.TRIANGLES=4,Bd.TRIANGLE_STRIP=5,Bd.TRIANGLE_FAN=6,Bd.BACK=1029,Bd.FRONT=1028,Bd.FRONT_AND_BACK=1032,Bd.CW=2304,Bd.CCW=2305;const dle=Bd;var fle=Zu.extend({scene:null,camera:null,renderer:null},function(){this._ray=new qj,this._ndc=new Fd},{pick:function(e,n,t){return this.pickAll(e,n,[],t)[0]||null},pickAll:function(e,n,t,i){return this.renderer.screenToNDC(e,n,this._ndc),this.camera.castRay(this._ndc,this._ray),this._intersectNode(this.scene,t=t||[],i||!1),t.sort(this._intersectionCompareFunc),t},_intersectNode:function(e,n,t){e instanceof dle&&e.isRenderable()&&(!e.ignorePicking||t)&&(4===e.mode&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,n);for(var i=0;i<e._children.length;i++)this._intersectNode(e._children[i],n,t)},_intersectRenderable:function(){var e=new $t,n=new $t,t=new $t,i=new qj,r=new En;return function(o,l){var h=o.isSkinnedMesh();i.copy(this._ray),En.invert(r,o.worldTransform),h||i.applyTransform(r);var f=o.geometry,m=h?o.skeleton.boundingBox:f.boundingBox;if(!m||i.intersectBoundingBox(m)){if(f.pick)return void f.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,o,l);if(f.pickByRay)return void f.pickByRay(i,o,l);var b,N,_=1029===o.cullFace&&2305===o.frontFace||1028===o.cullFace&&2304===o.frontFace,S=f.indices,M=f.attributes.position,O=f.attributes.weight,I=f.attributes.joint,V=[];if(M&&M.value&&S){if(h){N=o.skeleton.getSubSkinMatrices(o.__uid__,o.joints);for(var G=0;G<o.joints.length;G++){V[G]=V[G]||[];for(var X=0;X<16;X++)V[G][X]=N[16*G+X]}var K=[],ne=[],ie=[],pe=[],ve=[],ye=f.attributes.skinnedPosition;for((!ye||!ye.value)&&(f.createAttribute("skinnedPosition","f",3),(ye=f.attributes.skinnedPosition).init(f.vertexCount)),G=0;G<f.vertexCount;G++){for(M.get(G,K),O.get(G,ne),I.get(G,ie),ne[3]=1-ne[0]-ne[1]-ne[2],je.set(pe,0,0,0),X=0;X<4;X++)ie[X]>=0&&ne[X]>1e-4&&(je.transformMat4(ve,K,V[ie[X]]),je.scaleAndAdd(pe,pe,ve,ne[X]));ye.set(G,pe)}}for(G=0;G<S.length;G+=3){var Se=S[G],xe=S[G+1],De=S[G+2],Pe=h?f.attributes.skinnedPosition:M;if(Pe.get(Se,e.array),Pe.get(xe,n.array),Pe.get(De,t.array),b=_?i.intersectTriangle(e,n,t,o.culling):i.intersectTriangle(e,t,n,o.culling)){var Re=new $t;h?$t.copy(Re,b):$t.transformMat4(Re,b,o.worldTransform),l.push(new fle.Intersection(b,Re,o,[Se,xe,De],G/3,$t.dist(Re,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,n){return e.distance-n.distance}});fle.Intersection=function(e,n,t,i,r,o){this.point=e,this.pointWorld=n,this.target=t,this.triangle=i,this.triangleIndex=r,this.distance=o};const c_t=fle;var SE="__dt__",e$=function(){this._contextId=0,this._caches=[],this._context={}};e$.prototype={use:function(e,n){var t=this._caches;t[e]||(t[e]={},n&&(t[e]=n())),this._contextId=e,this._context=t[e]},put:function(e,n){this._context[e]=n},get:function(e){return this._context[e]},dirty:function(e){this.put(SE+(e=e||""),!0)},dirtyAll:function(e){for(var n=SE+(e=e||""),t=this._caches,i=0;i<t.length;i++)t[i]&&(t[i][n]=!0)},fresh:function(e){this.put(SE+(e=e||""),!1)},freshAll:function(e){for(var n=SE+(e=e||""),t=this._caches,i=0;i<t.length;i++)t[i]&&(t[i][n]=!1)},isDirty:function(e){var n=SE+(e=e||""),t=this._context;return!t.hasOwnProperty(n)||!0===t[n]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,n){Object.keys(this._caches).forEach(function(i){e&&e.call(n,i)})},miss:function(e){return!this._context.hasOwnProperty(e)}},e$.prototype.constructor=e$;const ple=e$;var gr=Zu.extend({width:512,height:512,type:5121,format:6408,wrapS:10497,wrapT:10497,minFilter:9987,magFilter:9729,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new ple},{getWebGLTexture:function(e){var n=e.gl,t=this._cache;return t.use(e.__uid__),t.miss("webgl_texture")&&t.put("webgl_texture",n.createTexture()),this.dynamic?this.update(e):t.isDirty()&&(this.update(e),t.fresh()),t.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var n=e.gl;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),6402===this.format&&(this.useMipmap=!1);var t=e.getGLExtension("EXT_sRGB");this.format===gr.SRGB&&!t&&(this.format=gr.RGB),this.format===gr.SRGB_ALPHA&&!t&&(this.format=gr.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?33071:this.wrapS},getAvailableWrapT:function(){return this.NPOT?33071:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?9984===e||9986===e?9728:9987===e||9985===e?9729:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var n=1;n<32;n<<=1)e|=e>>n;return e+1},dispose:function(e){var n=this._cache;n.use(e.__uid__);var t=n.get("webgl_texture");t&&e.gl.deleteTexture(t),n.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(gr.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(gr.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),gr.BYTE=5120,gr.UNSIGNED_BYTE=5121,gr.SHORT=5122,gr.UNSIGNED_SHORT=5123,gr.INT=5124,gr.UNSIGNED_INT=5125,gr.FLOAT=5126,gr.HALF_FLOAT=36193,gr.UNSIGNED_INT_24_8_WEBGL=34042,gr.DEPTH_COMPONENT=6402,gr.DEPTH_STENCIL=34041,gr.ALPHA=6406,gr.RGB=6407,gr.RGBA=6408,gr.LUMINANCE=6409,gr.LUMINANCE_ALPHA=6410,gr.SRGB=35904,gr.SRGB_ALPHA=35906,gr.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,gr.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,gr.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,gr.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,gr.NEAREST=9728,gr.LINEAR=9729,gr.NEAREST_MIPMAP_NEAREST=9984,gr.LINEAR_MIPMAP_NEAREST=9985,gr.NEAREST_MIPMAP_LINEAR=9986,gr.LINEAR_MIPMAP_LINEAR=9987,gr.REPEAT=10497,gr.CLAMP_TO_EDGE=33071,gr.MIRRORED_REPEAT=33648;const Rn=gr;var Vd=dle.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=dle.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});Vd.POINTS=0,Vd.LINES=1,Vd.LINE_LOOP=2,Vd.LINE_STRIP=3,Vd.TRIANGLES=4,Vd.TRIANGLE_STRIP=5,Vd.TRIANGLE_FAN=6,Vd.BACK=1029,Vd.FRONT=1028,Vd.FRONT_AND_BACK=1032,Vd.CW=2304,Vd.CCW=2305;const Nx=Vd;var t$={isPowerOfTwo:function(e){return 0==(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}};const yCe=t$;var xCe=yCe.isPowerOfTwo;function bCe(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}var gle=Rn.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var n=e.gl;n.bindTexture(n.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var t=this.format,i=this.type,r=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==Rn.REPEAT&&this.wrapT!==Rn.REPEAT||!this.NPOT);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,r?this.wrapS:this.getAvailableWrapS()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,r?this.wrapT:this.getAvailableWrapT()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,r?this.magFilter:this.getAvailableMagFilter()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r?this.minFilter:this.getAvailableMinFilter());var o=e.getGLExtension("EXT_texture_filter_anisotropic");if(o&&this.anisotropic>1&&n.texParameterf(n.TEXTURE_2D,o.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===i&&(e.getGLExtension("OES_texture_half_float")||(i=5126)),this.mipmaps.length)for(var h=this.width,f=this.height,m=0;m<this.mipmaps.length;m++)this._updateTextureData(n,this.mipmaps[m],m,h,f,t,i,!1),h/=2,f/=2;else this._updateTextureData(n,this,0,this.width,this.height,t,i,r),this.useMipmap&&(!this.NPOT||r)&&n.generateMipmap(n.TEXTURE_2D);n.bindTexture(n.TEXTURE_2D,null)},_updateTextureData:function(e,n,t,i,r,o,l,h){if(n.image){var f=n.image;h&&(this._potCanvas=function u_t(e,n){var t=bCe(e.width),i=bCe(e.height);return(n=n||document.createElement("canvas")).width=t,n.height=i,n.getContext("2d").drawImage(e.image,0,0,t,i),n}(this,this._potCanvas),f=this._potCanvas),e.texImage2D(e.TEXTURE_2D,t,o,o,l,f)}else o<=Rn.COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=Rn.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,t,o,i,r,0,n.pixels):e.texImage2D(e.TEXTURE_2D,t,o,i,r,0,o,l,n.pixels)},generateMipmap:function(e){var n=e.gl;this.useMipmap&&!this.NPOT&&(n.bindTexture(n.TEXTURE_2D,this._cache.get("webgl_texture")),n.generateMipmap(n.TEXTURE_2D))},isPowerOfTwo:function(){return xCe(this.width)&&xCe(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,n){var t=ks.createImage();n&&(t.crossOrigin=n);var i=this;return t.onload=function(){i.dirty(),i.trigger("success",i)},t.onerror=function(){i.trigger("error",i)},t.src=e,this.image=t,this}});Object.defineProperty(gle.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(gle.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const Vi=gle;function CCe(e){return{byte:ks.Int8Array,ubyte:ks.Uint8Array,short:ks.Int16Array,ushort:ks.Uint16Array}[e]||ks.Float32Array}function mle(e){return"attr_"+e}function oT(e,n,t,i){switch(this.name=e,this.type=n,this.size=t,this.semantic=i||"",this.value=null,t){case 1:this.get=function(r){return this.value[r]},this.set=function(r,o){this.value[r]=o},this.copy=function(r,o){this.value[r]=this.value[r]};break;case 2:this.get=function(r,o){var l=this.value;return o[0]=l[2*r],o[1]=l[2*r+1],o},this.set=function(r,o){var l=this.value;l[2*r]=o[0],l[2*r+1]=o[1]},this.copy=function(r,o){var l=this.value;l[r*=2]=l[o*=2],l[r+1]=l[o+1]};break;case 3:this.get=function(r,o){var l=3*r,h=this.value;return o[0]=h[l],o[1]=h[l+1],o[2]=h[l+2],o},this.set=function(r,o){var l=3*r,h=this.value;h[l]=o[0],h[l+1]=o[1],h[l+2]=o[2]},this.copy=function(r,o){var l=this.value;l[r*=3]=l[o*=3],l[r+1]=l[o+1],l[r+2]=l[o+2]};break;case 4:this.get=function(r,o){var l=this.value,h=4*r;return o[0]=l[h],o[1]=l[h+1],o[2]=l[h+2],o[3]=l[h+3],o},this.set=function(r,o){var l=this.value,h=4*r;l[h]=o[0],l[h+1]=o[1],l[h+2]=o[2],l[h+3]=o[3]},this.copy=function(r,o){var l=this.value;l[r*=4]=l[o*=4],l[r+1]=l[o+1],l[r+2]=l[o+2],l[r+3]=l[o+3]}}}function wCe(e,n,t,i,r){this.name=e,this.type=n,this.buffer=t,this.size=i,this.semantic=r,this.symbol="",this.needsRemove=!1}function SCe(e){this.buffer=e,this.count=0}oT.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var n=CCe(this.type);this.value=new n(e*this.size)}},oT.prototype.fromArray=function(e){var t,n=CCe(this.type);if(e[0]&&e[0].length){var i=0,r=this.size;t=new n(e.length*r);for(var o=0;o<e.length;o++)for(var l=0;l<r;l++)t[i++]=e[o][l]}else t=new n(e);this.value=t},oT.prototype.clone=function(e){var n=new oT(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),n};var s2=Zu.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new ple,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),n=0;n<e.length;n++)this.dirtyAttribute(e[n]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(mle(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,n){if(e<this.triangleCount&&e>=0){n||(n=[]);var t=this.indices;return n[0]=t[3*e],n[1]=t[3*e+1],n[2]=t[3*e+2],n}},setTriangleIndices:function(e,n){var t=this.indices;t[3*e]=n[0],t[3*e+1]=n[1],t[3*e+2]=n[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var n,t=this.vertexCount>65535?ks.Uint32Array:ks.Uint16Array;if(e[0]&&e[0].length){var i=0;n=new t(3*e.length);for(var o=0;o<e.length;o++)for(var l=0;l<3;l++)n[i++]=e[o][l]}else n=new t(e);this.indices=n},createAttribute:function(e,n,t,i){var r=new oT(e,n,t,i);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=r,this._attributeList.push(e),r},removeAttribute:function(e){var n=this._attributeList,t=n.indexOf(e);return t>=0&&(n.splice(t,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,n=this._attributeList;if(e)return e;for(var t=[],i=this.vertexCount,r=0;r<n.length;r++){var o=n[r],l=this.attributes[o];l.value&&l.value.length===i*l.size&&t.push(o)}return this._enabledAttributes=t,t},getBufferChunks:function(e){var n=this._cache;n.use(e.__uid__);var t=n.isDirty("attributes"),i=n.isDirty("indices");if(t||i){this._updateBuffer(e.gl,t,i);for(var r=this.getEnabledAttributes(),o=0;o<r.length;o++)n.fresh(mle(r[o]));n.fresh("attributes"),n.fresh("indices")}return n.fresh("any"),n.get("chunks")},_updateBuffer:function(e,n,t){var i=this._cache,r=i.get("chunks"),o=!1;r||((r=[])[0]={attributeBuffers:[],indicesBuffer:null},i.put("chunks",r),o=!0);var l=r[0],h=l.attributeBuffers,f=l.indicesBuffer;if(n||o){var m=this.getEnabledAttributes(),_={};if(!o)for(var b=0;b<h.length;b++)_[h[b].name]=h[b];for(var S=0;S<m.length;S++){var I,N,M=m[S],O=this.attributes[M];o||(I=_[M]),N=I?I.buffer:e.createBuffer(),i.isDirty(mle(M))&&(e.bindBuffer(e.ARRAY_BUFFER,N),e.bufferData(e.ARRAY_BUFFER,O.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),h[S]=new wCe(M,O.type,N,O.size,O.semantic)}for(b=S;b<h.length;b++)e.deleteBuffer(h[b].buffer);h.length=S}this.isUseIndices()&&(t||o)&&(f||(f=new SCe(e.createBuffer()),l.indicesBuffer=f),f.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,f.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var n=this._cache;n.use(e.__uid__);var t=n.get("chunks");if(t)for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<r.attributeBuffers.length;o++)e.gl.deleteBuffer(r.attributeBuffers[o].buffer);r.indicesBuffer&&e.gl.deleteBuffer(r.indicesBuffer.buffer)}if(this.__vaoCache){var h=e.getGLExtension("OES_vertex_array_object");for(var f in this.__vaoCache){var m=this.__vaoCache[f].vao;m&&h.deleteVertexArrayOES(m)}}this.__vaoCache={},n.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(s2.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(s2.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),s2.STATIC_DRAW=35044,s2.DYNAMIC_DRAW=35048,s2.STREAM_DRAW=35040,s2.AttributeBuffer=wCe,s2.IndicesBuffer=SCe,s2.Attribute=oT;const Fx=s2;var Ju=je.create,aT=je.add,Bx=je.set,Vm=Fx.Attribute,Vx=Fx.extend(function(){return{attributes:{position:new Vm("position","float",3,"POSITION"),texcoord0:new Vm("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new Vm("texcoord1","float",2,"TEXCOORD_1"),normal:new Vm("normal","float",3,"NORMAL"),tangent:new Vm("tangent","float",4,"TANGENT"),color:new Vm("color","float",4,"COLOR"),weight:new Vm("weight","float",3,"WEIGHT"),joint:new Vm("joint","float",4,"JOINT"),barycentric:new Vm("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new Qu);var n=this.attributes.position.value;if(n&&n.length){var t=e.min,i=e.max,r=t.array,o=i.array;je.set(r,n[0],n[1],n[2]),je.set(o,n[0],n[1],n[2]);for(var l=3;l<n.length;){var h=n[l++],f=n[l++],m=n[l++];h<r[0]&&(r[0]=h),f<r[1]&&(r[1]=f),m<r[2]&&(r[2]=m),h>o[0]&&(o[0]=h),f>o[1]&&(o[1]=f),m>o[2]&&(o[2]=m)}t._dirty=!0,i._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,n=this.attributes,t=n.position.value,i=n.normal.value;if(i&&i.length===t.length)for(var r=0;r<i.length;r++)i[r]=0;else i=n.normal.value=new ks.Float32Array(t.length);for(var S,M,O,o=Ju(),l=Ju(),h=Ju(),f=Ju(),m=Ju(),_=Ju(),b=e?e.length:this.vertexCount,I=0;I<b;)for(e?(S=e[I++],M=e[I++],O=e[I++]):(S=I++,M=I++,O=I++),Bx(o,t[3*S],t[3*S+1],t[3*S+2]),Bx(l,t[3*M],t[3*M+1],t[3*M+2]),Bx(h,t[3*O],t[3*O+1],t[3*O+2]),je.sub(f,o,l),je.sub(m,l,h),je.cross(_,f,m),r=0;r<3;r++)i[3*S+r]=i[3*S+r]+_[r],i[3*M+r]=i[3*M+r]+_[r],i[3*O+r]=i[3*O+r]+_[r];for(r=0;r<i.length;)Bx(_,i[r],i[r+1],i[r+2]),je.normalize(_,_),i[r++]=_[0],i[r++]=_[1],i[r++]=_[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,n=this.attributes,t=n.position.value,i=n.normal.value,r=Ju(),o=Ju(),l=Ju(),h=Ju(),f=Ju(),m=Ju();i||(i=n.normal.value=new Float32Array(t.length));for(var b,S,M,_=e?e.length:this.vertexCount,O=0;O<_;){e?(b=e[O++],S=e[O++],M=e[O++]):(b=O++,S=O++,M=O++),Bx(r,t[3*b],t[3*b+1],t[3*b+2]),Bx(o,t[3*S],t[3*S+1],t[3*S+2]),Bx(l,t[3*M],t[3*M+1],t[3*M+2]),je.sub(h,r,o),je.sub(f,o,l),je.cross(m,h,f),je.normalize(m,m);for(var I=0;I<3;I++)i[3*b+I]=m[I],i[3*S+I]=m[I],i[3*M+I]=m[I]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,n=this.attributes;n.tangent.value||(n.tangent.value=new Float32Array(4*e));var t=n.texcoord0.value,i=n.position.value,r=n.tangent.value,o=n.normal.value;if(!t)return void console.warn("Geometry without texcoords can't generate tangents.");for(var l=[],h=[],f=0;f<e;f++)l[f]=[0,0,0],h[f]=[0,0,0];var M,O,I,m=[0,0,0],_=[0,0,0],b=this.indices,S=b?b.length:this.vertexCount;for(f=0;f<S;){b?(M=b[f++],O=b[f++],I=b[f++]):(M=f++,O=f++,I=f++);var N=t[2*M],X=t[2*M+1],ie=i[3*M],ye=i[3*M+1],De=i[3*M+2],ke=i[3*O]-ie,Oe=i[3*I]-ie,Ye=i[3*O+1]-ye,Ge=i[3*I+1]-ye,ct=i[3*O+2]-De,We=i[3*I+2]-De,Tt=t[2*O]-N,Lt=t[2*I]-N,An=t[2*O+1]-X,Qt=t[2*I+1]-X,zn=1/(Tt*Qt-An*Lt);m[0]=(Qt*ke-An*Oe)*zn,m[1]=(Qt*Ye-An*Ge)*zn,m[2]=(Qt*ct-An*We)*zn,_[0]=(Tt*Oe-Lt*ke)*zn,_[1]=(Tt*Ge-Lt*Ye)*zn,_[2]=(Tt*We-Lt*ct)*zn,aT(l[M],l[M],m),aT(l[O],l[O],m),aT(l[I],l[I],m),aT(h[M],h[M],_),aT(h[O],h[O],_),aT(h[I],h[I],_)}var Ar=Ju(),vn=Ju(),Nn=Ju();for(f=0;f<e;f++){Nn[0]=o[3*f],Nn[1]=o[3*f+1],Nn[2]=o[3*f+2];var ht=l[f];je.scale(Ar,Nn,je.dot(Nn,ht)),je.sub(Ar,ht,Ar),je.normalize(Ar,Ar),je.cross(vn,Nn,ht),r[4*f]=Ar[0],r[4*f+1]=Ar[1],r[4*f+2]=Ar[2],r[4*f+3]=je.dot(vn,h[f])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new ks.Uint32Array(this.indices));for(var e=this.attributes,n=this.indices,t=this.getEnabledAttributes(),i={},r=0;r<t.length;r++)i[o=t[r]]=e[o].value,e[o].init(this.indices.length);for(var l=0,h=0;h<n.length;h++){var f=n[h];for(r=0;r<t.length;r++)for(var o,m=e[o=t[r]].value,_=e[o].size,b=0;b<_;b++)m[l*_+b]=i[o][f*_+b];n[h]=l,l++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,n=e.barycentric.value,t=this.indices;if(!n||n.length!==3*t.length){n=e.barycentric.value=new Float32Array(3*t.length);for(var i=0;i<(t?t.length:this.vertexCount/3);)for(var r=0;r<3;r++)n[3*(t?t[i++]:3*i+r)+r]=1;this.dirty()}}},applyTransform:function(e){var n=this.attributes,t=n.position.value,i=n.normal.value,r=n.tangent.value;e=e.array;var o=Ut.create();Ut.invert(o,e),Ut.transpose(o,o);var l=je.transformMat4,h=je.forEach;h(t,3,0,null,l,e),i&&h(i,3,0,null,l,o),r&&h(r,4,0,null,l,o),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var n=this._cache;n.use(e.__uid__);var t=n.get("chunks");if(t)for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<r.attributeBuffers.length;o++)e.gl.deleteBuffer(r.attributeBuffers[o].buffer);r.indicesBuffer&&e.gl.deleteBuffer(r.indicesBuffer.buffer)}if(this.__vaoCache){var h=e.getGLExtension("OES_vertex_array_object");for(var f in this.__vaoCache){var m=this.__vaoCache[f].vao;m&&h.deleteVertexArrayOES(m)}}this.__vaoCache={},n.deleteContext(e.__uid__)}});Vx.STATIC_DRAW=Fx.STATIC_DRAW,Vx.DYNAMIC_DRAW=Fx.DYNAMIC_DRAW,Vx.STREAM_DRAW=Fx.STREAM_DRAW,Vx.AttributeBuffer=Fx.AttributeBuffer,Vx.IndicesBuffer=Fx.IndicesBuffer,Vx.Attribute=Vm;const Pr=Vx;var Jg="uniform vec3 ",TE="uniform float ",sT="@export clay.header.",lT="@end",tc=":unconfigurable;";const d_t=[sT+"directional_light",Jg+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+tc,Jg+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+tc,lT,sT+"ambient_light",Jg+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+tc,lT,sT+"ambient_sh_light",Jg+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+tc,Jg+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+tc,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",lT,sT+"ambient_cubemap_light",Jg+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+tc,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+tc,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+tc,lT,sT+"point_light",Jg+"pointLightPosition[POINT_LIGHT_COUNT]"+tc,TE+"pointLightRange[POINT_LIGHT_COUNT]"+tc,Jg+"pointLightColor[POINT_LIGHT_COUNT]"+tc,lT,sT+"spot_light",Jg+"spotLightPosition[SPOT_LIGHT_COUNT]"+tc,Jg+"spotLightDirection[SPOT_LIGHT_COUNT]"+tc,TE+"spotLightRange[SPOT_LIGHT_COUNT]"+tc,TE+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+tc,TE+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+tc,TE+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+tc,Jg+"spotLightColor[SPOT_LIGHT_COUNT]"+tc,lT].join("\n");sn.import(d_t);var f_t=Bm.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=Bm.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});const e1=f_t;var n$=function(e,n){this.normal=e||new $t(0,1,0),this.distance=n||0};n$.prototype={constructor:n$,distanceToPoint:function(e){return je.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,n){n||(n=new $t);var t=this.distanceToPoint(e);return je.scaleAndAdd(n.array,e.array,this.normal.array,-t),n._dirty=!0,n},normalize:function(){var e=1/je.len(this.normal.array);je.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var n=e.vertices,t=this.normal.array,i=je.dot(n[0].array,t)>this.distance,r=1;r<8;r++)if(je.dot(n[r].array,t)>this.distance!=i)return!0},intersectLine:function(){var e=je.create();return function(n,t,i){var r=this.distanceToPoint(n),o=this.distanceToPoint(t);if(r>0&&o>0||r<0&&o<0)return null;var l=this.normal.array,h=this.distance,f=n.array;je.sub(e,t.array,n.array),je.normalize(e,e);var m=je.dot(l,e);if(0===m)return null;i||(i=new $t);var _=(je.dot(l,f)-h)/m;return je.scaleAndAdd(i.array,f,e,-_),i._dirty=!0,i}}(),applyTransform:function(){var e=Ut.create(),n=un.create(),t=un.create();return t[3]=1,function(i){i=i.array,je.scale(t,this.normal.array,this.distance),un.transformMat4(t,t,i),this.distance=je.dot(t,this.normal.array),Ut.invert(e,i),Ut.transpose(e,e),n[3]=0,je.copy(n,this.normal.array),un.transformMat4(n,n,e),je.copy(this.normal.array,n)}}(),copy:function(e){je.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new n$;return e.copy(this),e}};const TCe=n$;var ds=je.set,MCe=je.copy,DCe=je.transformMat4,vle=Math.min,_le=Math.max,PCe=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new TCe);for(this.boundingBox=new Qu,this.vertices=[],e=0;e<8;e++)this.vertices[e]=je.fromValues(0,0,0)};PCe.prototype={setFromProjection:function(e){var n=this.planes,t=e.array,i=t[0],r=t[1],o=t[2],l=t[3],h=t[4],f=t[5],m=t[6],_=t[7],b=t[8],S=t[9],M=t[10],O=t[11],I=t[12],N=t[13],V=t[14],G=t[15];ds(n[0].normal.array,l-i,_-h,O-b),n[0].distance=-(G-I),n[0].normalize(),ds(n[1].normal.array,l+i,_+h,O+b),n[1].distance=-(G+I),n[1].normalize(),ds(n[2].normal.array,l+r,_+f,O+S),n[2].distance=-(G+N),n[2].normalize(),ds(n[3].normal.array,l-r,_-f,O-S),n[3].distance=-(G-N),n[3].normalize(),ds(n[4].normal.array,l-o,_-m,O-M),n[4].distance=-(G-V),n[4].normalize(),ds(n[5].normal.array,l+o,_+m,O+M),n[5].distance=-(G+V),n[5].normalize();var X=this.boundingBox,K=this.vertices;if(0===G){var ne=f/i,ie=-V/(M-1),pe=-V/(M+1),ve=-pe/f,ye=-ie/f;X.min.set(-ve*ne,-ve,pe),X.max.set(ve*ne,ve,ie),ds(K[0],-ve*ne,-ve,pe),ds(K[1],-ve*ne,ve,pe),ds(K[2],ve*ne,-ve,pe),ds(K[3],ve*ne,ve,pe),ds(K[4],-ye*ne,-ye,ie),ds(K[5],-ye*ne,ye,ie),ds(K[6],ye*ne,-ye,ie),ds(K[7],ye*ne,ye,ie)}else{var Se=(-1-I)/i,xe=(1-I)/i,De=(1-N)/f,Pe=(-1-N)/f,Re=(-1-V)/M,ke=(1-V)/M;X.min.set(Math.min(Se,xe),Math.min(Pe,De),Math.min(ke,Re)),X.max.set(Math.max(xe,Se),Math.max(De,Pe),Math.max(Re,ke));var Oe=X.min.array,Ye=X.max.array;ds(K[0],Oe[0],Oe[1],Oe[2]),ds(K[1],Oe[0],Ye[1],Oe[2]),ds(K[2],Ye[0],Oe[1],Oe[2]),ds(K[3],Ye[0],Ye[1],Oe[2]),ds(K[4],Oe[0],Oe[1],Ye[2]),ds(K[5],Oe[0],Ye[1],Ye[2]),ds(K[6],Ye[0],Oe[1],Ye[2]),ds(K[7],Ye[0],Ye[1],Ye[2])}},getTransformedBoundingBox:function(){var e=je.create();return function(n,t){var i=this.vertices,r=t.array,o=n.min,l=n.max,h=o.array,f=l.array,m=i[0];DCe(e,m,r),MCe(h,e),MCe(f,e);for(var _=1;_<8;_++)DCe(e,m=i[_],r),h[0]=vle(e[0],h[0]),h[1]=vle(e[1],h[1]),h[2]=vle(e[2],h[2]),f[0]=_le(e[0],f[0]),f[1]=_le(e[1],f[1]),f[2]=_le(e[2],f[2]);return o._dirty=!0,l._dirty=!0,n}}()};const yle=PCe;var p_t=Bm.extend(function(){return{projectionMatrix:new En,invProjectionMatrix:new En,viewMatrix:new En,frustum:new yle}},function(){this.update(!0)},{update:function(e){Bm.prototype.update.call(this,e),En.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),En.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){En.copy(this.viewMatrix,e),En.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){En.copy(this.projectionMatrix,e),En.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=un.create();return function(n,t){var i=void 0!==t?t:new qj,r=n.array[0],o=n.array[1];return un.set(e,r,o,-1,1),un.transformMat4(e,e,this.invProjectionMatrix.array),un.transformMat4(e,e,this.worldTransform.array),je.scale(i.origin.array,e,1/e[3]),un.set(e,r,o,1,1),un.transformMat4(e,e,this.invProjectionMatrix.array),un.transformMat4(e,e,this.worldTransform.array),je.scale(e,e,1/e[3]),je.sub(i.direction.array,e,i.origin.array),je.normalize(i.direction.array,i.direction.array),i.direction._dirty=!0,i.origin._dirty=!0,i}}()});const cT=p_t;var g_t=Ut.create(),ACe=Ut.create(),xle={};function m_t(e){var n=[],t=Object.keys(e);t.sort();for(var i=0;i<t.length;i++){var r=t[i];n.push(r+" "+e[r])}var o=n.join("\n");if(xle[o])return xle[o];var l=Jl.genGUID();return xle[o]=l,l}function i$(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}i$.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},i$.prototype.add=function(e,n){n?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},i$.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var v_t=Bm.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new Qu,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new $be(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof cT?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof e1&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var n;e instanceof cT?(n=this._cameraList.indexOf(e))>=0&&this._cameraList.splice(n,1):e instanceof e1&&(n=this.lights.indexOf(e))>=0&&this.lights.splice(n,1),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var n=this._cameraList.indexOf(e);n>=0&&this._cameraList.splice(n,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var n={},t=0;t<e.length;t++){var i=e[t];if(!i.invisible){var r=i.group;n[r]||(n[r]={}),n[r][i.type]=n[r][i.type]||0,n[r][i.type]++}}for(var o in this._lightNumber=n,n)this._lightProgramKeys[o]=m_t(n[o]);this._updateLightUniforms()},cloneNode:function(e){var n=e.clone(),t={};return function i(r,o){t[r.__uid__]=o;for(var l=0;l<r._children.length;l++)i(r._children[l],o._children[l])}(e,n),n.traverse(function(r){r.skeleton&&(r.skeleton=r.skeleton.clone(t)),r.material&&(r.material=r.material.clone())}),n},updateRenderList:function(e,n){var t=e.__uid__,i=this._renderLists.get(t);return i||(i=new i$,this._renderLists.put(t,i)),i.startCount(),n&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0)),this._doUpdateRenderList(this,e,this.material&&this.material.transparent||!1,i,n),i.endCount(),i},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,n,t,i,r){if(!e.invisible)for(var o=0;o<e._children.length;o++){var l=e._children[o];if(l.isRenderable()){var h=l.isSkinnedMesh()?g_t:l.worldTransform.array,f=l.geometry;Ut.multiplyAffine(ACe,n.viewMatrix.array,h),(r&&!f.boundingBox||!this.isFrustumCulled(l,n,ACe))&&i.add(l,l.material.transparent||t)}l._children.length>0&&this._doUpdateRenderList(l,n,t,i,r)}},isFrustumCulled:function(){var e=new Qu,n=new En;return function(t,i,r){var o=t.boundingBox;if(o||(o=t.skeleton&&t.skeleton.boundingBox?t.skeleton.boundingBox:t.geometry.boundingBox),!o)return!1;if(n.array=r,e.transformFrom(o,n),t.castShadow&&this.viewBoundingBoxLastFrame.union(e),t.frustumCulling){if(!e.intersectBoundingBox(i.frustum.boundingBox))return!0;n.array=i.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(n);var l=e.min.array,h=e.max.array;if(h[0]<-1||l[0]>1||h[1]<-1||l[1]>1||h[2]<-1||l[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(__t);var n=this._lightUniforms;for(var t in n)for(var i in n[t])n[t][i].value.length=0;for(var r=0;r<e.length;r++){var o=e[r];if(!o.invisible)for(var i in t=o.group,o.uniformTemplates){var l=o.uniformTemplates[i],h=l.value(o);if(null!=h){n[t]||(n[t]={}),n[t][i]||(n[t][i]={type:"",value:[]});var f=n[t][i];switch(f.type=l.type+"v",l.type){case"1i":case"1f":case"t":f.value.push(h);break;case"2f":case"3f":case"4f":for(var m=0;m<h.length;m++)f.value.push(h[m]);break;default:console.error("Unkown light uniform type "+l.type)}}}}},getLightGroups:function(){var e=[];for(var n in this._lightNumber)e.push(n);return e},getNumberChangedLightGroups:function(){var e=[];for(var n in this._lightNumber)this.isLightNumberChanged(n)&&e.push(n);return e},isLightNumberChanged:function(e){var n=this._previousLightNumber,t=this._lightNumber;for(var i in t[e])if(!n[e]||t[e][i]!==n[e][i])return!0;for(var i in n[e])if(!t[e]||t[e][i]!==n[e][i])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(n,t,i){for(var r in n){var o=n[r];if("tv"===o.type){if(!t.hasUniform(r))continue;for(var l=[],h=0;h<o.value.length;h++){var m=t.takeCurrentTextureSlot(i,o.value[h]);l.push(m)}t.setUniform(i.gl,"1iv",r,l)}else t.setUniform(i.gl,o.type,r,o.value)}}return function(n,t,i){e(this._lightUniforms[t],n,i),e(this.shadowUniforms,n,i)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function __t(e,n){if(n.castShadow&&!e.castShadow)return!0}const l3=v_t;var r$=yCe.isPowerOfTwo,y_t=["px","nx","py","ny","pz","nz"],ble=Rn.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var n=e.gl;n.bindTexture(n.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var t=this.format,i=this.type;n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_S,this.getAvailableWrapS()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_T,this.getAvailableWrapT()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var r=e.getGLExtension("EXT_texture_filter_anisotropic");if(r&&this.anisotropic>1&&n.texParameterf(n.TEXTURE_CUBE_MAP,r.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===i&&(e.getGLExtension("OES_texture_half_float")||(i=5126)),this.mipmaps.length)for(var l=this.width,h=this.height,f=0;f<this.mipmaps.length;f++)this._updateTextureData(n,this.mipmaps[f],f,l,h,t,i),l/=2,h/=2;else this._updateTextureData(n,this,0,this.width,this.height,t,i),!this.NPOT&&this.useMipmap&&n.generateMipmap(n.TEXTURE_CUBE_MAP);n.bindTexture(n.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,n,t,i,r,o,l){for(var h=0;h<6;h++){var f=y_t[h],m=n.image&&n.image[f];m?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+h,t,o,o,l,m):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+h,t,o,i,r,0,o,l,n.pixels&&n.pixels[f])}},generateMipmap:function(e){var n=e.gl;this.useMipmap&&!this.NPOT&&(n.bindTexture(n.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),n.generateMipmap(n.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?r$(this.image.px.width)&&r$(this.image.px.height):r$(this.width)&&r$(this.height)},isRenderable:function(){return this.image.px?uT(this.image.px)&&uT(this.image.nx)&&uT(this.image.py)&&uT(this.image.ny)&&uT(this.image.pz)&&uT(this.image.nz):!(!this.width||!this.height)},load:function(e,n){var t=0,i=this;return Jl.each(e,function(r,o){var l=ks.createImage();n&&(l.crossOrigin=n),l.onload=function(){0==--t&&(i.dirty(),i.trigger("success",i))},l.onerror=function(){t--},t++,l.src=r,i.image[o]=l}),this}});function uT(e){return e.width>0&&e.height>0}Object.defineProperty(ble.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(ble.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const ME=ble;var x_t=cT.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,n=2*Math.atan(1/e[5]);this.fov=n/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=cT.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});const Cl=x_t;var o$="framebuffer",l2="renderbuffer",zCe=l2+"_width",kCe=l2+"_height",Cle=l2+"_attached",wle="depthtexture_attached",Hx=36160,DE=36161,PE=36096,AE=Zu.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new ple,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var n=e.gl;n.bindFramebuffer(Hx,this._getFrameBufferGL(e)),this._boundRenderer=e;var t=this._cache;t.put("viewport",e.viewport);var r,o,i=!1;for(var l in this._textures){i=!0;var h=this._textures[l];h&&(r=h.texture.width,o=h.texture.height,this._doAttach(e,h.texture,l,h.target))}this._width=r,this._height=o,!i&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,r,o,1);var f=t.get("attached_textures");if(f)for(var l in f)this._textures[l]||this._doDetach(n,l,f[l]);if(!t.get(wle)&&this.depthBuffer){t.miss(l2)&&t.put(l2,n.createRenderbuffer());var _=t.get(l2);(r!==t.get(zCe)||o!==t.get(kCe))&&(n.bindRenderbuffer(DE,_),n.renderbufferStorage(DE,n.DEPTH_COMPONENT16,r,o),t.put(zCe,r),t.put(kCe,o),n.bindRenderbuffer(DE,null)),t.get(Cle)||(n.framebufferRenderbuffer(Hx,PE,DE,_),t.put(Cle,!0))}},unbind:function(e){e.__currentFrameBuffer=null,e.gl.bindFramebuffer(Hx,null),this._boundRenderer=null,this._cache.use(e.__uid__);var t=this._cache.get("viewport");t&&e.setViewport(t),this.updateMipmap(e)},updateMipmap:function(e){var n=e.gl;for(var t in this._textures){var i=this._textures[t];if(i){var r=i.texture;if(!r.NPOT&&r.useMipmap&&r.minFilter===Rn.LINEAR_MIPMAP_LINEAR){var o="textureCube"===r.textureType?34067:3553;n.bindTexture(o,r.getWebGLTexture(e)),n.generateMipmap(o),n.bindTexture(o,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(Hx)},_getFrameBufferGL:function(e){var n=this._cache;return n.use(e.__uid__),n.miss(o$)&&n.put(o$,e.gl.createFramebuffer()),n.get(o$)},attach:function(e,n,t){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");n=n||36064,t=t||3553;var o,i=this._boundRenderer;if(i&&i.gl){var l=this._cache;l.use(i.__uid__),o=l.get("attached_textures")}var h=this._textures[n];if(!h||h.target!==t||h.texture!==e||!o||null==o[n]){var f=!0;i&&(f=this._doAttach(i,e,n,t),this.viewport||i.setViewport(0,0,e.width,e.height,1)),f&&(this._textures[n]=this._textures[n]||{},this._textures[n].texture=e,this._textures[n].target=t)}},_doAttach:function(e,n,t,i){var r=e.gl,o=n.getWebGLTexture(e),l=this._cache.get("attached_textures");if(l&&l[t]){var h=l[t];if(h.texture===n&&h.target===i)return}var f=!0;if(((t=+t)===PE||33306===t)&&(e.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),f=!1),6402!==n.format&&34041!==n.format&&(console.error("The texture attached to depth buffer is not a valid."),f=!1),f)){var _=this._cache.get(l2);_&&(r.framebufferRenderbuffer(Hx,PE,DE,null),r.deleteRenderbuffer(_),this._cache.put(l2,!1)),this._cache.put(Cle,!1),this._cache.put(wle,!0)}return r.framebufferTexture2D(Hx,t,i,o,0),l||this._cache.put("attached_textures",l={}),l[t]=l[t]||{},l[t].texture=n,l[t].target=i,f},_doDetach:function(e,n,t){e.framebufferTexture2D(Hx,n,t,null,0);var i=this._cache.get("attached_textures");i&&i[n]&&(i[n]=null),(n===PE||33306===n)&&this._cache.put(wle,!1)},detach:function(e,n){this._textures[e]=null,this._boundRenderer&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,n))},dispose:function(e){var n=e.gl,t=this._cache;t.use(e.__uid__);var i=t.get(l2);i&&n.deleteRenderbuffer(i);var r=t.get(o$);r&&n.deleteFramebuffer(r),t.deleteContext(e.__uid__),this._textures={}}});AE.DEPTH_ATTACHMENT=PE,AE.COLOR_ATTACHMENT0=36064,AE.STENCIL_ATTACHMENT=36128,AE.DEPTH_STENCIL_ATTACHMENT=33306;const nc=AE;var b_t=["px","nx","py","ny","pz","nz"],C_t=Zu.extend(function(){var e={position:new $t,far:1e3,near:.1,texture:null,shadowMapPass:null},n=e._cameras={px:new Cl({fov:90}),nx:new Cl({fov:90}),py:new Cl({fov:90}),ny:new Cl({fov:90}),pz:new Cl({fov:90}),nz:new Cl({fov:90})};return n.px.lookAt($t.POSITIVE_X,$t.NEGATIVE_Y),n.nx.lookAt($t.NEGATIVE_X,$t.NEGATIVE_Y),n.py.lookAt($t.POSITIVE_Y,$t.POSITIVE_Z),n.ny.lookAt($t.NEGATIVE_Y,$t.NEGATIVE_Z),n.pz.lookAt($t.POSITIVE_Z,$t.NEGATIVE_Y),n.nz.lookAt($t.NEGATIVE_Z,$t.NEGATIVE_Y),e._frameBuffer=new nc,e},{getCamera:function(e){return this._cameras[e]},render:function(e,n,t){var i=e.gl;t||n.update();for(var r=this.texture.width,o=2*Math.atan(r/(r-.5))/Math.PI*180,l=0;l<6;l++){var f=this._cameras[b_t[l]];if($t.copy(f.position,this.position),f.far=this.far,f.near=this.near,f.fov=o,this.shadowMapPass){f.update();var m=n.getBoundingBox();m.applyTransform(f.viewMatrix),n.viewBoundingBoxLastFrame.copy(m),this.shadowMapPass.render(e,n,f,!0)}this._frameBuffer.attach(this.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+l),this._frameBuffer.bind(e),e.render(n,f,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});const Sle=C_t;var w_t=Pr.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,n=this.widthSegments,t=this.attributes,i=[],r=[],o=[],l=[],h=0;h<=e;h++)for(var f=h/e,m=0;m<=n;m++){var _=m/n;if(i.push([2*_-1,2*f-1,0]),r&&r.push([_,f]),o&&o.push([0,0,1]),m<n&&h<e){var b=m+h*(n+1);l.push([b,b+1,b+n+1]),l.push([b+n+1,b+1,b+n+2])}}t.position.fromArray(i),t.texcoord0.fromArray(r),t.normal.fromArray(o),this.initIndicesFromArray(l),this.boundingBox=new Qu,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});const a$=w_t;var za=new En,S_t=Pr.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:hT("px",this.depthSegments,this.heightSegments),nx:hT("nx",this.depthSegments,this.heightSegments),py:hT("py",this.widthSegments,this.depthSegments),ny:hT("ny",this.widthSegments,this.depthSegments),pz:hT("pz",this.widthSegments,this.heightSegments),nz:hT("nz",this.widthSegments,this.heightSegments)},n=["position","texcoord0","normal"],t=0,i=0;for(var r in e)t+=e[r].vertexCount,i+=e[r].indices.length;for(var o=0;o<n.length;o++)this.attributes[n[o]].init(t);this.indices=new ks.Uint16Array(i);var l=0,h=0;for(var r in e){var f=e[r];for(o=0;o<n.length;o++)for(var m=n[o],_=f.attributes[m].value,b=f.attributes[m].size,S="normal"===m,M=0;M<_.length;M++){var O=_[M];this.inside&&S&&(O=-O),this.attributes[m].value[M+b*h]=O}var I=f.indices.length;for(M=0;M<f.indices.length;M++)this.indices[M+l]=h+f.indices[this.inside?I-M-1:M];l+=f.indices.length,h+=f.vertexCount}this.boundingBox=new Qu,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function hT(e,n,t){za.identity();var i=new a$({widthSegments:n,heightSegments:t});switch(e){case"px":En.translate(za,za,$t.POSITIVE_X),En.rotateY(za,za,Math.PI/2);break;case"nx":En.translate(za,za,$t.NEGATIVE_X),En.rotateY(za,za,-Math.PI/2);break;case"py":En.translate(za,za,$t.POSITIVE_Y),En.rotateX(za,za,-Math.PI/2);break;case"ny":En.translate(za,za,$t.NEGATIVE_Y),En.rotateX(za,za,Math.PI/2);break;case"pz":En.translate(za,za,$t.POSITIVE_Z);break;case"nz":En.translate(za,za,$t.NEGATIVE_Z),En.rotateY(za,za,Math.PI)}return i.applyTransform(za),i}const ECe=S_t;sn.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");var M_t=Nx.extend(function(){var e=new sn({vertex:sn.source("clay.skybox.vertex"),fragment:sn.source("clay.skybox.fragment")}),n=new pp({shader:e,depthMask:!1});return{scene:null,geometry:new ECe,material:n,environmentMap:null,culling:!1,_dummyCamera:new Cl}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){"texture2D"===e.textureType?(this.material.define("EQUIRECTANGULAR"),e.minFilter=Rn.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,n,t){this.renderSkybox(e,t)},renderSkybox:function(e,n){var t=this._dummyCamera;t.aspect=e.getViewportAspect(),t.fov=n.fov||50,t.updateProjectionMatrix(),En.invert(t.invProjectionMatrix,t.projectionMatrix),t.worldTransform.copy(n.worldTransform),t.viewMatrix.copy(n.viewMatrix),this.position.copy(n.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],t)}});const s$=M_t,ICe=s$;function Tle(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var O_t=Tle("DXT1"),E_t=Tle("DXT3"),I_t=Tle("DXT5"),G_t={parse:function(e,n){var t=new Int32Array(e,0,31);if(542327876!==t[0]||4&!t(20))return null;var f,m,i=t(21),r=t[4],o=t[3],l=512&t[28],h=131072&t[2];switch(i){case O_t:f=8,m=Rn.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case E_t:f=16,m=Rn.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case I_t:f=16,m=Rn.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var _=t[1]+4,b=l?6:1,S=1;h&&(S=Math.max(1,t[7]));for(var M=[],O=0;O<b;O++){var I=r,N=o;M[O]=new Vi({width:I,height:N,format:m});for(var V=[],G=0;G<S;G++){var X=Math.max(4,I)/4*Math.max(4,N)/4*f,K=new Uint8Array(e,_,X);_+=X,I*=.5,N*=.5,V[G]=K}M[O].pixels=V[0],h&&(M[O].mipmaps=V)}if(!n)return M[0];n.width=M[0].width,n.height=M[0].height,n.format=M[0].format,n.pixels=M[0].pixels,n.mipmaps=M[0].mipmaps}};const W_t=G_t;var l$=String.fromCharCode;function X_t(e,n,t,i){if(e[3]>0){var r=Math.pow(2,e[3]-128-8+i);n[t+0]=e[0]*r,n[t+1]=e[1]*r,n[t+2]=e[2]*r}else n[t+0]=0,n[t+1]=0,n[t+2]=0;return n[t+3]=1,n}function Z_t(e,n){n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]}function LCe(e,n,t,i){for(var r=0,o=0,l=i;l>0;)if(e[o][0]=n[t++],e[o][1]=n[t++],e[o][2]=n[t++],e[o][3]=n[t++],1===e[o][0]&&1===e[o][1]&&1===e[o][2]){for(var h=e[o][3]<<r>>>0;h>0;h--)Z_t(e[o-1],e[o]),o++,l--;r+=8}else o++,l--,r=0;return t}function K_t(e,n,t,i){if(i<8|i>32767)return LCe(e,n,t,i);if(2!=(r=n[t++]))return LCe(e,n,t-1,i);if(e[0][1]=n[t++],e[0][2]=n[t++],r=n[t++],(e[0][2]<<8>>>0|r)>>>0!==i)return null;for(var r=0;r<4;r++)for(var o=0;o<i;){var l=n[t++];if(l>128){l=(127&l)>>>0;for(var h=n[t++];l--;)e[o++][r]=h}else for(;l--;)e[o++][r]=n[t++]}return t}var Q_t={parseRGBE:function(e,n,t){null==t&&(t=0);var i=new Uint8Array(e),r=i.length;if("#?"===function q_t(e,n,t){for(var i="",r=n;r<t;r++)i+=l$(e[r]);return i}(i,0,2)){for(var o=2;o<r&&("\n"!==l$(i[o])||"\n"!==l$(i[o+1]));o++);if(!(o>=r)){o+=2;for(var l="";o<r;o++){var h=l$(i[o]);if("\n"===h)break;l+=h}var f=l.split(" "),m=parseInt(f[1]),_=parseInt(f[3]);if(_&&m){for(var b=o+1,S=[],M=0;M<_;M++){S[M]=[];for(var O=0;O<4;O++)S[M][O]=0}for(var I=new Float32Array(_*m*4),N=0,V=0;V<m;V++){if(!(b=K_t(S,i,b,_)))return null;for(M=0;M<_;M++)X_t(S[M],I,N,t),N+=4}return n||(n=new Vi),n.width=_,n.height=m,n.pixels=I,n.type=Rn.FLOAT,n}}}},parseRGBEFromPNG:function(e){}};const J_t=Q_t;var c$={loadTexture:function(e,n,t,i){var r;if("function"==typeof n?(i=t=n,n={}):n=n||{},"string"==typeof e){if(e.match(/.hdr$/)||"hdr"===n.fileType)return r=new Vi({width:0,height:0,sRGB:!1}),c$._fetchTexture(e,function(o){J_t.parseRGBE(o,r,n.exposure),r.dirty(),t&&t(r)},i),r;e.match(/.dds$/)||"dds"===n.fileType?(r=new Vi({width:0,height:0}),c$._fetchTexture(e,function(o){W_t.parse(o,r),r.dirty(),t&&t(r)},i)):((r=new Vi).load(e),r.success(t),r.error(i))}else"object"==typeof e&&typeof e.px<"u"&&((r=new ME).load(e),r.success(t),r.error(i));return r},loadPanorama:function(e,n,t,i,r,o){var l=this;"function"==typeof i?(o=r=i,i={}):i=i||{},c$.loadTexture(n,i,function(h){h.flipY=i.flipY||!1,l.panoramaToCubeMap(e,h,t,i),h.dispose(e),r&&r(t)},o)},panoramaToCubeMap:function(e,n,t,i){var r=new Sle,o=new ICe({scene:new l3});return o.setEnvironmentMap(n),(i=i||{}).encodeRGBM&&o.material.define("fragment","RGBM_ENCODE"),t.sRGB=n.sRGB,r.texture=t,r.render(e,o.scene),r.texture=null,r.dispose(e),t},heightToNormal:function(e,n){var t=document.createElement("canvas"),i=t.width=e.width,r=t.height=e.height,o=t.getContext("2d");o.drawImage(e,0,0,i,r),n=n||!1;for(var l=o.getImageData(0,0,i,r),h=o.createImageData(i,r),f=0;f<l.data.length;f+=4){if(n){var _=l.data[f+1],b=l.data[f+2];if(Math.abs(l.data[f]-_)+Math.abs(_-b)>20)return console.warn("Given image is not a height map"),e}var M,O,I,N;f%(4*i)==0?(M=l.data[f],I=l.data[f+4]):f%(4*i)==4*(i-1)?(M=l.data[f-4],I=l.data[f]):(M=l.data[f-4],I=l.data[f+4]),f<4*i?(O=l.data[f],N=l.data[f+4*i]):f>i*(r-1)*4?(O=l.data[f-4*i],N=l.data[f]):(O=l.data[f-4*i],N=l.data[f+4*i]),h.data[f]=M-I+127,h.data[f+1]=O-N+127,h.data[f+2]=255,h.data[f+3]=255}return o.putImageData(h,0,0),t},isHeightImage:function(e,n,t){if(!e||!e.width||!e.height)return!1;var i=document.createElement("canvas"),r=i.getContext("2d"),o=n||32;t=t||20,i.width=i.height=o,r.drawImage(e,0,0,o,o);for(var l=r.getImageData(0,0,o,o),h=0;h<l.data.length;h+=4){var m=l.data[h+1],_=l.data[h+2];if(Math.abs(l.data[h]-m)+Math.abs(m-_)>t)return!1}return!0},_fetchTexture:function(e,n,t){ks.request.get({url:e,responseType:"arraybuffer",onload:n,onerror:t})},createChessboard:function(e,n,t,i){e=e||512,n=n||64,t=t||"black",i=i||"white";var r=Math.ceil(e/n),o=document.createElement("canvas");o.width=e,o.height=e;var l=o.getContext("2d");l.fillStyle=i,l.fillRect(0,0,e,e),l.fillStyle=t;for(var h=0;h<r;h++)for(var f=0;f<r;f++)(f%2?h%2:h%2-1)&&l.fillRect(h*n,f*n,n,n);return new Vi({image:o,anisotropic:8})},createBlank:function(e){var n=document.createElement("canvas");n.width=1,n.height=1;var t=n.getContext("2d");return t.fillStyle=e,t.fillRect(0,0,1,1),new Vi({image:n})}};const Yx=c$;var Mle=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function Dle(e){return"_on"+e}var Ple=function(e){var n=this;this._texture=new Vi({anisotropic:32,flipY:!1,surface:this,dispose:function(t){n.dispose(),Vi.prototype.dispose.call(this,t)}}),Mle.forEach(function(t){this[Dle(t)]=function(i){i.triangle&&this._meshes.forEach(function(r){this.dispatchEvent(t,r,i.triangle,i.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};Ple.prototype={constructor:Ple,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var n=e.getDom();if(n instanceof HTMLCanvasElement){var t=this,i=e.getZr(),r=i.__oldRefreshImmediately||i.refreshImmediately;i.refreshImmediately=function(){r.call(this),t._texture.dirty(),t.onupdate&&t.onupdate()},i.__oldRefreshImmediately=r}else console.error("ECharts must init on canvas if it is used as texture."),n=document.createElement("canvas");this._texture.image=n,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new $t,n=new $t,t=new $t,i=new Fd,r=new Fd,o=new Fd,l=new Fd,h=new $t;return function(f,m,_,b){var S=m.geometry,M=S.attributes.position,O=S.attributes.texcoord0,I=$t.dot,N=$t.cross;M.get(_[0],e.array),M.get(_[1],n.array),M.get(_[2],t.array),O.get(_[0],i.array),O.get(_[1],r.array),O.get(_[2],o.array),N(h,n,t);var V=I(e,h),G=I(b,h)/V;N(h,t,e);var X=I(b,h)/V;N(h,e,n);var K=I(b,h)/V;Fd.scale(l,i,G),Fd.scaleAndAdd(l,l,r,X),Fd.scaleAndAdd(l,l,o,K);var ne=l.x*this._chart.getWidth(),ie=l.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(f,{zrX:ne,zrY:ie})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(Mle.forEach(function(n){e.on(n,this[Dle(n)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var n=this._meshes.indexOf(e);n>=0&&this._meshes.splice(n,1),Mle.forEach(function(t){e.off(t,this[Dle(t)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};const e4t=Ple;var t4t=cT.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=cT.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const dT=t4t;sn.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var i4t=new a$,RCe=new Nx({geometry:i4t,frustumCulling:!1}),r4t=new dT,o4t=Zu.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new sn(sn.source("clay.compositor.vertex"),this.fragment),n=new pp({shader:e});n.enableTexturesAll(),this.material=n},{setUniform:function(e,n){this.material.setUniform(e,n)},getUniform:function(e){var n=this.material.uniforms[e];if(n)return n.value},attachOutput:function(e,n){this.outputs||(this.outputs={}),this.outputs[n=n||36064]=e},detachOutput:function(e){for(var n in this.outputs)this.outputs[n]===e&&(this.outputs[n]=null)},bind:function(e,n){if(this.outputs)for(var t in this.outputs){var i=this.outputs[t];i&&n.attach(i,t)}n&&n.bind(e)},unbind:function(e,n){n.unbind(e)},render:function(e,n){var t=e.gl;if(n){this.bind(e,n);var i=e.getGLExtension("EXT_draw_buffers");if(i&&this.outputs){var r=[];for(var o in this.outputs)(o=+o)>=t.COLOR_ATTACHMENT0&&o<=t.COLOR_ATTACHMENT0+8&&r.push(o);i.drawBuffersEXT(r)}}this.trigger("beforerender",this,e);var l=this.clearDepth?t.DEPTH_BUFFER_BIT:0;if(t.depthMask(!0),this.clearColor){l|=t.COLOR_BUFFER_BIT,t.colorMask(!0,!0,!0,!0);var h=this.clearColor;Array.isArray(h)&&t.clearColor(h[0],h[1],h[2],h[3])}t.clear(l),this.blendWithPrevious?(t.enable(t.BLEND),this.material.transparent=!0):(t.disable(t.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),n&&this.unbind(e,n)},renderQuad:function(e){RCe.material=this.material,e.renderPass([RCe],r4t)},dispose:function(e){}});const Os=o4t;var Ux={},Ale=["px","nx","py","ny","pz","nz"];Ux.prefilterEnvironmentMap=function(e,n,t,i,r){(!r||!i)&&(i=Ux.generateNormalDistribution(),r=Ux.integrateBRDF(e,i));var o=(t=t||{}).width||64,l=t.height||64,h=t.type||n.type,f=new ME({width:o,height:l,type:h,flipY:!1,mipmaps:[]});f.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var m=Math.min(o,l),_=Math.log(m)/Math.log(2)+1,b=new pp({shader:new sn({vertex:sn.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});b.set("normalDistribution",i),t.encodeRGBM&&b.define("fragment","RGBM_ENCODE"),t.decodeRGBM&&b.define("fragment","RGBM_DECODE");var M,S=new l3;if("texture2D"===n.textureType){var O=new ME({width:o,height:l,type:h===Rn.FLOAT?Rn.HALF_FLOAT:h});Yx.panoramaToCubeMap(e,n,O,{encodeRGBM:t.decodeRGBM}),n=O}(M=new s$({scene:S,material:b})).material.set("environmentMap",n);var I=new Sle({texture:f});t.encodeRGBM&&(h=f.type=Rn.UNSIGNED_BYTE);for(var N=new Vi({width:o,height:l,type:h}),V=new nc({depthBuffer:!1}),G=ks[h===Rn.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],X=0;X<_;X++){f.mipmaps[X]={pixels:{}},M.material.set("roughness",X/(_-1));for(var K=N.width,ne=2*Math.atan(K/(K-.5))/Math.PI*180,ie=0;ie<Ale.length;ie++){var pe=new G(N.width*N.height*4);V.attach(N),V.bind(e);var ve=I.getCamera(Ale[ie]);ve.fov=ne,e.render(S,ve),e.gl.readPixels(0,0,N.width,N.height,Rn.RGBA,h,pe),V.unbind(e),f.mipmaps[X].pixels[Ale[ie]]=pe}N.width/=2,N.height/=2,N.dirty()}return V.dispose(e),N.dispose(e),M.dispose(e),i.dispose(e),{environmentMap:f,brdfLookup:r,normalDistribution:i,maxMipmapLevel:_}},Ux.integrateBRDF=function(e,n){n=n||Ux.generateNormalDistribution();var t=new nc({depthBuffer:!1}),i=new Os({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),r=new Vi({width:512,height:256,type:Rn.HALF_FLOAT,wrapS:Rn.CLAMP_TO_EDGE,wrapT:Rn.CLAMP_TO_EDGE,minFilter:Rn.NEAREST,magFilter:Rn.NEAREST,useMipmap:!1});return i.setUniform("normalDistribution",n),i.setUniform("viewportSize",[512,256]),i.attachOutput(r),i.render(e,t),t.dispose(e),r},Ux.generateNormalDistribution=function(t,i){for(var r=new Vi({width:t=t||256,height:i=i||1024,type:Rn.FLOAT,minFilter:Rn.NEAREST,magFilter:Rn.NEAREST,wrapS:Rn.CLAMP_TO_EDGE,wrapT:Rn.CLAMP_TO_EDGE,useMipmap:!1}),o=new Float32Array(i*t*4),l=[],h=0;h<t;h++){for(var f=h/t,m=f*f,_=0;_<i;_++){var b=(_<<16|_>>>16)>>>0;b=(((16711935&(b=((252645135&(b=((858993459&(b=((1431655765&b)<<1|(2863311530&b)>>>1)>>>0))<<2|(3435973836&b)>>>2)>>>0))<<4|(4042322160&b)>>>4)>>>0))<<8|(4278255360&b)>>>8)>>>0)/4294967296;var S=Math.sqrt((1-b)/(1+(m*m-1)*b));l[_]=S}for(_=0;_<i;_++){var M=4*(_*t+h),O=(S=l[_],Math.sqrt(1-S*S)),N=2*Math.PI*(_/i);o[M]=O*Math.cos(N),o[M+1]=S,o[M+2]=O*Math.sin(N),o[M+3]=1}}return r.pixels=o,r};const u$=Ux;var l4t=e1.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,n){if(e.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=u$.generateNormalDistribution(),this._brdfLookup=u$.integrateBRDF(e,this._normalDistribution));var t=this.cubemap;if(!t.__prefiltered){var i=u$.prefilterEnvironmentMap(e,t,{encodeRGBM:!0,width:n,height:n},this._normalDistribution,this._brdfLookup);this.cubemap=i.environmentMap,this.cubemap.__prefiltered=!0,t.dispose(e)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}});const c4t=l4t;var u4t=e1.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new ks.Float32Array(27)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var n=e._coefficientsTmpArr,t=0;t<e.coefficients.length;t++)n[t]=e.coefficients[t];return n}}}});const h4t=u4t;var NCe={},Gx=["px","nx","py","ny","pz","nz"];function d4t(e,n){var t=e[0],i=e[1],r=e[2];return 0===n?1:1===n?t:2===n?i:3===n?r:4===n?t*r:5===n?i*r:6===n?t*i:7===n?3*r*r-1:t*t-i*i}var f4t={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};NCe.projectEnvironmentMap=function(e,n,t){(t=t||{}).lod=t.lod||0;var i,r=new l3,o=64;"texture2D"===n.textureType?i=new ICe({scene:r,environmentMap:n}):(o=n.image&&n.image.px?n.image.px.width:n.width,i=new s$({scene:r,environmentMap:n}));var l=Math.ceil(o/Math.pow(2,t.lod)),h=Math.ceil(o/Math.pow(2,t.lod)),f=new Vi({width:l,height:h}),m=new nc;i.material.define("fragment","RGBM_ENCODE"),t.decodeRGBM&&i.material.define("fragment","RGBM_DECODE"),i.material.set("lod",t.lod);for(var _=new Sle({texture:f}),b={},S=0;S<Gx.length;S++){b[Gx[S]]=new Uint8Array(l*h*4);var M=_.getCamera(Gx[S]);M.fov=90,m.attach(f),m.bind(e),e.render(r,M),e.gl.readPixels(0,0,l,h,Rn.RGBA,Rn.UNSIGNED_BYTE,b[Gx[S]]),m.unbind(e)}return i.dispose(e),m.dispose(e),f.dispose(e),function p4t(e,n,t,i){for(var r=new ks.Float32Array(27),o=je.create(),l=je.create(),h=je.create(),f=0;f<9;f++){for(var m=je.create(),_=0;_<Gx.length;_++){for(var b=n[Gx[_]],S=je.create(),M=0,O=0,I=f4t[Gx[_]],N=0;N<i;N++)for(var V=0;V<t;V++){o[0]=V/(t-1)*2-1,o[1]=N/(i-1)*2-1,o[2]=-1,je.normalize(o,o),h[0]=o[I[0]]*I[3],h[1]=o[I[1]]*I[4],h[2]=o[I[2]]*I[5],l[0]=b[O++]/255,l[1]=b[O++]/255,l[2]=b[O++]/255;var G=b[O++]/255*8.12;l[0]*=G,l[1]*=G,l[2]*=G,je.scaleAndAdd(S,S,l,d4t(h,f)*-o[2]),M+=-o[2]}je.scaleAndAdd(m,m,S,1/M)}r[3*f]=m[0]/6,r[3*f+1]=m[1]/6,r[3*f+2]=m[2]/6}return r}(0,b,l,h)};const g4t=NCe;var m4t={firstNotNull:function(){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?si(n.dataIndex)?Gi(n.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?si(n.name)?Gi(n.name,function(t){return e.indexOfName(t)}):e.indexOfName(n.name):void 0}};const Wi=m4t;var v4t=Pr.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,n=this.widthSegments,t=this.attributes.position,i=this.attributes.texcoord0,r=this.attributes.normal,o=(n+1)*(e+1);t.init(o),i.init(o),r.init(o);var f,m,_,b,S,M,O,X,l=o>65535?Uint32Array:Uint16Array,h=this.indices=new l(n*e*6),I=this.phiStart,N=this.phiLength,V=this.thetaStart,G=this.thetaLength,K=[],ne=[],ie=0,pe=1/(X=this.radius);for(O=0;O<=e;O++)for(M=0;M<=n;M++)b=M/n,S=O/e,f=-X*Math.cos(I+b*N)*Math.sin(V+S*G),m=X*Math.cos(V+S*G),_=X*Math.sin(I+b*N)*Math.sin(V+S*G),K[0]=f,K[1]=m,K[2]=_,ne[0]=b,ne[1]=S,t.set(ie,K),i.set(ie,ne),K[0]*=pe,K[1]*=pe,K[2]*=pe,r.set(ie,K),ie++;var ye,Se,xe,De=n+1,Pe=0;for(O=0;O<e;O++)for(M=0;M<n;M++)ye=O*De+M,xe=(O+1)*De+M+1,Se=(O+1)*De+M,h[Pe++]=O*De+M+1,h[Pe++]=ye,h[Pe++]=xe,h[Pe++]=ye,h[Pe++]=Se,h[Pe++]=xe;this.boundingBox=new Qu,this.boundingBox.max.set(X,X,X),this.boundingBox.min.set(-X,-X,-X)}});const _4t=v4t;var y4t=e1.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}}});const x4t=y4t;var b4t=e1.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new $t,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}},clone:function(){var e=e1.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const C4t=b4t;var w4t=e1.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}},clone:function(){var e=e1.prototype.clone.call(this);return e.range=this.range,e}});const S4t=w4t;var T4t=e1.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new $t,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}},clone:function(){var e=e1.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const M4t=T4t;var mr=function(e,n,t,i){this.array=un.fromValues(e=e||0,n=n||0,t=t||0,i=i||0),this._dirty=!0};mr.prototype={constructor:mr,add:function(e){return un.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,t,i){return this.array[0]=e,this.array[1]=n,this.array[2]=t,this.array[3]=i,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new mr(this.x,this.y,this.z,this.w)},copy:function(e){return un.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return un.dist(this.array,e.array)},distance:function(e){return un.distance(this.array,e.array)},div:function(e){return un.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return un.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return un.dot(this.array,e.array)},len:function(){return un.len(this.array)},length:function(){return un.length(this.array)},lerp:function(e,n,t){return un.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},min:function(e){return un.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return un.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return un.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return un.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return un.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return un.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return un.random(this.array,e),this._dirty=!0,this},scale:function(e){return un.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return un.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return un.sqrDist(this.array,e.array)},squaredDistance:function(e){return un.squaredDistance(this.array,e.array)},sqrLen:function(){return un.sqrLen(this.array)},squaredLength:function(){return un.squaredLength(this.array)},sub:function(e){return un.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return un.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return un.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return un.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var zE=Object.defineProperty;if(zE){var h$=mr.prototype;zE(h$,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),zE(h$,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),zE(h$,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),zE(h$,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}mr.add=function(e,n,t){return un.add(e.array,n.array,t.array),e._dirty=!0,e},mr.set=function(e,n,t,i,r){un.set(e.array,n,t,i,r),e._dirty=!0},mr.copy=function(e,n){return un.copy(e.array,n.array),e._dirty=!0,e},mr.dist=function(e,n){return un.distance(e.array,n.array)},mr.distance=mr.dist,mr.div=function(e,n,t){return un.divide(e.array,n.array,t.array),e._dirty=!0,e},mr.divide=mr.div,mr.dot=function(e,n){return un.dot(e.array,n.array)},mr.len=function(e){return un.length(e.array)},mr.lerp=function(e,n,t,i){return un.lerp(e.array,n.array,t.array,i),e._dirty=!0,e},mr.min=function(e,n,t){return un.min(e.array,n.array,t.array),e._dirty=!0,e},mr.max=function(e,n,t){return un.max(e.array,n.array,t.array),e._dirty=!0,e},mr.mul=function(e,n,t){return un.multiply(e.array,n.array,t.array),e._dirty=!0,e},mr.multiply=mr.mul,mr.negate=function(e,n){return un.negate(e.array,n.array),e._dirty=!0,e},mr.normalize=function(e,n){return un.normalize(e.array,n.array),e._dirty=!0,e},mr.random=function(e,n){return un.random(e.array,n),e._dirty=!0,e},mr.scale=function(e,n,t){return un.scale(e.array,n.array,t),e._dirty=!0,e},mr.scaleAndAdd=function(e,n,t,i){return un.scaleAndAdd(e.array,n.array,t.array,i),e._dirty=!0,e},mr.sqrDist=function(e,n){return un.sqrDist(e.array,n.array)},mr.squaredDistance=mr.sqrDist,mr.sqrLen=function(e){return un.sqrLen(e.array)},mr.squaredLength=mr.sqrLen,mr.sub=function(e,n,t){return un.subtract(e.array,n.array,t.array),e._dirty=!0,e},mr.subtract=mr.sub,mr.transformMat4=function(e,n,t){return un.transformMat4(e.array,n.array,t.array),e._dirty=!0,e},mr.transformQuat=function(e,n,t){return un.transformQuat(e.array,n.array,t.array),e._dirty=!0,e};const D4t=mr;var su={create:function(){var e=new ec(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var n=new ec(4);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,n){if(e===n){var t=n[1];e[1]=n[2],e[2]=t}else e[0]=n[0],e[1]=n[2],e[2]=n[1],e[3]=n[3];return e},invert:function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=t*o-r*i;return l?(e[0]=o*(l=1/l),e[1]=-i*l,e[2]=-r*l,e[3]=t*l,e):null},adjoint:function(e,n){var t=n[0];return e[0]=n[3],e[1]=-n[1],e[2]=-n[2],e[3]=t,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=t[0],f=t[1],m=t[2],_=t[3];return e[0]=i*h+o*f,e[1]=r*h+l*f,e[2]=i*m+o*_,e[3]=r*m+l*_,e}};su.mul=su.multiply,su.rotate=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=Math.sin(t),f=Math.cos(t);return e[0]=i*f+o*h,e[1]=r*f+l*h,e[2]=i*-h+o*f,e[3]=r*-h+l*f,e},su.scale=function(e,n,t){var r=n[1],o=n[2],l=n[3],h=t[0],f=t[1];return e[0]=n[0]*h,e[1]=r*h,e[2]=o*f,e[3]=l*f,e},su.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},su.LDU=function(e,n,t,i){return e[2]=i[2]/i[0],t[0]=i[0],t[1]=i[1],t[3]=i[3]-e[2]*t[1],[e,n,t]};const $a=su;var eh=function(){this.array=$a.create(),this._dirty=!0};eh.prototype={constructor:eh,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},clone:function(){return(new eh).copy(this)},copy:function(e){return $a.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return $a.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return $a.determinant(this.array)},identity:function(){return $a.identity(this.array),this._dirty=!0,this},invert:function(){return $a.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return $a.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return $a.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return $a.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return $a.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return $a.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return $a.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return $a.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},eh.adjoint=function(e,n){return $a.adjoint(e.array,n.array),e._dirty=!0,e},eh.copy=function(e,n){return $a.copy(e.array,n.array),e._dirty=!0,e},eh.determinant=function(e){return $a.determinant(e.array)},eh.identity=function(e){return $a.identity(e.array),e._dirty=!0,e},eh.invert=function(e,n){return $a.invert(e.array,n.array),e._dirty=!0,e},eh.mul=function(e,n,t){return $a.mul(e.array,n.array,t.array),e._dirty=!0,e},eh.multiply=eh.mul,eh.rotate=function(e,n,t){return $a.rotate(e.array,n.array,t),e._dirty=!0,e},eh.scale=function(e,n,t){return $a.scale(e.array,n.array,t.array),e._dirty=!0,e},eh.transpose=function(e,n){return $a.transpose(e.array,n.array),e._dirty=!0,e};const P4t=eh;var Xh={create:function(){var e=new ec(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var n=new ec(6);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,n){var t=n[0],i=n[1],r=n[2],o=n[3],l=n[4],h=n[5],f=t*o-i*r;return f?(e[0]=o*(f=1/f),e[1]=-i*f,e[2]=-r*f,e[3]=t*f,e[4]=(r*h-o*l)*f,e[5]=(i*l-t*h)*f,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=t[0],_=t[1],b=t[2],S=t[3],M=t[4],O=t[5];return e[0]=i*m+o*_,e[1]=r*m+l*_,e[2]=i*b+o*S,e[3]=r*b+l*S,e[4]=i*M+o*O+h,e[5]=r*M+l*O+f,e}};Xh.mul=Xh.multiply,Xh.rotate=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=Math.sin(t),_=Math.cos(t);return e[0]=i*_+o*m,e[1]=r*_+l*m,e[2]=i*-m+o*_,e[3]=r*-m+l*_,e[4]=h,e[5]=f,e},Xh.scale=function(e,n,t){var r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=t[0],_=t[1];return e[0]=n[0]*m,e[1]=r*m,e[2]=o*_,e[3]=l*_,e[4]=h,e[5]=f,e},Xh.translate=function(e,n,t){var i=n[0],r=n[1],o=n[2],l=n[3],h=n[4],f=n[5],m=t[0],_=t[1];return e[0]=i,e[1]=r,e[2]=o,e[3]=l,e[4]=i*m+o*_+h,e[5]=r*m+l*_+f,e},Xh.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};const Es=Xh;var qh=function(){this.array=Es.create(),this._dirty=!0};qh.prototype={constructor:qh,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},clone:function(){return(new qh).copy(this)},copy:function(e){return Es.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Es.determinant(this.array)},identity:function(){return Es.identity(this.array),this._dirty=!0,this},invert:function(){return Es.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return Es.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Es.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Es.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Es.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return Es.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Es.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Es.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},qh.copy=function(e,n){return Es.copy(e.array,n.array),e._dirty=!0,e},qh.determinant=function(e){return Es.determinant(e.array)},qh.identity=function(e){return Es.identity(e.array),e._dirty=!0,e},qh.invert=function(e,n){return Es.invert(e.array,n.array),e._dirty=!0,e},qh.mul=function(e,n,t){return Es.mul(e.array,n.array,t.array),e._dirty=!0,e},qh.multiply=qh.mul,qh.rotate=function(e,n,t){return Es.rotate(e.array,n.array,t),e._dirty=!0,e},qh.scale=function(e,n,t){return Es.scale(e.array,n.array,t.array),e._dirty=!0,e},qh.translate=function(e,n,t){return Es.translate(e.array,n.array,t.array),e._dirty=!0,e};const A4t=qh;var Zs=function(){this.array=lr.create(),this._dirty=!0};Zs.prototype={constructor:Zs,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},adjoint:function(){return lr.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Zs).copy(this)},copy:function(e){return lr.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return lr.determinant(this.array)},fromMat2d:function(e){return lr.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return lr.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return lr.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return lr.identity(this.array),this._dirty=!0,this},invert:function(){return lr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return lr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return lr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return lr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return lr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return lr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return lr.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return lr.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return lr.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return lr.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Zs.adjoint=function(e,n){return lr.adjoint(e.array,n.array),e._dirty=!0,e},Zs.copy=function(e,n){return lr.copy(e.array,n.array),e._dirty=!0,e},Zs.determinant=function(e){return lr.determinant(e.array)},Zs.identity=function(e){return lr.identity(e.array),e._dirty=!0,e},Zs.invert=function(e,n){return lr.invert(e.array,n.array),e},Zs.mul=function(e,n,t){return lr.mul(e.array,n.array,t.array),e._dirty=!0,e},Zs.multiply=Zs.mul,Zs.fromMat2d=function(e,n){return lr.fromMat2d(e.array,n.array),e._dirty=!0,e},Zs.fromMat4=function(e,n){return lr.fromMat4(e.array,n.array),e._dirty=!0,e},Zs.fromQuat=function(e,n){return lr.fromQuat(e.array,n.array),e._dirty=!0,e},Zs.normalFromMat4=function(e,n){return lr.normalFromMat4(e.array,n.array),e._dirty=!0,e},Zs.rotate=function(e,n,t){return lr.rotate(e.array,n.array,t),e._dirty=!0,e},Zs.scale=function(e,n,t){return lr.scale(e.array,n.array,t.array),e._dirty=!0,e},Zs.transpose=function(e,n){return lr.transpose(e.array,n.array),e._dirty=!0,e},Zs.translate=function(e,n,t){return lr.translate(e.array,n.array,t.array),e._dirty=!0,e};const z4t=Zs;var k4t={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,n){var i;if(this._animators=this._animators||[],e){for(var r=e.split("."),o=this,l=0,h=r.length;l<h;l++)o&&(o=o[r[l]]);o&&(i=o)}else i=this;if(null==i)throw new Error("Target "+e+" not exists");var f=this._animators,m=new nW(i,n),_=this;return m.during(function(){_.__zr&&_.__zr.refresh()}).done(function(){var b=f.indexOf(m);b>=0&&f.splice(b,1)}),f.push(m),this.__zr&&this.__zr.animation.addAnimator(m),m},stopAnimation:function(e){this._animators=this._animators||[];for(var n=this._animators,t=n.length,i=0;i<t;i++)n[i].stop(e);return n.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var n=0;n<this._animators.length;n++)e.animation.addAnimator(this._animators[n])},removeAnimatorsFromZr:function(e){if(this._animators)for(var n=0;n<this._animators.length;n++)e.animation.removeAnimator(this._animators[n])}};const FCe="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end";function BCe(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}Object.assign(Bm.prototype,k4t),sn.import(FCe),sn.import(fCe),sn.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),sn.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),sn.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),sn.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),sn.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),sn.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var H4t=l3.prototype.addToScene,Y4t=l3.prototype.removeFromScene;l3.prototype.addToScene=function(e){if(H4t.call(this,e),this.__zr){var n=this.__zr;e.traverse(function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)})}},l3.prototype.removeFromScene=function(e){Y4t.call(this,e),e.traverse(function(n){var t=n.__zr;n.__zr=null,t&&n.removeAnimatorsFromZr&&n.removeAnimatorsFromZr(t)})},pp.prototype.setTextureImage=function(e,n,t,i){if(this.shader){var l,r=t.getZr(),o=this;return o.autoUpdateTextureStatus=!1,o.disableTexture(e),function B4t(e){return!e||"none"===e}(n)||(l=li.loadTexture(n,t,i,function(h){o.enableTexture(e),r&&r.refresh()}),o.set(e,l)),l}};var li={};li.Renderer=CE,li.Node=Bm,li.Mesh=Nx,li.Shader=sn,li.Material=pp,li.Texture=Rn,li.Texture2D=Vi,li.Geometry=Pr,li.SphereGeometry=_4t,li.PlaneGeometry=a$,li.CubeGeometry=ECe,li.AmbientLight=x4t,li.DirectionalLight=C4t,li.PointLight=S4t,li.SpotLight=M4t,li.PerspectiveCamera=Cl,li.OrthographicCamera=dT,li.Vector2=Fd,li.Vector3=$t,li.Vector4=D4t,li.Quaternion=_Ce,li.Matrix2=P4t,li.Matrix2d=A4t,li.Matrix3=z4t,li.Matrix4=En,li.Plane=TCe,li.Ray=qj,li.BoundingBox=Qu,li.Frustum=yle;var d$=null;function VCe(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function HCe(e){if((e.wrapS===Rn.REPEAT||e.wrapT===Rn.REPEAT)&&e.image){var n=VCe(e.width),t=VCe(e.height);if(n!==e.width||t!==e.height){var i=document.createElement("canvas");i.width=n,i.height=t,i.getContext("2d").drawImage(e.image,0,0,n,t),e.image=i}}}li.loadTexture=function(e,n,t,i){"function"==typeof t&&(i=t,t={}),t=t||{};for(var r=Object.keys(t).sort(),o="",l=0;l<r.length;l++)o+=r[l]+"_"+t[r[l]]+"_";var h=n.__textureCache=n.__textureCache||new DS(20);if(function V4t(e){return e.getZr&&e.setOption}(e)){if(m=h.get(o+(f=e.__textureid__)))m.texture.surface.setECharts(e),i&&i(m.texture);else{var _=new e4t(e);for(_.onupdate=function(){n.getZr().refresh()},m={texture:_.getTexture()},l=0;l<r.length;l++)m.texture[r[l]]=t[r[l]];e.__textureid__=f=e.__textureid__||"__ecgl_ec__"+m.texture.__uid__,h.put(o+f,m),i&&i(m.texture)}return m.texture}if(BCe(e)){var f,m;if(!(m=h.get(o+(f=e.__textureid__)))){for(m={texture:new li.Texture2D({image:e})},l=0;l<r.length;l++)m.texture[r[l]]=t[r[l]];e.__textureid__=f=e.__textureid__||"__ecgl_image__"+m.texture.__uid__,h.put(o+f,m),HCe(m.texture),i&&i(m.texture)}return m.texture}if(m=h.get(o+e))m.callbacks?m.callbacks.push(i):i&&i(m.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){m={callbacks:[i]};var b=Yx.loadTexture(e,{exposure:t.exposure,fileType:"hdr"},function(){b.dirty(),m.callbacks.forEach(function(O){O&&O(b)}),m.callbacks=null});m.texture=b,h.put(o+e,m)}else{for(b=new li.Texture2D({image:new Image}),l=0;l<r.length;l++)b[r[l]]=t[r[l]];m={texture:b,callbacks:[i]};var S=b.image;S.onload=function(){b.image=S,HCe(b),b.dirty(),m.callbacks.forEach(function(I){I&&I(b)}),m.callbacks=null},S.crossOrigin="Anonymous",S.src=e,b.image=function U4t(){return null!==d$||(d$=Yx.createBlank("rgba(255,255,255,0)").image),d$}(),h.put(o+e,m)}return m.texture},li.createAmbientCubemap=function(e,n,t,i){var r=(e=e||{}).texture,o=Wi.firstNotNull(e.exposure,1),l=new c4t({intensity:Wi.firstNotNull(e.specularIntensity,1)}),h=new h4t({intensity:Wi.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return l.cubemap=li.loadTexture(r,t,{exposure:o},function(){l.cubemap.flipY=!1,l.prefilter(n,32),h.coefficients=g4t.projectEnvironmentMap(n,l.cubemap,{lod:1}),i&&i()}),{specular:l,diffuse:h}},li.createBlankTexture=Yx.createBlank,li.isImage=BCe,li.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},li.parseColor=function(e,n){return e instanceof Array?(n||(n=[]),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e.length>3?e[3]:1,n):((n=kd(e||"#000",n)||[0,0,0,0])[0]/=255,n[1]/=255,n[2]/=255,n)},li.directionFromAlphaBeta=function(e,n){var t=e/180*Math.PI+Math.PI/2,i=-n/180*Math.PI+Math.PI/2,r=[],o=Math.sin(t);return r[0]=o*Math.cos(i),r[1]=-Math.cos(t),r[2]=o*Math.sin(i),r},li.getShadowResolution=function(e){var n=1024;switch(e){case"low":n=512;break;case"medium":break;case"high":n=2048;break;case"ultra":n=4096}return n},li.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],li.createShader=function(e){"ecgl.shadow"===e&&(e="ecgl.displayShadow");var n=sn.source(e+".vertex"),t=sn.source(e+".fragment");n||console.error("Vertex shader of '%s' not exits",e),t||console.error("Fragment shader of '%s' not exits",e);var i=new sn(n,t);return i.name=e,i},li.createMaterial=function(e,n){n instanceof Array||(n=[n]);var t=li.createShader(e),i=new pp({shader:t});return n.forEach(function(r){"string"==typeof r&&i.define(r)}),i},li.setMaterialFromModel=function(e,n,t,i){n.autoUpdateTextureStatus=!1;var r=t.getModel(e+"Material"),o=r.get("detailTexture"),l=Wi.firstNotNull(r.get("textureTiling"),1),h=Wi.firstNotNull(r.get("textureOffset"),0);"number"==typeof l&&(l=[l,l]),"number"==typeof h&&(h=[h,h]);var f=l[0]>1||l[1]>1?li.Texture.REPEAT:li.Texture.CLAMP_TO_EDGE,m={anisotropic:8,wrapS:f,wrapT:f};if("realistic"===e){var _=r.get("roughness"),b=r.get("metalness");null!=b?isNaN(b)&&(n.setTextureImage("metalnessMap",b,i,m),b=Wi.firstNotNull(r.get("metalnessAdjust"),.5)):b=0,null!=_?isNaN(_)&&(n.setTextureImage("roughnessMap",_,i,m),_=Wi.firstNotNull(r.get("roughnessAdjust"),.5)):_=.5;var S=r.get("normalTexture");n.setTextureImage("detailMap",o,i,m),n.setTextureImage("normalMap",S,i,m),n.set({roughness:_,metalness:b,detailUvRepeat:l,detailUvOffset:h})}else if("lambert"===e)n.setTextureImage("detailMap",o,i,m),n.set({detailUvRepeat:l,detailUvOffset:h});else if("color"===e)n.setTextureImage("detailMap",o,i,m),n.set({detailUvRepeat:l,detailUvOffset:h});else if("hatching"===e){for(var M=r.get("hatchingTextures")||[],O=0;O<6;O++)n.setTextureImage("hatch"+(O+1),M[O],i,{anisotropic:8,wrapS:li.Texture.REPEAT,wrapT:li.Texture.REPEAT});n.set({detailUvRepeat:l,detailUvOffset:h})}},li.updateVertexAnimation=function(e,n,t,i){var r=i.get("animation"),o=i.get("animationDurationUpdate"),l=i.get("animationEasingUpdate"),h=t.shadowDepthMaterial;if(r&&n&&o>0&&n.geometry.vertexCount===t.geometry.vertexCount){t.material.define("vertex","VERTEX_ANIMATION"),t.ignorePreZ=!0,h&&h.define("vertex","VERTEX_ANIMATION");for(var f=0;f<e.length;f++)t.geometry.attributes[e[f][0]].value=n.geometry.attributes[e[f][1]].value;t.geometry.dirty(),t.__percent=0,t.material.set("percent",0),t.stopAnimation(),t.animate().when(o,{__percent:1}).during(function(){t.material.set("percent",t.__percent),h&&h.set("percent",t.__percent)}).done(function(){t.ignorePreZ=!1,t.material.undefine("vertex","VERTEX_ANIMATION"),h&&h.undefine("vertex","VERTEX_ANIMATION")}).start(l)}else t.material.undefine("vertex","VERTEX_ANIMATION"),h&&h.undefine("vertex","VERTEX_ANIMATION")};const ze=li;var ko=function(e,n){this.id=e,this.zr=n;try{this.renderer=new CE({clearBit:0,devicePixelRatio:n.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(n.painter.getWidth(),n.painter.getHeight())}catch(i){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(i)}this.onglobalout=this.onglobalout.bind(this),n.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var t=this.dom.style;t.position="absolute",t.left="0",t.top="0",this.views=[],this._picking=new c_t({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new Id({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function YCe(e){var n=e.__zr;e.__zr=null,n&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(n)}ko.prototype.setUnpainted=function(){},ko.prototype.addView=function(e){if(e.layer!==this){var n=this._viewsToDispose.indexOf(e);n>=0&&this._viewsToDispose.splice(n,1),this.views.push(e),e.layer=this;var t=this.zr;e.scene.traverse(function(i){i.__zr=t,i.addAnimatorsToZr&&i.addAnimatorsToZr(t)})}},ko.prototype.removeView=function(e){if(e.layer===this){var n=this.views.indexOf(e);n>=0&&(this.views.splice(n,1),e.scene.traverse(YCe,this),e.layer=null,this._viewsToDispose.push(e))}},ko.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(YCe,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0},ko.prototype.resize=function(e,n){this.renderer.resize(e,n)},ko.prototype.clear=function(){var e=this.renderer.gl,n=this._backgroundColor||[0,0,0,0];e.clearColor(n[0],n[1],n[2],n[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},ko.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},ko.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},ko.prototype.needsRefresh=function(){this.zr.refresh()},ko.prototype.refresh=function(e){this._backgroundColor=e?ze.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var n=0;n<this.views.length;n++)this.views[n].prepareRender(this.renderer);for(this._doRender(!1),this._trackAndClean(),n=0;n<this._viewsToDispose.length;n++)this._viewsToDispose[n].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},ko.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},ko.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var n=0;n<this.views.length;n++)this.views[n].render(this.renderer,e);this.renderer.restoreViewport()},ko.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var G4t=1;function f$(e){for(var n=0;n<e.length;n++)e[n].__used__=0}function p$(e,n){for(var t=0;t<n.length;t++)n[t].__used__||n[t].dispose(e)}function g$(e,n){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&n.push(e)}function W4t(e,n,t){var i,r;e.traverse(function(l){if(l.isRenderable()){var h=l.geometry,f=l.material;if(f!==i)for(var m=f.getTextureUniforms(),_=0;_<m.length;_++){var S=f.uniforms[m[_]].value;if(S)if(S instanceof Rn)g$(S,n);else if(S instanceof Array)for(var M=0;M<S.length;M++)S[M]instanceof Rn&&g$(S[M],n)}h!==r&&g$(h,t),i=f,r=h}});for(var o=0;o<e.lights.length;o++)e.lights[o].cubemap&&g$(e.lights[o].cubemap,n)}ko.prototype._startAccumulating=function(e){var n=this;this._stopAccumulating();for(var t=!1,i=0;i<this.views.length;i++)t=this.views[i].needsAccumulate()||t;function r(o){if(n._accumulatingId&&o===n._accumulatingId){for(var l=!0,h=0;h<n.views.length;h++)l=n.views[h].isAccumulateFinished()&&t;l||(n._doRender(!0),e?r(o):MS(function(){r(o)}))}}t&&(this._accumulatingId=G4t++,e?r(n._accumulatingId):this._accumulatingTimeout=setTimeout(function(){r(n._accumulatingId)},50))},ko.prototype._trackAndClean=function(){var e=[],n=[];this._textureList&&(f$(this._textureList),f$(this._geometriesList));for(var t=0;t<this.views.length;t++)W4t(this.views[t].scene,e,n);this._textureList&&(p$(this.renderer,this._textureList),p$(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=n},ko.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(f$(this._textureList),f$(this._geometriesList),p$(this.renderer,this._textureList),p$(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},ko.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY);n&&(this._dispatchEvent("mousedown",e,n),this._dispatchDataEvent("mousedown",e,n)),this._downX=e.offsetX,this._downY=e.offsetY}},ko.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY),t=n&&n.target,i=this._hovered;this._hovered=n,i&&t!==i.target&&(i.relatedTarget=t,this._dispatchEvent("mouseout",e,i),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,n),n&&(this.zr.setCursorStyle("pointer"),(!i||t!==i.target)&&this._dispatchEvent("mouseover",e,n)),this._dispatchDataEvent("mousemove",e,n)}},ko.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY);n&&(this._dispatchEvent("mouseup",e,n),this._dispatchDataEvent("mouseup",e,n)),this._upX=e.offsetX,this._upY=e.offsetY}},ko.prototype.onclick=ko.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this._upX-this._downX,t=this._upY-this._downY;if(!(Math.sqrt(n*n+t*t)>20)){var i=this.pickObject((e=e.event).offsetX,e.offsetY);i&&(this._dispatchEvent(e.type,e,i),this._dispatchDataEvent(e.type,e,i));var r=this._clickToSetFocusPoint(e);r&&r.view.setDOFFocusOnPoint(r.distance)&&this.zr.refresh()}}},ko.prototype._clickToSetFocusPoint=function(e){for(var n=this.renderer,t=n.viewport,i=this.views.length-1;i>=0;i--){var r=this.views[i];if(r.hasDOF()&&r.containPoint(e.offsetX,e.offsetY)){this._picking.scene=r.scene,this._picking.camera=r.camera,n.viewport=r.viewport;var o=this._picking.pick(e.offsetX,e.offsetY,!0);if(o)return o.view=r,o}}n.viewport=t},ko.prototype.onglobalout=function(e){var n=this._hovered;n&&this._dispatchEvent("mouseout",e,{target:n.target})},ko.prototype.pickObject=function(e,n){for(var t=[],i=this.renderer,r=i.viewport,o=0;o<this.views.length;o++){var l=this.views[o];l.containPoint(e,n)&&(this._picking.scene=l.scene,this._picking.camera=l.camera,i.viewport=l.viewport,this._picking.pickAll(e,n,t))}return i.viewport=r,t.sort(function(h,f){return h.distance-f.distance}),t[0]},ko.prototype._dispatchEvent=function(e,n,t){t||(t={});var i=t.target;for(t.cancelBubble=!1,t.event=n,t.type=e,t.offsetX=n.offsetX,t.offsetY=n.offsetY;i&&(i.trigger(e,t),i=i.getParent(),!t.cancelBubble););this._dispatchToView(e,t)},ko.prototype._dispatchDataEvent=function(e,n,t){var i=t&&t.target,r=i&&i.dataIndex,o=i&&i.seriesIndex,l=i&&i.eventData,h=!1,f=this._zrEventProxy;f.x=n.offsetX,f.y=n.offsetY,f.update();var m={target:f};const _=Hh(f);"mousemove"===e&&(null!=r?r!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(_.dataIndex=this._lastDataIndex,_.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(m,"mouseout",n)),h=!0):null!=l&&l!==this._lastEventData&&(null!=this._lastEventData&&(_.eventData=this._lastEventData,this.zr.handler.dispatchToElement(m,"mouseout",n)),h=!0),this._lastEventData=l,this._lastDataIndex=r,this._lastSeriesIndex=o),_.eventData=l,_.dataIndex=r,_.seriesIndex=o,(null!=l||parseInt(r,10)>=0&&parseInt(o,10)>=0)&&(this.zr.handler.dispatchToElement(m,e,n),h&&this.zr.handler.dispatchToElement(m,"mouseover",n))},ko.prototype._dispatchToView=function(e,n){for(var t=0;t<this.views.length;t++)this.views[t].containPoint(n.offsetX,n.offsetY)&&this.views[t].trigger(e,n)},Object.assign(ko.prototype,Qse);const UCe=ko;var j4t=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function kE(e,n){if(e&&e[n]&&(e[n].normal||e[n].emphasis)){var t=e[n].normal,i=e[n].emphasis;t&&(e[n]=t),i&&(e.emphasis=e.emphasis||{},e.emphasis[n]=i)}}function m$(e){e&&(e instanceof Array||(e=[e]),Ke(e,function(n){if(n.axisLabel){var t=n.axisLabel;Object.assign(t,t.textStyle),t.textStyle=null}}))}function GCe(e){this._layers={},this._zr=e}GCe.prototype.update=function(e,n){var t=this,i=n.getZr();if(i.getWidth()&&i.getHeight()){for(var l in this._layers)this._layers[l].removeViewsAll();e.eachComponent(function(h,f){if("series"!==h){var m=n.getViewOfComponentModel(f),_=f.coordinateSystem;if(m.__ecgl__){if(_){if(!_.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+f.id);b=_.viewGL}else{if(!f.viewGL)return void console.error("Can't find viewGL of component "+f.id);b=_.viewGL}var b=_.viewGL,S=r(f);S.addView(b),m.afterRender&&m.afterRender(f,e,n,S),o(m.groupGL,f.get("silent"))}}}),e.eachSeries(function(h){var f=n.getViewOfSeriesModel(h),m=h.coordinateSystem;if(f.__ecgl__){if(m&&!m.viewGL&&!f.viewGL)return void console.error("Can't find viewGL of series "+f.id);var _=m&&m.viewGL||f.viewGL,b=r(h);b.addView(_),f.afterRender&&f.afterRender(h,e,n,b),o(f.groupGL,h.get("silent"))}})}else console.warn("Dom has no width or height");function r(h){var f;i.setSleepAfterStill(0),f=h.get("zlevel");var m=t._layers,_=m[f];if(!_){if(_=m[f]=new UCe("gl-"+f,i),i.painter.isSingleCanvas()){_.virtual=!0;var b=new vx({z:1e4,style:{image:_.renderer.canvas},silent:!0});_.__hostImage=b,i.add(b)}i.painter.insertLayer(f,_)}return _.__hostImage&&_.__hostImage.setStyle({width:_.renderer.getWidth(),height:_.renderer.getHeight()}),_}function o(h,f){h&&h.traverse(function(m){m.isRenderable&&m.isRenderable()&&(m.ignorePicking=null!=m.$ignorePicking?m.$ignorePicking:f)})}},$5e(function(e){var n=e.getZr(),t=n.painter.dispose;n.painter.dispose=function(){this.eachOtherLayer(function(i){i instanceof UCe&&i.dispose()}),t.call(this)},n.painter.getRenderedCanvas=function(i){if(i=i||{},this._singleCanvas)return this._layers[0].dom;var r=document.createElement("canvas"),o=i.pixelRatio||this.dpr;r.width=this.getWidth()*o,r.height=this.getHeight()*o;var l=r.getContext("2d");l.dpr=o,l.clearRect(0,0,r.width,r.height),i.backgroundColor&&(l.fillStyle=i.backgroundColor,l.fillRect(0,0,r.width,r.height));var m,h=this.storage.getDisplayList(!0),f={},_=this;function b(I,N){var V=_._zlevelList;null==I&&(I=-1/0);for(var G,X=0;X<V.length;X++){var K=V[X],ne=_._layers[K];if(!ne.__builtin__&&K>I&&K<N){G=ne;break}}G&&G.renderToCanvas&&(l.save(),G.renderToCanvas(l),l.restore())}for(var S={ctx:l},M=0;M<h.length;M++){var O=h[M];O.zlevel!==m&&(b(m,O.zlevel),m=O.zlevel),this._doPaintEl(O,S,!0,null,f)}return b(m,1/0),r}}),X5e(function(e,n){var t=n.getZr();(t.__egl=t.__egl||new GCe(t)).update(e,n)}),kse(function X4t(e){Ke(e.series,function(n){xa(j4t,n.type)>=0&&(function $4t(e){kE(e,"itemStyle"),kE(e,"lineStyle"),kE(e,"areaStyle"),kE(e,"label")}(n),"mapbox"===n.coordinateSystem&&(n.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),m$(e.xAxis3D),m$(e.yAxis3D),m$(e.zAxis3D),m$(e.grid3D),kE(e.geo3D)});const v$={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}},fT={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},pT={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var _$=ba.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});ti(_$.prototype,v$),ti(_$.prototype,fT),ti(_$.prototype,pT);const q4t=_$;var OE=Wi.firstNotNull,WCe={left:0,middle:1,right:2};function jCe(e){return e instanceof Array||(e=[e,e]),e}var $Ce=Zu.extend(function(){return{zr:null,viewGL:null,_center:new $t,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new Fd,_panVelocity:new Fd,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,n){var t=(n=n||{}).baseDistance||0,i=n.baseOrthoSize||1,r=e.get("projection");"perspective"!==r&&"orthographic"!==r&&"isometric"!==r&&(r="perspective"),this._projection=r,this.viewGL.setProjection(r);var o=e.get("distance")+t,l=e.get("orthographicSize")+i;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(S){this[S[0]]=OE(e.get(S[0]),S[1])},this),this.minDistance+=t,this.maxDistance+=t,this.minOrthographicSize+=i,this.maxOrthographicSize+=i;var h=e.ecModel,f={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(S){f[S]=OE(e.get(S),h&&h.get(S))});var m=OE(n.alpha,e.get("alpha"))||0,_=OE(n.beta,e.get("beta"))||0,b=OE(n.center,e.get("center"))||[0,0,0];f.animation&&f.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:m,beta:_,center:b,distance:o,orthographicSize:l,easing:f.animationEasingUpdate,duration:f.animationDurationUpdate}):(this.setDistance(o),this.setAlpha(m),this.setBeta(_),this.setCenter(b),this.setOrthographicSize(l)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(e){var n=this.zr,t=this,i={},r={};return null!=e.distance&&(i.distance=this.getDistance(),r.distance=e.distance),null!=e.orthographicSize&&(i.orthographicSize=this.getOrthographicSize(),r.orthographicSize=e.orthographicSize),null!=e.alpha&&(i.alpha=this.getAlpha(),r.alpha=e.alpha),null!=e.beta&&(i.beta=this.getBeta(),r.beta=e.beta),null!=e.center&&(i.center=this.getCenter(),r.center=e.center),this._addAnimator(n.animation.animate(i).when(e.duration||1e3,r).during(function(){null!=i.alpha&&t.setAlpha(i.alpha),null!=i.beta&&t.setBeta(i.beta),null!=i.distance&&t.setDistance(i.distance),null!=i.center&&t.setCenter(i.center),null!=i.orthographicSize&&t.setOrthographicSize(i.orthographicSize),t._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var n=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=n*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var n=this._rotateVelocity;this._phi=n.y*e/20+this._phi,this._theta=n.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(n,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var n=this.getCamera(),t=this._orthoSize,i=t/this.viewGL.viewport.height*this.viewGL.viewport.width;n.left=-i/2,n.right=i/2,n.top=t/2,n.bottom=-t/2},_updatePan:function(e){var n=this._panVelocity,t=this._distance,i=this.getCamera(),r=i.worldTransform.y;this._center.scaleAndAdd(i.worldTransform.x,-n.x*t/200).scaleAndAdd(r,-n.y*t/200),this._vectorDamping(n,0)},_updateTransform:function(){var e=this.getCamera(),n=new $t,t=this._theta+Math.PI/2,i=this._phi+Math.PI/2,r=Math.sin(t);n.x=r*Math.cos(i),n.y=-Math.cos(t),n.z=r*Math.sin(i),e.position.copy(this._center).scaleAndAdd(n,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,n=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){n._rotating=!0},1e3*e))},_vectorDamping:function(e,n){var t=e.len();(t*=n)<1e-4&&(t=0),e.normalize().scale(t)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,n=Math.asin(e.y),t=Math.atan2(e.x,e.z);this._theta=n,this._phi=-t,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){e.target||this._isAnimating()||this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):this._mode=e.event.button===WCe[this.rotateMouseButton]?"rotate":e.event.button===WCe[this.panMouseButton]?"pan":"",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy||this._isAnimating())){var n=jCe(this.panSensitivity),t=jCe(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*t[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*t[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*n[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*n[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){this._isAnimating()||this._zoomHandler(e,e.event.wheelDelta||-e.event.detail)},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,n){var r;0!==n&&(this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(r="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(n>0?-1:1)*r*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()))},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var n=this._animators;return n.push(e),e.done(function(){var t=n.indexOf(e);t>=0&&n.splice(t,1)}),e}});Object.defineProperty($Ce.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const y$=$Ce,EE={convertToDynamicArray:function(e){e&&this.resetOffset();var n=this.attributes;for(var t in n)n[t].value=e||!n[t].value?[]:Array.prototype.slice.call(n[t].value);this.indices=e||!this.indices?[]:Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var n in e)e[n].value=e[n].value&&e[n].value.length>0?new Float32Array(e[n].value):null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},fs={vec2:Yn,vec3:je,vec4:un,mat2:$a,mat2d:Es,mat3:lr,mat4:Ut,quat:ci};var zle=fs.vec3,XCe=[[0,0],[1,1]],qCe=Pr.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new Pr.Attribute("position","float",3,"POSITION"),positionPrev:new Pr.Attribute("positionPrev","float",3),positionNext:new Pr.Attribute("positionNext","float",3),prevPositionPrev:new Pr.Attribute("prevPositionPrev","float",3),prevPosition:new Pr.Attribute("prevPosition","float",3),prevPositionNext:new Pr.Attribute("prevPositionNext","float",3),offset:new Pr.Attribute("offset","float",1),color:new Pr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var n=this.attributes;this.vertexCount!==e&&(n.position.init(e),n.color.init(e),this.useNativeLine||(n.positionPrev.init(e),n.positionNext.init(e),n.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,n,t,i){return 1/(zle.dist(e,n)+zle.dist(t,n)+zle.dist(i,t)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,n,t,i){var r=this._getCubicCurveApproxStep(e,n,t,i),o=Math.ceil(1/r);return this.useNativeLine?2*o:2*o+2},getCubicCurveTriangleCount:function(e,n,t,i){var r=this._getCubicCurveApproxStep(e,n,t,i),o=Math.ceil(1/r);return this.useNativeLine?0:2*o},getLineVertexCount:function(){return this.getPolylineVertexCount(XCe)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(XCe)},getPolylineVertexCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?2*(n-1):2*(n-1)+2},getPolylineTriangleCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?0:2*Math.max(n-1,0)},addCubicCurve:function(e,n,t,i,r,o){null==o&&(o=1);var l=e[0],h=e[1],f=e[2],m=n[0],_=n[1],b=n[2],S=t[0],M=t[1],O=t[2],I=i[0],N=i[1],V=i[2],G=this._getCubicCurveApproxStep(e,n,t,i),X=G*G,K=X*G,ne=3*G,ie=3*X,pe=6*X,ve=6*K,ye=l-2*m+S,Se=h-2*_+M,xe=f-2*b+O,De=3*(m-S)-l+I,Pe=3*(_-M)-h+N,Re=3*(b-O)-f+V,ke=l,Oe=h,Ye=f,Ge=(m-l)*ne+ye*ie+De*K,ct=(_-h)*ne+Se*ie+Pe*K,We=(b-f)*ne+xe*ie+Re*K,Tt=ye*pe+De*ve,Lt=Se*pe+Pe*ve,An=xe*pe+Re*ve,Qt=De*ve,zn=Pe*ve,Ar=Re*ve,vn=0,Nn=0,ht=Math.ceil(1/G),Yt=new Float32Array(3*(ht+1)),gn=(Yt=[],0);for(Nn=0;Nn<ht+1;Nn++)Yt[gn++]=ke,Yt[gn++]=Oe,Yt[gn++]=Ye,ke+=Ge,Oe+=ct,Ye+=We,Ge+=Tt,ct+=Lt,We+=An,Tt+=Qt,Lt+=zn,An+=Ar,(vn+=G)>1&&(ke=Ge>0?Math.min(ke,I):Math.max(ke,I),Oe=ct>0?Math.min(Oe,N):Math.max(Oe,N),Ye=We>0?Math.min(Ye,V):Math.max(Ye,V));return this.addPolyline(Yt,r,o)},addLine:function(e,n,t,i){return this.addPolyline([e,n],t,i)},addPolyline:function(e,n,t,i,r){if(e.length){var o="number"!=typeof e[0];if(null==r&&(r=o?e.length:e.length/3),!(r<2)){null==i&&(i=0),null==t&&(t=1),this._itemVertexOffsets.push(this._vertexOffset);var O,I,l=(o="number"!=typeof e[0])?"number"!=typeof n[0]:n.length/4===r,h=this.attributes.position,f=this.attributes.positionPrev,m=this.attributes.positionNext,_=this.attributes.color,b=this.attributes.offset,S=this.indices,M=this._vertexOffset;t=Math.max(t,.01);for(var N=i;N<r;N++){if(o)O=e[N],I=l?n[N]:n;else{var V=3*N;if((O=O||[])[0]=e[V],O[1]=e[V+1],O[2]=e[V+2],l){var G=4*N;(I=I||[])[0]=n[G],I[1]=n[G+1],I[2]=n[G+2],I[3]=n[G+3]}else I=n}if(this.useNativeLine?N>1&&(h.copy(M,M-1),_.copy(M,M-1),M++):(N<r-1&&(f.set(M+2,O),f.set(M+3,O)),N>0&&(m.set(M-2,O),m.set(M-1,O)),h.set(M,O),h.set(M+1,O),_.set(M,I),_.set(M+1,I),b.set(M,t/2),b.set(M+1,-t/2),M+=2),this.useNativeLine)_.set(M,I),h.set(M,O),M++;else if(N>0){var X=3*this._triangleOffset;(S=this.indices)[X]=M-4,S[X+1]=M-3,S[X+2]=M-2,S[X+3]=M-3,S[X+4]=M-1,S[X+5]=M-2,this._triangleOffset+=2}}if(!this.useNativeLine){var K=this._vertexOffset,ne=this._vertexOffset+2*r;f.copy(K,K+2),f.copy(K+1,K+3),m.copy(ne-1,ne-3),m.copy(ne-2,ne-4)}return this._vertexOffset=M,this._vertexOffset}}},setItemColor:function(e,n){for(var i=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,r=this._itemVertexOffsets[e];r<i;r++)this.attributes.color.set(r,n);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});ya(qCe.prototype,EE);const Wx=qCe;function x$(e,n,t,i,r,o,l){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=i,this.height=r,this.offsetX=n,this.offsetY=t,this.dpr=l,this.gap=o}function ZCe(e){(e=e||{}).width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var n=document.createElement("canvas");n.width=e.width*e.devicePixelRatio,n.height=e.height*e.devicePixelRatio,this._canvas=n,this._texture=new Vi({image:n,flipY:!1});var t=this;this._zr=Xoe(n);var i=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){i.call(this),t._texture.dirty(),t.onupdate&&t.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new x$(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}x$.prototype={constructor:x$,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,n,t){var i=e.getBoundingRect();null==n&&(n=i.width),null==t&&(t=i.height),this._fitElement(e,n*=this.dpr,t*=this.dpr);var r=this._x,o=this._y,l=this.width*this.dpr,h=this.height*this.dpr,f=this.gap;if(r+n+f>l&&(r=this._x=0,this._y=o+=this._rowHeight+f,this._rowHeight=0),this._x+=n+f,this._rowHeight=Math.max(this._rowHeight,t),o+t+f>h)return null;e.x+=this.offsetX*this.dpr+r,e.y+=this.offsetY*this.dpr+o,this._zr.add(e);var m=[this.offsetX/this.width,this.offsetY/this.height];return[[r/l+m[0],o/h+m[1]],[(r+n)/l+m[0],(o+t)/h+m[1]]]},_fitElement:function(e,n,t){var i=e.getBoundingRect(),r=n/i.width,o=t/i.height;e.x=-i.x*r,e.y=-i.y*o,e.scaleX=r,e.scaleY=o,e.update()}},ZCe.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes.length,i=t*this._nodeWidth%e,r=Math.floor(t*this._nodeWidth/e)*this._nodeHeight;if(!(r>=e)){var o=(i+this._nodeWidth)*this._dpr,l=(r+this._nodeHeight)*this._dpr;try{this._zr.resize({width:o,height:l})}catch{this._canvas.width=o,this._canvas.height=l}var h=new x$(this._zr,i,r,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(h),h}},add:function(e,n,t){if(this._coords[e.id])return this._coords[e.id];var i=this._getCurrentNode().add(e,n,t);if(!i){var r=this._expand();if(!r)return;i=r.add(e,n,t)}return this._coords[e.id]=i,i},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};const kle=ZCe;function Ole(){}Ole.prototype={constructor:Ole,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new ze.DirectionalLight({shadowBias:.005}),this.ambientLight=new ze.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var n=this.mainLight,t=this.ambientLight,i=e.getModel("light"),r=i.getModel("main"),o=i.getModel("ambient");n.intensity=r.get("intensity"),t.intensity=o.get("intensity"),n.color=ze.parseColor(r.get("color")).slice(0,3),t.color=ze.parseColor(o.get("color")).slice(0,3);var l=r.get("alpha")||0,h=r.get("beta")||0;n.position.setArray(ze.directionFromAlphaBeta(l,h)),n.lookAt(ze.Vector3.ZERO),n.castShadow=r.get("shadow"),n.shadowResolution=ze.getShadowResolution(r.get("shadowQuality"))},updateAmbientCubemap:function(e,n,t){var i=n.getModel("light.ambientCubemap"),r=i.get("texture");if(r){this._cubemapLightsCache=this._cubemapLightsCache||{};var o=this._cubemapLightsCache[r];if(!o){var l=this;o=this._cubemapLightsCache[r]=ze.createAmbientCubemap(i.option,e,t,function(){l._isSkyboxFromAmbientCubemap&&l._skybox.setEnvironmentMap(o.specular.cubemap),t.getZr().refresh()})}this._lightRoot.add(o.diffuse),this._lightRoot.add(o.specular),this._currentCubemapLights=o}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,n,t){var i=n.get("environment"),r=this,l=function o(){return r._skybox=r._skybox||new s$,r._skybox}();if(i&&"none"!==i)if("auto"===i)this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights?(l.setEnvironmentMap(this._currentCubemapLights.specular.cubemap),this._scene&&l.attachScene(this._scene),l.material.set("lod",3)):this._skybox&&this._skybox.detachScene();else if("object"==typeof i&&i.colorStops||"string"==typeof i&&kd(i)){this._isSkyboxFromAmbientCubemap=!1;var f=new ze.Texture2D({anisotropic:8,flipY:!1});l.setEnvironmentMap(f);var m=f.image=document.createElement("canvas");m.width=m.height=16,fj(m.getContext("2d"),new Id({shape:{x:0,y:0,width:16,height:16},style:{fill:i}})),l.attachScene(this._scene)}else this._isSkyboxFromAmbientCubemap=!1,f=ze.loadTexture(i,t,{anisotropic:8,flipY:!1}),l.setEnvironmentMap(f),l.attachScene(this._scene);else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var S=n.coordinateSystem;if(this._skybox)if(!S||!S.viewGL||"auto"===i||i.match&&i.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var M=S.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[M]("fragment","SRGB_DECODE")}}};const gT=Ole;var jx=fs.vec3,KCe=Pr.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new Pr.Attribute("position","float",3,"POSITION"),normal:new Pr.Attribute("normal","float",3,"NORMAL"),color:new Pr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var n=this.attributes,t=this.getQuadVertexCount()*e,i=this.getQuadTriangleCount()*e;this.vertexCount!==t&&(n.position.init(t),n.normal.init(t),n.color.init(t)),this.triangleCount!==i&&(this.indices=t>65535?new Uint32Array(3*i):new Uint16Array(3*i))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=jx.create(),n=jx.create(),t=jx.create(),i=[0,3,1,3,2,1];return function(r,o){var l=this.attributes.position,h=this.attributes.normal,f=this.attributes.color;jx.sub(e,r[1],r[0]),jx.sub(n,r[2],r[1]),jx.cross(t,e,n),jx.normalize(t,t);for(var m=0;m<4;m++)l.set(this._vertexOffset+m,r[m]),f.set(this._vertexOffset+m,o),h.set(this._vertexOffset+m,t);var _=3*this._faceOffset;for(m=0;m<6;m++)this.indices[_+m]=i[m]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});ya(KCe.prototype,EE);const Z4t=KCe;var Ele=Wi.firstNotNull,K4t={x:0,y:2,z:1};function b$(e,n,t){this.rootNode=new ze.Node;var i=new ze.Mesh({geometry:new Wx({useNativeLine:!1}),material:n,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),r=new ze.Mesh({geometry:new Z4t,material:t,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(r),this.rootNode.add(i),this.faceInfo=e,this.plane=new ze.Plane,this.linesMesh=i,this.quadsMesh=r}b$.prototype.update=function(e,n,t){var i=e.coordinateSystem,r=[i.getAxis(this.faceInfo[0]),i.getAxis(this.faceInfo[1])],o=this.linesMesh.geometry,l=this.quadsMesh.geometry;o.convertToDynamicArray(!0),l.convertToDynamicArray(!0),this._updateSplitLines(o,r,e,t),this._udpateSplitAreas(l,r,e,t),o.convertToTypedArray(),l.convertToTypedArray();var h=i.getAxis(this.faceInfo[2]);!function Q4t(e,n,t,i){var r=[0,0,0],o=i<0?t.getExtentMin():t.getExtentMax();r[K4t[t.dim]]=o,e.position.setArray(r),e.rotation.identity(),n.distance=-Math.abs(o),n.normal.set(0,0,0),"x"===t.dim?(e.rotation.rotateY(i*Math.PI/2),n.normal.x=-i):"z"===t.dim?(e.rotation.rotateX(-i*Math.PI/2),n.normal.y=-i):(i>0&&e.rotation.rotateY(Math.PI),n.normal.z=-i)}(this.rootNode,this.plane,h,this.faceInfo[3])},b$.prototype._updateSplitLines=function(e,n,t,i){var r=i.getDevicePixelRatio();n.forEach(function(o,l){var h=o.model,f=n[1-l].getExtent();if(!o.scale.isBlank()){var m=h.getModel("splitLine",t.getModel("splitLine"));if(m.get("show")){var _=m.getModel("lineStyle"),b=_.get("color"),S=Ele(_.get("opacity"),1),M=Ele(_.get("width"),1);b=si(b)?b:[b];for(var O=o.getTicksCoords({tickModel:m}),I=0,N=0;N<O.length;N++){var V=O[N].coord,G=ze.parseColor(b[I%b.length]);G[3]*=S;var X=[0,0,0],K=[0,0,0];X[l]=K[l]=V,X[1-l]=f[0],K[1-l]=f[1],e.addLine(X,K,G,M*r),I++}}}})},b$.prototype._udpateSplitAreas=function(e,n,t,i){n.forEach(function(r,o){var l=r.model,h=n[1-o].getExtent();if(!r.scale.isBlank()){var f=l.getModel("splitArea",t.getModel("splitArea"));if(f.get("show")){var m=f.getModel("areaStyle"),_=m.get("color"),b=Ele(m.get("opacity"),1);_=si(_)?_:[_];for(var S=r.getTicksCoords({tickModel:f,clamp:!0}),M=0,O=[0,0,0],I=[0,0,0],N=0;N<S.length;N++){var G=[0,0,0],X=[0,0,0];if(G[o]=X[o]=S[N].coord,G[1-o]=h[0],X[1-o]=h[1],0!==N){var K=ze.parseColor(_[M%_.length]);K[3]*=b,e.addQuad([O,G,X,I],K),O=G,I=X,M++}else O=G,I=X}}}})};const J4t=b$;var QCe=[0,1,2,0,2,3],JCe=Pr.extend(function(){return{attributes:{position:new Pr.Attribute("position","float",3,"POSITION"),texcoord:new Pr.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new Pr.Attribute("offset","float",2),color:new Pr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var n=4*e,t=2*e;this.vertexCount!==n&&(this.attributes.position.init(n),this.attributes.offset.init(n),this.attributes.color.init(n)),this.triangleCount!==t&&(this.indices=n>65535?new Uint32Array(3*t):new Uint16Array(3*t))},setSpriteAlign:function(e,n,t,i,r){var o,l,h,f;switch(null==t&&(t="left"),null==i&&(i="top"),r=r||0,t){case"left":o=r,h=n[0]+r;break;case"center":case"middle":o=-n[0]/2,h=n[0]/2;break;case"right":o=-n[0]-r,h=-r}switch(i){case"bottom":l=r,f=n[1]+r;break;case"middle":l=-n[1]/2,f=n[1]/2;break;case"top":l=-n[1]-r,f=-r}var m=4*e,_=this.attributes.offset;_.set(m,[o,f]),_.set(m+1,[h,f]),_.set(m+2,[h,l]),_.set(m+3,[o,l])},addSprite:function(e,n,t,i,r,o){var l=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,n,t,i,r,o);for(var h=0;h<QCe.length;h++)this.indices[3*this._faceOffset+h]=QCe[h]+l;return this._faceOffset+=2,this._vertexOffset+=4,l/4},setSprite:function(e,n,t,i,r,o,l){for(var h=4*e,f=this.attributes,m=0;m<4;m++)f.position.set(h+m,n);var _=f.texcoord;_.set(h,[i[0][0],i[0][1]]),_.set(h+1,[i[1][0],i[0][1]]),_.set(h+2,[i[1][0],i[1][1]]),_.set(h+3,[i[0][0],i[1][1]]),this.setSpriteAlign(e,t,r,o,l)}});ya(JCe.prototype,EE);const e3t=JCe;ze.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");const Ile=ze.Mesh.extend(function(){return{geometry:new e3t({dynamic:!0}),material:new ze.Material({shader:ze.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}});var $x=Wi.firstNotNull,Xx={x:0,y:2,z:1};function Lle(e,n){var t=new ze.Mesh({geometry:new Wx({useNativeLine:!1}),material:n,castShadow:!1,ignorePicking:!0,renderOrder:2}),i=new Ile;i.material.depthMask=!1;var r=new ze.Node;r.add(t),r.add(i),this.rootNode=r,this.dim=e,this.linesMesh=t,this.labelsMesh=i,this.axisLineCoords=null,this.labelElements=[]}var Rle={x:"y",y:"x",z:"y"};Lle.prototype.update=function(e,n,t){var r=e.coordinateSystem.getAxis(this.dim),o=this.linesMesh.geometry,l=this.labelsMesh.geometry;o.convertToDynamicArray(!0),l.convertToDynamicArray(!0);var h=r.model,f=r.getExtent(),xe=t.getDevicePixelRatio(),m=h.getModel("axisLine",e.getModel("axisLine")),_=h.getModel("axisTick",e.getModel("axisTick")),b=h.getModel("axisLabel",e.getModel("axisLabel")),S=m.get("lineStyle.color");if(m.get("show")){var M=m.getModel("lineStyle"),I=[0,0,0];(O=[0,0,0])[N=Xx[r.dim]]=f[0],I[N]=f[1],this.axisLineCoords=[O,I];var V=ze.parseColor(S),G=$x(M.get("width"),1),X=$x(M.get("opacity"),1);V[3]*=X,o.addLine(O,I,V,G*xe)}if(_.get("show")){var K=_.getModel("lineStyle"),ne=ze.parseColor($x(K.get("color"),S));G=$x(K.get("width"),1),ne[3]*=$x(K.get("opacity"),1);for(var ie=r.getTicksCoords(),pe=_.get("length"),ve=0;ve<ie.length;ve++){var O,Se=Xx[Rle[r.dim]];(O=[0,0,0])[N=Xx[r.dim]]=(I=[0,0,0])[N]=ye=ie[ve].coord,I[Se]=pe,o.addLine(O,I,ne,G*xe)}}if(this.labelElements=[],xe=t.getDevicePixelRatio(),b.get("show")){ie=r.getTicksCoords();var De=h.get("data"),Pe=b.get("margin"),Re=r.getViewLabels();for(ve=0;ve<Re.length;ve++){var ke=Re[ve].tickValue,Oe=Re[ve].formattedLabel,Ye=Re[ve].rawLabel,ye=r.dataToCoord(ke);Se=Xx[Rle[r.dim]],(Ge=[0,0,0])[N=Xx[r.dim]]=Ge[N]=ye,Ge[Se]=Pe;var ct=b;De&&De[ke]&&De[ke].textStyle&&(ct=new ju(De[ke].textStyle,b,h.ecModel));var We=$x(ct.get("color"),S),Tt=new yx({style:mx(ct,{text:Oe,fill:"function"==typeof We?We("category"===r.type?Ye:"value"===r.type?ke+"":ke,ve):We,verticalAlign:"top",align:"left"})}),Lt=n.add(Tt),An=Tt.getBoundingRect();l.addSprite(Ge,[An.width*xe,An.height*xe],Lt),this.labelElements.push(Tt)}}if(h.get("name")){var Qt=h.getModel("nameTextStyle"),Ge=[0,0,0],N=Xx[r.dim],zn=(Se=Xx[Rle[r.dim]],$x(Qt.get("color"),S)),Ar=Qt.get("borderColor");G=Qt.get("borderWidth"),Ge[N]=Ge[N]=(f[0]+f[1])/2,Ge[Se]=h.get("nameGap"),Tt=new yx({style:mx(Qt,{text:h.get("name"),fill:zn,stroke:Ar,lineWidth:G})}),Lt=n.add(Tt),An=Tt.getBoundingRect(),l.addSprite(Ge,[An.width*xe,An.height*xe],Lt),Tt.__idx=this.labelElements.length,this.nameLabelElement=Tt}this.labelsMesh.material.set("textureAtlas",n.getTexture()),this.labelsMesh.material.set("uvScale",n.getCoordsScale()),o.convertToTypedArray(),l.convertToTypedArray()},Lle.prototype.setSpriteAlign=function(e,n,t){for(var i=t.getDevicePixelRatio(),r=this.labelsMesh.geometry,o=0;o<this.labelElements.length;o++){var h=this.labelElements[o].getBoundingRect();r.setSpriteAlign(o,[h.width*i,h.height*i],e,n)}var f=this.nameLabelElement;f&&(h=f.getBoundingRect(),r.setSpriteAlign(f.__idx,[h.width*i,h.height*i],e,n),r.dirty()),this.textAlign=e,this.textVerticalAlign=n};const n3t=Lle,C$="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";var e7e=Wi.firstNotNull;ze.Shader.import(C$);var qx={x:0,y:2,z:1};const i3t=r2.extend({type:"grid3D",__ecgl__:!0,init:function(e,n){var r=new ze.Material({shader:ze.createShader("ecgl.color"),depthMask:!1,transparent:!0}),o=new ze.Material({shader:ze.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});r.define("fragment","DOUBLE_SIDED"),r.define("both","VERTEX_COLOR"),this.groupGL=new ze.Node,this._control=new y$({zr:n.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map(function(h){var f=new J4t(h,o,r);return this.groupGL.add(f.rootNode),f},this),this._axes=["x","y","z"].map(function(h){var f=new n3t(h,o);return this.groupGL.add(f.rootNode),f},this);var l=n.getDevicePixelRatio();this._axisLabelSurface=new kle({width:256,height:256,devicePixelRatio:l}),this._axisLabelSurface.onupdate=function(){n.getZr().refresh()},this._axisPointerLineMesh=new ze.Mesh({geometry:new Wx({useNativeLine:!1}),material:o,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new kle({width:128,height:128,devicePixelRatio:l}),this._axisPointerLabelsMesh=new Ile({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new ze.Node,this._sceneHelper=new gT,this._sceneHelper.initLight(this._lightRoot)},render:function(e,n,t){this._model=e,this._api=t;var i=e.coordinateSystem;i.viewGL.add(this._lightRoot),e.get("show")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL);var r=this._control;r.setViewGL(i.viewGL);var o=e.getModel("viewControl");r.setFromViewControlModel(o,0),this._axisLabelSurface.clear(),r.off("update"),e.get("show")&&(this._faces.forEach(function(l){l.update(e,n,t)},this),this._axes.forEach(function(l){l.update(e,this._axisLabelSurface,t)},this)),r.on("update",this._onCameraChange.bind(this,e,t),this),this._sceneHelper.setScene(i.viewGL.scene),this._sceneHelper.updateLight(e),i.viewGL.setPostEffect(e.getModel("postEffect"),t),i.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,n,t,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,e,t),this._sceneHelper.updateSkybox(r,e,t)},showAxisPointer:function(e,n,t,i){this._doShowAxisPointer(),this._updateAxisPointer(i.value)},hideAxisPointer:function(e,n,t,i){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem.viewGL;e.get("show")&&e.get("axisPointer.show")?t.on("mousemove",this._updateAxisPointerOnMousePosition,this):t.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var o,t=this._model.coordinateSystem,i=t.viewGL,r=i.castRay(e.offsetX,e.offsetY,new ze.Ray),l=0;l<this._faces.length;l++){var h=this._faces[l];if(!h.rootNode.invisible){h.plane.normal.dot(i.camera.worldTransform.z)<0&&h.plane.normal.negate();var f=r.intersectPlane(h.plane);if(f){var m=t.getAxis(h.faceInfo[0]),_=t.getAxis(h.faceInfo[1]),S=qx[h.faceInfo[1]];m.contain(f.array[qx[h.faceInfo[0]]])&&_.contain(f.array[S])&&(o=f)}}}if(o){var M=t.pointToData(o.array,[],!0);this._updateAxisPointer(M),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,n){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var t=this._control;n.dispatchAction({type:"grid3DChangeCamera",alpha:t.getAlpha(),beta:t.getBeta(),distance:t.getDistance(),center:t.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),n=new ze.Vector3;e.update();for(var t=0;t<this._faces.length/2;t++){for(var i=[],r=0;r<2;r++)this._faces[2*t+r].rootNode.getWorldPosition(n),n.transformMat4(e.viewMatrix),i[r]=n.z;var l=i[0]>i[1]?0:1,f=this._faces[2*t+1-l];this._faces[2*t+l].rootNode.invisible=!0,f.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,n=e.getAxis("x"),t=e.getAxis("y"),i=e.getAxis("z"),r=i.getExtentMax(),o=i.getExtentMin(),l=n.getExtentMin(),h=n.getExtentMax(),f=t.getExtentMax(),m=t.getExtentMin(),_=this._axes[0].rootNode,b=this._axes[1].rootNode,S=this._axes[2].rootNode,M=this._faces,O=M[4].rootNode.invisible?m:f,I=M[2].rootNode.invisible?r:o,N=M[0].rootNode.invisible?l:h,V=M[2].rootNode.invisible?r:o,G=M[0].rootNode.invisible?h:l,X=M[4].rootNode.invisible?m:f;_.rotation.identity(),b.rotation.identity(),S.rotation.identity(),M[4].rootNode.invisible&&(this._axes[0].flipped=!0,_.rotation.rotateX(Math.PI)),M[0].rootNode.invisible&&(this._axes[1].flipped=!0,b.rotation.rotateZ(Math.PI)),M[4].rootNode.invisible&&(this._axes[2].flipped=!0,S.rotation.rotateY(Math.PI)),_.position.set(0,I,O),b.position.set(N,V,0),S.position.set(G,0,X),_.update(),b.update(),S.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),n=[new ze.Vector4,new ze.Vector4],t=new ze.Vector4;this.groupGL.getWorldPosition(t),t.w=1,t.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t.x/=t.w,t.y/=t.w,this._axes.forEach(function(i){for(var r=i.axisLineCoords,l=0;l<n.length;l++)n[l].setArray(r[l]),n[l].w=1,n[l].transformMat4(i.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n[l].x/=n[l].w,n[l].y/=n[l].w;var b,S,m=(n[1].x+n[0].x)/2,_=(n[1].y+n[0].y)/2;Math.abs((n[1].y-n[0].y)/(n[1].x-n[0].x))<.5?(b="center",S=_>t.y?"bottom":"top"):(S="middle",b=m>t.x?"left":"right"),i.setSpriteAlign(b,S,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var n=this._model.coordinateSystem,t=n.dataToPoint(e),r=this._axisPointerLineMesh.geometry,o=this._model.getModel("axisPointer"),l=this._api.getDevicePixelRatio();function h(ve){return Wi.firstNotNull(ve.model.get("axisPointer.show"),o.get("show"))}function f(ve){var Se=ve.model.getModel("axisPointer",o).getModel("lineStyle"),xe=ze.parseColor(Se.get("color")),De=e7e(Se.get("width"),1),Pe=e7e(Se.get("opacity"),1);return xe[3]*=Pe,{color:xe,lineWidth:De}}r.convertToDynamicArray(!0);for(var m=0;m<this._faces.length;m++){var _=this._faces[m];if(!_.rootNode.invisible){for(var b=_.faceInfo,S=b[3]<0?n.getAxis(b[2]).getExtentMin():n.getAxis(b[2]).getExtentMax(),M=qx[b[2]],O=0;O<2;O++){var I=b[O],N=b[1-O],V=n.getAxis(I),G=n.getAxis(N);if(h(V)){var ne=qx[I],ie=qx[N];(X=[0,0,0])[ne]=(K=[0,0,0])[ne]=t[ne],X[M]=K[M]=S,X[ie]=G.getExtentMin(),K[ie]=G.getExtentMax();var pe=f(V);r.addLine(X,K,pe.color,pe.lineWidth*l)}}if(h(n.getAxis(b[2]))){var K,X=t.slice();(K=t.slice())[M]=S,pe=f(n.getAxis(b[2])),r.addLine(X,K,pe.color,pe.lineWidth*l)}}}r.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var n=this._model,t=this._axisPointerLabelsMesh,i=this._axisPointerLabelsSurface,r=n.coordinateSystem,o=n.getModel("axisPointer");t.geometry.convertToDynamicArray(!0),i.clear();var l={x:"y",y:"x",z:"y"};this._axes.forEach(function(h,f){var m=r.getAxis(h.dim),b=m.model.getModel("axisPointer",o),S=b.getModel("label"),M=b.get("lineStyle.color");if(S.get("show")&&b.get("show")){var O=e[f],I=S.get("formatter"),N=m.scale.getLabel({value:O});if(null!=I)N=I(N,e);else if("interval"===m.scale.type||"log"===m.scale.type){var V=qoe(m.scale.getTicks()[0]);N=O.toFixed(V+2)}var G=S.get("color"),X=new yx({style:mx(S,{text:N,fill:G||M,align:"left",verticalAlign:"top"})}),K=i.add(X),ne=X.getBoundingRect(),ie=this._api.getDevicePixelRatio(),pe=h.rootNode.position.toArray();pe[qx[l[h.dim]]]+=(h.flipped?-1:1)*S.get("margin"),pe[qx[h.dim]]=m.dataToCoord(e[f]),t.geometry.addSprite(pe,[ne.width*ie,ne.height*ie],K,h.textAlign,h.textVerticalAlign)}},this),i.getZr().refreshImmediately(),t.material.set("uvScale",i.getCoordsScale()),t.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});var r3t=function(){function e(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return e.prototype.getAxis=function(n){return this._axes[n]},e.prototype.getAxes=function(){return Gi(this._dimList,function(n){return this._axes[n]},this)},e.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),tu(this.getAxes(),function(t){return t.scale.type===n})},e.prototype.addAxis=function(n){var t=n.dim;this._axes[t]=n,this._dimList.push(t)},e}();const t7e=r3t;function w$(e){t7e.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}w$.prototype={constructor:w$,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,n,t){return(n=n||[])[0]=this.getAxis("x").dataToCoord(e[0],t),n[2]=this.getAxis("y").dataToCoord(e[1],t),n[1]=this.getAxis("z").dataToCoord(e[2],t),n},pointToData:function(e,n,t){return(n=n||[])[0]=this.getAxis("x").coordToData(e[0],t),n[1]=this.getAxis("y").coordToData(e[2],t),n[2]=this.getAxis("z").coordToData(e[1],t),n}},Jre(w$,t7e);const n7e=w$;function S$(e,n,t){Lj.call(this,e,n,t)}S$.prototype={constructor:S$,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},Jre(S$,Lj);const o3t=S$;var Nle=function(){this._pool={},this._allocatedTextures=[]};Nle.prototype={constructor:Nle,get:function(e){var n=r7e(e);this._pool.hasOwnProperty(n)||(this._pool[n]=[]);var t=this._pool[n];if(!t.length){var i=new Vi(e);return this._allocatedTextures.push(i),i}return t.pop()},put:function(e){var n=r7e(e);this._pool.hasOwnProperty(n)||(this._pool[n]=[]),this._pool[n].push(e)},clear:function(e){for(var n=0;n<this._allocatedTextures.length;n++)this._allocatedTextures[n].dispose(e);this._pool={},this._allocatedTextures=[]}};var i7e={width:512,height:512,type:5121,format:6408,wrapS:33071,wrapT:33071,minFilter:9987,magFilter:9729,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},Fle=Object.keys(i7e);function r7e(e){Jl.defaultsWithPropList(e,i7e,Fle),function a3t(e){var n=function s3t(e,n){return 0==(e&e-1)&&0==(n&n-1)}(e.width,e.height);6402===e.format&&(e.useMipmap=!1),(!n||!e.useMipmap)&&(9984==e.minFilter||9986==e.minFilter?e.minFilter=9728:(9987==e.minFilter||9985==e.minFilter)&&(e.minFilter=9729)),n||(e.wrapS=33071,e.wrapT=33071)}(e);for(var n="",t=0;t<Fle.length;t++)n+=e[Fle[t]].toString();return n}const o7e=Nle;var c3=["px","nx","py","ny","pz","nz"];function Ble(e,n,t){return"alphaMap"===t?e.material.get("diffuseMap"):"alphaCutoff"===t?e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")&&e.material.get("alphaCutoff")||0:"uvRepeat"===t?e.material.get("uvRepeat"):"uvOffset"===t?e.material.get("uvOffset"):n.get(t)}function a7e(e,n){var t=e.material,i=n.material;return t.get("diffuseMap")!==i.get("diffuseMap")||(t.get("alphaCutoff")||0)!==(i.get("alphaCutoff")||0)}sn.import("@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end");var Hm=Zu.extend(function(){return{softShadow:Hm.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new nc,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new o7e}},function(){this._gaussianPassH=new Os({fragment:sn.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new Os({fragment:sn.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new Os({fragment:sn.source("clay.sm.debug_depth")})},{render:function(e,n,t,i){t||(t=n.getMainCamera()),this.trigger("beforerender",this,e,n,t),this._renderShadowPass(e,n,t,i),this.trigger("afterrender",this,e,n,t)},renderDebug:function(e,n){e.saveClear();var t=e.viewport,i=0,o=n||t.width/4,l=o;for(var h in this.softShadow===Hm.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var f=this._textures[h];e.setViewport(i,0,o*f.width/f.height,l),this._outputDepthPass.setUniform("depthMap",f),this._outputDepthPass.render(e),i+=o*f.width/f.height}e.setViewport(t),e.restoreClear()},_updateReceivers:function(e,n){if(n.receiveShadow?(this._receivers.push(n),n.material.set("shadowEnabled",1),n.material.set("pcfKernel",this.kernelPCF)):n.material.set("shadowEnabled",0),this.softShadow===Hm.VSM)n.material.define("fragment","USE_VSM"),n.material.undefine("fragment","PCF_KERNEL_SIZE");else{n.material.undefine("fragment","USE_VSM");var t=this.kernelPCF;t&&t.length?n.material.define("fragment","PCF_KERNEL_SIZE",t.length/2):n.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,n){var t=this;n.traverse(function(o){o.isRenderable()&&t._updateReceivers(e,o)});for(var i=0;i<n.lights.length;i++){var r=n.lights[i];r.castShadow&&!r.invisible&&this._lightsCastShadow.push(r)}},_renderShadowPass:function(e,n,t,i){for(var r in this._shadowMapNumber)this._shadowMapNumber[r]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var o=e.gl;if(i||n.update(),t&&t.update(),n.updateLights(),this._update(e,n),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,o.enable(o.DEPTH_TEST),o.depthMask(!0),o.disable(o.BLEND),o.clearColor(1,1,1,1);for(var S,l=[],h=[],f=[],m=[],_=[],b=[],M=0;M<this._lightsCastShadow.length;M++){var O=this._lightsCastShadow[M];if("DIRECTIONAL_LIGHT"===O.type){if(S){console.warn("Only one direectional light supported with shadow cascade");continue}if(O.shadowCascade>4){console.warn("Support at most 4 cascade");continue}O.shadowCascade>1&&(S=O),this.renderDirectionalLightShadow(e,n,t,O,_,m,f)}else"SPOT_LIGHT"===O.type?this.renderSpotLightShadow(e,n,O,h,l):"POINT_LIGHT"===O.type&&this.renderPointLightShadow(e,n,O,b);this._shadowMapNumber[O.type]++}for(var I in this._shadowMapNumber){var N=this._shadowMapNumber[I],V=I+"_SHADOWMAP_COUNT";for(M=0;M<this._receivers.length;M++)(X=this._receivers[M].material).fragmentDefines[V]!==N&&(N>0?X.define("fragment",V,N):X.isDefined("fragment",V)&&X.undefine("fragment",V))}for(M=0;M<this._receivers.length;M++){var X=this._receivers[M].material;S?X.define("fragment","SHADOW_CASCADE",S.shadowCascade):X.undefine("fragment","SHADOW_CASCADE")}var K=n.shadowUniforms;if(f.length>0){var ie=f.map(ne);if(K.directionalLightShadowMaps={value:f,type:"tv"},K.directionalLightMatrices={value:m,type:"m4v"},K.directionalLightShadowMapSizes={value:ie,type:"1fv"},S){var pe=_.slice(),ve=_.slice();pe.pop(),ve.shift(),pe.reverse(),ve.reverse(),m.reverse(),K.shadowCascadeClipsNear={value:pe,type:"1fv"},K.shadowCascadeClipsFar={value:ve,type:"1fv"}}}if(l.length>0){var ye=l.map(ne);(K=n.shadowUniforms).spotLightShadowMaps={value:l,type:"tv"},K.spotLightMatrices={value:h,type:"m4v"},K.spotLightShadowMapSizes={value:ye,type:"1fv"}}b.length>0&&(K.pointLightShadowMaps={value:b,type:"tv"})}function ne(Se){return Se.height}},renderDirectionalLightShadow:function(){var e=new yle,n=new En,t=new Qu,i=new En,r=new En,o=new En,l=new En;return function(h,f,m,_,b,S,M){var O=this._getDepthMaterial(_),I={getMaterial:function(An){return An.shadowDepthMaterial||O},isMaterialChanged:a7e,getUniform:Ble,ifRender:function(An){return An.castShadow},sortCompare:CE.opaqueSortCompare};if(!f.viewBoundingBoxLastFrame.isFinite()){var N=f.getBoundingBox();f.viewBoundingBoxLastFrame.copy(N).applyTransform(m.viewMatrix)}var V=Math.min(-f.viewBoundingBoxLastFrame.min.z,m.far),G=Math.max(-f.viewBoundingBoxLastFrame.max.z,m.near),X=this._getDirectionalLightCamera(_,f,m),K=o.array;l.copy(X.projectionMatrix),Ut.invert(r.array,X.worldTransform.array),Ut.multiply(r.array,r.array,m.worldTransform.array),Ut.multiply(K,l.array,r.array);for(var ne=[],ie=m instanceof Cl,pe=(m.near+m.far)/(m.near-m.far),ve=2*m.near*m.far/(m.near-m.far),ye=0;ye<=_.shadowCascade;ye++){var De=G*Math.pow(V/G,ye/_.shadowCascade)*_.cascadeSplitLogFactor+(G+(V-G)*ye/_.shadowCascade)*(1-_.cascadeSplitLogFactor);ne.push(De),b.push(-(-De*pe+ve)/-De)}var Pe=this._getTexture(_,_.shadowCascade);M.push(Pe);var Re=h.viewport,ke=h.gl;for(this._frameBuffer.attach(Pe),this._frameBuffer.bind(h),ke.clear(ke.COLOR_BUFFER_BIT|ke.DEPTH_BUFFER_BIT),ye=0;ye<_.shadowCascade;ye++){var Oe=ne[ye],Ye=ne[ye+1];ie?Ut.perspective(n.array,m.fov/180*Math.PI,m.aspect,Oe,Ye):Ut.ortho(n.array,m.left,m.right,m.bottom,m.top,Oe,Ye),e.setFromProjection(n),e.getTransformedBoundingBox(t,r),t.applyProjection(l);var Ge=t.min.array,ct=t.max.array;Ge[0]=Math.max(Ge[0],-1),Ge[1]=Math.max(Ge[1],-1),ct[0]=Math.min(ct[0],1),ct[1]=Math.min(ct[1],1),i.ortho(Ge[0],ct[0],Ge[1],ct[1],1,-1),X.projectionMatrix.multiplyLeft(i);var We=_.shadowResolution||512;h.setViewport((_.shadowCascade-ye-1)*We,0,We,We,1);var Tt=f.updateRenderList(X);h.renderPass(Tt.opaque,X,I),this.softShadow===Hm.VSM&&this._gaussianFilter(h,Pe,Pe.width);var Lt=new En;Lt.copy(X.viewMatrix).multiplyLeft(X.projectionMatrix),S.push(Lt.array),X.projectionMatrix.copy(l)}this._frameBuffer.unbind(h),h.setViewport(Re)}}(),renderSpotLightShadow:function(e,n,t,i,r){var o=this._getTexture(t),l=this._getSpotLightCamera(t),h=e.gl;this._frameBuffer.attach(o),this._frameBuffer.bind(e),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT);var f=this._getDepthMaterial(t),m={getMaterial:function(S){return S.shadowDepthMaterial||f},isMaterialChanged:a7e,getUniform:Ble,ifRender:function(S){return S.castShadow},sortCompare:CE.opaqueSortCompare},_=n.updateRenderList(l);e.renderPass(_.opaque,l,m),this._frameBuffer.unbind(e),this.softShadow===Hm.VSM&&this._gaussianFilter(e,o,o.width);var b=new En;b.copy(l.worldTransform).invert().multiplyLeft(l.projectionMatrix),r.push(o),i.push(b.array)},renderPointLightShadow:function(e,n,t,i){var r=this._getTexture(t),o=e.gl;i.push(r);var l=this._getDepthMaterial(t),h={getMaterial:function(G){return G.shadowDepthMaterial||l},getUniform:Ble,sortCompare:CE.opaqueSortCompare},f={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},m=new Qu,_=t.getWorldPosition().array,b=new Qu,S=t.range;b.min.setArray(_),b.max.setArray(_);var M=new $t(S,S,S);b.max.add(M),b.min.sub(M);var O={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};n.traverse(function(G){if(G.isRenderable()&&G.castShadow){var X=G.geometry;if(!X.boundingBox){for(var K=0;K<c3.length;K++)f[c3[K]].push(G);return}if(m.transformFrom(X.boundingBox,G.worldTransform),!m.intersectBoundingBox(b))return;for(m.updateVertices(),K=0;K<c3.length;K++)O[c3[K]]=!1;for(K=0;K<8;K++){var ne=m.vertices[K],ie=ne[0]-_[0],pe=ne[1]-_[1],ve=ne[2]-_[2],ye=Math.abs(ie),Se=Math.abs(pe),xe=Math.abs(ve);ye>Se?ye>xe?O[ie>0?"px":"nx"]=!0:O[ve>0?"pz":"nz"]=!0:Se>xe?O[pe>0?"py":"ny"]=!0:O[ve>0?"pz":"nz"]=!0}for(K=0;K<c3.length;K++)O[c3[K]]&&f[c3[K]].push(G)}});for(var I=0;I<6;I++){var N=c3[I],V=this._getPointLightCamera(t,N);this._frameBuffer.attach(r,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+I),this._frameBuffer.bind(e),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),e.renderPass(f[N],V,h)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var n=this._lightMaterials[e.__uid__],t="POINT_LIGHT"===e.type;if(!n){var i=t?"clay.sm.distance.":"clay.sm.depth.";n=new pp({precision:this.precision,shader:new sn(sn.source(i+"vertex"),sn.source(i+"fragment"))}),this._lightMaterials[e.__uid__]=n}return null!=e.shadowSlopeScale&&n.setUniform("slopeScale",e.shadowSlopeScale),null!=e.shadowBias&&n.setUniform("bias",e.shadowBias),this.softShadow===Hm.VSM?n.define("fragment","USE_VSM"):n.undefine("fragment","USE_VSM"),t&&(n.set("lightPosition",e.getWorldPosition().array),n.set("range",e.range)),n},_gaussianFilter:function(e,n,t){var r=this._texturePool.get({width:t,height:t,type:Rn.FLOAT});this._frameBuffer.attach(r),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",n),this._gaussianPassH.setUniform("textureWidth",t),this._gaussianPassH.render(e),this._frameBuffer.attach(n),this._gaussianPassV.setUniform("texture",r),this._gaussianPassV.setUniform("textureHeight",t),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(r)},_getTexture:function(e,n){var t=e.__uid__,i=this._textures[t],r=e.shadowResolution||512;return n=n||1,i||((i="POINT_LIGHT"===e.type?new ME:new Vi).width=r*n,i.height=r,this.softShadow===Hm.VSM?(i.type=Rn.FLOAT,i.anisotropic=4):(i.minFilter=9728,i.magFilter=9728,i.useMipmap=!1),this._textures[t]=i),i},_getPointLightCamera:function(e,n){this._lightCameras.point||(this._lightCameras.point={px:new Cl,nx:new Cl,py:new Cl,ny:new Cl,pz:new Cl,nz:new Cl});var t=this._lightCameras.point[n];switch(t.far=e.range,t.fov=90,t.position.set(0,0,0),n){case"px":t.lookAt($t.POSITIVE_X,$t.NEGATIVE_Y);break;case"nx":t.lookAt($t.NEGATIVE_X,$t.NEGATIVE_Y);break;case"py":t.lookAt($t.POSITIVE_Y,$t.POSITIVE_Z);break;case"ny":t.lookAt($t.NEGATIVE_Y,$t.NEGATIVE_Z);break;case"pz":t.lookAt($t.POSITIVE_Z,$t.NEGATIVE_Y);break;case"nz":t.lookAt($t.NEGATIVE_Z,$t.NEGATIVE_Y)}return e.getWorldPosition(t.position),t.update(),t},_getDirectionalLightCamera:function(){var e=new En,n=new Qu,t=new Qu;return function(i,r,o){this._lightCameras.directional||(this._lightCameras.directional=new dT);var l=this._lightCameras.directional;n.copy(r.viewBoundingBoxLastFrame),n.intersection(o.frustum.boundingBox),l.position.copy(n.min).add(n.max).scale(.5).transformMat4(o.worldTransform),l.rotation.copy(i.rotation),l.scale.copy(i.scale),l.updateWorldTransform(),En.invert(e,l.worldTransform),En.multiply(e,e,o.worldTransform),t.copy(n).applyTransform(e);var h=t.min.array,f=t.max.array;return l.position.set((h[0]+f[0])/2,(h[1]+f[1])/2,f[2]).transformMat4(l.worldTransform),l.near=0,l.far=-h[2]+f[2],isNaN(this.lightFrustumBias)?l.far*=4:l.far+=this.lightFrustumBias,l.left=h[0],l.right=f[0],l.top=f[1],l.bottom=h[1],l.update(!0),l}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new Cl);var n=this._lightCameras.spot;return n.fov=2*e.penumbraAngle,n.far=e.range,n.worldTransform.copy(e.worldTransform),n.updateProjectionMatrix(),Ut.invert(n.viewMatrix.array,n.worldTransform.array),n},dispose:function(e){var n=e.gl||e;for(var t in this._frameBuffer&&this._frameBuffer.dispose(n),this._textures)this._textures[t].dispose(n);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var i=0;i<this._receivers.length;i++){var r=this._receivers[i];if(r.material){var o=r.material;o.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),o.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),o.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),o.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});Hm.VSM=1,Hm.PCF=2;const c3t=Hm;var u3t=Zu.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,n){var l,h,t=this.outputs[e],i=t.parameters,r=t._parametersCopy;if(r||(r=t._parametersCopy={}),i)for(var o in i)"width"!==o&&"height"!==o&&(r[o]=i[o]);return l=i.width instanceof Function?i.width.call(this,n):i.width,h=i.height instanceof Function?i.height.call(this,n):i.height,(r.width!==l||r.height!==h)&&this._outputTextures[e]&&this._outputTextures[e].dispose(n.gl),r.width=l,r.height=h,r},setParameter:function(e,n){},getParameter:function(e){},setParameters:function(e){for(var n in e)this.setParameter(n,e[n])},render:function(){},getOutput:function(e,n){if(null==n)return this._outputTextures[n=e];var t=this.outputs[n];return t?this._rendered?t.outputLastFrame?this._prevOutputTextures[n]:this._outputTextures[n]:this._rendering?(this._prevOutputTextures[n]||(this._prevOutputTextures[n]=this._compositor.allocateTexture(t.parameters||{})),this._prevOutputTextures[n]):(this.render(e),this._outputTextures[n]):void 0},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},link:function(e,n,t){this.inputLinks[e]={node:n,pin:t},n.outputLinks[t]||(n.outputLinks[t]=[]),n.outputLinks[t].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var n in this._rendering=!0,this.inputLinks){var t=this.inputLinks[n];t.node.updateReference(t.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)this._outputReferences[e]>0&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))}});const IE=u3t;var h3t=Zu.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){"string"==typeof e&&(e=this.getNodeByName(e));var n=this.nodes.indexOf(e);n>=0&&(this.nodes.splice(n,1),this._dirty=!0)},getNodeByName:function(e){for(var n=0;n<this.nodes.length;n++)if(this.nodes[n].name===e)return this.nodes[n]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var n=this.nodes[e];if(n.inputs)for(var t in n.inputs)if(n.inputs[t]){if(n.pass&&!n.pass.material.isUniformEnabled(t)){console.warn("Pin "+n.name+"."+t+" not used.");continue}var i=n.inputs[t],r=this.findPin(i);r?n.link(t,r.node,r.pin):console.warn("string"==typeof i?"Node "+i+" not exist":"Pin of "+i.node+"."+i.pin+" not exist")}}},findPin:function(e){var n;if(("string"==typeof e||e instanceof IE)&&(e={node:e}),"string"==typeof e.node)for(var t=0;t<this.nodes.length;t++){var i=this.nodes[t];i.name===e.node&&(n=i)}else n=e.node;if(n){var r=e.pin;if(r||n.outputs&&(r=Object.keys(n.outputs)[0]),n.outputs[r])return{node:n,pin:r}}}});const s7e=h3t;var d3t=s7e.extend(function(){return{_outputs:[],_texturePool:new o7e,_frameBuffer:new nc({depthBuffer:!1})}},{addNode:function(e){s7e.prototype.addNode.call(this,e),e._compositor=this},render:function(e,n){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var t=0;t<this.nodes.length;t++)this.nodes[t].outputs||this._outputs.push(this.nodes[t])}for(t=0;t<this.nodes.length;t++)this.nodes[t].beforeFrame();for(t=0;t<this._outputs.length;t++)this._outputs[t].updateReference();for(t=0;t<this._outputs.length;t++)this._outputs[t].render(e,n);for(t=0;t<this.nodes.length;t++)this.nodes[t].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});const f3t=d3t;var p3t=IE.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new nc},{render:function(e){this._rendering=!0;var t,n=e.gl;if(this.trigger("beforerender"),this.outputs){var i=this.frameBuffer;for(var r in this.outputs){var o=this.updateParameter(r,e),l=this.outputs[r],h=this._compositor.allocateTexture(o);this._outputTextures[r]=h,"string"==typeof(f=l.attachment||n.COLOR_ATTACHMENT0)&&(f=n[f]),i.attach(h,f)}i.bind(e);var m=e.getGLExtension("EXT_draw_buffers");if(m){var _=[];for(var f in this.outputs)(f=parseInt(f))>=n.COLOR_ATTACHMENT0&&f<=n.COLOR_ATTACHMENT0+8&&_.push(f);m.drawBuffersEXT(_)}e.saveClear(),e.clearBit=16640,t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),i.unbind(e)}else t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",t),this._rendering=!1,this._rendered=!0}});const g3t=p3t,v3t=IE.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,n){return this.texture},beforeFrame:function(){},afterFrame:function(){}});var _3t=IE.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new Os({fragment:this.shader});this.pass=e},{render:function(e,n){this.trigger("beforerender",e),this._rendering=!0;var t=e.gl;for(var i in this.inputLinks){var o=(r=this.inputLinks[i]).node.getOutput(e,r.pin);this.pass.setUniform(i,o)}if(this.outputs){this.pass.outputs={};var l={};for(var h in this.outputs){var f=this.updateParameter(h,e);isNaN(f.width)&&this.updateParameter(h,e);var m=this.outputs[h],_=this._compositor.allocateTexture(f);this._outputTextures[h]=_,"string"==typeof(b=m.attachment||t.COLOR_ATTACHMENT0)&&(b=t[b]),l[b]=_}for(var b in this._compositor.getFrameBuffer().bind(e),l)this._compositor.getFrameBuffer().attach(l[b],b);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,n);for(var i in this.inputLinks){var r;(r=this.inputLinks[i]).node.removeReference(r.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,n){var l,h,t=this.outputs[e],i=t.parameters,r=t._parametersCopy;if(r||(r=t._parametersCopy={}),i)for(var o in i)"width"!==o&&"height"!==o&&(r[o]=i[o]);return l="function"==typeof i.width?i.width.call(this,n):i.width,h="function"==typeof i.height?i.height.call(this,n):i.height,l=Math.ceil(l),h=Math.ceil(h),(r.width!==l||r.height!==h)&&this._outputTextures[e]&&this._outputTextures[e].dispose(n),r.width=l,r.height=h,r},setParameter:function(e,n){this.pass.setUniform(e,n)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var n in e)this.setParameter(n,e[n])},define:function(e,n){this.pass.material.define("fragment",e,n)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},clear:function(){IE.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const y3t=_3t,l7e="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",c7e="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",u7e="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",h7e="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",d7e="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",f7e="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",p7e="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",g7e="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",m7e="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";!function S3t(e){e.import("@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"),e.import(l7e),e.import("@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"),e.import(c7e),e.import("@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"),e.import(u7e),e.import(h7e),e.import(d7e),e.import(f7e),e.import(p7e),e.import("@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"),e.import(g7e),e.import(m7e)}(sn);var T3t=/^#source\((.*?)\)/;function D3t(e,n,t){var r,o,l,b,i=e.type||"filter";if("filter"===i){var h=e.shader.trim(),f=T3t.exec(h);if(f?r=sn.source(f[1].trim()):"#"===h.charAt(0)&&(r=n.shaders[h.substr(1)]),r||(r=h),!r)return}if(e.inputs)for(var m in o={},e.inputs)o[m]="string"==typeof e.inputs[m]?e.inputs[m]:{node:e.inputs[m].node,pin:e.inputs[m].pin};if(e.outputs)for(var m in l={},e.outputs){var _=e.outputs[m];l[m]={},null!=_.attachment&&(l[m].attachment=_.attachment),null!=_.keepLastFrame&&(l[m].keepLastFrame=_.keepLastFrame),null!=_.outputLastFrame&&(l[m].outputLastFrame=_.outputLastFrame),_.parameters&&(l[m].parameters=Vle(_.parameters))}if(b="scene"===i?new g3t({name:e.name,scene:t.scene,camera:t.camera,outputs:l}):"texture"===i?new v3t({name:e.name,outputs:l}):new y3t({name:e.name,shader:r,inputs:o,outputs:l})){if(e.parameters)for(var m in e.parameters)"string"==typeof(S=e.parameters[m])?"#"===(S=S.trim()).charAt(0)?S=n.textures[S.substr(1)]:b.on("beforerender",k3t(m,v7e(S))):"function"==typeof S&&b.on("beforerender",S),b.setParameter(m,S);if(e.defines&&b.pass)for(var m in e.defines){var S;b.pass.material.define("fragment",m,S=e.defines[m])}}return b}function P3t(e,n){return e}function A3t(e,n){return n}function Vle(e){var n={};if(!e)return n;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(i){var r=e[i];null!=r&&("string"==typeof r&&(r=Rn[r]),n[i]=r)});var t=e.scale||1;return["width","height"].forEach(function(i){if(null!=e[i]){var r=e[i];"string"==typeof r?(r=r.trim(),n[i]=function O3t(e,n,t){return t=t||1,function(i){var r=i.getDevicePixelRatio(),o=i.getWidth()*t,l=i.getHeight()*t;return n(o,l,r)}}(0,v7e(r),t)):n[i]=r}}),n.width||(n.width=P3t),n.height||(n.height=A3t),null!=e.useMipmap&&(n.useMipmap=e.useMipmap),n}function k3t(e,n){return function(t){var i=t.getDevicePixelRatio(),r=t.getWidth(),o=t.getHeight(),l=n(r,o,i);this.setParameter(e,l)}}function v7e(e){var n=/^expr\((.*)\)$/.exec(e);if(n)try{var t=new Function("width","height","dpr","return "+n[1]);return t(1,1),t}catch{throw new Error("Invalid expression.")}}const mT=function I3t(e,n){for(var t=0,i=1/n,r=e;r>0;)t+=i*(r%n),r=Math.floor(r/n),i/=n;return t};function _7e(e){for(var n=new Uint8Array(e*e*4),t=0,i=new $t,r=0;r<e;r++)for(var o=0;o<e;o++)i.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),n[t++]=255*(.5*i.x+.5),n[t++]=255*(.5*i.y+.5),n[t++]=0,n[t++]=255;return n}function y7e(e){return new Vi({pixels:_7e(e),wrapS:Rn.REPEAT,wrapT:Rn.REPEAT,width:e,height:e})}function R3t(e,n,t){var i=new Float32Array(3*e);n=n||0;for(var r=0;r<e;r++){var o=mT(r+n,2)*(t?1:2)*Math.PI,l=mT(r+n,3)*Math.PI,h=Math.random(),f=Math.cos(o)*Math.sin(l)*h,m=Math.cos(l)*h,_=Math.sin(o)*Math.sin(l)*h;i[3*r]=f,i[3*r+1]=m,i[3*r+2]=_}return i}function c2(e){e=e||{},this._ssaoPass=new Os({fragment:sn.source("ecgl.ssao.estimate")}),this._blurPass=new Os({fragment:sn.source("ecgl.ssao.blur")}),this._framebuffer=new nc({depthBuffer:!1}),this._ssaoTexture=new Vi,this._blurTexture=new Vi,this._blurTexture2=new Vi,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}sn.import("@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"),c2.prototype.setDepthTexture=function(e){this._depthTex=e},c2.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},c2.prototype.update=function(e,n,t){var i=e.getWidth(),r=e.getHeight(),o=this._ssaoPass,l=this._blurPass;o.setUniform("kernel",this._kernels[t%this._kernels.length]),o.setUniform("depthTex",this._depthTex),null!=this._normalTex&&o.setUniform("normalTex",this._normalTex),o.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var h=new En;En.transpose(h,n.worldTransform),o.setUniform("projection",n.projectionMatrix.array),o.setUniform("projectionInv",n.invProjectionMatrix.array),o.setUniform("viewInverseTranspose",h.array);var f=this._ssaoTexture,m=this._blurTexture,_=this._blurTexture2;f.width=i/2,f.height=r/2,m.width=i,m.height=r,_.width=i,_.height=r,this._framebuffer.attach(f),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),o.render(e),l.setUniform("textureSize",[i/2,r/2]),l.setUniform("projection",n.projectionMatrix.array),this._framebuffer.attach(m),l.setUniform("direction",0),l.setUniform("ssaoTexture",f),l.render(e),this._framebuffer.attach(_),l.setUniform("textureSize",[i,r]),l.setUniform("direction",1),l.setUniform("ssaoTexture",m),l.render(e),this._framebuffer.unbind(e);var b=e.clearColor;e.gl.clearColor(b[0],b[1],b[2],b[3])},c2.prototype.getTargetTexture=function(){return this._blurTexture2},c2.prototype.setParameter=function(e,n){"noiseTexSize"===e?this.setNoiseSize(n):"kernelSize"===e?this.setKernelSize(n):"intensity"===e?this._ssaoPass.material.set("intensity",n):this._ssaoPass.setUniform(e,n)},c2.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var n=0;n<30;n++)this._kernels[n]=R3t(e,n*e,!!this._normalTex)},c2.prototype.setNoiseSize=function(e){var n=this._ssaoPass.getUniform("noiseTex");n?(n.data=_7e(e),n.width=n.height=e,n.dirty()):(n=y7e(e),this._ssaoPass.setUniform("noiseTex",y7e(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])},c2.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const N3t=c2;function u2(e){e=e||{},this._ssrPass=new Os({fragment:sn.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new Os({fragment:sn.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new Os({fragment:sn.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new Os({fragment:sn.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Vi({type:Rn.HALF_FLOAT}),this._texture2=new Vi({type:Rn.HALF_FLOAT}),this._texture3=new Vi({type:Rn.HALF_FLOAT}),this._prevTexture=new Vi({type:Rn.HALF_FLOAT}),this._currentTexture=new Vi({type:Rn.HALF_FLOAT}),this._frameBuffer=new nc({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}sn.import("@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"),u2.prototype.setAmbientCubemap=function(e,n){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",n),this._ssrPass.material[e&&n?"enableTexture":"disableTexture"]("specularCubemap")},u2.prototype.update=function(e,n,t,i){var r=e.getWidth(),o=e.getHeight(),l=this._ssrTexture,h=this._texture2,f=this._texture3;l.width=this._prevTexture.width=this._currentTexture.width=r/this._downScale,l.height=this._prevTexture.height=this._currentTexture.height=o/this._downScale,h.width=f.width=r,h.height=f.height=o;var m=this._frameBuffer,_=this._ssrPass,b=this._blurPass1,S=this._blurPass2,M=this._blendPass,O=new En,I=new En;if(En.transpose(O,n.worldTransform),En.transpose(I,n.viewMatrix),_.setUniform("sourceTexture",t),_.setUniform("projection",n.projectionMatrix.array),_.setUniform("projectionInv",n.invProjectionMatrix.array),_.setUniform("toViewSpace",O.array),_.setUniform("toWorldSpace",I.array),_.setUniform("nearZ",n.near),_.setUniform("jitterOffset",i/this._totalSamples*this._samplePerFrame),_.setUniform("sampleOffset",i*this._samplePerFrame),b.setUniform("textureSize",[l.width,l.height]),S.setUniform("textureSize",[r,o]),S.setUniform("sourceTexture",t),b.setUniform("projection",n.projectionMatrix.array),S.setUniform("projection",n.projectionMatrix.array),m.attach(l),m.bind(e),_.render(e),this._physicallyCorrect&&(m.attach(this._currentTexture),M.setUniform("texture1",this._prevTexture),M.setUniform("texture2",l),M.material.set({weight1:i>=1?.95:0,weight2:i>=1?.05:1}),M.render(e)),m.attach(h),b.setUniform("texture",this._physicallyCorrect?this._currentTexture:l),b.render(e),m.attach(f),S.setUniform("texture",h),S.render(e),m.unbind(e),this._physicallyCorrect){var V=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=V}},u2.prototype.getTargetTexture=function(){return this._texture3},u2.prototype.setParameter=function(e,n){"maxIteration"===e?this._ssrPass.material.define("fragment","MAX_ITERATION",n):this._ssrPass.setUniform(e,n)},u2.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=u$.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e},u2.prototype.setSSAOTexture=function(e){var n=this._blurPass2;e?(n.material.enableTexture("ssaoTex"),n.material.set("ssaoTex",e)):n.material.disableTexture("ssaoTex")},u2.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},u2.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const B3t=u2,x7e=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];function Hle(e,n,t,i,r){var o=e.gl;n.setUniform(o,"1i",t,r),o.activeTexture(o.TEXTURE0+r),i.isRenderable()?i.bind(e):i.unbind(e)}function H3t(e,n,t,i,r){var o,l,h,f,m=e.gl;return function(_,b,S){if(!f||f.material!==_.material){var M=_.material,O=_.__program,I=M.get("roughness");null==I&&(I=1);var N=M.get("normalMap")||n,V=M.get("roughnessMap"),G=M.get("bumpMap"),X=M.get("uvRepeat"),K=M.get("uvOffset"),ne=M.get("detailUvRepeat"),ie=M.get("detailUvOffset"),pe=!!G&&M.isTextureEnabled("bumpMap"),ve=!!V&&M.isTextureEnabled("roughnessMap"),ye=M.isDefined("fragment","DOUBLE_SIDED");G=G||t,V=V||i,S!==b?(b.set("normalMap",N),b.set("bumpMap",G),b.set("roughnessMap",V),b.set("useBumpMap",pe),b.set("useRoughnessMap",ve),b.set("doubleSide",ye),null!=X&&b.set("uvRepeat",X),null!=K&&b.set("uvOffset",K),null!=ne&&b.set("detailUvRepeat",ne),null!=ie&&b.set("detailUvOffset",ie),b.set("roughness",I)):(O.setUniform(m,"1f","roughness",I),o!==N&&Hle(e,O,"normalMap",N,0),l!==G&&G&&Hle(e,O,"bumpMap",G,1),h!==V&&V&&Hle(e,O,"roughnessMap",V,2),null!=X&&O.setUniform(m,"2f","uvRepeat",X),null!=K&&O.setUniform(m,"2f","uvOffset",K),null!=ne&&O.setUniform(m,"2f","detailUvRepeat",ne),null!=ie&&O.setUniform(m,"2f","detailUvOffset",ie),O.setUniform(m,"1i","useBumpMap",+pe),O.setUniform(m,"1i","useRoughnessMap",+ve),O.setUniform(m,"1i","doubleSide",+ye)),o=N,l=G,h=V,f=_}}}function vT(e){e=e||{},this._depthTex=new Vi({format:Rn.DEPTH_COMPONENT,type:Rn.UNSIGNED_INT}),this._normalTex=new Vi({type:Rn.HALF_FLOAT}),this._framebuffer=new nc,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,nc.DEPTH_ATTACHMENT),this._normalMaterial=new pp({shader:new sn(sn.source("ecgl.normal.vertex"),sn.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=Yx.createBlank("#000"),this._defaultBumpMap=Yx.createBlank("#000"),this._defaultRoughessMap=Yx.createBlank("#000"),this._debugPass=new Os({fragment:sn.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}sn.import("@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"),vT.prototype.getDepthTexture=function(){return this._depthTex},vT.prototype.getNormalTexture=function(){return this._normalTex},vT.prototype.update=function(e,n,t){var i=e.getWidth(),r=e.getHeight(),o=this._depthTex,l=this._normalTex,h=this._normalMaterial;o.width=i,o.height=r,l.width=i,l.height=r;var f=n.getRenderList(t).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(f,t,{getMaterial:function(){return h},ifRender:function(m){return m.renderNormal},beforeRender:H3t(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},vT.prototype.renderDebug=function(e){this._debugPass.render(e)},vT.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};const Y3t=vT;function LE(e){e=e||{},this._edgePass=new Os({fragment:sn.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new Vi({type:Rn.HALF_FLOAT}),this._frameBuffer=new nc,this._frameBuffer.attach(this._targetTexture)}LE.prototype.update=function(e,n,t,i){var r=e.getWidth(),o=e.getHeight(),l=this._targetTexture;l.width=r,l.height=o;var h=this._frameBuffer;h.bind(e),this._edgePass.setUniform("projectionInv",n.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[r,o]),this._edgePass.setUniform("texture",t),this._edgePass.render(e),h.unbind(e)},LE.prototype.getTargetTexture=function(){return this._targetTexture},LE.prototype.setParameter=function(e,n){this._edgePass.setUniform(e,n)},LE.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const U3t=LE,G3t={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]};function b7e(e,n){return{color:{parameters:{width:e,height:n}}}}sn.import(l7e),sn.import(c7e),sn.import(u7e),sn.import(h7e),sn.import(d7e),sn.import(f7e),sn.import(p7e),sn.import(g7e),sn.import(m7e),sn.import("@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"),sn.import("@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end");var Yle=["composite","FXAA"];function nr(){this._sourceTexture=new Vi({type:Rn.HALF_FLOAT}),this._depthTexture=new Vi({format:Rn.DEPTH_COMPONENT,type:Rn.UNSIGNED_INT}),this._framebuffer=new nc,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,nc.DEPTH_ATTACHMENT),this._normalPass=new Y3t,this._compositor=function M3t(e,n){var t=new f3t;n=n||{};var i={textures:{},parameters:{}};for(var o in e.parameters)i.parameters[o]=Vle(e.parameters[o]);return function z3t(e,n,t,i){if(e.textures){var r={},o=0,l=!1,h=t.textureRootPath;Jl.each(e.textures,function(f,m){var _,b=f.path,S=Vle(f.parameters);if(Array.isArray(b)&&6===b.length)h&&(b=b.map(function(M){return Jl.relative2absolute(M,h)})),_=new ME(S);else{if("string"!=typeof b)return;h&&(b=Jl.relative2absolute(b,h)),_=new Vi(S)}_.load(b),o++,_.once("success",function(){r[m]=_,0==--o&&(i(r),l=!0)})}),0===o&&!l&&i(r)}else i({})}(e,0,n,function(h){i.textures=h,function(h,f){for(var m=0;m<e.nodes.length;m++){var b=D3t(e.nodes[m],i,n);b&&t.addNode(b)}}()}),t}(G3t);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var n=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=n,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(i){return this._compositor.getNodeByName(i)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=Yle.map(function(i){return this._compositor.getNodeByName(i)},this);var t={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new N3t(t),this._ssrPass=new B3t(t),this._edgePass=new U3t(t)}nr.prototype.resize=function(i,r,t){r*=t=t||1;var o=this._sourceTexture,l=this._depthTexture;o.width=i*=t,o.height=r,l.width=i,l.height=r;var h={getWidth:function(){return i},getHeight:function(){return r},getDevicePixelRatio:function(){return t}};function f(m,_){if("function"==typeof m[_]){var b=m[_].__original||m[_];m[_]=function(S){return b.call(this,h)},m[_].__original=b}}this._compositor.nodes.forEach(function(m){for(var _ in m.outputs){var b=m.outputs[_].parameters;b&&(f(b,"width"),f(b,"height"))}for(var S in m.parameters)f(m.parameters,S)}),this._width=i,this._height=r,this._dpr=t},nr.prototype.getWidth=function(){return this._width},nr.prototype.getHeight=function(){return this._height},nr.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},nr.prototype._getPrevNode=function(e){for(var n=Yle.indexOf(e.name)-1,t=this._finalNodesChain[n];t&&!this._compositor.getNodeByName(t.name);)t=this._finalNodesChain[n-=1];return t},nr.prototype._getNextNode=function(e){for(var n=Yle.indexOf(e.name)+1,t=this._finalNodesChain[n];t&&!this._compositor.getNodeByName(t.name);)t=this._finalNodesChain[n+=1];return t},nr.prototype._addChainNode=function(e){var n=this._getPrevNode(e),t=this._getNextNode(e);n&&(e.inputs.texture=n.name,t?(e.outputs=b7e(this.getWidth.bind(this),this.getHeight.bind(this)),t.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},nr.prototype._removeChainNode=function(e){var n=this._getPrevNode(e),t=this._getNextNode(e);n&&(t?(n.outputs=b7e(this.getWidth.bind(this),this.getHeight.bind(this)),t.inputs.texture=n.name):n.outputs=null,this._compositor.removeNode(e))},nr.prototype.updateNormal=function(e,n,t,i){this._ifRenderNormalPass()&&this._normalPass.update(e,n,t)},nr.prototype.updateSSAO=function(e,n,t,i){this._ssaoPass.update(e,t,i)},nr.prototype.enableSSAO=function(){this._enableSSAO=!0},nr.prototype.disableSSAO=function(){this._enableSSAO=!1},nr.prototype.enableSSR=function(){this._enableSSR=!0},nr.prototype.disableSSR=function(){this._enableSSR=!1},nr.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},nr.prototype.getSourceFrameBuffer=function(){return this._framebuffer},nr.prototype.getSourceTexture=function(){return this._sourceTexture},nr.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},nr.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},nr.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},nr.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},nr.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},nr.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},nr.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},nr.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},nr.prototype.enableEdge=function(){this._enableEdge=!0},nr.prototype.disableEdge=function(){this._enableEdge=!1},nr.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)},nr.prototype.setSSAOParameter=function(e,n){switch(e){case"quality":this._ssaoPass.setParameter("kernelSize",{low:6,medium:12,high:32,ultra:62}[n]||12);break;case"radius":this._ssaoPass.setParameter(e,n),this._ssaoPass.setParameter("bias",n/200);break;case"intensity":this._ssaoPass.setParameter(e,n)}},nr.prototype.setDOFParameter=function(e,n){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,n);break;case"blurRadius":for(var t=0;t<this._dofBlurNodes.length;t++)this._dofBlurNodes[t].setParameter("blurRadius",n);break;case"quality":var i={low:4,medium:8,high:16,ultra:32}[n]||8;for(this._dofBlurKernelSize=i,t=0;t<this._dofBlurNodes.length;t++)this._dofBlurNodes[t].pass.material.define("POISSON_KERNEL_SIZE",i);this._dofBlurKernel=new Float32Array(2*i)}},nr.prototype.setSSRParameter=function(e,n){if(null!=n)switch(e){case"quality":var i={low:32,medium:16,high:8,ultra:4}[n]||16;this._ssrPass.setParameter("maxIteration",{low:10,medium:15,high:30,ultra:80}[n]||20),this._ssrPass.setParameter("pixelStride",i);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-n,1),0));break;case"physical":this.setPhysicallyCorrectSSR(n);break;default:console.warn("Unkown SSR parameter "+e)}},nr.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},nr.prototype.setEdgeColor=function(e){var n=ze.parseColor(e);this._edgePass.setParameter("edgeColor",n)},nr.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))},nr.prototype.setColorLookupTexture=function(e,n){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",n,{minFilter:ze.Texture.NEAREST,magFilter:ze.Texture.NEAREST,flipY:!1})},nr.prototype.setColorCorrection=function(e,n){this._compositeNode.setParameter(e,n)},nr.prototype.isSSREnabled=function(){return this._enableSSR},nr.prototype.composite=function(e,n,t,i,r){var o=this._sourceTexture,l=o;this._enableEdge&&(this._edgePass.update(e,t,o,r),o=l=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,t,o,r),l=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=l,this._cocNode.setParameter("depth",this._depthTexture);for(var h=this._dofBlurKernel,f=this._dofBlurKernelSize,_=r%Math.floor(x7e.length/2/f),b=0;b<2*f;b++)h[b]=x7e[b+_*f*2];for(b=0;b<this._dofBlurNodes.length;b++)this._dofBlurNodes[b].setParameter("percent",r/30),this._dofBlurNodes[b].setParameter("poissonKernel",h);this._cocNode.setParameter("zNear",t.near),this._cocNode.setParameter("zFar",t.far),this._compositor.render(e,i)},nr.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};const $3t=nr;function Ule(e){for(var n=[],t=0;t<30;t++)n.push([mT(t,2),mT(t,3)]);this._haltonSequence=n,this._frame=0,this._sourceTex=new Vi,this._sourceFb=new nc,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Vi,this._outputTex=new Vi;var i=this._blendPass=new Os({fragment:sn.source("clay.compositor.blend")});i.material.disableTexturesAll(),i.material.enableTexture(["texture1","texture2"]),this._blendFb=new nc({depthBuffer:!1}),this._outputPass=new Os({fragment:sn.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(r){r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA)}}Ule.prototype={constructor:Ule,jitterProjection:function(e,n){var t=e.viewport,i=t.devicePixelRatio||e.getDevicePixelRatio(),r=t.width*i,o=t.height*i,l=this._haltonSequence[this._frame%this._haltonSequence.length],h=new En;h.array[12]=(2*l[0]-1)/r,h.array[13]=(2*l[1]-1)/o,En.mul(n.projectionMatrix,h,n.projectionMatrix),En.invert(n.invProjectionMatrix,n.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,n){this._prevFrameTex.width=e,this._prevFrameTex.height=n,this._outputTex.width=e,this._outputTex.height=n,this._sourceTex.width=e,this._sourceTex.height=n,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,n,t){var i=this._blendPass;0===this._frame?(i.setUniform("weight1",0),i.setUniform("weight2",1)):(i.setUniform("weight1",.9),i.setUniform("weight2",.1)),i.setUniform("texture1",this._prevFrameTex),i.setUniform("texture2",n||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),i.render(e),this._blendFb.unbind(e),t||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var r=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=r,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};const X3t=Ule;function wa(e){e=e||"perspective",this.layer=null,this.scene=new l3,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new $3t,this._temporalSS=new X3t,this._shadowMapPass=new c3t;for(var n=[],t=0,i=0;i<30;i++){for(var r=[],o=0;o<6;o++)r.push(4*mT(t,2)-2),r.push(4*mT(t,3)-2),t++;n.push(r)}this._pcfKernels=n,this.scene.on("beforerender",function(l,h,f){this.needsTemporalSS()&&this._temporalSS.jitterProjection(l,f)},this)}wa.prototype.setProjection=function(e){var n=this.camera;n&&n.update(),"perspective"===e?this.camera instanceof Cl||(this.camera=new Cl,n&&this.camera.setLocalTransform(n.localTransform)):this.camera instanceof dT||(this.camera=new dT,n&&this.camera.setLocalTransform(n.localTransform)),this.camera.near=.1,this.camera.far=2e3},wa.prototype.setViewport=function(e,n,t,i,r){this.camera instanceof Cl&&(this.camera.aspect=t/i),r=r||1,this.viewport.x=e,this.viewport.y=n,this.viewport.width=t,this.viewport.height=i,this.viewport.devicePixelRatio=r,this._compositor.resize(t*r,i*r),this._temporalSS.resize(t*r,i*r)},wa.prototype.containPoint=function(e,n){var t=this.viewport;return n=this.layer.renderer.getHeight()-n,e>=t.x&&n>=t.y&&e<=t.x+t.width&&n<=t.y+t.height};var C7e=new Fd;wa.prototype.castRay=function(e,n,t){var i=this.layer.renderer,r=i.viewport;return i.viewport=this.viewport,i.screenToNDC(e,n,C7e),this.camera.castRay(C7e,t),i.viewport=r,t},wa.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var n=0;n<e.transparent.length;n++){var i=e.transparent[n].geometry;i.needsSortVerticesProgressively&&i.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),i.needsSortTrianglesProgressively&&i.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},wa.prototype.render=function(e,n){this._doRender(e,n,this._frame),this._frame++},wa.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},wa.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"===e&&(e=this._enablePostEffect),e},wa.prototype.hasDOF=function(){return this._enableDOF},wa.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},wa.prototype._doRender=function(e,n,t){var i=this.scene,r=this.camera;this._updateTransparent(e,i,r,t=t||0),n||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,i,r,!0)),this._updateShadowPCFKernel(t);var o=e.clearColor;if(e.gl.clearColor(o[0],o[1],o[2],o[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,r),this._compositor.updateNormal(e,i,r,this._temporalSS.getFrame())),this._updateSSAO(e,i,r,this._temporalSS.getFrame()),this._enablePostEffect)(l=this._compositor.getSourceFrameBuffer()).bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(i,r,!0,!0),l.unbind(e),this.needsTemporalSS()&&n?(this._compositor.composite(e,i,r,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,i,r,null,0));else if(this.needsTemporalSS()&&n){var l;(l=this._temporalSS.getSourceFrameBuffer()).bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(i,r,!0,!0),e.restoreClear(),l.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(i,r,!0,!0)},wa.prototype._updateTransparent=function(e,n,t,i){for(var r=new $t,o=new En,l=t.getWorldPosition(),h=n.getRenderList(t).transparent,f=0;f<h.length;f++){var m=h[f],_=m.geometry;En.invert(o,m.worldTransform),$t.transformMat4(r,l,o),_.needsSortTriangles&&_.needsSortTriangles()&&_.doSortTriangles(r,i),_.needsSortVertices&&_.needsSortVertices()&&_.doSortVertices(r,i)}},wa.prototype._updateSSAO=function(e,n,t){var i=this._enableSSAO&&this._enablePostEffect;i&&this._compositor.updateSSAO(e,n,t,this._temporalSS.getFrame());for(var r=n.getRenderList(t),o=0;o<r.opaque.length;o++){var l=r.opaque[o];l.renderNormal&&l.material[i?"enableTexture":"disableTexture"]("ssaoMap"),i&&l.material.set("ssaoMap",this._compositor.getSSAOTexture())}},wa.prototype._updateShadowPCFKernel=function(e){for(var n=this._pcfKernels[e%this._pcfKernels.length],i=this.scene.getRenderList(this.camera).opaque,r=0;r<i.length;r++)i[r].receiveShadow&&(i[r].material.set("pcfKernel",n),i[r].material.define("fragment","PCF_KERNEL_SIZE",n.length/2))},wa.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},wa.prototype.setPostEffect=function(e,n){var t=this._compositor;this._enablePostEffect=e.get("enable");var i=e.getModel("bloom"),r=e.getModel("edge"),o=e.getModel("DOF",e.getModel("depthOfField")),l=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),h=e.getModel("SSR",e.getModel("screenSpaceReflection")),f=e.getModel("FXAA"),m=e.getModel("colorCorrection");i.get("enable")?t.enableBloom():t.disableBloom(),o.get("enable")?t.enableDOF():t.disableDOF(),h.get("enable")?t.enableSSR():t.disableSSR(),m.get("enable")?t.enableColorCorrection():t.disableColorCorrection(),r.get("enable")?t.enableEdge():t.disableEdge(),f.get("enable")?t.enableFXAA():t.disableFXAA(),this._enableDOF=o.get("enable"),this._enableSSAO=l.get("enable"),this._enableSSAO?t.enableSSAO():t.disableSSAO(),t.setBloomIntensity(i.get("intensity")),t.setEdgeColor(r.get("color")),t.setColorLookupTexture(m.get("lookupTexture"),n),t.setExposure(m.get("exposure")),["radius","quality","intensity"].forEach(function(_){t.setSSAOParameter(_,l.get(_))}),["quality","maxRoughness","physical"].forEach(function(_){t.setSSRParameter(_,h.get(_))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(_){t.setDOFParameter(_,o.get(_))}),["brightness","contrast","saturation"].forEach(function(_){t.setColorCorrection(_,m.get(_))})},wa.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)},wa.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")},wa.prototype.isLinearSpace=function(){return this._enablePostEffect},wa.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var n=this.rootNode.children(),t=0;t<n.length;t++)e.add(n[t]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},wa.prototype.add=function(e){this.rootNode.add(e)},wa.prototype.remove=function(e){this.rootNode.remove(e)},wa.prototype.removeAll=function(e){this.rootNode.removeAll(e)},Object.assign(wa.prototype,Qse);const u3=wa;function q3t(e,n){var i=XO(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});i.y=n.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,n.getDevicePixelRatio());var r=e.get("boxWidth"),o=e.get("boxHeight"),l=e.get("boxDepth");this.getAxis("x").setExtent(-r/2,r/2),this.getAxis("y").setExtent(l/2,-l/2),this.getAxis("z").setExtent(-o/2,o/2),this.size=[r,o,l]}function Z3t(e,n){var t={};e.eachSeries(function(r){if(r.coordinateSystem===this){var o=r.getData();["x","y","z"].forEach(function(l){o.mapDimensionsAll(l,!0).forEach(function(h){!function i(r,o){t[r]=t[r]||[1/0,-1/0],t[r][0]=Math.min(o[0],t[r][0]),t[r][1]=Math.max(o[1],t[r][1])}(l,o.getDataExtent(h,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(r){e.eachComponent(r,function(o){var l=r.charAt(0),h=o.getReferringComponents("grid3D").models[0],f=h.coordinateSystem;if(f===this){var m=f.getAxis(l);if(!m){var _=$se(t[l]||[1/0,-1/0],o);(m=new o3t(l,_)).type=o.get("type"),m.onBand="category"===m.type&&o.get("boundaryGap"),m.inverse=o.get("inverse"),o.axis=m,m.model=o,m.getLabelModel=function(){return o.getModel("axisLabel",h.getModel("axisLabel"))},m.getTickModel=function(){return o.getModel("axisTick",h.getModel("axisTick"))},f.addAxis(m)}}},this)},this),this.resize(this.model,n)}var K3t={dimensions:n7e.prototype.dimensions,create:function(e,n){var t=[];e.eachComponent("grid3D",function(o){o.__viewGL=o.__viewGL||new u3;var l=new n7e;l.model=o,l.viewGL=o.__viewGL,o.coordinateSystem=l,t.push(l),l.resize=q3t,l.update=Z3t});var i=["xAxis3D","yAxis3D","zAxis3D"];return e.eachSeries(function(o){if("cartesian3D"===o.get("coordinateSystem")){if(null==(l=o.getReferringComponents("grid3D").models[0])){var h=function r(o,l){return i.map(function(h){var f=o.getReferringComponents(h).models[0];return null==f&&(f=l.getComponent(h)),f})}(o,e),l=h[0].getCoordSysModel();h.forEach(function(_){_.getCoordSysModel()})}o.coordinateSystem=l.coordinateSystem}}),t}};const Q3t=K3t;var w7e=ba.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});!function Fvt(e){ip(e,Rvt)}(w7e);const J3t=w7e;var S7e={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},eyt=ti({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},S7e),Gle=ti({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},S7e),tyt=ya({scale:!0,min:"dataMin",max:"dataMax"},Gle),T7e=ya({logBase:10},Gle);T7e.scale=!0;const nyt={categoryAxis3D:eyt,valueAxis3D:Gle,timeAxis3D:tyt,logAxis3D:T7e};var iyt=["value","category","time","log"];function oyt(e,n){return n.type||(n.data?"category":"value")}$s(function ayt(e){e.registerComponentModel(q4t),e.registerComponentView(i3t),e.registerCoordinateSystem("grid3D",Q3t),["x","y","z"].forEach(function(n){!function ryt(e,n,t,i,r){iyt.forEach(function(o){var l=t.extend({type:n+"Axis3D."+o,__ordinalMeta:null,mergeDefaultAndTheme:function(h,f){ti(h,f.getTheme().get(o+"Axis3D")),ti(h,this.getDefaultOption()),h.type=i(n,h)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Fse.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:ti(ho(nyt[o+"Axis3D"]),r||{},!0)});e.registerComponentModel(l)}),e.registerSubTypeDefaulter(n+"Axis3D",W4(i,n))}(e,n,J3t,oyt,{name:n.toUpperCase()});const t=e.ComponentView.extend({type:n+"Axis3D"});e.registerComponentView(t)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"grid3D",query:n},function(i){i.setView(n)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(n,t){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(n,t){})});const _T={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},M7e={getFilledRegions:function(e,n){var i,t=(e||[]).slice();if("string"==typeof n?i=(n=Ise(n))&&n.geoJson:n&&n.features&&(i=n),!i)return[];for(var r={},o=i.features,l=0;l<t.length;l++)r[t[l].name]=t[l];for(l=0;l<o.length;l++){var h=o[l].properties.name;r[h]||t.push({name:h})}return t},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var yT=ba.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var n=gE(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),t=new Xg(n,this);t.initData(e.regions);var i={};t.each(function(r){var o=t.getName(r),l=t.getItemModel(r);i[o]=l}),this._regionModelMap=i,this._data=t},getData:function(){return this._data},getRegionModel:function(e){var n=this.getData().getName(e);return this._regionModelMap[n]||new ju(null,this)},getRegionPolygonCoords:function(e){var n=this.getData().getName(e),t=this.coordinateSystem.getRegion(n);return t?t.geometries:[]},getFormattedLabel:function(e,n){var t=this._data.getName(e),i=this.getRegionModel(e),r=i.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);null==r&&(r=i.get(["label","formatter"]));var o={name:t};return"function"==typeof r?(o.status=n,r(o)):"string"==typeof r?r.replace("{a}",o.seriesName??""):t},defaultOption:{regions:[]}});ti(yT.prototype,M7e),ti(yT.prototype,v$),ti(yT.prototype,fT),ti(yT.prototype,pT),ti(yT.prototype,_T);const syt=yT,lyt=D7e;function D7e(e,n,t){t=t||2;var h,f,m,_,b,S,M,i=n&&n.length,r=i?n[0]*t:e.length,o=P7e(e,0,r,t,!0),l=[];if(!o)return l;if(i&&(o=function fyt(e,n,t,i){var o,l,m,r=[];for(o=0,l=n.length;o<l;o++)(m=P7e(e,n[o]*i,o<l-1?n[o+1]*i:e.length,i,!1))===m.next&&(m.steiner=!0),r.push(yyt(m));for(r.sort(pyt),o=0;o<r.length;o++)gyt(r[o],t),t=RE(t,t.next);return t}(e,n,o,t)),e.length>80*t){h=m=e[0],f=_=e[1];for(var O=t;O<r;O+=t)(b=e[O])<h&&(h=b),(S=e[O+1])<f&&(f=S),b>m&&(m=b),S>_&&(_=S);M=Math.max(m-h,_-f)}return NE(o,l,t,h,f,M),l}function P7e(e,n,t,i,r){var o,l;if(r===$le(e,n,t,i)>0)for(o=n;o<t;o+=i)l=k7e(o,e[o],e[o+1],l);else for(o=t-i;o>=n;o-=i)l=k7e(o,e[o],e[o+1],l);return l&&Zx(l,l.next)&&(BE(l),l=l.next),l}function RE(e,n){if(!e)return e;n||(n=e);var i,t=e;do{if(i=!1,t.steiner||!Zx(t,t.next)&&0!==th(t.prev,t,t.next))t=t.next;else{if(BE(t),(t=n=t.prev)===t.next)return null;i=!0}}while(i||t!==n);return n}function NE(e,n,t,i,r,o,l){if(e){!l&&o&&function vyt(e,n,t,i){var r=e;do{null===r.z&&(r.z=Wle(r.x,r.y,n,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function _yt(e){var n,t,i,r,o,l,h,f,m=1;do{for(t=e,e=null,o=null,l=0;t;){for(l++,i=t,h=0,n=0;n<m&&(h++,i=i.nextZ);n++);for(f=m;h>0||f>0&&i;)0!==h&&(0===f||!i||t.z<=i.z)?(r=t,t=t.nextZ,h--):(r=i,i=i.nextZ,f--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;t=i}o.nextZ=null,m*=2}while(l>1)}(r)}(e,i,r,o);for(var f,m,h=e;e.prev!==e.next;)if(f=e.prev,m=e.next,o?uyt(e,i,r,o):cyt(e))n.push(f.i/t),n.push(e.i/t),n.push(m.i/t),BE(e),e=m.next,h=m.next;else if((e=m)===h){l?1===l?NE(e=hyt(e,n,t),n,t,i,r,o,2):2===l&&dyt(e,n,t,i,r,o):NE(RE(e),n,t,i,r,o,1);break}}}function cyt(e){var n=e.prev,t=e,i=e.next;if(th(n,t,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(T$(n.x,n.y,t.x,t.y,i.x,i.y,r.x,r.y)&&th(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function uyt(e,n,t,i){var r=e.prev,o=e,l=e.next;if(th(r,o,l)>=0)return!1;for(var m=r.x>o.x?r.x>l.x?r.x:l.x:o.x>l.x?o.x:l.x,_=r.y>o.y?r.y>l.y?r.y:l.y:o.y>l.y?o.y:l.y,b=Wle(r.x<o.x?r.x<l.x?r.x:l.x:o.x<l.x?o.x:l.x,r.y<o.y?r.y<l.y?r.y:l.y:o.y<l.y?o.y:l.y,n,t,i),S=Wle(m,_,n,t,i),M=e.nextZ;M&&M.z<=S;){if(M!==e.prev&&M!==e.next&&T$(r.x,r.y,o.x,o.y,l.x,l.y,M.x,M.y)&&th(M.prev,M,M.next)>=0)return!1;M=M.nextZ}for(M=e.prevZ;M&&M.z>=b;){if(M!==e.prev&&M!==e.next&&T$(r.x,r.y,o.x,o.y,l.x,l.y,M.x,M.y)&&th(M.prev,M,M.next)>=0)return!1;M=M.prevZ}return!0}function hyt(e,n,t){var i=e;do{var r=i.prev,o=i.next.next;!Zx(r,o)&&A7e(r,i,i.next,o)&&FE(r,o)&&FE(o,r)&&(n.push(r.i/t),n.push(i.i/t),n.push(o.i/t),BE(i),BE(i.next),i=e=o),i=i.next}while(i!==e);return i}function dyt(e,n,t,i,r,o){var l=e;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&xyt(l,h)){var f=z7e(l,h);return l=RE(l,l.next),f=RE(f,f.next),NE(l,n,t,i,r,o),void NE(f,n,t,i,r,o)}h=h.next}l=l.next}while(l!==e)}function pyt(e,n){return e.x-n.x}function gyt(e,n){if(n=function myt(e,n){var l,t=n,i=e.x,r=e.y,o=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){var h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=i&&h>o){if(o=h,h===i){if(r===t.y)return t;if(r===t.next.y)return t.next}l=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!l)return null;if(i===o)return l.prev;var S,f=l,m=l.x,_=l.y,b=1/0;for(t=l.next;t!==f;)i>=t.x&&t.x>=m&&i!==t.x&&T$(r<_?i:o,r,m,_,r<_?o:i,r,t.x,t.y)&&((S=Math.abs(r-t.y)/(i-t.x))<b||S===b&&t.x>l.x)&&FE(t,e)&&(l=t,b=S),t=t.next;return l}(e,n),n){var t=z7e(n,e);RE(t,t.next)}}function Wle(e,n,t,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)/r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-i)/r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function yyt(e){var n=e,t=e;do{n.x<t.x&&(t=n),n=n.next}while(n!==e);return t}function T$(e,n,t,i,r,o,l,h){return(r-l)*(n-h)-(e-l)*(o-h)>=0&&(e-l)*(i-h)-(t-l)*(n-h)>=0&&(t-l)*(o-h)-(r-l)*(i-h)>=0}function xyt(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function byt(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&A7e(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&FE(e,n)&&FE(n,e)&&function Cyt(e,n){var t=e,i=!1,r=(e.x+n.x)/2,o=(e.y+n.y)/2;do{t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!==e);return i}(e,n)}function th(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function Zx(e,n){return e.x===n.x&&e.y===n.y}function A7e(e,n,t,i){return!!(Zx(e,n)&&Zx(t,i)||Zx(e,i)&&Zx(t,n))||th(e,n,t)>0!=th(e,n,i)>0&&th(t,i,e)>0!=th(t,i,n)>0}function FE(e,n){return th(e.prev,e,e.next)<0?th(e,n,e.next)>=0&&th(e,e.prev,n)>=0:th(e,n,e.prev)<0||th(e,e.next,n)<0}function z7e(e,n){var t=new jle(e.i,e.x,e.y),i=new jle(n.i,n.x,n.y),r=e.next,o=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,i.next=t,t.prev=i,o.next=i,i.prev=o,i}function k7e(e,n,t,i){var r=new jle(e,n,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function BE(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function jle(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $le(e,n,t,i){for(var r=0,o=n,l=t-i;o<t;o+=i)r+=(e[l]-e[o])*(e[o+1]+e[l+1]),l=o;return r}function Xle(e,n,t){var i=e[n];e[n]=e[t],e[t]=i}function O7e(e,n,t,i,r){var o=t,l=e[n];Xle(e,n,i);for(var h=t;h<i;h++)r(e[h],l)<0&&(Xle(e,h,o),o++);return Xle(e,i,o),o}function M$(e,n,t,i){if(t<i){var o=O7e(e,Math.floor((t+i)/2),t,i,n);M$(e,n,t,o-1),M$(e,n,o+1,i)}}function qle(){this._parts=[]}D7e.deviation=function(e,n,t,i){var r=n&&n.length,l=Math.abs($le(e,0,r?n[0]*t:e.length,t));if(r)for(var h=0,f=n.length;h<f;h++)l-=Math.abs($le(e,n[h]*t,h<f-1?n[h+1]*t:e.length,t));var b=0;for(h=0;h<i.length;h+=3){var S=i[h]*t,M=i[h+1]*t,O=i[h+2]*t;b+=Math.abs((e[S]-e[O])*(e[M+1]-e[S+1])-(e[S]-e[M])*(e[O+1]-e[S+1]))}return 0===l&&0===b?0:Math.abs((b-l)/l)},qle.prototype.step=function(e,n,t){var i=e.length;if(0===t){this._parts=[],this._sorted=!1;var r=Math.floor(i/2);this._parts.push({pivot:r,left:0,right:i-1}),this._currentSortPartIdx=0}if(!this._sorted){var o=this._parts;if(0===o.length)return this._sorted=!0,!0;if(o.length<512){for(var l=0;l<o.length;l++)o[l].pivot=O7e(e,o[l].pivot,o[l].left,o[l].right,n);var h=[];for(l=0;l<o.length;l++){var f,m;(m=o[l].pivot-1)>(f=o[l].left)&&h.push({pivot:Math.floor((m+f)/2),left:f,right:m}),(m=o[l].right)>(f=o[l].pivot+1)&&h.push({pivot:Math.floor((m+f)/2),left:f,right:m})}o=this._parts=h}else for(l=0;l<Math.floor(o.length/10);l++){var _=o.length-1-this._currentSortPartIdx;if(M$(e,n,o[_].left,o[_].right),this._currentSortPartIdx++,this._currentSortPartIdx===o.length)return this._sorted=!0,!0}return!1}},qle.sort=M$;const D$=qle;var xT=fs.vec3,E7e=xT.create(),I7e=xT.create(),L7e=xT.create();const Zle={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,n){var t=this.indices;if(0===n){var i=this.attributes.position;e=e.array,(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new t.constructor(t.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var o,r=0,l=0;l<t.length;){i.get(t[l++],E7e),i.get(t[l++],I7e),i.get(t[l++],L7e);var h=xT.sqrDist(E7e,e),f=xT.sqrDist(I7e,e),m=xT.sqrDist(L7e,e),_=Math.min(h,f);_=Math.min(_,m),3===l?(o=_,_=0):_-=o,this._triangleZList[r++]=_}}var b=this._sortedTriangleIndices;for(l=0;l<b.length;l++)b[l]=l;if(this.triangleCount<2e4)0===n&&this._simpleSort(!0);else for(l=0;l<3;l++)this._progressiveQuickSort(3*n+l);var S=this._indicesTmp,M=this._triangleZListTmp,O=this._triangleZList;for(l=0;l<this.triangleCount;l++){var I=3*b[l],N=3*l;S[N++]=t[I++],S[N++]=t[I++],S[N]=t[I],M[l]=O[b[l]]}var V=this._indicesTmp;this._indicesTmp=this.indices,this.indices=V,V=this._triangleZListTmp,this._triangleZListTmp=this._triangleZList,this._triangleZList=V,this.dirtyIndices()},_simpleSort:function(e){var n=this._triangleZList,t=this._sortedTriangleIndices;function i(r,o){return n[o]-n[r]}e?Array.prototype.sort.call(t,i):D$.sort(t,i,0,t.length-1)},_progressiveQuickSort:function(e){var n=this._triangleZList,t=this._sortedTriangleIndices;this._quickSort=this._quickSort||new D$,this._quickSort.step(t,function(i,r){return n[r]-n[i]},e)}};function wl(e,n){const t=e.getItemVisual(n,"style");if(t)return t[e.getVisual("drawType")]}function Sl(e,n){const t=e.getItemVisual(n,"style");return t&&t.opacity}function Kx(e,n,t){this._labelsMesh=new Ile,this._labelTextureSurface=new kle({width:512,height:512,devicePixelRatio:t.getDevicePixelRatio(),onupdate:function(){t.getZr().refresh()}}),this._api=t,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}Kx.prototype.getLabelPosition=function(e,n,t){return[0,0,0]},Kx.prototype.getLabelDistance=function(e,n,t){return 0},Kx.prototype.getMesh=function(){return this._labelsMesh},Kx.prototype.updateData=function(e,n,t){null==n&&(n=0),null==t&&(t=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==t-n)&&(this._labelsVisibilitiesBits=new Uint8Array(t-n));for(var i=["label","show"],r=["emphasis","label","show"],o=n;o<t;o++){var l=e.getItemModel(o),h=l.get(i),f=l.get(r);null==f&&(f=h),this._labelsVisibilitiesBits[o-n]=(h?1:0)|(f?2:0)}this._start=n,this._end=t,this._data=e},Kx.prototype.updateLabels=function(e){if(this._data){for(var n=(e=e||[]).length>0,t={},i=0;i<e.length;i++)t[e[i]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var r=["label"],o=["emphasis","label"],l=this._data.hostModel,h=this._data,f=l.getModel(r),m=l.getModel(o,f),_={left:"right",right:"left",top:"center",bottom:"center"},b={left:"middle",right:"middle",top:"bottom",bottom:"top"},S=this._start;S<this._end;S++){var M=!1;if(n&&t[S]&&(M=!0),this._labelsVisibilitiesBits[S-this._start]&(M?2:1)){var N=h.getItemModel(S).getModel(M?o:r,M?m:f),V=N.get("distance")||0,G=N.get("position"),X=this._api.getDevicePixelRatio(),K=l.getFormattedLabel(S,M?"emphasis":"normal");if(null==K||""===K)return;var ne=new yx({style:mx(N,{text:K,fill:N.get("color")||wl(h,S)||"#000",align:"left",verticalAlign:"top",opacity:Wi.firstNotNull(N.get("opacity"),Sl(h,S),1)})}),ie=ne.getBoundingRect();ie.height*=1.2;var ve=this._labelTextureSurface.add(ne),ye=_[G]||"center",Se=b[G]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(S,G,V),[ie.width*X,ie.height*X],ve,ye,Se,this.getLabelDistance(S,G,V)*X)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},Kx.prototype.dispose=function(){this._labelTextureSurface.dispose()};const Kle=Kx;var Zh=fs.vec3;function Qle(e){this.rootNode=new ze.Node,this._triangulationResults={},this._shadersMap=ze.COMMON_SHADERS.filter(function(t){return"shadow"!==t}).reduce(function(t,i){return t[i]=ze.createShader("ecgl."+i),t},{}),this._linesShader=ze.createShader("ecgl.meshLines3D");var n={};ze.COMMON_SHADERS.forEach(function(t){n[t]=new ze.Material({shader:ze.createShader("ecgl."+t)})}),this._groundMaterials=n,this._groundMesh=new ze.Mesh({geometry:new ze.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new Kle(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}ze.Shader.import(C$),Qle.prototype={constructor:Qle,extrudeY:!0,update:function(e,n,t,i,r){var o=e.getData();null==i&&(i=0),null==r&&(r=o.count()),this._startIndex=i,this._endIndex=r-1,this._triangulation(e,i,r);var l=this._getShader(e.get("shading"));this._prepareMesh(e,l,t,i,r),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,t,i,r);var h=e.coordinateSystem;"geo3D"===h.type&&this._updateGroundPlane(e,h,t);var f=this;this._labelsBuilder.updateData(o,i,r),this._labelsBuilder.getLabelPosition=function(m,_,b){var S=o.getName(m),O=b;if("geo3D"===h.type){var I=h.getRegion(S);return I?(M=I.getCenter(),h.dataToPoint([M[0],M[1],O])):[NaN,NaN,NaN]}var V=f._triangulationResults[m-f._startIndex],M=f.extrudeY?[(V.max[0]+V.min[0])/2,V.max[1]+O,(V.max[2]+V.min[2])/2]:[(V.max[0]+V.min[0])/2,(V.max[1]+V.min[1])/2,V.max[2]+O]},this._data=o,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this,t=function n(){var r=new ze.Mesh({name:"Polygon",material:new ze.Material({shader:e._shadersMap.lambert}),geometry:new ze.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(r.geometry,Zle),r}(),i=new ze.Mesh({material:new ze.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Wx({useNativeLine:!1})});this.rootNode.add(t),this.rootNode.add(i),t.material.define("both","VERTEX_COLOR"),t.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=t,this._linesMesh=i,this.rootNode.add(this._groundMesh)},_getShader:function(e){var n=this._shadersMap[e];return n||(n=this._shadersMap.lambert),n.__shading=e,n},_prepareMesh:function(e,n,t,i,r){for(var o=0,l=0,h=0,f=0,m=i;m<r;m++){var _=this._getRegionPolygonInfo(m),b=this._getRegionLinesInfo(m,e,this._linesMesh.geometry);o+=_.vertexCount,l+=_.triangleCount,h+=b.vertexCount,f+=b.triangleCount}var S=this._polygonMesh,M=S.geometry;["position","normal","texcoord0","color"].forEach(function(O){M.attributes[O].init(o)}),M.indices=o>65535?new Uint32Array(3*l):new Uint16Array(3*l),S.material.shader!==n&&S.material.attachShader(n,!0),ze.setMaterialFromModel(n.__shading,S.material,e,t),h>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(h),this._linesMesh.geometry.setTriangleCount(f)),this._dataIndexOfVertex=new Uint32Array(o),this._vertexRangeOfDataIndex=new Uint32Array(2*(r-i))},_updateRegionMesh:function(e,n,t,i){for(var r=e.getData(),o=0,l=0,h=!1,ie=this._polygonMesh,f=this._linesMesh,m=t;m<i;m++){var _=e.getRegionModel(m),b=_.getModel("itemStyle"),S=Wi.firstNotNull(wl(r,m),b.get("color"),"#fff"),M=Wi.firstNotNull(Sl(r,m),1),O=ze.parseColor(S),I=ze.parseColor(b.get("borderColor"));O[3]*=M,I[3]*=M;var N=O[3]<.99;ie.material.set("color",[1,1,1,1]),h=h||N;for(var V=Wi.firstNotNull(_.get("height",!0),e.get("regionHeight")),G=this._updatePolygonGeometry(e,ie.geometry,m,V,o,l,O),X=o;X<G.vertexOffset;X++)this._dataIndexOfVertex[X]=m;this._vertexRangeOfDataIndex[2*(m-t)]=o,this._vertexRangeOfDataIndex[2*(m-t)+1]=G.vertexOffset,o=G.vertexOffset,l=G.triangleOffset;var K=b.get("borderWidth"),ne=K>0;ne&&(K*=n.getDevicePixelRatio(),this._updateLinesGeometry(f.geometry,e,m,V,K,e.coordinateSystem.transform)),f.invisible=!ne,f.material.set({color:I})}(ie=this._polygonMesh).material.transparent=h,ie.material.depthMask=!h,ie.geometry.updateBoundingBox(),ie.frontFace=this.extrudeY?ze.Mesh.CCW:ze.Mesh.CW,ie.material.get("normalMap")&&ie.geometry.generateTangents(),ie.seriesIndex=e.seriesIndex,ie.on("mousemove",this._onmousemove,this),ie.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var n=e.getModel("debug.wireframe");if(n.get("show")){var t=ze.parseColor(n.get("lineStyle.color")||"rgba(0,0,0,0.5)"),i=Wi.firstNotNull(n.get("lineStyle.width"),1),r=this._polygonMesh;r.geometry.generateBarycentric(),r.material.define("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",t),r.material.set("wireframeLineWidth",i)}},_onmousemove:function(e){var n=this._dataIndexOfVertex[e.triangle[0]];null==n&&(n=-1),n!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(n),this._labelsBuilder.updateLabels([n])),this._lastHoverDataIndex=n,this._polygonMesh.dataIndex=n},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,n,t){var i=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!i.get("show",!0),!this._groundMesh.invisible){var r=e.get("shading"),o=this._groundMaterials[r];o||(o=this._groundMaterials.lambert),ze.setMaterialFromModel(r,o,i,t),o.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=o,this._groundMesh.material.set("color",ze.parseColor(i.get("color"))),this._groundMesh.scale.set(n.size[0],n.size[2],1)}},_triangulation:function(e,n,t){this._triangulationResults=[];for(var i=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0],o=e.coordinateSystem,l=n;l<t;l++){for(var h=[],f=e.getRegionPolygonCoords(l),m=0;m<f.length;m++){var _=f[m].exterior,b=f[m].interiors,S=[],M=[];if(!(_.length<3)){for(var O=0,I=0;I<_.length;I++)S[O++]=(N=_[I])[0],S[O++]=N[1];for(I=0;I<b.length;I++)if(!(b[I].length<3)){for(var V=S.length/2,G=0;G<b[I].length;G++){var N;S.push((N=b[I][G])[0]),S.push(N[1])}M.push(V)}var X=lyt(S,M),K=new Float64Array(S.length/2*3),ne=[],ie=[1/0,1/0,1/0],pe=[-1/0,-1/0,-1/0],ve=0;for(I=0;I<S.length;)Zh.set(ne,S[I++],0,S[I++]),o&&o.transform&&Zh.transformMat4(ne,ne,o.transform),Zh.min(ie,ie,ne),Zh.max(pe,pe,ne),K[ve++]=ne[0],K[ve++]=ne[1],K[ve++]=ne[2];Zh.min(i,i,ie),Zh.max(r,r,pe),h.push({points:K,indices:X,min:ie,max:pe})}}this._triangulationResults.push(h)}this._geoBoundingBox=[i,r]},_getRegionPolygonInfo:function(e){for(var n=this._triangulationResults[e-this._startIndex],t=0,i=0,r=0;r<n.length;r++)t+=n[r].points.length/3,i+=n[r].indices.length/3;return{vertexCount:2*t+4*t,triangleCount:2*i+2*t}},_updatePolygonGeometry:function(e,n,t,i,r,o,l){var h=e.get("projectUVOnGround"),f=n.attributes.position,m=n.attributes.normal,_=n.attributes.texcoord0,b=n.attributes.color,S=this._triangulationResults[t-this._startIndex],M=b.value&&l,O=n.indices,I=this.extrudeY?1:2,N=this.extrudeY?2:1,V=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],G=Zh.mul([],this._geoBoundingBox[0],V),X=Zh.mul([],this._geoBoundingBox[1],V),K=Math.max(X[0]-G[0],X[2]-G[2]);function ie(Nn,ht,Yt){var gn=r;!function ne(Nn,ht,Yt){for(var gn=Nn.points,Mt=gn.length,Jn=[],Hn=[],ir=0;ir<Mt;ir+=3)Jn[0]=gn[ir],Jn[I]=ht,Jn[N]=gn[ir+2],Hn[0]=(gn[ir]*V[0]-G[0])/K,Hn[1]=(gn[ir+2]*V[N]-G[2])/K,f.set(r,Jn),M&&b.set(r,l),_.set(r++,Hn)}(Nn,ht);for(var Mt=Nn.indices.length,Jn=0;Jn<Mt;Jn++)O[3*o+Jn]=Nn.indices[Jn]+gn;o+=Nn.indices.length/3}for(var pe=this.extrudeY?[0,1,0]:[0,0,1],ve=Zh.negate([],pe),ye=0;ye<S.length;ye++){var Se=r,xe=S[ye];ie(xe,0),ie(xe,i);for(var De=xe.points.length/3,Pe=0;Pe<De;Pe++)m.set(Se+Pe,ve),m.set(Se+Pe+De,pe);var Re=[0,3,1,1,3,2],ke=[[],[],[],[]],Oe=[],Ye=[],Ge=[],ct=[],We=0;for(Pe=0;Pe<De;Pe++){for(var Tt=(Pe+1)%De,Lt=(xe.points[3*Tt]-xe.points[3*Pe])*V[0],An=(xe.points[3*Tt+2]-xe.points[3*Pe+2])*V[N],Qt=Math.sqrt(Lt*Lt+An*An),zn=0;zn<4;zn++){var Ar=0===zn||3===zn,vn=3*(Ar?Pe:Tt);ke[zn][0]=xe.points[vn],ke[zn][I]=zn>1?i:0,ke[zn][N]=xe.points[vn+2],f.set(r+zn,ke[zn]),h?(ct[0]=(xe.points[vn]*V[0]-G[0])/K,ct[1]=(xe.points[vn+2]*V[N]-G[N])/K):(ct[0]=(Ar?We:We+Qt)/K,ct[1]=(ke[zn][I]*V[I]-G[I])/K),_.set(r+zn,ct)}for(Zh.sub(Oe,ke[1],ke[0]),Zh.sub(Ye,ke[3],ke[0]),Zh.cross(Ge,Oe,Ye),Zh.normalize(Ge,Ge),zn=0;zn<4;zn++)m.set(r+zn,Ge),M&&b.set(r+zn,l);for(zn=0;zn<6;zn++)O[3*o+zn]=Re[zn]+r;r+=4,o+=2,We+=Qt}}return n.dirty(),{vertexOffset:r,triangleOffset:o}},_getRegionLinesInfo:function(e,n,t){var i=0,r=0;return n.getRegionModel(e).getModel("itemStyle").get("borderWidth")>0&&n.getRegionPolygonCoords(e).forEach(function(m){var _=m.exterior,b=m.interiors;i+=t.getPolylineVertexCount(_),r+=t.getPolylineTriangleCount(_);for(var S=0;S<b.length;S++)i+=t.getPolylineVertexCount(b[S]),r+=t.getPolylineTriangleCount(b[S])},this),{vertexCount:i,triangleCount:r}},_updateLinesGeometry:function(e,n,t,i,r,o){function l(m){for(var _=new Float64Array(3*m.length),b=0,S=[],M=0;M<m.length;M++)S[0]=m[M][0],S[1]=i+.1,S[2]=m[M][1],o&&Zh.transformMat4(S,S,o),_[b++]=S[0],_[b++]=S[1],_[b++]=S[2];return _}var h=[1,1,1,1];n.getRegionPolygonCoords(t).forEach(function(m){var b=m.interiors;e.addPolyline(l(m.exterior),h,r);for(var S=0;S<b.length;S++)e.addPolyline(l(b[S]),h,r)})},highlight:function(e){var n=this._data;if(n){var i=n.getItemModel(e).getModel(["emphasis","itemStyle"]),r=i.get("color"),o=Wi.firstNotNull(i.get("opacity"),Sl(n,e),1);null==r&&(r=QG(wl(n,e),-.4)),null==o&&(o=Sl(n,e));var h=ze.parseColor(r);h[3]*=o,this._setColorOfDataIndex(n,e,h)}},downplay:function(e){var n=this._data;if(n){var t=Wi.firstNotNull(wl(n,e),n.getItemModel(e).get(["itemStyle","color"]),"#fff"),i=Wi.firstNotNull(Sl(n,e),1),r=ze.parseColor(t);r[3]*=i,this._setColorOfDataIndex(n,e,r)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,n,t){if(!(n<this._startIndex&&n>this._endIndex)){for(var i=this._vertexRangeOfDataIndex[2*(n-=this._startIndex)];i<this._vertexRangeOfDataIndex[2*n+1];i++)this._polygonMesh.geometry.attributes.color.set(i,t);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const P$=Qle,Tyt=r2.extend({type:"geo3D",__ecgl__:!0,init:function(e,n){this._geo3DBuilder=new P$(n),this.groupGL=new ze.Node,this._lightRoot=new ze.Node,this._sceneHelper=new gT(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new y$({zr:n.getZr()}),this._control.init()},render:function(e,n,t){this.groupGL.add(this._geo3DBuilder.rootNode);var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this._lightRoot),e.get("show")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL);var r=this._control;r.setViewGL(i.viewGL);var o=e.getModel("viewControl");r.setFromViewControlModel(o,0),this._sceneHelper.setScene(i.viewGL.scene),this._sceneHelper.updateLight(e),i.viewGL.setPostEffect(e.getModel("postEffect"),t),i.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,n,t,0,e.getData().count());var l=i.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(h){h.material&&h.material[l]("fragment","SRGB_DECODE")}),r.off("update"),r.on("update",function(){t.dispatchAction({type:"geo3DChangeCamera",alpha:r.getAlpha(),beta:r.getBeta(),distance:r.getDistance(),center:r.getCenter(),from:this.uid,geo3DId:e.id})}),r.update()}},afterRender:function(e,n,t,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,e,t),this._sceneHelper.updateSkybox(r,e,t)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var Myt=fs.vec3,bT=fs.mat4,Dyt=[S5e,T5e];function Jle(e,n,t,i,r){this.name=e,this.map=n,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(t,i,r),this.transform=bT.identity(new Float64Array(16)),this.invTransform=bT.identity(new Float64Array(16)),this.extrudeY=!0}Jle.prototype={constructor:Jle,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,n,t){var i=mse||mse;try{this.regions=e?i(e):[]}catch(m){throw"Invalid geoJson format\n"+m}n=n||{},t=t||{};for(var r=this.regions,o={},l=0;l<r.length;l++){var h=r[l].name;r[l].name=h=t[h]||h,o[h]=r[l],this.addGeoCoord(h,r[l].getCenter());var f=n[h];f&&r[l].transformTo(f.left,f.top,f.width,f.height)}this._regionsMap=o,this._geoRect=null,Dyt.forEach(function(m){m(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,n=this.regions,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return this._geoRect=e||new fo(0,0,0,0)},addGeoCoord:function(e,n){this._nameCoordMap[e]=n},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var n=this.regions,t=0;t<n.length;t++)if(n[t].contain(e))return n[t]},setSize:function(e,n,t){this.size=[e,n,t];var i=this.getGeoBoundingRect(),r=e/i.width,o=-t/i.height,l=-e/2-i.x*r,h=t/2-i.y*o,f=this.extrudeY?[l,0,h]:[l,h,0],m=this.extrudeY?[r,1,o]:[r,o,1],_=this.transform;bT.identity(_),bT.translate(_,_,f),bT.scale(_,_,m),bT.invert(this.invTransform,_)},dataToPoint:function(e,n){n=n||[];var t=this.extrudeY?1:2,i=this.extrudeY?2:1,r=e[2];return isNaN(r)&&(r=0),n[0]=e[0],n[i]=e[1],n[t]=this.altitudeAxis?this.altitudeAxis.dataToCoord(r):0,n[t]+=this.regionHeight,Myt.transformMat4(n,n,this.transform),n},pointToData:function(e,n){}};const F7e=Jle;function Pyt(e,n){var i=XO(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});i.y=n.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,n.getDevicePixelRatio());var r=this.getGeoBoundingRect(),o=r.width/r.height*(e.get("aspectScale")||.75),l=e.get("boxWidth"),h=e.get("boxDepth"),f=e.get("boxHeight");null==f&&(f=5),isNaN(l)&&isNaN(h)&&(l=100),isNaN(h)?h=l/o:isNaN(l)&&(l=h/o),this.setSize(l,f,h),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(f-this.regionHeight,0))}function Ayt(e,n){var t=[1/0,-1/0];if(e.eachSeries(function(r){if(r.coordinateSystem===this&&"series.map3D"!==r.type){var o=r.getData(),l=r.coordDimToDataDim("alt"),h=l&&l[0];if(h){var f=o.getDataExtent(h,!0);t[0]=Math.min(t[0],f[0]),t[1]=Math.max(t[1],f[1])}}},this),t&&isFinite(t[1]-t[0])){var i=$se(t,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new Lj("altitude",i),this.resize(this.model,n)}}var B7e=0,V7e={dimensions:F7e.prototype.dimensions,create:function(e,n){var t=[];if(!Ise)throw new Error("geo3D component depends on geo component");function i(r,o){var l=V7e.createGeo3D(r);r.__viewGL=r.__viewGL||new u3,l.viewGL=r.__viewGL,r.coordinateSystem=l,l.model=r,t.push(l),l.resize=Pyt,l.resize(r,n),l.update=Ayt}return e.eachComponent("geo3D",function(r,o){i(r)}),e.eachSeriesByType("map3D",function(r,o){var l=r.get("coordinateSystem");null==l&&(l="geo3D"),"geo3D"===l&&i(r)}),e.eachSeries(function(r){if("geo3D"===r.get("coordinateSystem")){if("series.map3D"===r.type)return;var o=r.getReferringComponents("geo3D").models[0];if(o||(o=e.getComponent("geo3D")),!o)throw new Error('geo "'+Wi.firstNotNull(r.get("geo3DIndex"),r.get("geo3DId"),0)+'" not found');r.coordinateSystem=o.coordinateSystem}}),t},createGeo3D:function(e){var t,n=e.get("map");return"string"==typeof n?(t=n,n=Ise(n)):n&&n.features&&(n={geoJson:n}),null==t&&(t="GEO_ANONYMOUS_"+B7e++),new F7e(t+B7e++,t,n&&n.geoJson,n&&n.specialAreas,e.get("nameMap"))}};const H7e=V7e;function Y7e(e){e.registerComponentModel(syt),e.registerComponentView(Tyt),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"geo3D",query:n},function(i){i.setView(n)})}),e.registerCoordinateSystem("geo3D",H7e)}function U7e(e,n){e.id=e.id||e.name||n+""}$s(Y7e);var Qx=ba.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){Qx.superApply(this,"init",arguments),Ke(this.option.layers,function(e,n){ti(e,this.defaultLayerOption),U7e(e,n)},this)},mergeOption:function(e){var n=this.option.layers;function t(l){return xS(l,function(h,f,m){return U7e(f,m),h[f.id]=f,h},{})}if(this.option.layers=null,Qx.superApply(this,"mergeOption",arguments),n&&n.length){var i=t(e.layers),r=t(n);for(var o in i)r[o]?ti(r[o],i[o],!0):n.push(e.layers[o]);this.option.layers=n}Ke(this.option.layers,function(l){ti(l,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,n,t){this.displacementData=e,this.displacementWidth=n,this.displacementHeight=t},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),n=this.get("displacementScale");return(!e||"none"===e)&&(n=0),n},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),n=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==n,this._displacementTexture=e,this._displacementScale=n},isDisplacementChanged:function(){return this._displacementChanged}});ti(Qx.prototype,v$),ti(Qx.prototype,fT),ti(Qx.prototype,pT),ti(Qx.prototype,_T);const zyt=Qx;var G7e=Math.PI,vp=Math.sin,h2=Math.cos,W7e=Math.tan,j7e=Math.asin,$7e=Math.atan2,Jx=G7e/180,A$=23.4397*Jx;function Ryt(e,n){return $7e(vp(e)*h2(A$)-W7e(n)*vp(A$),h2(e))}function Nyt(e,n){return j7e(vp(n)*h2(A$)+h2(n)*vp(A$)*vp(e))}function Fyt(e,n,t){return $7e(vp(e),h2(e)*vp(n)-W7e(t)*h2(n))}function Byt(e,n,t){return j7e(vp(n)*vp(t)+h2(n)*h2(t)*h2(e))}var X7e={};X7e.getPosition=function(e,n,t){var i=Jx*-t,r=Jx*n,o=function Lyt(e){return function Iyt(e){return e.valueOf()/864e5-.5+2440588}(e)-2451545}(e),l=function Uyt(e){var n=function Hyt(e){return Jx*(357.5291+.98560028*e)}(e),t=function Yyt(e){return e+Jx*(1.9148*vp(e)+.02*vp(2*e)+3e-4*vp(3*e))+102.9372*Jx+G7e}(n);return{dec:Nyt(t,0),ra:Ryt(t,0)}}(o),h=function Vyt(e,n){return Jx*(280.16+360.9856235*e)-n}(o,i)-l.ra;return{azimuth:Fyt(h,r,l.dec),altitude:Byt(h,r,l.dec)}};const Gyt=X7e;ze.Shader.import(FCe),ze.Shader.import("@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end");const jyt=r2.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,n){this.groupGL=new ze.Node,this._sphereGeometry=new ze.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new ze.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new ze.PlaneGeometry,this._earthMesh=new ze.Mesh({renderNormal:!0}),this._atmosphereMesh=new ze.Mesh,this._atmosphereGeometry=new ze.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new ze.Material({shader:new ze.Shader(ze.Shader.source("ecgl.atmosphere.vertex"),ze.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=ze.Mesh.CW,this._lightRoot=new ze.Node,this._sceneHelper=new gT,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new y$({zr:n.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,n,t){var i=e.coordinateSystem,r=e.get("shading");i.viewGL.add(this._lightRoot),e.get("show")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL),this._sceneHelper.setScene(i.viewGL.scene),i.viewGL.setPostEffect(e.getModel("postEffect"),t),i.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var o=this._earthMesh;o.geometry=this._sphereGeometry;var l="ecgl."+r;(!o.material||o.material.shader.name!==l)&&(o.material=ze.createMaterial(l)),ze.setMaterialFromModel(r,o.material,e,t),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(b){var S=o.material.get(b);S&&(S.flipY=!1)}),o.material.set("color",ze.parseColor(e.get("baseColor")));var h=.99*i.radius;if(o.scale.set(h,h,h),e.get("atmosphere.show")){o.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),o.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var f=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(h+f,h+f,h+f)}else o.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var m=o.material.setTextureImage("diffuseMap",e.get("baseTexture"),t,{flipY:!1,anisotropic:8});m&&m.surface&&m.surface.attachToMesh(o);var _=o.material.setTextureImage("bumpMap",e.get("heightTexture"),t,{flipY:!1,anisotropic:8});_&&_.surface&&_.surface.attachToMesh(o),o.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,t),this._displaceVertices(e,t),this._updateViewControl(e,t),this._updateLayers(e,t)},afterRender:function(e,n,t,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,e,t),this._sceneHelper.updateSkybox(r,e,t)},_updateLayers:function(e,n){var t=e.coordinateSystem,i=e.get("layers"),r=t.radius,o=[],l=[],h=[],f=[];Ke(i,function(M){var O=new ju(M),I=O.get("type"),N=ze.loadTexture(O.get("texture"),n,{flipY:!1,anisotropic:8});if(N.surface&&N.surface.attachToMesh(this._earthMesh),"blend"===I){var V=O.get("blendTo"),G=Wi.firstNotNull(O.get("intensity"),1);"emission"===V?(h.push(N),f.push(G)):(o.push(N),l.push(G))}else{var X=O.get("id"),K=this._layerMeshes[X];K||(K=this._layerMeshes[X]=new ze.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===O.get("shading")?(K.material=K.__lambertMaterial||new ze.Material({autoUpdateTextureStatus:!1,shader:ze.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),K.__lambertMaterial=K.material):(K.material=K.__colorMaterial||new ze.Material({autoUpdateTextureStatus:!1,shader:ze.createShader("ecgl.color"),transparent:!0,depthMask:!1}),K.__colorMaterial=K.material),K.material.enableTexture("diffuseMap");var ie=O.get("distance"),pe=r+(ie??t.radius/100);K.scale.set(pe,pe,pe),r=pe;var ve=this._blankTexture||(this._blankTexture=ze.createBlankTexture("rgba(255, 255, 255, 0)"));K.material.set("diffuseMap",ve),ze.loadTexture(O.get("texture"),n,{flipY:!1,anisotropic:8},function(ye){ye.surface&&ye.surface.attachToMesh(K),K.material.set("diffuseMap",ye),n.getZr().refresh()}),O.get("show")?this.groupGL.add(K):this.groupGL.remove(K)}},this);var m=this._earthMesh.material;m.define("fragment","LAYER_DIFFUSEMAP_COUNT",o.length),m.define("fragment","LAYER_EMISSIVEMAP_COUNT",h.length),m.set("layerDiffuseMap",o),m.set("layerDiffuseIntensity",l),m.set("layerEmissiveMap",h),m.set("layerEmissionIntensity",f);var _=e.getModel("debug.wireframe");if(_.get("show")){m.define("both","WIREFRAME_TRIANGLE");var b=ze.parseColor(_.get("lineStyle.color")||"rgba(0,0,0,0.5)"),S=Wi.firstNotNull(_.get("lineStyle.width"),1);m.set("wireframeLineWidth",S),m.set("wireframeLineColor",b)}else m.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,n){var t=e.coordinateSystem,i=e.getModel("viewControl"),o=this,h=this._control;h.setViewGL(t.viewGL);var m,_,f=i.get("targetCoord");null!=f&&(_=f[0]+90,m=f[1]),h.setFromViewControlModel(i,{baseDistance:t.radius,alpha:m,beta:_}),h.off("update"),h.on("update",function(){n.dispatchAction(function l(){return{type:"globeChangeCamera",alpha:h.getAlpha(),beta:h.getBeta(),distance:h.getDistance()-t.radius,center:h.getCenter(),from:o.uid,globeId:e.id}}())})},_displaceVertices:function(e,n){var t=e.get("displacementQuality"),i=e.get("debug.wireframe.show"),r=e.coordinateSystem;if(e.isDisplacementChanged()||t!==this._displacementQuality||i!==this._showDebugWireframe){this._displacementQuality=t,this._showDebugWireframe=i;var o=this._sphereGeometry,l={low:100,medium:200,high:400,ultra:800}[t]||200,h=l/2;(o.widthSegments!==l||i)&&(o.widthSegments=l,o.heightSegments=h,o.build()),this._doDisplaceVertices(o,r),i&&o.generateBarycentric()}},_doDisplaceVertices:function(e,n){var t=e.attributes.position.value,i=e.attributes.texcoord0.value,r=e.__originalPosition;(!r||r.length!==t.length)&&((r=new Float32Array(t.length)).set(t),e.__originalPosition=r);for(var o=n.displacementWidth,l=n.displacementHeight,h=n.displacementData,f=0;f<e.vertexCount;f++){var m=3*f,_=2*f,b=r[m+1],S=r[m+2],M=r[m+3],O=i[_++],I=i[_++],N=Math.round(O*(o-1)),V=Math.round(I*(l-1)),X=h?h[V*o+N]:0;t[m+1]=b+b*X,t[m+2]=S+S*X,t[m+3]=M+M*X}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,n){var t=this._earthMesh;this._sceneHelper.updateLight(e);var i=this._sceneHelper.mainLight,r=e.get("light.main.time")||new Date,o=Gyt.getPosition(Ug(r),0,0),l=Math.cos(o.altitude);i.position.y=-l*Math.cos(o.azimuth),i.position.x=Math.sin(o.altitude),i.position.z=l*Math.sin(o.azimuth),i.lookAt(t.getWorldPosition())},dispose:function(e,n){this.groupGL.removeAll(),this._control.dispose()}});var $yt=fs.vec3;function ece(e){this.radius=e,this.viewGL=null,this.displacementData=null}ece.prototype={constructor:ece,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,n,t){this.displacementData=e,this.displacementWidth=n,this.displacementHeight=t},_getDisplacementScale:function(e,n){var i=(90-n)/180*(this.displacementHeight-1),r=Math.round((e+180)/360*(this.displacementWidth-1))+Math.round(i)*this.displacementWidth;return this.displacementData[r]},dataToPoint:function(e,n){var t=e[0],i=e[1],r=e[2]||0,o=this.radius;this.displacementData&&(o*=1+this._getDisplacementScale(t,i)),this.altitudeAxis&&(o+=this.altitudeAxis.dataToCoord(r)),t=t*Math.PI/180,i=i*Math.PI/180;var l=Math.cos(i)*o;return(n=n||[])[0]=-l*Math.cos(t+Math.PI),n[1]=Math.sin(i)*o,n[2]=l*Math.sin(t+Math.PI),n},pointToData:function(e,n){var t=e[0],i=e[1],r=e[2],o=$yt.len(e);t/=o,r/=o;var l=Math.asin(i/=o),h=Math.atan2(r,-t);h<0&&(h=2*Math.PI+h);var f=180*l/Math.PI,m=180*h/Math.PI-180;return(n=n||[])[0]=m,n[1]=f,n[2]=o-this.radius,this.altitudeAxis&&(n[2]=this.altitudeAxis.coordToData(n[2])),n}};const q7e=ece;function qyt(e,n){var i=XO(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});i.y=n.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,n.getDevicePixelRatio()),this.radius=e.get("globeRadius");var r=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,r-this.radius)}function Zyt(e,n){var t=[1/0,-1/0];if(e.eachSeries(function(r){if(r.coordinateSystem===this){var o=r.getData(),l=r.coordDimToDataDim("alt"),h=l&&l[0];if(h){var f=o.getDataExtent(h,!0);t[0]=Math.min(t[0],f[0]),t[1]=Math.max(t[1],f[1])}}},this),t&&isFinite(t[1]-t[0])){var i=$se(t,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new Lj("altitude",i),this.resize(this.model,n)}}var Kyt={dimensions:q7e.prototype.dimensions,create:function(e,n){var t=[];return e.eachComponent("globe",function(i){i.__viewGL=i.__viewGL||new u3;var r=new q7e;r.viewGL=i.__viewGL,i.coordinateSystem=r,r.model=i,t.push(r),r.resize=qyt,r.resize(i,n),r.update=Zyt}),e.eachSeries(function(i){if("globe"===i.get("coordinateSystem")){var r=i.getReferringComponents("globe").models[0];if(r||(r=e.getComponent("globe")),!r)throw new Error('globe "'+Wi.firstNotNull(i.get("globe3DIndex"),i.get("globe3DId"),0)+'" not found');i.coordinateSystem=r.coordinateSystem}}),e.eachComponent("globe",function(i,r){var o=i.coordinateSystem,l=i.getDisplacementTexture(),h=i.getDisplacemenScale();if(i.isDisplacementChanged()){if(i.hasDisplacement()){var f=!0;ze.loadTexture(l,n,function(m){var b=function Xyt(e,n){var t=document.createElement("canvas"),i=t.getContext("2d"),r=e.width,o=e.height;t.width=r,t.height=o,i.drawImage(e,0,0,r,o);for(var l=i.getImageData(0,0,r,o).data,h=new Float32Array(l.length/4),f=0;f<l.length/4;f++)h[f]=l[4*f]/255*n;return{data:h,width:r,height:o}}(m.image,h);i.setDisplacementData(b.data,b.width,b.height),f||n.dispatchAction({type:"globeUpdateDisplacment"})}),f=!1}else o.setDisplacementData(null,0,0);o.setDisplacementData(i.displacementData,i.displacementWidth,i.displacementHeight)}}),t}};const Qyt=Kyt;$s(function Jyt(e){e.registerComponentModel(zyt),e.registerComponentView(jyt),e.registerCoordinateSystem("globe",Qyt),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"globe",query:n},function(i){i.setView(n)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(n,t){})});var Z7e=["zoom","center","pitch","bearing"],tce=ba.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return Z7e.reduce(function(n,t){return n[t]=e.get(t),n},{})},setMapboxCameraOption:function(e){null!=e&&Z7e.forEach(function(n){null!=e[n]&&(this.option[n]=e[n])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});ti(tce.prototype,fT),ti(tce.prototype,pT);const e8t=tce;function h3(e,n){if(this.id=e,this.zr=n,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}h3.prototype.setUnpainted=function(){},h3.prototype.resize=function(){this._mapbox.resize()},h3.prototype.getMapbox=function(){return this._mapbox},h3.prototype.clear=function(){},h3.prototype.refresh=function(){this._mapbox.resize()};var K7e=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];h3.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(n){return n.preventDefault(),!1}},K7e.forEach(function(n){this._handlers[n]=function(t){var i={};for(var r in t)i[r]=t[r];i.bubbles=!1;var o=new t.constructor(t.type,i);e.dispatchEvent(o)},this.zr.dom.addEventListener(n,this._handlers[n])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},h3.prototype.dispose=function(){K7e.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const t8t=h3,Q7e="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";ze.Shader.import(Q7e);const n8t=r2.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,n){var t=n.getZr();this._zrLayer=new t8t("mapbox3D",t),t.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new ze.Node,this._sceneHelper=new gT(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var i=this._zrLayer.getMapbox(),r=this._dispatchInteractAction.bind(this,n,i);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(o){i.on(o,r)}),this._groundMesh=new ze.Mesh({geometry:new ze.PlaneGeometry,material:new ze.Material({shader:new ze.Shader({vertex:ze.Shader.source("ecgl.displayShadow.vertex"),fragment:ze.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,n,t){var i=this._zrLayer.getMapbox(),r=e.get("style"),o=JSON.stringify(r);o!==this._oldStyleStr&&r&&i.setStyle(r),this._oldStyleStr=o,i.setCenter(e.get("center")),i.setZoom(e.get("zoom")),i.setPitch(e.get("pitch")),i.setBearing(e.get("bearing")),e.setMapbox(i);var l=e.coordinateSystem;l.viewGL.scene.add(this._lightRoot),l.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(l.viewGL.scene),this._sceneHelper.updateLight(e),l.viewGL.setPostEffect(e.getModel("postEffect"),t),l.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,n,t,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,e,t),this._sceneHelper.updateSkybox(r,e,t),e.coordinateSystem.viewGL.scene.traverse(function(o){o.material&&(o.material.define("fragment","NORMAL_UP_AXIS",2),o.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,n,t,i){e.coordinateSystem.setCameraOption(i),this._updateGroundMesh(),t.getZr().refresh()},_dispatchInteractAction:function(e,n,t){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:n.getPitch(),zoom:n.getZoom(),center:n.getCenter().toArray(),bearing:n.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,n=e.dataToPoint(e.center);this._groundMesh.position.set(n[0],n[1],-.001);var t=new ze.Plane(new ze.Vector3(0,0,1),0),i=e.viewGL.camera.castRay(new ze.Vector2(-1,-1)),r=e.viewGL.camera.castRay(new ze.Vector2(1,1)),o=i.intersectPlane(t),l=r.intersectPlane(t),h=o.dist(l)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(h,h,1)}},dispose:function(e,n){this._zrLayer&&this._zrLayer.dispose(),n.getZr().painter.delLayer(-1e3)}});var d3=fs.mat4,nce=.6435011087932844,Kh=Math.PI;function ice(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.bearing=0,this.pitch=0,this.center=[0,0],this.zoom=0,this.maxPitch=60,this.zoomOffset=0}ice.prototype={constructor:ice,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,512)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(nce/2)*this.height*.1,n=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,t=nce/2,i=Math.PI/2+n,r=Math.sin(t)*e/Math.sin(Math.PI-i-t),l=1.1*(Math.cos(Math.PI/2-n)*r+e);this.pitch>50&&(l=1e3),d3.perspective(h=[],nce,this.width/this.height,1,l),this.viewGL.camera.projectionMatrix.setArray(h),this.viewGL.camera.decomposeProjectionMatrix();var h=d3.identity([]),f=this.dataToPoint(this.center);d3.scale(h,h,[1,-1,1]),d3.translate(h,h,[0,0,-e]),d3.rotateX(h,h,n),d3.rotateZ(h,h,-this.bearing/180*Math.PI),d3.translate(h,h,[-f[0]*this.getScale()*.1,-f[1]*this.getScale()*.1,0]),this.viewGL.camera.viewMatrix.array=h;var m=[];d3.invert(m,h),this.viewGL.camera.worldTransform.array=m,this.viewGL.camera.decomposeWorldTransform();var b,_=512*this.getScale();b=this.altitudeExtent&&!isNaN(this.boxHeight)?this.boxHeight/(this.altitudeExtent[1]-this.altitudeExtent[0])*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset):_/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*.1,this.viewGL.rootNode.scale.set(.1*this.getScale(),.1*this.getScale(),b)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,n){return this.projectOnTileWithScale(e,512*this.getScale(),n)},projectOnTileWithScale:function(e,n,t){var h=n*(e[0]*Kh/180+Kh)/(2*Kh),f=n*(Kh-Math.log(Math.tan(Kh/4+e[1]*Kh/180*.5)))/(2*Kh);return(t=t||[])[0]=h,t[1]=f,t},unprojectFromTile:function(e,n){return this.unprojectOnTileWithScale(e,512*this.getScale(),n)},unprojectOnTileWithScale:function(e,n,t){var o=e[0]/n*(2*Kh)-Kh,l=2*(Math.atan(Math.exp(Kh-e[1]/n*(2*Kh)))-Kh/4);return(t=t||[])[0]=180*o/Kh,t[1]=180*l/Kh,t},dataToPoint:function(e,n){return(n=this.projectOnTileWithScale(e,512,n))[0]-=this._origin[0],n[1]-=this._origin[1],n[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(n[2]=e[2],this.altitudeExtent&&(n[2]-=this.altitudeExtent[0])),n}};const z$=ice;function HE(){z$.apply(this,arguments)}function J7e(e,n,t){function i(o,l){var h=l.getWidth(),f=l.getHeight(),m=l.getDevicePixelRatio();this.viewGL.setViewport(0,0,h,f,m),this.width=h,this.height=f,this.altitudeScale=o.get("altitudeScale"),this.boxHeight=o.get("boxHeight")}function r(o,l){if("auto"!==this.model.get("boxHeight")){var h=[1/0,-1/0];o.eachSeries(function(f){if(f.coordinateSystem===this){var m=f.getData(),_=f.coordDimToDataDim("alt")[0];if(_){var b=m.getDataExtent(_,!0);h[0]=Math.min(h[0],b[0]),h[1]=Math.max(h[1],b[1])}}},this),h&&isFinite(h[1]-h[0])&&(this.altitudeExtent=h)}}return{dimensions:n.prototype.dimensions,create:function(o,l){var h=[];return o.eachComponent(e,function(f){var m=f.__viewGL;m||(m=f.__viewGL=new u3).setRootNode(new ze.Node);var _=new n;_.viewGL=f.__viewGL,_.resize=i,_.resize(f,l),h.push(_),f.coordinateSystem=_,_.model=f,_.update=r}),o.eachSeries(function(f){if(f.get("coordinateSystem")===e){var m=f.getReferringComponents(e).models[0];if(m||(m=o.getComponent(e)),!m)throw new Error(e+' "'+Wi.firstNotNull(f.get(e+"Index"),f.get(e+"Id"),0)+'" not found');f.coordinateSystem=m.coordinateSystem}}),t&&t(h,o,l),h}}}(HE.prototype=new z$).constructor=HE,HE.prototype.type="mapbox3D";var r8t=J7e("mapbox3D",HE,function(e){e.forEach(function(n){n.setCameraOption(n.model.getMapboxCameraOption())})});const o8t=r8t;$s(function a8t(e){e.registerComponentModel(e8t),e.registerComponentView(n8t),e.registerCoordinateSystem("mapbox3D",o8t),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(n,t){t.eachComponent({mainType:"mapbox3D",query:n},function(i){i.setMapboxCameraOption(n)})})});var ewe=["zoom","center","pitch","bearing"],rce=ba.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return ewe.reduce(function(n,t){return n[t]=e.get(t),n},{})},setMaptalksCameraOption:function(e){null!=e&&ewe.forEach(function(n){null!=e[n]&&(this.option[n]=e[n])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});ti(rce.prototype,fT),ti(rce.prototype,pT);const s8t=rce;function f3(e,n,t,i){if(this.id=e,this.zr=n,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:t,zoom:i,doubleClickZoom:!1,fog:!1}),this._initEvents()}f3.prototype.setUnpainted=function(){},f3.prototype.resize=function(){this._maptalks.checkSize()},f3.prototype.getMaptalks=function(){return this._maptalks},f3.prototype.clear=function(){},f3.prototype.refresh=function(){this._maptalks.checkSize()};var twe=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];f3.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(n){return n.preventDefault(),!1}},twe.forEach(function(n){this._handlers[n]=function(t){var i={};for(var r in t)i[r]=t[r];i.bubbles=!1;var o=new t.constructor(t.type,i);"mousewheel"===n||"DOMMouseScroll"===n?e.dispatchEvent(o):e.firstElementChild.dispatchEvent(o)},this.zr.dom.addEventListener(n,this._handlers[n])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},f3.prototype.dispose=function(){twe.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};const l8t=f3;ze.Shader.import(Q7e);const c8t=r2.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,n){this._groundMesh=new ze.Mesh({geometry:new ze.PlaneGeometry,material:new ze.Material({shader:new ze.Shader({vertex:ze.Shader.source("ecgl.displayShadow.vertex"),fragment:ze.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,n){var t=n.getZr();this._zrLayer=new l8t("maptalks3D",t,e.get("center"),e.get("zoom")),t.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new ze.Node,this._sceneHelper=new gT(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var i=this._zrLayer.getMaptalks(),r=this._dispatchInteractAction.bind(this,n,i);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(o){i.on(o,r)})},render:function(e,n,t){this._zrLayer||this._initMaptalksLayer(e,t);var i=this._zrLayer.getMaptalks(),r=e.get("urlTemplate"),o=i.getBaseLayer();r!==this._oldUrlTemplate&&(o?o.setOptions({urlTemplate:r,attribution:e.get("attribution")}):(o=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:r,subdomains:["a","b","c"],attribution:e.get("attribution")}),i.setBaseLayer(o))),this._oldUrlTemplate=r,i.setCenter(e.get("center")),i.setZoom(e.get("zoom"),{animation:!1}),i.setPitch(e.get("pitch")),i.setBearing(e.get("bearing")),e.setMaptalks(i);var l=e.coordinateSystem;l.viewGL.scene.add(this._lightRoot),l.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(l.viewGL.scene),this._sceneHelper.updateLight(e),l.viewGL.setPostEffect(e.getModel("postEffect"),t),l.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,n,t,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,e,t),this._sceneHelper.updateSkybox(r,e,t),e.coordinateSystem.viewGL.scene.traverse(function(o){o.material&&(o.material.define("fragment","NORMAL_UP_AXIS",2),o.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,n,t,i){e.coordinateSystem.setCameraOption(i),this._updateGroundMesh(),t.getZr().refresh()},_dispatchInteractAction:function(e,n,t){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:n.getPitch(),zoom:h8t(n.getResolution())+1,center:n.getCenter().toArray(),bearing:n.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,n=e.dataToPoint(e.center);this._groundMesh.position.set(n[0],n[1],-.001);var t=new ze.Plane(new ze.Vector3(0,0,1),0),i=e.viewGL.camera.castRay(new ze.Vector2(-1,-1)),r=e.viewGL.camera.castRay(new ze.Vector2(1,1)),o=i.intersectPlane(t),l=r.intersectPlane(t),h=o.dist(l)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(h,h,1)}},dispose:function(e,n){this._zrLayer&&this._zrLayer.dispose(),n.getZr().painter.delLayer(-1e3)}}),u8t=12756274*Math.PI/(256*Math.pow(2,20));function h8t(e){return 19-Math.log(e/u8t)/Math.LN2}function YE(){z$.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}(YE.prototype=new z$).constructor=YE,YE.prototype.type="maptalks3D";var d8t=J7e("maptalks3D",YE,function(e){e.forEach(function(n){n.setCameraOption(n.model.getMaptalksCameraOption())})});const f8t=d8t;$s(function p8t(e){e.registerComponentModel(s8t),e.registerComponentView(c8t),e.registerCoordinateSystem("maptalks3D",f8t),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(n,t){t.eachComponent({mainType:"maptalks3D",query:n},function(i){i.setMaptalksCameraOption(n)})})});var g8t=fs.vec3,m8t=jse.isDimensionStacked;function oce(e,n,t){for(var i=e.getDataExtent(n),r=e.getDataExtent(t),o=i[1]-i[0]||i[0],l=r[1]-r[0]||r[0],f=new Uint8Array(2500),m=0;m<e.count();m++){var _=e.get(n,m),b=e.get(t,m),S=Math.floor((_-i[0])/o*49),O=50*Math.floor((b-r[0])/l*49)+S;f[O]=f[O]||1}var I=0;for(m=0;m<f.length;m++)f[m]&&I++;return I/f.length}var nwe=fs.vec3,x8t=jse.isDimensionStacked;function ace(e,n){var t=x8t(e,n[2]);return{dimension:t?e.getCalculationInfo("stackResultDimension"):n[2],isStacked:t}}function S8t(e){e.registerLayout(function(n,t){n.eachSeriesByType("bar3D",function(i){var r=i.coordinateSystem,o=r&&r.type;"globe"===o?function b8t(e,n){var t=e.getData(),i=e.get("minHeight")||0,r=e.get("barSize"),o=["lng","lat","alt"].map(function(m){return e.coordDimToDataDim(m)[0]});if(null==r){var l=n.radius*Math.PI,h=oce(t,o[0],o[1]);r=[l/Math.sqrt(t.count()/h),l/Math.sqrt(t.count()/h)]}else si(r)||(r=[r,r]);var f=ace(t,o);t.each(o,function(m,_,b,S){var M=t.get(f.dimension,S),O=f.isStacked?M-b:n.altitudeAxis.scale.getExtent()[0],I=Math.max(n.altitudeAxis.dataToCoord(b),i),N=n.dataToPoint([m,_,O]),V=n.dataToPoint([m,_,M]),G=nwe.sub([],V,N);nwe.normalize(G,G),t.setItemLayout(S,[N,G,[r[0],I,r[1]]])}),t.setLayout("orient",$t.UP.array)}(i,r):"cartesian3D"===o?function _8t(e,n){var t=e.getData(),i=e.get("barSize");if(null==i){var o,l,r=n.size,h=n.getAxis("x"),f=n.getAxis("y");o="category"===h.type?.7*h.getBandWidth():.6*Math.round(r[0]/Math.sqrt(t.count())),l="category"===f.type?.7*f.getBandWidth():.6*Math.round(r[1]/Math.sqrt(t.count())),i=[o,l]}else si(i)||(i=[i,i]);var m=n.getAxis("z").scale.getExtent(),_=function v8t(e){var n=e[0],t=e[1];return!(n>0&&t>0||n<0&&t<0)}(m),b=["x","y","z"].map(function(O){return e.coordDimToDataDim(O)[0]}),S=m8t(t,b[2]),M=S?t.getCalculationInfo("stackResultDimension"):b[2];t.each(b,function(O,I,N,V){var G=t.get(M,V),K=n.dataToPoint([O,I,S?G-N:_?0:m[0]]),ne=n.dataToPoint([O,I,G]),ie=g8t.dist(K,ne),pe=[0,ne[1]<K[1]?-1:1,0];0===Math.abs(ie)&&(ie=.1),t.setItemLayout(V,[K,pe,[i[0],ie,i[1]]])}),t.setLayout("orient",[1,0,0])}(i,r):"geo3D"===o?function C8t(e,n){var t=e.getData(),i=e.get("barSize"),r=e.get("minHeight")||0,o=["lng","lat","alt"].map(function(_){return e.coordDimToDataDim(_)[0]});if(null==i){var l=Math.min(n.size[0],n.size[2]),h=oce(t,o[0],o[1]);i=[l/Math.sqrt(t.count()/h),l/Math.sqrt(t.count()/h)]}else si(i)||(i=[i,i]);var f=[0,1,0],m=ace(t,o);t.each(o,function(_,b,S,M){var O=t.get(m.dimension,M),I=m.isStacked?O-S:n.altitudeAxis.scale.getExtent()[0],N=Math.max(n.altitudeAxis.dataToCoord(S),r),V=n.dataToPoint([_,b,I]);t.setItemLayout(M,[V,f,[i[0],N,i[1]]])}),t.setLayout("orient",[1,0,0])}(i,r):("mapbox3D"===o||"maptalks3D"===o)&&function w8t(e,n){var t=e.getData(),i=e.coordDimToDataDim("lng")[0],r=e.coordDimToDataDim("lat")[0],o=e.coordDimToDataDim("alt")[0],l=e.get("barSize"),h=e.get("minHeight")||0;if(null==l){var f=t.getDataExtent(i),m=t.getDataExtent(r),_=n.dataToPoint([f[0],m[0]]),b=n.dataToPoint([f[1],m[1]]),S=Math.min(Math.abs(_[0]-b[0]),Math.abs(_[1]-b[1]))||1,M=oce(t,i,r);l=[S/Math.sqrt(t.count()/M),S/Math.sqrt(t.count()/M)]}else si(l)||(l=[l,l]),l[0]/=n.getScale()/16,l[1]/=n.getScale()/16;var O=[0,0,1],I=[i,r,o],N=ace(t,I);t.each(I,function(V,G,X,K){var ne=t.get(N.dimension,K),pe=n.dataToPoint([V,G,N.isStacked?ne-X:0]),ve=n.dataToPoint([V,G,ne]),ye=Math.max(ve[2]-pe[2],h);t.setItemLayout(K,[pe,O,[l[0],ye,l[1]]])}),t.setLayout("orient",[1,0,0])}(i,r)})})}var sce={getFormattedLabel:function(e,n,t,i,r){t=t||"normal";var l=e.getData(i).getItemModel(n),h=e.getDataParams(n,i);null!=r&&h.value instanceof Array&&(h.value=h.value[r]);var m,f=l.get("normal"===t?["label","formatter"]:["emphasis","label","formatter"]);return null==f&&(f=l.get(["label","formatter"])),"function"==typeof f?(h.status=t,m=f(h)):"string"==typeof f&&(m=G8e(f,h)),m},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}};const wT=sce;function UE(e,n,t){var r=e.getData(),o=e.getRawValue(n),l=si(o)?function i(b){var M=[],O=function T8t(e,n){var t=[];return Ke(e.dimensions,function(i){var r=e.getDimensionInfo(i),l=r.otherDims[n];null!=l&&!1!==l&&(t[l]=r.name)}),t}(r,"tooltip");function I(N,V){var G=r.getDimensionInfo(V);if(G&&!1!==G.otherDims.tooltip){var X=G.type,K="- "+(G.tooltipName||G.name)+": "+("ordinal"===X?N+"":"time"===X?t?"":function Cpt(e,n,t){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var i=Ug(n),r=t?"UTC":"",o=i["get"+r+"FullYear"](),l=i["get"+r+"Month"]()+1,h=i["get"+r+"Date"](),f=i["get"+r+"Hours"](),m=i["get"+r+"Minutes"](),_=i["get"+r+"Seconds"](),b=i["get"+r+"Milliseconds"]();return e.replace("MM",Ld(l,2)).replace("M",l).replace("yyyy",o).replace("yy",o%100+"").replace("dd",Ld(h,2)).replace("d",h).replace("hh",Ld(f,2)).replace("h",f).replace("mm",Ld(m,2)).replace("m",m).replace("ss",Ld(_,2)).replace("s",_).replace("SSS",Ld(b,3))}("yyyy/MM/dd hh:mm:ss",N):VW(N));K&&M.push(xl(K))}}return O.length?Ke(O,function(N){I(r.get(N,n),N)}):Ke(b,I),"<br/>"+M.join("<br/>")}(o):xl(VW(o)),h=r.getName(n),f=wl(r,n);Xi(f)&&f.colorStops&&(f=(f.colorStops[0]||{}).color);var m=W8e(f=f||"transparent"),_=e.name;return"\0-"===_&&(_=""),_=_?xl(_)+(t?": ":"<br/>"):"",t?m+_+l:_+m+(h?xl(h)+": "+l:l)}function k$(e,n,t){t=t||e.getSource();var i=n||q5e(e.get("coordinateSystem"))||["x","y","z"],r=gE(t,{dimensionsDefine:t.dimensionsDefine||e.get("dimensions"),encodeDefine:t.encodeDefine||e.get("encode"),coordDimensions:i.map(function(h){var f=e.getReferringComponents(h+"Axis3D").models[0];return{type:f&&"category"===f.get("type")?"ordinal":"float",name:h}})});"cartesian3D"===e.get("coordinateSystem")&&r.forEach(function(h){if(i.indexOf(h.coordDim)>=0){var f=e.getReferringComponents(h.coordDim+"Axis3D").models[0];f&&"category"===f.get("type")&&(h.ordinalMeta=f.getOrdinalMeta())}});var o=jse.enableDataStack(e,r,{byIndex:!0,stackedCoordDimension:"z"}),l=new Xg(r,e);return l.setCalculationInfo(o),l.initData(t),l}var iwe=$u.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,n){return k$(this)},getFormattedLabel:function(e,n,t,i){var r=wT.getFormattedLabel(this,e,n,t,i);return null==r&&(r=this.getData().get("z",e)),r},formatTooltip:function(e){return UE(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});ti(iwe.prototype,_T);const M8t=iwe;var ka=fs.vec3,D8t=fs.mat3,lce=Pr.extend(function(){return{attributes:{position:new Pr.Attribute("position","float",3,"POSITION"),normal:new Pr.Attribute("normal","float",3,"NORMAL"),color:new Pr.Attribute("color","float",4,"COLOR"),prevPosition:new Pr.Attribute("prevPosition","float",3),prevNormal:new Pr.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var n=this.enableNormal,t=this.getBarVertexCount()*e,i=this.getBarTriangleCount()*e;this.vertexCount!==t&&(this.attributes.position.init(t),n?this.attributes.normal.init(t):this.attributes.normal.value=null,this.attributes.color.init(t)),this.triangleCount!==i&&(this.indices=t>65535?new Uint32Array(3*i):new Uint16Array(3*i),this._dataIndices=new Uint32Array(t))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){return(4*e+3+1)*(2*e+1)*2+4},setColor:function(e,n){for(var t=this.getBarVertexCount(),r=t*(e+1),o=t*e;o<r;o++)this.attributes.color.set(o,n);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=ka.create,n=ka.scaleAndAdd,t=e(),i=e(),r=e(),o=e(),l=e(),h=e(),f=e(),m=[],_=[],b=0;b<8;b++)m[b]=e();var S=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],M=[0,1,2,0,2,3],O=[];for(b=0;b<S.length;b++)for(var I=S[b],N=0;N<2;N++){for(var V=[],G=0;G<3;G++)V.push(I[M[3*N+G]]);O.push(V)}return function(X,K,ne,ie,pe,ve){var ye=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(X,K,ne,ie,this.bevelSize,this.bevelSegments,pe);else{ka.copy(r,K),ka.normalize(r,r),ka.cross(o,ne,r),ka.normalize(o,o),ka.cross(i,r,o),ka.normalize(o,o),ka.negate(l,i),ka.negate(h,r),ka.negate(f,o),n(m[0],X,i,ie[0]/2),n(m[0],m[0],o,ie[2]/2),n(m[1],X,i,ie[0]/2),n(m[1],m[1],f,ie[2]/2),n(m[2],X,l,ie[0]/2),n(m[2],m[2],f,ie[2]/2),n(m[3],X,l,ie[0]/2),n(m[3],m[3],o,ie[2]/2),n(t,X,r,ie[1]),n(m[4],t,i,ie[0]/2),n(m[4],m[4],o,ie[2]/2),n(m[5],t,i,ie[0]/2),n(m[5],m[5],f,ie[2]/2),n(m[6],t,l,ie[0]/2),n(m[6],m[6],f,ie[2]/2),n(m[7],t,l,ie[0]/2),n(m[7],m[7],o,ie[2]/2);var Se=this.attributes;if(this.enableNormal){_[0]=i,_[1]=l,_[2]=r,_[3]=h,_[4]=o,_[5]=f;for(var xe=this._vertexOffset,De=0;De<S.length;De++){for(var Pe=3*this._triangleOffset,Re=0;Re<6;Re++)this.indices[Pe++]=xe+M[Re];xe+=4,this._triangleOffset+=2}for(De=0;De<S.length;De++){var ke=_[De];for(Re=0;Re<4;Re++)Se.position.set(this._vertexOffset,m[S[De][Re]]),Se.normal.set(this._vertexOffset,ke),Se.color.set(this._vertexOffset++,pe)}}else{for(De=0;De<O.length;De++){for(Pe=3*this._triangleOffset,Re=0;Re<3;Re++)this.indices[Pe+Re]=O[De][Re]+this._vertexOffset;this._triangleOffset++}for(De=0;De<m.length;De++)Se.position.set(this._vertexOffset,m[De]),Se.color.set(this._vertexOffset++,pe)}}var Ye=this._vertexOffset;for(De=ye;De<Ye;De++)this._dataIndices[De]=ve}}(),_addBevelBar:function(){var e=ka.create(),n=ka.create(),t=ka.create(),i=D8t.create(),r=[],o=[1,-1,-1,1],l=[1,1,-1,-1],h=[2,0];return function(f,m,_,b,S,M,O){ka.copy(n,m),ka.normalize(n,n),ka.cross(t,_,n),ka.normalize(t,t),ka.cross(e,n,t),ka.normalize(t,t),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=n[0],i[4]=n[1],i[5]=n[2],i[6]=t[0],i[7]=t[1],i[8]=t[2],S=Math.min(b[0],b[2])/2*S;for(var I=0;I<3;I++)r[I]=Math.max(b[I]-2*S,0);var N=(b[0]-r[0])/2,V=(b[1]-r[1])/2,G=(b[2]-r[2])/2,X=[],K=[],ne=this._vertexOffset,ie=[];for(I=0;I<2;I++){ie[I]=ie[I]=[];for(var pe=0;pe<=M;pe++)for(var ve=0;ve<4;ve++){(0===pe&&0===I||1===I&&pe===M)&&ie[I].push(ne);for(var ye=0;ye<=M;ye++){var Se=ye/M*Math.PI/2+Math.PI/2*ve,xe=pe/M*Math.PI/2+Math.PI/2*I;K[0]=N*Math.cos(Se)*Math.sin(xe),K[1]=V*Math.cos(xe),K[2]=G*Math.sin(Se)*Math.sin(xe),X[0]=K[0]+o[ve]*r[0]/2,X[1]=K[1]+V+h[I]*r[1]/2,X[2]=K[2]+l[ve]*r[2]/2,Math.abs(N-V)<1e-6&&Math.abs(V-G)<1e-6||(K[0]/=N*N,K[1]/=V*V,K[2]/=G*G),ka.normalize(K,K),ka.transformMat3(X,X,i),ka.transformMat3(K,K,i),ka.add(X,X,f),this.attributes.position.set(ne,X),this.enableNormal&&this.attributes.normal.set(ne,K),this.attributes.color.set(ne,O),ne++}}}var De=4*M+3,Pe=2*M+1,Re=De+1;for(ve=0;ve<Pe;ve++)for(I=0;I<=De;I++){var ke=ve*Re+I+this._vertexOffset,Oe=ve*Re+(I+1)%Re+this._vertexOffset,Ye=(ve+1)*Re+(I+1)%Re+this._vertexOffset,Ge=(ve+1)*Re+I+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[Ye,ke,Oe]),this.setTriangleIndices(this._triangleOffset++,[Ye,Ge,ke])}this.setTriangleIndices(this._triangleOffset++,[ie[0][0],ie[0][2],ie[0][1]]),this.setTriangleIndices(this._triangleOffset++,[ie[0][0],ie[0][3],ie[0][2]]),this.setTriangleIndices(this._triangleOffset++,[ie[1][0],ie[1][1],ie[1][2]]),this.setTriangleIndices(this._triangleOffset++,[ie[1][0],ie[1][2],ie[1][3]]),this._vertexOffset=ne}}()});ya(lce.prototype,EE),ya(lce.prototype,Zle);const P8t=lce;var A8t=fs.vec3;const z8t=ou.extend({type:"bar3D",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this._api=n,this._labelsBuilder=new Kle(256,256,n);var t=this;this._labelsBuilder.getLabelPosition=function(i,r,o){if(t._data){var l=t._data.getItemLayout(i);return A8t.scaleAndAdd([],l[0],l[1],o+l[2][1])}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,n,t){var i=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=i,this._barMesh||(this._barMesh=new ze.Mesh({geometry:new P8t,shadowDepthMaterial:new ze.Material({shader:new ze.Shader(ze.Shader.source("ecgl.sm.depth.vertex"),ze.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var r=e.coordinateSystem;if(this._doRender(e,t),r&&r.viewGL){r.viewGL.add(this.groupGL);var o=r.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[o]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){ze.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,n){var t=e.getData(),i=e.get("shading"),r="color"!==i,o=this,l=this._barMesh,h="ecgl."+i;(!l.material||l.material.shader.name!==h)&&(l.material=ze.createMaterial(h,["VERTEX_COLOR"])),ze.setMaterialFromModel(i,l.material,e,n),l.geometry.enableNormal=r,l.geometry.resetOffset();var f=e.get("bevelSize"),m=e.get("bevelSmoothness");l.geometry.bevelSegments=m,l.geometry.bevelSize=f;var _=[],b=new Float32Array(4*t.count()),S=0,N=0,M=!1;t.each(function(G){if(t.hasValue(G)){var X=wl(t,G),K=Sl(t,G);null==K&&(K=1),ze.parseColor(X,_),_[3]*=K,b[S++]=_[0],b[S++]=_[1],b[S++]=_[2],b[S++]=_[3],_[3]>0&&(N++,_[3]<.99&&(M=!0))}}),l.geometry.setBarCount(N);var O=t.getLayout("orient"),I=this._barIndexOfData=new Int32Array(t.count());N=0,t.each(function(G){if(t.hasValue(G)){var X=t.getItemLayout(G),K=X[0],ne=X[1],ie=X[2],pe=4*G;_[0]=b[pe++],_[1]=b[pe++],_[2]=b[pe++],_[3]=b[pe++],_[3]>0&&(o._barMesh.geometry.addBar(K,ne,O,ie,_,G),I[G]=N++)}else I[G]=-1}),l.geometry.dirty(),l.geometry.updateBoundingBox();var V=l.material;V.transparent=M,V.depthMask=!M,l.geometry.sortTriangles=M,this._initHandler(e,n)},_initHandler:function(e,n){var t=e.getData(),i=this._barMesh,r="cartesian3D"===e.coordinateSystem.type;i.seriesIndex=e.seriesIndex;var o=-1;i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(l){var h=i.geometry.getDataIndexOfVertex(l.triangle[0]);h!==o&&(this._downplay(o),this._highlight(h),this._labelsBuilder.updateLabels([h]),r&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[t.get("x",h),t.get("y",h),t.get("z",h,!0)]})),o=h,i.dataIndex=h},this),i.on("mouseout",function(l){this._downplay(o),this._labelsBuilder.updateLabels(),o=-1,i.dataIndex=-1,r&&n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var n=this._data;if(n){var t=this._barIndexOfData[e];if(!(t<0)){var r=n.getItemModel(e).getModel("emphasis.itemStyle"),o=r.get("color"),l=r.get("opacity");null==o&&(o=QG(wl(n,e),-.4)),null==l&&(l=Sl(n,e));var f=ze.parseColor(o);f[3]*=l,this._barMesh.geometry.setColor(t,f),this._api.getZr().refresh()}}},_downplay:function(e){var n=this._data;if(n){var t=this._barIndexOfData[e];if(!(t<0)){var i=wl(n,e),r=Sl(n,e),o=ze.parseColor(i);o[3]*=r,this._barMesh.geometry.setColor(t,o),this._api.getZr().refresh()}}},highlight:function(e,n,t,i){this._toggleStatus("highlight",e,n,t,i)},downplay:function(e,n,t,i){this._toggleStatus("downplay",e,n,t,i)},_toggleStatus:function(e,n,t,i,r){var o=n.getData(),l=Wi.queryDataIndex(o,r),h=this;null!=l?Ke(wT.normalizeToArray(l),function(f){"highlight"===e?this._highlight(f):this._downplay(f)},this):o.each(function(f){"highlight"===e?h._highlight(f):h._downplay(f)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});$s(function k8t(e){e.registerChartView(z8t),e.registerSeriesModel(M8t),S8t(e),e.registerProcessor(function(n,t){n.eachSeriesByType("bar3d",function(i){var r=i.getData();r.filterSelf(function(o){return r.hasValue(o)})})})});var O8t=$u.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,n){return k$(this)},formatTooltip:function(e){return UE(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});const E8t=O8t;var I8t=fs.vec3;ze.Shader.import(C$);const L8t=ou.extend({type:"line3D",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this._api=n},render:function(e,n,t){var i=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=i,this._line3DMesh||(this._line3DMesh=new ze.Mesh({geometry:new Wx({useNativeLine:!1,sortTriangles:!0}),material:new ze.Material({shader:ze.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this.groupGL);var o=r.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[o]("fragment","SRGB_DECODE")}this._doRender(e,t),this._data=e.getData(),this._camera=r.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,n){var t=e.getData(),i=this._line3DMesh;i.geometry.resetOffset();var r=t.getLayout("points"),o=[],l=new Float32Array(r.length/3*4),h=0,f=!1;t.each(function(b){var S=wl(t,b),M=Sl(t,b);null==M&&(M=1),ze.parseColor(S,o),o[3]*=M,l[h++]=o[0],l[h++]=o[1],l[h++]=o[2],l[h++]=o[3],o[3]<.99&&(f=!0)}),i.geometry.setVertexCount(i.geometry.getPolylineVertexCount(r)),i.geometry.setTriangleCount(i.geometry.getPolylineTriangleCount(r)),i.geometry.addPolyline(r,l,Wi.firstNotNull(e.get("lineStyle.width"),1)),i.geometry.dirty(),i.geometry.updateBoundingBox();var m=i.material;m.transparent=f,m.depthMask=!f;var _=e.getModel("debug.wireframe");_.get("show")?(i.geometry.createAttribute("barycentric","float",3),i.geometry.generateBarycentric(),i.material.set("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",ze.parseColor(_.get("lineStyle.color")||"rgba(0,0,0,0.5)")),i.material.set("wireframeLineWidth",Wi.firstNotNull(_.get("lineStyle.width"),1))):i.material.set("both","WIREFRAME_TRIANGLE"),this._points=r,this._initHandler(e,n)},_updateAnimation:function(e){ze.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,n){var t=e.getData(),i=e.coordinateSystem,r=this._line3DMesh,o=-1;r.seriesIndex=e.seriesIndex,r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(l){var h=i.pointToData(l.point.array),f=t.indicesOfNearest("x",h[0])[0];f!==o&&(n.dispatchAction({type:"grid3DShowAxisPointer",value:[t.get("x",f),t.get("y",f),t.get("z",f)]}),r.dataIndex=f),o=f},this),r.on("mouseout",function(l){o=-1,r.dataIndex=-1,n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new En,n=this._camera;En.multiply(e,n.projectionMatrix,n.viewMatrix);var t=this._positionNDC,i=this._points,r=i.length/3;(!t||t.length/2!==r)&&(t=this._positionNDC=new Float32Array(2*r));for(var o=[],l=0;l<r;l++){var h=3*l,f=2*l;o[0]=i[h],o[1]=i[h+1],o[2]=i[h+2],o[3]=1,I8t.transformMat4(o,o,e.array),t[f]=o[0]/o[3],t[f+1]=o[1]/o[3]}},_pick:function(e,n,t,i,r,o){var l=this._positionNDC,f=this._data.hostModel.get("lineStyle.width"),m=-1,S=.5*t.viewport.width,M=.5*t.viewport.height;e=(e+1)*S,n=(n+1)*M;for(var O=1;O<l.length/2;O++){var I=(l[2*(O-1)]+1)*S,N=(l[2*(O-1)+1]+1)*M,V=(l[2*O]+1)*S,G=(l[2*O+1]+1)*M;fx(I,N,V,G,f,e,n)&&(m=(I-e)*(I-e)+(N-n)*(N-n)<(V-e)*(V-e)+(G-n)*(G-n)?O-1:O)}if(m>=0){var ne=3*m,ie=new $t(this._points[ne],this._points[ne+1],this._points[ne+2]);o.push({dataIndex:m,point:ie,pointWorld:ie.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(ie)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});$s(function R8t(e){e.registerChartView(L8t),e.registerSeriesModel(E8t),e.registerLayout(function(n,t){n.eachSeriesByType("line3D",function(i){var r=i.getData(),o=i.coordinateSystem;if(o){if("cartesian3D"!==o.type)return;var l=new Float32Array(3*r.count()),h=[],f=[],_=o.dimensions.map(function(b){return i.coordDimToDataDim(b)[0]});o&&r.each(_,function(b,S,M,O){h[0]=b,h[1]=S,h[2]=M,o.dataToPoint(h,f),l[3*O]=f[0],l[3*O+1]=f[1],l[3*O+2]=f[2]}),r.setLayout("points",l)}})})});const N8t=$u.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,n){return k$(this)},getFormattedLabel:function(e,n,t,i){var r=wT.getFormattedLabel(this,e,n,t,i);if(null==r){var o=this.getData();r=o.get(o.dimensions[o.dimensions.length-1],e)}return r},formatTooltip:function(e){return UE(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function cce(e,i,t){(i=i||document.createElement("canvas")).width=e,i.height=e;var r=i.getContext("2d");return t&&t(r),i}var uce={getMarginByStyle:function(e){var n=e.minMargin||0,t=0;e.stroke&&"none"!==e.stroke&&(t=null==e.lineWidth?1:e.lineWidth);var i=e.shadowBlur||0,r=e.shadowOffsetX||0,o=e.shadowOffsetY||0,l={};return l.left=Math.max(t/2,-r+i,n),l.right=Math.max(t/2,r+i,n),l.top=Math.max(t/2,-o+i,n),l.bottom=Math.max(t/2,o+i,n),l},createSymbolSprite:function(e,n,t,i){var r=function F8t(e,n,t,i){si(n)||(n=[n,n]);var r=uce.getMarginByStyle(t,i),o=n[0]+r.left+r.right,l=n[1]+r.top+r.bottom,h=Vxe(e,0,0,n[0],n[1]),f=Math.max(o,l);h.x=r.left,h.y=r.top,o>l?h.y+=(f-l)/2:h.x+=(f-o)/2;var m=h.getBoundingRect();return h.x-=m.x,h.y-=m.y,h.setStyle(t),h.update(),h.__size=f,h}(e,n,t),o=uce.getMarginByStyle(t);return{image:cce(r.__size,i,function(l){fj(l,r)}),margin:o}},createSDFFromCanvas:function(e,n,t,i){return cce(n,i,function(r){var l=e.getContext("2d").getImageData(0,0,e.width,e.height);r.putImageData(function B8t(e,n,t){var i=n.width,r=n.height,o=e.canvas.width,l=e.canvas.height,h=i/o,f=r/l;function m(V){return V<128?1:-1}function _(V,G){var X=1/0;V=Math.floor(V*h),G=Math.floor(G*f);for(var ie=m(n.data[4*(G*i+V)]),pe=Math.max(G-t,0);pe<Math.min(G+t,r);pe++)for(var ve=Math.max(V-t,0);ve<Math.min(V+t,i);ve++){var xe=ve-V,De=pe-G;if(ie!==m(n.data[4*(pe*i+ve)])){var Pe=xe*xe+De*De;Pe<X&&(X=Pe)}}return ie*Math.sqrt(X)}for(var b=e.createImageData(o,l),S=0;S<l;S++)for(var M=0;M<o;M++){var I=_(M,S)/t*.5+.5,N=4*(S*o+M);b.data[N++]=255*(1-I),b.data[N++]=255*(1-I),b.data[N++]=255*(1-I),b.data[N++]=255}return b}(r,l,t),0,0)})},createSimpleSprite:function(e,n){return cce(e,n,function(t){var i=e/2;t.beginPath(),t.arc(i,i,60,0,2*Math.PI,!1),t.closePath();var r=t.createRadialGradient(i,i,0,i,i,i);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=r,t.fill()})}};const rwe=uce;var owe=fs.vec3;const V8t={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,n){var t=this.indices,i=owe.create();if(!t){t=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var r=0;r<t.length;r++)t[r]=r}if(0===n){var h,o=this.attributes.position,l=(e=e.array,0);for((!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount)),r=0;r<this.vertexCount;r++){o.get(r,i);var f=owe.sqrDist(i,e);isNaN(f)&&(f=1e7,l++),0===r?(h=f,f=0):f-=h,this._zList[r]=f}this._noneCount=l}if(this.vertexCount<2e4)0===n&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(r=0;r<3;r++)this._progressiveQuickSort(3*n+r);this.dirtyIndices()},_simpleSort:function(e){var n=this._zList,t=this.indices;function i(r,o){return n[o]-n[r]}e?Array.prototype.sort.call(t,i):D$.sort(t,i,0,t.length-1)},_progressiveQuickSort:function(e){var n=this._zList,t=this.indices;this._quickSort=this._quickSort||new D$,this._quickSort.step(t,function(i,r){return n[r]-n[i]},e)}};var hce=fs.vec4;ze.Shader.import("@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end");var Y8t=ze.Mesh.extend(function(){var e=new ze.Geometry({dynamic:!0,attributes:{color:new ze.Geometry.Attribute("color","float",4,"COLOR"),position:new ze.Geometry.Attribute("position","float",3,"POSITION"),size:new ze.Geometry.Attribute("size","float",1),prevPosition:new ze.Geometry.Attribute("prevPosition","float",3),prevSize:new ze.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,V8t);var n=new ze.Material({shader:ze.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});n.enableTexture("sprite"),n.define("both","VERTEX_COLOR"),n.define("both","VERTEX_SIZE");var t=new ze.Texture2D({image:document.createElement("canvas"),flipY:!1});return n.set("sprite",t),e.pick=this._pick.bind(this),{geometry:e,material:n,mode:ze.Mesh.POINTS,sizeScale:1}},{_pick:function(e,n,t,i,r,o){var l=this._positionNDC;if(l)for(var h=t.viewport,f=2/h.width,m=2/h.height,_=this.geometry.vertexCount-1;_>=0;_--){var b,S=l[2*(b=this.geometry.indices?this.geometry.indices[_]:_)],M=l[2*b+1],I=this.geometry.attributes.size.get(b)/this.sizeScale/2;if(e>S-I*f&&e<S+I*f&&n>M-I*m&&n<M+I*m){var N=new ze.Vector3,V=new ze.Vector3;this.geometry.attributes.position.get(b,N.array),ze.Vector3.transformMat4(V,N,this.worldTransform),o.push({vertexIndex:b,point:N,pointWorld:V,target:this,distance:V.distance(i.getWorldPosition())})}}},updateNDCPosition:function(e,n,t){var i=this._positionNDC,r=this.geometry;(!i||i.length/2!==r.vertexCount)&&(i=this._positionNDC=new Float32Array(2*r.vertexCount));for(var o=hce.create(),l=0;l<r.vertexCount;l++)r.attributes.position.get(l,o),o[3]=1,hce.transformMat4(o,o,e.array),hce.scale(o,o,1/o[3]),i[2*l]=o[0],i[2*l+1]=o[1]}});const U8t=Y8t;function dce(e,n){this.rootNode=new ze.Node,this.is2D=e,this._labelsBuilder=new Kle(256,256,n),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=n,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}dce.prototype={constructor:dce,highlightOnMouseover:!0,update:function(e,n,t,i,r){var o=this._prevMesh;this._prevMesh=this._mesh,this._mesh=o;var l=e.getData();if(null==i&&(i=0),null==r&&(r=l.count()),this._startDataIndex=i,this._endDataIndex=r-1,!this._mesh){var h=this._prevMesh&&this._prevMesh.material;this._mesh=new U8t({renderOrder:10,frustumCulling:!1}),h&&(this._mesh.material=h)}h=this._mesh.material;var f=this._mesh.geometry,m=f.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var _=this._getSymbolInfo(e,i,r),b=t.getDevicePixelRatio(),S=e.getModel("itemStyle").getItemStyle(),M=e.get("large"),O=1;_.maxSize>2?(O=this._updateSymbolSprite(e,S,_,b),h.enableTexture("sprite")):h.disableTexture("sprite"),m.position.init(r-i);var I=[];if(M){h.undefine("VERTEX_SIZE"),h.undefine("VERTEX_COLOR");var N=function wyt(e){const n=e.getVisual("style");if(n)return n[e.getVisual("drawType")]}(l),V=function Syt(e){return e.getVisual("style").opacity}(l);ze.parseColor(N,I),I[3]*=V,h.set({color:I,u_Size:_.maxSize*this._sizeScale})}else h.set({color:[1,1,1,1]}),h.define("VERTEX_SIZE"),h.define("VERTEX_COLOR"),m.size.init(r-i),m.color.init(r-i),this._originalOpacity=new Float32Array(r-i);for(var G=l.getLayout("points"),X=m.position.value,ne=0;ne<r-i;ne++){var ie=3*ne,pe=2*ne;if(this.is2D?(X[ie]=G[pe],X[ie+1]=G[pe+1],X[ie+2]=-10):(X[ie]=G[ie],X[ie+1]=G[ie+1],X[ie+2]=G[ie+2]),!M){N=wl(l,ne),V=Sl(l,ne),ze.parseColor(N,I),I[3]*=V,m.color.set(ne,I);var ve=l.getItemVisual(ne,"symbolSize");ve=ve instanceof Array?Math.max(ve[0],ve[1]):ve,isNaN(ve)&&(ve=0),m.size.value[ne]=ve*O*this._sizeScale,this._originalOpacity[ne]=I[3]}}this._mesh.sizeScale=O,f.updateBoundingBox(),f.dirty(),this._updateMaterial(e,S);var ye=e.coordinateSystem;ye&&ye.viewGL&&h[ye.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE"),M||this._updateLabelBuilder(e,i,r),this._updateHandler(e,n,t),this._updateAnimation(e),this._api=t},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,n,t,i){t.maxSize=Math.min(2*t.maxSize,200);var r=[];return t.aspect>1?(r[0]=t.maxSize,r[1]=t.maxSize/t.aspect):(r[1]=t.maxSize,r[0]=t.maxSize*t.aspect),r[0]=r[0]||1,r[1]=r[1]||1,(this._symbolType!==t.type||!function G8t(e,n){return e&&n&&e[0]===n[0]&&e[1]===n[1]}(this._symbolSize,r)||this._lineWidth!==n.lineWidth)&&(rwe.createSymbolSprite(t.type,r,{fill:"#fff",lineWidth:n.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(r[0]/2,10)},this._spriteImageCanvas),rwe.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=t.type,this._symbolSize=r,this._lineWidth=n.lineWidth),this._spriteImageCanvas.width/t.maxSize*i},_updateMaterial:function(e,n){var t="lighter"===e.get("blendMode")?ze.additiveBlend:null,i=this._mesh.material;i.blend=t,i.set("lineWidth",n.lineWidth/20);var r=ze.parseColor(n.stroke);i.set("strokeColor",r),i.transparent=!0,i.depthMask=!1,i.depthTest=!this.is2D,i.sortVertices=!this.is2D},_updateLabelBuilder:function(e,l,t){var i=e.getData(),r=this._mesh.geometry,o=r.attributes.position.value,h=this._mesh.sizeScale;this._labelsBuilder.updateData(i,l=this._startDataIndex,t),this._labelsBuilder.getLabelPosition=function(f,m,_){var b=3*(f-l);return[o[b],o[b+1],o[b+2]]},this._labelsBuilder.getLabelDistance=function(f,m,_){return r.attributes.size.get(f-l)/h/2+_},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){ze.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,n,t){var f,i=e.getData(),r=this._mesh,o=this,l=-1,h=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;h&&(f=e.coordinateSystem.model),r.seriesIndex=e.seriesIndex,r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(m){var _=m.vertexIndex+o._startDataIndex;_!==l&&(this.highlightOnMouseover&&(this.downplay(i,l),this.highlight(i,_),this._labelsBuilder.updateLabels([_])),h&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(e.coordDimToDataDim("x")[0],_),i.get(e.coordDimToDataDim("y")[0],_),i.get(e.coordDimToDataDim("z")[0],_)],grid3DIndex:f.componentIndex})),r.dataIndex=_,l=_},this),r.on("mouseout",function(m){this.highlightOnMouseover&&(this.downplay(i,m.vertexIndex+o._startDataIndex),this._labelsBuilder.updateLabels()),l=-1,r.dataIndex=-1,h&&t.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:f.componentIndex})},this)},updateLayout:function(e,n,t){var i=e.getData();if(this._mesh){var r=this._mesh.geometry.attributes.position.value,o=i.getLayout("points");if(this.is2D)for(var l=0;l<o.length/2;l++){var h=3*l,f=2*l;r[h]=o[f],r[h+1]=o[f+1],r[h+2]=-10}else for(l=0;l<o.length;l++)r[l]=o[l];this._mesh.geometry.dirty(),t.getZr().refresh()}},updateView:function(e){if(this._mesh){var n=new En;En.mul(n,e.viewMatrix,this._mesh.worldTransform),En.mul(n,e.projectionMatrix,n),this._mesh.updateNDCPosition(n,this.is2D,this._api)}},highlight:function(e,n){if(!(n>this._endDataIndex||n<this._startDataIndex)){var i=e.getItemModel(n).getModel("emphasis.itemStyle"),r=i.get("color"),o=i.get("opacity");null==r&&(r=QG(wl(e,n),-.4)),null==o&&(o=Sl(e,n));var h=ze.parseColor(r);h[3]*=o,this._mesh.geometry.attributes.color.set(n-this._startDataIndex,h),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,n){if(!(n>this._endDataIndex||n<this._startDataIndex)){var t=wl(e,n),i=Sl(e,n),r=ze.parseColor(t);r[3]*=i,this._mesh.geometry.attributes.color.set(n-this._startDataIndex,r),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var n=this._mesh.geometry,t=0;t<n.vertexCount;t++)n.attributes.color.value[4*t+3]=this._originalOpacity[t]*e;n.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var n=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",n/this._sizeScale*e);var t=this._mesh.geometry.attributes;if(t.size.value)for(var i=0;i<t.size.value.length;i++)t.size.value[i]=t.size.value[i]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,n){n&&e.material.set("positionTexture",n),e.material[n?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,n,t){if(e.get("large"))return(i=Wi.firstNotNull(e.get("symbolSize"),1))instanceof Array?(m=Math.max(i[0],i[1]),o=i[0]/i[1]):(m=i,o=1),{maxSize:i,type:e.get("symbol"),aspect:o};for(var o,r=e.getData(),h=r.getItemVisual(0,"symbol")||"circle",m=0,_=n;_<t;_++){var S,i=r.getItemVisual(_,"symbolSize"),b=r.getItemVisual(_,"symbol");if(i instanceof Array)S=i[0]/i[1],m=Math.max(Math.max(i[0],i[1]),m);else{if(isNaN(i))continue;S=1,m=Math.max(i,m)}h=b,o=S}return{maxSize:m,type:h,aspect:o}}};const GE=dce,W8t=ou.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,n,t){if(this.groupGL.removeAll(),e.getData().count()){var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL),this._camera=i.viewGL.camera;var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new GE(!1,t)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),r.update(e,n,t),r.updateView(i.viewGL.camera)}}},incrementalPrepareRender:function(e,n,t){var i=e.coordinateSystem;i&&i.viewGL&&(i.viewGL.add(this.groupGL),this._camera=i.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,n,t,i){if(!(e.end<=e.start)){var r=this._pointsBuilderList[this._currentStep];r||(r=new GE(!1,i),this._pointsBuilderList[this._currentStep]=r),this.groupGL.add(r.rootNode),r.update(n,t,i,e.start,e.end),r.updateView(n.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,n,t,i){this._toggleStatus("highlight",e,n,t,i)},downplay:function(e,n,t,i){this._toggleStatus("downplay",e,n,t,i)},_toggleStatus:function(e,n,t,i,r){var o=n.getData(),l=Wi.queryDataIndex(o,r),h="highlight"===e;null!=l?Ke(wT.normalizeToArray(l),function(f){for(var m=0;m<this._pointsBuilderList.length;m++){var _=this._pointsBuilderList[m];h?_.highlight(o,f):_.downplay(o,f)}},this):o.each(function(f){for(var m=0;m<this._pointsBuilderList.length;m++){var _=this._pointsBuilderList[m];h?_.highlight(o,f):_.downplay(o,f)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});$s(function j8t(e){e.registerChartView(W8t),e.registerSeriesModel(N8t),e.registerLayout({seriesType:"scatter3D",reset:function(n){var t=n.coordinateSystem;if(t){var i=t.dimensions;if(i.length<3)return;var r=i.map(function(h){return n.coordDimToDataDim(h)[0]}),o=[],l=[];return{progress:function(h,f){for(var m=new Float32Array(3*(h.end-h.start)),_=h.start;_<h.end;_++){var b=3*(_-h.start);o[0]=f.get(r[0],_),o[1]=f.get(r[1],_),o[2]=f.get(r[2],_),t.dataToPoint(o,l),m[b]=l[0],m[b+1]=l[1],m[b+2]=l[2]}f.setLayout("points",m)}}}}})});var Ks=fs.vec3,lwe=fs.vec2,d2=Ks.normalize,O$=Ks.cross,cwe=Ks.sub,fce=Ks.add,p3=Ks.create,g3=p3(),_p=p3(),m3=p3(),WE=p3(),uwe=[],hwe=[];function $8t(e,n){lwe.copy(uwe,e[0]),lwe.copy(hwe,e[1]);var t=[],i=t[0]=p3(),r=t[1]=p3(),o=t[2]=p3(),l=t[3]=p3();n.dataToPoint(uwe,i),n.dataToPoint(hwe,l),d2(g3,i),cwe(_p,l,i),d2(_p,_p),O$(m3,_p,g3),d2(m3,m3),O$(_p,g3,m3),fce(r,g3,_p),d2(r,r),d2(g3,l),cwe(_p,i,l),d2(_p,_p),O$(m3,_p,g3),d2(m3,m3),O$(_p,g3,m3),fce(o,g3,_p),d2(o,o),fce(WE,i,l),d2(WE,WE);var h=Ks.dot(i,WE),f=Ks.dot(WE,r),m=(Math.max(Ks.len(i),Ks.len(l))-h)/f*2;return Ks.scaleAndAdd(r,i,r,m),Ks.scaleAndAdd(o,l,o,m),t}function dwe(e,n){for(var t=new Float32Array(3*e.length),i=0,r=[],o=0;o<e.length;o++)n.dataToPoint(e[o],r),t[i++]=r[0],t[i++]=r[1],t[i++]=r[2];return t}function fwe(e){var n=[];return e.each(function(t){var i=e.getItemModel(t),r=i.option instanceof Array?i.option:i.getShallow("coords",!0);n.push(r)}),{coordsList:n}}function pwe(e,n,t){var i=e.getData(),r=e.get("polyline"),o=fwe(i);i.setLayout("lineType",r?"polyline":"cubicBezier"),i.each(function(l){var h=o.coordsList[l],f=r?dwe(h,n):function X8t(e,n,t){var i=[],r=i[0]=Ks.create(),o=i[1]=Ks.create(),l=i[2]=Ks.create(),h=i[3]=Ks.create();n.dataToPoint(e[0],r),n.dataToPoint(e[1],h);var f=Ks.dist(r,h);return Ks.lerp(o,r,h,.3),Ks.lerp(l,r,h,.3),Ks.scaleAndAdd(o,o,t,Math.min(.1*f,10)),Ks.scaleAndAdd(l,l,t,Math.min(.1*f,10)),i}(h,n,t);i.setItemLayout(l,f)})}function Z8t(e,n){e.eachSeriesByType("lines3D",function(t){var i=t.coordinateSystem;"globe"===i.type?function q8t(e,n){var t=e.getData(),i=e.get("polyline");t.setLayout("lineType",i?"polyline":"cubicBezier");var r=fwe(t);t.each(function(o){t.setItemLayout(o,(i?dwe:$8t)(r.coordsList[o],n))})}(t,i):"geo3D"===i.type?pwe(t,i,[0,1,0]):("mapbox3D"===i.type||"maptalks3D"===i.type)&&pwe(t,i,[0,0,1])})}const K8t=$u.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,n){var t=new Xg(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(i,r,o,l){if(i instanceof Array)return NaN;t.hasItemOption=!0;var h=i.value;return null!=h?h instanceof Array?h[l]:h:void 0}),t},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}});var gwe=fs.vec3;function J8t(e){return e>0?1:-1}ze.Shader.import("@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end");const e6t=ze.Mesh.extend(function(){var e=new ze.Material({shader:new ze.Shader(ze.Shader.source("ecgl.trail2.vertex"),ze.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),n=new Wx({dynamic:!0});return n.createAttribute("dist","float",1),n.createAttribute("distAll","float",1),n.createAttribute("start","float",1),{geometry:n,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,n,t){var i=e.hostModel,r=this.geometry,o=i.getModel("effect"),l=o.get("trailWidth")*n.getDevicePixelRatio(),h=o.get("trailLength"),f=i.get("effect.constantSpeed"),m=1e3*i.get("effect.period"),_=null!=f;_?this.material.set("speed",f/1e3):this.material.set("period",m),this.material[_?"define":"undefine"]("vertex","CONSTANT_SPEED");var b=i.get("polyline");r.trailLength=h,this.material.set("trailLength",h),r.resetOffset(),["position","positionPrev","positionNext"].forEach(function(pe){r.attributes[pe].value=t.attributes[pe].value}),["dist","distAll","start","offset","color"].forEach(function(pe){r.attributes[pe].init(r.vertexCount)}),r.indices=t.indices;var M=[],O=o.get("trailColor"),I=o.get("trailOpacity"),N=null!=O,V=null!=I;this.updateWorldTransform();var G=this.worldTransform.x.len(),X=this.worldTransform.y.len(),K=this.worldTransform.z.len(),ne=0,ie=0;e.each(function(pe){var ve=e.getItemLayout(pe),ye=V?I:Sl(e,pe),Se=wl(e,pe);null==ye&&(ye=1),(M=ze.parseColor(N?O:Se,M))[3]*=ye;for(var xe=b?t.getPolylineVertexCount(ve):t.getCubicCurveVertexCount(ve[0],ve[1],ve[2],ve[3]),De=0,Pe=[],Re=[],ke=ne;ke<ne+xe;ke++)r.attributes.position.get(ke,Pe),Pe[0]*=G,Pe[1]*=X,Pe[2]*=K,ke>ne&&(De+=gwe.dist(Pe,Re)),r.attributes.dist.set(ke,De),gwe.copy(Re,Pe);ie=Math.max(ie,De);var Oe=Math.random()*(_?De:m);for(ke=ne;ke<ne+xe;ke++)r.attributes.distAll.set(ke,De),r.attributes.start.set(ke,Oe),r.attributes.offset.set(ke,J8t(t.attributes.offset.get(ke))*l/2),r.attributes.color.set(ke,M);ne+=xe}),this.material.set("spotSize",.1*ie*h),this.material.set("spotIntensity",o.get("spotIntensity")),r.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});ze.Shader.import(C$);const n6t=ou.extend({type:"lines3D",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this._meshLinesMaterial=new ze.Material({shader:ze.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new ze.Mesh({geometry:new Wx,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new e6t},render:function(e,n,t){this.groupGL.add(this._linesMesh);var i=e.coordinateSystem,r=e.getData();if(i&&i.viewGL){i.viewGL.add(this.groupGL),this._updateLines(e,n,t);var l=i.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[l]("fragment","SRGB_DECODE"),this._trailMesh.material[l]("fragment","SRGB_DECODE")}var h=this._trailMesh;if(h.stopAnimation(),e.get("effect.show")){this.groupGL.add(h),h.updateData(r,t,this._linesMesh.geometry),h.__time=h.__time||0;var f=36e5;this._curveEffectsAnimator=h.animate("",{loop:!0}).when(f,{__time:f}).during(function(){h.setAnimationTime(h.__time)}).start()}else this.groupGL.remove(h),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?ze.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,n,t){var i=e.getData(),r=e.coordinateSystem,o=this._linesMesh.geometry,l=e.get("polyline");o.expandLine=!0;var h=function t6t(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}(r);o.segmentScale=h/20;var f="lineStyle.width".split("."),m=t.getDevicePixelRatio(),_=0;i.each(function(O){var N=i.getItemModel(O).get(f);null==N&&(N=1),i.setItemVisual(O,"lineWidth",N),_=Math.max(N,_)}),o.useNativeLine=!1;var b=0,S=0;i.each(function(O){var I=i.getItemLayout(O);l?(b+=o.getPolylineVertexCount(I),S+=o.getPolylineTriangleCount(I)):(b+=o.getCubicCurveVertexCount(I[0],I[1],I[2],I[3]),S+=o.getCubicCurveTriangleCount(I[0],I[1],I[2],I[3]))}),o.setVertexCount(b),o.setTriangleCount(S),o.resetOffset();var M=[];i.each(function(O){var I=i.getItemLayout(O),N=wl(i,O),V=Sl(i,O),G=i.getItemVisual(O,"lineWidth")*m;null==V&&(V=1),(M=ze.parseColor(N,M))[3]*=V,l?o.addPolyline(I,M,G):o.addCubicCurve(I[0],I[1],I[2],I[3],M,G)}),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function mwe(e,n){for(var t=[],i=0;i<n.length;i++)t.push(e.dataToPoint(n[i]));return t}$s(function i6t(e){e.registerChartView(n6t),e.registerSeriesModel(K8t),e.registerLayout(Z8t),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})});var vwe=$u.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var n=this.coordinateSystem,t=this.getData().getItemModel(e),i=t.option instanceof Array?t.option:t.getShallow("coords");t.get("multiPolygon")||(i=[i]);for(var r=[],o=0;o<i.length;o++){for(var l=[],h=1;h<i[o].length;h++)l.push(mwe(n,i[o][h]));r.push({exterior:mwe(n,i[o][0]),interiors:l})}return r},getInitialData:function(e){var n=new Xg(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(t,i,r,o){if(t instanceof Array)return NaN;n.hasItemOption=!0;var l=t.value;return null!=l?l instanceof Array?l[o]:l:void 0}),n},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});ti(vwe.prototype,_T);const r6t=vwe,o6t=ou.extend({type:"polygons3D",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,n,t){this.groupGL.removeAll();var i=e.coordinateSystem;i&&i.viewGL&&i.viewGL.add(this.groupGL);var r=this._geo3DBuilderList[0];r||((r=new P$(t)).extrudeY="mapbox3D"!==i.type&&"maptalks3D"!==i.type,this._geo3DBuilderList[0]=r),this._updateShaderDefines(i,r),r.update(e,n,t),this._geo3DBuilderList.length=1,this.groupGL.add(r.rootNode)},incrementalPrepareRender:function(e,n,t){this.groupGL.removeAll();var i=e.coordinateSystem;i&&i.viewGL&&i.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,n,t,i){var r=this._geo3DBuilderList[this._currentStep],o=n.coordinateSystem;r||((r=new P$(i)).extrudeY="mapbox3D"!==o.type&&"maptalks3D"!==o.type,this._geo3DBuilderList[this._currentStep]=r),r.update(n,t,i,e.start,e.end),this.groupGL.add(r.rootNode),this._updateShaderDefines(o,r),this._currentStep++},_updateShaderDefines:function(e,n){var t=e.viewGL.isLinearSpace()?"define":"undefine";n.rootNode.traverse(function(i){i.material&&(i.material[t]("fragment","SRGB_DECODE"),("mapbox3D"===e.type||"maptalks3D"===e.type)&&(i.material.define("fragment","NORMAL_UP_AXIS",2),i.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});$s(function a6t(e){e.registerChartView(o6t),e.registerSeriesModel(r6t)});var _we=$u.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return UE(this,e)},getInitialData:function(e,n){var t=e.data;function i(Ye){return!(isNaN(Ye.min)||isNaN(Ye.max)||isNaN(Ye.step))}function r(Ye){var Ge=qoe;return Math.max(Ge(Ye.min),Ge(Ye.max),Ge(Ye.step))+1}if(!t)if(e.parametric){var K=e.parametricEquation||{},ne=K.u||{},ie=K.v||{};["u","v"].forEach(function(Ge){i(K[Ge])}),["x","y","z"].forEach(function(Ge){});var pe=Math.floor((ne.max+ne.step-ne.min)/ne.step),ve=Math.floor((ie.max+ie.step-ie.min)/ie.step);t=new Float32Array(pe*ve*5);for(var ye=r(ne),Se=r(ie),S=0,M=0;M<ve;M++)for(var O=0;O<pe;O++){var De=M*ie.step+ie.min,Pe=Gu(Math.min(O*ne.step+ne.min,ne.max),ye),Re=Gu(Math.min(De,ie.max),Se),I=K.x(Pe,Re),N=K.y(Pe,Re),X=K.z(Pe,Re);t[S++]=I,t[S++]=N,t[S++]=X,t[S++]=Pe,t[S++]=Re}}else{var o=e.equation||{},l=o.x||{},h=o.y||{};if(["x","y"].forEach(function(Ye){i(o[Ye])}),"function"!=typeof o.z)return;var f=Math.floor((l.max+l.step-l.min)/l.step),m=Math.floor((h.max+h.step-h.min)/h.step);t=new Float32Array(f*m*3);var _=r(l),b=r(h);for(S=0,M=0;M<m;M++)for(O=0;O<f;O++){I=O*l.step+l.min,N=M*h.step+h.min;var V=Gu(Math.min(I,l.max),_),G=Gu(Math.min(N,h.max),b);X=o.z(V,G),t[S++]=V,t[S++]=G,t[S++]=X}}var ke=["x","y","z"];return e.parametric&&ke.push("u","v"),k$(this,ke,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});ti(_we.prototype,_T);const s6t=_we;var e5=fs.vec3;function l6t(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const c6t=ou.extend({type:"surface",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node},render:function(e,n,t){var i=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=i,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var r=e.coordinateSystem,o=e.get("shading"),l=e.getData(),h="ecgl."+o;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==h)&&(this._surfaceMesh.material=ze.createMaterial(h,["VERTEX_COLOR","DOUBLE_SIDED"])),ze.setMaterialFromModel(o,this._surfaceMesh.material,e,t),r&&r.viewGL){r.viewGL.add(this.groupGL);var f=r.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[f]("fragment","SRGB_DECODE")}var m=e.get("parametric"),_=e.get("dataShape");_||(_=this._getDataShape(l,m));var b=e.getModel("wireframe"),S=b.get("lineStyle.width"),M=b.get("show")&&S>0;this._updateSurfaceMesh(this._surfaceMesh,e,_,M);var O=this._surfaceMesh.material;M?(O.define("WIREFRAME_QUAD"),O.set("wireframeLineWidth",S),O.set("wireframeLineColor",ze.parseColor(b.get("lineStyle.color")))):O.undefine("WIREFRAME_QUAD"),this._initHandler(e,t),this._updateAnimation(e)},_updateAnimation:function(e){ze.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new ze.Mesh({geometry:new ze.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new ze.Material({shader:new ze.Shader(ze.Shader.source("ecgl.sm.depth.vertex"),ze.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,Zle),e},_initHandler:function(e,n){var t=e.getData(),i=this._surfaceMesh,r=e.coordinateSystem;i.seriesIndex=e.seriesIndex;var l=-1;i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(h){var f=function o(h,f){for(var m=1/0,_=-1,b=[],S=0;S<h.length;S++){i.geometry.attributes.position.get(h[S],b);var M=e5.dist(f.array,b);M<m&&(m=M,_=h[S])}return _}(h.triangle,h.point);if(f>=0){var m=[];i.geometry.attributes.position.get(f,m);for(var _=r.pointToData(m),b=1/0,S=-1,M=[],O=0;O<t.count();O++){M[0]=t.get("x",O),M[1]=t.get("y",O),M[2]=t.get("z",O);var I=e5.squaredDistance(M,_);I<b&&(S=O,b=I)}S!==l&&n.dispatchAction({type:"grid3DShowAxisPointer",value:_}),l=S,i.dataIndex=S}else i.dataIndex=-1},this),i.on("mouseout",function(h){l=-1,i.dataIndex=-1,n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,n,t,i){var r=e.geometry,o=n.getData(),l=o.getLayout("points"),h=0;o.each(function(Jn){o.hasValue(Jn)||h++});var f=h||i,m=r.attributes.position,_=r.attributes.normal,b=r.attributes.texcoord0,S=r.attributes.barycentric,M=r.attributes.color,O=t[0],I=t[1],V="color"!==n.get("shading");if(f){var G=(O-1)*(I-1)*4;m.init(G),i&&S.init(G)}else m.value=new Float32Array(l);M.init(r.vertexCount),b.init(r.vertexCount);var X=[0,3,1,1,3,2],K=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],ne=r.indices=new(r.vertexCount>65535?Uint32Array:Uint16Array)((O-1)*(I-1)*6),ie=function(Jn,Hn,ir){ir[1]=Jn*I+Hn,ir[0]=Jn*I+Hn+1,ir[3]=(Jn+1)*I+Hn+1,ir[2]=(Jn+1)*I+Hn},pe=!1;if(f){var ve=[],ye=[],Se=0;V?_.init(r.vertexCount):_.value=null;for(var xe=[[],[],[]],De=[],Pe=[],Re=e5.create(),ke=function(Jn,Hn,ir){var ps=3*Hn;return ir[0]=Jn[ps],ir[1]=Jn[ps+1],ir[2]=Jn[ps+2],ir},Oe=new Float32Array(l.length),Ye=new Float32Array(l.length/3*4),Ge=0;Ge<o.count();Ge++)if(o.hasValue(Ge)){var Yt=ze.parseColor(wl(o,Ge));null!=(ct=Sl(o,Ge))&&(Yt[3]*=ct),Yt[3]<.99&&(pe=!0);for(var We=0;We<4;We++)Ye[4*Ge+We]=Yt[We]}var Tt=[1e7,1e7,1e7];for(Ge=0;Ge<O-1;Ge++)for(var Lt=0;Lt<I-1;Lt++){var Qt=4*(Ge*(I-1)+Lt);ie(Ge,Lt,ve);var zn=!1;for(We=0;We<4;We++)ke(l,ve[We],ye),l6t(ye)&&(zn=!0);for(We=0;We<4;We++)zn?m.set(Qt+We,Tt):(ke(l,ve[We],ye),m.set(Qt+We,ye)),i&&S.set(Qt+We,K[We]);for(We=0;We<6;We++)ne[Se++]=X[We]+Qt;if(V&&!zn)for(We=0;We<2;We++){for(var Ar=3*We,vn=0;vn<3;vn++)ke(l,Nn=ve[X[Ar]+vn],xe[vn]);for(e5.sub(De,xe[0],xe[1]),e5.sub(Pe,xe[1],xe[2]),e5.cross(Re,De,Pe),vn=0;vn<3;vn++){var ht=3*ve[X[Ar]+vn];Oe[ht]=Oe[ht]+Re[0],Oe[ht+1]=Oe[ht+1]+Re[1],Oe[ht+2]=Oe[ht+2]+Re[2]}}}if(V)for(Ge=0;Ge<Oe.length/3;Ge++)ke(Oe,Ge,Re),e5.normalize(Re,Re),Oe[3*Ge]=Re[0],Oe[3*Ge+1]=Re[1],Oe[3*Ge+2]=Re[2];Yt=[];var gn=[];for(Ge=0;Ge<O-1;Ge++)for(Lt=0;Lt<I-1;Lt++)for(Qt=4*(Ge*(I-1)+Lt),ie(Ge,Lt,ve),We=0;We<4;We++){for(vn=0;vn<4;vn++)Yt[vn]=Ye[4*ve[We]+vn];var Nn;M.set(Qt+We,Yt),V&&(ke(Oe,ve[We],Re),_.set(Qt+We,Re)),gn[0]=(Nn=ve[We])%I/(I-1),gn[1]=Math.floor(Nn/I)/(O-1),b.set(Qt+We,gn)}}else{for(gn=[],Ge=0;Ge<o.count();Ge++){var ct;gn[0]=Ge%I/(I-1),gn[1]=Math.floor(Ge/I)/(O-1),Yt=ze.parseColor(wl(o,Ge)),null!=(ct=Sl(o,Ge))&&(Yt[3]*=ct),Yt[3]<.99&&(pe=!0),M.set(Ge,Yt),b.set(Ge,gn)}ve=[];var Mt=0;for(Ge=0;Ge<O-1;Ge++)for(Lt=0;Lt<I-1;Lt++)for(ie(Ge,Lt,ve),We=0;We<6;We++)ne[Mt++]=ve[X[We]];V?r.generateVertexNormals():_.value=null}e.material.get("normalMap")&&r.generateTangents(),r.updateBoundingBox(),r.dirty(),e.material.transparent=pe,e.material.depthMask=!pe},_getDataShape:function(e,n){for(var t=-1/0,i=0,r=0,l=!1,h=n?"u":"x",f=e.count(),m=0;m<f;m++){var _=e.get(h,m);_<t&&(r=0,i++),t=_,r++}if((!i||1===r)&&(l=!0),!l)return[i+1,r];for(var b=Math.floor(Math.sqrt(f));b>0;){if(Math.floor(f/b)===f/b)return[b,f/b];b--}return[b=Math.floor(Math.sqrt(f)),b]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function ywe(e,n){for(var t=[],i=0;i<n.length;i++)t.push(e.dataToPoint(n[i]));return t}$s(function u6t(e){e.registerChartView(c6t),e.registerSeriesModel(s6t),e.registerLayout(function(n,t){n.eachSeriesByType("surface",function(i){var r=i.coordinateSystem,o=i.getData(),l=new Float32Array(3*o.count()),h=[NaN,NaN,NaN];if(r&&"cartesian3D"===r.type){var m=r.dimensions.map(function(_){return i.coordDimToDataDim(_)[0]});o.each(m,function(_,b,S,M){var O;O=o.hasValue(M)?r.dataToPoint([_,b,S]):h,l[3*M]=O[0],l[3*M+1]=O[1],l[3*M+2]=O[2]})}o.setLayout("points",l)})})});var ST=$u.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var n=this.get("coordinateSystem");null!=n&&"geo3D"!==n&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var n=gE(e.data,{coordDimensions:["value"]}),t=new Xg(n,this);t.initData(e.data);var i={};return t.each(function(r){var o=t.getName(r),l=t.getItemModel(r);i[o]=l}),this._regionModelMap=i,t},formatTooltip:function(e){return UE(this,e)},getRegionModel:function(e){var n=this.getData().getName(e);return this._regionModelMap[n]||new ju(null,this)},getRegionPolygonCoords:function(e){var n=this.coordinateSystem,t=this.getData().getName(e);if(n.transform)return(i=n.getRegion(t))?i.geometries:[];this._geo||(this._geo=H7e.createGeo3D(this));for(var i=this._geo.getRegion(t),r=[],o=0;o<i.geometries.length;o++){var l=i.geometries[o],h=[],f=ywe(n,l.exterior);if(h&&h.length)for(var m=0;m<l.interiors.length;m++)h.push(ywe(n,h[m]));r.push({interiors:h,exterior:f})}return r},getFormattedLabel:function(e,n){var t=wT.getFormattedLabel(this,e,n);return null==t&&(t=this.getData().getName(e)),t},defaultOption:{coordinateSystem:"geo3D",data:null}});ti(ST.prototype,M7e),ti(ST.prototype,v$),ti(ST.prototype,fT),ti(ST.prototype,pT),ti(ST.prototype,_T);const h6t=ST,d6t=ou.extend({type:"map3D",__ecgl__:!0,init:function(e,n){this._geo3DBuilder=new P$(n),this.groupGL=new ze.Node},render:function(e,n,t){var i=e.coordinateSystem;if(i&&i.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),i.viewGL.add(this.groupGL),"geo3D"===i.type){this._sceneHelper||(this._sceneHelper=new gT,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(i.viewGL.scene),this._sceneHelper.updateLight(e),i.viewGL.setPostEffect(e.getModel("postEffect"),t),i.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var o=this._control;o||(o=this._control=new y$({zr:t.getZr()}),this._control.init());var l=e.getModel("viewControl");o.setViewGL(i.viewGL),o.setFromViewControlModel(l,0),o.off("update"),o.on("update",function(){t.dispatchAction({type:"map3DChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,n,t,0,e.getData().count());var h=i.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(f){f.material&&f.material[h]("fragment","SRGB_DECODE")})}},afterRender:function(e,n,t,i){var r=i.renderer,o=e.coordinateSystem;o&&"geo3D"===o.type&&(this._sceneHelper.updateAmbientCubemap(r,e,t),this._sceneHelper.updateSkybox(r,e,t))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});$s(function f6t(e){Y7e(e),e.registerChartView(d6t),e.registerSeriesModel(h6t),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"series",subType:"map3D",query:n},function(i){i.setView(n)})})});const p6t=$u.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return function Nvt(e){return function evt(e,n,t){t=t||{};var r,i=n.getSourceManager(),o=!1;e?(o=!0,r=Yae(e)):o=(r=i.getSource()).sourceFormat===lp;var l=function X0t(e){var n=e.get("coordinateSystem"),t=new $0t(n),i=q0t[n];if(i)return i(e,t,t.axisMap,t.categoryAxisMap),t}(n),h=function Q0t(e,n){var r,t=e.get("coordinateSystem"),i=jW.get(t);return n&&n.coordSysDims&&(r=Gi(n.coordSysDims,function(o){var l={name:o},h=n.axisMap.get(o);if(h){var f=h.get("type");l.type=function I0t(e){return"category"===e?"ordinal":"time"===e?"time":"float"}(f)}return l})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}(n,l),f=t.useEncodeDefaulter,m=zc(f)?f:f?W4(zpt,h,n):null,b=abe(r,{coordDimensions:h,generateCoord:t.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:m,canOmitUnusedDimensions:!o}),S=function J0t(e,n,t){var i,r;return t&&Ke(e,function(o,l){var f=t.categoryAxisMap.get(o.coordDim);f&&(null==i&&(i=l),o.ordinalMeta=f.getOrdinalMeta(),n&&(o.createInvertedIndices=!0)),null!=o.otherDims.itemName&&(r=!0)}),!r&&null!=i&&(e[i].otherDims.itemName=0),i}(b.dimensions,t.createInvertedIndices,l),M=o?null:i.getSharedDataStore(b),O=sbe(n,{schema:b,store:M}),I=new Xg(b,n);I.setCalculationInfo(O);var N=null!=S&&function tvt(e){if(e.sourceFormat===lp){var n=function nvt(e){for(var n=0;n<e.length&&null==e[n];)n++;return e[n]}(e.data||[]);return null!=n&&!si(OO(n))}}(r)?function(V,G,X,K){return K===S?X:this.defaultDimValueGetter(V,G,X,K)}:null;return I.hasItemOption=!1,I.initData(o?r:M,null,N),I}(null,e)}(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function v3(e){this.viewGL=e}v3.prototype.reset=function(e,n){this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio()),this._viewTransform=[1,0,0,1,0,0],this.updateTransform(e,n)},v3.prototype.updateTransform=function(e,n){var t=e.coordinateSystem;t.getRoamTransform&&(oW(this._viewTransform,t.getRoamTransform()),this._setCameraTransform(this._viewTransform),n.getZr().refresh())},v3.prototype.dataToPoint=function(e,n,t){t=e.dataToPoint(n,null,t);var i=this._viewTransform;i&&Tm(t,t,i)},v3.prototype.removeTransformInPoint=function(e){return this._viewTransform&&Tm(e,e,this._viewTransform),e},v3.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},v3.prototype._setCameraTransform=function(e){var n=this.viewGL.camera;n.position.set(e[4],e[5],0),n.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},v3.prototype._updateCamera=function(e,n,t){this.viewGL.setViewport(0,0,e,n,t);var i=this.viewGL.camera;i.left=i.top=0,i.bottom=n,i.right=e,i.near=0,i.far=100};const xwe=v3,g6t=ou.extend({type:"scatterGL",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this.viewGL=new u3("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new xwe(this.viewGL)},render:function(e,n,t){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,t),e.getData().count()){var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new GE(!0,t)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),i.update(e,n,t),this.viewGL.setPostEffect(e.getModel("postEffect"),t)}},incrementalPrepareRender:function(e,n,t){this.groupGL.removeAll(),this._glViewHelper.reset(e,t),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),t)},incrementalRender:function(e,n,t,i){if(!(e.end<=e.start)){var r=this._pointsBuilderList[this._currentStep];r||(r=new GE(!0,i),this._pointsBuilderList[this._currentStep]=r),this.groupGL.add(r.rootNode),this._removeTransformInPoints(n.getData().getLayout("points")),r.setSizeScale(this._sizeScale),r.update(n,t,i,e.start,e.end),i.getZr().refresh(),this._currentStep++}},updateTransform:function(e,n,t){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,t);var i=this._glViewHelper.getZoom(),r=Math.max((e.get("zoomScale")||0)*(i-1)+1,0);this._sizeScale=r,this._pointsBuilderList.forEach(function(o){o.setSizeScale(r)})}},_removeTransformInPoints:function(e){if(e)for(var n=[],t=0;t<e.length;t+=2)n[0]=e[t],n[1]=e[t+1],this._glViewHelper.removeTransformInPoint(n),e[t]=n[0],e[t+1]=n[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});function TT(e){return"_EC_"+e}$s(function m6t(e){e.registerChartView(g6t),e.registerSeriesModel(p6t),e.registerLayout({seriesType:"scatterGL",reset:function(n){var r,t=n.coordinateSystem,i=n.getData();if(t){var o=t.dimensions.map(function(h){return i.mapDimension(h)}).slice(0,2),l=[];1===o.length?r=function(h){for(var f=new Float32Array(2*(h.end-h.start)),m=h.start;m<h.end;m++){var _=2*(m-h.start),b=i.get(o[0],m),S=t.dataToPoint(b);f[_]=S[0],f[_+1]=S[1]}i.setLayout("points",f)}:2===o.length&&(r=function(h){for(var f=new Float32Array(2*(h.end-h.start)),m=h.start;m<h.end;m++){var _=2*(m-h.start),b=i.get(o[0],m),S=i.get(o[1],m);l[0]=b,l[1]=S,l=t.dataToPoint(l),f[_]=l[0],f[_+1]=l[1]}i.setLayout("points",f)})}return{progress:r}}})});var v6t=function(){function e(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(n,t){var i=this._nodesMap;if(!i[TT(n=null==n?""+t:""+n)]){var r=new t5(n,t);return r.hostGraph=this,this.nodes.push(r),i[TT(n)]=r,r}},e.prototype.getNodeByIndex=function(n){var t=this.data.getRawIndex(n);return this.nodes[t]},e.prototype.getNodeById=function(n){return this._nodesMap[TT(n)]},e.prototype.addEdge=function(n,t,i){var r=this._nodesMap,o=this._edgesMap;if("number"==typeof n&&(n=this.nodes[n]),"number"==typeof t&&(t=this.nodes[t]),n instanceof t5||(n=r[TT(n)]),t instanceof t5||(t=r[TT(t)]),n&&t){var l=n.id+"-"+t.id,h=new bwe(n,t,i);return h.hostGraph=this,this._directed&&(n.outEdges.push(h),t.inEdges.push(h)),n.edges.push(h),n!==t&&t.edges.push(h),this.edges.push(h),o[l]=h,h}},e.prototype.getEdgeByIndex=function(n){var t=this.edgeData.getRawIndex(n);return this.edges[t]},e.prototype.getEdge=function(n,t){n instanceof t5&&(n=n.id),t instanceof t5&&(t=t.id);var i=this._edgesMap;return this._directed?i[n+"-"+t]:i[n+"-"+t]||i[t+"-"+n]},e.prototype.eachNode=function(n,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&n.call(t,i[o],o)},e.prototype.eachEdge=function(n,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&n.call(t,i[o],o)},e.prototype.breadthFirstTraverse=function(n,t,i,r){if(t instanceof t5||(t=this._nodesMap[TT(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",l=0;l<this.nodes.length;l++)this.nodes[l].__visited=!1;if(!n.call(r,t,null))for(var h=[t];h.length;){var f=h.shift(),m=f[o];for(l=0;l<m.length;l++){var _=m[l],b=_.node1===f?_.node2:_.node1;if(!b.__visited){if(n.call(r,b,f))return;h.push(b),b.__visited=!0}}}}},e.prototype.update=function(){for(var n=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,l=i.length;o<l;o++)i[o].dataIndex=-1;for(o=0,l=n.count();o<l;o++)i[n.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(h){var f=r[t.getRawIndex(h)];return f.node1.dataIndex>=0&&f.node2.dataIndex>=0}),o=0,l=r.length;o<l;o++)r[o].dataIndex=-1;for(o=0,l=t.count();o<l;o++)r[t.getRawIndex(o)].dataIndex=o},e.prototype.clone=function(){for(var n=new e(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)n.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];n.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return n},e}(),t5=function(){function e(n,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n??"",this.dataIndex=t??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(n){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(n)},e.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(n.edge.push(i.dataIndex),n.node.push(i.node1.dataIndex,i.node2.dataIndex))}return n},e}(),bwe=function(){function e(n,t,i){this.dataIndex=-1,this.node1=n,this.node2=t,this.dataIndex=i??-1}return e.prototype.getModel=function(n){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(n)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function Cwe(e,n){return{getValue:function(t){var i=this[e][n];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[e][n].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[e][n].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[e][n].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[e][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][n].getRawIndex(this.dataIndex)}}}ip(t5,Cwe("hostGraph","data")),ip(bwe,Cwe("hostGraph","edgeData"));const _6t=v6t;var yp=Ql();function x6t(e,n){if(function T6t(e){return yp(e).mainData===e}(this)){var t=Tn({},yp(this).datas);t[this.dataType]=n,wwe(n,t,e)}else pce(n,this.dataType,yp(this).mainData,e);return n}function b6t(e,n){return e.struct&&e.struct.update(),n}function C6t(e,n){return Ke(yp(n).datas,function(t,i){t!==n&&pce(t.cloneShallow(),i,n,e)}),n}function w6t(e){var n=yp(this).mainData;return null==e||null==n?n:yp(n).datas[e]}function S6t(){var e=yp(this).mainData;return null==e?[{data:e}]:Gi(ja(yp(e).datas),function(n){return{type:n,data:yp(e).datas[n]}})}function wwe(e,n,t){yp(e).datas={},Ke(n,function(i,r){pce(i,r,e,t)})}function pce(e,n,t,i){yp(t).datas[n]=e,yp(e).mainData=t,e.dataType=n,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[n]]=e),e.getLinkedData=w6t,e.getLinkedDataAll=S6t}var jE=$u.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){jE.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){jE.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,n,t,i){var r=wT.getFormattedLabel(this,e,n,t,i);if(null==r){var o=this.getData();r=o.get(o.dimensions[o.dimensions.length-1],e)}return r},getInitialData:function(e,n){var t=e.edges||e.links||[],i=e.data||e.nodes||[],r=this;if(i&&t)return function D6t(e,n,t,i,r){for(var o=new _6t(i),l=0;l<e.length;l++)o.addNode(Wi.firstNotNull(e[l].id,e[l].name,l),l);var h=[],f=[],m=0;for(l=0;l<n.length;l++){var _=n[l],b=_.source,S=_.target;o.addEdge(b,S,m)&&(f.push(_),h.push(Wi.firstNotNull(_.id,b+" > "+S)),m++)}var M,O=gE(e,{coordDimensions:["value"]});(M=new Xg(O,t)).initData(e);var I=new Xg(["value"],t);return I.initData(f,h),r&&r(M,I),function y6t(e){var n=e.mainData,t=e.datas;t||(t={main:n},e.datasAttr={main:"data"}),e.datas=e.mainData=null,wwe(n,t,e),Ke(t,function(i){Ke(n.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,W4(x6t,e))})}),n.wrapMethod("cloneShallow",W4(C6t,e)),Ke(n.CHANGABLE_METHODS,function(i){n.wrapMethod(i,W4(b6t,e))}),Bg(t[n.dataType]===n)}({mainData:M,struct:o,structAttr:"graph",datas:{node:M,edge:I},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}(i,t,this,!0,function o(l,h){l.wrapMethod("getItemModel",function(b){const O=r._categoriesModels[b.getShallow("category")];return O&&(O.parentModel=b.parentModel,b.parentModel=O),b});const f=n.getModel([]).getModel;function m(b,S){const M=f.call(this,b,S);return M.resolveParentPath=_,M}function _(b){if(b&&("label"===b[0]||"label"===b[1])){const S=b.slice();return"label"===b[0]?S[0]="edgeLabel":"label"===b[1]&&(S[1]="edgeLabel"),S}return b}h.wrapMethod("getItemModel",function(b){return b.resolveParentPath=_,b.getModel=m,b})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,n,t){if("edge"===t){var i=this.getData(),r=this.getDataParams(e,t),o=i.graph.getEdgeByIndex(e),l=i.getName(o.node1.dataIndex),h=i.getName(o.node2.dataIndex),f=[];return null!=l&&f.push(l),null!=h&&f.push(h),f=xl(f.join(" > ")),r.value&&(f+=" : "+xl(r.value)),f}return jE.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(t){return null!=t.value?t:Object.assign({value:0},t)}),n=new Xg(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t,!0)})},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var n=0;n<e.length/2;n++){var t=e[2*n],i=e[2*n+1],r=this.getData().getRawDataItem(n);r.x=t,r.y=i}},isAnimationEnabled:function(){return jE.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const P6t=jE;var Qs=fs.vec2,Swe=[[0,0],[1,1]],Twe=Pr.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new Pr.Attribute("position","float",2,"POSITION"),normal:new Pr.Attribute("normal","float",2),offset:new Pr.Attribute("offset","float",1),color:new Pr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var n=this.attributes;this.vertexCount!==e&&(n.position.init(e),n.color.init(e),this.useNativeLine||(n.offset.init(e),n.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,n,t,i){return 1/(Qs.dist(e,n)+Qs.dist(t,n)+Qs.dist(i,t)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,n,t,i){var r=this._getCubicCurveApproxStep(e,n,t,i),o=Math.ceil(1/r);return this.useNativeLine?2*o:2*o+2},getCubicCurveTriangleCount:function(e,n,t,i){var r=this._getCubicCurveApproxStep(e,n,t,i),o=Math.ceil(1/r);return this.useNativeLine?0:2*o},getLineVertexCount:function(){return this.getPolylineVertexCount(Swe)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(Swe)},getPolylineVertexCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?2*(n-1):2*(n-1)+2},getPolylineTriangleCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?0:2*(n-1)},addCubicCurve:function(e,n,t,i,r,o){null==o&&(o=1);var l=e[0],h=e[1],f=n[0],m=n[1],_=t[0],b=t[1],S=i[0],M=i[1],O=this._getCubicCurveApproxStep(e,n,t,i),I=O*O,N=I*O,V=3*O,G=3*I,X=6*I,K=6*N,ne=l-2*f+_,ie=h-2*m+b,pe=3*(f-_)-l+S,ve=3*(m-b)-h+M,ye=l,Se=h,xe=(f-l)*V+ne*G+pe*N,De=(m-h)*V+ie*G+ve*N,Pe=ne*X+pe*K,Re=ie*X+ve*K,ke=pe*K,Oe=ve*K,Ye=0,Ge=0,ct=Math.ceil(1/O),We=new Float32Array(3*(ct+1)),Tt=(We=[],0);for(Ge=0;Ge<ct+1;Ge++)We[Tt++]=ye,We[Tt++]=Se,ye+=xe,Se+=De,xe+=Pe,De+=Re,Pe+=ke,Re+=Oe,(Ye+=O)>1&&(ye=xe>0?Math.min(ye,S):Math.max(ye,S),Se=De>0?Math.min(Se,M):Math.max(Se,M));this.addPolyline(We,r,o)},addLine:function(e,n,t,i){this.addPolyline([e,n],t,i)},addPolyline:function(){var e=Qs.create(),n=Qs.create(),t=Qs.create(),i=Qs.create(),r=[],o=[],l=[];return function(h,f,m,_,b){if(h.length){var S="number"!=typeof h[0];if(null==b&&(b=S?h.length:h.length/2),!(b<2)){null==_&&(_=0),null==m&&(m=1),this._itemVertexOffsets.push(this._vertexOffset);for(var K,M=S?"number"!=typeof f[0]:f.length/4===b,O=this.attributes.position,I=this.attributes.color,N=this.attributes.offset,V=this.attributes.normal,G=this.indices,X=this._vertexOffset,ne=0;ne<b;ne++){if(S)r=h[ne+_],K=M?f[ne+_]:f;else if((r=r||[])[0]=h[ie=2*ne+_],r[1]=h[ie+1],M){var pe=4*ne+_;(K=K||[])[0]=f[pe],K[1]=f[pe+1],K[2]=f[pe+2],K[3]=f[pe+3]}else K=f;if(this.useNativeLine)ne>1&&(O.copy(X,X-1),I.copy(X,X-1),X++);else{var ve,ie;if(ne<b-1)if(S?Qs.copy(o,h[ne+1]):((o=o||[])[0]=h[ie=2*(ne+1)+_],o[1]=h[ie+1]),ne>0){Qs.sub(e,r,l),Qs.sub(n,o,r),Qs.normalize(e,e),Qs.normalize(n,n),Qs.add(i,e,n),Qs.normalize(i,i);var ye=m/2*Math.min(1/Qs.dot(e,i),2);t[0]=-i[1],t[1]=i[0],ve=ye}else Qs.sub(e,o,r),Qs.normalize(e,e),t[0]=-e[1],t[1]=e[0],ve=m/2;else Qs.sub(e,r,l),Qs.normalize(e,e),t[0]=-e[1],t[1]=e[0],ve=m/2;V.set(X,t),V.set(X+1,t),N.set(X,ve),N.set(X+1,-ve),Qs.copy(l,r),O.set(X,r),O.set(X+1,r),I.set(X,K),I.set(X+1,K),X+=2}if(this.useNativeLine)I.set(X,K),O.set(X,r),X++;else if(ne>0){var Se=3*this._faceOffset;(G=this.indices)[Se]=X-4,G[Se+1]=X-3,G[Se+2]=X-2,G[Se+3]=X-3,G[Se+4]=X-1,G[Se+5]=X-2,this._faceOffset+=2}}this._vertexOffset=X}}}}(),setItemColor:function(e,n){for(var i=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,r=this._itemVertexOffsets[e];r<i;r++)this.attributes.color.set(r,n);this.dirty("color")}});ya(Twe.prototype,EE);const Mwe=Twe;ze.Shader.import("@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end");var gce={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function ic(e){var n={type:ze.Texture.FLOAT,minFilter:ze.Texture.NEAREST,magFilter:ze.Texture.NEAREST};this._positionSourceTex=new ze.Texture2D(n),this._positionSourceTex.flipY=!1,this._positionTex=new ze.Texture2D(n),this._positionPrevTex=new ze.Texture2D(n),this._forceTex=new ze.Texture2D(n),this._forcePrevTex=new ze.Texture2D(n),this._weightedSumTex=new ze.Texture2D(n),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new ze.Texture2D(n),this._globalSpeedPrevTex=new ze.Texture2D(n),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new Os({fragment:ze.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new Os({fragment:ze.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new Os({fragment:ze.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new Os({fragment:ze.Shader.source("clay.compositor.output")});var t=function(i){i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE)};this._edgeForceMesh=new ze.Mesh({geometry:new ze.Geometry({attributes:{node1:new ze.Geometry.Attribute("node1","float",2),node2:new ze.Geometry.Attribute("node2","float",2),weight:new ze.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new ze.Material({transparent:!0,shader:ze.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:t,depthMask:!1,depthText:!1}),mode:ze.Mesh.POINTS}),this._weightedSumMesh=new ze.Mesh({geometry:new ze.Geometry({attributes:{node:new ze.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new ze.Material({transparent:!0,shader:ze.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:t,depthMask:!1,depthText:!1}),mode:ze.Mesh.POINTS}),this._framebuffer=new nc({depthBuffer:!1}),this._dummyCamera=new ze.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}ic.prototype.updateOption=function(e){for(var n in gce)this[n]=gce[n];var t=this._nodes.length;if(this.jitterTolerence=t>5e4?10:t>5e3?1:.1,this.scaling=t>100?2:10,e)for(var n in gce)null!=e[n]&&(this[n]=e[n]);if(this.repulsionByDegree)for(var i=this._positionSourceTex.pixels,r=0;r<this._nodes.length;r++)i[4*r+2]=(this._nodes[r].degree||0)+1},ic.prototype._updateGravityCenter=function(e){var n=this._nodes,t=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var i=[1/0,1/0],r=[-1/0,-1/0],o=0;o<n.length;o++)i[0]=Math.min(n[o].x,i[0]),i[1]=Math.min(n[o].y,i[1]),r[0]=Math.max(n[o].x,r[0]),r[1]=Math.max(n[o].y,r[1]);this._gravityCenter=[.5*(i[0]+r[0]),.5*(i[1]+r[1])]}for(o=0;o<t.length;o++){var l=t[o].node1,h=t[o].node2;n[l].degree=(n[l].degree||0)+1,n[h].degree=(n[h].degree||0)+1}},ic.prototype.initData=function(e,n){this._nodes=e,this._edges=n,this._updateGravityCenter();var t=Math.ceil(Math.sqrt(e.length)),i=t,r=new Float32Array(t*i*4);this._resize(t,i);for(var o=0,l=0;l<e.length;l++){var h=e[l];r[o++]=h.x||0,r[o++]=h.y||0,r[o++]=h.mass||1,r[o++]=h.size||1}this._positionSourceTex.pixels=r;var f=this._edgeForceMesh.geometry,m=n.length;f.attributes.node1.init(2*m),f.attributes.node2.init(2*m),f.attributes.weight.init(2*m);var _=[];for(l=0;l<n.length;l++){var b=f.attributes,S=n[l].weight;null==S&&(S=1),b.node1.set(l,this.getNodeUV(n[l].node1,_)),b.node2.set(l,this.getNodeUV(n[l].node2,_)),b.weight.set(l,S),b.node1.set(l+m,this.getNodeUV(n[l].node2,_)),b.node2.set(l+m,this.getNodeUV(n[l].node1,_)),b.weight.set(l+m,S)}var M=this._weightedSumMesh.geometry;for(M.attributes.node.init(e.length),l=0;l<e.length;l++)M.attributes.node.set(l,this.getNodeUV(l,_));f.dirty(),M.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[t,i]),this._inited=!1,this._frame=0},ic.prototype.getNodes=function(){return this._nodes},ic.prototype.getEdges=function(){return this._edges},ic.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var n=this._nodeRepulsionPass;n.setUniform("strongGravityMode",this.strongGravityMode),n.setUniform("gravity",this.gravity),n.setUniform("gravityCenter",this._gravityCenter),n.setUniform("scaling",this.scaling),n.setUniform("preventOverlap",this.preventOverlap),n.setUniform("positionTex",this._positionPrevTex),n.render(e);var t=this._edgeForceMesh;t.material.set("linLogMode",this.linLogMode),t.material.set("edgeWeightInfluence",this.edgeWeightInfluence),t.material.set("preventOverlap",this.preventOverlap),t.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([t],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var i=this._weightedSumMesh;i.material.set("positionTex",this._positionPrevTex),i.material.set("forceTex",this._forceTex),i.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([i],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var r=this._globalSpeedPass;r.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),r.setUniform("weightedSumTex",this._weightedSumTex),r.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),r.render(e);var o=this._positionPass;this._framebuffer.attach(this._positionTex),o.setUniform("globalSpeedTex",this._globalSpeedTex),o.setUniform("positionTex",this._positionPrevTex),o.setUniform("forceTex",this._forceTex),o.setUniform("forcePrevTex",this._forcePrevTex),o.render(e),this._framebuffer.unbind(e),this._swapTexture()},ic.prototype.update=function(e,n,t){null==n&&(n=1),n=Math.max(n,1);for(var i=0;i<n;i++)this.step(e);t&&t()},ic.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},ic.prototype.getNodeUV=function(e,n){var t=this._positionTex.width,i=this._positionTex.height;return(n=n||[])[0]=e%t/(t-1),n[1]=Math.floor(e/t)/(i-1)||0,n},ic.prototype.getNodePosition=function(e,n){var t=this._positionArr,i=this._positionTex.width,r=this._positionTex.height,o=i*r;(!t||t.length!==4*o)&&(t=this._positionArr=new Float32Array(4*o)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,i,r,e.gl.RGBA,e.gl.FLOAT,t),this._framebuffer.unbind(e),n||(n=new Float32Array(2*this._nodes.length));for(var l=0;l<this._nodes.length;l++)n[2*l]=t[4*l],n[2*l+1]=t[4*l+1];return n},ic.prototype.getTextureData=function(e,n){var t=this["_"+n+"Tex"],i=t.width,r=t.height;this._framebuffer.bind(e),this._framebuffer.attach(t);var o=new Float32Array(i*r*4);return e.gl.readPixels(0,0,i,r,e.gl.RGBA,e.gl.FLOAT,o),this._framebuffer.unbind(e),o},ic.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},ic.prototype.isFinished=function(e){return this._frame>e},ic.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e,e=this._forcePrevTex,this._forcePrevTex=this._forceTex,this._forceTex=e,e=this._globalSpeedPrevTex,this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},ic.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},ic.prototype._resize=function(e,n){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(t){this[t].width=e,this[t].height=n,this[t].dirty()},this)},ic.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};const mce=ic;var $E=function z6t(){var e_create=function(){return new Float32Array(2)},e_dist=function(f,m){var _=m[0]-f[0],b=m[1]-f[1];return Math.sqrt(_*_+b*b)},e_len=function(f){var m=f[0],_=f[1];return Math.sqrt(m*m+_*_)},e_scaleAndAdd=function(f,m,_,b){return f[0]=m[0]+_[0]*b,f[1]=m[1]+_[1]*b,f},e_add=function(f,m,_){return f[0]=m[0]+_[0],f[1]=m[1]+_[1],f},e_sub=function(f,m,_){return f[0]=m[0]-_[0],f[1]=m[1]-_[1],f},e_copy=function(f,m){return f[0]=m[0],f[1]=m[1],f},e_set=function(f,m,_){return f[0]=m,f[1]=_,f};function n(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var t=n.prototype;function i(){this.position=new Float32Array(2),this.force=e_create(),this.forcePrev=e_create(),this.mass=1,this.inDegree=0,this.outDegree=0}function r(f,m){this.source=f,this.target=m,this.weight=1}function o(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new n,this.rootRegion.centerOfMass=e_create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}t.beforeUpdate=function(){for(var f=0;f<this.nSubRegions;f++)this.subRegions[f].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},t.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var f=0;f<this.nSubRegions;f++)this.subRegions[f].afterUpdate()},t.addNode=function(f){if(0===this.nSubRegions){if(null==this.node)return void(this.node=f);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(f),this._updateCenterOfMass(f)},t.findSubRegion=function(f,m){for(var _=0;_<this.nSubRegions;_++){var b=this.subRegions[_];if(b.contain(f,m))return b}},t.contain=function(f,m){return this.bbox[0]<=f&&this.bbox[2]>=f&&this.bbox[1]<=m&&this.bbox[3]>=m},t.setBBox=function(f,m,_,b){this.bbox[0]=f,this.bbox[1]=m,this.bbox[2]=_,this.bbox[3]=b,this.size=(_-f+b-m)/2},t._newSubRegion=function(){var f=this.subRegions[this.nSubRegions];return f||(f=new n,this.subRegions[this.nSubRegions]=f),this.nSubRegions++,f},t._addNodeToSubRegion=function(f){var m=this.findSubRegion(f.position[0],f.position[1]),_=this.bbox;if(!m){var M=(_[2]-_[0])/2,O=(_[3]-_[1])/2,I=f.position[0]>=(_[0]+_[2])/2?1:0,N=f.position[1]>=(_[1]+_[3])/2?1:0;(m=this._newSubRegion()).setBBox(I*M+_[0],N*O+_[1],(I+1)*M+_[0],(N+1)*O+_[1])}m.addNode(f)},t._updateCenterOfMass=function(f){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var m=this.centerOfMass[0]*this.mass,_=this.centerOfMass[1]*this.mass;m+=f.position[0]*f.mass,_+=f.position[1]*f.mass,this.mass+=f.mass,this.centerOfMass[0]=m/this.mass,this.centerOfMass[1]=_/this.mass};var f,l=o.prototype;l.initNodes=function(f,m,_){var b=m.length;this.nodes.length=0;for(var S=typeof _<"u",M=0;M<b;M++){var O=new i;O.position[0]=f[2*M],O.position[1]=f[2*M+1],O.mass=m[M],S&&(O.size=_[M]),this.nodes.push(O)}this._massArr=m,this._swingingArr=new Float32Array(b),S&&(this._sizeArr=_)},l.initEdges=function(f,m){var _=f.length/2;this.edges.length=0;for(var b=0;b<_;b++){var O=this.nodes[f[2*b]],I=this.nodes[f[2*b+1]];if(!O||!I)return void console.error("Node not exists, try initNodes before initEdges");O.outDegree++,I.inDegree++;var N=new r(O,I);m&&(N.weight=m[b]),this.edges.push(N)}},l.updateSettings=function(){if(this.repulsionByDegree)for(var f=0;f<this.nodes.length;f++)(m=this.nodes[f]).mass=m.inDegree+m.outDegree+1;else for(f=0;f<this.nodes.length;f++){var m;(m=this.nodes[f]).mass=this._massArr[f]}},l.update=function(){var f=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var m=0;m<f;m++)this.rootRegion.addNode(this.nodes[m]);this.rootRegion.afterUpdate()}for(m=0;m<f;m++)e_copy((_=this.nodes[m]).forcePrev,_.force),e_set(_.force,0,0);for(m=0;m<f;m++){var b=this.nodes[m];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,b);else for(var S=m+1;S<f;S++)this.applyNodeToNodeRepulsion(b,this.nodes[S],!1);this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(b):this.applyNodeGravity(b))}for(m=0;m<this.edges.length;m++)this.applyEdgeAttraction(this.edges[m]);var O=0,I=0,N=e_create();for(m=0;m<f;m++)O+=(V=e_dist((_=this.nodes[m]).force,_.forcePrev))*_.mass,e_add(N,_.force,_.forcePrev),I+=.5*e_len(N)*_.mass,this._swingingArr[m]=V;var X=this.jitterTolerence*this.jitterTolerence*I/O;for(this._globalSpeed>0&&(X=Math.min(X/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=X,m=0;m<f;m++){var _=this.nodes[m],V=this._swingingArr[m],K=.1*X/(1+X*Math.sqrt(V)),ne=e_len(_.force);ne>0&&(K=Math.min(ne*K,10)/ne,e_scaleAndAdd(_.position,_.position,_.force,K))}},l.applyRegionToNodeRepulsion=(f=e_create(),function(_,b){if(_.node)this.applyNodeToNodeRepulsion(_.node,b,!0);else{e_sub(f,b.position,_.centerOfMass);var S=f[0]*f[0]+f[1]*f[1];if(S>this.barnesHutTheta*_.size*_.size)e_scaleAndAdd(b.force,b.force,f,this.scaling*b.mass*_.mass/S);else for(var O=0;O<_.nSubRegions;O++)this.applyRegionToNodeRepulsion(_.subRegions[O],b)}}),l.applyNodeToNodeRepulsion=function(){var f=e_create();return function(_,b,S){if(_!=b){e_sub(f,_.position,b.position);var M=f[0]*f[0]+f[1]*f[1];if(0!==M){var O;if(this.preventOverlap){var I=Math.sqrt(M);if((I=I-_.size-b.size)>0)O=this.scaling*_.mass*b.mass/(I*I);else{if(!(I<0))return;O=100*this.scaling*_.mass*b.mass}}else O=this.scaling*_.mass*b.mass/M;e_scaleAndAdd(_.force,_.force,f,O),e_scaleAndAdd(b.force,b.force,f,-O)}}}}(),l.applyEdgeAttraction=function(){var f=e_create();return function(_){var b=_.source,S=_.target;e_sub(f,b.position,S.position);var O,I,M=e_len(f);O=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?_.weight:Math.pow(_.weight,this.edgeWeightInfluence),this.preventOverlap&&(M=M-b.size-S.size)<=0||(I=this.linLogMode?-O*Math.log(M+1)/(M+1):-O,e_scaleAndAdd(b.force,b.force,f,I),e_scaleAndAdd(S.force,S.force,f,-I))}}(),l.applyNodeGravity=function(){var f=e_create();return function(m){e_sub(f,this.gravityCenter,m.position);var _=e_len(f);e_scaleAndAdd(m.force,m.force,f,this.gravity*m.mass/(_+1))}}(),l.applyNodeStrongGravity=function(){var f=e_create();return function(m){e_sub(f,this.gravityCenter,m.position),e_scaleAndAdd(m.force,m.force,f,this.gravity*m.mass)}}(),l.updateBBox=function(){for(var f=1/0,m=1/0,_=-1/0,b=-1/0,S=0;S<this.nodes.length;S++){var M=this.nodes[S].position;f=Math.min(f,M[0]),m=Math.min(m,M[1]),_=Math.max(_,M[0]),b=Math.max(b,M[1])}this.bbox[0]=f,this.bbox[1]=m,this.bbox[2]=_,this.bbox[3]=b},l.getGlobalSpeed=function(){return this._globalSpeed};var h=null;self.onmessage=function(f){switch(f.data.cmd){case"init":(h=new o).initNodes(f.data.nodesPosition,f.data.nodesMass,f.data.nodesSize),h.initEdges(f.data.edges,f.data.edgesWeight);break;case"updateConfig":if(h)for(var m in f.data.config)h[m]=f.data.config[m];break;case"update":var _=f.data.steps;if(h){for(var b=0;b<_;b++)h.update();var S=h.nodes.length,M=new Float32Array(2*S);for(b=0;b<S;b++){var O=h.nodes[b];M[2*b]=O.position[0],M[2*b+1]=O.position[1]}self.postMessage({buffer:M.buffer,globalSpeed:h.getGlobalSpeed()},[M.buffer])}else{var I=new Float32Array;self.postMessage({buffer:I.buffer,globalSpeed:h.getGlobalSpeed()},[I.buffer])}}}}.toString();$E=$E.slice($E.indexOf("{")+1,$E.lastIndexOf("}"));var XE={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},Hd=function(e){for(var n in XE)this[n]=XE[n];if(e)for(var n in e)this[n]=e[n];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Vi({type:Rn.FLOAT,flipY:!1,minFilter:Rn.NEAREST,magFilter:Rn.NEAREST})};Hd.prototype.initData=function(e,n){var t=new Blob([$E]),i=window.URL.createObjectURL(t);this._worker=new Worker(i),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=n,this._frame=0;for(var r=e.length,o=n.length,l=new Float32Array(2*r),h=new Float32Array(r),f=new Float32Array(r),m=new Float32Array(2*o),_=new Float32Array(o),b=0;b<e.length;b++){var S=e[b];l[2*b]=S.x,l[2*b+1]=S.y,h[b]=null==S.mass?1:S.mass,f[b]=null==S.size?1:S.size}for(b=0;b<n.length;b++){var M=n[b],I=M.node2;m[2*b]=M.node1,m[2*b+1]=I,_[b]=null==M.weight?1:M.weight}var N=Math.ceil(Math.sqrt(e.length)),V=N,G=new Float32Array(N*V*4),X=this._positionTex;X.width=N,X.height=V,X.pixels=G,this._worker.postMessage({cmd:"init",nodesPosition:l,nodesMass:h,nodesSize:f,edges:m,edgesWeight:_}),this._globalSpeed=1/0},Hd.prototype.updateOption=function(e){var n={};for(var t in XE)n[t]=XE[t];var i=this._nodes,r=this._edges,o=i.length;if(n.jitterTolerence=o>5e4?10:o>5e3?1:.1,n.scaling=o>100?2:10,n.barnesHutOptimize=o>1e3,e)for(var t in XE)null!=e[t]&&(n[t]=e[t]);if(!n.gravityCenter){for(var l=[1/0,1/0],h=[-1/0,-1/0],f=0;f<i.length;f++)l[0]=Math.min(i[f].x,l[0]),l[1]=Math.min(i[f].y,l[1]),h[0]=Math.max(i[f].x,h[0]),h[1]=Math.max(i[f].y,h[1]);n.gravityCenter=[.5*(l[0]+h[0]),.5*(l[1]+h[1])]}for(f=0;f<r.length;f++){var m=r[f].node1,_=r[f].node2;i[m].degree=(i[m].degree||0)+1,i[_].degree=(i[_].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:n})},Hd.prototype.update=function(e,n,t){null==n&&(n=1),n=Math.max(n,1),this._frame+=n,this._onupdate=t,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(n)})},Hd.prototype._$onupdate=function(e){if(!this._disposed){var n=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=n,this._updateTexture(n),this._onupdate&&this._onupdate()}},Hd.prototype.getNodePositionTexture=function(){return this._positionTex},Hd.prototype.getNodeUV=function(e,n){var t=this._positionTex.width,i=this._positionTex.height;return(n=n||[])[0]=e%t/(t-1),n[1]=Math.floor(e/t)/(i-1),n},Hd.prototype.getNodes=function(){return this._nodes},Hd.prototype.getEdges=function(){return this._edges},Hd.prototype.isFinished=function(e){return this._frame>e},Hd.prototype.getNodePosition=function(e,n){if(n||(n=new Float32Array(2*this._nodes.length)),this._positionArr)for(var t=0;t<this._positionArr.length;t++)n[t]=this._positionArr[t];return n},Hd.prototype._updateTexture=function(e){for(var n=this._positionTex.pixels,t=0,i=0;i<e.length;)n[t++]=e[i++],n[t++]=e[i++],n[t++]=1,n[t++]=1;this._positionTex.dirty()},Hd.prototype.dispose=function(e){this._disposed=!0,this._worker=null};const Dwe=Hd;var k6t=Zu.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,n=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(n,n,n),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var n=e.offsetX,t=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,t)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var i=this._convertPos(n,t);this._x=i.x,this._y=i.y}}},_convertPos:function(e,n){var t=this.viewGL.camera,i=this.viewGL.viewport;return{x:(e-i.x)/i.width*(t.right-t.left)+t.left,y:(n-i.y)/i.height*(t.bottom-t.top)+t.top}},_mouseMoveHandler:function(e){var n=this._convertPos(e.offsetX,e.offsetY);this._dx+=n.x-this._x,this._dy+=n.y-this._y,this._x=n.x,this._y=n.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){var n=(e=e.event).wheelDelta||-e.detail;if(0!==n){var t=e.offsetX,i=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(t,i)){var r=n>0?1.1:.9,o=Math.max(Math.min(this._zoom*r,this.maxZoom),this.minZoom);r=o/this._zoom;var l=this._convertPos(t,i),f=(l.y-this._dy)*(r-1);this._dx-=(l.x-this._dx)*(r-1),this._dy-=f,this._zoom=o,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const O6t=k6t;var E$=fs.vec2;ze.Shader.import("@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end");var I6t=1;const L6t=ou.extend({type:"graphGL",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this.viewGL=new u3("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new GE(!0,n),this._forceEdgesMesh=new ze.Mesh({material:new ze.Material({shader:ze.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new ze.Geometry({attributes:{node:new ze.Geometry.Attribute("node","float",2),color:new ze.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:ze.Mesh.LINES}),this._edgesMesh=new ze.Mesh({material:new ze.Material({shader:ze.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new Mwe({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new O6t({zr:n.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,n,t){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=t,this._initLayout(e,n,t),this._pointsBuilder.update(e,n,t),this._forceLayoutInstance instanceof mce||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,t),this._control.off("update"),this._control.on("update",function(){t.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(Wi.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var i=this._pointsBuilder.getPointsMesh();if(i.off("mousemove",this._mousemoveHandler),i.off("mouseout",this._mouseOutHandler,this),t.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var r=e.get("focusNodeAdjacencyOn");"click"===r?t.getZr().on("click",this._clickHandler):"mouseover"===r&&(i.on("mousemove",this._mousemoveHandler,this),i.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var n=this._pointsBuilder.getPointsMesh().dataIndex;this._api.dispatchAction(n>=0?{type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:n}:{type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var n=this._pointsBuilder.getPointsMesh().dataIndex;n>=0?n!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:n}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=n}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,n){var t=this._forceEdgesMesh.geometry,i=n.getEdgeData(),r=0,o=this._forceLayoutInstance,l=2*i.count();t.attributes.node.init(l),t.attributes.color.init(l),i.each(function(h){var f=e[h];t.attributes.node.set(r,o.getNodeUV(f.node1)),t.attributes.node.set(r+1,o.getNodeUV(f.node2));var m=wl(i,f.dataIndex),_=ze.parseColor(m);_[3]*=Wi.firstNotNull(Sl(i,f.dataIndex),1),t.attributes.color.set(r,_),t.attributes.color.set(r+1,_),r+=2}),t.dirty()},_updateMeshLinesGeometry:function(){var n=this._model.getEdgeData(),e=this._edgesMesh.geometry,t=(n=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(n.count()*e.getLineVertexCount()),e.setTriangleCount(n.count()*e.getLineTriangleCount());var i=[],r=[],o=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*n.count()),this._edgeIndicesMap=new Float32Array(n.count()),n.each(function(l){var h=n.graph.getEdgeByIndex(l),f=2*h.node1.dataIndex,m=2*h.node2.dataIndex;i[0]=t[f],i[1]=t[f+1],r[0]=t[m],r[1]=t[m+1];var _=wl(n,h.dataIndex),b=ze.parseColor(_);b[3]*=Wi.firstNotNull(Sl(n,h.dataIndex),1);var S=n.getItemModel(h.dataIndex),M=Wi.firstNotNull(S.get(o),1)*this._api.getDevicePixelRatio();e.addLine(i,r,b,M);for(var O=0;O<4;O++)this._originalEdgeColors[4*h.dataIndex+O]=b[O];this._edgeIndicesMap[h.dataIndex]=l},this),e.dirty()},_updateForceNodesGeometry:function(e){for(var n=this._pointsBuilder.getPointsMesh(),t=[],i=0;i<e.count();i++)this._forceLayoutInstance.getNodeUV(i,t),n.geometry.attributes.position.set(i,t);n.geometry.dirty("position")},_initLayout:function(e,n,t){var i=e.get("layout"),r=e.getGraph(),l=XO(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});"force"===i&&(i="forceAtlas2"),this.stopLayout(e,n,t,{beforeLayout:!0});var h=e.getData(),f=e.getData();if("forceAtlas2"===i){var m=e.getModel("forceAtlas2"),_=this._forceLayoutInstance,b=[],S=[],M=h.getDataExtent("value"),O=f.getDataExtent("value"),I=Wi.firstNotNull(m.get("edgeWeight"),1),N=Wi.firstNotNull(m.get("nodeWeight"),1);"number"==typeof I&&(I=[I,I]),"number"==typeof N&&(N=[N,N]);var V=0,G={},X=new Float32Array(2*h.count());if(r.eachNode(function(ne){var ve,ye,ie=ne.dataIndex,pe=h.get("value",ie);if(h.hasItemOption){var Se=h.getItemModel(ie);ve=Se.get("x"),ye=Se.get("y")}null==ve&&(ve=l.x+Math.random()*l.width,ye=l.y+Math.random()*l.height),X[2*V]=ve,X[2*V+1]=ye,G[ne.id]=V++;var xe=cW(pe,M,N);isNaN(xe)&&(xe=isNaN(N[0])?1:N[0]),b.push({x:ve,y:ye,mass:xe,size:h.getItemVisual(ie,"symbolSize")})}),h.setLayout("points",X),r.eachEdge(function(ne){var ie=ne.dataIndex,ve=cW(h.get("value",ie),O,I);isNaN(ve)&&(ve=isNaN(I[0])?1:I[0]),S.push({node1:G[ne.node1.id],node2:G[ne.node2.id],weight:ve,dataIndex:ie})}),!_){var K=m.get("GPU");this._forceLayoutInstance&&(K&&!(this._forceLayoutInstance instanceof mce)||!K&&!(this._forceLayoutInstance instanceof Dwe))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),_=this._forceLayoutInstance=K?new mce:new Dwe}_.initData(b,S),_.updateOption(m.option),this._updateForceEdgesGeometry(_.getEdges(),e),this._updatePositionTexture(),t.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else X=new Float32Array(2*h.count()),V=0,r.eachNode(function(pe){var ye,Se;if(h.hasItemOption){var xe=h.getItemModel(pe.dataIndex);ye=xe.get("x"),Se=xe.get("y")}X[V++]=ye,X[V++]=Se}),h.setLayout("points",X),this._updateAfterLayout(e,n,t)},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,n,o,i){if(!i||null==i.from||i.from===this.uid){var r=this.viewGL,l=(o=this._api,this._forceLayoutInstance),h=this._model.getData(),f=this._model.getModel("forceAtlas2");if(l&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var m=this,_=this._layoutId=I6t++,b=f.getShallow("maxSteps"),S=f.getShallow("steps"),M=0,O=Math.max(2*S,20),I=function(N){if(N===m._layoutId){if(l.isFinished(b))return o.dispatchAction({type:"graphGLStopLayout",from:m.uid}),void o.dispatchAction({type:"graphGLFinishLayout",points:h.getLayout("points"),from:m.uid});l.update(r.layer.renderer,S,function(){m._updatePositionTexture(),(M+=S)>=O&&(m._syncNodePosition(e),M=0),o.getZr().refresh(),MS(function(){I(N)})})}};MS(function(){m._forceLayoutInstanceToDispose&&(m._forceLayoutInstanceToDispose.dispose(r.layer.renderer),m._forceLayoutInstanceToDispose=null),I(_)}),this._layouting=!0}}},stopLayout:function(e,n,t,i){i&&null!=i.from&&i.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(i&&i.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,n,t)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var n=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",n),e.setNodePosition(n)},_updateAfterLayout:function(e,n,t){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,n,t),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,n,t,i){var r=this._model.getData();this._downplayAll();var h=[],f=r.graph.getNodeByIndex(i.dataIndex);h.push(f),f.edges.forEach(function(_){_.dataIndex<0||(_.node1!==f&&h.push(_.node1),_.node2!==f&&h.push(_.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),h.forEach(function(_){this._pointsBuilder.highlight(r,_.dataIndex)},this),this._pointsBuilder.updateLabels(h.map(function(_){return _.dataIndex}));var m=[];f.edges.forEach(function(_){_.dataIndex>=0&&(this._highlightEdge(_.dataIndex),m.push(_))},this),this._focusNodes=h,this._focusEdges=m},unfocusNodeAdjacency:function(e,n,t,i){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var n=this._model.getEdgeData().getItemModel(e),t=ze.parseColor(n.get("emphasis.lineStyle.color")||n.get("lineStyle.color")),i=Wi.firstNotNull(n.get("emphasis.lineStyle.opacity"),n.get("lineStyle.opacity"),1);t[3]*=i,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var n=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_setEdgeFade:function(){var e=[];return function(n,t){this._getColor(n,e),e[3]*=t,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[n],e)}}(),_getColor:function(e,n){for(var t=0;t<4;t++)n[t]=this._originalEdgeColors[4*e+t];return n},_fadeOutEdgesAll:function(e){this._model.getData().graph.eachEdge(function(t){this._setEdgeFade(t.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,n){this.viewGL.setViewport(0,0,n.getWidth(),n.getHeight(),n.getDevicePixelRatio());for(var t=this.viewGL.camera,r=e.getData().getLayout("points"),o=E$.create(1/0,1/0),l=E$.create(-1/0,-1/0),h=[],f=0;f<r.length;)h[0]=r[f++],h[1]=r[f++],E$.min(o,o,h),E$.max(l,l,h);var m=(l[1]+o[1])/2,_=(l[0]+o[0])/2;if(!(_>t.left&&_<t.right&&m<t.bottom&&m>t.top)){var b=Math.max(l[0]-o[0],10),S=b/n.getWidth()*n.getHeight();S*=1.4,o[0]-=.2*(b*=1.4),t.left=o[0],t.top=m-S/2,t.bottom=m+S/2,t.right=b+o[0],t.near=0,t.far=100}},dispose:function(){this._forceLayoutInstance&&this._forceLayoutInstance.dispose(this.viewGL.layer.renderer),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function I$(e){return e instanceof Array||(e=[e,e]),e}$s(function R6t(e){function n(){}e.registerChartView(L6t),e.registerSeriesModel(P6t),e.registerVisual(function(t){const i={};t.eachSeriesByType("graphGL",function(r){var o=r.getCategoriesData(),l=r.getData(),h={};o.each(function(f){var m=o.getName(f);h["ec-"+m]=f;var _=o.getItemModel(f),b=_.getModel("itemStyle").getItemStyle();b.fill||(b.fill=r.getColorFromPalette(m,i)),o.setItemVisual(f,"style",b);var S=["symbol","symbolSize","symbolKeepAspect"];for(let O=0;O<S.length;O++){var M=_.getShallow(S[O],!0);null!=M&&o.setItemVisual(f,S[O],M)}}),o.count()&&l.each(function(f){let _=l.getItemModel(f).getShallow("category");if(null!=_){"string"==typeof _&&(_=h["ec-"+_]);var b=o.getItemVisual(_,"style");Tn(l.ensureUniqueItemVisual(f,"style"),b);var M=["symbol","symbolSize","symbolKeepAspect"];for(let O=0;O<M.length;O++)l.setItemVisual(f,M[O],o.getItemVisual(_,M[O]))}})})}),e.registerVisual(function(t){t.eachSeriesByType("graphGL",function(i){var r=i.getGraph(),o=i.getEdgeData(),l=I$(i.get("edgeSymbol")),h=I$(i.get("edgeSymbolSize"));o.setVisual("drawType","stroke"),o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",h&&h[0]),o.setVisual("toSymbolSize",h&&h[1]),o.setVisual("style",i.getModel("lineStyle").getLineStyle()),o.each(function(f){var m=o.getItemModel(f),_=r.getEdgeByIndex(f),b=I$(m.getShallow("symbol",!0)),S=I$(m.getShallow("symbolSize",!0)),M=m.getModel("lineStyle").getLineStyle(),O=o.ensureUniqueItemVisual(f,"style");switch(Tn(O,M),O.stroke){case"source":var I=_.node1.getVisual("style");O.stroke=I&&I.fill;break;case"target":I=_.node2.getVisual("style"),O.stroke=I&&I.fill}b[0]&&_.setVisual("fromSymbol",b[0]),b[1]&&_.setVisual("toSymbol",b[1]),S[0]&&_.setVisual("fromSymbolSize",S[0]),S[1]&&_.setVisual("toSymbolSize",S[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(t,i){i.eachComponent({mainType:"series",query:t},function(r){r.setView(t)})}),e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},n),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},n),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},n),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},n)});const N6t=$u.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,n){var t=this.get("coordinateSystem"),i="geo"===t?["lng","lat"]:q5e(t)||["x","y"];i.push("vx","vy");var r=gE(this.getSource(),{coordDimensions:i,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),o=new Xg(r,this);return o.initData(this.getSource()),o},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var F6t=Pr.extend(function(){return{dynamic:!0,attributes:{position:new Pr.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=4*e,i=2*e;this.vertexCount!==t&&this.attributes.position.init(t),this.triangleCount!==i&&(this.indices=0===i?null:this.vertexCount>65535?new Uint32Array(3*i):new Uint16Array(3*i))},addLine:function(e){var n=this._vertexOffset;this.attributes.position.set(n,[e[0],e[1],1]),this.attributes.position.set(n+1,[e[0],e[1],-1]),this.attributes.position.set(n+2,[e[0],e[1],2]),this.attributes.position.set(n+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[n,n+1,n+2]),this.setTriangleIndices(this._faceOffset++,[n+1,n+2,n+3]),this._vertexOffset+=4}});const B6t=F6t;sn.import("@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n");var vce=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Vi({type:Rn.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};vce.prototype={constructor:vce,init:function(){var e={type:Rn.FLOAT,minFilter:Rn.NEAREST,magFilter:Rn.NEAREST,useMipmap:!1};this._spawnTexture=new Vi(e),this._particleTexture0=new Vi(e),this._particleTexture1=new Vi(e),this._frameBuffer=new nc({depthBuffer:!1}),this._particlePass=new Os({fragment:sn.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new Os({fragment:sn.source("clay.compositor.downsample")});var n=new Nx({renderOrder:10,material:new pp({shader:new sn(sn.source("ecgl.vfParticle.renderPoints.vertex"),sn.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Nx.POINTS,geometry:new Pr({dynamic:!0,mainAttribute:"texcoord0"})}),t=new Nx({renderOrder:10,material:new pp({shader:new sn(sn.source("ecgl.vfParticle.renderLines.vertex"),sn.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new B6t,culling:!1}),i=new Nx({material:new pp({shader:new sn(sn.source("ecgl.color.vertex"),sn.source("ecgl.color.fragment"))}),geometry:new a$});i.material.enableTexture("diffuseMap"),this._particlePointsMesh=n,this._particleLinesMesh=t,this._lastFrameFullQuadMesh=i,this._camera=new dT,this._thisFrameTexture=new Vi,this._lastFrameTexture=new Vi},setParticleDensity:function(e,n){for(var i=new Float32Array(e*n*4),r=0,o=this.particleLife,l=0;l<e;l++)for(var h=0;h<n;h++,r++){i[4*r]=Math.random(),i[4*r+1]=Math.random(),i[4*r+2]=Math.random();var f=(o[1]-o[0])*Math.random()+o[0];i[4*r+3]=f}"line"===this._particleType?this._setLineGeometry(e,n):this._setPointsGeometry(e,n),this._spawnTexture.width=e,this._spawnTexture.height=n,this._spawnTexture.pixels=i,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=n,this._particlePass.setUniform("textureSize",[e,n])},_setPointsGeometry:function(e,n){var i=this._particlePointsMesh.geometry,r=i.attributes;r.texcoord0.init(e*n);for(var o=0,l=0;l<e;l++)for(var h=0;h<n;h++,o++)r.texcoord0.value[2*o]=l/e,r.texcoord0.value[2*o+1]=h/n;i.dirty()},_setLineGeometry:function(e,n){var t=e*n,i=this._getParticleMesh().geometry;i.setLineCount(t),i.resetOffset();for(var r=0;r<e;r++)for(var o=0;o<n;o++)i.addLine([r/e,o/n]);i.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,n,t,i){var r=this._getParticleMesh(),o=this._frameBuffer,l=this._particlePass;i&&this._updateDownsampleTextures(e,n),r.material.set("size",this._particleSize*this._supersampling),r.material.set("color",this.particleColor),l.setUniform("speedScaling",this.particleSpeedScaling),o.attach(this._particleTexture1),l.setUniform("firstFrameTime",i?(this.particleLife[1]+this.particleLife[0])/2:0),l.setUniform("particleTexture",this._particleTexture0),l.setUniform("deltaTime",t),l.setUniform("elapsedTime",this._elapsedTime),l.render(e,o),r.material.set("particleTexture",this._particleTexture1),r.material.set("prevParticleTexture",this._particleTexture0),o.attach(this._thisFrameTexture),o.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var h=this._lastFrameFullQuadMesh;h.material.set("diffuseMap",this._lastFrameTexture),h.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([h,r],this._camera),o.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=t},_downsample:function(e){var n=this._downsampleTextures;if(0!==n.length)for(var t=0,i=this._thisFrameTexture,r=n[t];r;)this._frameBuffer.attach(r),this._downsamplePass.setUniform("texture",i),this._downsamplePass.setUniform("textureSize",[i.width,i.height]),this._downsamplePass.render(e,this._frameBuffer),i=r,r=n[++t]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,n){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=n*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=n*this._supersampling,this._width=e,this._height=n},setParticleSize:function(e){var n=this._getParticleMesh();if(e<=2)return n.material.disableTexture("spriteTexture"),void(n.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new Vi),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=function H6t(e){var n=document.createElement("canvas");n.width=n.height=e;var t=n.getContext("2d");return t.fillStyle="#fff",t.arc(e/2,e/2,e/2,0,2*Math.PI),t.fill(),n}(e),this._spriteTexture.dirty()),n.material.transparent=!0,n.material.enableTexture("spriteTexture"),n.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var n=this._getParticleMesh().material;n[e?"enableTexture":"disableTexture"]("gradientTexture"),n.setUniform("gradientTexture",e)},setColorTextureImage:function(e,n){this._getParticleMesh().material.setTextureImage("colorTexture",e,n,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var n=this._frameBuffer;n.attach(this._lastFrameTexture),n.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),n.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,n){for(var t=this._downsampleTextures,i=Math.max(Math.floor(Math.log(this._supersampling/n.getDevicePixelRatio())/Math.log(2)),0),r=2,o=this._width*this._supersampling,l=this._height*this._supersampling,h=0;h<i;h++)t[h]=t[h]||new Vi,t[h].width=o/r,t[h].height=l/r,r*=2;for(;h<t.length;h++)t[h].dispose(e);t.length=i},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e,e=this._thisFrameTexture,this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(n){n.dispose(e)})}};const Y6t=vce,U6t=ou.extend({type:"flowGL",__ecgl__:!0,init:function(e,n){this.viewGL=new u3("orthographic"),this.groupGL=new ze.Node,this.viewGL.add(this.groupGL),this._particleSurface=new Y6t;var t=new ze.Mesh({geometry:new ze.PlaneGeometry,material:new ze.Material({shader:new ze.Shader({vertex:ze.Shader.source("ecgl.color.vertex"),fragment:ze.Shader.source("ecgl.color.fragment")}),transparent:!0})});t.material.enableTexture("diffuseMap"),this.groupGL.add(t),this._planeMesh=t},render:function(e,n,t){var i=this._particleSurface;i.setParticleType(e.get("particleType")),i.setSupersampling(e.get("supersampling")),this._updateData(e,t),this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio());var r=Wi.firstNotNull(e.get("particleDensity"),128);i.setParticleDensity(r,r);var o=this._planeMesh,l=+new Date,h=this,f=!0;o.__percent=0,o.stopAnimation(),o.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var b=+new Date,S=Math.min(b-l,20);l+=S,h._renderer&&(i.update(h._renderer,t,S/1e3,f),o.material.set("diffuseMap",i.getSurfaceTexture())),f=!1}).start();var m=e.getModel("itemStyle"),_=ze.parseColor(m.get("color"));_[3]*=Wi.firstNotNull(m.get("opacity"),1),o.material.set("color",_),i.setColorTextureImage(e.get("colorTexture"),t),i.setParticleSize(e.get("particleSize")),i.particleSpeedScaling=e.get("particleSpeed"),i.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,n,t){this._updateData(e,t)},afterRender:function(e,n,t,i){this._renderer=i.renderer},_updateData:function(e,n){var t=e.coordinateSystem,i=t.dimensions.map(function(G){return e.coordDimToDataDim(G)[0]}),r=e.getData(),o=r.getDataExtent(i[0]),l=r.getDataExtent(i[1]),h=e.get("gridWidth"),f=e.get("gridHeight");null!=h&&"auto"!==h||(h=Math.round(Math.sqrt((o[1]-o[0])/(l[1]-l[0])*r.count()))),(null==f||"auto"===f)&&(f=Math.ceil(r.count()/h));var _=this._particleSurface.vectorFieldTexture,b=_.pixels;if(b&&b.length===f*h*4)for(var S=0;S<b.length;S++)b[S]=0;else b=_.pixels=new Float32Array(h*f*4);var M=0,O=1/0,I=new Float32Array(2*r.count()),N=0,V=[[1/0,1/0],[-1/0,-1/0]];r.each([i[0],i[1],"vx","vy"],function(G,X,K,ne){var ie=t.dataToPoint([G,X]);I[N++]=ie[0],I[N++]=ie[1],V[0][0]=Math.min(ie[0],V[0][0]),V[0][1]=Math.min(ie[1],V[0][1]),V[1][0]=Math.max(ie[0],V[1][0]),V[1][1]=Math.max(ie[1],V[1][1]);var pe=Math.sqrt(K*K+ne*ne);M=Math.max(M,pe),O=Math.min(O,pe)}),r.each(["vx","vy"],function(G,X,K){var ne=Math.round((I[2*K]-V[0][0])/(V[1][0]-V[0][0])*(h-1)),pe=4*((f-1-Math.round((I[2*K+1]-V[0][1])/(V[1][1]-V[0][1])*(f-1)))*h+ne);b[pe]=G/M*.5+.5,b[pe+1]=X/M*.5+.5,b[pe+3]=1}),_.width=h,_.height=f,"bmap"===e.get("coordinateSystem")&&this._fillEmptyPixels(_),_.dirty(),this._updatePlanePosition(V[0],V[1],e,n),this._updateGradientTexture(r.getVisual("visualMeta"),[O,M])},_fillEmptyPixels:function(e){var n=e.pixels,t=e.width,i=e.height;function r(I,N,V){I=Math.max(Math.min(I,t-1),0);var G=4*((N=Math.max(Math.min(N,i-1),0))*(t-1)+I);return 0!==n[G+3]&&(V[0]=n[G],V[1]=n[G+1],!0)}function o(I,N,V){V[0]=I[0]+N[0],V[1]=I[1]+N[1]}for(var l=[],h=[],f=[],m=[],_=[],b=0,S=0;S<i;S++)for(var M=0;M<t;M++){var O=4*(S*(t-1)+M);0===n[O+3]&&(b=l[0]=l[1]=0,r(M-1,S,h)&&(b++,o(h,l,l)),r(M+1,S,f)&&(b++,o(f,l,l)),r(M,S-1,m)&&(b++,o(m,l,l)),r(M,S+1,_)&&(b++,o(_,l,l)),l[0]/=b,l[1]/=b,n[O]=l[0],n[O+1]=l[1]),n[O+3]=1}},_updateGradientTexture:function(e,n){if(e&&e.length){this._gradientTexture=this._gradientTexture||new ze.Texture2D({image:document.createElement("canvas")});var t=this._gradientTexture,i=t.image;i.width=200,i.height=1;var r=i.getContext("2d"),o=r.createLinearGradient(0,.5,i.width,.5);e[0].stops.forEach(function(l){var h;n[1]===n[0]?h=0:(h=l.value/n[1],h=Math.min(Math.max(h,0),1)),o.addColorStop(h,l.color)}),r.fillStyle=o,r.fillRect(0,0,i.width,i.height),t.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,n,t,i){var r=this._limitInViewportAndFullFill(e,n,t,i);e=r.leftTop,n=r.rightBottom,this._particleSurface.setRegion(r.region),this._planeMesh.position.set((e[0]+n[0])/2,i.getHeight()-(e[1]+n[1])/2,0);var o=n[0]-e[0],l=n[1]-e[1];this._planeMesh.scale.set(o/2,l/2,1),this._particleSurface.resize(Math.max(Math.min(o,2048),1),Math.max(Math.min(l,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,n,t,i){var r=[Math.max(e[0],0),Math.max(e[1],0)],o=[Math.min(n[0],i.getWidth()),Math.min(n[1],i.getHeight())];if("bmap"===t.get("coordinateSystem")){var l=t.getData().getDataExtent(t.coordDimToDataDim("lng")[0]);Math.floor(l[1]-l[0])>=359&&(r[0]>0&&(r[0]=0),o[0]<i.getWidth()&&(o[0]=i.getWidth()))}var f=n[0]-e[0],m=n[1]-e[1],b=o[1]-r[1];return{leftTop:r,rightBottom:o,region:[(r[0]-e[0])/f,1-b/m-(r[1]-e[1])/m,(o[0]-r[0])/f,b/m]}},_updateCamera:function(e,n,t){this.viewGL.setViewport(0,0,e,n,t);var i=this.viewGL.camera;i.left=i.bottom=0,i.top=n,i.right=e,i.near=0,i.far=100,i.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});$s(function G6t(e){e.registerChartView(U6t),e.registerSeriesModel(N6t)});var _ce=$u.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),_ce.superApply(this,"init",arguments)},mergeOption:function(e){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),_ce.superApply(this,"mergeOption",arguments)},appendData:function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=ooe(this._flatCoords,n.flatCoords),this._flatCoordsOffset=ooe(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var n=this.getData().getItemModel(e);return n.option instanceof Array?n.option:n.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,n){if(this._flatCoordsOffset){for(var t=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)n[r]=n[r]||[],n[r][0]=this._flatCoords[t+2*r],n[r][1]=this._flatCoords[t+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)n[r]=n[r]||[],n[r][0]=o[r][0],n[r][1]=o[r][1];return o.length},_processFlatCoordsArray:function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),"number"==typeof e[0]){for(var t=e.length,i=new Uint32Array(t),r=new Float64Array(t),o=0,l=0,h=0,f=0;f<t;){h++;var m=e[f++];i[l++]=o+n,i[l++]=m;for(var _=0;_<m;_++){var b=e[f++],S=e[f++];r[o++]=b,r[o++]=S}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,l),flatCoords:r,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,n){var t=new Xg(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(i,r,o,l){if(i instanceof Array)return NaN;t.hasItemOption=!0;var h=i.value;return null!=h?h instanceof Array?h[l]:h:void 0}),t},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const W6t=_ce,j6t=ou.extend({type:"linesGL",__ecgl__:!0,init:function(e,n){this.groupGL=new ze.Node,this.viewGL=new u3("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new xwe(this.viewGL),this._nativeLinesShader=ze.createShader("ecgl.lines3D"),this._meshLinesShader=ze.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,n,t){this.groupGL.removeAll(),this._glViewHelper.reset(e,t);var i=this._linesMeshes[0];i||(i=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(i),this._updateLinesMesh(e,i,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),t)},incrementalPrepareRender:function(e,n,t){this.groupGL.removeAll(),this._glViewHelper.reset(e,t),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),t)},incrementalRender:function(e,n,t,i){var r=this._linesMeshes[this._currentStep];r||(r=this._createLinesMesh(n),this._linesMeshes[this._currentStep]=r),this._updateLinesMesh(n,r,e.start,e.end),this.groupGL.add(r),i.getZr().refresh(),this._currentStep++},updateTransform:function(e,n,t){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,t)},_createLinesMesh:function(e){return new ze.Mesh({$ignorePicking:!0,material:new ze.Material({shader:ze.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new Mwe({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:ze.Mesh.LINES,culling:!1})},_updateLinesMesh:function(e,n,t,i){var r=e.getData();n.material.blend="lighter"===e.get("blendMode")?ze.additiveBlend:null;var o=e.get("lineStyle.curveness")||0,l=e.get("polyline"),h=n.geometry,f=e.coordinateSystem,m=Wi.firstNotNull(e.get("lineStyle.width"),1);m>1?(n.material.shader!==this._meshLinesShader&&n.material.attachShader(this._meshLinesShader),n.mode=ze.Mesh.TRIANGLES):(n.material.shader!==this._nativeLinesShader&&n.material.attachShader(this._nativeLinesShader),n.mode=ze.Mesh.LINES),t=t||0,i=i||r.count(),h.resetOffset();var _=0,b=0,S=[],M=[],O=[],I=[],N=[],V=.3,G=.7;function X(){M[0]=S[0]*G+I[0]*V-(S[1]-I[1])*o,M[1]=S[1]*G+I[1]*V-(I[0]-S[0])*o,O[0]=S[0]*V+I[0]*G-(S[1]-I[1])*o,O[1]=S[1]*V+I[1]*G-(I[0]-S[0])*o}if(l||0!==o)for(var K=t;K<i;K++)if(l){var ne=e.getLineCoordsCount(K);_+=h.getPolylineVertexCount(ne),b+=h.getPolylineTriangleCount(ne)}else e.getLineCoords(K,N),this._glViewHelper.dataToPoint(f,N[0],S),this._glViewHelper.dataToPoint(f,N[1],I),X(),_+=h.getCubicCurveVertexCount(S,M,O,I),b+=h.getCubicCurveTriangleCount(S,M,O,I);else{var ie=i-t;_+=ie*h.getLineVertexCount(),b+=ie*h.getLineVertexCount()}h.setVertexCount(_),h.setTriangleCount(b);var pe=t,ve=[];for(K=t;K<i;K++){ze.parseColor(wl(r,pe),ve);var ye=Wi.firstNotNull(Sl(r,pe),1);ve[3]*=ye,ne=e.getLineCoords(K,N);for(var Se=0;Se<ne;Se++)this._glViewHelper.dataToPoint(f,N[Se],N[Se]);l?h.addPolyline(N,ve,m,0,ne):0!==o?(S=N[0],I=N[1],X(),h.addCubicCurve(S,M,O,I,ve,m)):h.addPolyline(N,ve,m,0,2),pe++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});$s(function $6t(e){e.registerChartView(j6t),e.registerSeriesModel(W6t)}),Qe(1911),t7().bootstrapModule(vS).catch(e=>console.error(e))},6087:(rc,lu,Qe)=>{"use strict";const Fn=Qe(4315),Ee=Qe(2872),aa=Qe(717);rc.exports=function bi(Ur,No){switch(Ee(Ur)){case"object":return function Ci(Ur,No){if("function"==typeof No)return No(Ur);if(No||aa(Ur)){const _t=new Ur.constructor;for(let Un in Ur)_t[Un]=bi(Ur[Un],No);return _t}return Ur}(Ur,No);case"array":return function Pt(Ur,No){const _t=new Ur.constructor(Ur.length);for(let Un=0;Un<Ur.length;Un++)_t[Un]=bi(Ur[Un],No);return _t}(Ur,No);default:return Fn(Ur)}}},9094:function(rc,lu){!function(Qe){"use strict";var Fn=function(c,s){return(Fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])})(c,s)};function Ee(c,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}Fn(c,s),c.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}var aa=function(){return(aa=Object.assign||function(c){for(var s,a=1,u=arguments.length;a<u;a++)for(var d in s=arguments[a])Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d]);return c}).apply(this,arguments)};function bi(c,s,a){if(a||2===arguments.length)for(var u,d=0,p=s.length;d<p;d++)!u&&d in s||(u||(u=Array.prototype.slice.call(s,0,d)),u[d]=s[d]);return c.concat(u||s)}var Ci=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Pt=new function(){this.browser=new Ci,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Pt.wxa=!0,Pt.canvasSupported=!0,Pt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?(Pt.worker=!0,Pt.canvasSupported=!0):typeof navigator>"u"?(Pt.node=!0,Pt.canvasSupported=!0,Pt.svgSupported=!0):function(c,s){var a=s.browser,u=c.match(/Firefox\/([\d.]+)/),d=c.match(/MSIE\s([\d.]+)/)||c.match(/Trident\/.+?rv:(([\d.]+))/),p=c.match(/Edge?\/([\d.]+)/),g=/micromessenger/i.test(c);u&&(a.firefox=!0,a.version=u[1]),d&&(a.ie=!0,a.version=d[1]),p&&(a.edge=!0,a.version=p[1],a.newEdge=+p[1].split(".")[0]>18),g&&(a.weChat=!0),s.canvasSupported=!!document.createElement("canvas").getContext,s.svgSupported=typeof SVGRect<"u",s.touchEventsSupported="ontouchstart"in window&&!a.ie&&!a.edge,s.pointerEventsSupported="onpointerdown"in window&&(a.edge||a.ie&&+a.version>=11),s.domSupported=typeof document<"u";var v=document.documentElement.style;s.transform3dSupported=(a.ie&&"transition"in v||a.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in v)&&!("OTransition"in v),s.transformSupported=s.transform3dSupported||a.ie&&+a.version>=9}(navigator.userAgent,Pt);var Ur={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},No={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},_t=Object.prototype.toString,Un=Array.prototype,Oa=Un.forEach,oc=Un.filter,yo=Un.slice,n5=Un.map,r5=function(){}.constructor,xp=r5?r5.prototype:null,Xa="__proto__",bp={};function Ym(c,s){bp[c]=s}var Um=2311;function Cp(){return Um++}function ac(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];typeof console<"u"&&console.error.apply(console,c)}function nn(c){if(null==c||"object"!=typeof c)return c;var s=c,a=_t.call(c);if("[object Array]"===a){if(!Yd(c)){s=[];for(var u=0,d=c.length;u<d;u++)s[u]=nn(c[u])}}else if(No[a]){if(!Yd(c)){var p=c.constructor;if(p.from)s=p.from(c);else for(s=new p(c.length),u=0,d=c.length;u<d;u++)s[u]=nn(c[u])}}else if(!Ur[a]&&!Yd(c)&&!t1(c))for(var g in s={},c)c.hasOwnProperty(g)&&g!==Xa&&(s[g]=nn(c[g]));return s}function Mn(c,s,a){if(!rn(s)||!rn(c))return a?nn(s):c;for(var u in s)if(s.hasOwnProperty(u)&&u!==Xa){var d=c[u],p=s[u];!rn(p)||!rn(d)||at(p)||at(d)||t1(p)||t1(d)||f2(p)||f2(d)||Yd(p)||Yd(d)?!a&&u in c||(c[u]=nn(s[u])):Mn(d,p,a)}return c}function Ea(c,s){for(var a=c[0],u=1,d=c.length;u<d;u++)a=Mn(a,c[u],s);return a}function it(c,s){if(Object.assign)Object.assign(c,s);else for(var a in s)s.hasOwnProperty(a)&&a!==Xa&&(c[a]=s[a]);return c}function jt(c,s,a){for(var u=Gt(s),d=0;d<u.length;d++){var p=u[d];(a?null!=s[p]:null==c[p])&&(c[p]=s[p])}return c}var Js=function(){return bp.createCanvas()};function Gn(c,s){if(c){if(c.indexOf)return c.indexOf(s);for(var a=0,u=c.length;a<u;a++)if(c[a]===s)return a}return-1}function Wn(c,s){var a=c.prototype;function u(){}for(var d in u.prototype=s.prototype,c.prototype=new u,a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);c.prototype.constructor=c,c.superClass=s}function Gr(c,s,a){if(c="prototype"in c?c.prototype:c,s="prototype"in s?s.prototype:s,Object.getOwnPropertyNames)for(var u=Object.getOwnPropertyNames(s),d=0;d<u.length;d++){var p=u[d];"constructor"!==p&&(a?null!=s[p]:null==c[p])&&(c[p]=s[p])}else jt(c,s,a)}function Dn(c){return!!c&&"string"!=typeof c&&"number"==typeof c.length}function fe(c,s,a){if(c&&s)if(c.forEach&&c.forEach===Oa)c.forEach(s,a);else if(c.length===+c.length)for(var u=0,d=c.length;u<d;u++)s.call(a,c[u],u,c);else for(var p in c)c.hasOwnProperty(p)&&s.call(a,c[p],p,c)}function tt(c,s,a){if(!c)return[];if(!s)return Ml(c);if(c.map&&c.map===n5)return c.map(s,a);for(var u=[],d=0,p=c.length;d<p;d++)u.push(s.call(a,c[d],d,c));return u}function nt(c,s,a,u){if(c&&s){for(var d=0,p=c.length;d<p;d++)a=s.call(u,a,c[d],d,c);return a}}function Ri(c,s,a){if(!c)return[];if(!s)return Ml(c);if(c.filter&&c.filter===oc)return c.filter(s,a);for(var u=[],d=0,p=c.length;d<p;d++)s.call(a,c[d],d,c)&&u.push(c[d]);return u}function Is(c,s,a){if(c&&s)for(var u=0,d=c.length;u<d;u++)if(s.call(a,c[u],u,c))return c[u]}function Gt(c){if(!c)return[];if(Object.keys)return Object.keys(c);var s=[];for(var a in c)c.hasOwnProperty(a)&&s.push(a);return s}bp.createCanvas=function(){return document.createElement("canvas")};var rt=xp&&wi(xp.bind)?xp.call.bind(xp.bind):function(c,s){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];return function(){return c.apply(s,a.concat(yo.call(arguments)))}};function Je(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return function(){return c.apply(this,s.concat(yo.call(arguments)))}}function at(c){return Array.isArray?Array.isArray(c):"[object Array]"===_t.call(c)}function wi(c){return"function"==typeof c}function ui(c){return"string"==typeof c}function Gm(c){return"[object String]"===_t.call(c)}function zt(c){return"number"==typeof c}function rn(c){var s=typeof c;return"function"===s||!!c&&"object"===s}function f2(c){return!!Ur[_t.call(c)]}function Tl(c){return!!No[_t.call(c)]}function t1(c){return"object"==typeof c&&"number"==typeof c.nodeType&&"object"==typeof c.ownerDocument}function p2(c){return null!=c.colorStops}function y3(c){return null!=c.image}function n1(c){return"[object RegExp]"===_t.call(c)}function nh(c){return c!=c}function sa(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];for(var a=0,u=c.length;a<u;a++)if(null!=c[a])return c[a]}function xi(c,s){return c??s}function sc(c,s,a){return c??s??a}function Ml(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return yo.apply(c,s)}function g2(c){if("number"==typeof c)return[c,c,c,c];var s=c.length;return 2===s?[c[0],c[1],c[0],c[1]]:3===s?[c[0],c[1],c[2],c[1]]:c}function Dl(c,s){if(!c)throw new Error(s)}function ih(c){return null==c?null:"function"==typeof c.trim?c.trim():c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var x3="__ec_primitive__";function wp(c){c[x3]=!0}function Yd(c){return c[x3]}var o5=function(){function c(s){this.data={};var a=at(s);this.data={};var u=this;function d(p,g){a?u.set(p,g):u.set(g,p)}s instanceof c?s.each(d):s&&fe(s,d)}return c.prototype.get=function(s){return this.data.hasOwnProperty(s)?this.data[s]:null},c.prototype.set=function(s,a){return this.data[s]=a},c.prototype.each=function(s,a){for(var u in this.data)this.data.hasOwnProperty(u)&&s.call(a,this.data[u],u)},c.prototype.keys=function(){return Gt(this.data)},c.prototype.removeKey=function(s){delete this.data[s]},c}();function qt(c){return new o5(c)}function m2(c,s){for(var a=new c.constructor(c.length+s.length),u=0;u<c.length;u++)a[u]=c[u];var d=c.length;for(u=0;u<s.length;u++)a[u+d]=s[u];return a}function rh(c,s){var a;if(Object.create)a=Object.create(c);else{var u=function(){};u.prototype=c,a=new u}return s&&it(a,s),a}function Nt(c,s){return c.hasOwnProperty(s)}function lc(){}var cc=Object.freeze({__proto__:null,$override:Ym,guid:Cp,logError:ac,clone:nn,merge:Mn,mergeAll:Ea,extend:it,defaults:jt,createCanvas:Js,indexOf:Gn,inherits:Wn,mixin:Gr,isArrayLike:Dn,each:fe,map:tt,reduce:nt,filter:Ri,find:Is,keys:Gt,bind:rt,curry:Je,isArray:at,isFunction:wi,isString:ui,isStringSafe:Gm,isNumber:zt,isObject:rn,isBuiltInObject:f2,isTypedArray:Tl,isDom:t1,isGradientObject:p2,isImagePatternObject:y3,isRegExp:n1,eqNaN:nh,retrieve:sa,retrieve2:xi,retrieve3:sc,slice:Ml,normalizeCssArray:g2,assert:Dl,trim:ih,setAsPrimitive:wp,isPrimitive:Yd,HashMap:o5,createHashMap:qt,concatArray:m2,createObject:rh,hasOwn:Nt,noop:lc});function Pl(c,s){return null==c&&(c=0),null==s&&(s=0),[c,s]}function Ls(c,s){return c[0]=s[0],c[1]=s[1],c}function cu(c){return[c[0],c[1]]}function oh(c,s,a){return c[0]=s,c[1]=a,c}function uc(c,s,a){return c[0]=s[0]+a[0],c[1]=s[1]+a[1],c}function Al(c,s,a,u){return c[0]=s[0]+a[0]*u,c[1]=s[1]+a[1]*u,c}function Fo(c,s,a){return c[0]=s[0]-a[0],c[1]=s[1]-a[1],c}function Wm(c){return Math.sqrt(Gd(c))}function Gd(c){return c[0]*c[0]+c[1]*c[1]}function Wd(c,s,a){return c[0]=s[0]*a,c[1]=s[1]*a,c}function Qh(c,s){var a=Wm(s);return 0===a?(c[0]=0,c[1]=0):(c[0]=s[0]/a,c[1]=s[1]/a),c}function zl(c,s){return Math.sqrt((c[0]-s[0])*(c[0]-s[0])+(c[1]-s[1])*(c[1]-s[1]))}var ms=zl;function v2(c,s){return(c[0]-s[0])*(c[0]-s[0])+(c[1]-s[1])*(c[1]-s[1])}var Cr=v2;function Oc(c,s,a,u){return c[0]=s[0]+u*(a[0]-s[0]),c[1]=s[1]+u*(a[1]-s[1]),c}function cr(c,s,a){var u=s[0],d=s[1];return c[0]=a[0]*u+a[2]*d+a[4],c[1]=a[1]*u+a[3]*d+a[5],c}function Ec(c,s,a){return c[0]=Math.min(s[0],a[0]),c[1]=Math.min(s[1],a[1]),c}function Jh(c,s,a){return c[0]=Math.max(s[0],a[0]),c[1]=Math.max(s[1],a[1]),c}var s5=Object.freeze({__proto__:null,create:Pl,copy:Ls,clone:cu,set:oh,add:uc,scaleAndAdd:Al,sub:Fo,len:Wm,length:Wm,lenSquare:Gd,lengthSquare:Gd,mul:function(c,s,a){return c[0]=s[0]*a[0],c[1]=s[1]*a[1],c},div:function(c,s,a){return c[0]=s[0]/a[0],c[1]=s[1]/a[1],c},dot:function(c,s){return c[0]*s[0]+c[1]*s[1]},scale:Wd,normalize:Qh,distance:zl,dist:ms,distanceSquare:v2,distSquare:Cr,negate:function(c,s){return c[0]=-s[0],c[1]=-s[1],c},lerp:Oc,applyTransform:cr,min:Ec,max:Jh}),jd=function(c,s){this.target=c,this.topTarget=s&&s.topTarget},b3=function(){function c(s){this.handler=s,s.on("mousedown",this._dragStart,this),s.on("mousemove",this._drag,this),s.on("mouseup",this._dragEnd,this)}return c.prototype._dragStart=function(s){for(var a=s.target;a&&!a.draggable;)a=a.parent;a&&(this._draggingTarget=a,a.dragging=!0,this._x=s.offsetX,this._y=s.offsetY,this.handler.dispatchToElement(new jd(a,s),"dragstart",s.event))},c.prototype._drag=function(s){var a=this._draggingTarget;if(a){var u=s.offsetX,d=s.offsetY,p=u-this._x,g=d-this._y;this._x=u,this._y=d,a.drift(p,g,s),this.handler.dispatchToElement(new jd(a,s),"drag",s.event);var v=this.handler.findHover(u,d,a).target,y=this._dropTarget;this._dropTarget=v,a!==v&&(y&&v!==y&&this.handler.dispatchToElement(new jd(y,s),"dragleave",s.event),v&&v!==y&&this.handler.dispatchToElement(new jd(v,s),"dragenter",s.event))}},c.prototype._dragEnd=function(s){var a=this._draggingTarget;a&&(a.dragging=!1),this.handler.dispatchToElement(new jd(a,s),"dragend",s.event),this._dropTarget&&this.handler.dispatchToElement(new jd(this._dropTarget,s),"drop",s.event),this._draggingTarget=null,this._dropTarget=null},c}(),Rs=function(){function c(s){s&&(this._$eventProcessor=s)}return c.prototype.on=function(s,a,u,d){this._$handlers||(this._$handlers={});var p=this._$handlers;if("function"==typeof a&&(d=u,u=a,a=null),!u||!s)return this;var g=this._$eventProcessor;null!=a&&g&&g.normalizeQuery&&(a=g.normalizeQuery(a)),p[s]||(p[s]=[]);for(var v=0;v<p[s].length;v++)if(p[s][v].h===u)return this;var y={h:u,query:a,ctx:d||this,callAtLast:u.zrEventfulCallAtLast},x=p[s].length-1,C=p[s][x];return C&&C.callAtLast?p[s].splice(x,0,y):p[s].push(y),this},c.prototype.isSilent=function(s){var a=this._$handlers;return!a||!a[s]||!a[s].length},c.prototype.off=function(s,a){var u=this._$handlers;if(!u)return this;if(!s)return this._$handlers={},this;if(a){if(u[s]){for(var d=[],p=0,g=u[s].length;p<g;p++)u[s][p].h!==a&&d.push(u[s][p]);u[s]=d}u[s]&&0===u[s].length&&delete u[s]}else delete u[s];return this},c.prototype.trigger=function(s){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(!this._$handlers)return this;var d=this._$handlers[s],p=this._$eventProcessor;if(d)for(var g=a.length,v=d.length,y=0;y<v;y++){var x=d[y];if(!p||!p.filter||null==x.query||p.filter(s,x.query))switch(g){case 0:x.h.call(x.ctx);break;case 1:x.h.call(x.ctx,a[0]);break;case 2:x.h.call(x.ctx,a[0],a[1]);break;default:x.h.apply(x.ctx,a)}}return p&&p.afterTrigger&&p.afterTrigger(s),this},c.prototype.triggerWithContext=function(s){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(!this._$handlers)return this;var d=this._$handlers[s],p=this._$eventProcessor;if(d)for(var g=a.length,v=a[g-1],y=d.length,x=0;x<y;x++){var C=d[x];if(!p||!p.filter||null==C.query||p.filter(s,C.query))switch(g){case 0:C.h.call(v);break;case 1:C.h.call(v,a[0]);break;case 2:C.h.call(v,a[0],a[1]);break;default:C.h.apply(v,a.slice(1,g-1))}}return p&&p.afterTrigger&&p.afterTrigger(s),this},c}(),MT=Math.log(2);function r1(c,s,a,u,d,p){var g=u+"-"+d,v=c.length;if(p.hasOwnProperty(g))return p[g];if(1===s){var y=Math.round(Math.log((1<<v)-1&~d)/MT);return c[a][y]}for(var x=u|1<<a,C=a+1;u&1<<C;)C++;for(var w=0,D=0,P=0;D<v;D++){var z=1<<D;z&d||(w+=(P%2?-1:1)*c[a][D]*r1(c,s-1,C,x,d|z,p),P++)}return p[g]=w,w}function jm(c,s){var a=[[c[0],c[1],1,0,0,0,-s[0]*c[0],-s[0]*c[1]],[0,0,0,c[0],c[1],1,-s[1]*c[0],-s[1]*c[1]],[c[2],c[3],1,0,0,0,-s[2]*c[2],-s[2]*c[3]],[0,0,0,c[2],c[3],1,-s[3]*c[2],-s[3]*c[3]],[c[4],c[5],1,0,0,0,-s[4]*c[4],-s[4]*c[5]],[0,0,0,c[4],c[5],1,-s[5]*c[4],-s[5]*c[5]],[c[6],c[7],1,0,0,0,-s[6]*c[6],-s[6]*c[7]],[0,0,0,c[6],c[7],1,-s[7]*c[6],-s[7]*c[7]]],u={},d=r1(a,8,0,0,0,u);if(0!==d){for(var p=[],g=0;g<8;g++)for(var v=0;v<8;v++)null==p[v]&&(p[v]=0),p[v]+=((g+v)%2?-1:1)*r1(a,7,0===g?1:0,1<<g,1<<v,u)/d*s[g];return function(y,x,C){var w=x*p[6]+C*p[7]+1;y[0]=(x*p[0]+C*p[1]+p[2])/w,y[1]=(x*p[3]+C*p[4]+p[5])/w}}}var C3=[];function w3(c,s,a,u,d){if(s.getBoundingClientRect&&Pt.domSupported&&!$m(s)){var p=s.___zrEVENTSAVED||(s.___zrEVENTSAVED={}),g=function(v,y,x){for(var C=x?"invTrans":"trans",w=y[C],D=y.srcCoords,P=[],z=[],k=!0,E=0;E<4;E++){var F=v[E].getBoundingClientRect(),B=2*E,H=F.left,Y=F.top;P.push(H,Y),k=k&&D&&H===D[B]&&Y===D[B+1],z.push(v[E].offsetLeft,v[E].offsetTop)}return k&&w?w:(y.srcCoords=P,y[C]=x?jm(z,P):jm(P,z))}(function(v,y){var x=y.markers;if(x)return x;x=y.markers=[];for(var C=["left","right"],w=["top","bottom"],D=0;D<4;D++){var P=document.createElement("div"),z=D%2,k=(D>>1)%2;P.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",C[z]+":0",w[k]+":0",C[1-z]+":auto",w[1-k]+":auto",""].join("!important;"),v.appendChild(P),x.push(P)}return x}(s,p),p,d);if(g)return g(c,a,u),!0}return!1}function $m(c){return"CANVAS"===c.nodeName.toUpperCase()}var o1=typeof window<"u"&&!!window.addEventListener,Sp=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,S3=[];function T3(c,s,a,u){return a=a||{},u||!Pt.canvasSupported?xo(c,s,a):Pt.browser.firefox&&Pt.browser.version<"39"&&null!=s.layerX&&s.layerX!==s.offsetX?(a.zrX=s.layerX,a.zrY=s.layerY):null!=s.offsetX?(a.zrX=s.offsetX,a.zrY=s.offsetY):xo(c,s,a),a}function xo(c,s,a){if(Pt.domSupported&&c.getBoundingClientRect){var u=s.clientX,d=s.clientY;if($m(c)){var p=c.getBoundingClientRect();return a.zrX=u-p.left,void(a.zrY=d-p.top)}if(w3(S3,c,u,d))return a.zrX=S3[0],void(a.zrY=S3[1])}a.zrX=a.zrY=0}function Qr(c){return c||window.event}function wr(c,s,a){if(null!=(s=Qr(s)).zrX)return s;var u=s.type;if(u&&u.indexOf("touch")>=0){var d="touchend"!==u?s.targetTouches[0]:s.changedTouches[0];d&&T3(c,d,s,a)}else{T3(c,s,s,a);var p=function(v){var y=v.wheelDelta;if(y)return y;var x=v.deltaX,C=v.deltaY;return null==x||null==C?y:3*Math.abs(0!==C?C:x)*(C>0?-1:C<0?1:x>0?-1:1)}(s);s.zrDelta=p?p/120:-(s.detail||0)/3}var g=s.button;return null==s.which&&void 0!==g&&Sp.test(s.type)&&(s.which=1&g?1:2&g?3:4&g?2:0),s}function a1(c,s,a,u){o1?c.addEventListener(s,a,u):c.attachEvent("on"+s,a)}var el=o1?function(c){c.preventDefault(),c.stopPropagation(),c.cancelBubble=!0}:function(c){c.returnValue=!1,c.cancelBubble=!0};function Sn(c){return 2===c.which||3===c.which}var bo=function(){function c(){this._track=[]}return c.prototype.recognize=function(s,a,u){return this._doTrack(s,a,u),this._recognize(s)},c.prototype.clear=function(){return this._track.length=0,this},c.prototype._doTrack=function(s,a,u){var d=s.touches;if(d){for(var p={points:[],touches:[],target:a,event:s},g=0,v=d.length;g<v;g++){var y=d[g],x=T3(u,y,{});p.points.push([x.zrX,x.zrY]),p.touches.push(y)}this._track.push(p)}},c.prototype._recognize=function(s){for(var a in ah)if(ah.hasOwnProperty(a)){var u=ah[a](this._track,s);if(u)return u}},c}();function Ir(c){var s=c[1][0]-c[0][0],a=c[1][1]-c[0][1];return Math.sqrt(s*s+a*a)}var ah={pinch:function(c,s){var a=c.length;if(a){var u,d=(c[a-1]||{}).points,p=(c[a-2]||{}).points||d;if(p&&p.length>1&&d&&d.length>1){var g=Ir(d)/Ir(p);!isFinite(g)&&(g=1),s.pinchScale=g;var v=[((u=d)[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2];return s.pinchX=v[0],s.pinchY=v[1],{type:"pinch",target:c[0].target,event:s}}}}};function Yi(){el(this.event)}var It=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.handler=null,a}return Ee(s,c),s.prototype.dispose=function(){},s.prototype.setCursor=function(){},s}(Rs),Wr=function(c,s){this.x=c,this.y=s},Xm=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_2=function(c){function s(a,u,d,p){var g=c.call(this)||this;return g._hovered=new Wr(0,0),g.storage=a,g.painter=u,g.painterRoot=p,d=d||new It,g.proxy=null,g.setHandlerProxy(d),g._draggingMgr=new b3(g),g}return Ee(s,c),s.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(fe(Xm,function(u){a.on&&a.on(u,this[u],this)},this),a.handler=this),this.proxy=a},s.prototype.mousemove=function(a){var u=a.zrX,d=a.zrY,p=dt(this,u,d),g=this._hovered,v=g.target;v&&!v.__zr&&(v=(g=this.findHover(g.x,g.y)).target);var y=this._hovered=p?new Wr(u,d):this.findHover(u,d),x=y.target,C=this.proxy;C.setCursor&&C.setCursor(x?x.cursor:"default"),v&&x!==v&&this.dispatchToElement(g,"mouseout",a),this.dispatchToElement(y,"mousemove",a),x&&x!==v&&this.dispatchToElement(y,"mouseover",a)},s.prototype.mouseout=function(a){var u=a.zrEventControl;"only_globalout"!==u&&this.dispatchToElement(this._hovered,"mouseout",a),"no_globalout"!==u&&this.trigger("globalout",{type:"globalout",event:a})},s.prototype.resize=function(){this._hovered=new Wr(0,0)},s.prototype.dispatch=function(a,u){var d=this[a];d&&d.call(this,u)},s.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},s.prototype.setCursorStyle=function(a){var u=this.proxy;u.setCursor&&u.setCursor(a)},s.prototype.dispatchToElement=function(a,u,d){var x,C,p=(a=a||{}).target;if(!p||!p.silent){for(var g="on"+u,v={type:u,event:C=d,target:(x=a).target,topTarget:x.topTarget,cancelBubble:!1,offsetX:C.zrX,offsetY:C.zrY,gestureEvent:C.gestureEvent,pinchX:C.pinchX,pinchY:C.pinchY,pinchScale:C.pinchScale,wheelDelta:C.zrDelta,zrByTouch:C.zrByTouch,which:C.which,stop:Yi};p&&(p[g]&&(v.cancelBubble=!!p[g].call(p,v)),p.trigger(u,v),p=p.__hostTarget?p.__hostTarget:p.parent,!v.cancelBubble););v.cancelBubble||(this.trigger(u,v),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(y){"function"==typeof y[g]&&y[g].call(y,v),y.trigger&&y.trigger(u,v)}))}},s.prototype.findHover=function(a,u,d){for(var p=this.storage.getDisplayList(),g=new Wr(a,u),v=p.length-1;v>=0;v--){var y=void 0;if(p[v]!==d&&!p[v].ignore&&(y=tl(p[v],a,u))&&(!g.topTarget&&(g.topTarget=p[v]),"silent"!==y)){g.target=p[v];break}}return g},s.prototype.processGesture=function(a,u){this._gestureMgr||(this._gestureMgr=new bo);var d=this._gestureMgr;"start"===u&&d.clear();var p=d.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if("end"===u&&d.clear(),p){var g=p.type;a.gestureEvent=g;var v=new Wr;v.target=p.target,this.dispatchToElement(v,g,p.event)}},s}(Rs);function tl(c,s,a){if(c[c.rectHover?"rectContain":"contain"](s,a)){for(var u=c,d=void 0,p=!1;u;){if(u.ignoreClip&&(p=!0),!p){var g=u.getClipPath();if(g&&!g.contain(s,a))return!1;u.silent&&(d=!0)}u=u.__hostTarget||u.parent}return!d||"silent"}return!1}function dt(c,s,a){var u=c.painter;return s<0||s>u.getWidth()||a<0||a>u.getHeight()}function $d(c,s,a,u){var d=s+1;if(d===a)return 1;if(u(c[d++],c[s])<0){for(;d<a&&u(c[d],c[d-1])<0;)d++;!function(p,g,v){for(v--;g<v;){var y=p[g];p[g++]=p[v],p[v--]=y}}(c,s,d)}else for(;d<a&&u(c[d],c[d-1])>=0;)d++;return d-s}function jn(c,s,a,u,d){for(u===s&&u++;u<a;u++){for(var p,g=c[u],v=s,y=u;v<y;)d(g,c[p=v+y>>>1])<0?y=p:v=p+1;var x=u-v;switch(x){case 3:c[v+3]=c[v+2];case 2:c[v+2]=c[v+1];case 1:c[v+1]=c[v];break;default:for(;x>0;)c[v+x]=c[v+x-1],x--}c[v]=g}}function $n(c,s,a,u,d,p){var g=0,v=0,y=1;if(p(c,s[a+d])>0){for(v=u-d;y<v&&p(c,s[a+d+y])>0;)g=y,(y=1+(y<<1))<=0&&(y=v);y>v&&(y=v),g+=d,y+=d}else{for(v=d+1;y<v&&p(c,s[a+d-y])<=0;)g=y,(y=1+(y<<1))<=0&&(y=v);y>v&&(y=v);var x=g;g=d-y,y=d-x}for(g++;g<y;){var C=g+(y-g>>>1);p(c,s[a+C])>0?g=C+1:y=C}return y}function sh(c,s,a,u,d,p){var g=0,v=0,y=1;if(p(c,s[a+d])<0){for(v=d+1;y<v&&p(c,s[a+d-y])<0;)g=y,(y=1+(y<<1))<=0&&(y=v);y>v&&(y=v);var x=g;g=d-y,y=d-x}else{for(v=u-d;y<v&&p(c,s[a+d+y])>=0;)g=y,(y=1+(y<<1))<=0&&(y=v);y>v&&(y=v),g+=d,y+=d}for(g++;g<y;){var C=g+(y-g>>>1);p(c,s[a+C])<0?y=C:g=C+1}return y}function Mp(c,s,a,u){a||(a=0),u||(u=c.length);var d=u-a;if(!(d<2)){var p=0;if(d<32)jn(c,a,u,a+(p=$d(c,a,u,s)),s);else{var g=function y2(c,s){var a,u,d=7,p=0,g=[];function v(y){var x=a[y],C=u[y],w=a[y+1],D=u[y+1];u[y]=C+D,y===p-3&&(a[y+1]=a[y+2],u[y+1]=u[y+2]),p--;var P=sh(c[w],c,x,C,0,s);x+=P,0!=(C-=P)&&0!==(D=$n(c[x+C-1],c,w,D,D-1,s))&&(C<=D?function(z,k,E,F){var B=0;for(B=0;B<k;B++)g[B]=c[z+B];var H=0,Y=E,U=z;if(c[U++]=c[Y++],0!=--F)if(1!==k){for(var j,q,Q,re=d;;){j=0,q=0,Q=!1;do{if(s(c[Y],g[H])<0){if(c[U++]=c[Y++],q++,j=0,0==--F){Q=!0;break}}else if(c[U++]=g[H++],j++,q=0,1==--k){Q=!0;break}}while((j|q)<re);if(Q)break;do{if(0!==(j=sh(c[Y],g,H,k,0,s))){for(B=0;B<j;B++)c[U+B]=g[H+B];if(U+=j,H+=j,(k-=j)<=1){Q=!0;break}}if(c[U++]=c[Y++],0==--F){Q=!0;break}if(0!==(q=$n(g[H],c,Y,F,0,s))){for(B=0;B<q;B++)c[U+B]=c[Y+B];if(U+=q,Y+=q,0==(F-=q)){Q=!0;break}}if(c[U++]=g[H++],1==--k){Q=!0;break}re--}while(j>=7||q>=7);if(Q)break;re<0&&(re=0),re+=2}if((d=re)<1&&(d=1),1===k){for(B=0;B<F;B++)c[U+B]=c[Y+B];c[U+F]=g[H]}else{if(0===k)throw new Error;for(B=0;B<k;B++)c[U+B]=g[H+B]}}else{for(B=0;B<F;B++)c[U+B]=c[Y+B];c[U+F]=g[H]}else for(B=0;B<k;B++)c[U+B]=g[H+B]}(x,C,w,D):function(z,k,E,F){var B=0;for(B=0;B<F;B++)g[B]=c[E+B];var H=z+k-1,Y=F-1,U=E+F-1,j=0,q=0;if(c[U--]=c[H--],0!=--k)if(1!==F){for(var Q=d;;){var re=0,oe=0,ae=!1;do{if(s(g[Y],c[H])<0){if(c[U--]=c[H--],re++,oe=0,0==--k){ae=!0;break}}else if(c[U--]=g[Y--],oe++,re=0,1==--F){ae=!0;break}}while((re|oe)<Q);if(ae)break;do{if(0!=(re=k-sh(g[Y],c,z,k,k-1,s))){for(k-=re,q=1+(U-=re),j=1+(H-=re),B=re-1;B>=0;B--)c[q+B]=c[j+B];if(0===k){ae=!0;break}}if(c[U--]=g[Y--],1==--F){ae=!0;break}if(0!=(oe=F-$n(c[H],g,0,F,F-1,s))){for(F-=oe,q=1+(U-=oe),j=1+(Y-=oe),B=0;B<oe;B++)c[q+B]=g[j+B];if(F<=1){ae=!0;break}}if(c[U--]=c[H--],0==--k){ae=!0;break}Q--}while(re>=7||oe>=7);if(ae)break;Q<0&&(Q=0),Q+=2}if((d=Q)<1&&(d=1),1===F){for(q=1+(U-=k),j=1+(H-=k),B=k-1;B>=0;B--)c[q+B]=c[j+B];c[U]=g[Y]}else{if(0===F)throw new Error;for(j=U-(F-1),B=0;B<F;B++)c[j+B]=g[B]}}else{for(q=1+(U-=k),j=1+(H-=k),B=k-1;B>=0;B--)c[q+B]=c[j+B];c[U]=g[Y]}else for(j=U-(F-1),B=0;B<F;B++)c[j+B]=g[B]}(x,C,w,D))}return a=[],u=[],{mergeRuns:function(){for(;p>1;){var y=p-2;if(y>=1&&u[y-1]<=u[y]+u[y+1]||y>=2&&u[y-2]<=u[y]+u[y-1])u[y-1]<u[y+1]&&y--;else if(u[y]>u[y+1])break;v(y)}},forceMergeRuns:function(){for(;p>1;){var y=p-2;y>0&&u[y-1]<u[y+1]&&y--,v(y)}},pushRun:function(y,x){a[p]=y,u[p]=x,p+=1}}}(c,s),v=function(x){for(var C=0;x>=32;)C|=1&x,x>>=1;return x+C}(d);do{if((p=$d(c,a,u,s))<v){var y=d;y>v&&(y=v),jn(c,a,a+y,a+p,s),p=y}g.pushRun(a,p),g.mergeRuns(),d-=p,a+=p}while(0!==d);g.forceMergeRuns()}}}fe(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(c){_2.prototype[c]=function(s){var a,u,d=s.zrX,p=s.zrY,g=dt(this,d,p);if("mouseup"===c&&g||(u=(a=this.findHover(d,p)).target),"mousedown"===c)this._downEl=u,this._downPoint=[s.zrX,s.zrY],this._upEl=u;else if("mouseup"===c)this._upEl=u;else if("click"===c){if(this._downEl!==this._upEl||!this._downPoint||ms(this._downPoint,[s.zrX,s.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,c,s)}});var Dp=!1;function Ia(){Dp||(Dp=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function M3(c,s){return c.zlevel===s.zlevel?c.z===s.z?c.z2-s.z2:c.z-s.z:c.zlevel-s.zlevel}var D3=function(){function c(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=M3}return c.prototype.traverse=function(s,a){for(var u=0;u<this._roots.length;u++)this._roots[u].traverse(s,a)},c.prototype.getDisplayList=function(s,a){a=a||!1;var u=this._displayList;return!s&&u.length||this.updateDisplayList(a),u},c.prototype.updateDisplayList=function(s){this._displayListLen=0;for(var a=this._roots,u=this._displayList,d=0,p=a.length;d<p;d++)this._updateAndAddDisplayable(a[d],null,s);u.length=this._displayListLen,Pt.canvasSupported&&Mp(u,M3)},c.prototype._updateAndAddDisplayable=function(s,a,u){if(!s.ignore||u){s.beforeUpdate(),s.update(),s.afterUpdate();var d=s.getClipPath();if(s.ignoreClip)a=null;else if(d){a=a?a.slice():[];for(var p=d,g=s;p;)p.parent=g,p.updateTransform(),a.push(p),g=p,p=p.getClipPath()}if(s.childrenRef){for(var v=s.childrenRef(),y=0;y<v.length;y++){var x=v[y];s.__dirty&&(x.__dirty|=1),this._updateAndAddDisplayable(x,a,u)}s.__dirty=0}else{var C=s;a&&a.length?C.__clipPaths=a:C.__clipPaths&&C.__clipPaths.length>0&&(C.__clipPaths=[]),isNaN(C.z)&&(Ia(),C.z=0),isNaN(C.z2)&&(Ia(),C.z2=0),isNaN(C.zlevel)&&(Ia(),C.zlevel=0),this._displayList[this._displayListLen++]=C}var w=s.getDecalElement&&s.getDecalElement();w&&this._updateAndAddDisplayable(w,a,u);var D=s.getTextGuideLine();D&&this._updateAndAddDisplayable(D,a,u);var P=s.getTextContent();P&&this._updateAndAddDisplayable(P,a,u)}},c.prototype.addRoot=function(s){s.__zr&&s.__zr.storage===this||this._roots.push(s)},c.prototype.delRoot=function(s){if(s instanceof Array)for(var a=0,u=s.length;a<u;a++)this.delRoot(s[a]);else{var d=Gn(this._roots,s);d>=0&&this._roots.splice(d,1)}},c.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},c.prototype.getRoots=function(){return this._roots},c.prototype.dispose=function(){this._displayList=null,this._roots=null},c}(),qm=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(c){return setTimeout(c,16)},hc={linear:function(c){return c},quadraticIn:function(c){return c*c},quadraticOut:function(c){return c*(2-c)},quadraticInOut:function(c){return(c*=2)<1?.5*c*c:-.5*(--c*(c-2)-1)},cubicIn:function(c){return c*c*c},cubicOut:function(c){return--c*c*c+1},cubicInOut:function(c){return(c*=2)<1?.5*c*c*c:.5*((c-=2)*c*c+2)},quarticIn:function(c){return c*c*c*c},quarticOut:function(c){return 1- --c*c*c*c},quarticInOut:function(c){return(c*=2)<1?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)},quinticIn:function(c){return c*c*c*c*c},quinticOut:function(c){return--c*c*c*c*c+1},quinticInOut:function(c){return(c*=2)<1?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)},sinusoidalIn:function(c){return 1-Math.cos(c*Math.PI/2)},sinusoidalOut:function(c){return Math.sin(c*Math.PI/2)},sinusoidalInOut:function(c){return.5*(1-Math.cos(Math.PI*c))},exponentialIn:function(c){return 0===c?0:Math.pow(1024,c-1)},exponentialOut:function(c){return 1===c?1:1-Math.pow(2,-10*c)},exponentialInOut:function(c){return 0===c?0:1===c?1:(c*=2)<1?.5*Math.pow(1024,c-1):.5*(2-Math.pow(2,-10*(c-1)))},circularIn:function(c){return 1-Math.sqrt(1-c*c)},circularOut:function(c){return Math.sqrt(1- --c*c)},circularInOut:function(c){return(c*=2)<1?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)},elasticIn:function(c){var s,a=.1;return 0===c?0:1===c?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(c-=1))*Math.sin((c-s)*(2*Math.PI)/.4))},elasticOut:function(c){var s,a=.1;return 0===c?0:1===c?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*c)*Math.sin((c-s)*(2*Math.PI)/.4)+1)},elasticInOut:function(c){var s,a=.1;return 0===c?0:1===c?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(c*=2)<1?a*Math.pow(2,10*(c-=1))*Math.sin((c-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(c-=1))*Math.sin((c-s)*(2*Math.PI)/.4)*.5+1)},backIn:function(c){var s=1.70158;return c*c*((s+1)*c-s)},backOut:function(c){var s=1.70158;return--c*c*((s+1)*c+s)+1},backInOut:function(c){var s=2.5949095;return(c*=2)<1?c*c*((s+1)*c-s)*.5:.5*((c-=2)*c*((s+1)*c+s)+2)},bounceIn:function(c){return 1-hc.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375},bounceInOut:function(c){return c<.5?.5*hc.bounceIn(2*c):.5*hc.bounceOut(2*c-1)+.5}},l5=function(){function c(s){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=s.life||1e3,this._delay=s.delay||0,this.loop=null!=s.loop&&s.loop,this.gap=s.gap||0,this.easing=s.easing||"linear",this.onframe=s.onframe,this.ondestroy=s.ondestroy,this.onrestart=s.onrestart}return c.prototype.step=function(s,a){if(this._initialized||(this._startTime=s+this._delay,this._initialized=!0),!this._paused){var u=(s-this._startTime-this._pausedTime)/this._life;u<0&&(u=0),u=Math.min(u,1);var d=this.easing,p="string"==typeof d?hc[d]:d,g="function"==typeof p?p(u):u;if(this.onframe&&this.onframe(g),1===u){if(!this.loop)return!0;this._restart(s),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=a},c.prototype._restart=function(s){this._startTime=s-(s-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},c.prototype.pause=function(){this._paused=!0},c.prototype.resume=function(){this._paused=!1},c}(),x2=function(c){this.value=c},DT=function(){function c(){this._len=0}return c.prototype.insert=function(s){var a=new x2(s);return this.insertEntry(a),a},c.prototype.insertEntry=function(s){this.head?(this.tail.next=s,s.prev=this.tail,s.next=null,this.tail=s):this.head=this.tail=s,this._len++},c.prototype.remove=function(s){var a=s.prev,u=s.next;a?a.next=u:this.head=u,u?u.prev=a:this.tail=a,s.next=s.prev=null,this._len--},c.prototype.len=function(){return this._len},c.prototype.clear=function(){this.head=this.tail=null,this._len=0},c}(),s1=function(){function c(s){this._list=new DT,this._maxSize=10,this._map={},this._maxSize=s}return c.prototype.put=function(s,a){var u=this._list,d=this._map,p=null;if(null==d[s]){var g=u.len(),v=this._lastRemovedEntry;if(g>=this._maxSize&&g>0){var y=u.head;u.remove(y),delete d[y.key],p=y.value,this._lastRemovedEntry=y}v?v.value=a:v=new x2(a),v.key=s,u.insertEntry(v),d[s]=v}return p},c.prototype.get=function(s){var a=this._map[s],u=this._list;if(null!=a)return a!==u.tail&&(u.remove(a),u.insertEntry(a)),a.value},c.prototype.clear=function(){this._list.clear(),this._map={}},c.prototype.len=function(){return this._list.len()},c}(),c5={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hi(c){return(c=Math.round(c))<0?0:c>255?255:c}function nl(c){return c<0?0:c>1?1:c}function qo(c){var s=c;return s.length&&"%"===s.charAt(s.length-1)?hi(parseFloat(s)/100*255):hi(parseInt(s,10))}function qa(c){var s=c;return s.length&&"%"===s.charAt(s.length-1)?nl(parseFloat(s)/100):nl(parseFloat(s))}function ur(c,s,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?c+(s-c)*a*6:2*a<1?s:3*a<2?c+(s-c)*(2/3-a)*6:c}function lh(c,s,a){return c+(s-c)*a}function dc(c,s,a,u,d){return c[0]=s,c[1]=a,c[2]=u,c[3]=d,c}function Xd(c,s){return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c}var mt=new s1(20),Pp=null;function Ot(c,s){Pp&&Xd(Pp,s),Pp=mt.put(c,Pp||s.slice())}function Jr(c,s){if(c){s=s||[];var a=mt.get(c);if(a)return Xd(s,a);var u=(c+="").replace(/ /g,"").toLowerCase();if(u in c5)return Xd(s,c5[u]),Ot(c,s),s;var d,p=u.length;if("#"===u.charAt(0))return 4===p||5===p?(d=parseInt(u.slice(1,4),16))>=0&&d<=4095?(dc(s,(3840&d)>>4|(3840&d)>>8,240&d|(240&d)>>4,15&d|(15&d)<<4,5===p?parseInt(u.slice(4),16)/15:1),Ot(c,s),s):void dc(s,0,0,0,1):7===p||9===p?(d=parseInt(u.slice(1,7),16))>=0&&d<=16777215?(dc(s,(16711680&d)>>16,(65280&d)>>8,255&d,9===p?parseInt(u.slice(7),16)/255:1),Ot(c,s),s):void dc(s,0,0,0,1):void 0;var g=u.indexOf("("),v=u.indexOf(")");if(-1!==g&&v+1===p){var y=u.substr(0,g),x=u.substr(g+1,v-(g+1)).split(","),C=1;switch(y){case"rgba":if(4!==x.length)return 3===x.length?dc(s,+x[0],+x[1],+x[2],1):dc(s,0,0,0,1);C=qa(x.pop());case"rgb":return 3!==x.length?void dc(s,0,0,0,1):(dc(s,qo(x[0]),qo(x[1]),qo(x[2]),C),Ot(c,s),s);case"hsla":return 4!==x.length?void dc(s,0,0,0,1):(x[3]=qa(x[3]),b2(x,s),Ot(c,s),s);case"hsl":return 3!==x.length?void dc(s,0,0,0,1):(b2(x,s),Ot(c,s),s);default:return}}dc(s,0,0,0,1)}}function b2(c,s){var a=(parseFloat(c[0])%360+360)%360/360,u=qa(c[1]),d=qa(c[2]),p=d<=.5?d*(u+1):d+u-d*u,g=2*d-p;return dc(s=s||[],hi(255*ur(g,p,a+1/3)),hi(255*ur(g,p,a)),hi(255*ur(g,p,a-1/3)),1),4===c.length&&(s[3]=c[3]),s}function C2(c,s){var a=Jr(c);if(a){for(var u=0;u<3;u++)a[u]=s<0?a[u]*(1-s)|0:(255-a[u])*s+a[u]|0,a[u]>255?a[u]=255:a[u]<0&&(a[u]=0);return Et(a,4===a.length?"rgba":"rgb")}}function w2(c){var s=Jr(c);if(s)return((1<<24)+(s[0]<<16)+(s[1]<<8)+ +s[2]).toString(16).slice(1)}function Ap(c,s,a){if(s&&s.length&&c>=0&&c<=1){a=a||[];var u=c*(s.length-1),d=Math.floor(u),p=Math.ceil(u),g=s[d],v=s[p],y=u-d;return a[0]=hi(lh(g[0],v[0],y)),a[1]=hi(lh(g[1],v[1],y)),a[2]=hi(lh(g[2],v[2],y)),a[3]=nl(lh(g[3],v[3],y)),a}}function qd(c,s,a){if(s&&s.length&&c>=0&&c<=1){var u=c*(s.length-1),d=Math.floor(u),p=Math.ceil(u),g=Jr(s[d]),v=Jr(s[p]),y=u-d,x=Et([hi(lh(g[0],v[0],y)),hi(lh(g[1],v[1],y)),hi(lh(g[2],v[2],y)),nl(lh(g[3],v[3],y))],"rgba");return a?{color:x,leftIndex:d,rightIndex:p,value:u}:x}}function zp(c,s,a,u){var p,d=Jr(c);if(c)return d=function(p){if(p){var g,v,y=p[0]/255,x=p[1]/255,C=p[2]/255,w=Math.min(y,x,C),D=Math.max(y,x,C),P=D-w,z=(D+w)/2;if(0===P)g=0,v=0;else{v=z<.5?P/(D+w):P/(2-D-w);var k=((D-y)/6+P/2)/P,E=((D-x)/6+P/2)/P,F=((D-C)/6+P/2)/P;y===D?g=F-E:x===D?g=1/3+k-F:C===D&&(g=2/3+E-k),g<0&&(g+=1),g>1&&(g-=1)}var B=[360*g,v,z];return null!=p[3]&&B.push(p[3]),B}}(d),null!=s&&(d[0]=(p=s,(p=Math.round(p))<0?0:p>360?360:p)),null!=a&&(d[1]=qa(a)),null!=u&&(d[2]=qa(u)),Et(b2(d),"rgba")}function c1(c,s){var a=Jr(c);if(a&&null!=s)return a[3]=nl(s),Et(a,"rgba")}function Et(c,s){if(c&&c.length){var a=c[0]+","+c[1]+","+c[2];return"rgba"!==s&&"hsva"!==s&&"hsla"!==s||(a+=","+c[3]),s+"("+a+")"}}function kp(c,s){var a=Jr(c);return a?(.299*a[0]+.587*a[1]+.114*a[2])*a[3]/255+(1-a[3])*s:0}var uu=Object.freeze({__proto__:null,parse:Jr,lift:C2,toHex:w2,fastLerp:Ap,fastMapToColor:Ap,lerp:qd,mapToColor:qd,modifyHSL:zp,modifyAlpha:c1,stringify:Et,lum:kp,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),Za=Array.prototype.slice;function Op(c,s,a){return(s-c)*a+c}function PT(c,s,a,u){for(var d=s.length,p=0;p<d;p++)c[p]=Op(s[p],a[p],u)}function zr(c,s,a,u){for(var d=s.length,p=0;p<d;p++)c[p]=s[p]+a[p]*u;return c}function AT(c,s,a,u){for(var d=s.length,p=d&&s[0].length,g=0;g<d;g++){c[g]||(c[g]=[]);for(var v=0;v<p;v++)c[g][v]=s[g][v]+a[g][v]*u}return c}function zT(c,s,a){var u=c,d=s;if(u.push&&d.push){var p=u.length,g=d.length;if(p!==g)if(p>g)u.length=g;else for(var v=p;v<g;v++)u.push(1===a?d[v]:Za.call(d[v]));var y=u[0]&&u[0].length;for(v=0;v<u.length;v++)if(1===a)isNaN(u[v])&&(u[v]=d[v]);else for(var x=0;x<y;x++)isNaN(u[v][x])&&(u[v][x]=d[v][x])}}function kT(c,s){var a=c.length;if(a!==s.length)return!1;for(var u=0;u<a;u++)if(c[u]!==s[u])return!1;return!0}function ed(c,s,a,u,d,p,g){var v=.5*(a-c),y=.5*(u-s);return(2*(s-a)+v+y)*g+(-3*(s-a)-2*v-y)*p+v*d+s}function T2(c,s,a,u,d,p,g,v){for(var y=s.length,x=0;x<y;x++)c[x]=ed(s[x],a[x],u[x],d[x],p,g,v)}function vs(c){if(Dn(c)){var s=c.length;if(Dn(c[0])){for(var a=[],u=0;u<s;u++)a.push(Za.call(c[u]));return a}return Za.call(c)}return c}function Zm(c){return c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.floor(c[2]),"rgba("+c.join(",")+")"}var P3,A3,Zd=[0,0,0,0],hu=function(){function c(s){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=s}return c.prototype.isFinished=function(){return this._finished},c.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},c.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},c.prototype.getAdditiveTrack=function(){return this._additiveTrack},c.prototype.addKeyframe=function(s,a){s>=this.maxTime?this.maxTime=s:this._needsSort=!0;var x,u=this.keyframes,d=u.length;if(this.interpolable)if(Dn(a)){var p=Dn((x=a)&&x[0])?2:1;if(d>0&&this.arrDim!==p)return void(this.interpolable=!1);if(1===p&&"number"!=typeof a[0]||2===p&&"number"!=typeof a[0][0])return void(this.interpolable=!1);if(d>0){var g=u[d-1];this._isAllValueEqual&&(1===p&&kT(a,g.value)||(this._isAllValueEqual=!1))}this.arrDim=p}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof a){var v=Jr(a);v?(a=v,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof a||isNaN(a))return void(this.interpolable=!1);this._isAllValueEqual&&d>0&&(g=u[d-1],(this.isValueColor&&!kT(g.value,a)||g.value!==a)&&(this._isAllValueEqual=!1))}var y={time:s,value:a,percent:0};return this.keyframes.push(y),y},c.prototype.prepare=function(s){var a=this.keyframes;this._needsSort&&a.sort(function(y,x){return y.time-x.time});for(var u=this.arrDim,d=a.length,p=a[d-1],g=0;g<d;g++)a[g].percent=a[g].time/this.maxTime,u>0&&g!==d-1&&zT(a[g].value,p.value,u);if(s&&this.needsAnimate()&&s.needsAnimate()&&u===s.arrDim&&this.isValueColor===s.isValueColor&&!s._finished){this._additiveTrack=s;var v=a[0].value;for(g=0;g<d;g++)0===u?a[g].additiveValue=this.isValueColor?zr([],a[g].value,v,-1):a[g].value-v:1===u?a[g].additiveValue=zr([],a[g].value,v,-1):2===u&&(a[g].additiveValue=AT([],a[g].value,v,-1))}},c.prototype.step=function(s,a){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var u,d=null!=this._additiveTrack,p=d?"additiveValue":"value",g=this.keyframes,v=this.keyframes.length,y=this.propName,x=this.arrDim,C=this.isValueColor;if(a<0)u=0;else if(a<this._lastFramePercent){for(u=Math.min(this._lastFrame+1,v-1);u>=0&&!(g[u].percent<=a);u--);u=Math.min(u,v-2)}else{for(u=this._lastFrame;u<v&&!(g[u].percent>a);u++);u=Math.min(u-1,v-2)}var w=g[u+1],D=g[u];if(D&&w){this._lastFrame=u,this._lastFramePercent=a;var P=w.percent-D.percent;if(0!==P){var z=(a-D.percent)/P,k=d?this._additiveValue:C?Zd:s[y];if((x>0||C)&&!k&&(k=this._additiveValue=[]),this.useSpline){var E=g[u][p],F=g[0===u?u:u-1][p],B=g[u>v-2?v-1:u+1][p],H=g[u>v-3?v-1:u+2][p];if(x>0)1===x?T2(k,F,E,B,H,z,z*z,z*z*z):function(U,j,q,Q,re,oe,ae,he){for(var me=j.length,_e=j[0].length,be=0;be<me;be++){U[be]||(U[1]=[]);for(var we=0;we<_e;we++)U[be][we]=ed(j[be][we],q[be][we],Q[be][we],re[be][we],oe,ae,he)}}(k,F,E,B,H,z,z*z,z*z*z);else if(C)T2(k,F,E,B,H,z,z*z,z*z*z),d||(s[y]=Zm(k));else{var Y=void 0;Y=this.interpolable?ed(F,E,B,H,z,z*z,z*z*z):B,d?this._additiveValue=Y:s[y]=Y}}else x>0?1===x?PT(k,D[p],w[p],z):function(U,j,q,Q){for(var re=j.length,oe=re&&j[0].length,ae=0;ae<re;ae++){U[ae]||(U[ae]=[]);for(var he=0;he<oe;he++)U[ae][he]=Op(j[ae][he],q[ae][he],Q)}}(k,D[p],w[p],z):C?(PT(k,D[p],w[p],z),d||(s[y]=Zm(k))):(Y=void 0,Y=this.interpolable?Op(D[p],w[p],z):z>.5?w[p]:D[p],d?this._additiveValue=Y:s[y]=Y);d&&this._addToTarget(s)}}}},c.prototype._addToTarget=function(s){var a=this.arrDim,u=this.propName,d=this._additiveValue;0===a?this.isValueColor?(Jr(s[u],Zd),zr(Zd,Zd,d,1),s[u]=Zm(Zd)):s[u]=s[u]+d:1===a?zr(s[u],s[u],d,1):2===a&&AT(s[u],s[u],d,1)},c}(),td=function(){function c(s,a,u){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=s,this._loop=a,a&&u?ac("Can' use additive animation on looped animation."):this._additiveAnimators=u}return c.prototype.getTarget=function(){return this._target},c.prototype.changeTarget=function(s){this._target=s},c.prototype.when=function(s,a){return this.whenWithKeys(s,a,Gt(a))},c.prototype.whenWithKeys=function(s,a,u){for(var d=this._tracks,p=0;p<u.length;p++){var g=u[p],v=d[g];if(!v){v=d[g]=new hu(g);var y=void 0,x=this._getAdditiveTrack(g);if(x){var C=x.keyframes[x.keyframes.length-1];y=C&&C.value,x.isValueColor&&y&&(y=Zm(y))}else y=this._target[g];if(null==y)continue;0!==s&&v.addKeyframe(0,vs(y)),this._trackKeys.push(g)}v.addKeyframe(s,vs(a[g]))}return this._maxTime=Math.max(this._maxTime,s),this},c.prototype.pause=function(){this._clip.pause(),this._paused=!0},c.prototype.resume=function(){this._clip.resume(),this._paused=!1},c.prototype.isPaused=function(){return!!this._paused},c.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var s=this._doneCbs;if(s)for(var a=s.length,u=0;u<a;u++)s[u].call(this)},c.prototype._abortedCallback=function(){this._setTracksFinished();var s=this.animation,a=this._abortedCbs;if(s&&s.removeClip(this._clip),this._clip=null,a)for(var u=0;u<a.length;u++)a[u].call(this)},c.prototype._setTracksFinished=function(){for(var s=this._tracks,a=this._trackKeys,u=0;u<a.length;u++)s[a[u]].setFinished()},c.prototype._getAdditiveTrack=function(s){var a,u=this._additiveAnimators;if(u)for(var d=0;d<u.length;d++){var p=u[d].getTrack(s);p&&(a=p)}return a},c.prototype.start=function(s,a){if(!(this._started>0)){this._started=1;for(var u=this,d=[],p=0;p<this._trackKeys.length;p++){var g=this._trackKeys[p],v=this._tracks[g],y=this._getAdditiveTrack(g),x=v.keyframes;if(v.prepare(y),v.needsAnimate())d.push(v);else if(!v.interpolable){var C=x[x.length-1];C&&(u._target[v.propName]=C.value)}}if(d.length||a){var w=new l5({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(D){u._started=2;var P=u._additiveAnimators;if(P){for(var z=!1,k=0;k<P.length;k++)if(P[k]._clip){z=!0;break}z||(u._additiveAnimators=null)}for(k=0;k<d.length;k++)d[k].step(u._target,D);var E=u._onframeCbs;if(E)for(k=0;k<E.length;k++)E[k](u._target,D)},ondestroy:function(){u._doneCallback()}});this._clip=w,this.animation&&this.animation.addClip(w),s&&"spline"!==s&&(w.easing=s)}else this._doneCallback();return this}},c.prototype.stop=function(s){this._clip&&(s&&this._clip.onframe(1),this._abortedCallback())},c.prototype.delay=function(s){return this._delay=s,this},c.prototype.during=function(s){return s&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(s)),this},c.prototype.done=function(s){return s&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(s)),this},c.prototype.aborted=function(s){return s&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(s)),this},c.prototype.getClip=function(){return this._clip},c.prototype.getTrack=function(s){return this._tracks[s]},c.prototype.stopTracks=function(s,a){if(!s.length||!this._clip)return!0;for(var u=this._tracks,d=this._trackKeys,p=0;p<s.length;p++){var g=u[s[p]];g&&(a?g.step(this._target,1):1===this._started&&g.step(this._target,0),g.setFinished())}var v=!0;for(p=0;p<d.length;p++)if(!u[d[p]].isFinished()){v=!1;break}return v&&this._abortedCallback(),v},c.prototype.saveFinalToTarget=function(s,a){if(s){a=a||this._trackKeys;for(var u=0;u<a.length;u++){var d=a[u],p=this._tracks[d];if(p&&!p.isFinished()){var g=p.keyframes,v=g[g.length-1];if(v){var y=vs(v.value);p.isValueColor&&(y=Zm(y)),s[d]=y}}}}},c.prototype.__changeFinalValue=function(s,a){a=a||Gt(s);for(var u=0;u<a.length;u++){var d=a[u],p=this._tracks[d];if(p){var g=p.keyframes;if(g.length>1){var v=g.pop();p.addKeyframe(v.time,s[d]),p.prepare(p.getAdditiveTrack())}}}},c}(),u5=function(c){function s(a){var u=c.call(this)||this;return u._running=!1,u._time=0,u._pausedTime=0,u._pauseStart=0,u._paused=!1,u.stage=(a=a||{}).stage||{},u.onframe=a.onframe||function(){},u}return Ee(s,c),s.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._clipsHead?(this._clipsTail.next=a,a.prev=this._clipsTail,a.next=null,this._clipsTail=a):this._clipsHead=this._clipsTail=a,a.animation=this},s.prototype.addAnimator=function(a){a.animation=this;var u=a.getClip();u&&this.addClip(u)},s.prototype.removeClip=function(a){if(a.animation){var u=a.prev,d=a.next;u?u.next=d:this._clipsHead=d,d?d.prev=u:this._clipsTail=u,a.next=a.prev=a.animation=null}},s.prototype.removeAnimator=function(a){var u=a.getClip();u&&this.removeClip(u),a.animation=null},s.prototype.update=function(a){for(var u=(new Date).getTime()-this._pausedTime,d=u-this._time,p=this._clipsHead;p;){var g=p.next;p.step(u,d)&&(p.ondestroy&&p.ondestroy(),this.removeClip(p)),p=g}this._time=u,a||(this.onframe(d),this.trigger("frame",d),this.stage.update&&this.stage.update())},s.prototype._startLoop=function(){var a=this;this._running=!0,qm(function u(){a._running&&(qm(u),!a._paused&&a.update())})},s.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},s.prototype.stop=function(){this._running=!1},s.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},s.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},s.prototype.clear=function(){for(var a=this._clipsHead;a;){var u=a.next;a.prev=a.next=a.animation=null,a=u}this._clipsHead=this._clipsTail=null},s.prototype.isFinished=function(){return null==this._clipsHead},s.prototype.animate=function(a,u){u=u||{},this.start();var d=new td(a,u.loop);return this.addAnimator(d),d},s}(Rs),Ve=Pt.domSupported,M2=(A3={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:P3=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:tt(P3,function(c){var s=c.replace("mouse","pointer");return A3.hasOwnProperty(s)?s:c})}),bn=["mousemove","mouseup"],D2=["pointermove","pointerup"],Km=!1;function Kd(c){var s=c.pointerType;return"pen"===s||"touch"===s}function u1(c){c&&(c.zrByTouch=!0)}function Qd(c,s){for(var a=s,u=!1;a&&9!==a.nodeType&&!(u=a.domBelongToZr||a!==s&&a===c.painterRoot);)a=a.parentNode;return u}var OT=function(c,s){this.stopPropagation=lc,this.stopImmediatePropagation=lc,this.preventDefault=lc,this.type=s.type,this.target=this.currentTarget=c.dom,this.pointerType=s.pointerType,this.clientX=s.clientX,this.clientY=s.clientY},Zo={mousedown:function(c){c=wr(this.dom,c),this.__mayPointerCapture=[c.zrX,c.zrY],this.trigger("mousedown",c)},mousemove:function(c){c=wr(this.dom,c);var s=this.__mayPointerCapture;!s||c.zrX===s[0]&&c.zrY===s[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",c)},mouseup:function(c){c=wr(this.dom,c),this.__togglePointerCapture(!1),this.trigger("mouseup",c)},mouseout:function(c){Qd(this,(c=wr(this.dom,c)).toElement||c.relatedTarget)||(this.__pointerCapturing&&(c.zrEventControl="no_globalout"),this.trigger("mouseout",c))},wheel:function(c){Km=!0,c=wr(this.dom,c),this.trigger("mousewheel",c)},mousewheel:function(c){Km||(c=wr(this.dom,c),this.trigger("mousewheel",c))},touchstart:function(c){u1(c=wr(this.dom,c)),this.__lastTouchMoment=new Date,this.handler.processGesture(c,"start"),Zo.mousemove.call(this,c),Zo.mousedown.call(this,c)},touchmove:function(c){u1(c=wr(this.dom,c)),this.handler.processGesture(c,"change"),Zo.mousemove.call(this,c)},touchend:function(c){u1(c=wr(this.dom,c)),this.handler.processGesture(c,"end"),Zo.mouseup.call(this,c),+new Date-+this.__lastTouchMoment<300&&Zo.click.call(this,c)},pointerdown:function(c){Zo.mousedown.call(this,c)},pointermove:function(c){Kd(c)||Zo.mousemove.call(this,c)},pointerup:function(c){Zo.mouseup.call(this,c)},pointerout:function(c){Kd(c)||Zo.mouseout.call(this,c)}};fe(["click","dblclick","contextmenu"],function(c){Zo[c]=function(s){s=wr(this.dom,s),this.trigger(c,s)}});var la={pointermove:function(c){Kd(c)||la.mousemove.call(this,c)},pointerup:function(c){la.mouseup.call(this,c)},mousemove:function(c){this.trigger("mousemove",c)},mouseup:function(c){var s=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",c),s&&(c.zrEventControl="only_globalout",this.trigger("mouseout",c))}};function il(c,s,a,u){c.mounted[s]=a,c.listenerOpts[s]=u,a1(c.domTarget,s,a,u)}function du(c){var s,a,u,p=c.mounted;for(var g in p)p.hasOwnProperty(g)&&(s=c.domTarget,a=g,u=p[g],o1?s.removeEventListener(a,u,c.listenerOpts[g]):s.detachEvent("on"+a,u));c.mounted={}}var hr=function(c,s){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=c,this.domHandlers=s},h1=function(c){function s(a,u){var d=c.call(this)||this;return d.__pointerCapturing=!1,d.dom=a,d.painterRoot=u,d._localHandlerScope=new hr(a,Zo),Ve&&(d._globalHandlerScope=new hr(document,la)),function ET(c,s){var a=s.domHandlers;Pt.pointerEventsSupported?fe(M2.pointer,function(u){il(s,u,function(d){a[u].call(c,d)})}):(Pt.touchEventsSupported&&fe(M2.touch,function(u){il(s,u,function(d){var p;a[u].call(c,d),(p=s).touching=!0,null!=p.touchTimer&&(clearTimeout(p.touchTimer),p.touchTimer=null),p.touchTimer=setTimeout(function(){p.touching=!1,p.touchTimer=null},700)})}),fe(M2.mouse,function(u){il(s,u,function(d){d=Qr(d),s.touching||a[u].call(c,d)})}))}(d,d._localHandlerScope),d}return Ee(s,c),s.prototype.dispose=function(){du(this._localHandlerScope),Ve&&du(this._globalHandlerScope)},s.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},s.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,Ve&&+this.__pointerCapturing^+a){this.__pointerCapturing=a;var u=this._globalHandlerScope;a?function ZE(c,s){function a(u){il(s,u,function(d){var p;d=Qr(d),Qd(c,d.target)||(d=wr((p=c).dom,new OT(p,d),!0),s.domHandlers[u].call(c,d))},{capture:!0})}Pt.pointerEventsSupported?fe(D2,a):Pt.touchEventsSupported||fe(bn,a)}(this,u):du(u)}},s}(Rs),P2=1;typeof window<"u"&&(P2=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var d1=P2,Qm="#333",fu="#ccc";function ch(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=1,c[4]=0,c[5]=0,c}function ut(c,s){return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c}function ol(c,s,a){var d=s[1]*a[0]+s[3]*a[1],p=s[0]*a[2]+s[2]*a[3],g=s[1]*a[2]+s[3]*a[3],v=s[0]*a[4]+s[2]*a[5]+s[4],y=s[1]*a[4]+s[3]*a[5]+s[5];return c[0]=s[0]*a[0]+s[2]*a[1],c[1]=d,c[2]=p,c[3]=g,c[4]=v,c[5]=y,c}function Ic(c,s,a){return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4]+a[0],c[5]=s[5]+a[1],c}function kl(c,s,a){var u=s[0],d=s[2],p=s[4],g=s[1],v=s[3],y=s[5],x=Math.sin(a),C=Math.cos(a);return c[0]=u*C+g*x,c[1]=-u*x+g*C,c[2]=d*C+v*x,c[3]=-d*x+C*v,c[4]=C*p+x*y,c[5]=C*y-x*p,c}function Wt(c,s,a){var u=a[0],d=a[1];return c[0]=s[0]*u,c[1]=s[1]*d,c[2]=s[2]*u,c[3]=s[3]*d,c[4]=s[4]*u,c[5]=s[5]*d,c}function pu(c,s){var a=s[0],u=s[2],d=s[4],p=s[1],g=s[3],v=s[5],y=a*g-p*u;return y?(c[0]=g*(y=1/y),c[1]=-p*y,c[2]=-u*y,c[3]=a*y,c[4]=(u*v-g*d)*y,c[5]=(p*d-a*v)*y,c):null}function A2(c){var s=[1,0,0,1,0,0];return ut(s,c),s}var St=Object.freeze({__proto__:null,create:function rl(){return[1,0,0,1,0,0]},identity:ch,copy:ut,mul:ol,translate:Ic,rotate:kl,scale:Wt,invert:pu,clone:A2}),Ns=ch;function Bo(c){return c>5e-5||c<-5e-5}var Ka,nd,La=[],Ko=[],on=[1,0,0,1,0,0],ri=Math.abs,Lr=function(){function c(){}return c.prototype.getLocalTransform=function(s){return c.getLocalTransform(this,s)},c.prototype.setPosition=function(s){this.x=s[0],this.y=s[1]},c.prototype.setScale=function(s){this.scaleX=s[0],this.scaleY=s[1]},c.prototype.setSkew=function(s){this.skewX=s[0],this.skewY=s[1]},c.prototype.setOrigin=function(s){this.originX=s[0],this.originY=s[1]},c.prototype.needLocalTransform=function(){return Bo(this.rotation)||Bo(this.x)||Bo(this.y)||Bo(this.scaleX-1)||Bo(this.scaleY-1)},c.prototype.updateTransform=function(){var s=this.parent&&this.parent.transform,a=this.needLocalTransform(),u=this.transform;a||s?(u=u||[1,0,0,1,0,0],a?this.getLocalTransform(u):Ns(u),s&&(a?ol(u,s,u):ut(u,s)),this.transform=u,this._resolveGlobalScaleRatio(u)):u&&Ns(u)},c.prototype._resolveGlobalScaleRatio=function(s){var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(La);var u=La[0]<0?-1:1,d=La[1]<0?-1:1,p=((La[0]-u)*a+u)/La[0]||0,g=((La[1]-d)*a+d)/La[1]||0;s[0]*=p,s[1]*=p,s[2]*=g,s[3]*=g}this.invTransform=this.invTransform||[1,0,0,1,0,0],pu(this.invTransform,s)},c.prototype.getComputedTransform=function(){for(var s=this,a=[];s;)a.push(s),s=s.parent;for(;s=a.pop();)s.updateTransform();return this.transform},c.prototype.setLocalTransform=function(s){if(s){var a=s[0]*s[0]+s[1]*s[1],u=s[2]*s[2]+s[3]*s[3],d=Math.atan2(s[1],s[0]),p=Math.PI/2+d-Math.atan2(s[3],s[2]);u=Math.sqrt(u)*Math.cos(p),a=Math.sqrt(a),this.skewX=p,this.skewY=0,this.rotation=-d,this.x=+s[4],this.y=+s[5],this.scaleX=a,this.scaleY=u,this.originX=0,this.originY=0}},c.prototype.decomposeTransform=function(){if(this.transform){var s=this.parent,a=this.transform;s&&s.transform&&(ol(Ko,s.invTransform,a),a=Ko);var u=this.originX,d=this.originY;(u||d)&&(on[4]=u,on[5]=d,ol(Ko,a,on),Ko[4]-=u,Ko[5]-=d,a=Ko),this.setLocalTransform(a)}},c.prototype.getGlobalScale=function(s){var a=this.transform;return s=s||[],a?(s[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(s[0]=-s[0]),a[3]<0&&(s[1]=-s[1]),s):(s[0]=1,s[1]=1,s)},c.prototype.transformCoordToLocal=function(s,a){var u=[s,a],d=this.invTransform;return d&&cr(u,u,d),u},c.prototype.transformCoordToGlobal=function(s,a){var u=[s,a],d=this.transform;return d&&cr(u,u,d),u},c.prototype.getLineScale=function(){var s=this.transform;return s&&ri(s[0]-1)>1e-10&&ri(s[3]-1)>1e-10?Math.sqrt(ri(s[0]*s[3]-s[2]*s[1])):1},c.prototype.copyTransform=function(s){for(var a=0;a<Sa.length;a++){var u=Sa[a];this[u]=s[u]}},c.getLocalTransform=function(s,a){a=a||[];var u=s.originX||0,d=s.originY||0,p=s.scaleX,g=s.scaleY,v=s.rotation||0,y=s.x,x=s.y,C=s.skewX?Math.tan(s.skewX):0,w=s.skewY?Math.tan(-s.skewY):0;return u||d?(a[4]=-u*p-C*d*g,a[5]=-d*g-w*u*p):a[4]=a[5]=0,a[0]=p,a[3]=g,a[1]=w*p,a[2]=C*g,v&&kl(a,a,v),a[4]+=u+y,a[5]+=d+x,a},c.initDefaultProps=((s=c.prototype).x=0,s.y=0,s.scaleX=1,s.scaleY=1,s.originX=0,s.originY=0,s.skewX=0,s.skewY=0,s.rotation=0,void(s.globalScaleRatio=1)),c;var s}(),Sa=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"],_n=function(){function c(s,a){this.x=s||0,this.y=a||0}return c.prototype.copy=function(s){return this.x=s.x,this.y=s.y,this},c.prototype.clone=function(){return new c(this.x,this.y)},c.prototype.set=function(s,a){return this.x=s,this.y=a,this},c.prototype.equal=function(s){return s.x===this.x&&s.y===this.y},c.prototype.add=function(s){return this.x+=s.x,this.y+=s.y,this},c.prototype.scale=function(s){this.x*=s,this.y*=s},c.prototype.scaleAndAdd=function(s,a){this.x+=s.x*a,this.y+=s.y*a},c.prototype.sub=function(s){return this.x-=s.x,this.y-=s.y,this},c.prototype.dot=function(s){return this.x*s.x+this.y*s.y},c.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},c.prototype.normalize=function(){var s=this.len();return this.x/=s,this.y/=s,this},c.prototype.distance=function(s){var a=this.x-s.x,u=this.y-s.y;return Math.sqrt(a*a+u*u)},c.prototype.distanceSquare=function(s){var a=this.x-s.x,u=this.y-s.y;return a*a+u*u},c.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},c.prototype.transform=function(s){if(s){var a=this.x,u=this.y;return this.x=s[0]*a+s[2]*u+s[4],this.y=s[1]*a+s[3]*u+s[5],this}},c.prototype.toArray=function(s){return s[0]=this.x,s[1]=this.y,s},c.prototype.fromArray=function(s){this.x=s[0],this.y=s[1]},c.set=function(s,a,u){s.x=a,s.y=u},c.copy=function(s,a){s.x=a.x,s.y=a.y},c.len=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},c.lenSquare=function(s){return s.x*s.x+s.y*s.y},c.dot=function(s,a){return s.x*a.x+s.y*a.y},c.add=function(s,a,u){s.x=a.x+u.x,s.y=a.y+u.y},c.sub=function(s,a,u){s.x=a.x-u.x,s.y=a.y-u.y},c.scale=function(s,a,u){s.x=a.x*u,s.y=a.y*u},c.scaleAndAdd=function(s,a,u,d){s.x=a.x+u.x*d,s.y=a.y+u.y*d},c.lerp=function(s,a,u,d){var p=1-d;s.x=p*a.x+d*u.x,s.y=p*a.y+d*u.y},c}(),Ta=Math.min,gu=Math.max,Rr=new _n,Lc=new _n,fc=new _n,Xn=new _n,uh=new _n,mu=new _n,qn=function(){function c(s,a,u,d){u<0&&(s+=u,u=-u),d<0&&(a+=d,d=-d),this.x=s,this.y=a,this.width=u,this.height=d}return c.prototype.union=function(s){var a=Ta(s.x,this.x),u=Ta(s.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?gu(s.x+s.width,this.x+this.width)-a:s.width,this.height=isFinite(this.y)&&isFinite(this.height)?gu(s.y+s.height,this.y+this.height)-u:s.height,this.x=a,this.y=u},c.prototype.applyTransform=function(s){c.applyTransform(this,this,s)},c.prototype.calculateTransform=function(s){var a=this,u=s.width/a.width,d=s.height/a.height,p=[1,0,0,1,0,0];return Ic(p,p,[-a.x,-a.y]),Wt(p,p,[u,d]),Ic(p,p,[s.x,s.y]),p},c.prototype.intersect=function(s,a){if(!s)return!1;s instanceof c||(s=c.create(s));var u=this,d=u.x,p=u.x+u.width,g=u.y,v=u.y+u.height,y=s.x,x=s.x+s.width,C=s.y,w=s.y+s.height,D=!(p<y||x<d||v<C||w<g);if(a){var P=1/0,z=0,k=Math.abs(p-y),E=Math.abs(x-d),F=Math.abs(v-C),B=Math.abs(w-g),H=Math.min(k,E),Y=Math.min(F,B);p<y||x<d?H>z&&(z=H,_n.set(mu,k<E?-k:E,0)):H<P&&(P=H,_n.set(uh,k<E?k:-E,0)),v<C||w<g?Y>z&&(z=Y,_n.set(mu,0,F<B?-F:B)):H<P&&(P=H,_n.set(uh,0,F<B?F:-B))}return a&&_n.copy(a,D?uh:mu),D},c.prototype.contain=function(s,a){var u=this;return s>=u.x&&s<=u.x+u.width&&a>=u.y&&a<=u.y+u.height},c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)},c.prototype.copy=function(s){c.copy(this,s)},c.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},c.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},c.prototype.isZero=function(){return 0===this.width||0===this.height},c.create=function(s){return new c(s.x,s.y,s.width,s.height)},c.copy=function(s,a){s.x=a.x,s.y=a.y,s.width=a.width,s.height=a.height},c.applyTransform=function(s,a,u){if(u){if(u[1]<1e-5&&u[1]>-1e-5&&u[2]<1e-5&&u[2]>-1e-5){var d=u[0],p=u[3],v=u[5];return s.x=a.x*d+u[4],s.y=a.y*p+v,s.width=a.width*d,s.height=a.height*p,s.width<0&&(s.x+=s.width,s.width=-s.width),void(s.height<0&&(s.y+=s.height,s.height=-s.height))}Rr.x=fc.x=a.x,Rr.y=Xn.y=a.y,Lc.x=Xn.x=a.x+a.width,Lc.y=fc.y=a.y+a.height,Rr.transform(u),Xn.transform(u),Lc.transform(u),fc.transform(u),s.x=Ta(Rr.x,Lc.x,fc.x,Xn.x),s.y=Ta(Rr.y,Lc.y,fc.y,Xn.y);var y=gu(Rr.x,Lc.x,fc.x,Xn.x),x=gu(Rr.y,Lc.y,fc.y,Xn.y);s.width=y-s.x,s.height=x-s.y}else s!==a&&c.copy(s,a)},c}(),Ep={},Co="12px sans-serif",Jm_measureText=function(c,s){return Ka||(Ka=Js().getContext("2d")),nd!==s&&(nd=Ka.font=s||Co),Ka.measureText(c)};function Ra(c,s){var a=Ep[s=s||Co];a||(a=Ep[s]=new s1(500));var u=a.get(c);return null==u&&(u=Jm_measureText(c,s).width,a.put(c,u)),u}function vu(c,s,a,u){var d=Ra(c,s),p=Jd(s),g=f1(0,d,a),v=ji(0,p,u);return new qn(g,v,d,p)}function hh(c,s,a,u){var d=((c||"")+"").split("\n");if(1===d.length)return vu(d[0],s,a,u);for(var p=new qn(0,0,0,0),g=0;g<d.length;g++){var v=vu(d[g],s,a,u);0===g?p.copy(v):p.union(v)}return p}function f1(c,s,a){return"right"===a?c-=s:"center"===a&&(c-=s/2),c}function ji(c,s,a){return"middle"===a?c-=s/2:"bottom"===a&&(c-=s),c}function Jd(c){return Ra("\u56fd",c)}function Ol(c,s){return"string"==typeof c?c.lastIndexOf("%")>=0?parseFloat(c)/100*s:parseFloat(c):c}function dh(c,s,a){var u=s.position||"inside",d=null!=s.distance?s.distance:5,p=a.height,g=a.width,v=p/2,y=a.x,x=a.y,C="left",w="top";if(u instanceof Array)y+=Ol(u[0],a.width),x+=Ol(u[1],a.height),C=null,w=null;else switch(u){case"left":y-=d,x+=v,C="right",w="middle";break;case"right":y+=d+g,x+=v,w="middle";break;case"top":y+=g/2,x-=d,C="center",w="bottom";break;case"bottom":y+=g/2,x+=p+d,C="center";break;case"inside":y+=g/2,x+=v,C="center",w="middle";break;case"insideLeft":y+=d,x+=v,w="middle";break;case"insideRight":y+=g-d,x+=v,C="right",w="middle";break;case"insideTop":y+=g/2,x+=d,C="center";break;case"insideBottom":y+=g/2,x+=p-d,C="center",w="bottom";break;case"insideTopLeft":y+=d,x+=d;break;case"insideTopRight":y+=g-d,x+=d,C="right";break;case"insideBottomLeft":y+=d,x+=p-d,w="bottom";break;case"insideBottomRight":y+=g-d,x+=p-d,C="right",w="bottom"}return(c=c||{}).x=y,c.y=x,c.align=C,c.verticalAlign=w,c}var p1="__zr_normal__",Ip=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],g1={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Oo={},KE=new qn(0,0,0,0),ca=function(){function c(s){this.id=Cp(),this.animators=[],this.currentStates=[],this.states={},this._init(s)}return c.prototype._init=function(s){this.attr(s)},c.prototype.drift=function(s,a,u){switch(this.draggable){case"horizontal":a=0;break;case"vertical":s=0}var d=this.transform;d||(d=this.transform=[1,0,0,1,0,0]),d[4]+=s,d[5]+=a,this.decomposeTransform(),this.markRedraw()},c.prototype.beforeUpdate=function(){},c.prototype.afterUpdate=function(){},c.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},c.prototype.updateInnerText=function(s){var a=this._textContent;if(a&&(!a.ignore||s)){this.textConfig||(this.textConfig={});var u=this.textConfig,d=u.local,p=a.innerTransformable,g=void 0,v=void 0,y=!1;p.parent=d?this:null;var x=!1;if(p.copyTransform(a),null!=u.position){var C=KE;C.copy(u.layoutRect?u.layoutRect:this.getBoundingRect()),d||C.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Oo,u,C):dh(Oo,u,C),p.x=Oo.x,p.y=Oo.y,g=Oo.align,v=Oo.verticalAlign;var w=u.origin;if(w&&null!=u.rotation){var D=void 0,P=void 0;"center"===w?(D=.5*C.width,P=.5*C.height):(D=Ol(w[0],C.width),P=Ol(w[1],C.height)),x=!0,p.originX=-p.x+D+(d?0:C.x),p.originY=-p.y+P+(d?0:C.y)}}null!=u.rotation&&(p.rotation=u.rotation);var z=u.offset;z&&(p.x+=z[0],p.y+=z[1],x||(p.originX=-z[0],p.originY=-z[1]));var k=null==u.inside?"string"==typeof u.position&&u.position.indexOf("inside")>=0:u.inside,E=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),F=void 0,B=void 0,H=void 0;k&&this.canBeInsideText()?(B=u.insideStroke,null!=(F=u.insideFill)&&"auto"!==F||(F=this.getInsideTextFill()),null!=B&&"auto"!==B||(B=this.getInsideTextStroke(F),H=!0)):(B=u.outsideStroke,null!=(F=u.outsideFill)&&"auto"!==F||(F=this.getOutsideFill()),null!=B&&"auto"!==B||(B=this.getOutsideStroke(F),H=!0)),(F=F||"#000")===E.fill&&B===E.stroke&&H===E.autoStroke&&g===E.align&&v===E.verticalAlign||(y=!0,E.fill=F,E.stroke=B,E.autoStroke=H,E.align=g,E.verticalAlign=v,a.setDefaultTextStyle(E)),a.__dirty|=1,y&&a.dirtyStyle(!0)}},c.prototype.canBeInsideText=function(){return!0},c.prototype.getInsideTextFill=function(){return"#fff"},c.prototype.getInsideTextStroke=function(s){return"#000"},c.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?fu:Qm},c.prototype.getOutsideStroke=function(s){var a=this.__zr&&this.__zr.getBackgroundColor(),u="string"==typeof a&&Jr(a);u||(u=[255,255,255,1]);for(var d=u[3],p=this.__zr.isDarkMode(),g=0;g<3;g++)u[g]=u[g]*d+(p?0:255)*(1-d);return u[3]=1,Et(u,"rgba")},c.prototype.traverse=function(s,a){},c.prototype.attrKV=function(s,a){"textConfig"===s?this.setTextConfig(a):"textContent"===s?this.setTextContent(a):"clipPath"===s?this.setClipPath(a):"extra"===s?(this.extra=this.extra||{},it(this.extra,a)):this[s]=a},c.prototype.hide=function(){this.ignore=!0,this.markRedraw()},c.prototype.show=function(){this.ignore=!1,this.markRedraw()},c.prototype.attr=function(s,a){if("string"==typeof s)this.attrKV(s,a);else if(rn(s))for(var u=Gt(s),d=0;d<u.length;d++){var p=u[d];this.attrKV(p,s[p])}return this.markRedraw(),this},c.prototype.saveCurrentToNormalState=function(s){this._innerSaveToNormal(s);for(var a=this._normalState,u=0;u<this.animators.length;u++){var d=this.animators[u],p=d.__fromStateTransition;if(!p||p===p1){var g=d.targetName;d.saveFinalToTarget(g?a[g]:a)}}},c.prototype._innerSaveToNormal=function(s){var a=this._normalState;a||(a=this._normalState={}),s.textConfig&&!a.textConfig&&(a.textConfig=this.textConfig),this._savePrimaryToNormal(s,a,Ip)},c.prototype._savePrimaryToNormal=function(s,a,u){for(var d=0;d<u.length;d++){var p=u[d];null==s[p]||p in a||(a[p]=this[p])}},c.prototype.hasState=function(){return this.currentStates.length>0},c.prototype.getState=function(s){return this.states[s]},c.prototype.ensureState=function(s){var a=this.states;return a[s]||(a[s]={}),a[s]},c.prototype.clearStates=function(s){this.useState(p1,!1,s)},c.prototype.useState=function(s,a,u,d){var p=s===p1;if(this.hasState()||!p){var g=this.currentStates,v=this.stateTransition;if(!(Gn(g,s)>=0)||!a&&1!==g.length){var y;if(this.stateProxy&&!p&&(y=this.stateProxy(s)),y||(y=this.states&&this.states[s]),y||p){p||this.saveCurrentToNormalState(y);var x=!!(y&&y.hoverLayer||d);x&&this._toggleHoverLayerFlag(!0),this._applyStateObj(s,y,this._normalState,a,!u&&!this.__inHover&&v&&v.duration>0,v);var C=this._textContent,w=this._textGuide;return C&&C.useState(s,a,u,x),w&&w.useState(s,a,u,x),p?(this.currentStates=[],this._normalState={}):a?this.currentStates.push(s):this.currentStates=[s],this._updateAnimationTargets(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),y}ac("State "+s+" not exists.")}}},c.prototype.useStates=function(s,a,u){if(s.length){var d=[],p=this.currentStates,g=s.length,v=g===p.length;if(v)for(var y=0;y<g;y++)if(s[y]!==p[y]){v=!1;break}if(v)return;for(y=0;y<g;y++){var x=s[y],C=void 0;this.stateProxy&&(C=this.stateProxy(x,s)),C||(C=this.states[x]),C&&d.push(C)}var w=d[g-1],D=!!(w&&w.hoverLayer||u);D&&this._toggleHoverLayerFlag(!0);var P=this._mergeStates(d),z=this.stateTransition;this.saveCurrentToNormalState(P),this._applyStateObj(s.join(","),P,this._normalState,!1,!a&&!this.__inHover&&z&&z.duration>0,z);var k=this._textContent,E=this._textGuide;k&&k.useStates(s,a,D),E&&E.useStates(s,a,D),this._updateAnimationTargets(),this.currentStates=s.slice(),this.markRedraw(),!D&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},c.prototype._updateAnimationTargets=function(){for(var s=0;s<this.animators.length;s++){var a=this.animators[s];a.targetName&&a.changeTarget(this[a.targetName])}},c.prototype.removeState=function(s){var a=Gn(this.currentStates,s);if(a>=0){var u=this.currentStates.slice();u.splice(a,1),this.useStates(u)}},c.prototype.replaceState=function(s,a,u){var d=this.currentStates.slice(),p=Gn(d,s),g=Gn(d,a)>=0;p>=0?g?d.splice(p,1):d[p]=a:u&&!g&&d.push(a),this.useStates(d)},c.prototype.toggleState=function(s,a){a?this.useState(s,!0):this.removeState(s)},c.prototype._mergeStates=function(s){for(var a,u={},d=0;d<s.length;d++){var p=s[d];it(u,p),p.textConfig&&it(a=a||{},p.textConfig)}return a&&(u.textConfig=a),u},c.prototype._applyStateObj=function(s,a,u,d,p,g){var v=!(a&&d);a&&a.textConfig?(this.textConfig=it({},d?this.textConfig:u.textConfig),it(this.textConfig,a.textConfig)):v&&u.textConfig&&(this.textConfig=u.textConfig);for(var y={},x=!1,C=0;C<Ip.length;C++){var w=Ip[C],D=p&&g1[w];a&&null!=a[w]?D?(x=!0,y[w]=a[w]):this[w]=a[w]:v&&null!=u[w]&&(D?(x=!0,y[w]=u[w]):this[w]=u[w])}if(!p)for(C=0;C<this.animators.length;C++){var P=this.animators[C],z=P.targetName;P.__changeFinalValue(z?(a||u)[z]:a||u)}x&&this._transitionState(s,y,g)},c.prototype._attachComponent=function(s){if(s.__zr&&!s.__hostTarget)throw new Error("Text element has been added to zrender.");if(s===this)throw new Error("Recursive component attachment.");var a=this.__zr;a&&s.addSelfToZr(a),s.__zr=a,s.__hostTarget=this},c.prototype._detachComponent=function(s){s.__zr&&s.removeSelfFromZr(s.__zr),s.__zr=null,s.__hostTarget=null},c.prototype.getClipPath=function(){return this._clipPath},c.prototype.setClipPath=function(s){this._clipPath&&this._clipPath!==s&&this.removeClipPath(),this._attachComponent(s),this._clipPath=s,this.markRedraw()},c.prototype.removeClipPath=function(){var s=this._clipPath;s&&(this._detachComponent(s),this._clipPath=null,this.markRedraw())},c.prototype.getTextContent=function(){return this._textContent},c.prototype.setTextContent=function(s){var a=this._textContent;if(a!==s){if(a&&a!==s&&this.removeTextContent(),s.__zr&&!s.__hostTarget)throw new Error("Text element has been added to zrender.");s.innerTransformable=new Lr,this._attachComponent(s),this._textContent=s,this.markRedraw()}},c.prototype.setTextConfig=function(s){this.textConfig||(this.textConfig={}),it(this.textConfig,s),this.markRedraw()},c.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},c.prototype.removeTextContent=function(){var s=this._textContent;s&&(s.innerTransformable=null,this._detachComponent(s),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},c.prototype.getTextGuideLine=function(){return this._textGuide},c.prototype.setTextGuideLine=function(s){this._textGuide&&this._textGuide!==s&&this.removeTextGuideLine(),this._attachComponent(s),this._textGuide=s,this.markRedraw()},c.prototype.removeTextGuideLine=function(){var s=this._textGuide;s&&(this._detachComponent(s),this._textGuide=null,this.markRedraw())},c.prototype.markRedraw=function(){this.__dirty|=1;var s=this.__zr;s&&(this.__inHover?s.refreshHover():s.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},c.prototype.dirty=function(){this.markRedraw()},c.prototype._toggleHoverLayerFlag=function(s){this.__inHover=s;var a=this._textContent,u=this._textGuide;a&&(a.__inHover=s),u&&(u.__inHover=s)},c.prototype.addSelfToZr=function(s){if(this.__zr!==s){this.__zr=s;var a=this.animators;if(a)for(var u=0;u<a.length;u++)s.animation.addAnimator(a[u]);this._clipPath&&this._clipPath.addSelfToZr(s),this._textContent&&this._textContent.addSelfToZr(s),this._textGuide&&this._textGuide.addSelfToZr(s)}},c.prototype.removeSelfFromZr=function(s){if(this.__zr){this.__zr=null;var a=this.animators;if(a)for(var u=0;u<a.length;u++)s.animation.removeAnimator(a[u]);this._clipPath&&this._clipPath.removeSelfFromZr(s),this._textContent&&this._textContent.removeSelfFromZr(s),this._textGuide&&this._textGuide.removeSelfFromZr(s)}},c.prototype.animate=function(s,a){var u=s?this[s]:this;if(u){var d=new td(u,a);return this.addAnimator(d,s),d}ac('Property "'+s+'" is not existed in element '+this.id)},c.prototype.addAnimator=function(s,a){var u=this.__zr,d=this;s.during(function(){d.updateDuringAnimation(a)}).done(function(){var p=d.animators,g=Gn(p,s);g>=0&&p.splice(g,1)}),this.animators.push(s),u&&u.animation.addAnimator(s),u&&u.wakeUp()},c.prototype.updateDuringAnimation=function(s){this.markRedraw()},c.prototype.stopAnimation=function(s,a){for(var u=this.animators,d=u.length,p=[],g=0;g<d;g++){var v=u[g];s&&s!==v.scope?p.push(v):v.stop(a)}return this.animators=p,this},c.prototype.animateTo=function(s,a,u){El(this,s,a,u)},c.prototype.animateFrom=function(s,a,u){El(this,s,a,u,!0)},c.prototype._transitionState=function(s,a,u,d){for(var p=El(this,a,u,d),g=0;g<p.length;g++)p[g].__fromStateTransition=s},c.prototype.getBoundingRect=function(){return null},c.prototype.getPaintRect=function(){return null},c.initDefaultProps=function(){var s=c.prototype;s.type="element",s.name="",s.ignore=!1,s.silent=!1,s.isGroup=!1,s.draggable=!1,s.dragging=!1,s.ignoreClip=!1,s.__inHover=!1,s.__dirty=1;var a={};function u(p,g,v){a[p+g+v]||(console.warn("DEPRECATED: '"+p+"' has been deprecated. use '"+g+"', '"+v+"' instead"),a[p+g+v]=!0)}function d(p,g,v,y){function x(C,w){Object.defineProperty(w,0,{get:function(){return C[v]},set:function(D){C[v]=D}}),Object.defineProperty(w,1,{get:function(){return C[y]},set:function(D){C[y]=D}})}Object.defineProperty(s,p,{get:function(){return u(p,v,y),this[g]||x(this,this[g]=[]),this[g]},set:function(C){u(p,v,y),this[v]=C[0],this[y]=C[1],this[g]=C,x(this,C)}})}Object.defineProperty&&(!Pt.browser.ie||Pt.browser.version>8)&&(d("position","_legacyPos","x","y"),d("scale","_legacyScale","scaleX","scaleY"),d("origin","_legacyOrigin","originX","originY"))}(),c}();function El(c,s,a,u,d){var p=[];Il(c,"",c,s,a=a||{},u,p,d);var g=p.length,v=!1,y=a.done,x=a.aborted,C=function(){v=!0,--g<=0&&(v?y&&y():x&&x())},w=function(){--g<=0&&(v?y&&y():x&&x())};g||y&&y(),p.length>0&&a.during&&p[0].during(function(z,k){a.during(k)});for(var D=0;D<p.length;D++){var P=p[D];C&&P.done(C),w&&P.aborted(w),P.start(a.easing,a.force)}return p}function m1(c,s,a){for(var u=0;u<a;u++)c[u]=s[u]}function e0(c,s,a){if(Dn(s[a]))if(Dn(c[a])||(c[a]=[]),Tl(s[a])){var u=s[a].length;c[a].length!==u&&(c[a]=new s[a].constructor(u),m1(c[a],s[a],u))}else{var d=s[a],p=c[a],g=d.length;if(Dn(d[0]))for(var v=d[0].length,y=0;y<g;y++)p[y]?m1(p[y],d[y],v):p[y]=Array.prototype.slice.call(d[y]);else m1(p,d,g);p.length=d.length}else c[a]=s[a]}function Il(c,s,a,u,d,p,g,v){for(var y=[],x=[],C=Gt(u),w=d.duration,D=d.delay,P=d.additive,z=d.setToFinal,k=!rn(p),E=0;E<C.length;E++)if(null!=a[re=C[E]]&&null!=u[re]&&(k||p[re]))if(rn(u[re])&&!Dn(u[re])){if(s){v||(a[re]=u[re],c.updateDuringAnimation(s));continue}Il(c,re,a[re],u[re],d,p&&p[re],g,v)}else y.push(re),x.push(re);else v||(a[re]=u[re],c.updateDuringAnimation(s),x.push(re));var F=y.length;if(F>0||d.force&&!g.length){for(var B=c.animators,H=[],Y=0;Y<B.length;Y++)B[Y].targetName===s&&H.push(B[Y]);if(!P&&H.length)for(Y=0;Y<H.length;Y++)if(H[Y].stopTracks(x)){var U=Gn(B,H[Y]);B.splice(U,1)}var j=void 0,q=void 0,Q=void 0;if(v)for(q={},z&&(j={}),Y=0;Y<F;Y++)q[re=y[Y]]=a[re],z?j[re]=u[re]:a[re]=u[re];else if(z)for(Q={},Y=0;Y<F;Y++){var re;Q[re=y[Y]]=vs(a[re]),e0(a,u,re)}var oe=new td(a,!1,P?H:null);oe.targetName=s,d.scope&&(oe.scope=d.scope),z&&j&&oe.whenWithKeys(0,j,y),Q&&oe.whenWithKeys(0,Q,y),oe.whenWithKeys(w??500,v?q:u,y).delay(D||0),c.addAnimator(oe,s),g.push(oe)}}Gr(ca,Rs),Gr(ca,Lr);var Xt=function(c){function s(a){var u=c.call(this)||this;return u.isGroup=!0,u._children=[],u.attr(a),u}return Ee(s,c),s.prototype.childrenRef=function(){return this._children},s.prototype.children=function(){return this._children.slice()},s.prototype.childAt=function(a){return this._children[a]},s.prototype.childOfName=function(a){for(var u=this._children,d=0;d<u.length;d++)if(u[d].name===a)return u[d]},s.prototype.childCount=function(){return this._children.length},s.prototype.add=function(a){if(a&&(a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),a.__hostTarget))throw"This elemenet has been used as an attachment";return this},s.prototype.addBefore=function(a,u){if(a&&a!==this&&a.parent!==this&&u&&u.parent===this){var d=this._children,p=d.indexOf(u);p>=0&&(d.splice(p,0,a),this._doAdd(a))}return this},s.prototype.replace=function(a,u){var d=Gn(this._children,a);return d>=0&&this.replaceAt(u,d),this},s.prototype.replaceAt=function(a,u){var d=this._children,p=d[u];if(a&&a!==this&&a.parent!==this&&a!==p){d[u]=a,p.parent=null;var g=this.__zr;g&&p.removeSelfFromZr(g),this._doAdd(a)}return this},s.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var u=this.__zr;u&&u!==a.__zr&&a.addSelfToZr(u),u&&u.refresh()},s.prototype.remove=function(a){var u=this.__zr,d=this._children,p=Gn(d,a);return p<0||(d.splice(p,1),a.parent=null,u&&a.removeSelfFromZr(u),u&&u.refresh()),this},s.prototype.removeAll=function(){for(var a=this._children,u=this.__zr,d=0;d<a.length;d++){var p=a[d];u&&p.removeSelfFromZr(u),p.parent=null}return a.length=0,this},s.prototype.eachChild=function(a,u){for(var d=this._children,p=0;p<d.length;p++)a.call(u,d[p],p);return this},s.prototype.traverse=function(a,u){for(var d=0;d<this._children.length;d++){var p=this._children[d],g=a.call(u,p);p.isGroup&&!g&&p.traverse(a,u)}return this},s.prototype.addSelfToZr=function(a){c.prototype.addSelfToZr.call(this,a);for(var u=0;u<this._children.length;u++)this._children[u].addSelfToZr(a)},s.prototype.removeSelfFromZr=function(a){c.prototype.removeSelfFromZr.call(this,a);for(var u=0;u<this._children.length;u++)this._children[u].removeSelfFromZr(a)},s.prototype.getBoundingRect=function(a){for(var u=new qn(0,0,0,0),d=a||this._children,p=[],g=null,v=0;v<d.length;v++){var y=d[v];if(!y.ignore&&!y.invisible){var x=y.getBoundingRect(),C=y.getLocalTransform(p);C?(qn.applyTransform(u,x,C),(g=g||u.clone()).union(u)):(g=g||x.clone()).union(x)}}return g||u},s}(ca);Xt.prototype.type="group";var h5=!Pt.canvasSupported,ef={},Lp={},z2=function(){function c(s,a,u){var d=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,u=u||{},this.dom=a,this.id=s;var p=new D3,g=u.renderer||"canvas";if(h5)throw new Error("IE8 support has been dropped since 5.0");if(ef[g]||(g=Gt(ef)[0]),!ef[g])throw new Error("Renderer '"+g+"' is not imported. Please import it first.");u.useDirtyRect=null!=u.useDirtyRect&&u.useDirtyRect;var v=new ef[g](a,p,u,s);this.storage=p,this.painter=v;var y=Pt.node||Pt.worker?null:new h1(v.getViewportRoot(),v.root);this.handler=new _2(p,v,y,v.root),this.animation=new u5({stage:{update:function(){return d._flush(!0)}}}),this.animation.start()}return c.prototype.add=function(s){s&&(this.storage.addRoot(s),s.addSelfToZr(this),this.refresh())},c.prototype.remove=function(s){s&&(this.storage.delRoot(s),s.removeSelfFromZr(this),this.refresh())},c.prototype.configLayer=function(s,a){this.painter.configLayer&&this.painter.configLayer(s,a),this.refresh()},c.prototype.setBackgroundColor=function(s){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(s),this.refresh(),this._backgroundColor=s,this._darkMode=function(a){if(!a)return!1;if("string"==typeof a)return kp(a,1)<.4;if(a.colorStops){for(var u=a.colorStops,d=0,p=u.length,g=0;g<p;g++)d+=kp(u[g].color,1);return(d/=p)<.4}return!1}(s)},c.prototype.getBackgroundColor=function(){return this._backgroundColor},c.prototype.setDarkMode=function(s){this._darkMode=s},c.prototype.isDarkMode=function(){return this._darkMode},c.prototype.refreshImmediately=function(s){s||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},c.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},c.prototype.flush=function(){this._flush(!1)},c.prototype._flush=function(s){var a,u=(new Date).getTime();this._needsRefresh&&(a=!0,this.refreshImmediately(s)),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());var d=(new Date).getTime();a?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:d-u})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},c.prototype.setSleepAfterStill=function(s){this._sleepAfterStill=s},c.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},c.prototype.addHover=function(s){},c.prototype.removeHover=function(s){},c.prototype.clearHover=function(){},c.prototype.refreshHover=function(){this._needsRefreshHover=!0},c.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},c.prototype.resize=function(s){this.painter.resize((s=s||{}).width,s.height),this.handler.resize()},c.prototype.clearAnimation=function(){this.animation.clear()},c.prototype.getWidth=function(){return this.painter.getWidth()},c.prototype.getHeight=function(){return this.painter.getHeight()},c.prototype.pathToImage=function(s,a){if(this.painter.pathToImage)return this.painter.pathToImage(s,a)},c.prototype.setCursorStyle=function(s){this.handler.setCursorStyle(s)},c.prototype.findHover=function(s,a){return this.handler.findHover(s,a)},c.prototype.on=function(s,a,u){return this.handler.on(s,a,u),this},c.prototype.off=function(s,a){this.handler.off(s,a)},c.prototype.trigger=function(s,a){this.handler.trigger(s,a)},c.prototype.clear=function(){for(var s=this.storage.getRoots(),a=0;a<s.length;a++)s[a]instanceof Xt&&s[a].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},c.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete Lp[this.id]},c}();function v1(c,s){var a=new z2(Cp(),c,s);return Lp[a.id]=a,a}function d5(c,s){ef[c]=s}var IT=Object.freeze({__proto__:null,init:v1,dispose:function(c){c.dispose()},disposeAll:function(){for(var c in Lp)Lp.hasOwnProperty(c)&&Lp[c].dispose();Lp={}},getInstance:function(c){return Lp[c]},registerPainter:d5,version:"5.2.1"});function rr(c,s,a,u){var d=s[0],p=s[1],g=a[0],v=a[1],y=p-d,x=v-g;if(0===y)return 0===x?g:(g+v)/2;if(u)if(y>0){if(c<=d)return g;if(c>=p)return v}else{if(c>=d)return g;if(c<=p)return v}else{if(c===d)return g;if(c===p)return v}return(c-d)/y*x+g}function At(c,s){switch(c){case"center":case"middle":c="50%";break;case"left":case"top":c="0%";break;case"right":case"bottom":c="100%"}return"string"==typeof c?(a=c,a.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(c)/100*s:parseFloat(c):null==c?NaN:+c;var a}function Ma(c,s,a){return null==s&&(s=10),s=Math.min(Math.max(0,s),20),c=(+c).toFixed(s),a?c:+c}function pc(c){return c.sort(function(s,a){return s-a}),c}function _u(c){if(c=+c,isNaN(c))return 0;if(c>1e-14)for(var s=1,a=0;a<15;a++,s*=10)if(Math.round(c*s)/s===c)return a;return f5(c)}function f5(c){var s=c.toString().toLowerCase(),a=s.indexOf("e"),u=a>0?+s.slice(a+1):0,d=a>0?a:s.length,p=s.indexOf(".");return Math.max(0,(p<0?0:d-1-p)-u)}function z3(c,s){var a=Math.log,u=Math.LN10,d=Math.floor(a(c[1]-c[0])/u),p=Math.round(a(Math.abs(s[1]-s[0]))/u),g=Math.min(Math.max(-d+p,0),20);return isFinite(g)?g:20}function LT(c,s,a){if(!c[s])return 0;var u=nt(c,function(z,k){return z+(isNaN(k)?0:k)},0);if(0===u)return 0;for(var d=Math.pow(10,a),p=tt(c,function(z){return(isNaN(z)?0:z)/u*d*100}),g=100*d,v=tt(p,function(z){return Math.floor(z)}),y=nt(v,function(z,k){return z+k},0),x=tt(p,function(z,k){return z-v[k]});y<g;){for(var C=Number.NEGATIVE_INFINITY,w=null,D=0,P=x.length;D<P;++D)x[D]>C&&(C=x[D],w=D);++v[w],x[w]=0,++y}return v[s]/d}function T(c,s){var a=Math.max(_u(c),_u(s)),u=c+s;return a>20?u:Ma(u,a)}var R=9007199254740991;function W(c){var s=2*Math.PI;return(c%s+s)%s}function te(c){return c>-1e-4&&c<1e-4}var ce=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ce(c){if(c instanceof Date)return c;if("string"==typeof c){var s=ce.exec(c);if(!s)return new Date(NaN);if(s[8]){var a=+s[4]||0;return"Z"!==s[8].toUpperCase()&&(a-=+s[8].slice(0,3)),new Date(Date.UTC(+s[1],+(s[2]||1)-1,+s[3]||1,a,+(s[5]||0),+s[6]||0,s[7]?+s[7].substring(0,3):0))}return new Date(+s[1],+(s[2]||1)-1,+s[3]||1,+s[4]||0,+(s[5]||0),+s[6]||0,s[7]?+s[7].substring(0,3):0)}return null==c?new Date(NaN):new Date(Math.round(c))}function Ne(c){return Math.pow(10,Le(c))}function Le(c){if(0===c)return 0;var s=Math.floor(Math.log(c)/Math.LN10);return c/Math.pow(10,s)>=10&&s++,s}function lt(c,s){var a=Le(c),u=Math.pow(10,a),d=c/u;return c=(s?d<1.5?1:d<2.5?2:d<4?3:d<7?5:10:d<1?1:d<2?2:d<3?3:d<5?5:10)*u,a>=-20?+c.toFixed(a<0?-a:0):c}function Ct(c,s){var a=(c.length-1)*s+1,u=Math.floor(a),d=+c[u-1],p=a-u;return p?d+p*(c[u]-d):d}function Zt(c){c.sort(function(y,x){return v(y,x,0)?-1:1});for(var s=-1/0,a=1,u=0;u<c.length;){for(var d=c[u].interval,p=c[u].close,g=0;g<2;g++)d[g]<=s&&(d[g]=s,p[g]=g?1:1-a),s=d[g],a=p[g];d[0]===d[1]&&p[0]*p[1]!=1?c.splice(u,1):u++}return c;function v(y,x,C){return y.interval[C]<x.interval[C]||y.interval[C]===x.interval[C]&&(y.close[C]-x.close[C]==(C?-1:1)||!C&&v(y,x,1))}}function pn(c){var s=parseFloat(c);return s==c&&(0!==s||"string"!=typeof c||c.indexOf("x")<=0)?s:NaN}function or(c){return!isNaN(pn(c))}function fh(){return Math.round(9*Math.random())}function ph(c,s){return 0===s?c:ph(s,c%s)}function t0(c,s){return null==c?s:null==s?c:c*s/ph(c,s)}function Ui(c){throw new Error(c)}var k3="series\0";function Sr(c){return c instanceof Array?c:null==c?[]:[c]}function yu(c,s,a){if(c){c[s]=c[s]||{},c.emphasis=c.emphasis||{},c.emphasis[s]=c.emphasis[s]||{};for(var u=0,d=a.length;u<d;u++){var p=a[u];!c.emphasis[s].hasOwnProperty(p)&&c[s].hasOwnProperty(p)&&(c.emphasis[s][p]=c[s][p])}}}var Ll=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Rp(c){return!rn(c)||at(c)||c instanceof Date?c:c.value}function ua(c){return rn(c)&&!(c instanceof Array)}function gh(c,s,a){var u="normalMerge"===a,d="replaceMerge"===a,p="replaceAll"===a;c=c||[],s=(s||[]).slice();var g=qt();fe(s,function(C,w){rn(C)||(s[w]=null)});var v,y,C,w,D,P,x=function(C,w,D){var P=[];if("replaceAll"===D)return P;for(var z=0;z<C.length;z++){var k=C[z];k&&null!=k.id&&w.set(k.id,z),P.push({existing:"replaceMerge"===D||gc(k)?null:k,newOption:null,keyInfo:null,brandNew:null})}return P}(c,g,a);return(u||d)&&(C=x,w=c,D=g,fe(P=s,function(z,k){if(z&&null!=z.id){var E=n0(z.id),F=D.get(E);if(null!=F){var B=C[F];Dl(!B.newOption,'Duplicated option on id "'+E+'".'),B.newOption=z,B.existing=w[F],P[k]=null}}})),u&&function(C,w){fe(w,function(D,P){if(D&&null!=D.name)for(var z=0;z<C.length;z++){var k=C[z].existing;if(!C[z].newOption&&k&&(null==k.id||null==D.id)&&!gc(D)&&!gc(k)&&Rl("name",k,D))return C[z].newOption=D,void(w[P]=null)}})}(x,s),u||d?function(C,w,D){fe(w,function(P){if(P){for(var z,k=0;(z=C[k])&&(z.newOption||gc(z.existing)||z.existing&&null!=P.id&&!Rl("id",P,z.existing));)k++;z?(z.newOption=P,z.brandNew=D):C.push({newOption:P,brandNew:D,existing:null,keyInfo:null}),k++}})}(x,s,d):p&&function(C,w){fe(w,function(D){C.push({newOption:D,brandNew:!0,existing:null,keyInfo:null})})}(x,s),v=x,y=qt(),fe(v,function(C){var w=C.existing;w&&y.set(w.id,C)}),fe(v,function(C){var w=C.newOption;Dl(!w||null==w.id||!y.get(w.id)||y.get(w.id)===C,"id duplicates: "+(w&&w.id)),w&&null!=w.id&&y.set(w.id,C),!C.keyInfo&&(C.keyInfo={})}),fe(v,function(C,w){var D=C.existing,P=C.newOption,z=C.keyInfo;if(rn(P)){if(z.name=null!=P.name?n0(P.name):D?D.name:k3+w,D)z.id=n0(D.id);else if(null!=P.id)z.id=n0(P.id);else{var k=0;do{z.id="\0"+z.name+"\0"+k++}while(y.get(z.id))}y.set(z.id,C)}}),x}function Rl(c,s,a){var u=Vo(s[c],null),d=Vo(a[c],null);return null!=u&&null!=d&&u===d}function n0(c){return Vo(c,"")}function Vo(c,s){if(null==c)return s;var a=typeof c;return"string"===a?c:"number"===a||Gm(c)?c+"":s}function r0(c){var s=c.name;return!(!s||!s.indexOf(k3))}function gc(c){return c&&null!=c.id&&0===n0(c.id).indexOf("\0_ec_\0")}function tf(c,s){return null!=s.dataIndexInside?s.dataIndexInside:null!=s.dataIndex?at(s.dataIndex)?tt(s.dataIndex,function(a){return c.indexOfRawIndex(a)}):c.indexOfRawIndex(s.dataIndex):null!=s.name?at(s.name)?tt(s.name,function(a){return c.indexOfName(a)}):c.indexOfName(s.name):void 0}function Zi(){var c="__ec_inner_"+Si++;return function(s){return s[c]||(s[c]={})}}var Si=fh();function k2(c,s,a){var u=JE(s,a),p=u.queryOptionMap,g=u.others,v=a?a.defaultMainType:null;return!u.mainTypeSpecified&&v&&p.set(v,{}),p.each(function(y,x){var C=O3(c,x,y,{useDefault:v===x,enableAll:!a||null==a.enableAll||a.enableAll,enableNone:!a||null==a.enableNone||a.enableNone});g[x+"Models"]=C.models,g[x+"Model"]=C.models[0]}),g}function JE(c,s){var a;if(ui(c)){var u={};u[c+"Index"]=0,a=u}else a=c;var d=qt(),p={},g=!1;return fe(a,function(v,y){if("dataIndex"!==y&&"dataIndexInside"!==y){var x=y.match(/^(\w+)(Index|Id|Name)$/)||[],C=x[1],w=(x[2]||"").toLowerCase();C&&w&&!(s&&s.includeMainTypes&&Gn(s.includeMainTypes,C)<0)&&(g=g||!!C,(d.get(C)||d.set(C,{}))[w]=v)}else p[y]=v}),{mainTypeSpecified:g,queryOptionMap:d,others:p}}var Na={useDefault:!0,enableAll:!1,enableNone:!1},L$={useDefault:!1,enableAll:!0,enableNone:!0};function O3(c,s,a,u){u=u||Na;var d=a.index,p=a.id,g=a.name,v={models:null,specified:null!=d||null!=p||null!=g};if(!v.specified){var y=void 0;return v.models=u.useDefault&&(y=c.getComponent(s))?[y]:[],v}return"none"===d||!1===d?(Dl(u.enableNone,'`"none"` or `false` is not a valid value on index option.'),v.models=[],v):("all"===d&&(Dl(u.enableAll,'`"all"` is not a valid value on index option.'),d=p=g=null),v.models=c.queryComponents({mainType:s,index:d,id:p,name:g}),v)}function RT(c,s,a){c.setAttribute?c.setAttribute(s,a):c[s]=a}function NT(c,s){var a=qt(),u=[];return fe(c,function(d){var p=s(d);(a.get(p)||(u.push(p),a.set(p,[]))).push(d)}),{keys:u,buckets:a}}function eI(c,s,a,u,d){var p=null==s||"auto"===s;if(null==u)return u;if("number"==typeof u)return Ma(z=Op(a||0,u,d),p?Math.max(_u(a||0),_u(u)):s);if("string"==typeof u)return d<1?a:u;for(var g=[],v=a,y=u,x=Math.max(v?v.length:0,y.length),C=0;C<x;++C){var w=c.getDimensionInfo(C);if(w&&"ordinal"===w.type)g[C]=(d<1&&v?v:y)[C];else{var D=v&&v[C]?v[C]:0,P=y[C],z=Op(D,P,d);g[C]=Ma(z,p?Math.max(_u(D),_u(P)):s)}}return g}var xt="___EC__COMPONENT__CONTAINER___",vr="___EC__EXTENDED_CLASS___";function Xe(c){var s={main:"",sub:""};if(c){var a=c.split(".");s.main=a[0]||"",s.sub=a[1]||""}return s}function Ze(c,s){c.$constructor=c,c.extend=function(a){var u=this;function d(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];if(a.$constructor)a.$constructor.apply(this,arguments);else{if(al(u))return rh(d.prototype,new(u.bind.apply(u,bi([void 0],p))));u.apply(this,arguments)}}return d[vr]=!0,it(d.prototype,a),d.extend=this.extend,d.superCall=nf,d.superApply=BT,Wn(d,this),d.superClass=u,d}}function al(c){return"function"==typeof c&&/^class\s/.test(Function.prototype.toString.call(c))}function FT(c,s){c.extend=s.extend}var E3=Math.round(10*Math.random());function nf(c,s){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];return this.superClass.prototype[s].apply(c,a)}function BT(c,s,a){return this.superClass.prototype[s].apply(c,a)}function O2(c){var s={};c.registerClass=function(a){var u,g,v,d=a.type||a.prototype.type;if(d){Dl(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(u=d),'componentType "'+u+'" illegal'),a.prototype.type=d;var p=Xe(d);p.sub?p.sub!==xt&&((g=p,v=s[g.main],v&&v[xt]||((v=s[g.main]={})[xt]=!0),v)[p.sub]=a):s[p.main]=a}return a},c.getClass=function(a,u,d){var p=s[a];if(p&&p[xt]&&(p=u?p[u]:null),d&&!p)throw new Error(u?"Component "+a+"."+(u||"")+" is used but not imported.":a+".type should be specified.");return p},c.getClassesByMainType=function(a){var u=Xe(a),d=[],p=s[u.main];return p&&p[xt]?fe(p,function(g,v){v!==xt&&d.push(g)}):d.push(p),d},c.hasClass=function(a){var u=Xe(a);return!!s[u.main]},c.getAllClassMainTypes=function(){var a=[];return fe(s,function(u,d){a.push(d)}),a},c.hasSubTypes=function(a){var u=Xe(a),d=s[u.main];return d&&d[xt]}}function o0(c,s){for(var a=0;a<c.length;a++)c[a][1]||(c[a][1]=c[a][0]);return s=s||!1,function(u,d,p){for(var g={},v=0;v<c.length;v++){var y=c[v][1];if(!(d&&Gn(d,y)>=0||p&&Gn(p,y)<0)){var x=u.getShallow(y,s);null!=x&&(g[c[v][0]]=x)}}return g}}var yce=o0([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),tI=function(){function c(){}return c.prototype.getAreaStyle=function(s,a){return yce(this,s,a)},c}(),sl=new s1(50);function Np(c){if("string"==typeof c){var s=sl.get(c);return s&&s.image}return c}function p5(c,s,a,u,d){if(c){if("string"==typeof c){if(s&&s.__zrImageSrc===c||!a)return s;var p=sl.get(c),g={hostEl:a,cb:u,cbPayload:d};return p?!mh(s=p.image)&&p.pending.push(g):((s=new Image).onload=s.onerror=E2,sl.put(c,s.__cachedImgObj={image:s,pending:[g]}),s.src=s.__zrImageSrc=c),s}return c}return s}function E2(){var c=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var s=0;s<c.pending.length;s++){var a=c.pending[s],u=a.cb;u&&u(this,a.cbPayload),a.hostEl.dirty()}c.pending.length=0}function mh(c){return c&&c.width&&c.height}var VT=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function HT(c,s,a,u,d){if(!s)return"";var p=(c+"").split("\n");d=nI(s,a,u,d);for(var g=0,v=p.length;g<v;g++)p[g]=iI(p[g],d);return p.join("\n")}function nI(c,s,a,u){var d=it({},u=u||{});d.font=s,a=xi(a,"..."),d.maxIterations=xi(u.maxIterations,2);var p=d.minChar=xi(u.minChar,0);d.cnCharWidth=Ra("\u56fd",s);var g=d.ascCharWidth=Ra("a",s);d.placeholder=xi(u.placeholder,"");for(var v=c=Math.max(0,c-1),y=0;y<p&&v>=g;y++)v-=g;var x=Ra(a,s);return x>v&&(a="",x=0),v=c-x,d.ellipsis=a,d.ellipsisWidth=x,d.contentWidth=v,d.containerWidth=c,d}function iI(c,s){var a=s.containerWidth,u=s.font,d=s.contentWidth;if(!a)return"";var p=Ra(c,u);if(p<=a)return c;for(var g=0;;g++){if(p<=d||g>=s.maxIterations){c+=s.ellipsis;break}var v=0===g?YT(c,d,s.ascCharWidth,s.cnCharWidth):p>0?Math.floor(c.length*d/p):0;p=Ra(c=c.substr(0,v),u)}return""===c&&(c=s.placeholder),c}function YT(c,s,a,u){for(var d=0,p=0,g=c.length;p<g&&d<s;p++){var v=c.charCodeAt(p);d+=0<=v&&v<=127?a:u}return p}var UT=function(){},GT=function(c){this.tokens=[],c&&(this.tokens=c)},WT=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function jT(c,s,a,u,d){var p,g,v=""===s,y=d&&a.rich[d]||{},x=c.lines,C=y.font||a.font,w=!1;if(u){var D=y.padding,P=D?D[1]+D[3]:0;if(null!=y.width&&"auto"!==y.width){var z=Ol(y.width,u.width)+P;x.length>0&&z+u.accumWidth>u.width&&(p=s.split("\n"),w=!0),u.accumWidth=z}else{var k=XT(s,C,u.width,u.breakAll,u.accumWidth);u.accumWidth=k.accumWidth+P,g=k.linesWidths,p=k.lines}}else p=s.split("\n");for(var E=0;E<p.length;E++){var F=p[E],B=new UT;if(B.styleName=d,B.text=F,B.isLineHolder=!F&&!v,B.width="number"==typeof y.width?y.width:g?g[E]:Ra(F,C),E||w)x.push(new GT([B]));else{var H=(x[x.length-1]||(x[0]=new GT)).tokens,Y=H.length;1===Y&&H[0].isLineHolder?H[0]=B:(F||!Y||v)&&H.push(B)}}}var rI=nt(",&?/;] ".split(""),function(c,s){return c[s]=!0,c},{});function $T(c){return!((a=c.charCodeAt(0))>=33&&a<=255&&!rI[c]);var a}function XT(c,s,a,u,d){for(var p=[],g=[],v="",y="",x=0,C=0,w=0;w<c.length;w++){var D=c.charAt(w);if("\n"!==D){var P=Ra(D,s),z=!u&&!$T(D);(p.length?C+P>a:d+C+P>a)?C?(v||y)&&(z?(v||(v=y,y="",C=x=0),p.push(v),g.push(C-x),y+=D,v="",C=x+=P):(y&&(v+=y,C+=x,y="",x=0),p.push(v),g.push(C),v=D,C=P)):z?(p.push(y),g.push(x),y=D,x=P):(p.push(D),g.push(P)):(C+=P,z?(y+=D,x+=P):(y&&(v+=y,y="",x=0),v+=D))}else y&&(v+=y,C+=x),p.push(v),g.push(C),v="",y="",x=0,C=0}return p.length||v||(v=c,y="",x=0),y&&(v+=y),v&&(p.push(v),g.push(C)),1===p.length&&(C+=d),{accumWidth:C,lines:p,linesWidths:g}}var g5="__zr_style_"+Math.round(10*Math.random()),_1={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},I3={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};_1[g5]=!0;var m5=["z","z2","invisible"],R$=["invisible"],id=function(c){function s(u){return c.call(this,u)||this}var a;return Ee(s,c),s.prototype._init=function(u){for(var d=Gt(u),p=0;p<d.length;p++){var g=d[p];"style"===g?this.useStyle(u[g]):c.prototype.attrKV.call(this,g,u[g])}this.style||this.useStyle({})},s.prototype.beforeBrush=function(){},s.prototype.afterBrush=function(){},s.prototype.innerBeforeBrush=function(){},s.prototype.innerAfterBrush=function(){},s.prototype.shouldBePainted=function(u,d,p,g){var C,w,D,v=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(w=u,D=d,ll.copy((C=this).getBoundingRect()),C.transform&&ll.applyTransform(C.transform),Fp.width=w,Fp.height=D,!ll.intersect(Fp))||v&&!v[0]&&!v[3])return!1;if(p&&this.__clipPaths)for(var y=0;y<this.__clipPaths.length;++y)if(this.__clipPaths[y].isZeroArea())return!1;if(g&&this.parent)for(var x=this.parent;x;){if(x.ignore)return!1;x=x.parent}return!0},s.prototype.contain=function(u,d){return this.rectContain(u,d)},s.prototype.traverse=function(u,d){u.call(d,this)},s.prototype.rectContain=function(u,d){var p=this.transformCoordToLocal(u,d);return this.getBoundingRect().contain(p[0],p[1])},s.prototype.getPaintRect=function(){var u=this._paintRect;if(!this._paintRect||this.__dirty){var d=this.transform,p=this.getBoundingRect(),g=this.style,v=g.shadowBlur||0,y=g.shadowOffsetX||0,x=g.shadowOffsetY||0;u=this._paintRect||(this._paintRect=new qn(0,0,0,0)),d?qn.applyTransform(u,p,d):u.copy(p),(v||y||x)&&(u.width+=2*v+Math.abs(y),u.height+=2*v+Math.abs(x),u.x=Math.min(u.x,u.x+y-v),u.y=Math.min(u.y,u.y+x-v));var C=this.dirtyRectTolerance;u.isZero()||(u.x=Math.floor(u.x-C),u.y=Math.floor(u.y-C),u.width=Math.ceil(u.width+1+2*C),u.height=Math.ceil(u.height+1+2*C))}return u},s.prototype.setPrevPaintRect=function(u){u?(this._prevPaintRect=this._prevPaintRect||new qn(0,0,0,0),this._prevPaintRect.copy(u)):this._prevPaintRect=null},s.prototype.getPrevPaintRect=function(){return this._prevPaintRect},s.prototype.animateStyle=function(u){return this.animate("style",u)},s.prototype.updateDuringAnimation=function(u){"style"===u?this.dirtyStyle():this.markRedraw()},s.prototype.attrKV=function(u,d){"style"!==u?c.prototype.attrKV.call(this,u,d):this.style?this.setStyle(d):this.useStyle(d)},s.prototype.setStyle=function(u,d){return"string"==typeof u?this.style[u]=d:it(this.style,u),this.dirtyStyle(),this},s.prototype.dirtyStyle=function(u){u||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},s.prototype.dirty=function(){this.dirtyStyle()},s.prototype.styleChanged=function(){return!!(2&this.__dirty)},s.prototype.styleUpdated=function(){this.__dirty&=-3},s.prototype.createStyle=function(u){return rh(_1,u)},s.prototype.useStyle=function(u){u[g5]||(u=this.createStyle(u)),this.__inHover?this.__hoverStyle=u:this.style=u,this.dirtyStyle()},s.prototype.isStyleObject=function(u){return u[g5]},s.prototype._innerSaveToNormal=function(u){c.prototype._innerSaveToNormal.call(this,u);var d=this._normalState;u.style&&!d.style&&(d.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(u,d,m5)},s.prototype._applyStateObj=function(u,d,p,g,v,y){c.prototype._applyStateObj.call(this,u,d,p,g,v,y);var x,C=!(d&&g);if(d&&d.style?v?g?x=d.style:(x=this._mergeStyle(this.createStyle(),p.style),this._mergeStyle(x,d.style)):(x=this._mergeStyle(this.createStyle(),g?this.style:p.style),this._mergeStyle(x,d.style)):C&&(x=p.style),x)if(v){var w=this.style;if(this.style=this.createStyle(C?{}:w),C)for(var D=Gt(w),P=0;P<D.length;P++)(k=D[P])in x&&(x[k]=x[k],this.style[k]=w[k]);var z=Gt(x);for(P=0;P<z.length;P++){var k=z[P];this.style[k]=this.style[k]}this._transitionState(u,{style:x},y,this.getAnimationStyleProps())}else this.useStyle(x);var E=this.__inHover?R$:m5;for(P=0;P<E.length;P++)k=E[P],d&&null!=d[k]?this[k]=d[k]:C&&null!=p[k]&&(this[k]=p[k])},s.prototype._mergeStates=function(u){for(var d,p=c.prototype._mergeStates.call(this,u),g=0;g<u.length;g++){var v=u[g];v.style&&this._mergeStyle(d=d||{},v.style)}return d&&(p.style=d),p},s.prototype._mergeStyle=function(u,d){return it(u,d),u},s.prototype.getAnimationStyleProps=function(){return I3},s.initDefaultProps=((a=s.prototype).type="displayable",a.invisible=!1,a.z=0,a.z2=0,a.zlevel=0,a.culling=!1,a.cursor="pointer",a.rectHover=!1,a.incremental=!1,a._rect=null,a.dirtyRectTolerance=0,void(a.__dirty=3)),s}(ca),ll=new qn(0,0,0,0),Fp=new qn(0,0,0,0),Eo=Math.pow,wo=Math.sqrt,aI=wo(3),v5=1/3,rf=Pl(),mc=Pl(),Bp=Pl();function rd(c){return c>-1e-8&&c<1e-8}function _5(c){return c>1e-8||c<-1e-8}function Ho(c,s,a,u,d){var p=1-d;return p*p*(p*c+3*d*s)+d*d*(d*u+3*p*a)}function sI(c,s,a,u,d){var p=1-d;return 3*(((s-c)*p+2*(a-s)*d)*p+(u-a)*d*d)}function y1(c,s,a,u,d,p){var g=u+3*(s-a)-c,v=3*(a-2*s+c),y=3*(s-c),x=c-d,C=v*v-3*g*y,w=v*y-9*g*x,D=y*y-3*v*x,P=0;if(rd(C)&&rd(w))rd(v)?p[0]=0:(Q=-y/v)>=0&&Q<=1&&(p[P++]=Q);else{var z=w*w-4*C*D;if(rd(z)){var k=w/C,E=-k/2;(Q=-v/g+k)>=0&&Q<=1&&(p[P++]=Q),E>=0&&E<=1&&(p[P++]=E)}else if(z>0){var F=wo(z),B=C*v+1.5*g*(-w+F),H=C*v+1.5*g*(-w-F);(Q=(-v-((B=B<0?-Eo(-B,v5):Eo(B,v5))+(H=H<0?-Eo(-H,v5):Eo(H,v5))))/(3*g))>=0&&Q<=1&&(p[P++]=Q)}else{var Y=(2*C*v-3*g*w)/(2*wo(C*C*C)),U=Math.acos(Y)/3,j=wo(C),q=Math.cos(U),Q=(-v-2*j*q)/(3*g),re=(E=(-v+j*(q+aI*Math.sin(U)))/(3*g),(-v+j*(q-aI*Math.sin(U)))/(3*g));Q>=0&&Q<=1&&(p[P++]=Q),E>=0&&E<=1&&(p[P++]=E),re>=0&&re<=1&&(p[P++]=re)}}return P}function I2(c,s,a,u,d){var p=6*a-12*s+6*c,g=9*s+3*u-3*c-9*a,v=3*s-3*c,y=0;if(rd(g))_5(p)&&(C=-v/p)>=0&&C<=1&&(d[y++]=C);else{var x=p*p-4*g*v;if(rd(x))d[0]=-p/(2*g);else if(x>0){var C,w=wo(x),D=(-p-w)/(2*g);(C=(-p+w)/(2*g))>=0&&C<=1&&(d[y++]=C),D>=0&&D<=1&&(d[y++]=D)}}return y}function x1(c,s,a,u,d,p){var g=(s-c)*d+c,v=(a-s)*d+s,y=(u-a)*d+a,x=(v-g)*d+g,C=(y-v)*d+v,w=(C-x)*d+x;p[0]=c,p[1]=g,p[2]=x,p[3]=w,p[4]=w,p[5]=C,p[6]=y,p[7]=u}function N$(c,s,a,u,d,p,g,v,y,x,C){var w,D,P,z,k,E=.005,F=1/0;rf[0]=y,rf[1]=x;for(var B=0;B<1;B+=.05)mc[0]=Ho(c,a,d,g,B),mc[1]=Ho(s,u,p,v,B),(z=Cr(rf,mc))<F&&(w=B,F=z);F=1/0;for(var H=0;H<32&&!(E<1e-4);H++)P=w+E,mc[0]=Ho(c,a,d,g,D=w-E),mc[1]=Ho(s,u,p,v,D),z=Cr(mc,rf),D>=0&&z<F?(w=D,F=z):(Bp[0]=Ho(c,a,d,g,P),Bp[1]=Ho(s,u,p,v,P),k=Cr(Bp,rf),P<=1&&k<F?(w=P,F=k):E*=.5);return C&&(C[0]=Ho(c,a,d,g,w),C[1]=Ho(s,u,p,v,w)),wo(F)}function qT(c,s,a,u,d,p,g,v,y){for(var x=c,C=s,w=0,D=1/y,P=1;P<=y;P++){var z=P*D,k=Ho(c,a,d,g,z),E=Ho(s,u,p,v,z),F=k-x,B=E-C;w+=Math.sqrt(F*F+B*B),x=k,C=E}return w}function cl(c,s,a,u){var d=1-u;return d*(d*c+2*u*s)+u*u*a}function ZT(c,s,a,u){return 2*((1-u)*(s-c)+u*(a-s))}function lI(c,s,a){var u=c+a-2*s;return 0===u?.5:(c-s)/u}function y5(c,s,a,u,d){var p=(s-c)*u+c,g=(a-s)*u+s,v=(g-p)*u+p;d[0]=c,d[1]=p,d[2]=v,d[3]=v,d[4]=g,d[5]=a}function F$(c,s,a,u,d,p,g,v,y){var x,C=.005,w=1/0;rf[0]=g,rf[1]=v;for(var D=0;D<1;D+=.05)mc[0]=cl(c,a,d,D),mc[1]=cl(s,u,p,D),(E=Cr(rf,mc))<w&&(x=D,w=E);w=1/0;for(var P=0;P<32&&!(C<1e-4);P++){var z=x-C,k=x+C;mc[0]=cl(c,a,d,z),mc[1]=cl(s,u,p,z);var E=Cr(mc,rf);if(z>=0&&E<w)x=z,w=E;else{Bp[0]=cl(c,a,d,k),Bp[1]=cl(s,u,p,k);var F=Cr(Bp,rf);k<=1&&F<w?(x=k,w=F):C*=.5}}return y&&(y[0]=cl(c,a,d,x),y[1]=cl(s,u,p,x)),wo(w)}function KT(c,s,a,u,d,p,g){for(var v=c,y=s,x=0,C=1/g,w=1;w<=g;w++){var D=w*C,P=cl(c,a,d,D),z=cl(s,u,p,D),k=P-v,E=z-y;x+=Math.sqrt(k*k+E*E),v=P,y=z}return x}var vc=Math.min,_c=Math.max,a0=Math.sin,x5=Math.cos,b1=2*Math.PI,s0=Pl(),b5=Pl(),l0=Pl();function c0(c,s,a){if(0!==c.length){for(var u=c[0],d=u[0],p=u[0],g=u[1],v=u[1],y=1;y<c.length;y++)d=vc(d,(u=c[y])[0]),p=_c(p,u[0]),g=vc(g,u[1]),v=_c(v,u[1]);s[0]=d,s[1]=g,a[0]=p,a[1]=v}}function R3(c,s,a,u,d,p){d[0]=vc(c,a),d[1]=vc(s,u),p[0]=_c(c,a),p[1]=_c(s,u)}var B$=[],QT=[];function cI(c,s,a,u,d,p,g,v,y,x){var C=I2,w=Ho,D=C(c,a,d,g,B$);y[0]=1/0,y[1]=1/0,x[0]=-1/0,x[1]=-1/0;for(var P=0;P<D;P++){var z=w(c,a,d,g,B$[P]);y[0]=vc(z,y[0]),x[0]=_c(z,x[0])}for(D=C(s,u,p,v,QT),P=0;P<D;P++){var k=w(s,u,p,v,QT[P]);y[1]=vc(k,y[1]),x[1]=_c(k,x[1])}y[0]=vc(c,y[0]),x[0]=_c(c,x[0]),y[0]=vc(g,y[0]),x[0]=_c(g,x[0]),y[1]=vc(s,y[1]),x[1]=_c(s,x[1]),y[1]=vc(v,y[1]),x[1]=_c(v,x[1])}function V$(c,s,a,u,d,p,g,v){var y=lI,x=cl,C=_c(vc(y(c,a,d),1),0),w=_c(vc(y(s,u,p),1),0),D=x(c,a,d,C),P=x(s,u,p,w);g[0]=vc(c,d,D),g[1]=vc(s,p,P),v[0]=_c(c,d,D),v[1]=_c(s,p,P)}function af(c,s,a,u,d,p,g,v,y){var x=Ec,C=Jh,w=Math.abs(d-p);if(w%b1<1e-4&&w>1e-4)return v[0]=c-a,v[1]=s-u,y[0]=c+a,void(y[1]=s+u);if(s0[0]=x5(d)*a+c,s0[1]=a0(d)*u+s,b5[0]=x5(p)*a+c,b5[1]=a0(p)*u+s,x(v,s0,b5),C(y,s0,b5),(d%=b1)<0&&(d+=b1),(p%=b1)<0&&(p+=b1),d>p&&!g?p+=b1:d<p&&g&&(d+=b1),g){var D=p;p=d,d=D}for(var P=0;P<p;P+=Math.PI/2)P>d&&(l0[0]=x5(P)*a+c,l0[1]=a0(P)*u+s,x(v,l0,v),C(y,l0,y))}var jr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},sf=[],Vp=[],od=[],lf=[],vh=[],cf=[],L2=Math.min,R2=Math.max,C1=Math.cos,w1=Math.sin,C5=Math.sqrt,_h=Math.abs,Hp=Math.PI,S1=2*Hp,w5=typeof Float32Array<"u",N2=[];function T1(c){return Math.round(c/Hp*1e8)/1e8%2*Hp}function uI(c,s){var a=T1(c[0]);a<0&&(a+=S1);var d=c[1];d+=a-c[0],!s&&d-a>=S1?d=a+S1:s&&a-d>=S1?d=a-S1:!s&&a>d?d=a+(S1-T1(a-d)):s&&a<d&&(d=a-(S1-T1(d-a))),c[0]=a,c[1]=d}var Nr=function(){function c(s){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,s&&(this._saveData=!1),this._saveData&&(this.data=[])}return c.prototype.increaseVersion=function(){this._version++},c.prototype.getVersion=function(){return this._version},c.prototype.setScale=function(s,a,u){(u=u||0)>0&&(this._ux=_h(u/d1/s)||0,this._uy=_h(u/d1/a)||0)},c.prototype.setDPR=function(s){this.dpr=s},c.prototype.setContext=function(s){this._ctx=s},c.prototype.getContext=function(){return this._ctx},c.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},c.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},c.prototype.moveTo=function(s,a){return this._drawPendingPt(),this.addData(jr.M,s,a),this._ctx&&this._ctx.moveTo(s,a),this._x0=s,this._y0=a,this._xi=s,this._yi=a,this},c.prototype.lineTo=function(s,a){var u=_h(s-this._xi),d=_h(a-this._yi),p=u>this._ux||d>this._uy;if(this.addData(jr.L,s,a),this._ctx&&p&&(this._needsDash?this._dashedLineTo(s,a):this._ctx.lineTo(s,a)),p)this._xi=s,this._yi=a,this._pendingPtDist=0;else{var g=u*u+d*d;g>this._pendingPtDist&&(this._pendingPtX=s,this._pendingPtY=a,this._pendingPtDist=g)}return this},c.prototype.bezierCurveTo=function(s,a,u,d,p,g){return this._drawPendingPt(),this.addData(jr.C,s,a,u,d,p,g),this._ctx&&(this._needsDash?this._dashedBezierTo(s,a,u,d,p,g):this._ctx.bezierCurveTo(s,a,u,d,p,g)),this._xi=p,this._yi=g,this},c.prototype.quadraticCurveTo=function(s,a,u,d){return this._drawPendingPt(),this.addData(jr.Q,s,a,u,d),this._ctx&&(this._needsDash?this._dashedQuadraticTo(s,a,u,d):this._ctx.quadraticCurveTo(s,a,u,d)),this._xi=u,this._yi=d,this},c.prototype.arc=function(s,a,u,d,p,g){this._drawPendingPt(),N2[0]=d,N2[1]=p,uI(N2,g);var v=(p=N2[1])-(d=N2[0]);return this.addData(jr.A,s,a,u,u,d,v,0,g?0:1),this._ctx&&this._ctx.arc(s,a,u,d,p,g),this._xi=C1(p)*u+s,this._yi=w1(p)*u+a,this},c.prototype.arcTo=function(s,a,u,d,p){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(s,a,u,d,p),this},c.prototype.rect=function(s,a,u,d){return this._drawPendingPt(),this._ctx&&this._ctx.rect(s,a,u,d),this.addData(jr.R,s,a,u,d),this},c.prototype.closePath=function(){this._drawPendingPt(),this.addData(jr.Z);var s=this._ctx,a=this._x0,u=this._y0;return s&&(this._needsDash&&this._dashedLineTo(a,u),s.closePath()),this._xi=a,this._yi=u,this},c.prototype.fill=function(s){s&&s.fill(),this.toStatic()},c.prototype.stroke=function(s){s&&s.stroke(),this.toStatic()},c.prototype.setLineDash=function(s){if(s instanceof Array){this._lineDash=s,this._dashIdx=0;for(var a=0,u=0;u<s.length;u++)a+=s[u];this._dashSum=a,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},c.prototype.setLineDashOffset=function(s){return this._dashOffset=s,this},c.prototype.len=function(){return this._len},c.prototype.setData=function(s){var a=s.length;this.data&&this.data.length===a||!w5||(this.data=new Float32Array(a));for(var u=0;u<a;u++)this.data[u]=s[u];this._len=a},c.prototype.appendPath=function(s){s instanceof Array||(s=[s]);for(var a=s.length,u=0,d=this._len,p=0;p<a;p++)u+=s[p].len();for(w5&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+u)),p=0;p<a;p++)for(var g=s[p].data,v=0;v<g.length;v++)this.data[d++]=g[v];this._len=d},c.prototype.addData=function(s,a,u,d,p,g,v,y,x){if(this._saveData){var C=this.data;this._len+arguments.length>C.length&&(this._expandData(),C=this.data);for(var w=0;w<arguments.length;w++)C[this._len++]=arguments[w]}},c.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},c.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var s=[],a=0;a<this._len;a++)s[a]=this.data[a];this.data=s}},c.prototype._dashedLineTo=function(s,a){var u,d,p=this._dashSum,g=this._lineDash,v=this._ctx,y=this._dashOffset,x=this._xi,C=this._yi,w=s-x,D=a-C,P=C5(w*w+D*D),z=x,k=C,E=g.length;for(y<0&&(y=p+y),z-=(y%=p)*(w/=P),k-=y*(D/=P);w>0&&z<=s||w<0&&z>=s||0===w&&(D>0&&k<=a||D<0&&k>=a);)z+=w*(u=g[d=this._dashIdx]),k+=D*u,this._dashIdx=(d+1)%E,w>0&&z<x||w<0&&z>x||D>0&&k<C||D<0&&k>C||v[d%2?"moveTo":"lineTo"](w>=0?L2(z,s):R2(z,s),D>=0?L2(k,a):R2(k,a));this._dashOffset=-C5((w=z-s)*w+(D=k-a)*D)},c.prototype._dashedBezierTo=function(s,a,u,d,p,g){var v,y,x,C,w,D=this._ctx,P=this._dashSum,z=this._dashOffset,k=this._lineDash,E=this._xi,F=this._yi,B=0,H=this._dashIdx,Y=k.length,U=0;for(z<0&&(z=P+z),z%=P,v=0;v<1;v+=.1)y=Ho(E,s,u,p,v+.1)-Ho(E,s,u,p,v),x=Ho(F,a,d,g,v+.1)-Ho(F,a,d,g,v),B+=C5(y*y+x*x);for(;H<Y&&!((U+=k[H])>z);H++);for(v=(U-z)/B;v<=1;)C=Ho(E,s,u,p,v),w=Ho(F,a,d,g,v),H%2?D.moveTo(C,w):D.lineTo(C,w),v+=k[H]/B,H=(H+1)%Y;H%2!=0&&D.lineTo(p,g),this._dashOffset=-C5((y=p-C)*y+(x=g-w)*x)},c.prototype._dashedQuadraticTo=function(s,a,u,d){var p=u,g=d;u=(u+2*s)/3,d=(d+2*a)/3,this._dashedBezierTo(s=(this._xi+2*s)/3,a=(this._yi+2*a)/3,u,d,p,g)},c.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var s=this.data;s instanceof Array&&(s.length=this._len,w5&&this._len>11&&(this.data=new Float32Array(s)))}},c.prototype.getBoundingRect=function(){od[0]=od[1]=vh[0]=vh[1]=Number.MAX_VALUE,lf[0]=lf[1]=cf[0]=cf[1]=-Number.MAX_VALUE;var s,a=this.data,u=0,d=0,p=0,g=0;for(s=0;s<this._len;){var v=a[s++],y=1===s;switch(y&&(p=u=a[s],g=d=a[s+1]),v){case jr.M:u=p=a[s++],d=g=a[s++],vh[0]=p,vh[1]=g,cf[0]=p,cf[1]=g;break;case jr.L:R3(u,d,a[s],a[s+1],vh,cf),u=a[s++],d=a[s++];break;case jr.C:cI(u,d,a[s++],a[s++],a[s++],a[s++],a[s],a[s+1],vh,cf),u=a[s++],d=a[s++];break;case jr.Q:V$(u,d,a[s++],a[s++],a[s],a[s+1],vh,cf),u=a[s++],d=a[s++];break;case jr.A:var x=a[s++],C=a[s++],w=a[s++],D=a[s++],P=a[s++],z=a[s++]+P;s+=1;var k=!a[s++];y&&(p=C1(P)*w+x,g=w1(P)*D+C),af(x,C,w,D,P,z,k,vh,cf),u=C1(z)*w+x,d=w1(z)*D+C;break;case jr.R:R3(p=u=a[s++],g=d=a[s++],p+a[s++],g+a[s++],vh,cf);break;case jr.Z:u=p,d=g}Ec(od,od,vh),Jh(lf,lf,cf)}return 0===s&&(od[0]=od[1]=lf[0]=lf[1]=0),new qn(od[0],od[1],lf[0]-od[0],lf[1]-od[1])},c.prototype._calculateLength=function(){var s=this.data,a=this._len,u=this._ux,d=this._uy,p=0,g=0,v=0,y=0;this._pathSegLen||(this._pathSegLen=[]);for(var x=this._pathSegLen,C=0,w=0,D=0;D<a;){var P=s[D++],z=1===D;z&&(v=p=s[D],y=g=s[D+1]);var k=-1;switch(P){case jr.M:p=v=s[D++],g=y=s[D++];break;case jr.L:var E=s[D++],F=(Y=s[D++])-g;(_h(_e=E-p)>u||_h(F)>d||D===a-1)&&(k=Math.sqrt(_e*_e+F*F),p=E,g=Y);break;case jr.C:var B=s[D++],H=s[D++],Y=(E=s[D++],s[D++]),U=s[D++],j=s[D++];k=qT(p,g,B,H,E,Y,U,j,10),p=U,g=j;break;case jr.Q:k=KT(p,g,B=s[D++],H=s[D++],E=s[D++],Y=s[D++],10),p=E,g=Y;break;case jr.A:var q=s[D++],Q=s[D++],re=s[D++],oe=s[D++],ae=s[D++],he=s[D++],me=he+ae;D+=1,D++,z&&(v=C1(ae)*re+q,y=w1(ae)*oe+Q),k=R2(re,oe)*L2(S1,Math.abs(he)),p=C1(me)*re+q,g=w1(me)*oe+Q;break;case jr.R:v=p=s[D++],y=g=s[D++],k=2*s[D++]+2*s[D++];break;case jr.Z:var _e=v-p;F=y-g,k=Math.sqrt(_e*_e+F*F),p=v,g=y}k>=0&&(x[w++]=k,C+=k)}return this._pathLen=C,C},c.prototype.rebuildPath=function(s,a){var u,d,p,g,v,y,x,C,w,D,P=this.data,z=this._ux,k=this._uy,E=this._len,F=a<1,B=0,H=0,Y=0;if(!F||(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,C=a*this._pathLen))e:for(var U=0;U<E;){var j=P[U++],q=1===U;switch(q&&(u=p=P[U],d=g=P[U+1]),j!==jr.L&&Y>0&&(s.lineTo(w,D),Y=0),j){case jr.M:u=p=P[U++],d=g=P[U++],s.moveTo(p,g);break;case jr.L:v=P[U++],y=P[U++];var Q=_h(v-p),re=_h(y-g);if(Q>z||re>k){if(F){if(B+(mn=x[H++])>C){var oe=(C-B)/mn;s.lineTo(p*(1-oe)+v*oe,g*(1-oe)+y*oe);break e}B+=mn}s.lineTo(v,y),p=v,g=y,Y=0}else{var ae=Q*Q+re*re;ae>Y&&(w=v,D=y,Y=ae)}break;case jr.C:var he=P[U++],me=P[U++],_e=P[U++],be=P[U++],we=P[U++],Te=P[U++];if(F){if(B+(mn=x[H++])>C){x1(p,he,_e,we,oe=(C-B)/mn,sf),x1(g,me,be,Te,oe,Vp),s.bezierCurveTo(sf[1],Vp[1],sf[2],Vp[2],sf[3],Vp[3]);break e}B+=mn}s.bezierCurveTo(he,me,_e,be,we,Te),p=we,g=Te;break;case jr.Q:if(he=P[U++],me=P[U++],_e=P[U++],be=P[U++],F){if(B+(mn=x[H++])>C){y5(p,he,_e,oe=(C-B)/mn,sf),y5(g,me,be,oe,Vp),s.quadraticCurveTo(sf[1],Vp[1],sf[2],Vp[2]);break e}B+=mn}s.quadraticCurveTo(he,me,_e,be),p=_e,g=be;break;case jr.A:var Me=P[U++],Ae=P[U++],Ie=P[U++],Ue=P[U++],qe=P[U++],ft=P[U++],$e=P[U++],ot=!P[U++],bt=Ie>Ue?Ie:Ue,gt=_h(Ie-Ue)>.001,vt=qe+ft,kt=!1;if(F&&(B+(mn=x[H++])>C&&(vt=qe+ft*(C-B)/mn,kt=!0),B+=mn),gt&&s.ellipse?s.ellipse(Me,Ae,Ie,Ue,$e,qe,vt,ot):s.arc(Me,Ae,bt,qe,vt,ot),kt)break e;q&&(u=C1(qe)*Ie+Me,d=w1(qe)*Ue+Ae),p=C1(vt)*Ie+Me,g=w1(vt)*Ue+Ae;break;case jr.R:u=p=P[U],d=g=P[U+1],v=P[U++],y=P[U++];var Rt=P[U++],dn=P[U++];if(F){if(B+(mn=x[H++])>C){var ln=C-B;s.moveTo(v,y),s.lineTo(v+L2(ln,Rt),y),(ln-=Rt)>0&&s.lineTo(v+Rt,y+L2(ln,dn)),(ln-=dn)>0&&s.lineTo(v+R2(Rt-ln,0),y+dn),(ln-=Rt)>0&&s.lineTo(v,y+R2(dn-ln,0));break e}B+=mn}s.rect(v,y,Rt,dn);break;case jr.Z:if(F){var mn;if(B+(mn=x[H++])>C){s.lineTo(p*(1-(oe=(C-B)/mn))+u*oe,g*(1-oe)+d*oe);break e}B+=mn}s.closePath(),p=u,g=d}}},c.prototype.clone=function(){var s=new c,a=this.data;return s.data=a.slice?a.slice():Array.prototype.slice.call(a),s._len=this._len,s},c.CMD=jr,c.initDefaultProps=((s=c.prototype)._saveData=!0,s._needsDash=!1,s._dashOffset=0,s._dashIdx=0,s._dashSum=0,s._ux=0,s._uy=0,s._pendingPtDist=0,void(s._version=0)),c;var s}();function uf(c,s,a,u,d,p,g){if(0===d)return!1;var y,v=d;if(g>s+v&&g>u+v||g<s-v&&g<u-v||p>c+v&&p>a+v||p<c-v&&p<a-v)return!1;if(c===a)return Math.abs(p-c)<=v/2;var x=(y=(s-u)/(c-a))*p-g+(c*u-a*s)/(c-a);return x*x/(y*y+1)<=v/2*v/2}function H$(c,s,a,u,d,p,g,v,y,x,C){if(0===y)return!1;var w=y;return!(C>s+w&&C>u+w&&C>p+w&&C>v+w||C<s-w&&C<u-w&&C<p-w&&C<v-w||x>c+w&&x>a+w&&x>d+w&&x>g+w||x<c-w&&x<a-w&&x<d-w&&x<g-w)&&N$(c,s,a,u,d,p,g,v,x,C,null)<=w/2}function JT(c,s,a,u,d,p,g,v,y){if(0===g)return!1;var x=g;return!(y>s+x&&y>u+x&&y>p+x||y<s-x&&y<u-x&&y<p-x||v>c+x&&v>a+x&&v>d+x||v<c-x&&v<a-x&&v<d-x)&&F$(c,s,a,u,d,p,v,y,null)<=x/2}var N3=2*Math.PI;function xu(c){return(c%=N3)<0&&(c+=N3),c}var hf=2*Math.PI;function F2(c,s,a,u,d,p,g,v,y){if(0===g)return!1;var x=g;v-=c,y-=s;var C=Math.sqrt(v*v+y*y);if(C-x>a||C+x<a)return!1;if(Math.abs(u-d)%hf<1e-4)return!0;if(p){var w=u;u=xu(d),d=xu(w)}else u=xu(u),d=xu(d);u>d&&(d+=hf);var D=Math.atan2(y,v);return D<0&&(D+=hf),D>=u&&D<=d||D+hf>=u&&D+hf<=d}function df(c,s,a,u,d,p){if(p>s&&p>u||p<s&&p<u||u===s)return 0;var g=(p-s)/(u-s),v=u<s?1:-1;1!==g&&0!==g||(v=u<s?.5:-.5);var y=g*(a-c)+c;return y===d?1/0:y>d?v:0}var ff=Nr.CMD,yh=2*Math.PI,yc=[-1,-1,-1],xh=[-1,-1];function pt(c,s,a,u,d,p,g,v,y,x){if(x>s&&x>u&&x>p&&x>v||x<s&&x<u&&x<p&&x<v)return 0;var C,w=y1(s,u,p,v,x,yc);if(0===w)return 0;for(var D=0,P=-1,z=void 0,k=void 0,E=0;E<w;E++){var F=yc[E],B=0===F||1===F?.5:1;Ho(c,a,d,g,F)<y||(P<0&&(P=I2(s,u,p,v,xh),xh[1]<xh[0]&&P>1&&(void 0,C=xh[0],xh[0]=xh[1],xh[1]=C),z=Ho(s,u,p,v,xh[0]),P>1&&(k=Ho(s,u,p,v,xh[1]))),D+=2===P?F<xh[0]?z<s?B:-B:F<xh[1]?k<z?B:-B:v<k?B:-B:F<xh[0]?z<s?B:-B:v<z?B:-B)}return D}function xce(c,s,a,u,d,p,g,v){if(v>s&&v>u&&v>p||v<s&&v<u&&v<p)return 0;var y=function(z,k,E,F,B){var H=z-2*k+E,Y=2*(k-z),U=z-F,j=0;if(rd(H))_5(Y)&&(Q=-U/Y)>=0&&Q<=1&&(B[j++]=Q);else{var q=Y*Y-4*H*U;if(rd(q))(Q=-Y/(2*H))>=0&&Q<=1&&(B[j++]=Q);else if(q>0){var Q,re=wo(q),oe=(-Y-re)/(2*H);(Q=(-Y+re)/(2*H))>=0&&Q<=1&&(B[j++]=Q),oe>=0&&oe<=1&&(B[j++]=oe)}}return j}(s,u,p,v,yc);if(0===y)return 0;var x=lI(s,u,p);if(x>=0&&x<=1){for(var C=0,w=cl(s,u,p,x),D=0;D<y;D++){var P=0===yc[D]||1===yc[D]?.5:1;cl(c,a,d,yc[D])<g||(C+=yc[D]<x?w<s?P:-P:p<w?P:-P)}return C}return P=0===yc[0]||1===yc[0]?.5:1,cl(c,a,d,yc[0])<g?0:p<s?P:-P}function bce(c,s,a,u,d,p,g,v){if((v-=s)>a||v<-a)return 0;var y=Math.sqrt(a*a-v*v);yc[0]=-y,yc[1]=y;var x=Math.abs(u-d);if(x<1e-4)return 0;if(x>=yh-1e-4){u=0,d=yh;var C=p?1:-1;return g>=yc[0]+c&&g<=yc[1]+c?C:0}if(u>d){var w=u;u=d,d=w}u<0&&(u+=yh,d+=yh);for(var D=0,P=0;P<2;P++){var z=yc[P];if(z+c>g){var k=Math.atan2(v,z);C=p?1:-1,k<0&&(k=yh+k),(k>=u&&k<=d||k+yh>=u&&k+yh<=d)&&(k>Math.PI/2&&k<1.5*Math.PI&&(C=-C),D+=C)}}return D}function Y$(c,s,a,u,d){for(var p,g,x=c.data,C=c.len(),w=0,D=0,P=0,z=0,k=0,E=0;E<C;){var F=x[E++],B=1===E;switch(F===ff.M&&E>1&&(a||(w+=df(D,P,z,k,u,d))),B&&(z=D=x[E],k=P=x[E+1]),F){case ff.M:D=z=x[E++],P=k=x[E++];break;case ff.L:if(a){if(uf(D,P,x[E],x[E+1],s,u,d))return!0}else w+=df(D,P,x[E],x[E+1],u,d)||0;D=x[E++],P=x[E++];break;case ff.C:if(a){if(H$(D,P,x[E++],x[E++],x[E++],x[E++],x[E],x[E+1],s,u,d))return!0}else w+=pt(D,P,x[E++],x[E++],x[E++],x[E++],x[E],x[E+1],u,d)||0;D=x[E++],P=x[E++];break;case ff.Q:if(a){if(JT(D,P,x[E++],x[E++],x[E],x[E+1],s,u,d))return!0}else w+=xce(D,P,x[E++],x[E++],x[E],x[E+1],u,d)||0;D=x[E++],P=x[E++];break;case ff.A:var H=x[E++],Y=x[E++],U=x[E++],j=x[E++],q=x[E++],Q=x[E++];E+=1;var re=!!(1-x[E++]);p=Math.cos(q)*U+H,g=Math.sin(q)*j+Y,B?(z=p,k=g):w+=df(D,P,p,g,u,d);var oe=(u-H)*j/U+H;if(a){if(F2(H,Y,j,q,q+Q,re,s,oe,d))return!0}else w+=bce(H,Y,j,q,q+Q,re,oe,d);D=Math.cos(q+Q)*U+H,P=Math.sin(q+Q)*j+Y;break;case ff.R:if(z=D=x[E++],k=P=x[E++],p=z+x[E++],g=k+x[E++],a){if(uf(z,k,p,k,s,u,d)||uf(p,k,p,g,s,u,d)||uf(p,g,z,g,s,u,d)||uf(z,g,z,k,s,u,d))return!0}else w+=df(p,k,p,g,u,d),w+=df(z,g,z,k,u,d);break;case ff.Z:if(a){if(uf(D,P,z,k,s,u,d))return!0}else w+=df(D,P,z,k,u,d);D=z,P=k}}return a||Math.abs(P-k)<1e-4||(w+=df(D,P,z,k,u,d)||0),0!==w}var U$=jt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},_1),Cce={style:jt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},I3.style)},hI=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],pi=function(c){function s(u){return c.call(this,u)||this}var a;return Ee(s,c),s.prototype.update=function(){var u=this;c.prototype.update.call(this);var d=this.style;if(d.decal){var p=this._decalEl=this._decalEl||new s;p.buildPath===s.prototype.buildPath&&(p.buildPath=function(x){u.buildPath(x,u.shape)}),p.silent=!0;var g=p.style;for(var v in d)g[v]!==d[v]&&(g[v]=d[v]);g.fill=d.fill?d.decal:null,g.decal=null,g.shadowColor=null,d.strokeFirst&&(g.stroke=null);for(var y=0;y<hI.length;++y)p[hI[y]]=this[hI[y]];p.__dirty|=1}else this._decalEl&&(this._decalEl=null)},s.prototype.getDecalElement=function(){return this._decalEl},s.prototype._init=function(u){var d=Gt(u);this.shape=this.getDefaultShape();var p=this.getDefaultStyle();p&&this.useStyle(p);for(var g=0;g<d.length;g++){var v=d[g],y=u[v];"style"===v?this.style?it(this.style,y):this.useStyle(y):"shape"===v?it(this.shape,y):c.prototype.attrKV.call(this,v,y)}this.style||this.useStyle({})},s.prototype.getDefaultStyle=function(){return null},s.prototype.getDefaultShape=function(){return{}},s.prototype.canBeInsideText=function(){return this.hasFill()},s.prototype.getInsideTextFill=function(){var u=this.style.fill;if("none"!==u){if(ui(u)){var d=kp(u,0);return d>.5?Qm:d>.2?"#eee":fu}if(u)return fu}return Qm},s.prototype.getInsideTextStroke=function(u){var d=this.style.fill;if(ui(d)){var p=this.__zr;if(!(!p||!p.isDarkMode())==kp(u,0)<.4)return d}},s.prototype.buildPath=function(u,d,p){},s.prototype.pathUpdated=function(){this.__dirty&=-5},s.prototype.getUpdatedPathProxy=function(u){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,u),this.path},s.prototype.createPathProxy=function(){this.path=new Nr(!1)},s.prototype.hasStroke=function(){var u=this.style,d=u.stroke;return!(null==d||"none"===d||!(u.lineWidth>0))},s.prototype.hasFill=function(){var u=this.style.fill;return null!=u&&"none"!==u},s.prototype.getBoundingRect=function(){var u=this._rect,d=this.style,p=!u;if(p){var g=!1;this.path||(g=!0,this.createPathProxy());var v=this.path;(g||4&this.__dirty)&&(v.beginPath(),this.buildPath(v,this.shape,!1),this.pathUpdated()),u=v.getBoundingRect()}if(this._rect=u,this.hasStroke()&&this.path&&this.path.len()>0){var y=this._rectWithStroke||(this._rectWithStroke=u.clone());if(this.__dirty||p){y.copy(u);var x=d.strokeNoScale?this.getLineScale():1,C=d.lineWidth;this.hasFill()||(C=Math.max(C,this.strokeContainThreshold??4)),x>1e-10&&(y.width+=C/x,y.height+=C/x,y.x-=C/x/2,y.y-=C/x/2)}return y}return u},s.prototype.contain=function(u,d){var p=this.transformCoordToLocal(u,d),g=this.getBoundingRect(),v=this.style;if(g.contain(u=p[0],d=p[1])){var y=this.path;if(this.hasStroke()){var x=v.lineWidth,C=v.strokeNoScale?this.getLineScale():1;if(C>1e-10&&(this.hasFill()||(x=Math.max(x,this.strokeContainThreshold)),Y$(y,x/C,!0,u,d)))return!0}if(this.hasFill())return Y$(y,0,!1,u,d)}return!1},s.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},s.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},s.prototype.animateShape=function(u){return this.animate("shape",u)},s.prototype.updateDuringAnimation=function(u){"style"===u?this.dirtyStyle():"shape"===u?this.dirtyShape():this.markRedraw()},s.prototype.attrKV=function(u,d){"shape"===u?this.setShape(d):c.prototype.attrKV.call(this,u,d)},s.prototype.setShape=function(u,d){var p=this.shape;return p||(p=this.shape={}),"string"==typeof u?p[u]=d:it(p,u),this.dirtyShape(),this},s.prototype.shapeChanged=function(){return!!(4&this.__dirty)},s.prototype.createStyle=function(u){return rh(U$,u)},s.prototype._innerSaveToNormal=function(u){c.prototype._innerSaveToNormal.call(this,u);var d=this._normalState;u.shape&&!d.shape&&(d.shape=it({},this.shape))},s.prototype._applyStateObj=function(u,d,p,g,v,y){c.prototype._applyStateObj.call(this,u,d,p,g,v,y);var x,C=!(d&&g);if(d&&d.shape?v?g?x=d.shape:(x=it({},p.shape),it(x,d.shape)):(x=it({},g?this.shape:p.shape),it(x,d.shape)):C&&(x=p.shape),x)if(v){this.shape=it({},this.shape);for(var w={},D=Gt(x),P=0;P<D.length;P++){var z=D[P];"object"==typeof x[z]?this.shape[z]=x[z]:w[z]=x[z]}this._transitionState(u,{shape:w},y)}else this.shape=x,this.dirtyShape()},s.prototype._mergeStates=function(u){for(var d,p=c.prototype._mergeStates.call(this,u),g=0;g<u.length;g++){var v=u[g];v.shape&&this._mergeStyle(d=d||{},v.shape)}return d&&(p.shape=d),p},s.prototype.getAnimationStyleProps=function(){return Cce},s.prototype.isZeroArea=function(){return!1},s.extend=function(u){var d=function(g){function v(y){var x=g.call(this,y)||this;return u.init&&u.init.call(x,y),x}return Ee(v,g),v.prototype.getDefaultStyle=function(){return nn(u.style)},v.prototype.getDefaultShape=function(){return nn(u.shape)},v}(s);for(var p in u)"function"==typeof u[p]&&(d.prototype[p]=u[p]);return d},s.initDefaultProps=((a=s.prototype).type="path",a.strokeContainThreshold=5,a.segmentIgnoreThreshold=0,a.subPixelOptimize=!1,a.autoBatch=!1,void(a.__dirty=7)),s}(id),F3=jt({strokeFirst:!0,font:Co,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},U$),B2=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.hasStroke=function(){var a=this.style,u=a.stroke;return null!=u&&"none"!==u&&a.lineWidth>0},s.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},s.prototype.createStyle=function(a){return rh(F3,a)},s.prototype.setBoundingRect=function(a){this._rect=a},s.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var u=a.text;null!=u?u+="":u="";var d=hh(u,a.font,a.textAlign,a.textBaseline);if(d.x+=a.x||0,d.y+=a.y||0,this.hasStroke()){var p=a.lineWidth;d.x-=p/2,d.y-=p/2,d.width+=p,d.height+=p}this._rect=d}return this._rect},s.initDefaultProps=void(s.prototype.dirtyRectTolerance=10),s}(id);B2.prototype.type="tspan";var wce=jt({x:0,y:0},_1),_s={style:jt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},I3.style)},Qo=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.createStyle=function(a){return rh(wce,a)},s.prototype._getSize=function(a){var u=this.style,d=u[a];if(null!=d)return d;var p,g=(p=u.image)&&"string"!=typeof p&&p.width&&p.height?u.image:this.__image;if(!g)return 0;var v="width"===a?"height":"width",y=u[v];return null==y?g[a]:g[a]/g[v]*y},s.prototype.getWidth=function(){return this._getSize("width")},s.prototype.getHeight=function(){return this._getSize("height")},s.prototype.getAnimationStyleProps=function(){return _s},s.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new qn(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},s}(id);Qo.prototype.type="image";var pf=Math.round;function dI(c,s,a){if(s){var u=s.x1,d=s.x2,p=s.y1,g=s.y2;c.x1=u,c.x2=d,c.y1=p,c.y2=g;var v=a&&a.lineWidth;return v&&(pf(2*u)===pf(2*d)&&(c.x1=c.x2=Cu(u,v,!0)),pf(2*p)===pf(2*g)&&(c.y1=c.y2=Cu(p,v,!0))),c}}function bu(c,s,a){if(s){var u=s.x,d=s.y,p=s.width,g=s.height;c.x=u,c.y=d,c.width=p,c.height=g;var v=a&&a.lineWidth;return v&&(c.x=Cu(u,v,!0),c.y=Cu(d,v,!0),c.width=Math.max(Cu(u+p,v,!1)-c.x,0===p?0:1),c.height=Math.max(Cu(d+g,v,!1)-c.y,0===g?0:1)),c}}function Cu(c,s,a){if(!s)return c;var u=pf(2*c);return(u+pf(s))%2==0?u/2:(u+(a?1:-1))/2}var fI=function(){this.x=0,this.y=0,this.width=0,this.height=0},S5={},gi=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new fI},s.prototype.buildPath=function(a,u){var d,p,g,v,x,C,w,D,P,z,k,E,F,B,H,Y;if(this.subPixelOptimize){var y=bu(S5,u,this.style);d=y.x,p=y.y,g=y.width,v=y.height,y.r=u.r,u=y}else d=u.x,p=u.y,g=u.width,v=u.height;u.r?(x=a,E=(C=u).x,F=C.y,(B=C.width)<0&&(E+=B,B=-B),(H=C.height)<0&&(F+=H,H=-H),"number"==typeof(Y=C.r)?w=D=P=z=Y:Y instanceof Array?1===Y.length?w=D=P=z=Y[0]:2===Y.length?(w=P=Y[0],D=z=Y[1]):3===Y.length?(w=Y[0],D=z=Y[1],P=Y[2]):(w=Y[0],D=Y[1],P=Y[2],z=Y[3]):w=D=P=z=0,w+D>B&&(w*=B/(k=w+D),D*=B/k),P+z>B&&(P*=B/(k=P+z),z*=B/k),D+P>H&&(D*=H/(k=D+P),P*=H/k),w+z>H&&(w*=H/(k=w+z),z*=H/k),x.moveTo(E+w,F),x.lineTo(E+B-D,F),0!==D&&x.arc(E+B-D,F+D,D,-Math.PI/2,0),x.lineTo(E+B,F+H-P),0!==P&&x.arc(E+B-P,F+H-P,P,0,Math.PI/2),x.lineTo(E+z,F+H),0!==z&&x.arc(E+z,F+H-z,z,Math.PI/2,Math.PI),x.lineTo(E,F+w),0!==w&&x.arc(E+w,F+w,w,Math.PI,1.5*Math.PI)):a.rect(d,p,g,v)},s.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},s}(pi);gi.prototype.type="rect";var pI={fill:"#000"},Sce={style:jt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},I3.style)},Ni=function(c){function s(a){var u=c.call(this)||this;return u.type="text",u._children=[],u._defaultStyle=pI,u.attr(a),u}return Ee(s,c),s.prototype.childrenRef=function(){return this._children},s.prototype.update=function(){c.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var a=0;a<this._children.length;a++){var u=this._children[a];u.zlevel=this.zlevel,u.z=this.z,u.z2=this.z2,u.culling=this.culling,u.cursor=this.cursor,u.invisible=this.invisible}},s.prototype.updateTransform=function(){var a=this.innerTransformable;a?(a.updateTransform(),a.transform&&(this.transform=a.transform)):c.prototype.updateTransform.call(this)},s.prototype.getLocalTransform=function(a){var u=this.innerTransformable;return u?u.getLocalTransform(a):c.prototype.getLocalTransform.call(this,a)},s.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),c.prototype.getComputedTransform.call(this)},s.prototype._updateSubTexts=function(){var a;this._childCursor=0,T5(a=this.style),fe(a.rich,T5),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},s.prototype.addSelfToZr=function(a){c.prototype.addSelfToZr.call(this,a);for(var u=0;u<this._children.length;u++)this._children[u].__zr=a},s.prototype.removeSelfFromZr=function(a){c.prototype.removeSelfFromZr.call(this,a);for(var u=0;u<this._children.length;u++)this._children[u].__zr=null},s.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new qn(0,0,0,0),u=this._children,d=[],p=null,g=0;g<u.length;g++){var v=u[g],y=v.getBoundingRect(),x=v.getLocalTransform(d);x?(a.copy(y),a.applyTransform(x),(p=p||a.clone()).union(a)):(p=p||y.clone()).union(y)}this._rect=p||a}return this._rect},s.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||pI},s.prototype.setTextContent=function(a){throw new Error("Can't attach text on another text")},s.prototype._mergeStyle=function(a,u){if(!u)return a;var d=u.rich,p=a.rich||d&&{};return it(a,u),d&&p?(this._mergeRich(p,d),a.rich=p):p&&(a.rich=p),a},s.prototype._mergeRich=function(a,u){for(var d=Gt(u),p=0;p<d.length;p++){var g=d[p];a[g]=a[g]||{},it(a[g],u[g])}},s.prototype.getAnimationStyleProps=function(){return Sce},s.prototype._getOrCreateChild=function(a){var u=this._children[this._childCursor];return u&&u instanceof a||(u=new a),this._children[this._childCursor++]=u,u.__zr=this.__zr,u.parent=this,u},s.prototype._updatePlainTexts=function(){var a=this.style,u=a.font||Co,d=a.padding,p=function(be,we){null!=be&&(be+="");var Te,Me=we.overflow,Ae=we.padding,Ie=we.font,Ue="truncate"===Me,qe=Jd(Ie),ft=xi(we.lineHeight,qe),$e="truncate"===we.lineOverflow,ot=we.width,bt=(Te=null!=ot&&"break"===Me||"breakAll"===Me?be?XT(be,we.font,ot,"breakAll"===Me,0).lines:[]:be?be.split("\n"):[]).length*ft,gt=xi(we.height,bt);if(bt>gt&&$e){var vt=Math.floor(gt/ft);Te=Te.slice(0,vt)}var kt=gt,Rt=ot;if(Ae&&(kt+=Ae[0]+Ae[2],null!=Rt&&(Rt+=Ae[1]+Ae[3])),be&&Ue&&null!=Rt)for(var dn=nI(ot,Ie,we.ellipsis,{minChar:we.truncateMinChar,placeholder:we.placeholder}),ln=0;ln<Te.length;ln++)Te[ln]=iI(Te[ln],dn);if(null==ot){var mn=0;for(ln=0;ln<Te.length;ln++)mn=Math.max(Ra(Te[ln],Ie),mn);ot=mn}return{lines:Te,height:gt,outerHeight:kt,lineHeight:ft,calculatedLineHeight:qe,contentHeight:bt,width:ot}}(gI(a),a),g=tM(a),v=!!a.backgroundColor,y=p.outerHeight,x=p.lines,C=p.lineHeight,w=this._defaultStyle,D=a.x||0,P=a.y||0,z=a.align||w.align||"left",k=a.verticalAlign||w.verticalAlign||"top",E=D,F=ji(P,p.contentHeight,k);if(g||d){var B=p.width;d&&(B+=d[1]+d[3]);var H=f1(D,B,z),Y=ji(P,y,k);g&&this._renderBackground(a,a,H,Y,B,y)}F+=C/2,d&&(E=eM(D,z,d),"top"===k?F+=d[0]:"bottom"===k&&(F-=d[2]));for(var U=0,j=!1,q=(G$("fill"in a?a.fill:(j=!0,w.fill))),Q=(u0("stroke"in a?a.stroke:v||w.autoStroke&&!j?null:(U=2,w.stroke))),re=a.textShadowBlur>0,oe=null!=a.width&&("truncate"===a.overflow||"break"===a.overflow||"breakAll"===a.overflow),ae=p.calculatedLineHeight,he=0;he<x.length;he++){var me=this._getOrCreateChild(B2),_e=me.createStyle();me.useStyle(_e),_e.text=x[he],_e.x=E,_e.y=F,z&&(_e.textAlign=z),_e.textBaseline="middle",_e.opacity=a.opacity,_e.strokeFirst=!0,re&&(_e.shadowBlur=a.textShadowBlur||0,_e.shadowColor=a.textShadowColor||"transparent",_e.shadowOffsetX=a.textShadowOffsetX||0,_e.shadowOffsetY=a.textShadowOffsetY||0),Q&&(_e.stroke=Q,_e.lineWidth=a.lineWidth||U,_e.lineDash=a.lineDash,_e.lineDashOffset=a.lineDashOffset||0),q&&(_e.fill=q),_e.font=u,F+=C,oe&&me.setBoundingRect(new qn(f1(_e.x,a.width,_e.textAlign),ji(_e.y,ae,_e.textBaseline),a.width,ae))}},s.prototype._updateRichTexts=function(){var a=this.style,u=function(_e,be){var we=new WT;if(null!=_e&&(_e+=""),!_e)return we;for(var Te,Me=be.width,Ae=be.height,Ie=be.overflow,Ue="break"!==Ie&&"breakAll"!==Ie||null==Me?null:{width:Me,accumWidth:0,breakAll:"breakAll"===Ie},qe=VT.lastIndex=0;null!=(Te=VT.exec(_e));){var ft=Te.index;ft>qe&&jT(we,_e.substring(qe,ft),be,Ue),jT(we,Te[2],be,Ue,Te[1]),qe=VT.lastIndex}qe<_e.length&&jT(we,_e.substring(qe,_e.length),be,Ue);var $e=[],ot=0,bt=0,gt=be.padding,vt="truncate"===Ie,kt="truncate"===be.lineOverflow;function Rt(ta,co,Xl){ta.width=co,ta.lineHeight=Xl,ot+=Xl,bt=Math.max(bt,co)}e:for(var dn=0;dn<we.lines.length;dn++){for(var ln=we.lines[dn],mn=0,Xr=0,To=0;To<ln.tokens.length;To++){var Ii=(On=ln.tokens[To]).styleName&&be.rich[On.styleName]||{},zi=On.textPadding=Ii.padding,lo=zi?zi[1]+zi[3]:0,Br=On.font=Ii.font||be.font;On.contentHeight=Jd(Br);var $l=xi(Ii.height,On.contentHeight);if(On.innerHeight=$l,zi&&($l+=zi[0]+zi[2]),On.height=$l,On.lineHeight=sc(Ii.lineHeight,be.lineHeight,$l),On.align=Ii&&Ii.align||be.align,On.verticalAlign=Ii&&Ii.verticalAlign||"middle",kt&&null!=Ae&&ot+On.lineHeight>Ae){To>0?(ln.tokens=ln.tokens.slice(0,To),Rt(ln,Xr,mn),we.lines=we.lines.slice(0,dn+1)):we.lines=we.lines.slice(0,dn);break e}var gl=Ii.width,Or=null==gl||"auto"===gl;if("string"==typeof gl&&"%"===gl.charAt(gl.length-1))On.percentWidth=gl,$e.push(On),On.contentWidth=Ra(On.text,Br);else{if(Or){var _i=Ii.backgroundColor,Tr=_i&&_i.image;Tr&&mh(Tr=Np(Tr))&&(On.width=Math.max(On.width,Tr.width*$l/Tr.height))}var ai=vt&&null!=Me?Me-Xr:null;null!=ai&&ai<On.width?!Or||ai<lo?(On.text="",On.width=On.contentWidth=0):(On.text=HT(On.text,ai-lo,Br,be.ellipsis,{minChar:be.truncateMinChar}),On.width=On.contentWidth=Ra(On.text,Br)):On.contentWidth=Ra(On.text,Br)}On.width+=lo,Xr+=On.width,Ii&&(mn=Math.max(mn,On.lineHeight))}Rt(ln,Xr,mn)}for(we.outerWidth=we.width=xi(Me,bt),we.outerHeight=we.height=xi(Ae,ot),we.contentHeight=ot,we.contentWidth=bt,gt&&(we.outerWidth+=gt[1]+gt[3],we.outerHeight+=gt[0]+gt[2]),dn=0;dn<$e.length;dn++){var On,ga=(On=$e[dn]).percentWidth;On.width=parseInt(ga,10)/100*we.width}return we}(gI(a),a),d=u.width,p=u.outerWidth,g=u.outerHeight,v=a.padding,x=a.y||0,C=this._defaultStyle,D=a.verticalAlign||C.verticalAlign,P=f1(a.x||0,p,a.align||C.align),z=ji(x,g,D),k=P,E=z;v&&(k+=v[3],E+=v[0]);var F=k+d;tM(a)&&this._renderBackground(a,a,P,z,p,g);for(var B=!!a.backgroundColor,H=0;H<u.lines.length;H++){for(var Y=u.lines[H],U=Y.tokens,j=U.length,q=Y.lineHeight,Q=Y.width,re=0,oe=k,ae=F,he=j-1,me=void 0;re<j&&(!(me=U[re]).align||"left"===me.align);)this._placeToken(me,a,q,E,oe,"left",B),Q-=me.width,oe+=me.width,re++;for(;he>=0&&"right"===(me=U[he]).align;)this._placeToken(me,a,q,E,ae,"right",B),Q-=me.width,ae-=me.width,he--;for(oe+=(d-(oe-k)-(F-ae)-Q)/2;re<=he;)this._placeToken(me=U[re],a,q,E,oe+me.width/2,"center",B),oe+=me.width,re++;E+=q}},s.prototype._placeToken=function(a,u,d,p,g,v,y){var x=u.rich[a.styleName]||{};x.text=a.text;var C=a.verticalAlign,w=p+d/2;"top"===C?w=p+a.height/2:"bottom"===C&&(w=p+d-a.height/2),!a.isLineHolder&&tM(x)&&this._renderBackground(x,u,"right"===v?g-a.width:"center"===v?g-a.width/2:g,w-a.height/2,a.width,a.height);var D=!!x.backgroundColor,P=a.textPadding;P&&(g=eM(g,v,P),w-=a.height/2-P[0]-a.innerHeight/2);var z=this._getOrCreateChild(B2),k=z.createStyle();z.useStyle(k);var E=this._defaultStyle,F=!1,B=0,H=G$("fill"in x?x.fill:"fill"in u?u.fill:(F=!0,E.fill)),Y=u0("stroke"in x?x.stroke:"stroke"in u?u.stroke:D||y||E.autoStroke&&!F?null:(B=2,E.stroke)),U=x.textShadowBlur>0||u.textShadowBlur>0;k.text=a.text,k.x=g,k.y=w,U&&(k.shadowBlur=x.textShadowBlur||u.textShadowBlur||0,k.shadowColor=x.textShadowColor||u.textShadowColor||"transparent",k.shadowOffsetX=x.textShadowOffsetX||u.textShadowOffsetX||0,k.shadowOffsetY=x.textShadowOffsetY||u.textShadowOffsetY||0),k.textAlign=v,k.textBaseline="middle",k.font=a.font||Co,k.opacity=sc(x.opacity,u.opacity,1),Y&&(k.lineWidth=sc(x.lineWidth,u.lineWidth,B),k.lineDash=xi(x.lineDash,u.lineDash),k.lineDashOffset=u.lineDashOffset||0,k.stroke=Y),H&&(k.fill=H);var j=a.contentWidth,q=a.contentHeight;z.setBoundingRect(new qn(f1(k.x,j,k.textAlign),ji(k.y,q,k.textBaseline),j,q))},s.prototype._renderBackground=function(a,u,d,p,g,v){var y,x,C,w=a.backgroundColor,D=a.borderWidth,P=a.borderColor,z=w&&w.image,k=w&&!z,E=a.borderRadius,F=this;if(k||a.lineHeight||D&&P){(y=this._getOrCreateChild(gi)).useStyle(y.createStyle()),y.style.fill=null;var B=y.shape;B.x=d,B.y=p,B.width=g,B.height=v,B.r=E,y.dirtyShape()}if(k)(C=y.style).fill=w||null,C.fillOpacity=xi(a.fillOpacity,1);else if(z){(x=this._getOrCreateChild(Qo)).onload=function(){F.dirtyStyle()};var H=x.style;H.image=w.image,H.x=d,H.y=p,H.width=g,H.height=v}D&&P&&((C=y.style).lineWidth=D,C.stroke=P,C.strokeOpacity=xi(a.strokeOpacity,1),C.lineDash=a.borderDash,C.lineDashOffset=a.borderDashOffset||0,y.strokeContainThreshold=0,y.hasFill()&&y.hasStroke()&&(C.strokeFirst=!0,C.lineWidth*=2));var Y=(y||x).style;Y.shadowBlur=a.shadowBlur||0,Y.shadowColor=a.shadowColor||"transparent",Y.shadowOffsetX=a.shadowOffsetX||0,Y.shadowOffsetY=a.shadowOffsetY||0,Y.opacity=sc(a.opacity,u.opacity,1)},s.makeFont=function(a){var u="";if(a.fontSize||a.fontFamily||a.fontWeight){var d="";d="string"!=typeof a.fontSize||-1===a.fontSize.indexOf("px")&&-1===a.fontSize.indexOf("rem")&&-1===a.fontSize.indexOf("em")?isNaN(+a.fontSize)?"12px":a.fontSize+"px":a.fontSize,u=[a.fontStyle,a.fontWeight,d,a.fontFamily||"sans-serif"].join(" ")}return u&&ih(u)||a.textFont||a.font},s}(id),Tce={left:!0,right:1,center:1},wu={top:1,bottom:1,middle:1};function T5(c){if(c){c.font=Ni.makeFont(c);var s=c.align;"middle"===s&&(s="center"),c.align=null==s||Tce[s]?s:"left";var a=c.verticalAlign;"center"===a&&(a="middle"),c.verticalAlign=null==a||wu[a]?a:"top",c.padding&&(c.padding=g2(c.padding))}}function u0(c,s){return null==c||s<=0||"transparent"===c||"none"===c?null:c.image||c.colorStops?"#000":c}function G$(c){return null==c||"none"===c?null:c.image||c.colorStops?"#000":c}function eM(c,s,a){return"right"===s?c-a[1]:"center"===s?c+a[3]/2-a[1]/2:c+a[3]}function gI(c){var s=c.text;return null!=s&&(s+=""),s}function tM(c){return!!(c.backgroundColor||c.lineHeight||c.borderWidth&&c.borderColor)}var Pn=Zi(),nM=function(c,s,a,u){if(u){var d=Pn(u);d.dataIndex=a,d.dataType=s,d.seriesIndex=c,"group"===u.type&&u.traverse(function(p){var g=Pn(p);g.seriesIndex=c,g.dataIndex=a,g.dataType=s})}},mI=1,vI={},M5=Zi(),Fs=["emphasis","blur","select"],gf=["normal","emphasis","blur","select"],D1="highlight",mf="downplay",B3="select",V3="unselect",Yp="toggleSelect";function Up(c){return null!=c&&"none"!==c}var iM=new s1(100);function _I(c){if("string"!=typeof c)return c;var s=iM.get(c);return s||(s=C2(c,-.1),iM.put(c,s)),s}function D5(c,s,a){c.onHoverStateChange&&(c.hoverState||0)!==a&&c.onHoverStateChange(s),c.hoverState=a}function h0(c){D5(c,"emphasis",2)}function V2(c){2===c.hoverState&&D5(c,"normal",0)}function rM(c){D5(c,"blur",1)}function W$(c){1===c.hoverState&&D5(c,"normal",0)}function yI(c){c.selected=!0}function j$(c){c.selected=!1}function $$(c,s,a){s(c,a)}function Gp(c,s,a){$$(c,s,a),c.isGroup&&c.traverse(function(u){$$(u,s,a)})}function P5(c,s){switch(s){case"emphasis":c.hoverState=2;break;case"normal":c.hoverState=0;break;case"blur":c.hoverState=1;break;case"select":c.selected=!0}}function oM(c,s){var d,p,g,v,y,x,a=this.states[c];if(this.style){if("emphasis"===c)return function(u,d,p,g){var v=p&&Gn(p,"select")>=0,y=!1;if(u instanceof pi){var x=M5(u),C=v&&x.selectFill||x.normalFill,w=v&&x.selectStroke||x.normalStroke;if(Up(C)||Up(w)){var D=(g=g||{}).style||{};"inherit"===D.fill?(y=!0,g=it({},g),(D=it({},D)).fill=C):!Up(D.fill)&&Up(C)?(y=!0,g=it({},g),(D=it({},D)).fill=_I(C)):!Up(D.stroke)&&Up(w)&&(y||(g=it({},g),D=it({},D)),D.stroke=_I(w)),g.style=D}}return g&&null==g.z2&&(y||(g=it({},g)),g.z2=u.z2+(u.z2EmphasisLift??10)),g}(this,0,s,a);if("blur"===c)return p=a,g=Gn(this.currentStates,d=c)>=0,v=this.style.opacity,y=g?null:function(C,w,D,P){for(var z=C.style,k={},E=0;E<w.length;E++){var F=w[E];k[F]=z[F]??(P&&P[F])}for(E=0;E<C.animators.length;E++){var H=C.animators[E];H.__fromStateTransition&&H.__fromStateTransition.indexOf(D)<0&&"style"===H.targetName&&H.saveFinalToTarget(k,w)}return k}(this,["opacity"],d,{opacity:1}),null==(x=(p=p||{}).style||{}).opacity&&(p=it({},p),x=it({opacity:g?v:.1*y.opacity},x),p.style=x),p;if("select"===c)return function(u,d,p){return p&&null==p.z2&&((p=it({},p)).z2=u.z2+(u.z2SelectLift??9)),p}(this,0,a)}return a}function vf(c){c.stateProxy=oM;var s=c.getTextContent(),a=c.getTextGuideLine();s&&(s.stateProxy=oM),a&&(a.stateProxy=oM)}function aM(c,s){!A5(c,s)&&!c.__highByOuter&&Gp(c,h0)}function xI(c,s){!A5(c,s)&&!c.__highByOuter&&Gp(c,V2)}function ad(c,s){c.__highByOuter|=1<<(s||0),Gp(c,h0)}function Wp(c,s){!(c.__highByOuter&=~(1<<(s||0)))&&Gp(c,V2)}function sM(c){Gp(c,rM)}function X$(c){Gp(c,W$)}function bI(c){Gp(c,yI)}function CI(c){Gp(c,j$)}function A5(c,s){return c.__highDownSilentOnTouch&&s.zrByTouch}function q$(c){c.getModel().eachComponent(function(s,a){("series"===s?c.getViewOfSeriesModel(a):c.getViewOfComponentModel(a)).group.traverse(function(u){W$(u)})})}function wI(c,s,a,u){var d=u.getModel();function p(x,C){for(var w=0;w<C.length;w++){var D=x.getItemGraphicEl(C[w]);D&&X$(D)}}if(a=a||"coordinateSystem",null!=c&&s&&"none"!==s){var g=d.getSeriesByIndex(c),v=g.coordinateSystem;v&&v.master&&(v=v.master);var y=[];d.eachSeries(function(x){var C=g===x,w=x.coordinateSystem;if(w&&w.master&&(w=w.master),!("series"===a&&!C||"coordinateSystem"===a&&!(w&&v?w===v:C)||"series"===s&&C)){if(u.getViewOfSeriesModel(x).group.traverse(function(z){rM(z)}),Dn(s))p(x.getData(),s);else if(rn(s))for(var D=Gt(s),P=0;P<D.length;P++)p(x.getData(D[P]),s[D[P]]);y.push(x)}}),d.eachComponent(function(x,C){if("series"!==x){var w=u.getViewOfComponentModel(C);w&&w.blurSeries&&w.blurSeries(y,d)}})}}function H3(c,s,a){if(null!=c&&null!=s){var u=a.getModel().getComponent(c,s);if(u){var d=a.getViewOfComponentModel(u);d&&d.focusBlurEnabled&&d.group.traverse(function(p){rM(p)})}}}function SI(c,s,a,u){var d={focusSelf:!1,dispatchers:null};if(null==c||"series"===c||null==s||null==a)return d;var p=u.getModel().getComponent(c,s);if(!p)return d;var g=u.getViewOfComponentModel(p);if(!g||!g.findHighDownDispatchers)return d;for(var v,y=g.findHighDownDispatchers(a),x=0;x<y.length;x++)if("self"===Pn(y[x]).focus){v=!0;break}return{focusSelf:v,dispatchers:y}}function Z$(c){fe(c.getAllData(),function(s){var u=s.type;s.data.eachItemGraphicEl(function(d,p){c.isSelected(p,u)?bI(d):CI(d)})})}function Mce(c){var s=[];return c.eachSeries(function(a){fe(a.getAllData(),function(u){var d=u.type,p=a.getSelectedDataIndices();if(p.length>0){var g={dataIndex:p,seriesIndex:a.seriesIndex};null!=d&&(g.dataType=d),s.push(g)}})}),s}function eo(c,s,a){d0(c,!0),Gp(c,vf),TI(c,s,a)}function TI(c,s,a){var u=Pn(c);null!=s?(u.focus=s,u.blurScope=a):u.focus&&(u.focus=null)}var MI=["emphasis","blur","select"],DI={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ys(c,s,a,u){a=a||"itemStyle";for(var d=0;d<MI.length;d++){var p=MI[d],g=s.getModel([p,a]);c.ensureState(p).style=u?u(g):g[DI[a]]()}}function d0(c,s){var a=!1===s,u=c;c.highDownSilentOnTouch&&(u.__highDownSilentOnTouch=c.highDownSilentOnTouch),a&&!u.__highDownDispatcher||(u.__highByOuter=u.__highByOuter||0,u.__highDownDispatcher=!a)}function Y3(c){return!(!c||!c.__highDownDispatcher)}function z5(c){var s=c.type;return s===B3||s===V3||s===Yp}function Nl(c){var s=c.type;return s===D1||s===mf}var H2=Nr.CMD,K$=[[],[],[]],PI=Math.sqrt,AI=Math.atan2;function k5(c,s){if(s){var a,u,d,p,g,v,y=c.data,x=c.len(),C=H2.M,w=H2.C,D=H2.L,P=H2.R,z=H2.A,k=H2.Q;for(d=0,p=0;d<x;){switch(a=y[d++],p=d,u=0,a){case C:case D:u=1;break;case w:u=3;break;case k:u=2;break;case z:var E=s[4],F=s[5],B=PI(s[0]*s[0]+s[1]*s[1]),H=PI(s[2]*s[2]+s[3]*s[3]),Y=AI(-s[1]/H,s[0]/B);y[d]*=B,y[d++]+=E,y[d]*=H,y[d++]+=F,y[d++]*=B,y[d++]*=H,y[d++]+=Y,y[d++]+=Y,p=d+=2;break;case P:v[0]=y[d++],v[1]=y[d++],cr(v,v,s),y[p++]=v[0],y[p++]=v[1],v[0]+=y[d++],v[1]+=y[d++],cr(v,v,s),y[p++]=v[0],y[p++]=v[1]}for(g=0;g<u;g++){var U=K$[g];U[0]=y[d++],U[1]=y[d++],cr(U,U,s),y[p++]=U[0],y[p++]=U[1]}}c.increaseVersion()}}var lM=Math.sqrt,O5=Math.sin,E5=Math.cos,Y2=Math.PI;function zI(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function cM(c,s){return(c[0]*s[0]+c[1]*s[1])/(zI(c)*zI(s))}function xc(c,s){return(c[0]*s[1]<c[1]*s[0]?-1:1)*Math.acos(cM(c,s))}function I5(c,s,a,u,d,p,g,v,y,x,C){var w=y*(Y2/180),D=E5(w)*(c-a)/2+O5(w)*(s-u)/2,P=-1*O5(w)*(c-a)/2+E5(w)*(s-u)/2,z=D*D/(g*g)+P*P/(v*v);z>1&&(g*=lM(z),v*=lM(z));var k=(d===p?-1:1)*lM((g*g*(v*v)-g*g*(P*P)-v*v*(D*D))/(g*g*(P*P)+v*v*(D*D)))||0,E=k*g*P/v,F=k*-v*D/g,B=(c+a)/2+E5(w)*E-O5(w)*F,H=(s+u)/2+O5(w)*E+E5(w)*F,Y=xc([1,0],[(D-E)/g,(P-F)/v]),U=[(D-E)/g,(P-F)/v],j=[(-1*D-E)/g,(-1*P-F)/v],q=xc(U,j);if(cM(U,j)<=-1&&(q=Y2),cM(U,j)>=1&&(q=0),q<0){var Q=Math.round(q/Y2*1e6)/1e6;q=2*Y2+Q%2*Y2}C.addData(x,B,H,g,v,Y,q,w,p)}var kI=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,uM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,ul=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.applyTransform=function(a){},s}(pi);function U2(c){return null!=c.setData}function hM(c,s){var a=function(d){var p=new Nr;if(!d)return p;var g,v=0,y=0,x=v,C=y,w=Nr.CMD,D=d.match(kI);if(!D)return p;for(var P=0;P<D.length;P++){for(var z=D[P],k=z.charAt(0),E=void 0,F=z.match(uM)||[],B=F.length,H=0;H<B;H++)F[H]=parseFloat(F[H]);for(var Y=0;Y<B;){var U=void 0,j=void 0,q=void 0,Q=void 0,re=void 0,oe=void 0,ae=void 0,he=v,me=y,_e=void 0,be=void 0;switch(k){case"l":v+=F[Y++],y+=F[Y++],p.addData(E=w.L,v,y);break;case"L":v=F[Y++],y=F[Y++],p.addData(E=w.L,v,y);break;case"m":v+=F[Y++],y+=F[Y++],p.addData(E=w.M,v,y),x=v,C=y,k="l";break;case"M":v=F[Y++],y=F[Y++],p.addData(E=w.M,v,y),x=v,C=y,k="L";break;case"h":v+=F[Y++],p.addData(E=w.L,v,y);break;case"H":v=F[Y++],p.addData(E=w.L,v,y);break;case"v":y+=F[Y++],p.addData(E=w.L,v,y);break;case"V":y=F[Y++],p.addData(E=w.L,v,y);break;case"C":p.addData(E=w.C,F[Y++],F[Y++],F[Y++],F[Y++],F[Y++],F[Y++]),v=F[Y-2],y=F[Y-1];break;case"c":p.addData(E=w.C,F[Y++]+v,F[Y++]+y,F[Y++]+v,F[Y++]+y,F[Y++]+v,F[Y++]+y),v+=F[Y-2],y+=F[Y-1];break;case"S":U=v,j=y,_e=p.len(),be=p.data,g===w.C&&(U+=v-be[_e-4],j+=y-be[_e-3]),he=F[Y++],me=F[Y++],v=F[Y++],y=F[Y++],p.addData(E=w.C,U,j,he,me,v,y);break;case"s":U=v,j=y,_e=p.len(),be=p.data,g===w.C&&(U+=v-be[_e-4],j+=y-be[_e-3]),he=v+F[Y++],me=y+F[Y++],v+=F[Y++],y+=F[Y++],p.addData(E=w.C,U,j,he,me,v,y);break;case"Q":he=F[Y++],me=F[Y++],v=F[Y++],y=F[Y++],p.addData(E=w.Q,he,me,v,y);break;case"q":he=F[Y++]+v,me=F[Y++]+y,v+=F[Y++],y+=F[Y++],p.addData(E=w.Q,he,me,v,y);break;case"T":U=v,j=y,_e=p.len(),be=p.data,g===w.Q&&(U+=v-be[_e-4],j+=y-be[_e-3]),v=F[Y++],y=F[Y++],p.addData(E=w.Q,U,j,v,y);break;case"t":U=v,j=y,_e=p.len(),be=p.data,g===w.Q&&(U+=v-be[_e-4],j+=y-be[_e-3]),v+=F[Y++],y+=F[Y++],p.addData(E=w.Q,U,j,v,y);break;case"A":q=F[Y++],Q=F[Y++],re=F[Y++],oe=F[Y++],ae=F[Y++],I5(he=v,me=y,v=F[Y++],y=F[Y++],oe,ae,q,Q,re,E=w.A,p);break;case"a":q=F[Y++],Q=F[Y++],re=F[Y++],oe=F[Y++],ae=F[Y++],I5(he=v,me=y,v+=F[Y++],y+=F[Y++],oe,ae,q,Q,re,E=w.A,p)}}"z"!==k&&"Z"!==k||(p.addData(E=w.Z),v=x,y=C),g=E}return p.toStatic(),p}(c),u=it({},s);return u.buildPath=function(d){if(U2(d))d.setData(a.data),(p=d.getContext())&&d.rebuildPath(p,1);else{var p=d;a.rebuildPath(p,1)}},u.applyTransform=function(d){k5(a,d),this.dirtyShape()},u}function dM(c,s){return new ul(hM(c,s))}function fM(c,s){s=s||{};var a=new pi;return c.shape&&a.setShape(c.shape),a.setStyle(c.style),s.bakeTransform?k5(a.path,c.getComputedTransform()):s.toLocal?a.setLocalTransform(c.getComputedTransform()):a.copyTransform(c),a.buildPath=c.buildPath,a.applyTransform=a.applyTransform,a.z=c.z,a.z2=c.z2,a.zlevel=c.zlevel,a}var OI=function(){this.cx=0,this.cy=0,this.r=0},bh=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new OI},s.prototype.buildPath=function(a,u,d){d&&a.moveTo(u.cx+u.r,u.cy),a.arc(u.cx,u.cy,u.r,0,2*Math.PI)},s}(pi);bh.prototype.type="circle";var EI=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},U3=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new EI},s.prototype.buildPath=function(a,u){var d=.5522848,p=u.cx,g=u.cy,v=u.rx,y=u.ry,x=v*d,C=y*d;a.moveTo(p-v,g),a.bezierCurveTo(p-v,g-C,p-x,g-y,p,g-y),a.bezierCurveTo(p+x,g-y,p+v,g-C,p+v,g),a.bezierCurveTo(p+v,g+C,p+x,g+y,p,g+y),a.bezierCurveTo(p-x,g+y,p-v,g+C,p-v,g),a.closePath()},s}(pi);U3.prototype.type="ellipse";var pM=Math.PI,Q$=2*pM,f0=Math.sin,P1=Math.cos,gM=Math.acos,Fl=Math.atan2,G2=Math.abs,G3=Math.sqrt,mM=Math.max,W2=Math.min,Su=1e-4;function W3(c,s,a,u,d,p,g){var v=c-a,y=s-u,x=(g?p:-p)/G3(v*v+y*y),C=x*y,w=-x*v,D=c+C,P=s+w,z=a+C,k=u+w,E=(D+z)/2,F=(P+k)/2,B=z-D,H=k-P,Y=B*B+H*H,U=d-p,j=D*k-z*P,q=(H<0?-1:1)*G3(mM(0,U*U*Y-j*j)),Q=(j*H-B*q)/Y,re=(-j*B-H*q)/Y,oe=(j*H+B*q)/Y,ae=(-j*B+H*q)/Y,he=Q-E,me=re-F,_e=oe-E,be=ae-F;return he*he+me*me>_e*_e+be*be&&(Q=oe,re=ae),{cx:Q,cy:re,x01:-C,y01:-w,x11:Q*(d/U-1),y11:re*(d/U-1)}}var vM=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},hl=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new vM},s.prototype.buildPath=function(a,u){!function j2(c,s){var a=mM(s.r,0),u=mM(s.r0||0,0),d=a>0;if(d||u>0){if(d||(a=u,u=0),u>a){var p=a;a=u,u=p}var g,v=!!s.clockwise,y=s.startAngle,x=s.endAngle;if(y===x)g=0;else{var C=[y,x];uI(C,!v),g=G2(C[0]-C[1])}var w=s.cx,D=s.cy,P=s.cornerRadius||0,z=s.innerCornerRadius||0;if(a>Su)if(g>Q$-Su)c.moveTo(w+a*P1(y),D+a*f0(y)),c.arc(w,D,a,y,x,!v),u>Su&&(c.moveTo(w+u*P1(x),D+u*f0(x)),c.arc(w,D,u,x,y,v));else{var k=G2(a-u)/2,E=W2(k,P),F=W2(k,z),B=F,H=E,Y=a*P1(y),U=a*f0(y),j=u*P1(x),q=u*f0(x),Q=void 0,re=void 0,oe=void 0,ae=void 0;if((E>Su||F>Su)&&(Q=a*P1(x),re=a*f0(x),oe=u*P1(y),ae=u*f0(y),g<pM)){var he=function(Ue,qe,ft,$e,ot,bt,gt,vt){var kt=ft-Ue,Rt=$e-qe,dn=gt-ot,ln=vt-bt,mn=ln*kt-dn*Rt;if(!(mn*mn<Su))return[Ue+(mn=(dn*(qe-bt)-ln*(Ue-ot))/mn)*kt,qe+mn*Rt]}(Y,U,oe,ae,Q,re,j,q);if(he){var me=Y-he[0],_e=U-he[1],be=Q-he[0],we=re-he[1],Te=1/f0(gM((me*be+_e*we)/(G3(me*me+_e*_e)*G3(be*be+we*we)))/2),Me=G3(he[0]*he[0]+he[1]*he[1]);B=W2(F,(u-Me)/(Te-1)),H=W2(E,(a-Me)/(Te+1))}}if(g>Su)if(H>Su){var Ae=W3(oe,ae,Y,U,a,H,v),Ie=W3(Q,re,j,q,a,H,v);c.moveTo(w+Ae.cx+Ae.x01,D+Ae.cy+Ae.y01),H<E?c.arc(w+Ae.cx,D+Ae.cy,H,Fl(Ae.y01,Ae.x01),Fl(Ie.y01,Ie.x01),!v):(c.arc(w+Ae.cx,D+Ae.cy,H,Fl(Ae.y01,Ae.x01),Fl(Ae.y11,Ae.x11),!v),c.arc(w,D,a,Fl(Ae.cy+Ae.y11,Ae.cx+Ae.x11),Fl(Ie.cy+Ie.y11,Ie.cx+Ie.x11),!v),c.arc(w+Ie.cx,D+Ie.cy,H,Fl(Ie.y11,Ie.x11),Fl(Ie.y01,Ie.x01),!v))}else c.moveTo(w+Y,D+U),c.arc(w,D,a,y,x,!v);else c.moveTo(w+Y,D+U);u>Su&&g>Su?B>Su?(Ae=W3(j,q,Q,re,u,-B,v),Ie=W3(Y,U,oe,ae,u,-B,v),c.lineTo(w+Ae.cx+Ae.x01,D+Ae.cy+Ae.y01),B<F?c.arc(w+Ae.cx,D+Ae.cy,B,Fl(Ae.y01,Ae.x01),Fl(Ie.y01,Ie.x01),!v):(c.arc(w+Ae.cx,D+Ae.cy,B,Fl(Ae.y01,Ae.x01),Fl(Ae.y11,Ae.x11),!v),c.arc(w,D,u,Fl(Ae.cy+Ae.y11,Ae.cx+Ae.x11),Fl(Ie.cy+Ie.y11,Ie.cx+Ie.x11),v),c.arc(w+Ie.cx,D+Ie.cy,B,Fl(Ie.y11,Ie.x11),Fl(Ie.y01,Ie.x01),!v))):(c.lineTo(w+j,D+q),c.arc(w,D,u,x,y,v)):c.lineTo(w+j,D+q)}else c.moveTo(w,D);c.closePath()}}(a,u)},s.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},s}(pi);hl.prototype.type="sector";var J$=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},A1=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new J$},s.prototype.buildPath=function(a,u){var d=u.cx,p=u.cy,g=2*Math.PI;a.moveTo(d+u.r,p),a.arc(d,p,u.r,0,g,!1),a.moveTo(d+u.r0,p),a.arc(d,p,u.r0,0,g,!0)},s}(pi);function II(c,s,a,u,d,p,g){var v=.5*(a-c),y=.5*(u-s);return(2*(s-a)+v+y)*g+(-3*(s-a)-2*v-y)*p+v*d+s}function LI(c,s,a){var u=s.smooth,d=s.points;if(d&&d.length>=2){if(u&&"spline"!==u){var p=function(D,P,z,k){var E,F,B,H,Y=[],U=[],j=[],q=[];if(k){B=[1/0,1/0],H=[-1/0,-1/0];for(var Q=0,re=D.length;Q<re;Q++)Ec(B,B,D[Q]),Jh(H,H,D[Q]);Ec(B,B,k[0]),Jh(H,H,k[1])}for(Q=0,re=D.length;Q<re;Q++){var oe=D[Q];if(z)E=D[Q?Q-1:re-1],F=D[(Q+1)%re];else{if(0===Q||Q===re-1){Y.push(cu(D[Q]));continue}E=D[Q-1],F=D[Q+1]}Fo(U,F,E),Wd(U,U,P);var ae=zl(oe,E),he=zl(oe,F),me=ae+he;0!==me&&(ae/=me,he/=me),Wd(j,U,-ae),Wd(q,U,he);var _e=uc([],oe,j),be=uc([],oe,q);k&&(Jh(_e,_e,B),Ec(_e,_e,H),Jh(be,be,B),Ec(be,be,H)),Y.push(_e),Y.push(be)}return z&&Y.push(Y.shift()),Y}(d,u,a,s.smoothConstraint);c.moveTo(d[0][0],d[0][1]);for(var g=d.length,v=0;v<(a?g:g-1);v++){var y=p[2*v],x=p[2*v+1],C=d[(v+1)%g];c.bezierCurveTo(y[0],y[1],x[0],x[1],C[0],C[1])}}else{"spline"===u&&(d=function(D,P){for(var z=D.length,k=[],E=0,F=1;F<z;F++)E+=zl(D[F-1],D[F]);var B=E/2;for(B=B<z?z:B,F=0;F<B;F++){var H=F/(B-1)*(P?z:z-1),Y=Math.floor(H),U=H-Y,j=void 0,q=D[Y%z],Q=void 0,re=void 0;P?(j=D[(Y-1+z)%z],Q=D[(Y+1)%z],re=D[(Y+2)%z]):(j=D[0===Y?Y:Y-1],Q=D[Y>z-2?z-1:Y+1],re=D[Y>z-3?z-1:Y+2]);var oe=U*U,ae=U*oe;k.push([II(j[0],q[0],Q[0],re[0],U,oe,ae),II(j[1],q[1],Q[1],re[1],U,oe,ae)])}return k}(d,a)),c.moveTo(d[0][0],d[0][1]),v=1;for(var w=d.length;v<w;v++)c.lineTo(d[v][0],d[v][1])}a&&c.closePath()}}A1.prototype.type="ring";var eX=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},dl=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new eX},s.prototype.buildPath=function(a,u){LI(a,u,!0)},s}(pi);dl.prototype.type="polygon";var tX=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},bc=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new tX},s.prototype.buildPath=function(a,u){LI(a,u,!1)},s}(pi);bc.prototype.type="polyline";var RI={},_M=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Fa=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new _M},s.prototype.buildPath=function(a,u){var d,p,g,v;if(this.subPixelOptimize){var y=dI(RI,u,this.style);d=y.x1,p=y.y1,g=y.x2,v=y.y2}else d=u.x1,p=u.y1,g=u.x2,v=u.y2;var x=u.percent;0!==x&&(a.moveTo(d,p),x<1&&(g=d*(1-x)+g*x,v=p*(1-x)+v*x),a.lineTo(g,v))},s.prototype.pointAt=function(a){var u=this.shape;return[u.x1*(1-a)+u.x2*a,u.y1*(1-a)+u.y2*a]},s}(pi);Fa.prototype.type="line";var Bl=[],nX=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function NI(c,s,a){return null===c.cpx2||null===c.cpy2?[(a?sI:Ho)(c.x1,c.cpx1,c.cpx2,c.x2,s),(a?sI:Ho)(c.y1,c.cpy1,c.cpy2,c.y2,s)]:[(a?ZT:cl)(c.x1,c.cpx1,c.x2,s),(a?ZT:cl)(c.y1,c.cpy1,c.y2,s)]}var p0=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new nX},s.prototype.buildPath=function(a,u){var d=u.x1,p=u.y1,g=u.x2,v=u.y2,y=u.cpx1,x=u.cpy1,C=u.cpx2,w=u.cpy2,D=u.percent;0!==D&&(a.moveTo(d,p),null==C||null==w?(D<1&&(y5(d,y,g,D,Bl),y=Bl[1],g=Bl[2],y5(p,x,v,D,Bl),x=Bl[1],v=Bl[2]),a.quadraticCurveTo(y,x,g,v)):(D<1&&(x1(d,y,C,g,D,Bl),y=Bl[1],C=Bl[2],g=Bl[3],x1(p,x,w,v,D,Bl),x=Bl[1],w=Bl[2],v=Bl[3]),a.bezierCurveTo(y,x,C,w,g,v)))},s.prototype.pointAt=function(a){return NI(this.shape,a,!1)},s.prototype.tangentAt=function(a){var u=NI(this.shape,a,!0);return Qh(u,u)},s}(pi);p0.prototype.type="bezier-curve";var FI=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},sd=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new FI},s.prototype.buildPath=function(a,u){var d=u.cx,p=u.cy,g=Math.max(u.r,0),v=u.startAngle,y=u.endAngle,x=u.clockwise,C=Math.cos(v),w=Math.sin(v);a.moveTo(C*g+d,w*g+p),a.arc(d,p,g,v,y,!x)},s}(pi);sd.prototype.type="arc";var L5=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="compound",a}return Ee(s,c),s.prototype._updatePathDirty=function(){for(var a=this.shape.paths,u=this.shapeChanged(),d=0;d<a.length;d++)u=u||a[d].shapeChanged();u&&this.dirtyShape()},s.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],u=this.getGlobalScale(),d=0;d<a.length;d++)a[d].path||a[d].createPathProxy(),a[d].path.setScale(u[0],u[1],a[d].segmentIgnoreThreshold)},s.prototype.buildPath=function(a,u){for(var d=u.paths||[],p=0;p<d.length;p++)d[p].buildPath(a,d[p].shape,!0)},s.prototype.afterBrush=function(){for(var a=this.shape.paths||[],u=0;u<a.length;u++)a[u].pathUpdated()},s.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),pi.prototype.getBoundingRect.call(this)},s}(pi),yM=function(){function c(s){this.colorStops=s||[]}return c.prototype.addColorStop=function(s,a){this.colorStops.push({offset:s,color:a})},c}(),$2=function(c){function s(a,u,d,p,g,v){var y=c.call(this,g)||this;return y.x=a??0,y.y=u??0,y.x2=d??1,y.y2=p??0,y.type="linear",y.global=v||!1,y}return Ee(s,c),s}(yM),BI=function(c){function s(a,u,d,p,g){var v=c.call(this,p)||this;return v.x=a??.5,v.y=u??.5,v.r=d??.5,v.type="radial",v.global=g||!1,v}return Ee(s,c),s}(yM),_f=[0,0],g0=[0,0],j3=new _n,$3=new _n,X3=function(){function c(s,a){this._corners=[],this._axes=[],this._origin=[0,0];for(var u=0;u<4;u++)this._corners[u]=new _n;for(u=0;u<2;u++)this._axes[u]=new _n;s&&this.fromBoundingRect(s,a)}return c.prototype.fromBoundingRect=function(s,a){var u=this._corners,d=this._axes,p=s.x,g=s.y,v=p+s.width,y=g+s.height;if(u[0].set(p,g),u[1].set(v,g),u[2].set(v,y),u[3].set(p,y),a)for(var x=0;x<4;x++)u[x].transform(a);for(_n.sub(d[0],u[1],u[0]),_n.sub(d[1],u[3],u[0]),d[0].normalize(),d[1].normalize(),x=0;x<2;x++)this._origin[x]=d[x].dot(u[0])},c.prototype.intersect=function(s,a){var u=!0,d=!a;return j3.set(1/0,1/0),$3.set(0,0),!this._intersectCheckOneSide(this,s,j3,$3,d,1)&&(u=!1,d)||!this._intersectCheckOneSide(s,this,j3,$3,d,-1)&&(u=!1,d)||d||_n.copy(a,u?j3:$3),u},c.prototype._intersectCheckOneSide=function(s,a,u,d,p,g){for(var v=!0,y=0;y<2;y++){var x=this._axes[y];if(this._getProjMinMaxOnAxis(y,s._corners,_f),this._getProjMinMaxOnAxis(y,a._corners,g0),_f[1]<g0[0]||_f[0]>g0[1]){if(v=!1,p)return v;var C=Math.abs(g0[0]-_f[1]),w=Math.abs(_f[0]-g0[1]);Math.min(C,w)>d.len()&&_n.scale(d,x,C<w?-C*g:w*g)}else u&&(C=Math.abs(g0[0]-_f[1]),w=Math.abs(_f[0]-g0[1]),Math.min(C,w)<u.len()&&_n.scale(u,x,C<w?C*g:-w*g))}return v},c.prototype._getProjMinMaxOnAxis=function(s,a,u){for(var d=this._axes[s],p=this._origin,g=a[0].dot(d)+p[s],v=g,y=g,x=1;x<a.length;x++){var C=a[x].dot(d)+p[s];v=Math.min(C,v),y=Math.max(C,y)}u[0]=v,u[1]=y},c}(),xM=[],X2=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.notClear=!0,a.incremental=!0,a._displayables=[],a._temporaryDisplayables=[],a._cursor=0,a}return Ee(s,c),s.prototype.traverse=function(a,u){a.call(u,this)},s.prototype.useStyle=function(){this.style={}},s.prototype.getCursor=function(){return this._cursor},s.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},s.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},s.prototype.addDisplayable=function(a,u){u?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},s.prototype.addDisplayables=function(a,u){u=u||!1;for(var d=0;d<a.length;d++)this.addDisplayable(a[d],u)},s.prototype.getDisplayables=function(){return this._displayables},s.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},s.prototype.eachPendingDisplayable=function(a){for(var u=this._cursor;u<this._displayables.length;u++)a&&a(this._displayables[u]);for(u=0;u<this._temporaryDisplayables.length;u++)a&&a(this._temporaryDisplayables[u])},s.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++)(u=this._displayables[a]).parent=this,u.update(),u.parent=null;for(a=0;a<this._temporaryDisplayables.length;a++){var u;(u=this._temporaryDisplayables[a]).parent=this,u.update(),u.parent=null}},s.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new qn(1/0,1/0,-1/0,-1/0),u=0;u<this._displayables.length;u++){var d=this._displayables[u],p=d.getBoundingRect().clone();d.needLocalTransform()&&p.applyTransform(d.getLocalTransform(xM)),a.union(p)}this._rect=a}return this._rect},s.prototype.contain=function(a,u){var d=this.transformCoordToLocal(a,u);if(this.getBoundingRect().contain(d[0],d[1]))for(var p=0;p<this._displayables.length;p++)if(this._displayables[p].contain(a,u))return!0;return!1},s}(id),q3=Zi();function m0(c,s,a,u,d){var p;if(s&&s.ecModel){var g=s.ecModel.getUpdatePayload();p=g&&g.animation}var v="update"===c;if(s&&s.isAnimationEnabled()){var y=void 0,x=void 0,C=void 0;return u?(y=xi(u.duration,200),x=xi(u.easing,"cubicOut"),C=0):(y=s.getShallow(v?"animationDurationUpdate":"animationDuration"),x=s.getShallow(v?"animationEasingUpdate":"animationEasing"),C=s.getShallow(v?"animationDelayUpdate":"animationDelay")),p&&(null!=p.duration&&(y=p.duration),null!=p.easing&&(x=p.easing),null!=p.delay&&(C=p.delay)),"function"==typeof C&&(C=C(a,d)),"function"==typeof y&&(y=y(a)),{duration:y||0,delay:C,easing:x}}return null}function R5(c,s,a,u,d,p,g){var v,y=!1;"function"==typeof d?(g=p,p=d,d=null):rn(d)&&(p=d.cb,g=d.during,y=d.isFrom,v=d.removeOpt,d=d.dataIndex);var x="remove"===c;x||s.stopAnimation("remove");var C=m0(c,u,d,x?v||{}:null,u&&u.getAnimationDelayParams?u.getAnimationDelayParams(s,d):null);if(C&&C.duration>0){var w={duration:C.duration,delay:C.delay||0,easing:C.easing,done:p,force:!!p||!!g,setToFinal:!x,scope:c,during:g};y?s.animateFrom(a,w):s.animateTo(a,w)}else s.stopAnimation(),!y&&s.attr(a),g&&g(1),p&&p()}function Ti(c,s,a,u,d,p){R5("update",c,s,a,u,d,p)}function to(c,s,a,u,d,p){R5("init",c,s,a,u,d,p)}function z1(c){if(!c.__zr)return!0;for(var s=0;s<c.animators.length;s++)if("remove"===c.animators[s].scope)return!0;return!1}function Ch(c,s,a,u,d,p){z1(c)||R5("remove",c,s,a,u,d,p)}function VI(c,s,a,u){c.removeTextContent(),c.removeTextGuideLine(),Ch(c,{style:{opacity:0}},s,a,u)}function q2(c,s,a){function u(){c.parent&&c.parent.remove(c)}c.isGroup?c.traverse(function(d){d.isGroup||VI(d,s,a,u)}):VI(c,s,a,u)}function ld(c){q3(c).oldStyle=c.style}var N5=Math.max,F5=Math.min,B5={};function bM(c){return pi.extend(c)}function H5(c,s){return function(c,s){var a=hM(c,s);return function(u){function d(p){var g=u.call(this,p)||this;return g.applyTransform=a.applyTransform,g.buildPath=a.buildPath,g}return Ee(d,u),d}(ul)}(c,s)}function Bs(c,s){B5[c]=s}function Y5(c){if(B5.hasOwnProperty(c))return B5[c]}function Z3(c,s,a,u){var d=dM(c,s);return a&&("center"===u&&(a=YI(a,d.getBoundingRect())),CM(d,a)),d}function HI(c,s,a){var u=new Qo({style:{image:c,x:s.x,y:s.y,width:s.width,height:s.height},onload:function(d){"center"===a&&u.setStyle(YI(s,{width:d.width,height:d.height}))}});return u}function YI(c,s){var a,u=s.width/s.height,d=c.height*u;return a=d<=c.width?c.height:(d=c.width)/u,{x:c.x+c.width/2-d/2,y:c.y+c.height/2-a/2,width:d,height:a}}var Cc=function(c,s){for(var a=[],u=c.length,d=0;d<u;d++)a.push(c[d].getUpdatedPathProxy(!0));var g=new pi(s);return g.createPathProxy(),g.buildPath=function(v){if(U2(v)){v.appendPath(a);var y=v.getContext();y&&v.rebuildPath(y,1)}},g};function CM(c,s){if(c.applyTransform){var a=c.getBoundingRect().calculateTransform(s);c.applyTransform(a)}}var K3=Cu;function cd(c,s){for(var a=ch([]);c&&c!==s;)ol(a,c.getLocalTransform(),a),c=c.parent;return a}function Tu(c,s,a){return s&&!Dn(s)&&(s=Lr.getLocalTransform(s)),a&&(s=pu([],s)),cr([],c,s)}function Q3(c,s,a){var u=0===s[4]||0===s[5]||0===s[0]?1:Math.abs(2*s[4]/s[0]),d=0===s[4]||0===s[5]||0===s[2]?1:Math.abs(2*s[4]/s[2]),p=["left"===c?-u:"right"===c?u:0,"top"===c?-d:"bottom"===c?d:0];return p=Tu(p,s,a),Math.abs(p[0])>Math.abs(p[1])?p[0]>0?"right":"left":p[1]>0?"bottom":"top"}function wM(c){return!c.isGroup}function Z2(c,s,a){if(c&&s){var u,d=(u={},c.traverse(function(g){wM(g)&&g.anid&&(u[g.anid]=g)}),u);s.traverse(function(g){if(wM(g)&&g.anid){var v=d[g.anid];if(v){var y=p(g);g.attr(p(v)),Ti(g,y,a,Pn(g).dataIndex)}}})}function p(g){var v={x:g.x,y:g.y,rotation:g.rotation};return null!=g.shape&&(v.shape=it({},g.shape)),v}}function jp(c,s){return tt(c,function(a){var u=a[0];u=N5(u,s.x),u=F5(u,s.x+s.width);var d=a[1];return d=N5(d,s.y),[u,d=F5(d,s.y+s.height)]})}function UI(c,s){var a=N5(c.x,s.x),u=F5(c.x+c.width,s.x+s.width),d=N5(c.y,s.y),p=F5(c.y+c.height,s.y+s.height);if(u>=a&&p>=d)return{x:a,y:d,width:u-a,height:p-d}}function K2(c,s,a){var u=it({rectHover:!0},s),d=u.style={strokeNoScale:!0};if(a=a||{x:-1,y:-1,width:2,height:2},c)return 0===c.indexOf("image://")?(d.image=c.slice(8),jt(d,a),new Qo(u)):Z3(c.replace("path://",""),u,a,"center")}function J3(c,s,a,u,d){for(var p=0,g=d[d.length-1];p<d.length;p++){var v=d[p];if(GI(c,s,a,u,v[0],v[1],g[0],g[1]))return!0;g=v}}function GI(c,s,a,u,d,p,g,v){var y,x=a-c,C=u-s,w=g-d,D=v-p,P=SM(w,D,x,C);if((y=P)<=1e-6&&y>=-1e-6)return!1;var z=c-d,k=s-p,E=SM(z,k,x,C)/P;if(E<0||E>1)return!1;var F=SM(z,k,w,D)/P;return!(F<0||F>1)}function SM(c,s,a,u){return c*u-a*s}function Vs(c){var s=c.itemTooltipOption,a=c.componentModel,u=c.itemName,d=ui(s)?{formatter:s}:s,p=a.mainType,g=a.componentIndex,v={componentType:p,name:u,$vars:["name"]};v[p+"Index"]=g;var y=c.formatterParamsExtra;y&&fe(Gt(y),function(C){Nt(v,C)||(v[C]=y[C],v.$vars.push(C))});var x=Pn(c.el);x.componentMainType=p,x.componentIndex=g,x.tooltipConfig={name:u,option:jt({content:u,formatterParams:v},d)}}Bs("circle",bh),Bs("ellipse",U3),Bs("sector",hl),Bs("ring",A1),Bs("polygon",dl),Bs("polyline",bc),Bs("rect",gi),Bs("line",Fa),Bs("bezierCurve",p0),Bs("arc",sd);var Rc=Object.freeze({__proto__:null,updateProps:Ti,initProps:to,removeElement:Ch,removeElementWithFadeOut:q2,isElementRemoved:z1,extendShape:bM,extendPath:H5,registerShape:Bs,getShapeClass:Y5,makePath:Z3,makeImage:HI,mergePath:Cc,resizePath:CM,subPixelOptimizeLine:function(c){return dI(c.shape,c.shape,c.style),c},subPixelOptimizeRect:function(c){return bu(c.shape,c.shape,c.style),c},subPixelOptimize:K3,getTransform:cd,applyTransform:Tu,transformDirection:Q3,groupTransition:Z2,clipPointsByRect:jp,clipRectByRect:UI,createIcon:K2,linePolygonIntersect:J3,lineLineIntersect:GI,setTooltipConfig:Vs,Group:Xt,Image:Qo,Text:Ni,Circle:bh,Ellipse:U3,Sector:hl,Ring:A1,Polygon:dl,Polyline:bc,Rect:gi,Line:Fa,BezierCurve:p0,Arc:sd,IncrementalDisplayable:X2,CompoundPath:L5,LinearGradient:$2,RadialGradient:BI,BoundingRect:qn,OrientedBoundingRect:X3,Point:_n,Path:pi}),U5={};function WI(c,s){for(var a=0;a<Fs.length;a++){var u=Fs[a],d=s[u],p=c.ensureState(u);p.style=p.style||{},p.style.text=d}var g=c.currentStates.slice();c.clearStates(!0),c.setStyle({text:s.normal}),c.useStates(g,!0)}function TM(c,s,a){var u,d=c.labelFetcher,p=c.labelDataIndex,g=c.labelDimIndex,v=s.normal;d&&(u=d.getFormattedLabel(p,"normal",null,g,v&&v.get("formatter"),null!=a?{interpolatedValue:a}:null)),null==u&&(u=wi(c.defaultText)?c.defaultText(p,c,a):c.defaultText);for(var y={normal:u},x=0;x<Fs.length;x++){var C=Fs[x],w=s[C];y[C]=xi(d?d.getFormattedLabel(p,C,null,g,w&&w.get("formatter")):null,u)}return y}function Vl(c,s,a,u){a=a||U5;for(var d=c instanceof Ni,p=!1,g=0;g<gf.length;g++)if((D=s[gf[g]])&&D.getShallow("show")){p=!0;break}var v=d?c:c.getTextContent();if(p){d||(v||(v=new Ni,c.setTextContent(v)),c.stateProxy&&(v.stateProxy=c.stateProxy));var y=TM(a,s),x=s.normal,C=!!x.getShallow("show"),w=ha(x,u&&u.normal,a,!1,!d);for(w.text=y.normal,d||c.setTextConfig(ey(x,a,!1)),g=0;g<Fs.length;g++){var D,P=Fs[g];if(D=s[P]){var z=v.ensureState(P),k=!!xi(D.getShallow("show"),C);k!==C&&(z.ignore=!k),z.style=ha(D,u&&u[P],a,!0,!d),z.style.text=y[P],!d&&(c.ensureState(P).textConfig=ey(D,a,!0))}}v.silent=!!x.getShallow("silent"),null!=v.style.x&&(w.x=v.style.x),null!=v.style.y&&(w.y=v.style.y),v.ignore=!C,v.useStyle(w),v.dirty(),a.enableTextSetter&&(Nc(v).setLabelText=function(E){var F=TM(a,s,E);WI(v,F)})}else v&&(v.ignore=!0);c.dirty()}function Hs(c,s){for(var a={normal:c.getModel(s=s||"label")},u=0;u<Fs.length;u++){var d=Fs[u];a[d]=c.getModel([d,s])}return a}function ha(c,s,a,u,d){var p={};return function(g,v,y,x,C){y=y||U5;var w,D=v.ecModel,P=D&&D.option.textStyle,z=function(H){for(var Y;H&&H!==H.ecModel;){var U=(H.option||U5).rich;if(U){Y=Y||{};for(var j=Gt(U),q=0;q<j.length;q++)Y[j[q]]=1}H=H.parentModel}return Y}(v);if(z)for(var k in w={},z)if(z.hasOwnProperty(k)){var E=v.getModel(["rich",k]);qI(w[k]={},E,P,y,x,C,!1,!0)}w&&(g.rich=w);var F=v.get("overflow");F&&(g.overflow=F);var B=v.get("minMargin");null!=B&&(g.margin=B),qI(g,v,P,y,x,C,!0,!1)}(p,c,a,u,d),s&&it(p,s),p}function ey(c,s,a){s=s||{};var u,d={},p=c.getShallow("rotate"),g=xi(c.getShallow("distance"),a?null:5),v=c.getShallow("offset");return"outside"===(u=c.getShallow("position")||(a?null:"inside"))&&(u=s.defaultOutsidePosition||"top"),null!=u&&(d.position=u),null!=v&&(d.offset=v),null!=p&&(p*=Math.PI/180,d.rotation=p),null!=g&&(d.distance=g),d.outsideFill="inherit"===c.get("color")?s.inheritColor||null:"auto",d}var jI=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],$I=["align","lineHeight","width","height","tag","verticalAlign"],XI=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function qI(c,s,a,u,d,p,g,v){a=!d&&a||U5;var y=u&&u.inheritColor,x=s.getShallow("color"),C=s.getShallow("textBorderColor"),w=xi(s.getShallow("opacity"),a.opacity);"inherit"!==x&&"auto"!==x||(x=y||null),"inherit"!==C&&"auto"!==C||(C=y||null),p||(x=x||a.color,C=C||a.textBorderColor),null!=x&&(c.fill=x),null!=C&&(c.stroke=C);var D=xi(s.getShallow("textBorderWidth"),a.textBorderWidth);null!=D&&(c.lineWidth=D);var P=xi(s.getShallow("textBorderType"),a.textBorderType);null!=P&&(c.lineDash=P);var z=xi(s.getShallow("textBorderDashOffset"),a.textBorderDashOffset);null!=z&&(c.lineDashOffset=z),d||null!=w||v||(w=u&&u.defaultOpacity),null!=w&&(c.opacity=w),d||p||null==c.fill&&u.inheritColor&&(c.fill=u.inheritColor);for(var k=0;k<jI.length;k++){var E=jI[k];null!=(B=xi(s.getShallow(E),a[E]))&&(c[E]=B)}for(k=0;k<$I.length;k++)null!=(B=s.getShallow(E=$I[k]))&&(c[E]=B);if(null==c.verticalAlign){var F=s.getShallow("baseline");null!=F&&(c.verticalAlign=F)}if(!g||!u.disableBox){for(k=0;k<XI.length;k++){var B;null!=(B=s.getShallow(E=XI[k]))&&(c[E]=B)}var H=s.getShallow("borderType");null!=H&&(c.borderDash=H),"auto"!==c.backgroundColor&&"inherit"!==c.backgroundColor||!y||(c.backgroundColor=y),"auto"!==c.borderColor&&"inherit"!==c.borderColor||!y||(c.borderColor=y)}}function ty(c,s){var a=s&&s.getModel("textStyle");return ih([c.fontStyle||a&&a.getShallow("fontStyle")||"",c.fontWeight||a&&a.getShallow("fontWeight")||"",(c.fontSize||a&&a.getShallow("fontSize")||12)+"px",c.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}var Nc=Zi();function Q2(c,s,a,u){if(c){var d=Nc(c);d.prevValue=d.value,d.value=a;var p=s.normal;d.valueAnimation=p.get("valueAnimation"),d.valueAnimation&&(d.precision=p.get("precision"),d.defaultInterpolatedText=u,d.statesModels=s)}}function MM(c,s,a,u,d){var p=Nc(c);if(p.valueAnimation&&p.prevValue!==p.value){var g=p.defaultInterpolatedText,v=xi(p.interpolatedValue,p.prevValue),y=p.value;c.percent=0,(null==p.prevValue?to:Ti)(c,{percent:1},u,s,null,function(x){var C=eI(a,p.precision,v,y,x);p.interpolatedValue=1===x?null:C;var w=TM({labelDataIndex:s,labelFetcher:d,defaultText:g?g(C):C+""},p.statesModels,C);WI(c,w)})}}var G5,W5,Dce=["textStyle","color"],ZI=new Ni,Pce=function(){function c(){}return c.prototype.getTextColor=function(s){var a=this.ecModel;return this.getShallow("color")||(!s&&a?a.get(Dce):null)},c.prototype.getFont=function(){return ty({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},c.prototype.getTextRect=function(s){return ZI.useStyle({text:s,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),ZI.update(),ZI.getBoundingRect()},c}(),j5=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],DM=o0(j5),Ace=function(){function c(){}return c.prototype.getLineStyle=function(s){return DM(this,s)},c}(),iX=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],KI=o0(iX),rX=function(){function c(){}return c.prototype.getItemStyle=function(s,a){return KI(this,s,a)},c}(),tr=function(){function c(s,a,u){this.parentModel=a,this.ecModel=u,this.option=s}return c.prototype.init=function(s,a,u){for(var d=[],p=3;p<arguments.length;p++)d[p-3]=arguments[p]},c.prototype.mergeOption=function(s,a){Mn(this.option,s,!0)},c.prototype.get=function(s,a){return null==s?this.option:this._doGet(this.parsePath(s),!a&&this.parentModel)},c.prototype.getShallow=function(s,a){var u=this.option,d=null==u?u:u[s];if(null==d&&!a){var p=this.parentModel;p&&(d=p.getShallow(s))}return d},c.prototype.getModel=function(s,a){var u=null!=s,d=u?this.parsePath(s):null;return new c(u?this._doGet(d):this.option,a=a||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(d)),this.ecModel)},c.prototype.isEmpty=function(){return null==this.option},c.prototype.restoreData=function(){},c.prototype.clone=function(){return new this.constructor(nn(this.option))},c.prototype.parsePath=function(s){return"string"==typeof s?s.split("."):s},c.prototype.resolveParentPath=function(s){return s},c.prototype.isAnimationEnabled=function(){if(!Pt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},c.prototype._doGet=function(s,a){var u=this.option;if(!s)return u;for(var d=0;d<s.length&&(!s[d]||null!=(u=u&&"object"==typeof u?u[s[d]]:null));d++);return null==u&&a&&(u=a._doGet(this.resolveParentPath(s),a.parentModel)),u},c}();Ze(tr),G5=tr,W5=["__\0is_clz",E3++].join("_"),G5.prototype[W5]=!0,G5.isInstance=function(c){return!(!c||!c[W5])},Gr(tr,Ace),Gr(tr,rX),Gr(tr,tI),Gr(tr,Pce);var oX=Math.round(10*Math.random());function J2(c){return[c||"",oX++].join("_")}function $p(c,s){return Mn(Mn({},c,!0),s,!0)}var X5={},no={},Xp=Pt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function AM(c,s){c=c.toUpperCase(),no[c]=new tr(s),X5[c]=s}function qp(c){return no[c]}AM("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),AM("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var ny=864e5,eL=31536e6,e_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},aX={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+e_.hour,minute:"{yyyy}-{MM}-{dd} "+e_.minute,second:"{yyyy}-{MM}-{dd} "+e_.second,millisecond:e_.none},_0=["year","month","day","hour","minute","second","millisecond"],y0=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Fc(c,s){return"0000".substr(0,s-(c+="").length)+c}function x0(c){switch(c){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return c}}function tL(c){return c===x0(c)}function iy(c,s,a,u){var d=Ce(c),p=d[q5(a)](),g=d[k1(a)]()+1,v=Math.floor((g-1)/4)+1,y=d[OM(a)](),x=d["get"+(a?"UTC":"")+"Day"](),C=d[b0(a)](),w=(C-1)%12+1,D=d[Z5(a)](),P=d[t_(a)](),z=d[ry(a)](),k=(u instanceof tr?u:qp(u||Xp)||no.EN).getModel("time"),E=k.get("month"),F=k.get("monthAbbr"),B=k.get("dayOfWeek"),H=k.get("dayOfWeekAbbr");return(s||"").replace(/{yyyy}/g,p+"").replace(/{yy}/g,p%100+"").replace(/{Q}/g,v+"").replace(/{MMMM}/g,E[g-1]).replace(/{MMM}/g,F[g-1]).replace(/{MM}/g,Fc(g,2)).replace(/{M}/g,g+"").replace(/{dd}/g,Fc(y,2)).replace(/{d}/g,y+"").replace(/{eeee}/g,B[x]).replace(/{ee}/g,H[x]).replace(/{e}/g,x+"").replace(/{HH}/g,Fc(C,2)).replace(/{H}/g,C+"").replace(/{hh}/g,Fc(w+"",2)).replace(/{h}/g,w+"").replace(/{mm}/g,Fc(D,2)).replace(/{m}/g,D+"").replace(/{ss}/g,Fc(P,2)).replace(/{s}/g,P+"").replace(/{SSS}/g,Fc(z,3)).replace(/{S}/g,z+"")}function nL(c,s){var a=Ce(c),u=a[k1(s)]()+1,d=a[OM(s)](),p=a[b0(s)](),g=a[Z5(s)](),v=a[t_(s)](),y=0===a[ry(s)](),x=y&&0===v,C=x&&0===g,w=C&&0===p,D=w&&1===d;return D&&1===u?"year":D?"month":w?"day":C?"hour":x?"minute":y?"second":"millisecond"}function kM(c,s,a){var u="number"==typeof c?Ce(c):c;switch(s=s||nL(c,a)){case"year":return u[q5(a)]();case"half-year":return u[k1(a)]()>=6?1:0;case"quarter":return Math.floor((u[k1(a)]()+1)/4);case"month":return u[k1(a)]();case"day":return u[OM(a)]();case"half-day":return u[b0(a)]()/24;case"hour":return u[b0(a)]();case"minute":return u[Z5(a)]();case"second":return u[t_(a)]();case"millisecond":return u[ry(a)]()}}function q5(c){return c?"getUTCFullYear":"getFullYear"}function k1(c){return c?"getUTCMonth":"getMonth"}function OM(c){return c?"getUTCDate":"getDate"}function b0(c){return c?"getUTCHours":"getHours"}function Z5(c){return c?"getUTCMinutes":"getMinutes"}function t_(c){return c?"getUTCSeconds":"getSeconds"}function ry(c){return c?"getUTCMilliseconds":"getMilliseconds"}function iL(c){return c?"setUTCFullYear":"setFullYear"}function O1(c){return c?"setUTCMonth":"setMonth"}function rL(c){return c?"setUTCDate":"setDate"}function K5(c){return c?"setUTCHours":"setHours"}function oy(c){return c?"setUTCMinutes":"setMinutes"}function oL(c){return c?"setUTCSeconds":"setSeconds"}function Q5(c){return c?"setUTCMilliseconds":"setMilliseconds"}function n_(c){if(!or(c))return ui(c)?c:"-";var s=(c+"").split(".");return s[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(s.length>1?"."+s[1]:"")}function wh(c,s){return c=(c||"").toLowerCase().replace(/-(.)/g,function(a,u){return u.toUpperCase()}),s&&c&&(c=c.charAt(0).toUpperCase()+c.slice(1)),c}var E1=g2,EM=/([&<>"'])/g,sX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Bc(c){return null==c?"":(c+"").replace(EM,function(s,a){return sX[a]})}function ay(c,s,a){function u(x){return x&&ih(x)?x:"-"}function d(x){return!(null==x||isNaN(x)||!isFinite(x))}var p="time"===s,g=c instanceof Date;if(p||g){var v=p?Ce(c):c;if(!isNaN(+v))return iy(v,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",a);if(g)return"-"}if("ordinal"===s)return Gm(c)?u(c):zt(c)&&d(c)?c+"":"-";var y=pn(c);return d(y)?n_(y):Gm(c)?u(c):"boolean"==typeof c?c+"":"-"}var C0=["a","b","c","d","e","f","g"],IM=function(c,s){return"{"+c+(s??"")+"}"};function LM(c,s,a){at(s)||(s=[s]);var u=s.length;if(!u)return"";for(var d=s[0].$vars||[],p=0;p<d.length;p++){var g=C0[p];c=c.replace(IM(g),IM(g,0))}for(var v=0;v<u;v++)for(var y=0;y<d.length;y++){var x=s[v][d[y]];c=c.replace(IM(C0[y],v),a?Bc(x):x)}return c}function aL(c,s){var a=ui(c)?{color:c,extraCssText:s}:c||{},u=a.color,d=a.type;s=a.extraCssText;var p=a.renderMode||"html";return u?"html"===p?"subItem"===d?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Bc(u)+";"+(s||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Bc(u)+";"+(s||"")+'"></span>':{renderMode:p,content:"{"+(a.markerId||"markerX")+"|}  ",style:"subItem"===d?{width:4,height:4,borderRadius:2,backgroundColor:u}:{width:10,height:10,borderRadius:5,backgroundColor:u}}:""}function Zp(c,s){return s=s||"transparent",ui(c)?c:rn(c)&&c.colorStops&&(c.colorStops[0]||{}).color||s}function J5(c,s){if("_blank"===s||"blank"===s){var a=window.open();a.opener=null,a.location.href=c}else window.open(c,s)}var sy=fe,sL=["left","right","top","bottom","width","height"],I1=[["width","left","right"],["height","top","bottom"]];function lL(c,s,a,u,d){var p=0,g=0;null==u&&(u=1/0),null==d&&(d=1/0);var v=0;s.eachChild(function(y,x){var C,w,D=y.getBoundingRect(),P=s.childAt(x+1),z=P&&P.getBoundingRect();if("horizontal"===c){var k=D.width+(z?-z.x+D.x:0);(C=p+k)>u||y.newline?(p=0,C=k,g+=v+a,v=D.height):v=Math.max(v,D.height)}else{var E=D.height+(z?-z.y+D.y:0);(w=g+E)>d||y.newline?(p+=v+a,g=0,w=E,v=D.width):v=Math.max(v,D.width)}y.newline||(y.x=p,y.y=g,y.markRedraw(),"horizontal"===c?p=C+a:g=w+a)})}var w0=lL;function io(c,s,a){a=E1(a||0);var u=s.width,d=s.height,p=At(c.left,u),g=At(c.top,d),v=At(c.right,u),y=At(c.bottom,d),x=At(c.width,u),C=At(c.height,d),w=a[2]+a[0],D=a[1]+a[3],P=c.aspect;switch(isNaN(x)&&(x=u-v-D-p),isNaN(C)&&(C=d-y-w-g),null!=P&&(isNaN(x)&&isNaN(C)&&(P>u/d?x=.8*u:C=.8*d),isNaN(x)&&(x=P*C),isNaN(C)&&(C=x/P)),isNaN(p)&&(p=u-v-x-D),isNaN(g)&&(g=d-y-C-w),c.left||c.right){case"center":p=u/2-x/2-a[3];break;case"right":p=u-x-D}switch(c.top||c.bottom){case"middle":case"center":g=d/2-C/2-a[0];break;case"bottom":g=d-C-w}p=p||0,g=g||0,isNaN(x)&&(x=u-D-p-(v||0)),isNaN(C)&&(C=d-w-g-(y||0));var z=new qn(p+a[3],g+a[0],x,C);return z.margin=a,z}function eb(c,s,a,u,d){var p=!d||!d.hv||d.hv[0],g=!d||!d.hv||d.hv[1],v=d&&d.boundingMode||"all";if(p||g){var y;if("raw"===v)y="group"===c.type?new qn(0,0,+s.width||0,+s.height||0):c.getBoundingRect();else if(y=c.getBoundingRect(),c.needLocalTransform()){var x=c.getLocalTransform();(y=y.clone()).applyTransform(x)}var C=io(jt({width:y.width,height:y.height},s),a,u),w=p?C.x-y.x:0,D=g?C.y-y.y:0;"raw"===v?(c.x=w,c.y=D):(c.x+=w,c.y+=D),c.markRedraw()}}function yf(c){var s=c.layoutMode||c.constructor.layoutMode;return rn(s)?s:s?{type:s}:null}function Vt(c,s,a){var u=a&&a.ignoreSize;!at(u)&&(u=[u,u]);var d=g(I1[0],0),p=g(I1[1],1);function g(C,w){var D={},P=0,z={},k=0;if(sy(C,function(B){z[B]=c[B]}),sy(C,function(B){v(s,B)&&(D[B]=z[B]=s[B]),y(D,B)&&P++,y(z,B)&&k++}),u[w])return y(s,C[1])?z[C[2]]=null:y(s,C[2])&&(z[C[1]]=null),z;if(2!==k&&P){if(P>=2)return D;for(var E=0;E<C.length;E++){var F=C[E];if(!v(D,F)&&v(c,F)){D[F]=c[F];break}}return D}return z}function v(C,w){return C.hasOwnProperty(w)}function y(C,w){return null!=C[w]&&"auto"!==C[w]}function x(C,w,D){sy(C,function(P){w[P]=D[P]})}x(I1[0],c,d),x(I1[1],c,p)}function i_(c){return Kp({},c)}function Kp(c,s){return s&&c&&sy(sL,function(a){s.hasOwnProperty(a)&&(c[a]=s[a])}),c}Je(lL,"vertical"),Je(lL,"horizontal");var c,s,_r=Zi(),di=function(c){function s(a,u,d){var p=c.call(this,a,u,d)||this;return p.uid=J2("ec_cpt_model"),p}return Ee(s,c),s.prototype.init=function(a,u,d){this.mergeDefaultAndTheme(a,d)},s.prototype.mergeDefaultAndTheme=function(a,u){var d=yf(this),p=d?i_(a):{};Mn(a,u.getTheme().get(this.mainType)),Mn(a,this.getDefaultOption()),d&&Vt(a,p,d)},s.prototype.mergeOption=function(a,u){Mn(this.option,a,!0);var d=yf(this);d&&Vt(this.option,a,d)},s.prototype.optionUpdated=function(a,u){},s.prototype.getDefaultOption=function(){var x,a=this.constructor;if(!(x=a)||!x[vr])return a.defaultOption;var u=_r(this);if(!u.defaultOption){for(var d=[],p=a;p;){var g=p.prototype.defaultOption;g&&d.push(g),p=p.superClass}for(var v={},y=d.length-1;y>=0;y--)v=Mn(v,d[y],!0);u.defaultOption=v}return u.defaultOption},s.prototype.getReferringComponents=function(a,u){var p=a+"Id";return O3(this.ecModel,a,{index:this.get(a+"Index",!0),id:this.get(p,!0)},u)},s.prototype.getBoxLayoutParams=function(){var a=this;return{left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")}},s.protoInitialize=((a=s.prototype).type="component",a.id="",a.name="",a.mainType="",a.subType="",void(a.componentIndex=0)),s;var a}(tr);FT(di,tr),O2(di),s={},(c=di).registerSubTypeDefaulter=function(a,u){var d=Xe(a);s[d.main]=u},c.determineSubType=function(a,u){var d=u.type;if(!d){var p=Xe(a).main;c.hasSubTypes(a)&&s[p]&&(d=s[p](u))}return d},function(c,s){function a(u,d){return u[d]||(u[d]={predecessor:[],successor:[]}),u[d]}c.topologicalTravel=function(u,d,p,g){if(u.length){var v=(F={},B=[],fe(E=d,function(H){var j,q,Q,Y=a(F,H),U=(j=Y.originalDeps=function(c){var s=[];return fe(di.getClassesByMainType(c),function(a){s=s.concat(a.dependencies||a.prototype.dependencies||[])}),s=tt(s,function(a){return Xe(a).main}),"dataset"!==c&&Gn(s,"dataset")<=0&&s.unshift("dataset"),s}(H),q=E,Q=[],fe(j,function(re){Gn(q,re)>=0&&Q.push(re)}),Q);Y.entryCount=U.length,0===Y.entryCount&&B.push(H),fe(U,function(j){Gn(Y.predecessor,j)<0&&Y.predecessor.push(j);var q=a(F,j);Gn(q.successor,j)<0&&q.successor.push(H)})}),{graph:F,noEntryList:B}),y=v.graph,x=v.noEntryList,C={};for(fe(u,function(E){C[E]=!0});x.length;){var w=x.pop(),D=y[w],P=!!C[w];P&&(p.call(g,w,D.originalDeps.slice()),delete C[w]),fe(D.successor,P?k:z)}fe(C,function(){throw new Error("")})}var E,F,B;function z(E){y[E].entryCount--,0===y[E].entryCount&&x.push(E)}function k(E){C[E]=!0,z(E)}}}(di);var cL="";typeof navigator<"u"&&(cL=navigator.platform||"");var xf="rgba(0, 0, 0, 0.2)",lX={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:xf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:xf,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:xf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:xf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:xf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:xf,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:cL.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},tb=qt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),bf="original",Qp="arrayRows",Cf="objectRows",ud="keyedColumns",r_="typedArray",uL="unknown",S0="column",M0=Zi();function wf(c,s,a){var u={},d=FM(s);if(!d||!c)return u;var p,g,v=[],y=[],C=M0(s.ecModel).datasetMap,w=d.uid+"_"+a.seriesLayoutBy;fe(c=c.slice(),function(k,E){var F=rn(k)?k:c[E]={name:k};"ordinal"===F.type&&null==p&&(p=E,g=z(F)),u[F.name]=[]});var D=C.get(w)||C.set(w,{categoryWayDim:g,valueWayDim:0});function P(k,E,F){for(var B=0;B<F;B++)k.push(E+B)}function z(k){var E=k.dimsDef;return E?E.length:1}return fe(c,function(k,E){var F=k.name,B=z(k);if(null==p){var H=D.valueWayDim;P(u[F],H,B),P(y,H,B),D.valueWayDim+=B}else p===E?(P(u[F],0,B),P(v,0,B)):(P(u[F],H=D.categoryWayDim,B),P(y,H,B),D.categoryWayDim+=B)}),v.length&&(u.itemName=v),y.length&&(u.seriesName=y),u}function NM(c,s,a){var u={};if(!FM(c))return u;var d,p=s.sourceFormat,g=s.dimensionsDefine;p!==Cf&&p!==ud||fe(g,function(x,C){"name"===(rn(x)?x.name:x)&&(d=C)});var v=function(){for(var x={},C={},w=[],D=0,P=Math.min(5,a);D<P;D++){var z=uX(s.data,p,s.seriesLayoutBy,g,s.startIndex,D);w.push(z);var k=3===z;if(k&&null==x.v&&D!==d&&(x.v=D),(null==x.n||x.n===x.v||!k&&3===w[x.n])&&(x.n=D),E(x)&&3!==w[x.n])return x;k||(2===z&&null==C.v&&D!==d&&(C.v=D),null!=C.n&&C.n!==C.v||(C.n=D))}function E(F){return null!=F.v&&null!=F.n}return E(x)?x:E(C)?C:null}();if(v){u.value=[v.v];var y=d??v.n;u.itemName=[y],u.seriesName=[y]}return u}function FM(c){if(!c.get("data",!0))return O3(c.ecModel,"dataset",{index:c.get("datasetIndex",!0),id:c.get("datasetId",!0)},Na).models[0]}function cX(c,s){return uX(c.data,c.sourceFormat,c.seriesLayoutBy,c.dimensionsDefine,c.startIndex,s)}function uX(c,s,a,u,d,p){var g,v,y;if(Tl(c))return 3;if(u){var x=u[p];rn(x)?(v=x.name,y=x.type):ui(x)&&(v=x)}if(null!=y)return"ordinal"===y?1:3;if(s===Qp){var C=c;if("row"===a){for(var w=C[p],D=0;D<(w||[]).length&&D<5;D++)if(null!=(g=B(w[d+D])))return g}else for(D=0;D<C.length&&D<5;D++){var P=C[d+D];if(P&&null!=(g=B(P[p])))return g}}else if(s===Cf){var z=c;if(!v)return 3;for(D=0;D<z.length&&D<5;D++)if((E=z[D])&&null!=(g=B(E[v])))return g}else if(s===ud){if(!v||!(w=c[v])||Tl(w))return 3;for(D=0;D<w.length&&D<5;D++)if(null!=(g=B(w[D])))return g}else if(s===bf){var k=c;for(D=0;D<k.length&&D<5;D++){var E,F=Rp(E=k[D]);if(!at(F))return 3;if(null!=(g=B(F[p])))return g}}function B(H){var Y=ui(H);return null!=H&&isFinite(H)&&""!==H?Y?2:3:Y&&"-"!==H?1:void 0}return 3}var BM,o_,VM,nb=qt(),hL=Zi(),dL=Zi(),HM=function(){function c(){}return c.prototype.getColorFromPalette=function(s,a,u){var d=Sr(this.get("color",!0)),p=this.get("colorLayer",!0);return Sh(this,hL,d,p,s,a,u)},c.prototype.clearColorPalette=function(){!function(s,a){a(s).paletteIdx=0,a(s).paletteNameMap={}}(this,hL)},c}();function YM(c,s,a,u){var d=Sr(c.get(["aria","decal","decals"]));return Sh(c,dL,d,null,s,a,u)}function Sh(c,s,a,u,d,p,g){var v=s(p=p||c),y=v.paletteIdx||0,x=v.paletteNameMap=v.paletteNameMap||{};if(x.hasOwnProperty(d))return x[d];var C=null!=g&&u?function(D,P){for(var z=D.length,k=0;k<z;k++)if(D[k].length>P)return D[k];return D[z-1]}(u,g):a;if((C=C||a)&&C.length){var w=C[y];return d&&(x[d]=w),v.paletteIdx=(y+1)%C.length,w}}var UM=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.init=function(a,u,d,p,g,v){p=p||{},this.option=null,this._theme=new tr(p),this._locale=new tr(g),this._optionManager=v},s.prototype.setOption=function(a,u,d){var p=pL(u);this._optionManager.setOption(a,d,p),this._resetOption(null,p)},s.prototype.resetOption=function(a,u){return this._resetOption(a,pL(u))},s.prototype._resetOption=function(a,u){var d=!1,p=this._optionManager;if(!a||"recreate"===a){var g=p.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this._mergeOption(g,u)):VM(this,g),d=!0}if("timeline"!==a&&"media"!==a||this.restoreData(),!a||"recreate"===a||"timeline"===a){var v=p.getTimelineOption(this);v&&(d=!0,this._mergeOption(v,u))}if(!a||"recreate"===a||"media"===a){var y=p.getMediaOption(this);y.length&&fe(y,function(x){d=!0,this._mergeOption(x,u)},this)}return d},s.prototype.mergeOption=function(a){this._mergeOption(a,null)},s.prototype._mergeOption=function(a,u){var d=this.option,p=this._componentsMap,g=this._componentsCount,v=[],y=qt(),x=u&&u.replaceMergeMainTypeMap;M0(this).datasetMap=qt(),fe(a,function(C,w){null!=C&&(di.hasClass(w)?w&&(v.push(w),y.set(w,!0)):d[w]=null==d[w]?nn(C):Mn(d[w],C,!0))}),x&&x.each(function(C,w){di.hasClass(w)&&!y.get(w)&&(v.push(w),y.set(w,!0))}),di.topologicalTravel(v,di.getAllClassMainTypes(),function(C){var H,Y,w=function(B,H,Y){var U=nb.get(H);if(!U)return Y;var j=U(B);return j?Y.concat(j):Y}(this,C,Sr(a[C])),D=p.get(C),z=gh(D,w,D?x&&x.get(C)?"replaceMerge":"normalMerge":"replaceAll");H=C,Y=di,fe(z,function(U){var Q,re,j=U.newOption;rn(j)&&(U.keyInfo.mainType=H,U.keyInfo.subType=(re=U.existing,(Q=j).type?Q.type:re?re.subType:Y.determineSubType(H,Q)))}),d[C]=null,p.set(C,null),g.set(C,0);var k=[],E=[],F=0;fe(z,function(B,H){var Y=B.existing,U=B.newOption;if(U){var q=di.getClass(C,B.keyInfo.subType,!("series"===C));if(!q)return;if(Y&&Y.constructor===q)Y.name=B.keyInfo.name,Y.mergeOption(U,this),Y.optionUpdated(U,!1);else{var Q=it({componentIndex:H},B.keyInfo);it(Y=new q(U,this,this,Q),Q),B.brandNew&&(Y.__requireNewView=!0),Y.init(U,this,this),Y.optionUpdated(null,!0)}}else Y&&(Y.mergeOption({},this),Y.optionUpdated({},!1));Y?(k.push(Y.option),E.push(Y),F++):(k.push(void 0),E.push(void 0))},this),d[C]=k,p.set(C,E),g.set(C,F),"series"===C&&BM(this)},this),this._seriesIndices||BM(this)},s.prototype.getOption=function(){var a=nn(this.option);return fe(a,function(u,d){if(di.hasClass(d)){for(var p=Sr(u),g=p.length,v=!1,y=g-1;y>=0;y--)p[y]&&!gc(p[y])?v=!0:(p[y]=null,!v&&g--);p.length=g,a[d]=p}}),delete a["\0_ec_inner"],a},s.prototype.getTheme=function(){return this._theme},s.prototype.getLocaleModel=function(){return this._locale},s.prototype.setUpdatePayload=function(a){this._payload=a},s.prototype.getUpdatePayload=function(){return this._payload},s.prototype.getComponent=function(a,u){var d=this._componentsMap.get(a);if(d){var p=d[u||0];if(p)return p;if(null==u)for(var g=0;g<d.length;g++)if(d[g])return d[g]}},s.prototype.queryComponents=function(a){var u=a.mainType;if(!u)return[];var d,p=a.index,g=a.id,v=a.name,y=this._componentsMap.get(u);return y&&y.length?(null!=p?(d=[],fe(Sr(p),function(x){y[x]&&d.push(y[x])})):d=null!=g?GM("id",g,y):null!=v?GM("name",v,y):Ri(y,function(x){return!!x}),fL(d,a)):[]},s.prototype.findComponents=function(a){var u,d,p,g,v,x=a.mainType,C=(d=x+"Index",p=x+"Id",g=x+"Name",!(u=a.query)||null==u[d]&&null==u[p]&&null==u[g]?null:{mainType:x,index:u[d],id:u[p],name:u[g]});return v=fL(C?this.queryComponents(C):Ri(this._componentsMap.get(x),function(D){return!!D}),a),a.filter?Ri(v,a.filter):v},s.prototype.eachComponent=function(a,u,d){var p=this._componentsMap;if(wi(a)){var g=u,v=a;p.each(function(w,D){for(var P=0;w&&P<w.length;P++){var z=w[P];z&&v.call(g,D,z,z.componentIndex)}})}else for(var y=ui(a)?p.get(a):rn(a)?this.findComponents(a):null,x=0;y&&x<y.length;x++){var C=y[x];C&&u.call(d,C,C.componentIndex)}},s.prototype.getSeriesByName=function(a){var u=Vo(a,null);return Ri(this._componentsMap.get("series"),function(d){return!!d&&null!=u&&d.name===u})},s.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},s.prototype.getSeriesByType=function(a){return Ri(this._componentsMap.get("series"),function(u){return!!u&&u.subType===a})},s.prototype.getSeries=function(){return Ri(this._componentsMap.get("series"),function(a){return!!a})},s.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},s.prototype.eachSeries=function(a,u){o_(this),fe(this._seriesIndices,function(d){var p=this._componentsMap.get("series")[d];a.call(u,p,d)},this)},s.prototype.eachRawSeries=function(a,u){fe(this._componentsMap.get("series"),function(d){d&&a.call(u,d,d.componentIndex)})},s.prototype.eachSeriesByType=function(a,u,d){o_(this),fe(this._seriesIndices,function(p){var g=this._componentsMap.get("series")[p];g.subType===a&&u.call(d,g,p)},this)},s.prototype.eachRawSeriesByType=function(a,u,d){return fe(this.getSeriesByType(a),u,d)},s.prototype.isSeriesFiltered=function(a){return o_(this),null==this._seriesIndicesMap.get(a.componentIndex)},s.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},s.prototype.filterSeries=function(a,u){o_(this);var d=[];fe(this._seriesIndices,function(p){var g=this._componentsMap.get("series")[p];a.call(u,g,p)&&d.push(p)},this),this._seriesIndices=d,this._seriesIndicesMap=qt(d)},s.prototype.restoreData=function(a){BM(this);var u=this._componentsMap,d=[];u.each(function(p,g){di.hasClass(g)&&d.push(g)}),di.topologicalTravel(d,di.getAllClassMainTypes(),function(p){fe(u.get(p),function(g){!g||"series"===p&&function(v,y){if(y){var x=y.seriesIndex,C=y.seriesId,w=y.seriesName;return null!=x&&v.componentIndex!==x||null!=C&&v.id!==C||null!=w&&v.name!==w}}(g,a)||g.restoreData()})})},s.internalField=(BM=function(a){var u=a._seriesIndices=[];fe(a._componentsMap.get("series"),function(d){d&&u.push(d.componentIndex)}),a._seriesIndicesMap=qt(u)},o_=function(a){},void(VM=function(a,u){a.option={},a.option["\0_ec_inner"]=1,a._componentsMap=qt({series:[]}),a._componentsCount=qt();var p,v,d=u.aria;rn(d)&&null==d.enabled&&(d.enabled=!0),v=(p=u).color&&!p.colorLayer,fe(a._theme.option,function(y,x){"colorLayer"===x&&v||di.hasClass(x)||("object"==typeof y?p[x]=p[x]?Mn(p[x],y,!1):nn(y):null==p[x]&&(p[x]=y))}),Mn(u,lX,!1),a._mergeOption(u,null)})),s}(tr);function GM(c,s,a){if(at(s)){var u=qt();return fe(s,function(p){null!=p&&null!=Vo(p,null)&&u.set(p,!0)}),Ri(a,function(p){return p&&u.get(p[c])})}var d=Vo(s,null);return Ri(a,function(p){return p&&null!=d&&p[c]===d})}function fL(c,s){return s.hasOwnProperty("subType")?Ri(c,function(a){return a&&a.subType===s.subType}):c}function pL(c){var s=qt();return c&&fe(Sr(c.replaceMerge),function(a){s.set(a,!0)}),{replaceMergeMainTypeMap:s}}Gr(UM,HM);var hX=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],gL=function(c){fe(hX,function(s){this[s]=rt(c[s],c)},this)},ib={},a_=function(){function c(){this._coordinateSystems=[]}return c.prototype.create=function(s,a){var u=[];fe(ib,function(d,p){var g=d.create(s,a);u=u.concat(g||[])}),this._coordinateSystems=u},c.prototype.update=function(s,a){fe(this._coordinateSystems,function(u){u.update&&u.update(s,a)})},c.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},c.register=function(s,a){ib[s]=a},c.get=function(s){return ib[s]},c}(),dX=/^(min|max)?(.+)$/,fX=function(){function c(s){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=s}return c.prototype.setOption=function(s,a,u){s&&(fe(Sr(s.series),function(g){g&&g.data&&Tl(g.data)&&wp(g.data)}),fe(Sr(s.dataset),function(g){g&&g.source&&Tl(g.source)&&wp(g.source)})),s=nn(s);var d=this._optionBackup,p=function(g,v,y){var x,C,w=[],D=g.baseOption,P=g.timeline,z=g.options,k=g.media,E=!!g.media,F=!!(z||P||D&&D.timeline);function B(H){fe(v,function(Y){Y(H,y)})}return D?(C=D).timeline||(C.timeline=P):((F||E)&&(g.options=g.media=null),C=g),E&&at(k)&&fe(k,function(H){H&&H.option&&(H.query?w.push(H):x||(x=H))}),B(C),fe(z,function(H){return B(H)}),fe(w,function(H){return B(H.option)}),{baseOption:C,timelineOptions:z||[],mediaDefault:x,mediaList:w}}(s,a,!d);this._newBaseOption=p.baseOption,d?(p.timelineOptions.length&&(d.timelineOptions=p.timelineOptions),p.mediaList.length&&(d.mediaList=p.mediaList),p.mediaDefault&&(d.mediaDefault=p.mediaDefault)):this._optionBackup=p},c.prototype.mountOption=function(s){var a=this._optionBackup;return this._timelineOptions=a.timelineOptions,this._mediaList=a.mediaList,this._mediaDefault=a.mediaDefault,this._currentMediaIndices=[],nn(s?a.baseOption:this._newBaseOption)},c.prototype.getTimelineOption=function(s){var a,u=this._timelineOptions;if(u.length){var d=s.getComponent("timeline");d&&(a=nn(u[d.getCurrentIndex()]))}return a},c.prototype.getMediaOption=function(s){var u,d=this._api.getWidth(),p=this._api.getHeight(),g=this._mediaList,v=this._mediaDefault,y=[],x=[];if(!g.length&&!v)return x;for(var C=0,w=g.length;C<w;C++)Mi(g[C].query,d,p)&&y.push(C);return!y.length&&v&&(y=[-1]),y.length&&(u=this._currentMediaIndices,y.join(",")!==u.join(","))&&(x=tt(y,function(D){return nn(-1===D?v.option:g[D].option)})),this._currentMediaIndices=y,x},c}();function Mi(c,s,a){var u={width:s,height:a,aspectratio:s/a},d=!0;return fe(c,function(p,g){var C,w,D,v=g.match(dX);if(v&&v[1]&&v[2]){var y=v[1],x=v[2].toLowerCase();C=u[x],w=p,("min"===(D=y)?C>=w:"max"===D?C<=w:C===w)||(d=!1)}}),d}var J=fe,s_=rn,WM=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function jM(c){var s=c&&c.itemStyle;if(s)for(var a=0,u=WM.length;a<u;a++){var d=WM[a],p=s.normal,g=s.emphasis;p&&p[d]&&(c[d]=c[d]||{},c[d].normal?Mn(c[d].normal,p[d]):c[d].normal=p[d],p[d]=null),g&&g[d]&&(c[d]=c[d]||{},c[d].emphasis?Mn(c[d].emphasis,g[d]):c[d].emphasis=g[d],g[d]=null)}}function Hl(c,s,a){if(c&&c[s]&&(c[s].normal||c[s].emphasis)){var u=c[s].normal,d=c[s].emphasis;u&&(a?(c[s].normal=c[s].emphasis=null,jt(c[s],u)):c[s]=u),d&&(c.emphasis=c.emphasis||{},c.emphasis[s]=d,d.focus&&(c.emphasis.focus=d.focus),d.blurScope&&(c.emphasis.blurScope=d.blurScope))}}function l_(c){Hl(c,"itemStyle"),Hl(c,"lineStyle"),Hl(c,"areaStyle"),Hl(c,"label"),Hl(c,"labelLine"),Hl(c,"upperLabel"),Hl(c,"edgeLabel")}function Ba(c,s){var a=s_(c)&&c[s],u=s_(a)&&a.textStyle;if(u)for(var d=0,p=Ll.length;d<p;d++){var g=Ll[d];u.hasOwnProperty(g)&&(a[g]=u[g])}}function Mu(c){c&&(l_(c),Ba(c,"label"),c.emphasis&&Ba(c.emphasis,"label"))}function Jp(c){return at(c)?c:c?[c]:[]}function mL(c){return(at(c)?c[0]:c)||{}}function $M(c){c&&fe(vL,function(s){s[0]in c&&!(s[1]in c)&&(c[s[1]]=c[s[0]])})}var vL=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],xs=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],XM=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function D0(c){var s=c&&c.itemStyle;if(s)for(var a=0;a<XM.length;a++){var u=XM[a][1];null!=s[u]&&(s[XM[a][0]]=s[u])}}function rb(c){c&&"edge"===c.alignTo&&null!=c.margin&&null==c.edgeDistance&&(c.edgeDistance=c.margin)}function _L(c){c&&c.downplay&&!c.blur&&(c.blur=c.downplay)}function pX(c,s){if(c)for(var a=0;a<c.length;a++)s(c[a]),c[a]&&pX(c[a].children,s)}function gX(c,s){(function kce(c,s){J(Jp(c.series),function(u){s_(u)&&function(d){if(s_(d)){jM(d),l_(d),Ba(d,"label"),Ba(d,"upperLabel"),Ba(d,"edgeLabel"),d.emphasis&&(Ba(d.emphasis,"label"),Ba(d.emphasis,"upperLabel"),Ba(d.emphasis,"edgeLabel"));var p=d.markPoint;p&&(jM(p),Mu(p));var g=d.markLine;g&&(jM(g),Mu(g));var v=d.markArea;v&&Mu(v);var y=d.data;if("graph"===d.type){y=y||d.nodes;var x=d.links||d.edges;if(x&&!Tl(x))for(var C=0;C<x.length;C++)Mu(x[C]);fe(d.categories,function(P){l_(P)})}if(y&&!Tl(y))for(C=0;C<y.length;C++)Mu(y[C]);if((p=d.markPoint)&&p.data){var w=p.data;for(C=0;C<w.length;C++)Mu(w[C])}if((g=d.markLine)&&g.data){var D=g.data;for(C=0;C<D.length;C++)at(D[C])?(Mu(D[C][0]),Mu(D[C][1])):Mu(D[C])}"gauge"===d.type?(Ba(d,"axisLabel"),Ba(d,"title"),Ba(d,"detail")):"treemap"===d.type?(Hl(d.breadcrumb,"itemStyle"),fe(d.levels,function(P){l_(P)})):"tree"===d.type&&l_(d.leaves)}}(u)});var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];s&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),J(a,function(u){J(Jp(c[u]),function(d){d&&(Ba(d,"axisLabel"),Ba(d.axisPointer,"label"))})}),J(Jp(c.parallel),function(u){var d=u&&u.parallelAxisDefault;Ba(d,"axisLabel"),Ba(d&&d.axisPointer,"label")}),J(Jp(c.calendar),function(u){Hl(u,"itemStyle"),Ba(u,"dayLabel"),Ba(u,"monthLabel"),Ba(u,"yearLabel")}),J(Jp(c.radar),function(u){Ba(u,"name"),u.name&&null==u.axisName&&(u.axisName=u.name,delete u.name),null!=u.nameGap&&null==u.axisNameGap&&(u.axisNameGap=u.nameGap,delete u.nameGap)}),J(Jp(c.geo),function(u){s_(u)&&(Mu(u),J(Jp(u.regions),function(d){Mu(d)}))}),J(Jp(c.timeline),function(u){Mu(u),Hl(u,"label"),Hl(u,"itemStyle"),Hl(u,"controlStyle",!0);var d=u.data;at(d)&&fe(d,function(p){rn(p)&&(Hl(p,"label"),Hl(p,"itemStyle"))})}),J(Jp(c.toolbox),function(u){Hl(u,"iconStyle"),J(u.feature,function(d){Hl(d,"iconStyle")})}),Ba(mL(c.axisPointer),"label"),Ba(mL(c.tooltip).axisPointer,"label")})(c,s),c.series=Sr(c.series),fe(c.series,function(a){if(rn(a)){var u=a.type;if("line"===u)null!=a.clipOverflow&&(a.clip=a.clipOverflow);else if("pie"===u||"gauge"===u){if(null!=a.clockWise&&(a.clockwise=a.clockWise),rb(a.label),(g=a.data)&&!Tl(g))for(var d=0;d<g.length;d++)rb(g[d]);null!=a.hoverOffset&&(a.emphasis=a.emphasis||{},(a.emphasis.scaleSize=null)&&(a.emphasis.scaleSize=a.hoverOffset))}else if("gauge"===u){var p=function(y,x){for(var C="pointer.color".split(","),w=y,D=0;D<C.length&&null!=(w=w&&w[C[D]]);D++);return w}(a);null!=p&&function(y,x,C,w){for(var D,P="itemStyle.color".split(","),z=y,k=0;k<P.length-1;k++)null==z[D=P[k]]&&(z[D]={}),z=z[D];null==z[P[k]]&&(z[P[k]]=C)}(a,0,p)}else if("bar"===u){var g;if(D0(a),D0(a.backgroundStyle),D0(a.emphasis),(g=a.data)&&!Tl(g))for(d=0;d<g.length;d++)"object"==typeof g[d]&&(D0(g[d]),D0(g[d]&&g[d].emphasis))}else if("sunburst"===u){var v=a.highlightPolicy;v&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=v)),_L(a),pX(a.data,_L)}else"graph"===u||"sankey"===u?(y=a)&&null!=y.focusNodeAdjacency&&(y.emphasis=y.emphasis||{},null==y.emphasis.focus&&(y.emphasis.focus="adjacency")):"map"===u&&(a.mapType&&!a.map&&(a.map=a.mapType),a.mapLocation&&jt(a,a.mapLocation));null!=a.hoverAnimation&&(a.emphasis=a.emphasis||{},a.emphasis&&null==a.emphasis.scale&&(a.emphasis.scale=a.hoverAnimation)),$M(a)}var y}),c.dataRange&&(c.visualMap=c.dataRange),fe(xs,function(a){var u=c[a];u&&(at(u)||(u=[u]),fe(u,function(d){$M(d)}))})}function Oce(c){fe(c,function(s,a){var u=[],d=[NaN,NaN],g=s.data,v=s.isStackedByIndex;g.modify([s.stackResultDimension,s.stackedOverDimension],function(y,x,C){var w,D,P=g.get(s.stackedDimension,C);if(isNaN(P))return d;v?D=g.getRawIndex(C):w=g.get(s.stackedByDimension,C);for(var z=NaN,k=a-1;k>=0;k--){var E=c[k];if(v||(D=E.data.rawIndexOf(E.stackedByDimension,w)),D>=0){var F=E.data.getByRawIndex(E.stackResultDimension,D);if(P>=0&&F>0||P<=0&&F<0){P=T(P,F),z=F;break}}}return u[0]=P,u[1]=z,u})})}var c_,P0,ly,yL,A0,ob=function(c){this.data=c.data||(c.sourceFormat===ud?{}:[]),this.sourceFormat=c.sourceFormat||uL,this.seriesLayoutBy=c.seriesLayoutBy||S0,this.startIndex=c.startIndex||0,this.dimensionsDetectedCount=c.dimensionsDetectedCount,this.metaRawOption=c.metaRawOption;var s=this.dimensionsDefine=c.dimensionsDefine;if(s)for(var a=0;a<s.length;a++){var u=s[a];null==u.type&&1===cX(this,a)&&(u.type="ordinal")}};function ab(c){return c instanceof ob}function u_(c,s,a){a=a||ZM(c);var u=s.seriesLayoutBy,d=function(p,g,v,y,x){var C,w;if(!p)return{dimensionsDefine:xL(x),startIndex:w,dimensionsDetectedCount:C};if(g===Qp){var D=p;"auto"===y||null==y?bL(function(z){null!=z&&"-"!==z&&(ui(z)?null==w&&(w=1):w=0)},v,D,10):w=zt(y)?y:y?1:0,x||1!==w||(x=[],bL(function(z,k){x[k]=null!=z?z+"":""},v,D,1/0)),C=x?x.length:"row"===v?D.length:D[0]?D[0].length:null}else if(g===Cf)x||(x=function(z){for(var k,E=0;E<z.length&&!(k=z[E++]););if(k){var F=[];return fe(k,function(B,H){F.push(H)}),F}}(p));else if(g===ud)x||(x=[],fe(p,function(z,k){x.push(k)}));else if(g===bf){var P=Rp(p[0]);C=at(P)&&P.length||1}return{startIndex:w,dimensionsDefine:xL(x),dimensionsDetectedCount:C}}(c,a,u,s.sourceHeader,s.dimensions);return new ob({data:c,sourceFormat:a,seriesLayoutBy:u,dimensionsDefine:d.dimensionsDefine,startIndex:d.startIndex,dimensionsDetectedCount:d.dimensionsDetectedCount,metaRawOption:nn(s)})}function qM(c){return new ob({data:c,sourceFormat:Tl(c)?r_:bf})}function ZM(c){var s=uL;if(Tl(c))s=r_;else if(at(c)){0===c.length&&(s=Qp);for(var a=0,u=c.length;a<u;a++){var d=c[a];if(null!=d){if(at(d)){s=Qp;break}if(rn(d)){s=Cf;break}}}}else if(rn(c))for(var p in c)if(Nt(c,p)&&Dn(c[p])){s=ud;break}return s}function xL(c){if(c){var s=qt();return tt(c,function(a,u){var d={name:(a=rn(a)?a:{name:a}).name,displayName:a.displayName,type:a.type};if(null==d.name)return d;d.name+="",null==d.displayName&&(d.displayName=d.name);var p=s.get(d.name);return p?d.name+="-"+p.count++:s.set(d.name,{count:1}),d})}}function bL(c,s,a,u){if("row"===s)for(var d=0;d<a.length&&d<u;d++)c(a[d]?a[d][0]:null,d);else{var p=a[0]||[];for(d=0;d<p.length&&d<u;d++)c(p[d],d)}}function CL(c){var s=c.sourceFormat;return s===Cf||s===ud}var wL=function(){function c(s,a){var u=ab(s)?s:qM(s);this._source=u;var d=this._data=u.data;u.sourceFormat===r_&&(this._offset=0,this._dimSize=a,this._data=d),A0(this,d,u)}return c.prototype.getSource=function(){return this._source},c.prototype.count=function(){return 0},c.prototype.getItem=function(s,a){},c.prototype.appendData=function(s){},c.prototype.clean=function(){},c.protoInitialize=function(){var s=c.prototype;s.pure=!1,s.persistent=!0}(),c.internalField=function(){var s;A0=function(g,v,y){var x=y.sourceFormat,C=y.seriesLayoutBy,w=y.startIndex,D=y.dimensionsDefine;if(it(g,yL[zL(x,C)]),x===r_)g.getItem=a,g.count=d,g.fillStorage=u;else{var z=ML(x,C);g.getItem=rt(z,null,v,w,D);var k=sb(x,C);g.count=rt(k,null,v,w,D)}};var a=function(g,v){v=v||[];for(var y=this._data,x=this._dimSize,C=x*(g-=this._offset),w=0;w<x;w++)v[w]=y[C+w];return v},u=function(g,v,y,x){for(var C=this._data,w=this._dimSize,D=0;D<w;D++){for(var P=x[D],z=null==P[0]?1/0:P[0],k=null==P[1]?-1/0:P[1],E=v-g,F=y[D],B=0;B<E;B++){var H=C[B*w+D];F[g+B]=H,H<z&&(z=H),H>k&&(k=H)}P[0]=z,P[1]=k}},d=function(){return this._data?this._data.length/this._dimSize:0};function p(g){for(var v=0;v<g.length;v++)this._data.push(g[v])}(s={}).arrayRows_column={pure:!0,appendData:p},s.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},s.objectRows={pure:!0,appendData:p},s.keyedColumns={pure:!0,appendData:function(g){var v=this._data;fe(g,function(y,x){for(var C=v[x]||(v[x]=[]),w=0;w<(y||[]).length;w++)C.push(y[w])})}},s.original={appendData:p},s.typedArray={persistent:!1,pure:!0,appendData:function(g){this._data=g},clean:function(){this._offset+=this.count(),this._data=null}},yL=s}(),c}(),SL=function(c,s,a,u){return c[u]},TL=((c_={}).arrayRows_column=function(c,s,a,u){return c[u+s]},c_.arrayRows_row=function(c,s,a,u,d){u+=s;for(var p=d||[],g=c,v=0;v<g.length;v++){var y=g[v];p[v]=y?y[u]:null}return p},c_.objectRows=SL,c_.keyedColumns=function(c,s,a,u,d){for(var p=d||[],g=0;g<a.length;g++){var y=c[a[g].name];p[g]=y?y[u]:null}return p},c_.original=SL,c_);function ML(c,s){return TL[zL(c,s)]}var KM=function(c,s,a){return c.length},DL=((P0={}).arrayRows_column=function(c,s,a){return Math.max(0,c.length-s)},P0.arrayRows_row=function(c,s,a){var u=c[0];return u?Math.max(0,u.length-s):0},P0.objectRows=KM,P0.keyedColumns=function(c,s,a){var d=c[a[0].name];return d?d.length:0},P0.original=KM,P0);function sb(c,s){return DL[zL(c,s)]}var PL=function(c,s,a){return c[s]},QM=((ly={}).arrayRows=PL,ly.objectRows=function(c,s,a){return c[a]},ly.keyedColumns=PL,ly.original=function(c,s,a){var u=Rp(c);return u instanceof Array?u[s]:u},ly.typedArray=PL,ly);function AL(c){return QM[c]}function zL(c,s){return c===Qp?c+"_"+s:c}function de(c,s,a){if(c){var u=c.getRawDataItem(s);if(null!=u){var d=c.getStore(),p=d.getSource().sourceFormat;if(null!=a){var g=c.getDimensionIndex(a),v=d.getDimensionProperty(g);return AL(p)(u,g,v)}var y=u;return p===bf&&(y=Rp(u)),y}}}var kL=/\{@(.+?)\}/g,JM=function(){function c(){}return c.prototype.getDataParams=function(s,a){var u=this.getData(a),d=this.getRawValue(s,a),p=u.getRawIndex(s),g=u.getName(s),v=u.getRawDataItem(s),y=u.getItemVisual(s,"style"),x=y&&y[u.getItemVisual(s,"drawType")||"fill"],C=y&&y.stroke,w=this.mainType,D="series"===w,P=u.userOutput&&u.userOutput.get();return{componentType:w,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:D?this.subType:null,seriesIndex:this.seriesIndex,seriesId:D?this.id:null,seriesName:D?this.name:null,name:g,dataIndex:p,data:v,dataType:a,value:d,color:x,borderColor:C,dimensionNames:P?P.fullDimensions:null,encode:P?P.encode:null,$vars:["seriesName","name","value"]}},c.prototype.getFormattedLabel=function(s,a,u,d,p,g){a=a||"normal";var v=this.getData(u),y=this.getDataParams(s,u);return g&&(y.value=g.interpolatedValue),null!=d&&at(y.value)&&(y.value=y.value[d]),p||(p=v.getItemModel(s).get("normal"===a?["label","formatter"]:[a,"label","formatter"])),"function"==typeof p?(y.status=a,y.dimensionIndex=d,p(y)):"string"==typeof p?LM(p,y).replace(kL,function(x,C){var w=C.length,D=C;"["===D.charAt(0)&&"]"===D.charAt(w-1)&&(D=+D.slice(1,w-1));var P=de(v,s,D);if(g&&at(g.interpolatedValue)){var z=v.getDimensionIndex(D);z>=0&&(P=g.interpolatedValue[z])}return null!=P?P+"":""}):void 0},c.prototype.getRawValue=function(s,a){return de(this.getData(a),s)},c.prototype.formatTooltip=function(s,a,u){},c}();function e9(c){var s,a;return rn(c)?c.type&&(a=c):s=c,{markupText:s,markupFragment:a}}function cy(c){return new mX(c)}var mX=function(){function c(s){this._reset=(s=s||{}).reset,this._plan=s.plan,this._count=s.count,this._onDirty=s.onDirty,this._dirty=!0}return c.prototype.perform=function(s){var a,u=this._upstream,d=s&&s.skip;if(this._dirty&&u){var p=this.context;p.data=p.outputData=u.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!d&&(a=this._plan(this.context));var g,v=w(this._modBy),y=this._modDataCount||0,x=w(s&&s.modBy),C=s&&s.modDataCount||0;function w(B){return!(B>=1)&&(B=1),B}v===x&&y===C||(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,g=this._doReset(d)),this._modBy=x,this._modDataCount=C;var D=s&&s.step;if(this._dueEnd=u?u._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var P=this._dueIndex,z=Math.min(null!=D?this._dueIndex+D:1/0,this._dueEnd);if(!d&&(g||P<z)){var k=this._progress;if(at(k))for(var E=0;E<k.length;E++)this._doProgress(k[E],P,z,x,C);else this._doProgress(k,P,z,x,C)}this._dueIndex=z,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:z}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},c.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},c.prototype._doProgress=function(s,a,u,d,p){uy.reset(a,u,d,p),this._callingProgress=s,this._callingProgress({start:a,end:u,count:u-a,next:uy.next},this.context)},c.prototype._doReset=function(s){var a,u;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!s&&this._reset&&((a=this._reset(this.context))&&a.progress&&(u=a.forceFirstProgress,a=a.progress),at(a)&&!a.length&&(a=null)),this._progress=a,this._modBy=this._modDataCount=null;var d=this._downstream;return d&&d.dirty(),u},c.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},c.prototype.pipe=function(s){(this._downstream!==s||this._dirty)&&(this._downstream=s,s._upstream=this,s.dirty())},c.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},c.prototype.getUpstream=function(){return this._upstream},c.prototype.getDownstream=function(){return this._downstream},c.prototype.setOutputEnd=function(s){this._outputDueEnd=this._settedOutputEnd=s},c}(),uy=function(){var c,s,a,u,d,p={reset:function(y,x,C,w){s=y,c=x,a=C,u=w,d=Math.ceil(u/a),p.next=a>1&&u>0?v:g}};return p;function g(){return s<c?s++:null}function v(){var y=s%d*a+Math.ceil(s/d),x=s>=c?null:y<u?y:s;return s++,x}}();function Du(c,s){var a=s&&s.type;return"ordinal"===a?c:("time"===a&&"number"!=typeof c&&null!=c&&"-"!==c&&(c=+Ce(c)),null==c||""===c?NaN:+c)}var t9=qt({number:function(c){return parseFloat(c)},time:function(c){return+Ce(c)},trim:function(c){return"string"==typeof c?ih(c):c}});function h_(c){return t9.get(c)}var lb={lt:function(c,s){return c<s},lte:function(c,s){return c<=s},gt:function(c,s){return c>s},gte:function(c,s){return c>=s}},cb=function(){function c(s,a){"number"!=typeof a&&Ui(""),this._opFn=lb[s],this._rvalFloat=pn(a)}return c.prototype.evaluate=function(s){return this._opFn("number"==typeof s?s:pn(s),this._rvalFloat)},c}(),n9=function(){function c(s,a){var u="desc"===s;this._resultLT=u?1:-1,null==a&&(a=u?"min":"max"),this._incomparable="min"===a?-1/0:1/0}return c.prototype.evaluate=function(s,a){var u=typeof s,d=typeof a,p="number"===u?s:pn(s),g="number"===d?a:pn(a),v=isNaN(p),y=isNaN(g);if(v&&(p=this._incomparable),y&&(g=this._incomparable),v&&y){var x="string"===u,C="string"===d;x&&(p=C?s:0),C&&(g=x?a:0)}return p<g?this._resultLT:p>g?-this._resultLT:0},c}(),r9=function(){function c(s,a){this._rval=a,this._isEQ=s,this._rvalTypeof=typeof a,this._rvalFloat=pn(a)}return c.prototype.evaluate=function(s){var a=s===this._rval;if(!a){var u=typeof s;u===this._rvalTypeof||"number"!==u&&"number"!==this._rvalTypeof||(a=pn(s)===this._rvalFloat)}return this._isEQ?a:!a},c}();function o9(c,s){return"eq"===c||"ne"===c?new r9("eq"===c,s):Nt(lb,c)?new cb(c,s):null}var a9=function(){function c(){}return c.prototype.getRawData=function(){throw new Error("not supported")},c.prototype.getRawDataItem=function(s){throw new Error("not supported")},c.prototype.cloneRawData=function(){},c.prototype.getDimensionInfo=function(s){},c.prototype.cloneAllDimensionInfo=function(){},c.prototype.count=function(){},c.prototype.retrieveValue=function(s,a){},c.prototype.retrieveValueFromItem=function(s,a){},c.prototype.convertValue=function(s,a){return Du(s,a)},c}();function OL(c){return ub(c.sourceFormat)||Ui(""),c.data}function s9(c){var s=c.sourceFormat,a=c.data;if(ub(s)||Ui(""),s===Qp){for(var d=[],p=0,g=a.length;p<g;p++)d.push(a[p].slice());return d}if(s===Cf){for(d=[],p=0,g=a.length;p<g;p++)d.push(it({},a[p]));return d}}function vX(c,s,a){if(null!=a)return"number"==typeof a||!isNaN(a)&&!Nt(s,a)?c[a]:Nt(s,a)?s[a]:void 0}function _X(c){return nn(c)}var l9=qt();function yX(c,s,a,u){s.length||Ui(""),rn(c)||Ui("");var g=l9.get(c.type);g||Ui("");var v=tt(s,function(x){return function(C,w){var D=new a9,P=C.data,z=D.sourceFormat=C.sourceFormat,k=C.startIndex;C.seriesLayoutBy!==S0&&Ui("");var F=[],B={},H=C.dimensionsDefine;if(H)fe(H,function(re,oe){var ae=re.name,he={index:oe,name:ae,displayName:re.displayName};if(F.push(he),null!=ae){Nt(B,ae)&&Ui(""),B[ae]=he}});else for(var Y=0;Y<C.dimensionsDetectedCount;Y++)F.push({index:Y});var U=ML(z,S0);w.__isBuiltIn&&(D.getRawDataItem=function(re){return U(P,k,F,re)},D.getRawData=rt(OL,null,C)),D.cloneRawData=rt(s9,null,C);var j=sb(z,S0);D.count=rt(j,null,P,k,F);var q=AL(z);D.retrieveValue=function(re,oe){var ae=U(P,k,F,re);return Q(ae,oe)};var Q=D.retrieveValueFromItem=function(re,oe){if(null!=re){var ae=F[oe];return ae?q(re,oe,ae.name):void 0}};return D.getDimensionInfo=rt(vX,null,F,B),D.cloneAllDimensionInfo=rt(_X,null,F),D}(x,g)});return tt(Sr(g.transform({upstream:v[0],upstreamList:v,config:nn(c.config)})),function(x,C){var w;rn(x)||Ui(""),x.data||Ui(""),ub(ZM(x.data))||Ui("");var P=s[0];if(P&&0===C&&!x.dimensions){var z=P.startIndex;z&&(x.data=P.data.slice(0,z).concat(x.data)),w={seriesLayoutBy:S0,sourceHeader:z,dimensions:P.metaRawOption.dimensions}}else w={seriesLayoutBy:S0,sourceHeader:0,dimensions:x.dimensions};return u_(x.data,w,null)})}function ub(c){return c===Qp||c===Cf}var hb,db="undefined",xX=typeof Uint32Array===db?Array:Uint32Array,Pu=typeof Uint16Array===db?Array:Uint16Array,c9=typeof Int32Array===db?Array:Int32Array,EL=typeof Float64Array===db?Array:Float64Array,bX={float:EL,int:c9,ordinal:Array,number:Array,time:EL};function z0(c){return c>65535?xX:Pu}function u9(c,s,a,u,d){var p=bX[a||"float"];if(d){var g=c[s],v=g&&g.length;if(v!==u){for(var y=new p(u),x=0;x<v;x++)y[x]=g[x];c[s]=y}}else c[s]=new p(u)}var h9=function(){function c(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=qt()}return c.prototype.initData=function(s,a,u){this._provider=s,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var d=s.getSource(),p=this.defaultDimValueGetter=hb[d.sourceFormat];this._dimValueGetter=u||p,this._rawExtent=[],CL(d),this._dimensions=tt(a,function(g){return{type:g.type,property:g.property}}),this._initDataFromProvider(0,s.count())},c.prototype.getProvider=function(){return this._provider},c.prototype.getSource=function(){return this._provider.getSource()},c.prototype.ensureCalculationDimension=function(s,a){var u=this._calcDimNameToIdx,d=this._dimensions,p=u.get(s);if(null!=p){if(d[p].type===a)return p}else p=d.length;return d[p]={type:a},u.set(s,p),this._chunks[p]=new bX[a||"float"](this._rawCount),this._rawExtent[p]=[1/0,-1/0],p},c.prototype.collectOrdinalMeta=function(s,a){var u=this._chunks[s],d=this._dimensions[s],p=this._rawExtent,g=d.ordinalOffset||0,v=u.length;0===g&&(p[s]=[1/0,-1/0]);for(var y=p[s],x=g;x<v;x++){var C=u[x]=a.parseAndCollect(u[x]);y[0]=Math.min(C,y[0]),y[1]=Math.max(C,y[1])}d.ordinalMeta=a,d.ordinalOffset=v,d.type="ordinal"},c.prototype.getOrdinalMeta=function(s){return this._dimensions[s].ordinalMeta},c.prototype.getDimensionProperty=function(s){var a=this._dimensions[s];return a&&a.property},c.prototype.appendData=function(s){var a=this._provider,u=this.count();a.appendData(s);var d=a.count();return a.persistent||(d+=u),u<d&&this._initDataFromProvider(u,d,!0),[u,d]},c.prototype.appendValues=function(s,a){for(var u=this._chunks,d=this._dimensions,p=d.length,g=this._rawExtent,v=this.count(),y=v+Math.max(s.length,a||0),x=0;x<p;x++)u9(u,x,(z=d[x]).type,y,!0);for(var C=[],w=v;w<y;w++)for(var D=w-v,P=0;P<p;P++){var z=d[P],k=hb.arrayRows.call(this,s[D]||C,z.property,D,P);u[P][w]=k;var E=g[P];k<E[0]&&(E[0]=k),k>E[1]&&(E[1]=k)}return this._rawCount=this._count=y,{start:v,end:y}},c.prototype._initDataFromProvider=function(s,a,u){for(var d=this._provider,p=this._chunks,g=this._dimensions,v=g.length,y=this._rawExtent,x=tt(g,function(B){return B.property}),C=0;C<v;C++){var w=g[C];y[C]||(y[C]=[1/0,-1/0]),u9(p,C,w.type,a,u)}if(d.fillStorage)d.fillStorage(s,a,p,y);else for(var D=[],P=s;P<a;P++){D=d.getItem(P,D);for(var z=0;z<v;z++){var k=p[z],E=this._dimValueGetter(D,x[z],P,z);k[P]=E;var F=y[z];E<F[0]&&(F[0]=E),E>F[1]&&(F[1]=E)}}!d.persistent&&d.clean&&d.clean(),this._rawCount=this._count=a,this._extent=[]},c.prototype.count=function(){return this._count},c.prototype.get=function(s,a){if(!(a>=0&&a<this._count))return NaN;var u=this._chunks[s];return u?u[this.getRawIndex(a)]:NaN},c.prototype.getValues=function(s,a){var u=[],d=[];if(null==a){a=s,s=[];for(var p=0;p<this._dimensions.length;p++)d.push(p)}else d=s;p=0;for(var g=d.length;p<g;p++)u.push(this.get(d[p],a));return u},c.prototype.getByRawIndex=function(s,a){if(!(a>=0&&a<this._rawCount))return NaN;var u=this._chunks[s];return u?u[a]:NaN},c.prototype.getSum=function(s){var a=0;if(this._chunks[s])for(var u=0,d=this.count();u<d;u++){var p=this.get(s,u);isNaN(p)||(a+=p)}return a},c.prototype.getMedian=function(s){var a=[];this.each([s],function(p){isNaN(p)||a.push(p)});var u=a.sort(function(p,g){return p-g}),d=this.count();return 0===d?0:d%2==1?u[(d-1)/2]:(u[d/2]+u[d/2-1])/2},c.prototype.indexOfRawIndex=function(s){if(s>=this._rawCount||s<0)return-1;if(!this._indices)return s;var a=this._indices,u=a[s];if(null!=u&&u<this._count&&u===s)return s;for(var d=0,p=this._count-1;d<=p;){var g=(d+p)/2|0;if(a[g]<s)d=g+1;else{if(!(a[g]>s))return g;p=g-1}}return-1},c.prototype.indicesOfNearest=function(s,a,u){var d=this._chunks[s],p=[];if(!d)return p;null==u&&(u=1/0);for(var g=1/0,v=-1,y=0,x=0,C=this.count();x<C;x++){var w=a-d[this.getRawIndex(x)],D=Math.abs(w);D<=u&&((D<g||D===g&&w>=0&&v<0)&&(g=D,v=w,y=0),w===v&&(p[y++]=x))}return p.length=y,p},c.prototype.getIndices=function(){var s,a=this._indices;if(a){var u=a.constructor,d=this._count;if(u===Array){s=new u(d);for(var p=0;p<d;p++)s[p]=a[p]}else s=new u(a.buffer,0,d)}else for(s=new(u=z0(this._rawCount))(this.count()),p=0;p<s.length;p++)s[p]=p;return s},c.prototype.filter=function(s,a){if(!this._count)return this;for(var u=this.clone(),d=u.count(),p=new(z0(u._rawCount))(d),g=[],v=s.length,y=0,x=s[0],C=u._chunks,w=0;w<d;w++){var D=void 0,P=u.getRawIndex(w);if(0===v)D=a(w);else if(1===v)D=a(C[x][P],w);else{for(var z=0;z<v;z++)g[z]=C[s[z]][P];g[z]=w,D=a.apply(null,g)}D&&(p[y++]=P)}return y<d&&(u._indices=p),u._count=y,u._extent=[],u._updateGetRawIdx(),u},c.prototype.selectRange=function(s){var a=this.clone(),u=a._count;if(!u)return this;var d=Gt(s),p=d.length;if(!p)return this;var g=a.count(),v=new(z0(a._rawCount))(g),y=0,x=d[0],C=s[x][0],w=s[x][1],D=a._chunks,P=!1;if(!a._indices){var z=0;if(1===p){for(var k=D[d[0]],E=0;E<u;E++)((Y=k[E])>=C&&Y<=w||isNaN(Y))&&(v[y++]=z),z++;P=!0}else if(2===p){k=D[d[0]];var F=D[d[1]],B=s[d[1]][0],H=s[d[1]][1];for(E=0;E<u;E++){var Y=k[E],U=F[E];(Y>=C&&Y<=w||isNaN(Y))&&(U>=B&&U<=H||isNaN(U))&&(v[y++]=z),z++}P=!0}}if(!P)if(1===p)for(E=0;E<g;E++){var j=a.getRawIndex(E);((Y=D[d[0]][j])>=C&&Y<=w||isNaN(Y))&&(v[y++]=j)}else for(E=0;E<g;E++){for(var q=!0,Q=(j=a.getRawIndex(E),0);Q<p;Q++){var re=d[Q];((Y=D[re][j])<s[re][0]||Y>s[re][1])&&(q=!1)}q&&(v[y++]=a.getRawIndex(E))}return y<g&&(a._indices=v),a._count=y,a._extent=[],a._updateGetRawIdx(),a},c.prototype.map=function(s,a){var u=this.clone(s);return this._updateDims(u,s,a),u},c.prototype.modify=function(s,a){this._updateDims(this,s,a)},c.prototype._updateDims=function(s,a,u){for(var d=s._chunks,p=[],g=a.length,v=s.count(),y=[],x=s._rawExtent,C=0;C<a.length;C++)x[a[C]]=[1/0,-1/0];for(var w=0;w<v;w++){for(var D=s.getRawIndex(w),P=0;P<g;P++)y[P]=d[a[P]][D];y[g]=w;var z=u&&u.apply(null,y);if(null!=z)for("object"!=typeof z&&(p[0]=z,z=p),C=0;C<z.length;C++){var k=a[C],E=z[C],F=x[k],B=d[k];B&&(B[D]=E),E<F[0]&&(F[0]=E),E>F[1]&&(F[1]=E)}}},c.prototype.lttbDownSample=function(s,a){var u,d,p,g=this.clone([s],!0),v=g._chunks[s],y=this.count(),x=0,C=Math.floor(1/a),w=this.getRawIndex(0),D=new(z0(this._rawCount))(Math.ceil(y/C)+2);D[x++]=w;for(var P=1;P<y-1;P+=C){for(var z=Math.min(P+C,y-1),k=Math.min(P+2*C,y),E=(k+z)/2,F=0,B=z;B<k;B++){var H=v[Q=this.getRawIndex(B)];isNaN(H)||(F+=H)}F/=k-z;var Y=P,U=Math.min(P+C,y),j=P-1,q=v[w];for(u=-1,p=Y,B=Y;B<U;B++){var Q;H=v[Q=this.getRawIndex(B)],isNaN(H)||(d=Math.abs((j-E)*(H-q)-(j-B)*(F-q)))>u&&(u=d,p=Q)}D[x++]=p,w=p}return D[x++]=this.getRawIndex(y-1),g._count=x,g._indices=D,g.getRawIndex=this._getRawIdx,g},c.prototype.downSample=function(s,a,u,d){for(var p=this.clone([s],!0),g=p._chunks,v=[],y=Math.floor(1/a),x=g[s],C=this.count(),w=p._rawExtent[s]=[1/0,-1/0],D=new(z0(this._rawCount))(Math.ceil(C/y)),P=0,z=0;z<C;z+=y){y>C-z&&(v.length=y=C-z);for(var k=0;k<y;k++){var E=this.getRawIndex(z+k);v[k]=x[E]}var F=u(v),B=this.getRawIndex(Math.min(z+d(v,F)||0,C-1));x[B]=F,F<w[0]&&(w[0]=F),F>w[1]&&(w[1]=F),D[P++]=B}return p._count=P,p._indices=D,p._updateGetRawIdx(),p},c.prototype.each=function(s,a){if(this._count)for(var u=s.length,d=this._chunks,p=0,g=this.count();p<g;p++){var v=this.getRawIndex(p);switch(u){case 0:a(p);break;case 1:a(d[s[0]][v],p);break;case 2:a(d[s[0]][v],d[s[1]][v],p);break;default:for(var y=0,x=[];y<u;y++)x[y]=d[s[y]][v];x[y]=p,a.apply(null,x)}}},c.prototype.getDataExtent=function(s){var a=this._chunks[s],u=[1/0,-1/0];if(!a)return u;var d,p=this.count();if(!this._indices)return this._rawExtent[s].slice();if(d=this._extent[s])return d.slice();for(var g=(d=u)[0],v=d[1],y=0;y<p;y++){var x=a[this.getRawIndex(y)];x<g&&(g=x),x>v&&(v=x)}return this._extent[s]=d=[g,v],d},c.prototype.getRawDataItem=function(s){var a=this.getRawIndex(s);if(this._provider.persistent)return this._provider.getItem(a);for(var u=[],d=this._chunks,p=0;p<d.length;p++)u.push(d[p][a]);return u},c.prototype.clone=function(s,a){var u,d,p=new c,g=this._chunks,v=s&&nt(s,function(x,C){return x[C]=!0,x},{});if(v)for(var y=0;y<g.length;y++)p._chunks[y]=v[y]?(d=void 0,(d=(u=g[y]).constructor)===Array?u.slice():new d(u)):g[y];else p._chunks=g;return this._copyCommonProps(p),a||(p._indices=this._cloneIndices()),p._updateGetRawIdx(),p},c.prototype._copyCommonProps=function(s){s._count=this._count,s._rawCount=this._rawCount,s._provider=this._provider,s._dimensions=this._dimensions,s._extent=nn(this._extent),s._rawExtent=nn(this._rawExtent)},c.prototype._cloneIndices=function(){if(this._indices){var s=this._indices.constructor,a=void 0;if(s===Array){var u=this._indices.length;a=new s(u);for(var d=0;d<u;d++)a[d]=this._indices[d]}else a=new s(this._indices);return a}return null},c.prototype._getRawIdxIdentity=function(s){return s},c.prototype._getRawIdx=function(s){return s<this._count&&s>=0?this._indices[s]:-1},c.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},c.internalField=function(){function s(a,u,d,p){return Du(a[p],this._dimensions[p])}hb={arrayRows:s,objectRows:function(a,u,d,p){return Du(a[u],this._dimensions[p])},keyedColumns:s,original:function(a,u,d,p){var g=a&&(null==a.value?a:a.value);return Du(g instanceof Array?g[p]:g,this._dimensions[p])},typedArray:function(a,u,d,p){return a[p]}}}(),c}(),IL=function(){function c(s){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=s}return c.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},c.prototype._setLocalSource=function(s,a){this._sourceList=s,this._upstreamSignList=a,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},c.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},c.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},c.prototype._createSource=function(){this._setLocalSource([],[]);var s,a,u=this._sourceHost,d=this._getUpstreamSourceManagers(),p=!!d.length;if(hy(u)){var g=u,v=void 0,y=void 0,x=void 0;if(p){var C=d[0];C.prepareSource(),v=(x=C.getSource()).data,y=x.sourceFormat,a=[C._getVersionSign()]}else y=Tl(v=g.get("data",!0))?r_:bf,a=[];var w=this._getSourceMetaRawOption()||{},D=x&&x.metaRawOption||{},P=xi(w.seriesLayoutBy,D.seriesLayoutBy)||null,z=xi(w.sourceHeader,D.sourceHeader)||null,k=xi(w.dimensions,D.dimensions);s=P!==D.seriesLayoutBy||!!z!=!!D.sourceHeader||k?[u_(v,{seriesLayoutBy:P,sourceHeader:z,dimensions:k},y)]:[]}else{var E=u;if(p){var F=this._applyTransform(d);s=F.sourceList,a=F.upstreamSignList}else s=[u_(E.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(s,a)},c.prototype._applyTransform=function(s){var a,u=this._sourceHost,d=u.get("transform",!0),p=u.get("fromTransformResult",!0);null!=p&&1!==s.length&&RL("");var v,y=[],x=[];return fe(s,function(C){C.prepareSource();var w=C.getSource(p||0);null==p||w||RL(""),y.push(w),x.push(C._getVersionSign())}),d?a=function(C,w,D){var P=Sr(C),z=P.length;z||Ui("");for(var E=0,F=z;E<F;E++)w=yX(P[E],w),E!==F-1&&(w.length=Math.max(w.length,1));return w}(d,y):null!=p&&(a=[(v=y[0],new ob({data:v.data,sourceFormat:v.sourceFormat,seriesLayoutBy:v.seriesLayoutBy,dimensionsDefine:nn(v.dimensionsDefine),startIndex:v.startIndex,dimensionsDetectedCount:v.dimensionsDetectedCount}))]),{sourceList:a,upstreamSignList:x}},c.prototype._isDirty=function(){if(this._dirty)return!0;for(var s=this._getUpstreamSourceManagers(),a=0;a<s.length;a++){var u=s[a];if(u._isDirty()||this._upstreamSignList[a]!==u._getVersionSign())return!0}},c.prototype.getSource=function(s){var a=this._sourceList[s=s||0];if(!a){var u=this._getUpstreamSourceManagers();return u[0]&&u[0].getSource(s)}return a},c.prototype.getSharedDataStore=function(s){var a=s.makeStoreSchema();return this._innerGetDataStore(a.dimensions,s.source,a.hash)},c.prototype._innerGetDataStore=function(s,a,u){var d=this._storeList,p=d[0];p||(p=d[0]={});var g=p[u];if(!g){var v=this._getUpstreamSourceManagers()[0];hy(this._sourceHost)&&v?g=v._innerGetDataStore(s,a,u):(g=new h9).initData(new wL(a,s.length),s),p[u]=g}return g},c.prototype._getUpstreamSourceManagers=function(){var u,s=this._sourceHost;if(hy(s)){var a=FM(s);return a?[a.getSourceManager()]:[]}return tt((u=s).get("transform",!0)||u.get("fromTransformResult",!0)?O3(u.ecModel,"dataset",{index:u.get("fromDatasetIndex",!0),id:u.get("fromDatasetId",!0)},Na).models:[],function(u){return u.getSourceManager()})},c.prototype._getSourceMetaRawOption=function(){var s,a,u,d=this._sourceHost;if(hy(d))s=d.get("seriesLayoutBy",!0),a=d.get("sourceHeader",!0),u=d.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var p=d;s=p.get("seriesLayoutBy",!0),a=p.get("sourceHeader",!0),u=p.get("dimensions",!0)}return{seriesLayoutBy:s,sourceHeader:a,dimensions:u}},c}();function LL(c){c.option.transform&&wp(c.option.transform)}function hy(c){return"series"===c.mainType}function RL(c){throw new Error(c)}function NL(c,s){var a=c.color||"#6e7079",u=c.fontSize||12,d=c.fontWeight||"400",p=c.color||"#464646",g=c.fontSize||14,v=c.fontWeight||"900";return"html"===s?{nameStyle:"font-size:"+Bc(u+"")+"px;color:"+Bc(a)+";font-weight:"+Bc(d+""),valueStyle:"font-size:"+Bc(g+"")+"px;color:"+Bc(p)+";font-weight:"+Bc(v+"")}:{nameStyle:{fontSize:u,fill:a,fontWeight:d},valueStyle:{fontSize:g,fill:p,fontWeight:v}}}var d9=[0,10,20,30],CX=["","\n","\n\n","\n\n\n"];function bs(c,s){return s.type=c,s}function f9(c){return Nt(FL,c.type)&&FL[c.type]}var FL={section:{planLayout:function(c){var s=c.blocks.length,a=s>1||s>0&&!c.noHeader,u=0;fe(c.blocks,function(d){f9(d).planLayout(d);var p=d.__gapLevelBetweenSubBlocks;p>=u&&(u=p+(!a||p&&("section"!==d.type||d.noHeader)?0:1))}),c.__gapLevelBetweenSubBlocks=u},build:function(c,s,a,u){var d=s.noHeader,p=dd(s),g=function(x,C,w,D){var P=[],z=C.blocks||[];Dl(!z||at(z)),z=z||[];var k=x.orderMode;if(C.sortBlocks&&k){z=z.slice();var E={valueAsc:"asc",valueDesc:"desc"};if(Nt(E,k)){var F=new n9(E[k],null);z.sort(function(H,Y){return F.evaluate(H.sortParam,Y.sortParam)})}else"seriesDesc"===k&&z.reverse()}var B=dd(C);if(fe(z,function(H,Y){var U=f9(H).build(x,H,Y>0?B.html:0,D);null!=U&&P.push(U)}),P.length)return"richText"===x.renderMode?P.join(B.richText):dy(P.join(""),w)}(c,s,d?a:p.html,u);if(d)return g;var v=ay(s.header,"ordinal",c.useUTC),y=NL(u,c.renderMode).nameStyle;return"richText"===c.renderMode?VL(c,v,y)+p.richText+g:dy('<div style="'+y+';line-height:1;">'+Bc(v)+"</div>"+g,a)}},nameValue:{planLayout:function(c){c.__gapLevelBetweenSubBlocks=0},build:function(c,s,a,u){var Y,U,re,d=c.renderMode,p=s.noName,g=s.noValue,v=!s.markerType,y=s.name,x=s.value,C=c.useUTC;if(!p||!g){var w=v?"":c.markupStyleCreator.makeTooltipMarker(s.markerType,s.markerColor||"#333",d),D=p?"":ay(y,"ordinal",C),P=s.valueType,z=g?[]:at(x)?tt(x,function(Y,U){return ay(Y,at(P)?P[U]:P,C)}):[ay(x,at(P)?P[0]:P,C)],k=!v||!p,E=!v&&p,F=NL(u,d),B=F.nameStyle,H=F.valueStyle;return"richText"===d?(v?"":w)+(p?"":VL(c,D,B))+(g?"":(Y=c,U=z,re=[H],k&&re.push({padding:[0,0,0,E?10:20],align:"right"}),Y.markupStyleCreator.wrapRichTextStyle(U.join("  "),re))):dy((v?"":w)+(p?"":function(Y,U,j){return'<span style="'+j+";"+(U?"margin-left:2px":"")+'">'+Bc(Y)+"</span>"}(D,!v,B))+(g?"":function(Y,U,j,q){return'<span style="'+(U?"float:right;margin-left:"+(j?"10px":"20px"):"")+";"+q+'">'+tt(Y,function(re){return Bc(re)}).join("&nbsp;&nbsp;")+"</span>"}(z,k,E,H)),a)}}}};function BL(c,s,a,u,d,p){if(c){var g=f9(c);return g.planLayout(c),g.build({useUTC:d,renderMode:a,orderMode:u,markupStyleCreator:s},c,0,p)}}function dd(c){var s=c.__gapLevelBetweenSubBlocks;return{html:d9[s],richText:CX[s]}}function dy(c,s){return'<div style="margin: '+s+'px 0 0;line-height:1;">'+c+'<div style="clear:both"></div></div>'}function VL(c,s,a){return c.markupStyleCreator.wrapRichTextStyle(s,a)}function HL(c,s){return Zp(c.getData().getItemVisual(s,"style")[c.visualDrawType])}function p9(c,s){return c.get("padding")??("richText"===s?[8,10]:10)}var g9=function(){function c(){this.richTextStyles={},this._nextStyleNameId=fh()}return c.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},c.prototype.makeTooltipMarker=function(s,a,u){var d="richText"===u?this._generateStyleName():null,p=aL({color:a,type:s,renderMode:u,markerId:d});return ui(p)?p:(this.richTextStyles[d]=p.style,p.content)},c.prototype.wrapRichTextStyle=function(s,a){var u={};at(a)?fe(a,function(p){return it(u,p)}):it(u,a);var d=this._generateStyleName();return this.richTextStyles[d]=u,"{"+d+"|"+s+"}"},c}();function YL(c){var s,a,u,d,p=c.series,g=c.dataIndex,v=c.multipleSeries,y=p.getData(),x=y.mapDimensionsAll("defaultedTooltip"),C=x.length,w=p.getRawValue(g),D=at(w),P=HL(p,g);if(C>1||D&&!C){var z=function(Y,U,j,q,Q){var re=U.getData(),oe=nt(Y,function(be,we,Te){var Me=re.getDimensionInfo(Te);return be||Me&&!1!==Me.tooltip&&null!=Me.displayName},!1),ae=[],he=[],me=[];function _e(be,we){var Te=re.getDimensionInfo(we);Te&&!1!==Te.otherDims.tooltip&&(oe?me.push(bs("nameValue",{markerType:"subItem",markerColor:Q,name:Te.displayName,value:be,valueType:Te.type})):(ae.push(be),he.push(Te.type)))}return q.length?fe(q,function(be){_e(de(re,j,be),be)}):fe(Y,_e),{inlineValues:ae,inlineValueTypes:he,blocks:me}}(w,p,g,x,P);s=z.inlineValues,a=z.inlineValueTypes,u=z.blocks,d=z.inlineValues[0]}else if(C){var k=y.getDimensionInfo(x[0]);d=s=de(y,g,x[0]),a=k.type}else d=s=D?w[0]:w;var E=r0(p),F=E&&p.name||"",B=y.getName(g),H=v?F:B;return bs("section",{header:F,noHeader:v||!E,sortParam:d,blocks:[bs("nameValue",{markerType:"item",markerColor:P,name:H,noName:!ih(H),value:s,valueType:a})].concat(u||[])})}var R1=Zi();function d_(c,s){return c.getName(s)||c.getId(s)}var Fr=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a._selectedDataIndicesMap={},a}return Ee(s,c),s.prototype.init=function(a,u,d){this.seriesIndex=this.componentIndex,this.dataTask=cy({count:fb,reset:m9}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,d),(R1(this).sourceManager=new IL(this)).prepareSource();var p=this.getInitialData(a,d);wX(p,this),this.dataTask.context.data=p,R1(this).dataBeforeProcessed=p,UL(this),this._initSelectedMapFromData(p)},s.prototype.mergeDefaultAndTheme=function(a,u){var d=yf(this),p=d?i_(a):{},g=this.subType;di.hasClass(g)&&(g+="Series"),Mn(a,u.getTheme().get(this.subType)),Mn(a,this.getDefaultOption()),yu(a,"label",["show"]),this.fillDataTextStyle(a.data),d&&Vt(a,p,d)},s.prototype.mergeOption=function(a,u){a=Mn(this.option,a,!0),this.fillDataTextStyle(a.data);var d=yf(this);d&&Vt(this.option,a,d);var p=R1(this).sourceManager;p.dirty(),p.prepareSource();var g=this.getInitialData(a,u);wX(g,this),this.dataTask.dirty(),this.dataTask.context.data=g,R1(this).dataBeforeProcessed=g,UL(this),this._initSelectedMapFromData(g)},s.prototype.fillDataTextStyle=function(a){if(a&&!Tl(a))for(var u=["show"],d=0;d<a.length;d++)a[d]&&a[d].label&&yu(a[d],"label",u)},s.prototype.getInitialData=function(a,u){},s.prototype.appendData=function(a){this.getRawData().appendData(a.data)},s.prototype.getData=function(a){var u=GL(this);if(u){var d=u.context.data;return null==a?d:d.getLinkedData(a)}return R1(this).data},s.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},s.prototype.setData=function(a){var u=GL(this);if(u){var d=u.context;d.outputData=a,u!==this.dataTask&&(d.data=a)}R1(this).data=a},s.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return qt(a)},s.prototype.getSourceManager=function(){return R1(this).sourceManager},s.prototype.getSource=function(){return this.getSourceManager().getSource()},s.prototype.getRawData=function(){return R1(this).dataBeforeProcessed},s.prototype.getColorBy=function(){return this.get("colorBy")||"series"},s.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},s.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},s.prototype.formatTooltip=function(a,u,d){return YL({series:this,dataIndex:a,multipleSeries:u})},s.prototype.isAnimationEnabled=function(){if(Pt.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),!!a},s.prototype.restoreData=function(){this.dataTask.dirty()},s.prototype.getColorFromPalette=function(a,u,d){var p=this.ecModel,g=HM.prototype.getColorFromPalette.call(this,a,u,d);return g||(g=p.getColorFromPalette(a,u,d)),g},s.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},s.prototype.getProgressive=function(){return this.get("progressive")},s.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},s.prototype.select=function(a,u){this._innerSelect(this.getData(u),a)},s.prototype.unselect=function(a,u){var d=this.option.selectedMap;if(d)for(var p=this.getData(u),g=0;g<a.length;g++){var v=d_(p,a[g]);d[v]=!1,this._selectedDataIndicesMap[v]=-1}},s.prototype.toggleSelect=function(a,u){for(var d=[],p=0;p<a.length;p++)d[0]=a[p],this.isSelected(a[p],u)?this.unselect(d,u):this.select(d,u)},s.prototype.getSelectedDataIndices=function(){for(var a=this._selectedDataIndicesMap,u=Gt(a),d=[],p=0;p<u.length;p++){var g=a[u[p]];g>=0&&d.push(g)}return d},s.prototype.isSelected=function(a,u){var d=this.option.selectedMap;return d&&d[d_(this.getData(u),a)]||!1},s.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var a=this.option.universalTransition;return!!a&&(!0===a||a&&a.enabled)},s.prototype._innerSelect=function(a,u){var d,p,g=this.option.selectedMode,v=u.length;if(g&&v)if("multiple"===g)for(var y=this.option.selectedMap||(this.option.selectedMap={}),x=0;x<v;x++){var C=u[x];y[D=d_(a,C)]=!0,this._selectedDataIndicesMap[D]=a.getRawIndex(C)}else if("single"===g||!0===g){var w=u[v-1],D=d_(a,w);this.option.selectedMap=((d={})[D]=!0,d),this._selectedDataIndicesMap=((p={})[D]=a.getRawIndex(w),p)}},s.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var u=[];a.hasItemOption&&a.each(function(d){var p=a.getRawDataItem(d);p&&p.selected&&u.push(d)}),u.length>0&&this._innerSelect(a,u)}},s.registerClass=function(a){return di.registerClass(a)},s.protoInitialize=((a=s.prototype).type="series.__base__",a.seriesIndex=0,a.ignoreStyleOnData=!1,a.hasSymbolVisual=!1,a.defaultSymbol="circle",a.visualStyleAccessPath="itemStyle",void(a.visualDrawType="fill")),s;var a}(di);function UL(c){var u,d,p,s=c.name;r0(c)||(c.name=(d=(u=c.getRawData()).mapDimensionsAll("seriesName"),p=[],fe(d,function(g){var v=u.getDimensionInfo(g);v.displayName&&p.push(v.displayName)}),p.join(" ")||s))}function fb(c){return c.model.getRawData().count()}function m9(c){var s=c.model;return s.setData(s.getRawData().cloneShallow()),pb}function pb(c,s){s.outputData&&c.end>s.outputData.count()&&s.model.getRawData().cloneShallow(s.outputData)}function wX(c,s){fe(m2(c.CHANGABLE_METHODS,c.DOWNSAMPLE_METHODS),function(a){c.wrapMethod(a,Je(v9,s))})}function v9(c,s){var a=GL(c);return a&&a.setOutputEnd((s||this).count()),s}function GL(c){var s=(c.ecModel||{}).scheduler,a=s&&s.getPipeline(c.uid);if(a){var u=a.currentTask;if(u){var d=u.agentStubMap;d&&(u=d.get(c.uid))}return u}}Gr(Fr,JM),Gr(Fr,HM),FT(Fr,di);var $r=function(){function c(){this.group=new Xt,this.uid=J2("viewComponent")}return c.prototype.init=function(s,a){},c.prototype.render=function(s,a,u,d){},c.prototype.dispose=function(s,a){},c.prototype.updateView=function(s,a,u,d){},c.prototype.updateLayout=function(s,a,u,d){},c.prototype.updateVisual=function(s,a,u,d){},c.prototype.blurSeries=function(s,a){},c}();function k0(){var c=Zi();return function(s){var a=c(s),u=s.pipelineContext,d=!!a.large,p=!!a.progressiveRender,g=a.large=!(!u||!u.large),v=a.progressiveRender=!(!u||!u.progressiveRender);return!(d===g&&p===v)&&"reset"}}Ze($r),O2($r);var _9=Zi(),WL=k0(),dr=function(){function c(){this.group=new Xt,this.uid=J2("viewChart"),this.renderTask=cy({plan:gb,reset:py}),this.renderTask.context={view:this}}return c.prototype.init=function(s,a){},c.prototype.render=function(s,a,u,d){},c.prototype.highlight=function(s,a,u,d){fy(s.getData(),d,"emphasis")},c.prototype.downplay=function(s,a,u,d){fy(s.getData(),d,"normal")},c.prototype.remove=function(s,a){this.group.removeAll()},c.prototype.dispose=function(s,a){},c.prototype.updateView=function(s,a,u,d){this.render(s,a,u,d)},c.prototype.updateLayout=function(s,a,u,d){this.render(s,a,u,d)},c.prototype.updateVisual=function(s,a,u,d){this.render(s,a,u,d)},c.markUpdateMethod=function(s,a){_9(s).updateMethod=a},c.protoInitialize=void(c.prototype.type="chart"),c}();function Sf(c,s,a){c&&("emphasis"===s?ad:Wp)(c,a)}function fy(c,s,a){var p,g,u=tf(c,s),d=s&&null!=s.highlightKey?(null==(g=vI[p=s.highlightKey])&&mI<=32&&(g=vI[p]=mI++),g):null;null!=u?fe(Sr(u),function(p){Sf(c.getItemGraphicEl(p),a,d)}):c.eachItemGraphicEl(function(p){Sf(p,a,d)})}function gb(c){return WL(c.model)}function py(c){var s=c.model,a=c.ecModel,u=c.api,d=c.payload,p=s.pipelineContext.progressiveRender,g=c.view,v=d&&_9(d).updateMethod,y=p?"incrementalPrepareRender":v&&g[v]?v:"render";return"render"!==y&&g[y](s,a,u,d),SX[y]}Ze(dr),O2(dr);var SX={incrementalPrepareRender:{progress:function(c,s){s.view.incrementalRender(c,s.model,s.ecModel,s.api,s.payload)}},render:{forceFirstProgress:!0,progress:function(c,s){s.view.render(s.model,s.ecModel,s.api,s.payload)}}},gy="\0__throttleOriginMethod",y9="\0__throttleRate",jL="\0__throttleType";function my(c,s,a){var u,d,p,g,v,y=0,x=0,C=null;function w(){x=(new Date).getTime(),C=null,c.apply(p,g||[])}s=s||0;var D=function(){for(var P=[],z=0;z<arguments.length;z++)P[z]=arguments[z];u=(new Date).getTime(),p=this,g=P;var k=v||s,E=v||a;v=null,d=u-(E?y:x)-k,clearTimeout(C),E?C=setTimeout(w,k):d>=0?w():C=setTimeout(w,-d),y=u};return D.clear=function(){C&&(clearTimeout(C),C=null)},D.debounceNextCall=function(P){v=P},D}function eg(c,s,a,u){var d=c[s];if(d){var p=d[gy]||d;if(d[y9]!==a||d[jL]!==u){if(null==a||!u)return c[s]=p;(d=c[s]=my(p,a,"debounce"===u))[gy]=p,d[jL]=u,d[y9]=a}return d}}var $L=Zi(),TX={itemStyle:o0(iX,!0),lineStyle:o0(j5,!0)},MX={lineStyle:"stroke",itemStyle:"fill"};function XL(c,s){return c.visualStyleMapper||TX[s]||(console.warn("Unkown style type '"+s+"'."),TX.itemStyle)}function qL(c,s){return c.visualDrawType||MX[s]||(console.warn("Unkown style type '"+s+"'."),"fill")}var DX={createOnAllSeries:!0,performRawSeries:!0,reset:function(c,s){var a=c.getData(),u=c.visualStyleAccessPath||"itemStyle",d=c.getModel(u),p=XL(c,u)(d),g=d.getShallow("decal");g&&(a.setVisual("decal",g),g.dirty=!0);var v=qL(c,u),y=p[v],x=wi(y)?y:null;if(!p[v]||x||"auto"===p.fill||"auto"===p.stroke){var w=c.getColorFromPalette(c.name,null,s.getSeriesCount());p[v]||(p[v]=w,a.setVisual("colorFromPalette",!0)),p.fill="auto"===p.fill||"function"==typeof p.fill?w:p.fill,p.stroke="auto"===p.stroke||"function"==typeof p.stroke?w:p.stroke}if(a.setVisual("style",p),a.setVisual("drawType",v),!s.isSeriesFiltered(c)&&x)return a.setVisual("colorFromPalette",!1),{dataEach:function(D,P){var z=c.getDataParams(P),k=it({},p);k[v]=x(z),D.setItemVisual(P,"style",k)}}}},vy=new tr,PX={createOnAllSeries:!0,performRawSeries:!0,reset:function(c,s){if(!c.ignoreStyleOnData&&!s.isSeriesFiltered(c)){var a=c.getData(),u=c.visualStyleAccessPath||"itemStyle",d=XL(c,u),p=a.getVisual("drawType");return{dataEach:a.hasItemOption?function(g,v){var y=g.getRawDataItem(v);if(y&&y[u]){vy.option=y[u];var x=d(vy);it(g.ensureUniqueItemVisual(v,"style"),x),vy.option.decal&&(g.setItemVisual(v,"decal",vy.option.decal),vy.option.decal.dirty=!0),p in x&&g.setItemVisual(v,"colorFromPalette",!1)}}:null}}}},AX={performRawSeries:!0,overallReset:function(c){var s=qt();c.eachSeries(function(a){var u=a.getColorBy();if(!a.isColorBySeries()){var d=a.type+"-"+u,p=s.get(d);p||s.set(d,p={}),$L(a).scope=p}}),c.eachSeries(function(a){if(!a.isColorBySeries()&&!c.isSeriesFiltered(a)){var u=a.getRawData(),d={},p=a.getData(),g=$L(a).scope,y=qL(a,a.visualStyleAccessPath||"itemStyle");p.each(function(x){var C=p.getRawIndex(x);d[C]=x}),u.each(function(x){var C=d[x];if(p.getItemVisual(C,"colorFromPalette")){var w=p.ensureUniqueItemVisual(C,"style"),D=u.getName(x)||x+"",P=u.count();w[y]=a.getColorFromPalette(D,g,P)}})}})}},_y=Math.PI,Zn=function(){function c(s,a,u,d){this._stageTaskMap=qt(),this.ecInstance=s,this.api=a,u=this._dataProcessorHandlers=u.slice(),d=this._visualHandlers=d.slice(),this._allHandlers=u.concat(d)}return c.prototype.restoreData=function(s,a){s.restoreData(a),this._stageTaskMap.each(function(u){var d=u.overallTask;d&&d.dirty()})},c.prototype.getPerformArgs=function(s,a){if(s.__pipeline){var u=this._pipelineMap.get(s.__pipeline.id),d=u.context,p=!a&&u.progressiveEnabled&&(!d||d.progressiveRender)&&s.__idxInPipeline>u.blockIndex?u.step:null,g=d&&d.modDataCount;return{step:p,modBy:null!=g?Math.ceil(g/p):null,modDataCount:g}}},c.prototype.getPipeline=function(s){return this._pipelineMap.get(s)},c.prototype.updateStreamModes=function(s,a){var u=this._pipelineMap.get(s.uid),d=s.getData().count(),p=u.progressiveEnabled&&a.incrementalPrepareRender&&d>=u.threshold,g=s.get("large")&&d>=s.get("largeThreshold"),v="mod"===s.get("progressiveChunkMode")?d:null;s.pipelineContext=u.context={progressiveRender:p,modDataCount:v,large:g}},c.prototype.restorePipelines=function(s){var a=this,u=a._pipelineMap=qt();s.eachSeries(function(d){var p=d.getProgressive(),g=d.uid;u.set(g,{id:g,head:null,tail:null,threshold:d.getProgressiveThreshold(),progressiveEnabled:p&&!(d.preventIncremental&&d.preventIncremental()),blockIndex:-1,step:Math.round(p||700),count:0}),a._pipe(d,d.dataTask)})},c.prototype.prepareStageTasks=function(){var s=this._stageTaskMap,a=this.api.getModel(),u=this.api;fe(this._allHandlers,function(d){var p=s.get(d.uid)||s.set(d.uid,{});Dl(!(d.reset&&d.overallReset),""),d.reset&&this._createSeriesStageTask(d,p,a,u),d.overallReset&&this._createOverallStageTask(d,p,a,u)},this)},c.prototype.prepareView=function(s,a,u,d){var p=s.renderTask,g=p.context;g.model=a,g.ecModel=u,g.api=d,p.__block=!s.incrementalPrepareRender,this._pipe(a,p)},c.prototype.performDataProcessorTasks=function(s,a){this._performStageTasks(this._dataProcessorHandlers,s,a,{block:!0})},c.prototype.performVisualTasks=function(s,a,u){this._performStageTasks(this._visualHandlers,s,a,u)},c.prototype._performStageTasks=function(s,a,u,d){d=d||{};var p=!1,g=this;function v(y,x){return y.setDirty&&(!y.dirtyMap||y.dirtyMap.get(x.__pipeline.id))}fe(s,function(y,x){if(!d.visualType||d.visualType===y.visualType){var C=g._stageTaskMap.get(y.uid),w=C.seriesTaskMap,D=C.overallTask;if(D){var P,z=D.agentStubMap;z.each(function(E){v(d,E)&&(E.dirty(),P=!0)}),P&&D.dirty(),g.updatePayload(D,u);var k=g.getPerformArgs(D,d.block);z.each(function(E){E.perform(k)}),D.perform(k)&&(p=!0)}else w&&w.each(function(E,F){v(d,E)&&E.dirty();var B=g.getPerformArgs(E,d.block);B.skip=!y.performRawSeries&&a.isSeriesFiltered(E.context.model),g.updatePayload(E,u),E.perform(B)&&(p=!0)})}}),this.unfinished=p||this.unfinished},c.prototype.performSeriesTasks=function(s){var a;s.eachSeries(function(u){a=u.dataTask.perform()||a}),this.unfinished=a||this.unfinished},c.prototype.plan=function(){this._pipelineMap.each(function(s){var a=s.tail;do{if(a.__block){s.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},c.prototype.updatePayload=function(s,a){"remain"!==a&&(s.context.payload=a)},c.prototype._createSeriesStageTask=function(s,a,u,d){var p=this,g=a.seriesTaskMap,v=a.seriesTaskMap=qt(),y=s.seriesType,x=s.getTargetSeries;function C(w){var D=w.uid,P=v.set(D,g&&g.get(D)||cy({plan:EX,reset:IX,count:RX}));P.context={model:w,ecModel:u,api:d,useClearVisual:s.isVisual&&!s.isLayout,plan:s.plan,reset:s.reset,scheduler:p},p._pipe(w,P)}s.createOnAllSeries?u.eachRawSeries(C):y?u.eachRawSeriesByType(y,C):x&&x(u,d).each(C)},c.prototype._createOverallStageTask=function(s,a,u,d){var p=this,g=a.overallTask=a.overallTask||cy({reset:zX});g.context={ecModel:u,api:d,overallReset:s.overallReset,scheduler:p};var v=g.agentStubMap,y=g.agentStubMap=qt(),x=s.seriesType,C=s.getTargetSeries,w=!0,D=!1;function z(k){var E=k.uid,F=y.set(E,v&&v.get(E)||(D=!0,cy({reset:x9,onDirty:OX})));F.context={model:k,overallProgress:w},F.agent=g,F.__block=w,p._pipe(k,F)}Dl(!s.createOnAllSeries,""),x?u.eachRawSeriesByType(x,z):C?C(u,d).each(z):(w=!1,fe(u.getSeries(),z)),D&&g.dirty()},c.prototype._pipe=function(s,a){var d=this._pipelineMap.get(s.uid);!d.head&&(d.head=a),d.tail&&d.tail.pipe(a),d.tail=a,a.__idxInPipeline=d.count++,a.__pipeline=d},c.wrapStageHandler=function(s,a){return wi(s)&&(s={overallReset:s,seriesType:KL(s)}),s.uid=J2("stageHandler"),a&&(s.visualType=a),s},c}();function zX(c){c.overallReset(c.ecModel,c.api,c.payload)}function x9(c){return c.overallProgress&&kX}function kX(){this.agent.dirty(),this.getDownstream().dirty()}function OX(){this.agent&&this.agent.dirty()}function EX(c){return c.plan?c.plan(c.model,c.ecModel,c.api,c.payload):null}function IX(c){c.useClearVisual&&c.data.clearAllVisual();var s=c.resetDefines=Sr(c.reset(c.model,c.ecModel,c.api,c.payload));return s.length>1?tt(s,function(a,u){return ZL(u)}):LX}var LX=ZL(0);function ZL(c){return function(s,a){var u=a.data,d=a.resetDefines[c];if(d&&d.dataEach)for(var p=s.start;p<s.end;p++)d.dataEach(u,p);else d&&d.progress&&d.progress(s,u)}}function RX(c){return c.data.count()}function KL(c){yy=null;try{c(xy,NX)}catch{}return yy}var yy,xy={},NX={};function b9(c,s){for(var a in s.prototype)c[a]=lc}b9(xy,UM),b9(NX,gL),xy.eachSeriesByType=xy.eachRawSeriesByType=function(c){yy=c},xy.eachComponent=function(c){"series"===c.mainType&&c.subType&&(yy=c.subType)};var by=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],O0={color:by,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],by]},Vc="#B9B8CE",Cy="#100C2A",mb=function(){return{axisLine:{lineStyle:{color:Vc}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},QL=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],vb={darkMode:!0,color:QL,backgroundColor:Cy,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Vc}},textStyle:{color:Vc},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Vc}},dataZoom:{borderColor:"#71708A",textStyle:{color:Vc},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Vc}},timeline:{lineStyle:{color:Vc},label:{color:Vc},controlStyle:{color:Vc,borderColor:Vc}},calendar:{itemStyle:{color:Cy},dayLabel:{color:Vc},monthLabel:{color:Vc},yearLabel:{color:Vc}},timeAxis:mb(),logAxis:mb(),valueAxis:mb(),categoryAxis:mb(),line:{symbol:"circle"},graph:{color:QL},gauge:{title:{color:Vc},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Vc},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};vb.categoryAxis.splitLine.show=!1;var FX=function(){function c(){}return c.prototype.normalizeQuery=function(s){var a={},u={},d={};if(ui(s)){var p=Xe(s);a.mainType=p.main||null,a.subType=p.sub||null}else{var g=["Index","Name","Id"],v={name:1,dataIndex:1,dataType:1};fe(s,function(y,x){for(var C=!1,w=0;w<g.length;w++){var D=g[w],P=x.lastIndexOf(D);if(P>0&&P===x.length-D.length){var z=x.slice(0,P);"data"!==z&&(a.mainType=z,a[D.toLowerCase()]=y,C=!0)}}v.hasOwnProperty(x)&&(u[x]=y,C=!0),C||(d[x]=y)})}return{cptQuery:a,dataQuery:u,otherQuery:d}},c.prototype.filter=function(s,a){var u=this.eventInfo;if(!u)return!0;var d=u.targetEl,p=u.packedEvent,g=u.model,v=u.view;if(!g||!v)return!0;var y=a.cptQuery,x=a.dataQuery;return C(y,g,"mainType")&&C(y,g,"subType")&&C(y,g,"index","componentIndex")&&C(y,g,"name")&&C(y,g,"id")&&C(x,p,"name")&&C(x,p,"dataIndex")&&C(x,p,"dataType")&&(!v.filterForExposedEvent||v.filterForExposedEvent(s,a.otherQuery,d,p));function C(w,D,P,z){return null==w[P]||D[z||P]===w[P]}},c.prototype.afterTrigger=function(){this.eventInfo=null},c}(),Tf={createOnAllSeries:!0,performRawSeries:!0,reset:function(c,s){var a=c.getData();if(c.legendIcon&&a.setVisual("legendIcon",c.legendIcon),c.hasSymbolVisual){var u=c.get("symbol"),d=c.get("symbolSize"),p=c.get("symbolKeepAspect"),g=c.get("symbolRotate"),v=c.get("symbolOffset"),y=wi(u),x=wi(d),C=wi(g),w=wi(v),D=y||x||C||w,P=!y&&u?u:c.defaultSymbol;if(a.setVisual({legendIcon:c.legendIcon||P,symbol:P,symbolSize:x?null:d,symbolKeepAspect:p,symbolRotate:C?null:g,symbolOffset:w?null:v}),!s.isSeriesFiltered(c))return{dataEach:D?function(F,B){var H=c.getRawValue(B),Y=c.getDataParams(B);y&&F.setItemVisual(B,"symbol",u(H,Y)),x&&F.setItemVisual(B,"symbolSize",d(H,Y)),C&&F.setItemVisual(B,"symbolRotate",g(H,Y)),w&&F.setItemVisual(B,"symbolOffset",v(H,Y))}:null}}}};function E0(c,s,a){switch(a){case"color":return c.getItemVisual(s,"style")[c.getVisual("drawType")];case"opacity":return c.getItemVisual(s,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return c.getItemVisual(s,a)}}function es(c,s){switch(s){case"color":return c.getVisual("style")[c.getVisual("drawType")];case"opacity":return c.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return c.getVisual(s)}}function N1(c,s,a,u){switch(a){case"color":c.ensureUniqueItemVisual(s,"style")[c.getVisual("drawType")]=u,c.setItemVisual(s,"colorFromPalette",!1);break;case"opacity":c.ensureUniqueItemVisual(s,"style").opacity=u;break;case"symbol":case"symbolSize":case"liftZ":c.setItemVisual(s,a,u)}}function wy(c,s){function a(u,d){var p=[];return u.eachComponent({mainType:"series",subType:c,query:d},function(g){p.push(g.seriesIndex)}),p}fe([[c+"ToggleSelect","toggleSelect"],[c+"Select","select"],[c+"UnSelect","unselect"]],function(u){s(u[0],function(d,p,g){d=it({},d),g.dispatchAction(it(d,{type:u[1],seriesIndex:a(p,d)}))})})}function fl(c,s,a,u,d){var p=c+s;a.isSilent(p)||u.eachComponent({mainType:"series",subType:"pie"},function(g){for(var v=g.seriesIndex,y=d.selected,x=0;x<y.length;x++)if(y[x].seriesIndex===v){var C=g.getData(),w=tf(C,d.fromActionPayload);a.trigger(p,{type:p,seriesId:g.id,name:at(w)?C.getName(w[0]):C.getName(w),selected:it({},g.option.selectedMap)})}})}function oi(c,s,a){for(var u;c&&(!s(c)||(u=c,!a));)c=c.__hostTarget||c.parent;return u}var f_=Math.round(9*Math.random()),p_="function"==typeof Object.defineProperty,I0=function(){function c(){this._id="__ec_inner_"+f_++}return c.prototype.get=function(s){return this._guard(s)[this._id]},c.prototype.set=function(s,a){var u=this._guard(s);return p_?Object.defineProperty(u,this._id,{value:a,enumerable:!1,configurable:!0}):u[this._id]=a,this},c.prototype.delete=function(s){return!!this.has(s)&&(delete this._guard(s)[this._id],!0)},c.prototype.has=function(s){return!!this._guard(s)[this._id]},c.prototype._guard=function(s){if(s!==Object(s))throw TypeError("Value of WeakMap is not a non-null object.");return s},c}(),g_=pi.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(c,s){var a=s.cx,u=s.cy,d=s.width/2,p=s.height/2;c.moveTo(a,u-p),c.lineTo(a+d,u+p),c.lineTo(a-d,u+p),c.closePath()}}),m_=pi.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(c,s){var a=s.cx,u=s.cy,d=s.width/2,p=s.height/2;c.moveTo(a,u-p),c.lineTo(a+d,u),c.lineTo(a,u+p),c.lineTo(a-d,u),c.closePath()}}),v_=pi.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(c,s){var a=s.x,u=s.y,d=s.width/5*3,p=Math.max(d,s.height),g=d/2,v=g*g/(p-g),y=u-p+g+v,x=Math.asin(v/g),C=Math.cos(x)*g,w=Math.sin(x),D=Math.cos(x),P=.6*g,z=.7*g;c.moveTo(a-C,y+v),c.arc(a,y,g,Math.PI-x,2*Math.PI+x),c.bezierCurveTo(a+C-w*P,y+v+D*P,a,u-z,a,u),c.bezierCurveTo(a,u-z,a-C+w*P,y+v+D*P,a-C,y+v),c.closePath()}}),__=pi.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(c,s){var a=s.height,d=s.x,p=s.y,g=s.width/3*2;c.moveTo(d,p),c.lineTo(d+g,p+a),c.lineTo(d,p+a/4*3),c.lineTo(d-g,p+a),c.lineTo(d,p),c.closePath()}}),y_={line:function(c,s,a,u,d){d.x1=c,d.y1=s+u/2,d.x2=c+a,d.y2=s+u/2},rect:function(c,s,a,u,d){d.x=c,d.y=s,d.width=a,d.height=u},roundRect:function(c,s,a,u,d){d.x=c,d.y=s,d.width=a,d.height=u,d.r=Math.min(a,u)/4},square:function(c,s,a,u,d){var p=Math.min(a,u);d.x=c,d.y=s,d.width=p,d.height=p},circle:function(c,s,a,u,d){d.cx=c+a/2,d.cy=s+u/2,d.r=Math.min(a,u)/2},diamond:function(c,s,a,u,d){d.cx=c+a/2,d.cy=s+u/2,d.width=a,d.height=u},pin:function(c,s,a,u,d){d.x=c+a/2,d.y=s+u/2,d.width=a,d.height=u},arrow:function(c,s,a,u,d){d.x=c+a/2,d.y=s+u/2,d.width=a,d.height=u},triangle:function(c,s,a,u,d){d.cx=c+a/2,d.cy=s+u/2,d.width=a,d.height=u}},tg={};fe({line:Fa,rect:gi,roundRect:gi,square:gi,circle:bh,diamond:m_,pin:v_,arrow:__,triangle:g_},function(c,s){tg[s]=new c});var JL=pi.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(c,s,a){var u=dh(c,s,a),d=this.shape;return d&&"pin"===d.symbolType&&"inside"===s.position&&(u.y=a.y+.4*a.height),u},buildPath:function(c,s,a){var u=s.symbolType;if("none"!==u){var d=tg[u];d||(d=tg[u="rect"]),y_[u](s.x,s.y,s.width,s.height,d.shape),d.buildPath(c,d.shape,a)}}});function eR(c,s){if("image"!==this.type){var a=this.style;this.__isEmptyBrush?(a.stroke=c,a.fill=s||"#fff",a.lineWidth=2):"line"===this.shape.symbolType?a.stroke=c:a.fill=c,this.markRedraw()}}function da(c,s,a,u,d,p,g){var v,y=0===c.indexOf("empty");return y&&(c=c.substr(5,1).toLowerCase()+c.substr(6)),(v=0===c.indexOf("image://")?HI(c.slice(8),new qn(s,a,u,d),g?"center":"cover"):0===c.indexOf("path://")?Z3(c.slice(7),{},new qn(s,a,u,d),g?"center":"cover"):new JL({shape:{symbolType:c,x:s,y:a,width:u,height:d}})).__isEmptyBrush=y,v.setColor=eR,p&&v.setColor(p),v}function x_(c){return at(c)||(c=[+c,+c]),[c[0]||0,c[1]||0]}function L0(c,s){if(null!=c)return at(c)||(c=[c,c]),[At(c[0],s[0])||0,At(xi(c[1],c[0]),s[1])||0]}function _b(c,s,a){for(var u="radial"===s.type?(g=c,v=s,void 0,void 0,void 0,D=void 0,P=void 0,z=void 0,x=(y=a).width,C=y.height,w=Math.min(x,C),D=null==v.x?.5:v.x,P=null==v.y?.5:v.y,z=null==v.r?.5:v.r,v.global||(D=D*x+y.x,P=P*C+y.y,z*=w),g.createRadialGradient(D,P,0,D,P,z)):function(g,v,y){var x=null==v.x?0:v.x,C=null==v.x2?1:v.x2,w=null==v.y?0:v.y,D=null==v.y2?0:v.y2;return v.global||(x=x*y.width+y.x,C=C*y.width+y.x,w=w*y.height+y.y,D=D*y.height+y.y),x=isNaN(x)?0:x,C=isNaN(C)?1:C,w=isNaN(w)?0:w,D=isNaN(D)?0:D,g.createLinearGradient(x,w,C,D)}(c,s,a),d=s.colorStops,p=0;p<d.length;p++)u.addColorStop(d[p].offset,d[p].color);var g,v,y,x,C,w,D,P,z;return u}function C9(c,s){if(c===s||!c&&!s)return!1;if(!c||!s||c.length!==s.length)return!0;for(var a=0;a<c.length;a++)if(c[a]!==s[a])return!0;return!1}function yb(c,s){return c&&"solid"!==c&&s>0?(s=s||1,"dashed"===c?[4*s,2*s]:"dotted"===c?[s]:zt(c)?[c]:at(c)?c:null):null}var tR=new Nr(!0);function xb(c){var s=c.stroke;return!(null==s||"none"===s||!(c.lineWidth>0))}function nR(c){return"string"==typeof c&&"none"!==c}function ge(c){var s=c.fill;return null!=s&&"none"!==s}function iR(c,s){if(null!=s.fillOpacity&&1!==s.fillOpacity){var a=c.globalAlpha;c.globalAlpha=s.fillOpacity*s.opacity,c.fill(),c.globalAlpha=a}else c.fill()}function fn(c,s){if(null!=s.strokeOpacity&&1!==s.strokeOpacity){var a=c.globalAlpha;c.globalAlpha=s.strokeOpacity*s.opacity,c.stroke(),c.globalAlpha=a}else c.stroke()}function ee(c,s,a){var u=p5(s.image,s.__image,a);if(mh(u)){var d=c.createPattern(u,s.repeat||"repeat");if("function"==typeof DOMMatrix&&d.setTransform){var p=new DOMMatrix;p.rotateSelf(0,0,(s.rotation||0)/Math.PI*180),p.scaleSelf(s.scaleX||1,s.scaleY||1),p.translateSelf(s.x||0,s.y||0),d.setTransform(p)}return d}}var bb=["shadowBlur","shadowOffsetX","shadowOffsetY"],rR=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function se(c,s,a,u,d){var p=!1;if(!u&&s===(a=a||{}))return!1;if(u||s.opacity!==a.opacity){p||(Hc(c,d),p=!0);var g=Math.max(Math.min(s.opacity,1),0);c.globalAlpha=isNaN(g)?_1.opacity:g}(u||s.blend!==a.blend)&&(p||(Hc(c,d),p=!0),c.globalCompositeOperation=s.blend||_1.blend);for(var v=0;v<bb.length;v++){var y=bb[v];(u||s[y]!==a[y])&&(p||(Hc(c,d),p=!0),c[y]=c.dpr*(s[y]||0))}return(u||s.shadowColor!==a.shadowColor)&&(p||(Hc(c,d),p=!0),c.shadowColor=s.shadowColor||_1.shadowColor),p}function le(c,s,a,u,d){var p=wt(s,d.inHover),g=u?null:a&&wt(a,d.inHover)||{};if(p===g)return!1;var v=se(c,p,g,u,d);if((u||p.fill!==g.fill)&&(v||(Hc(c,d),v=!0),nR(p.fill)&&(c.fillStyle=p.fill)),(u||p.stroke!==g.stroke)&&(v||(Hc(c,d),v=!0),nR(p.stroke)&&(c.strokeStyle=p.stroke)),(u||p.opacity!==g.opacity)&&(v||(Hc(c,d),v=!0),c.globalAlpha=null==p.opacity?1:p.opacity),s.hasStroke()){var y=p.lineWidth/(p.strokeNoScale&&s&&s.getLineScale?s.getLineScale():1);c.lineWidth!==y&&(v||(Hc(c,d),v=!0),c.lineWidth=y)}for(var x=0;x<rR.length;x++){var C=rR[x],w=C[0];(u||p[w]!==g[w])&&(v||(Hc(c,d),v=!0),c[w]=p[w]||C[1])}return v}function Fe(c,s){var a=s.transform,u=c.dpr||1;a?c.setTransform(u*a[0],u*a[1],u*a[2],u*a[3],u*a[4],u*a[5]):c.setTransform(u,0,0,u,0,0)}function Hc(c,s){s.batchFill&&c.fill(),s.batchStroke&&c.stroke(),s.batchFill="",s.batchStroke=""}function wt(c,s){return s&&c.__hoverStyle||c.style}function Dt(c,s){yr(c,s,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function yr(c,s,a,u){var d=s.transform;if(!s.shouldBePainted(a.viewWidth,a.viewHeight,!1,!1))return s.__dirty&=-2,void(s.__isRendered=!1);var z,k,E,p=s.__clipPaths,g=a.prevElClipPaths,v=!1,y=!1;if(g&&!C9(p,g)||(g&&g.length&&(Hc(c,a),c.restore(),y=v=!0,a.prevElClipPaths=null,a.allClipped=!1,a.prevEl=null),p&&p.length&&(Hc(c,a),c.save(),function(z,k,E){for(var F=!1,B=0;B<z.length;B++){var H=z[B];F=F||H.isZeroArea(),Fe(k,H),k.beginPath(),H.buildPath(k,H.shape),k.clip()}E.allClipped=F}(p,c,a),v=!0),a.prevElClipPaths=p),a.allClipped)s.__isRendered=!1;else{s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush();var x=a.prevEl;x||(y=v=!0);var C,w,D=s instanceof pi&&s.autoBatch&&(k=ge(z=s.style),E=xb(z),!(z.lineDash||!(+k^+E)||k&&"string"!=typeof z.fill||E&&"string"!=typeof z.stroke||z.strokePercent<1||z.strokeOpacity<1||z.fillOpacity<1));v||(w=x.transform,(C=d)&&w?C[0]!==w[0]||C[1]!==w[1]||C[2]!==w[2]||C[3]!==w[3]||C[4]!==w[4]||C[5]!==w[5]:C||w)?(Hc(c,a),Fe(c,s)):D||Hc(c,a);var P=wt(s,a.inHover);s instanceof pi?(1!==a.lastDrawType&&(y=!0,a.lastDrawType=1),le(c,s,x,y,a),D&&(a.batchFill||a.batchStroke)||c.beginPath(),function(z,k,E,F){var B=xb(E),H=ge(E),Y=E.strokePercent,U=Y<1,j=!k.path;k.silent&&!U||!j||k.createPathProxy();var q=k.path||tR;if(!F){var Q=E.fill,re=E.stroke,oe=H&&!!Q.colorStops,ae=B&&!!re.colorStops,he=H&&!!Q.image,me=B&&!!re.image,_e=void 0,be=void 0,we=void 0,Te=void 0,Me=void 0;(oe||ae)&&(Me=k.getBoundingRect()),oe&&(_e=k.__dirty?_b(z,Q,Me):k.__canvasFillGradient,k.__canvasFillGradient=_e),ae&&(be=k.__dirty?_b(z,re,Me):k.__canvasStrokeGradient,k.__canvasStrokeGradient=be),he&&(we=k.__dirty||!k.__canvasFillPattern?ee(z,Q,k):k.__canvasFillPattern,k.__canvasFillPattern=we),me&&(Te=k.__dirty||!k.__canvasStrokePattern?ee(z,re,k):k.__canvasStrokePattern,k.__canvasStrokePattern=we),oe?z.fillStyle=_e:he&&(we?z.fillStyle=we:H=!1),ae?z.strokeStyle=be:me&&(Te?z.strokeStyle=Te:B=!1)}var Ae=E.lineDash&&E.lineWidth>0&&yb(E.lineDash,E.lineWidth),Ie=E.lineDashOffset,Ue=!!z.setLineDash,qe=k.getGlobalScale();if(q.setScale(qe[0],qe[1],k.segmentIgnoreThreshold),Ae){var ft=E.strokeNoScale&&k.getLineScale?k.getLineScale():1;ft&&1!==ft&&(Ae=tt(Ae,function(ot){return ot/ft}),Ie/=ft)}var $e=!0;(j||4&k.__dirty||Ae&&!Ue&&B)&&(q.setDPR(z.dpr),U?q.setContext(null):(q.setContext(z),$e=!1),q.reset(),Ae&&!Ue&&(q.setLineDash(Ae),q.setLineDashOffset(Ie)),k.buildPath(q,k.shape,F),q.toStatic(),k.pathUpdated()),$e&&q.rebuildPath(z,U?Y:1),Ae&&Ue&&(z.setLineDash(Ae),z.lineDashOffset=Ie),F||(E.strokeFirst?(B&&fn(z,E),H&&iR(z,E)):(H&&iR(z,E),B&&fn(z,E))),Ae&&Ue&&z.setLineDash([])}(c,s,P,D),D&&(a.batchFill=P.fill||"",a.batchStroke=P.stroke||"")):s instanceof B2?(3!==a.lastDrawType&&(y=!0,a.lastDrawType=3),le(c,s,x,y,a),function(z,k,E){var F=E.text;if(null!=F&&(F+=""),F){z.font=E.font||Co,z.textAlign=E.textAlign,z.textBaseline=E.textBaseline;var B=void 0;if(z.setLineDash){var H=E.lineDash&&E.lineWidth>0&&yb(E.lineDash,E.lineWidth),Y=E.lineDashOffset;if(H){var U=E.strokeNoScale&&k.getLineScale?k.getLineScale():1;U&&1!==U&&(H=tt(H,function(j){return j/U}),Y/=U),z.setLineDash(H),z.lineDashOffset=Y,B=!0}}E.strokeFirst?(xb(E)&&z.strokeText(F,E.x,E.y),ge(E)&&z.fillText(F,E.x,E.y)):(ge(E)&&z.fillText(F,E.x,E.y),xb(E)&&z.strokeText(F,E.x,E.y)),B&&z.setLineDash([])}}(c,s,P)):s instanceof Qo?(2!==a.lastDrawType&&(y=!0,a.lastDrawType=2),function(z,k,E,F,B){se(z,wt(k,B.inHover),E&&wt(E,B.inHover),F,B)}(c,s,x,y,a),function(z,k,E){var F=k.__image=p5(E.image,k.__image,k,k.onload);if(F&&mh(F)){var B=E.x||0,H=E.y||0,Y=k.getWidth(),U=k.getHeight(),j=F.width/F.height;if(null==Y&&null!=U?Y=U*j:null==U&&null!=Y?U=Y/j:null==Y&&null==U&&(Y=F.width,U=F.height),E.sWidth&&E.sHeight){var q=E.sx||0,Q=E.sy||0;z.drawImage(F,q,Q,E.sWidth,E.sHeight,B,H,Y,U)}else if(E.sx&&E.sy){var re=Y-(q=E.sx),oe=U-(Q=E.sy);z.drawImage(F,q,Q,re,oe,B,H,Y,U)}else z.drawImage(F,B,H,Y,U)}}(c,s,P)):s instanceof X2&&(4!==a.lastDrawType&&(y=!0,a.lastDrawType=4),function(z,k,E){var F=k.getDisplayables(),B=k.getTemporalDisplayables();z.save();var H,Y,U={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:E.viewWidth,viewHeight:E.viewHeight,inHover:E.inHover};for(H=k.getCursor(),Y=F.length;H<Y;H++)(Q=F[H]).beforeBrush&&Q.beforeBrush(),Q.innerBeforeBrush(),yr(z,Q,U,H===Y-1),Q.innerAfterBrush(),Q.afterBrush&&Q.afterBrush(),U.prevEl=Q;for(var j=0,q=B.length;j<q;j++){var Q;(Q=B[j]).beforeBrush&&Q.beforeBrush(),Q.innerBeforeBrush(),yr(z,Q,U,j===q-1),Q.innerAfterBrush(),Q.afterBrush&&Q.afterBrush(),U.prevEl=Q}k.clearTemporalDisplayables(),k.notClear=!0,z.restore()}(c,s,a)),D&&u&&Hc(c,a),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),a.prevEl=s,s.__dirty=0,s.__isRendered=!0}}var Ft,R0=new I0,w9=new s1(100),Cb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function He(c,s){if("none"===c)return null;var a=s.getDevicePixelRatio(),u=s.getZr(),d="svg"===u.painter.type;c.dirty&&R0.delete(c);var p=R0.get(c);if(p)return p;var g=jt(c,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===g.backgroundColor&&(g.backgroundColor=null);var v={repeat:"repeat"};return function(y){for(var x,C=[a],w=!0,D=0;D<Cb.length;++D){var P=g[Cb[D]],z=typeof P;if(null!=P&&!at(P)&&"string"!==z&&"number"!==z&&"boolean"!==z){w=!1;break}C.push(P)}if(w){x=C.join(",")+(d?"-svg":"");var k=w9.get(x);k&&(d?y.svgElement=k:y.image=k)}var E,F=oR(g.dashArrayX),B=function(oe){if(!oe||"object"==typeof oe&&0===oe.length)return[0,0];if("number"==typeof oe){var ae=Math.ceil(oe);return[ae,ae]}var he=tt(oe,function(me){return Math.ceil(me)});return oe.length%2?he.concat(he):he}(g.dashArrayY),H=S9(g.symbol),Y=tt(F,function(oe){return T9(oe)}),U=T9(B),j=!d&&Js(),q=d&&u.painter.createSVGElement("g"),Q=function(){for(var oe=1,ae=0,he=Y.length;ae<he;++ae)oe=t0(oe,Y[ae]);var me=1;for(ae=0,he=H.length;ae<he;++ae)me=t0(me,H[ae].length);oe*=me;var _e=U*Y.length*H.length;return{width:Math.max(1,Math.min(oe,g.maxTileWidth)),height:Math.max(1,Math.min(_e,g.maxTileHeight))}}();j&&(j.width=Q.width*a,j.height=Q.height*a,E=j.getContext("2d")),function(){E&&(E.clearRect(0,0,j.width,j.height),g.backgroundColor&&(E.fillStyle=g.backgroundColor,E.fillRect(0,0,j.width,j.height)));for(var oe=0,ae=0;ae<B.length;++ae)oe+=B[ae];if(!(oe<=0))for(var he=-U,me=0,_e=0,be=0;he<Q.height;){if(me%2==0){for(var we=_e/2%H.length,Te=0,Me=0,Ae=0;Te<2*Q.width;){var Ie=0;for(ae=0;ae<F[be].length;++ae)Ie+=F[be][ae];if(Ie<=0)break;if(Me%2==0){var Ue=.5*(1-g.symbolSize);mn=void 0,Xr=void 0,Xr=da(H[we][Ae/2%H[we].length],(Te+F[be][Me]*Ue)*(mn=d?1:a),(he+B[me]*Ue)*mn,F[be][Me]*g.symbolSize*mn,B[me]*g.symbolSize*mn,g.color,g.symbolKeepAspect),d?q.appendChild(u.painter.paintOne(Xr)):Dt(E,Xr)}Te+=F[be][Me],++Ae,++Me===F[be].length&&(Me=0)}++be===F.length&&(be=0)}he+=B[me],++_e,++me===B.length&&(me=0)}var mn,Xr}(),w&&w9.put(x,j||q),y.image=j,y.svgElement=q,y.svgWidth=Q.width,y.svgHeight=Q.height}(v),v.rotation=g.rotation,v.scaleX=v.scaleY=d?1:1/a,R0.set(c,v),c.dirty=!1,v}function S9(c){if(!c||0===c.length)return[["rect"]];if("string"==typeof c)return[[c]];for(var s=!0,a=0;a<c.length;++a)if("string"!=typeof c[a]){s=!1;break}if(s)return S9([c]);var u=[];for(a=0;a<c.length;++a)u.push("string"==typeof c[a]?[c[a]]:c[a]);return u}function oR(c){if(!c||0===c.length)return[[0,0]];if("number"==typeof c)return[[d=Math.ceil(c),d]];for(var s=!0,a=0;a<c.length;++a)if("number"!=typeof c[a]){s=!1;break}if(s)return oR([c]);var u=[];for(a=0;a<c.length;++a)if("number"==typeof c[a]){var d=Math.ceil(c[a]);u.push([d,d])}else(d=tt(c[a],function(p){return Math.ceil(p)})).length%2==1?u.push(d.concat(d)):u.push(d);return u}function T9(c){for(var s=0,a=0;a<c.length;++a)s+=c[a];return c.length%2==1?2*s:s}function M9(c){ui(c)&&(c=(new DOMParser).parseFromString(c,"text/xml"));var s=c;for(9===s.nodeType&&(s=s.firstChild);"svg"!==s.nodeName.toLowerCase()||1!==s.nodeType;)s=s.nextSibling;return s}var Sy={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},ue=Gt(Sy),wb={"alignment-baseline":"textBaseline","stop-color":"stopColor"},fr=Gt(wb),Ki=function(){function c(){this._defs={},this._root=null}return c.prototype.parse=function(s,a){a=a||{};var u=M9(s);if(!u)throw new Error("Illegal svg");this._defsUsePending=[];var d=new Xt;this._root=d;var p=[],g=u.getAttribute("viewBox")||"",v=parseFloat(u.getAttribute("width")||a.width),y=parseFloat(u.getAttribute("height")||a.height);isNaN(v)&&(v=null),isNaN(y)&&(y=null),Yc(u,d,null,!0,!1);for(var x,C,w=u.firstChild;w;)this._parseNode(w,d,p,null,!1,!1),w=w.nextSibling;if(function(z,k){for(var E=0;E<k.length;E++){var F=k[E];F[0].style[F[1]]=z[F[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],g){var D=My(g);D.length>=4&&(x={x:parseFloat(D[0]||0),y:parseFloat(D[1]||0),width:parseFloat(D[2]),height:parseFloat(D[3])})}if(x&&null!=v&&null!=y&&(C=Tb(x,{x:0,y:0,width:v,height:y}),!a.ignoreViewBox)){var P=d;(d=new Xt).add(P),P.scaleX=P.scaleY=C.scale,P.x=C.x,P.y=C.y}return a.ignoreRootClip||null==v||null==y||d.setClipPath(new gi({shape:{x:0,y:0,width:v,height:y}})),{root:d,width:v,height:y,viewBoxRect:x,viewBoxTransform:C,named:p}},c.prototype._parseNode=function(s,a,u,d,p,g){var v,y=s.nodeName.toLowerCase(),x=d;if("defs"===y&&(p=!0),"text"===y&&(g=!0),"defs"===y||"switch"===y)v=a;else{if(!p){var C=Ft[y];if(C&&Nt(Ft,y)){v=C.call(this,s,a);var w=s.getAttribute("name");if(w){var D={name:w,namedFrom:null,svgNodeTagLower:y,el:v};u.push(D),"g"===y&&(x=D)}else d&&u.push({name:d.name,namedFrom:d,svgNodeTagLower:y,el:v});a.add(v)}}var P=fi[y];if(P&&Nt(fi,y)){var z=P.call(this,s),k=s.getAttribute("id");k&&(this._defs[k]=z)}}if(v&&v.isGroup)for(var E=s.firstChild;E;)1===E.nodeType?this._parseNode(E,v,u,x,p,g):3===E.nodeType&&g&&this._parseText(E,v),E=E.nextSibling},c.prototype._parseText=function(s,a){var u=new B2({style:{text:s.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),function(y,x){var C=x.__selfStyle;if(C){var w=C.textBaseline,D=w;w&&"auto"!==w?"baseline"===w?D="alphabetic":"before-edge"===w||"text-before-edge"===w?D="top":"after-edge"===w||"text-after-edge"===w?D="bottom":"central"!==w&&"mathematical"!==w||(D="middle"):D="alphabetic",y.style.textBaseline=D}var P=x.__inheritedStyle;if(P){var z=P.textAlign,k=z;z&&("middle"===z&&(k="center"),y.style.textAlign=k)}}(u,a);var d=u.style,p=d.fontSize;p&&p<9&&(d.fontSize=9,u.scaleX*=p/9,u.scaleY*=p/9);var g=(d.fontSize||d.fontFamily)&&[d.fontStyle,d.fontWeight,(d.fontSize||12)+"px",d.fontFamily||"sans-serif"].join(" ");d.font=g;var v=u.getBoundingRect();return this._textX+=v.width,a.add(u),u},c.internalField=void(Ft={g:function(s,a){var u=new Xt;return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u},rect:function(s,a){var u=new gi;return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u.setShape({x:parseFloat(s.getAttribute("x")||"0"),y:parseFloat(s.getAttribute("y")||"0"),width:parseFloat(s.getAttribute("width")||"0"),height:parseFloat(s.getAttribute("height")||"0")}),u.silent=!0,u},circle:function(s,a){var u=new bh;return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u.setShape({cx:parseFloat(s.getAttribute("cx")||"0"),cy:parseFloat(s.getAttribute("cy")||"0"),r:parseFloat(s.getAttribute("r")||"0")}),u.silent=!0,u},line:function(s,a){var u=new Fa;return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u.setShape({x1:parseFloat(s.getAttribute("x1")||"0"),y1:parseFloat(s.getAttribute("y1")||"0"),x2:parseFloat(s.getAttribute("x2")||"0"),y2:parseFloat(s.getAttribute("y2")||"0")}),u.silent=!0,u},ellipse:function(s,a){var u=new U3;return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u.setShape({cx:parseFloat(s.getAttribute("cx")||"0"),cy:parseFloat(s.getAttribute("cy")||"0"),rx:parseFloat(s.getAttribute("rx")||"0"),ry:parseFloat(s.getAttribute("ry")||"0")}),u.silent=!0,u},polygon:function(s,a){var u,d=s.getAttribute("points");d&&(u=P9(d));var p=new dl({shape:{points:u||[]},silent:!0});return Au(a,p),Yc(s,p,this._defsUsePending,!1,!1),p},polyline:function(s,a){var u,d=s.getAttribute("points");d&&(u=P9(d));var p=new bc({shape:{points:u||[]},silent:!0});return Au(a,p),Yc(s,p,this._defsUsePending,!1,!1),p},image:function(s,a){var u=new Qo;return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u.setStyle({image:s.getAttribute("xlink:href")||s.getAttribute("href"),x:+s.getAttribute("x"),y:+s.getAttribute("y"),width:+s.getAttribute("width"),height:+s.getAttribute("height")}),u.silent=!0,u},text:function(s,a){var u=s.getAttribute("x")||"0",d=s.getAttribute("y")||"0",p=s.getAttribute("dx")||"0",g=s.getAttribute("dy")||"0";this._textX=parseFloat(u)+parseFloat(p),this._textY=parseFloat(d)+parseFloat(g);var v=new Xt;return Au(a,v),Yc(s,v,this._defsUsePending,!1,!0),v},tspan:function(s,a){var u=s.getAttribute("x"),d=s.getAttribute("y");null!=u&&(this._textX=parseFloat(u)),null!=d&&(this._textY=parseFloat(d));var p=s.getAttribute("dx")||"0",g=s.getAttribute("dy")||"0",v=new Xt;return Au(a,v),Yc(s,v,this._defsUsePending,!1,!0),this._textX+=parseFloat(p),this._textY+=parseFloat(g),v},path:function(s,a){var u=dM(s.getAttribute("d")||"");return Au(a,u),Yc(s,u,this._defsUsePending,!1,!1),u.silent=!0,u}}),c}(),fi={lineargradient:function(c){var s=parseInt(c.getAttribute("x1")||"0",10),a=parseInt(c.getAttribute("y1")||"0",10),u=parseInt(c.getAttribute("x2")||"10",10),d=parseInt(c.getAttribute("y2")||"0",10),p=new $2(s,a,u,d);return Ty(c,p),D9(c,p),p},radialgradient:function(c){var s=parseInt(c.getAttribute("cx")||"0",10),a=parseInt(c.getAttribute("cy")||"0",10),u=parseInt(c.getAttribute("r")||"0",10),d=new BI(s,a,u);return Ty(c,d),D9(c,d),d}};function Ty(c,s){"userSpaceOnUse"===c.getAttribute("gradientUnits")&&(s.global=!0)}function D9(c,s){for(var a=c.firstChild;a;){if(1===a.nodeType&&"stop"===a.nodeName.toLocaleLowerCase()){var d,u=a.getAttribute("offset");d=u&&u.indexOf("%")>0?parseInt(u,10)/100:u?parseFloat(u):0;var p={};cR(a,p,p);var g=p.stopColor||a.getAttribute("stop-color")||"#000000";s.colorStops.push({offset:d,color:g})}a=a.nextSibling}}function Au(c,s){c&&c.__inheritedStyle&&(s.__inheritedStyle||(s.__inheritedStyle={}),jt(s.__inheritedStyle,c.__inheritedStyle))}function P9(c){for(var s=My(c),a=[],u=0;u<s.length;u+=2){var d=parseFloat(s[u]),p=parseFloat(s[u+1]);a.push([d,p])}return a}function Yc(c,s,a,u,d){var p=s,g=p.__inheritedStyle=p.__inheritedStyle||{},v={};1===c.nodeType&&(function(y,x){var C=y.getAttribute("transform");if(C){C=C.replace(/,/g," ");var w=[],D=null;C.replace(Sb,function(F,B,H){return w.push(B,H),""});for(var P=w.length-1;P>0;P-=2){var k=w[P-1],E=My(w[P]);switch(D=D||[1,0,0,1,0,0],k){case"translate":Ic(D,D,[parseFloat(E[0]),parseFloat(E[1]||"0")]);break;case"scale":Wt(D,D,[parseFloat(E[0]),parseFloat(E[1]||E[0])]);break;case"rotate":kl(D,D,-parseFloat(E[0])*Mf);break;case"skewX":ol(D,[1,0,Math.tan(parseFloat(E[0])*Mf),1,0,0],D);break;case"skewY":ol(D,[1,Math.tan(parseFloat(E[0])*Mf),0,1,0,0],D);break;case"matrix":D[0]=parseFloat(E[0]),D[1]=parseFloat(E[1]),D[2]=parseFloat(E[2]),D[3]=parseFloat(E[3]),D[4]=parseFloat(E[4]),D[5]=parseFloat(E[5])}}x.setLocalTransform(D)}}(c,s),cR(c,g,v),u||function(y,x,C){for(var w=0;w<ue.length;w++){var D=ue[w];null!=(P=y.getAttribute(D))&&(x[Sy[D]]=P)}for(w=0;w<fr.length;w++){var P;null!=(P=y.getAttribute(D=fr[w]))&&(C[wb[D]]=P)}}(c,g,v)),p.style=p.style||{},null!=g.fill&&(p.style.fill=A9(p,"fill",g.fill,a)),null!=g.stroke&&(p.style.stroke=A9(p,"stroke",g.stroke,a)),fe(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(y){null!=g[y]&&(p.style[y]=parseFloat(g[y]))}),fe(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(y){null!=g[y]&&(p.style[y]=g[y])}),d&&(p.__selfStyle=v),g.lineDash&&(p.style.lineDash=tt(My(g.lineDash),function(y){return parseFloat(y)})),"hidden"!==g.visibility&&"collapse"!==g.visibility||(p.invisible=!0),"none"===g.display&&(p.ignore=!0)}var aR=/^url\(\s*#(.*?)\)/;function A9(c,s,a,u){var d=a&&a.match(aR);if(!d)return"none"===a&&(a=null),a;var p=ih(d[1]);u.push([c,s,p])}var sR=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function My(c){return c.match(sR)||[]}var Sb=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Mf=Math.PI/180,lR=/([^\s:;]+)\s*:\s*([^:;]+)/g;function cR(c,s,a){var u,d=c.getAttribute("style");if(d)for(lR.lastIndex=0;null!=(u=lR.exec(d));){var p=u[1],g=Nt(Sy,p)?Sy[p]:null;g&&(s[g]=u[2]);var v=Nt(wb,p)?wb[p]:null;v&&(a[v]=u[2])}}function Tb(c,s){var d=Math.min(s.width/c.width,s.height/c.height);return{scale:d,x:-(c.x+c.width/2)*d+(s.x+s.width/2),y:-(c.y+c.height/2)*d+(s.y+s.height/2)}}function F1(c,s){return Math.abs(c-s)<1e-8}function ng(c,s,a){var u=0,d=c[0];if(!d)return!1;for(var p=1;p<c.length;p++){var g=c[p];u+=df(d[0],d[1],g[0],g[1],s,a),d=g}var v=c[0];return F1(d[0],v[0])&&F1(d[1],v[1])||(u+=df(d[0],d[1],v[0],v[1],s,a)),0!==u}var BX=[],Mb=function(){function c(s){this.name=s}return c.prototype.getCenter=function(){},c}(),VX=function(c){function s(a,u,d){var p=c.call(this,a)||this;if(p.type="geoJSON",p.geometries=u,d)d=[d[0],d[1]];else{var g=p.getBoundingRect();d=[g.x+g.width/2,g.y+g.height/2]}return p._center=d,p}return Ee(s,c),s.prototype.getBoundingRect=function(){var a=this._rect;if(a)return a;for(var u=Number.MAX_VALUE,d=[u,u],p=[-u,-u],g=[],v=[],y=this.geometries,x=0;x<y.length;x++)"polygon"===y[x].type&&(c0(y[x].exterior,g,v),Ec(d,d,g),Jh(p,p,v));return 0===x&&(d[0]=d[1]=p[0]=p[1]=0),this._rect=new qn(d[0],d[1],p[0]-d[0],p[1]-d[1])},s.prototype.contain=function(a){var u=this.getBoundingRect(),d=this.geometries;if(!u.contain(a[0],a[1]))return!1;e:for(var p=0,g=d.length;p<g;p++)if("polygon"===d[p].type){var y=d[p].interiors;if(ng(d[p].exterior,a[0],a[1])){for(var x=0;x<(y?y.length:0);x++)if(ng(y[x],a[0],a[1]))continue e;return!0}}return!1},s.prototype.transformTo=function(a,u,d,p){var g=this.getBoundingRect(),v=g.width/g.height;d?p||(p=d/v):d=v*p;for(var y=new qn(a,u,d,p),x=g.calculateTransform(y),C=this.geometries,w=0;w<C.length;w++)if("polygon"===C[w].type){for(var D=C[w].exterior,P=C[w].interiors,z=0;z<D.length;z++)cr(D[z],D[z],x);for(var k=0;k<(P?P.length:0);k++)for(z=0;z<P[k].length;z++)cr(P[k][z],P[k][z],x)}(g=this._rect).copy(y),this._center=[g.x+g.width/2,g.y+g.height/2]},s.prototype.cloneShallow=function(a){null==a&&(a=this.name);var u=new s(a,this.geometries,this._center);return u._rect=this._rect,u.transformTo=null,u},s.prototype.getCenter=function(){return this._center},s.prototype.setCenter=function(a){this._center=a},s}(Mb),Ece=function(c){function s(a,u){var d=c.call(this,a)||this;return d.type="geoSVG",d._elOnlyForCalculate=u,d}return Ee(s,c),s.prototype.getCenter=function(){var a=this._center;return a||(a=this._center=this._calculateCenter()),a},s.prototype._calculateCenter=function(){for(var a=this._elOnlyForCalculate,u=a.getBoundingRect(),d=[u.x+u.width/2,u.y+u.height/2],p=ch(BX),g=a;g&&!g.isGeoSVGGraphicRoot;)ol(p,g.getLocalTransform(),p),g=g.parent;return pu(p,p),cr(d,d,p),d},s}(Mb),HX=qt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),YX=function(){function c(s,a){this.type="geoSVG",this._usedGraphicMap=qt(),this._freedGraphics=[],this._mapName=s,this._parsedXML=M9(a)}return c.prototype.load=function(){var p,g,v,s=this._firstGraphic;if(!s){s=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(s),this._boundingRect=this._firstGraphic.boundingRect.clone();var a=(p=s.named,g=[],v=qt(),fe(p,function(y){if(null==y.namedFrom){var x=new Ece(y.name,y.el);g.push(x),v.set(y.name,x)}}),{regions:g,regionsMap:v}),d=a.regionsMap;this._regions=a.regions,this._regionsMap=d}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},c.prototype._buildGraphic=function(s){var a,u,d,p;try{Dl(null!=(u=(a=s&&(d=s,p={ignoreViewBox:!0,ignoreRootClip:!0},(new Ki).parse(d,p))||{}).root))}catch(B){throw new Error("Invalid svg format\n"+B.message)}var g=new Xt;g.add(u),g.isGeoSVGGraphicRoot=!0;var v=a.width,y=a.height,x=a.viewBoxRect,C=this._boundingRect;if(!C){var w=void 0,D=void 0,P=void 0,z=void 0;if(null!=v?(w=0,P=v):x&&(w=x.x,P=x.width),null!=y?(D=0,z=y):x&&(D=x.y,z=x.height),null==w||null==D){var k=u.getBoundingRect();null==w&&(w=k.x,P=k.width),null==D&&(D=k.y,z=k.height)}C=this._boundingRect=new qn(w,D,P,z)}if(x){var E=Tb(x,C);u.scaleX=u.scaleY=E.scale,u.x=E.x,u.y=E.y}g.setClipPath(new gi({shape:C.plain()}));var F=[];return fe(a.named,function(B){var H;null!=HX.get(B.svgNodeTagLower)&&(F.push(B),(H=B.el).silent=!1,H.isGroup&&H.traverse(function(Y){Y.silent=!1}))}),{root:g,boundingRect:C,named:F}},c.prototype.useGraphic=function(s){var a=this._usedGraphicMap,u=a.get(s);return u||(u=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),a.set(s,u),u)},c.prototype.freeGraphic=function(s){var a=this._usedGraphicMap,u=a.get(s);u&&(a.removeKey(s),this._freedGraphics.push(u))},c}();function z9(c,s,a){for(var u=[],d=s[0],p=s[1],g=0;g<c.length;g+=2){var v=c.charCodeAt(g)-64,y=c.charCodeAt(g+1)-64;v=v>>1^-(1&v),y=y>>1^-(1&y),d=v+=d,p=y+=p,u.push([v/a,y/a])}return u}function k9(c,s){return tt(Ri((c=function(a){if(!a.UTF8Encoding)return a;var u=a,d=u.UTF8Scale;null==d&&(d=1024);for(var p=u.features,g=0;g<p.length;g++){var v=p[g].geometry;if("Polygon"===v.type)for(var y=v.coordinates,x=0;x<y.length;x++)y[x]=z9(y[x],v.encodeOffsets[x],d);else if("MultiPolygon"===v.type)for(y=v.coordinates,x=0;x<y.length;x++)for(var C=y[x],w=0;w<C.length;w++)C[w]=z9(C[w],v.encodeOffsets[x][w],d)}return u.UTF8Encoding=!1,u}(c)).features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var u=a.properties,d=a.geometry,p=[];if("Polygon"===d.type){var g=d.coordinates;p.push({type:"polygon",exterior:g[0],interiors:g.slice(1)})}"MultiPolygon"===d.type&&fe(g=d.coordinates,function(y){y[0]&&p.push({type:"polygon",exterior:y[0],interiors:y.slice(1)})});var v=new VX(u[s||"name"],p,u.cp);return v.properties=u,v})}for(var Va=[126,25],N0=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],F0=0;F0<N0.length;F0++)for(var B0=0;B0<N0[F0].length;B0++)N0[F0][B0][0]/=10.5,N0[F0][B0][1]/=-14,N0[F0][B0][0]+=Va[0],N0[F0][B0][1]+=Va[1];var UX={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},uR={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},hR=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],b_=function(){function c(s,a,u){var d;this.type="geoJSON",this._parsedMap=qt(),this._mapName=s,this._specialAreas=u,this._geoJSON=ui(d=a)?typeof JSON<"u"&&JSON.parse?JSON.parse(d):new Function("return ("+d+");")():d}return c.prototype.load=function(s,a){var u=this._parsedMap.get(a=a||"name");if(!u){var d=this._parseToRegions(a);u=this._parsedMap.set(a,{regions:d,boundingRect:GX(d)})}var p=qt(),g=[];return fe(u.regions,function(v){var y=v.name;s&&s.hasOwnProperty(y)&&(v=v.cloneShallow(y=s[y])),g.push(v),p.set(y,v)}),{regions:g,boundingRect:u.boundingRect||new qn(0,0,0,0),regionsMap:p}},c.prototype._parseToRegions=function(s){var a,u=this._mapName,d=this._geoJSON;try{a=d?k9(d,s):[]}catch(p){throw new Error("Invalid geoJson format\n"+p.message)}return function(p,g){if("china"===p){for(var v=0;v<g.length;v++)if("\u5357\u6d77\u8bf8\u5c9b"===g[v].name)return;g.push(new VX("\u5357\u6d77\u8bf8\u5c9b",tt(N0,function(y){return{type:"polygon",exterior:y}}),Va))}}(u,a),fe(a,function(p){var x,g=p.name;(function(y,x){if("china"===y){var C=UX[x.name];if(C){var w=x.getCenter();w[0]+=C[0]/10.5,w[1]+=-C[1]/14,x.setCenter(w)}}})(u,p),function(y,x){if("world"===y){var C=uR[x.name];C&&x.setCenter([C[0],C[1]])}}(u,p),x=p,"china"===u&&"\u53f0\u6e7e"===x.name&&x.geometries.push({type:"polygon",exterior:hR[0]});var v=this._specialAreas&&this._specialAreas[g];v&&p.transformTo(v.left,v.top,v.width,v.height)},this),a},c.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},c}();function GX(c){for(var s,a=0;a<c.length;a++){var u=c[a].getBoundingRect();(s=s||u.clone()).union(u)}return s}var Dy=qt(),Db=function(c){return Dy.get(c)},pR=function(c,s,a){var u=Dy.get(c);if(u)return u.load(s,a)},yn=new Rs,Ht=typeof window<"u",Di={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},fd=/^[a-zA-Z0-9_]+$/,ku="__connectUpdateStatus";function Th(c){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(!this.isDisposed())return I9(this,c,s)}}function E9(c){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return I9(this,c,s)}}function I9(c,s,a){return a[0]=a[0]&&a[0].toLowerCase(),Rs.prototype[s].apply(c,a)}var C_,L9,Ab,B1,Py,V0,R9,w_,Ay,N9,F9,V1,B9,V9,Be,Bt,In,Ou,H9,Y9=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s}(Rs),U9=Y9.prototype;U9.on=E9("on"),U9.off=E9("off");var zy=function(c){function s(a,u,d){var p=c.call(this,new FX)||this;p._chartsViews=[],p._chartsMap={},p._componentsViews=[],p._componentsMap={},p._pendingActions=[],d=d||{},"string"==typeof u&&(u=mR[u]),p._dom=a;var y=p._zr=v1(a,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height,useDirtyRect:null!=d.useDirtyRect&&d.useDirtyRect});p._throttledZrFlush=my(rt(y.flush,y),17),(u=nn(u))&&gX(u,!0),p._theme=u,p._locale=function(w){if(ui(w)){var D=X5[w.toUpperCase()]||{};return"ZH"===w||"EN"===w?nn(D):Mn(nn(D),nn(X5.EN),!1)}return Mn(nn(w),nn(X5.EN),!1)}(d.locale||Xp),p._coordSysMgr=new a_;var x=p._api=Bt(p);function C(w,D){return w.__prio-D.__prio}return Mp(Ob,C),Mp(G9,C),p._scheduler=new Zn(p,x,G9,Ob),p._messageCenter=new Y9,p._initEvents(),p.resize=rt(p.resize,p),y.animation.on("frame",p._onframe,p),N9(y,p),F9(y,p),wp(p),p}return Ee(s,c),s.prototype._onframe=function(){if(!this._disposed){H9(this);var a=this._scheduler;if(this.__pendingUpdate){var u=this.__pendingUpdate.silent;this.__flagInMainProcess=!0,C_(this),B1.update.call(this,null,this.__pendingUpdate.updateParams),this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,w_.call(this,u),Ay.call(this,u)}else if(a.unfinished){var d=1,p=this._model,g=this._api;a.unfinished=!1;do{var v=+new Date;a.performSeriesTasks(p),a.performDataProcessorTasks(p),V0(this,p),a.performVisualTasks(p),Be(this,this._model,g,"remain",{}),d-=+new Date-v}while(d>0&&a.unfinished);a.unfinished||this._zr.flush()}}},s.prototype.getDom=function(){return this._dom},s.prototype.getId=function(){return this.id},s.prototype.getZr=function(){return this._zr},s.prototype.setOption=function(a,u,d){if(this._disposed);else{var p,g,v;if(rn(u)&&(d=u.lazyUpdate,p=u.silent,g=u.replaceMerge,v=u.transition,u=u.notMerge),this.__flagInMainProcess=!0,!this._model||u){var y=new fX(this._api),x=this._theme,C=this._model=new UM;C.scheduler=this._scheduler,C.init(null,null,null,x,this._locale,y)}this._model.setOption(a,{replaceMerge:g},kb);var w={seriesTransition:v,optionChanged:!0};d?(this.__pendingUpdate={silent:p,updateParams:w},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(C_(this),B1.update.call(this,null,w),this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,w_.call(this,p),Ay.call(this,p))}},s.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},s.prototype.getModel=function(){return this._model},s.prototype.getOption=function(){return this._model&&this._model.getOption()},s.prototype.getWidth=function(){return this._zr.getWidth()},s.prototype.getHeight=function(){return this._zr.getHeight()},s.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ht&&window.devicePixelRatio||1},s.prototype.getRenderedCanvas=function(a){if(Pt.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(a=a||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},s.prototype.getSvgDataURL=function(){if(Pt.svgSupported){var a=this._zr;return fe(a.storage.getDisplayList(),function(u){u.stopAnimation(null,!0)}),a.painter.toDataURL()}},s.prototype.getDataURL=function(a){if(!this._disposed){var u=(a=a||{}).excludeComponents,d=this._model,p=[],g=this;fe(u,function(y){d.eachComponent({mainType:y},function(x){var C=g._componentsMap[x.__viewId];C.group.ignore||(p.push(C),C.group.ignore=!0)})});var v="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return fe(p,function(y){y.group.ignore=!1}),v}},s.prototype.getConnectedDataURL=function(a){if(this._disposed);else if(Pt.canvasSupported){var u="svg"===a.type,d=this.group,p=Math.min,g=Math.max,v=1/0;if(Eb[d]){var y=v,x=v,C=-1/0,w=-1/0,D=[],P=a&&a.pixelRatio||this.getDevicePixelRatio();fe(H0,function(H,Y){if(H.group===d){var U=u?H.getZr().painter.getSvgDom().innerHTML:H.getRenderedCanvas(nn(a)),j=H.getDom().getBoundingClientRect();y=p(j.left,y),x=p(j.top,x),C=g(j.right,C),w=g(j.bottom,w),D.push({dom:U,left:j.left,top:j.top})}});var z=(C*=P)-(y*=P),k=(w*=P)-(x*=P),E=Js(),F=v1(E,{renderer:u?"svg":"canvas"});if(F.resize({width:z,height:k}),u){var B="";return fe(D,function(H){B+='<g transform="translate('+(H.left-y)+","+(H.top-x)+')">'+H.dom+"</g>"}),F.painter.getSvgRoot().innerHTML=B,a.connectedBackgroundColor&&F.painter.setBackgroundColor(a.connectedBackgroundColor),F.refreshImmediately(),F.painter.toDataURL()}return a.connectedBackgroundColor&&F.add(new gi({shape:{x:0,y:0,width:z,height:k},style:{fill:a.connectedBackgroundColor}})),fe(D,function(H){var Y=new Qo({style:{x:H.left*P-y,y:H.top*P-x,image:H.dom}});F.add(Y)}),F.refreshImmediately(),E.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}},s.prototype.convertToPixel=function(a,u){return Py(this,"convertToPixel",a,u)},s.prototype.convertFromPixel=function(a,u){return Py(this,"convertFromPixel",a,u)},s.prototype.containPixel=function(a,u){var d;if(!this._disposed)return fe(k2(this._model,a),function(p,g){g.indexOf("Models")>=0&&fe(p,function(v){var y=v.coordinateSystem;if(y&&y.containPoint)d=d||!!y.containPoint(u);else if("seriesModels"===g){var x=this._chartsMap[v.__viewId];x&&x.containPoint&&(d=d||x.containPoint(u,v))}},this)},this),!!d},s.prototype.getVisual=function(a,u){var d=k2(this._model,a,{defaultMainType:"series"}),g=d.seriesModel.getData(),v=d.hasOwnProperty("dataIndexInside")?d.dataIndexInside:d.hasOwnProperty("dataIndex")?g.indexOfRawIndex(d.dataIndex):null;return null!=v?E0(g,v,u):es(g,u)},s.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},s.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},s.prototype._initEvents=function(){var u,d,p=this;fe(gR,function(g){var v=function(y){var x,C=p.getModel(),w=y.target;if("globalout"===g?x={}:w&&oi(w,function(F){var B=Pn(F);if(B&&null!=B.dataIndex){var H=B.dataModel||C.getSeriesByIndex(B.seriesIndex);return x=H&&H.getDataParams(B.dataIndex,B.dataType)||{},!0}if(B.eventData)return x=it({},B.eventData),!0},!0),x){var P=x.componentType,z=x.componentIndex;"markLine"!==P&&"markPoint"!==P&&"markArea"!==P||(P="series",z=x.seriesIndex);var k=P&&null!=z&&C.getComponent(P,z),E=k&&p["series"===k.mainType?"_chartsMap":"_componentsMap"][k.__viewId];x.event=y,x.type=g,p._$eventProcessor.eventInfo={targetEl:w,packedEvent:x,model:k,view:E},p.trigger(g,x)}};v.zrEventfulCallAtLast=!0,p._zr.on(g,v,p)}),fe(Df,function(g,v){p._messageCenter.on(v,function(y){this.trigger(v,y)},p)}),fe(["selectchanged"],function(g){p._messageCenter.on(g,function(v){this.trigger(g,v)},p)}),u=this,d=this._api,this._messageCenter.on("selectchanged",function(g){var v=d.getModel();g.isFromClick?(fl("map","selectchanged",u,v,g),fl("pie","selectchanged",u,v,g)):"select"===g.fromAction?(fl("map","selected",u,v,g),fl("pie","selected",u,v,g)):"unselect"===g.fromAction&&(fl("map","unselected",u,v,g),fl("pie","unselected",u,v,g))})},s.prototype.isDisposed=function(){return this._disposed},s.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},s.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,RT(this.getDom(),j9,"");var a=this,u=a._api,d=a._model;fe(a._componentsViews,function(p){p.dispose(d,u)}),fe(a._chartsViews,function(p){p.dispose(d,u)}),a._zr.dispose(),a._dom=a._model=a._chartsMap=a._componentsMap=a._chartsViews=a._componentsViews=a._scheduler=a._api=a._zr=a._throttledZrFlush=a._theme=a._coordSysMgr=a._messageCenter=null,delete H0[a.id]}},s.prototype.resize=function(a){if(this._disposed);else{this._zr.resize(a);var u=this._model;if(this._loadingFX&&this._loadingFX.resize(),u){var d=u.resetOption("media"),p=a&&a.silent;this.__pendingUpdate&&(null==p&&(p=this.__pendingUpdate.silent),d=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0,d&&C_(this),B1.update.call(this,{type:"resize",animation:it({duration:0},a&&a.animation)}),this.__flagInMainProcess=!1,w_.call(this,p),Ay.call(this,p)}}},s.prototype.showLoading=function(a,u){if(this._disposed);else if(rn(a)&&(u=a,a=""),a=a||"default",this.hideLoading(),W9[a]){var d=W9[a](this._api,u),p=this._zr;this._loadingFX=d,p.add(d)}},s.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},s.prototype.makeActionFromEvent=function(a){var u=it({},a);return u.type=Df[a.type],u},s.prototype.dispatchAction=function(a,u){if(this._disposed);else if(rn(u)||(u={silent:!!u}),Jt[a.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(a);else{var d=u.silent;R9.call(this,a,d);var p=u.flush;p?this._zr.flush():!1!==p&&Pt.browser.weChat&&this._throttledZrFlush(),w_.call(this,d),Ay.call(this,d)}},s.prototype.updateLabelLayout=function(){yn.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},s.prototype.appendData=function(a){if(this._disposed);else{var u=a.seriesIndex;this.getModel().getSeriesByIndex(u).appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},s.internalField=function(){function a(v){for(var y=[],x=v.currentStates,C=0;C<x.length;C++){var w=x[C];"emphasis"!==w&&"blur"!==w&&"select"!==w&&y.push(w)}v.selected&&v.states.select&&y.push("select"),2===v.hoverState&&v.states.emphasis?y.push("emphasis"):1===v.hoverState&&v.states.blur&&y.push("blur"),v.useStates(y)}function u(v,y){v.preventAutoZ||d(y.group,v.get("z")||0,v.get("zlevel")||0,-1/0)}function d(v,y,x,C){var w=v.getTextContent(),D=v.getTextGuideLine();if(v.isGroup)for(var P=v.childrenRef(),z=0;z<P.length;z++)C=Math.max(d(P[z],y,x,C),C);else v.z=y,v.zlevel=x,C=Math.max(v.z2,C);if(w&&(w.z=y,w.zlevel=x,isFinite(C)&&(w.z2=C+2)),D){var k=v.textGuideLineConfig;D.z=y,D.zlevel=x,isFinite(C)&&(D.z2=C+(k&&k.showAbove?1:-1))}return C}function p(v,y){y.group.traverse(function(x){if(!z1(x)){var C=x.getTextContent(),w=x.getTextGuideLine();x.stateTransition&&(x.stateTransition=null),C&&C.stateTransition&&(C.stateTransition=null),w&&w.stateTransition&&(w.stateTransition=null),x.hasState()?(x.prevStates=x.currentStates,x.clearStates()):x.prevStates&&(x.prevStates=null)}})}function g(v,y){var x=v.getModel("stateAnimation"),C=v.isAnimationEnabled(),w=x.get("duration"),D=w>0?{duration:w,delay:x.get("delay"),easing:x.get("easing")}:null;y.group.traverse(function(P){if(P.states&&P.states.emphasis){if(z1(P))return;if(P instanceof pi&&function(F){var B=M5(F);B.normalFill=F.style.fill,B.normalStroke=F.style.stroke;var H=F.states.select||{};B.selectFill=H.style&&H.style.fill||null,B.selectStroke=H.style&&H.style.stroke||null}(P),P.__dirty){var z=P.prevStates;z&&P.useStates(z)}if(C){P.stateTransition=D;var k=P.getTextContent(),E=P.getTextGuideLine();k&&(k.stateTransition=D),E&&(E.stateTransition=D)}P.__dirty&&a(P)}})}C_=function(v){var y=v._scheduler;y.restorePipelines(v._model),y.prepareStageTasks(),L9(v,!0),L9(v,!1),y.plan()},L9=function(v,y){for(var x=v._model,C=v._scheduler,w=y?v._componentsViews:v._chartsViews,D=y?v._componentsMap:v._chartsMap,P=v._zr,z=v._api,k=0;k<w.length;k++)w[k].__alive=!1;function E(B){var H=B.__requireNewView;B.__requireNewView=!1;var Y="_ec_"+B.id+"_"+B.type,U=!H&&D[Y];if(!U){var j=Xe(B.type);(U=new(y?$r.getClass(j.main,j.sub):dr.getClass(j.sub))).init(x,z),D[Y]=U,w.push(U),P.add(U.group)}B.__viewId=U.__id=Y,U.__alive=!0,U.__model=B,U.group.__ecComponentInfo={mainType:B.mainType,index:B.componentIndex},!y&&C.prepareView(U,B,x,z)}for(y?x.eachComponent(function(B,H){"series"!==B&&E(H)}):x.eachSeries(E),k=0;k<w.length;){var F=w[k];F.__alive?k++:(!y&&F.renderTask.dispose(),P.remove(F.group),F.dispose(x,z),w.splice(k,1),D[F.__id]===F&&delete D[F.__id],F.__id=F.group.__ecComponentInfo=null)}},Ab=function(v,y,x,C,w){var D=v._model;if(D.setUpdatePayload(x),C){var P={};P[C+"Id"]=x[C+"Id"],P[C+"Index"]=x[C+"Index"],P[C+"Name"]=x[C+"Name"];var z={mainType:C,query:P};w&&(z.subType=w);var k,E=x.excludeSeriesId;null!=E&&(k=qt(),fe(Sr(E),function(B){var H=Vo(B,null);null!=H&&k.set(H,!0)})),Nl(x)&&q$(v._api),D&&D.eachComponent(z,function(B){if(!k||null===k.get(B.id))if(Nl(x))if(B instanceof Fr)x.type!==D1||x.notBlur||function(j,q,Q){var re=j.seriesIndex,oe=j.getData(q.dataType),ae=tf(oe,q);ae=(at(ae)?ae[0]:ae)||0;var he=oe.getItemGraphicEl(ae);if(!he)for(var me=oe.count(),_e=0;!he&&_e<me;)he=oe.getItemGraphicEl(_e++);if(he){var be=Pn(he);wI(re,be.focus,be.blurScope,Q)}else{var we=j.get(["emphasis","focus"]),Te=j.get(["emphasis","blurScope"]);null!=we&&wI(re,we,Te,Q)}}(B,x,v._api);else{var H=SI(B.mainType,B.componentIndex,x.name,v._api),U=H.dispatchers;x.type===D1&&H.focusSelf&&!x.notBlur&&H3(B.mainType,B.componentIndex,v._api),U&&fe(U,function(j){x.type===D1?ad(j):Wp(j)})}else z5(x)&&B instanceof Fr&&(function(j,q,Q){if(z5(q)){var re=q.dataType,oe=tf(j.getData(re),q);at(oe)||(oe=[oe]),j[q.type===Yp?"toggleSelect":q.type===B3?"select":"unselect"](oe,re)}}(B,x),Z$(B),Ou(v))},v),D&&D.eachComponent(z,function(B){k&&null!==k.get(B.id)||F(v["series"===C?"_chartsMap":"_componentsMap"][B.__viewId])},v)}else fe([].concat(v._componentsViews).concat(v._chartsViews),F);function F(B){B&&B.__alive&&B[y]&&B[y](B.__model,D,v._api,x)}},B1={prepareAndUpdate:function(v){C_(this),B1.update.call(this,v,{optionChanged:null!=v.newOption})},update:function(v,y){var x=this._model,C=this._api,w=this._zr,D=this._coordSysMgr,P=this._scheduler;if(x){x.setUpdatePayload(v),P.restoreData(x,v),P.performSeriesTasks(x),D.create(x,C),P.performDataProcessorTasks(x,v),V0(this,x),D.update(x,C),V1(x),P.performVisualTasks(x,v),B9(this,x,C,v,y);var z=x.get("backgroundColor")||"transparent",k=x.get("darkMode");if(Pt.canvasSupported)w.setBackgroundColor(z),null!=k&&"auto"!==k&&w.setDarkMode(k);else{var E=Jr(z);z=Et(E,"rgb"),0===E[3]&&(z="transparent")}yn.trigger("afterupdate",x,C)}},updateTransform:function(v){var y=this,x=this._model,C=this._api;if(x){x.setUpdatePayload(v);var w=[];x.eachComponent(function(P,z){if("series"!==P){var k=y.getViewOfComponentModel(z);if(k&&k.__alive)if(k.updateTransform){var E=k.updateTransform(z,x,C,v);E&&E.update&&w.push(k)}else w.push(k)}});var D=qt();x.eachSeries(function(P){var z=y._chartsMap[P.__viewId];if(z.updateTransform){var k=z.updateTransform(P,x,C,v);k&&k.update&&D.set(P.uid,1)}else D.set(P.uid,1)}),V1(x),this._scheduler.performVisualTasks(x,v,{setDirty:!0,dirtyMap:D}),Be(this,x,C,v,{},D),yn.trigger("afterupdate",x,C)}},updateView:function(v){var y=this._model;y&&(y.setUpdatePayload(v),dr.markUpdateMethod(v,"updateView"),V1(y),this._scheduler.performVisualTasks(y,v,{setDirty:!0}),B9(this,y,this._api,v,{}),yn.trigger("afterupdate",y,this._api))},updateVisual:function(v){var y=this,x=this._model;x&&(x.setUpdatePayload(v),x.eachSeries(function(C){C.getData().clearAllVisual()}),dr.markUpdateMethod(v,"updateVisual"),V1(x),this._scheduler.performVisualTasks(x,v,{visualType:"visual",setDirty:!0}),x.eachComponent(function(C,w){if("series"!==C){var D=y.getViewOfComponentModel(w);D&&D.__alive&&D.updateVisual(w,x,y._api,v)}}),x.eachSeries(function(C){y._chartsMap[C.__viewId].updateVisual(C,x,y._api,v)}),yn.trigger("afterupdate",x,this._api))},updateLayout:function(v){B1.update.call(this,v)}},Py=function(v,y,x,C){if(v._disposed);else for(var w,D=v._model,P=v._coordSysMgr.getCoordinateSystems(),z=k2(D,x),k=0;k<P.length;k++){var E=P[k];if(E[y]&&null!=(w=E[y](D,z,C)))return w}},V0=function(v,y){var x=v._chartsMap,C=v._scheduler;y.eachSeries(function(w){C.updateStreamModes(w,x[w.__viewId])})},R9=function(v,y){var x=this,C=this.getModel(),w=v.type,D=v.escapeConnect,P=Jt[w],z=P.actionInfo,k=(z.update||"update").split(":"),E=k.pop(),F=null!=k[0]&&Xe(k[0]);this.__flagInMainProcess=!0;var B=[v],H=!1;v.batch&&(H=!0,B=tt(v.batch,function(oe){return(oe=jt(it({},oe),v)).batch=null,oe}));var Y,U=[],j=z5(v),q=Nl(v);if(fe(B,function(oe){if((Y=(Y=P.action(oe,x._model,x._api))||it({},oe)).type=z.event||Y.type,U.push(Y),q){var ae=JE(v),me=ae.mainTypeSpecified?ae.queryOptionMap.keys()[0]:"series";Ab(x,E,oe,me),Ou(x)}else j?(Ab(x,E,oe,"series"),Ou(x)):F&&Ab(x,E,oe,F.main,F.sub)}),"none"===E||q||j||F||(this.__pendingUpdate?(C_(this),B1.update.call(this,v),this.__pendingUpdate=null):B1[E].call(this,v)),Y=H?{type:z.event||w,escapeConnect:D,batch:U}:U[0],this.__flagInMainProcess=!1,!y){var Q=this._messageCenter;if(Q.trigger(Y.type,Y),j){var re={type:"selectchanged",escapeConnect:D,selected:Mce(C),isFromClick:v.isFromClick||!1,fromAction:v.type,fromActionPayload:v};Q.trigger(re.type,re)}}},w_=function(v){for(var y=this._pendingActions;y.length;){var x=y.shift();R9.call(this,x,v)}},Ay=function(v){!v&&this.trigger("updated")},N9=function(v,y){v.on("rendered",function(x){y.trigger("rendered",x),!v.animation.isFinished()||y.__pendingUpdate||y._scheduler.unfinished||y._pendingActions.length||y.trigger("finished")})},F9=function(v,y){v.on("mouseover",function(x){var w,D,P,z,k,E,C=oi(x.target,Y3);C&&(D=x,P=y._api,(E=(k=SI((z=Pn(w=C)).componentMainType,z.componentIndex,z.componentHighDownName,P)).dispatchers)?(k.focusSelf&&H3(z.componentMainType,z.componentIndex,P),fe(E,function(B){return aM(B,D)})):(wI(z.seriesIndex,z.focus,z.blurScope,P),"self"===z.focus&&H3(z.componentMainType,z.componentIndex,P),aM(w,D)),Ou(y))}).on("mouseout",function(x){var C=oi(x.target,Y3);C&&(function(w,D,P){q$(P);var z=Pn(w),k=SI(z.componentMainType,z.componentIndex,z.componentHighDownName,P).dispatchers;k?fe(k,function(E){return xI(E,D)}):xI(w,D)}(C,x,y._api),Ou(y))}).on("click",function(x){var C=oi(x.target,function(P){return null!=Pn(P).dataIndex},!0);if(C){var w=C.selected?"unselect":"select",D=Pn(C);y._api.dispatchAction({type:w,dataType:D.dataType,dataIndexInside:D.dataIndex,seriesIndex:D.seriesIndex,isFromClick:!0})}})},V1=function(v){v.clearColorPalette(),v.eachSeries(function(y){y.clearColorPalette()})},B9=function(v,y,x,C,w){V9(v,y,x,C,w),fe(v._chartsViews,function(D){D.__alive=!1}),Be(v,y,x,C,w),fe(v._chartsViews,function(D){D.__alive||D.remove(y,x)})},V9=function(v,y,x,C,w,D){fe(D||v._componentsViews,function(P){var z=P.__model;p(0,P),P.render(z,y,x,C),u(z,P),g(z,P)})},Be=function(v,y,x,C,w,D){var P=v._scheduler;w=it(w||{},{updatedSeries:y.getSeries()}),yn.trigger("series:beforeupdate",y,x,w);var k,E,B,z=!1;y.eachSeries(function(k){var E=v._chartsMap[k.__viewId];E.__alive=!0;var H,Y,F=E.renderTask;P.updatePayload(F,C),p(0,E),D&&D.get(k.uid)&&F.dirty(),F.perform(P.getPerformArgs(F))&&(z=!0),E.group.silent=!!k.get("silent"),H=E,Y=k.get("blendMode")||null,H.group.traverse(function(U){U.isGroup||(U.style.blend=Y),U.eachPendingDisplayable&&U.eachPendingDisplayable(function(j){j.style.blend=Y})}),Z$(k)}),P.unfinished=z||P.unfinished,yn.trigger("series:layoutlabels",y,x,w),yn.trigger("series:transition",y,x,w),y.eachSeries(function(k){var E=v._chartsMap[k.__viewId];u(k,E),g(k,E)}),E=y,B=0,(k=v)._zr.storage.traverse(function(H){H.isGroup||B++}),B>E.get("hoverLayerThreshold")&&!Pt.node&&!Pt.worker&&E.eachSeries(function(H){if(!H.preventUsingHoverLayer){var Y=k._chartsMap[H.__viewId];Y.__alive&&Y.group.traverse(function(U){U.states.emphasis&&(U.states.emphasis.hoverLayer=!0)})}}),yn.trigger("series:afterupdate",y,x,w)},Ou=function(v){v.__needsUpdateStatus=!0,v.getZr().wakeUp()},H9=function(v){v.__needsUpdateStatus&&(v.getZr().storage.traverse(function(y){z1(y)||a(y)}),v.__needsUpdateStatus=!1)},Bt=function(v){return new(function(y){function x(){return null!==y&&y.apply(this,arguments)||this}return Ee(x,y),x.prototype.getCoordinateSystems=function(){return v._coordSysMgr.getCoordinateSystems()},x.prototype.getComponentByElement=function(C){for(;C;){var w=C.__ecComponentInfo;if(null!=w)return v._model.getComponent(w.mainType,w.index);C=C.parent}},x.prototype.enterEmphasis=function(C,w){ad(C,w),Ou(v)},x.prototype.leaveEmphasis=function(C,w){Wp(C,w),Ou(v)},x.prototype.enterBlur=function(C){sM(C),Ou(v)},x.prototype.leaveBlur=function(C){X$(C),Ou(v)},x.prototype.enterSelect=function(C){bI(C),Ou(v)},x.prototype.leaveSelect=function(C){CI(C),Ou(v)},x.prototype.getModel=function(){return v.getModel()},x.prototype.getViewOfComponentModel=function(C){return v.getViewOfComponentModel(C)},x.prototype.getViewOfSeriesModel=function(C){return v.getViewOfSeriesModel(C)},x}(gL))(v)},In=function(v){function y(x,C){for(var w=0;w<x.length;w++)x[w][ku]=C}fe(Df,function(x,C){v._messageCenter.on(C,function(w){if(Eb[v.group]&&0!==v[ku]){if(w&&w.escapeConnect)return;var D=v.makeActionFromEvent(w),P=[];fe(H0,function(z){z!==v&&z.group===v.group&&P.push(z)}),y(P,0),fe(P,function(z){1!==z[ku]&&z.dispatchAction(D)}),y(P,2)}})})}}(),s}(Rs),zb=zy.prototype;zb.on=Th("on"),zb.off=Th("off"),zb.one=function(c,s,a){var u=this;this.on.call(this,c,function d(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];s&&s.apply&&s.apply(this,p),u.off(c,d)},a)};var gR=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Jt={},Df={},G9=[],kb=[],Ob=[],mR={},W9={},H0={},Eb={},jX=+new Date-0,$X=+new Date-0,j9="_echarts_instance_";function vR(c){Eb[c]=!1}var XX=vR;function $9(c){return H0[function(s,a){return s.getAttribute?s.getAttribute(a):s[a]}(c,j9)]}function X9(c,s){mR[c]=s}function q9(c){Gn(kb,c)<0&&kb.push(c)}function Z9(c,s){Ib(G9,c,s,2e3)}function K9(c){ky("afterinit",c)}function Q9(c){ky("afterupdate",c)}function ky(c,s){yn.on(c,s)}function Mh(c,s,a){"function"==typeof s&&(a=s,s="");var u=rn(c)?c.type:[c,c={event:s}][0];c.event=(c.event||u).toLowerCase(),Df[s=c.event]||(Dl(fd.test(u)&&fd.test(s)),Jt[u]||(Jt[u]={action:a,actionInfo:c}),Df[s]=u)}function J9(c,s){a_.register(c,s)}function eD(c,s){Ib(Ob,c,s,1e3,"layout")}function ig(c,s){Ib(Ob,c,s,3e3,"visual")}var tD=[];function Ib(c,s,a,u,d){if((wi(s)||rn(s))&&(a=s,s=u),!(Gn(tD,a)>=0)){tD.push(a);var p=Zn.wrapStageHandler(a,d);p.__prio=s,p.__raw=a,c.push(p)}}function Lb(c,s){W9[c]=s}function Oy(c,s,a){!function(c,s,a){if(s.svg){var u=new YX(c,s.svg);Dy.set(c,u)}else{var d=s.geoJson||s.geoJSON;d&&!s.features?a=s.specialAreas:d=s,u=new b_(c,d,a),Dy.set(c,u)}}(c,s,a)}var H1=function(c){var s=(c=nn(c)).type;s||Ui("");var u=s.split(":");2!==u.length&&Ui("");var d=!1;"echarts"===u[0]&&(s=u[1],d=!0),c.__isBuiltIn=d,l9.set(s,c)};ig(2e3,DX),ig(4500,PX),ig(4500,AX),ig(2e3,Tf),ig(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(c,s){if(c.hasSymbolVisual&&!s.isSeriesFiltered(c))return{dataEach:c.getData().hasItemOption?function(a,u){var d=a.getItemModel(u),p=d.getShallow("symbol",!0),g=d.getShallow("symbolSize",!0),v=d.getShallow("symbolRotate",!0),y=d.getShallow("symbolOffset",!0),x=d.getShallow("symbolKeepAspect",!0);null!=p&&a.setItemVisual(u,"symbol",p),null!=g&&a.setItemVisual(u,"symbolSize",g),null!=v&&a.setItemVisual(u,"symbolRotate",v),null!=y&&a.setItemVisual(u,"symbolOffset",y),null!=x&&a.setItemVisual(u,"symbolKeepAspect",x)}:null}}}),ig(7e3,function(c,s){c.eachRawSeries(function(a){if(!c.isSeriesFiltered(a)){var u=a.getData();u.hasItemVisual()&&u.each(function(p){var g=u.getItemVisual(p,"decal");g&&(u.ensureUniqueItemVisual(p,"style").decal=He(g,s))});var d=u.getVisual("decal");d&&(u.getVisual("style").decal=He(d,s))}})}),q9(gX),Z9(900,function(c){var s=qt();c.eachSeries(function(a){var u=a.get("stack");if(u){var d=s.get(u)||s.set(u,[]),p=a.getData(),g={stackResultDimension:p.getCalculationInfo("stackResultDimension"),stackedOverDimension:p.getCalculationInfo("stackedOverDimension"),stackedDimension:p.getCalculationInfo("stackedDimension"),stackedByDimension:p.getCalculationInfo("stackedByDimension"),isStackedByIndex:p.getCalculationInfo("isStackedByIndex"),data:p,seriesModel:a};if(!g.stackedDimension||!g.isStackedByIndex&&!g.stackedByDimension)return;d.length&&p.setCalculationInfo("stackedOnSeries",d[d.length-1].seriesModel),d.push(g)}}),s.each(Oce)}),Lb("default",function(c,s){jt(s=s||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new Xt,u=new gi({style:{fill:s.maskColor},zlevel:s.zlevel,z:1e4});a.add(u);var d,p=new Ni({style:{text:s.text,fill:s.textColor,fontSize:s.fontSize,fontWeight:s.fontWeight,fontStyle:s.fontStyle,fontFamily:s.fontFamily},zlevel:s.zlevel,z:10001}),g=new gi({style:{fill:"none"},textContent:p,textConfig:{position:"right",distance:10},zlevel:s.zlevel,z:10001});return a.add(g),s.showSpinner&&((d=new sd({shape:{startAngle:-_y/2,endAngle:-_y/2+.1,r:s.spinnerRadius},style:{stroke:s.color,lineCap:"round",lineWidth:s.lineWidth},zlevel:s.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*_y/2}).start("circularInOut"),d.animateShape(!0).when(1e3,{startAngle:3*_y/2}).delay(300).start("circularInOut"),a.add(d)),a.resize=function(){var v=p.getBoundingRect().width,y=s.showSpinner?s.spinnerRadius:0,x=(c.getWidth()-2*y-(s.showSpinner&&v?10:0)-v)/2-(s.showSpinner&&v?0:5+v/2)+(s.showSpinner?0:v/2)+(v?0:y),C=c.getHeight()/2;s.showSpinner&&d.setShape({cx:x,cy:C}),g.setShape({x:x-y,y:C-y,width:2*y,height:2*y}),u.setShape({x:0,y:0,width:c.getWidth(),height:c.getHeight()})},a.resize(),a}),Mh({type:D1,event:D1,update:D1},lc),Mh({type:mf,event:mf,update:mf},lc),Mh({type:B3,event:B3,update:B3},lc),Mh({type:V3,event:V3,update:V3},lc),Mh({type:Yp,event:Yp,update:Yp},lc),X9("light",O0),X9("dark",vb);var _R=[],qX={registerPreprocessor:q9,registerProcessor:Z9,registerPostInit:K9,registerPostUpdate:Q9,registerUpdateLifecycle:ky,registerAction:Mh,registerCoordinateSystem:J9,registerLayout:eD,registerVisual:ig,registerTransform:H1,registerLoading:Lb,registerMap:Oy,PRIORITY:Di,ComponentModel:di,ComponentView:$r,SeriesModel:Fr,ChartView:dr,registerComponentModel:function(c){di.registerClass(c)},registerComponentView:function(c){$r.registerClass(c)},registerSeriesModel:function(c){Fr.registerClass(c)},registerChartView:function(c){dr.registerClass(c)},registerSubTypeDefaulter:function(c,s){di.registerSubTypeDefaulter(c,s)},registerPainter:function(c,s){d5(c,s)}};function Bn(c){at(c)?fe(c,function(s){Bn(s)}):Gn(_R,c)>=0||(_R.push(c),wi(c)&&(c={install:c}),c.install(qX))}function Ey(c){return null==c?0:c.length||1}function Yl(c){return c}var Y1=function(){function c(s,a,u,d,p,g){this._old=s,this._new=a,this._oldKeyGetter=u||Yl,this._newKeyGetter=d||Yl,this.context=p,this._diffModeMultiple="multiple"===g}return c.prototype.add=function(s){return this._add=s,this},c.prototype.update=function(s){return this._update=s,this},c.prototype.updateManyToOne=function(s){return this._updateManyToOne=s,this},c.prototype.updateOneToMany=function(s){return this._updateOneToMany=s,this},c.prototype.updateManyToMany=function(s){return this._updateManyToMany=s,this},c.prototype.remove=function(s){return this._remove=s,this},c.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},c.prototype._executeOneToOne=function(){var s=this._old,a=this._new,u={},d=new Array(s.length),p=new Array(a.length);this._initIndexMap(s,null,d,"_oldKeyGetter"),this._initIndexMap(a,u,p,"_newKeyGetter");for(var g=0;g<s.length;g++){var v=d[g],y=u[v],x=Ey(y);if(x>1){var C=y.shift();1===y.length&&(u[v]=y[0]),this._update&&this._update(C,g)}else 1===x?(u[v]=null,this._update&&this._update(y,g)):this._remove&&this._remove(g)}this._performRestAdd(p,u)},c.prototype._executeMultiple=function(){var a=this._new,u={},d={},p=[],g=[];this._initIndexMap(this._old,u,p,"_oldKeyGetter"),this._initIndexMap(a,d,g,"_newKeyGetter");for(var v=0;v<p.length;v++){var y=p[v],x=u[y],C=d[y],w=Ey(x),D=Ey(C);if(w>1&&1===D)this._updateManyToOne&&this._updateManyToOne(C,x),d[y]=null;else if(1===w&&D>1)this._updateOneToMany&&this._updateOneToMany(C,x),d[y]=null;else if(1===w&&1===D)this._update&&this._update(C,x),d[y]=null;else if(w>1&&D>1)this._updateManyToMany&&this._updateManyToMany(C,x),d[y]=null;else if(w>1)for(var P=0;P<w;P++)this._remove&&this._remove(x[P]);else this._remove&&this._remove(x)}this._performRestAdd(g,d)},c.prototype._performRestAdd=function(s,a){for(var u=0;u<s.length;u++){var d=s[u],p=a[d],g=Ey(p);if(g>1)for(var v=0;v<g;v++)this._add&&this._add(p[v]);else 1===g&&this._add&&this._add(p);a[d]=null}},c.prototype._initIndexMap=function(s,a,u,d){for(var p=this._diffModeMultiple,g=0;g<s.length;g++){var v="_ec_"+this[d](s[g],g);if(p||(u[g]=v),a){var y=a[v],x=Ey(y);0===x?(a[v]=g,p&&u.push(v)):1===x?a[v]=[y,g]:y.push(g)}}},c}(),yR=function(){function c(s,a){this._encode=s,this._schema=a}return c.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},c.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},c}();function Rb(c,s){return c.hasOwnProperty(s)||(c[s]=[]),c[s]}function nD(c){return"category"===c?"ordinal":"time"===c?"time":"float"}var Kt=function(c){this.otherDims={},null!=c&&it(this,c)},ZX=Zi(),KX={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},xR=function(){function c(s){this.dimensions=s.dimensions,this._dimOmitted=s.dimensionOmitted,this.source=s.source,this._fullDimCount=s.fullDimensionCount,this._updateDimOmitted(s.dimensionOmitted)}return c.prototype.isDimensionOmitted=function(){return this._dimOmitted},c.prototype._updateDimOmitted=function(s){this._dimOmitted=s,s&&(this._dimNameMap||(this._dimNameMap=Iy(this.source)))},c.prototype.getSourceDimensionIndex=function(s){return xi(this._dimNameMap.get(s),-1)},c.prototype.getSourceDimension=function(s){var a=this.source.dimensionsDefine;if(a)return a[s]},c.prototype.makeStoreSchema=function(){for(var s=this._fullDimCount,a=CL(this.source),u=!Ly(s),d="",p=[],g=0,v=0;g<s;g++){var y=void 0,x=void 0,C=void 0,w=this.dimensions[v];if(w&&w.storeDimIndex===g)y=a?w.name:null,x=w.type,C=w.ordinalMeta,v++;else{var D=this.getSourceDimension(g);D&&(y=a?D.name:null,x=D.type)}p.push({property:y,type:x,ordinalMeta:C}),!a||null==y||w&&w.isCalculationCoord||(d+=u?y.replace(/\`/g,"`1").replace(/\$/g,"`2"):y),d+="$",d+=KX[x]||"f",C&&(d+=C.uid),d+="$"}var P=this.source;return{dimensions:p,hash:[P.seriesLayoutBy,P.startIndex,d].join("$$")}},c.prototype.makeOutputDimensionNames=function(){for(var s=[],a=0,u=0;a<this._fullDimCount;a++){var d=void 0,p=this.dimensions[u];if(p&&p.storeDimIndex===a)p.isCalculationCoord||(d=p.name),u++;else{var g=this.getSourceDimension(a);g&&(d=g.name)}s.push(d)}return s},c.prototype.appendCalculationDimension=function(s){this.dimensions.push(s),s.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},c}();function Y0(c){return c instanceof xR}function bR(c){for(var s=qt(),a=0;a<(c||[]).length;a++){var u=c[a],d=rn(u)?u.name:u;null!=d&&null==s.get(d)&&s.set(d,a)}return s}function Iy(c){var s=ZX(c);return s.dimNameMap||(s.dimNameMap=bR(c.dimensionsDefine))}function Ly(c){return c>30}var fa,iD,S_,T_,rD,Ry,Nb,M_=rn,rg=tt,QX=typeof Int32Array>"u"?Array:Int32Array,JX=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],eq=["_approximateExtent"],ts=function(){function c(s,a){var u;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var d=!1;Y0(s)?(u=s.dimensions,this._dimOmitted=s.isDimensionOmitted(),this._schema=s):(d=!0,u=s),u=u||["x","y"];for(var p={},g=[],v={},y=!1,x={},C=0;C<u.length;C++){var w=u[C],D=ui(w)?new Kt({name:w}):w instanceof Kt?w:new Kt(w),P=D.name;D.type=D.type||"float",D.coordDim||(D.coordDim=P,D.coordDimIndex=0);var z=D.otherDims=D.otherDims||{};g.push(P),p[P]=D,null!=x[P]&&(y=!0),D.createInvertedIndices&&(v[P]=[]),0===z.itemName&&(this._nameDimIdx=C),0===z.itemId&&(this._idDimIdx=C),d&&(D.storeDimIndex=C)}if(this.dimensions=g,this._dimInfos=p,this._initGetDimensionInfo(y),this.hostModel=a,this._invertedIndicesMap=v,this._dimOmitted){var k=this._dimIdxToName=qt();fe(g,function(E){k.set(p[E].storeDimIndex,E)})}}return c.prototype.getDimension=function(s){var a=this._recognizeDimIndex(s);if(null==a)return s;if(a=s,!this._dimOmitted)return this.dimensions[a];var u=this._dimIdxToName.get(a);if(null!=u)return u;var d=this._schema.getSourceDimension(a);return d?d.name:void 0},c.prototype.getDimensionIndex=function(s){var a=this._recognizeDimIndex(s);if(null!=a)return a;if(null==s)return-1;var u=this._getDimInfo(s);return u?u.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(s):-1},c.prototype._recognizeDimIndex=function(s){if("number"==typeof s||null!=s&&!isNaN(s)&&!this._getDimInfo(s)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(s)<0))return+s},c.prototype._getStoreDimIndex=function(s){return this.getDimensionIndex(s)},c.prototype.getDimensionInfo=function(s){return this._getDimInfo(this.getDimension(s))},c.prototype._initGetDimensionInfo=function(s){var a=this._dimInfos;this._getDimInfo=s?function(u){return a.hasOwnProperty(u)?a[u]:void 0}:function(u){return a[u]}},c.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},c.prototype.mapDimension=function(s,a){var u=this._dimSummary;if(null==a)return u.encodeFirstDimNotExtra[s];var d=u.encode[s];return d?d[a]:null},c.prototype.mapDimensionsAll=function(s){return(this._dimSummary.encode[s]||[]).slice()},c.prototype.getStore=function(){return this._store},c.prototype.initData=function(s,a,u){var d,p=this;if(s instanceof h9&&(d=s),!d){var g=this.dimensions,v=ab(s)||Dn(s)?new wL(s,g.length):s;d=new h9;var y=rg(g,function(x){return{type:p._dimInfos[x].type,property:x}});d.initData(v,y,u)}this._store=d,this._nameList=(a||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,d.count()),this._dimSummary=function(x,C){var w={},D=w.encode={},P=qt(),z=[],k=[],E={};fe(x.dimensions,function(U){var j,q=x.getDimensionInfo(U),Q=q.coordDim;if(Q){var re=q.coordDimIndex;Rb(D,Q)[re]=U,q.isExtraCoord||(P.set(Q,1),"ordinal"!==(j=q.type)&&"time"!==j&&(z[0]=U),Rb(E,Q)[re]=x.getDimensionIndex(q.name)),q.defaultTooltip&&k.push(U)}tb.each(function(oe,ae){var he=Rb(D,ae),me=q.otherDims[ae];null!=me&&!1!==me&&(he[me]=q.name)})});var F=[],B={};P.each(function(U,j){var q=D[j];B[j]=q[0],F=F.concat(q)}),w.dataDimsOnCoord=F,w.dataDimIndicesOnCoord=tt(F,function(U){return x.getDimensionInfo(U).storeDimIndex}),w.encodeFirstDimNotExtra=B;var H=D.label;H&&H.length&&(z=H.slice());var Y=D.tooltip;return Y&&Y.length?k=Y.slice():k.length||(k=z.slice()),D.defaultedLabel=z,D.defaultedTooltip=k,w.userOutput=new yR(E,C),w}(this,this._schema),this.userOutput=this._dimSummary.userOutput},c.prototype.appendData=function(s){var a=this._store.appendData(s);this._doInit(a[0],a[1])},c.prototype.appendValues=function(s,a){var u=this._store.appendValues(s,a.length),d=u.start,p=u.end,g=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),a)for(var v=d;v<p;v++)this._nameList[v]=a[v-d],g&&Nb(this,v)},c.prototype._updateOrdinalMeta=function(){for(var s=this._store,a=this.dimensions,u=0;u<a.length;u++){var d=this._dimInfos[a[u]];d.ordinalMeta&&s.collectOrdinalMeta(d.storeDimIndex,d.ordinalMeta)}},c.prototype._shouldMakeIdFromName=function(){var s=this._store.getProvider();return null==this._idDimIdx&&s.getSource().sourceFormat!==r_&&!s.fillStorage},c.prototype._doInit=function(s,a){if(!(s>=a)){var u=this._store.getProvider();this._updateOrdinalMeta();var d=this._nameList,p=this._idList;if(u.getSource().sourceFormat===bf&&!u.pure)for(var g=[],v=s;v<a;v++){var y=u.getItem(v,g);if(!this.hasItemOption&&ua(y)&&(this.hasItemOption=!0),y){var x=y.name;null==d[v]&&null!=x&&(d[v]=Vo(x,null));var C=y.id;null==p[v]&&null!=C&&(p[v]=Vo(C,null))}}if(this._shouldMakeIdFromName())for(v=s;v<a;v++)Nb(this,v);fa(this)}},c.prototype.getApproximateExtent=function(s){return this._approximateExtent[s]||this._store.getDataExtent(this._getStoreDimIndex(s))},c.prototype.setApproximateExtent=function(s,a){a=this.getDimension(a),this._approximateExtent[a]=s.slice()},c.prototype.getCalculationInfo=function(s){return this._calculationInfo[s]},c.prototype.setCalculationInfo=function(s,a){M_(s)?it(this._calculationInfo,s):this._calculationInfo[s]=a},c.prototype.getName=function(s){var a=this.getRawIndex(s),u=this._nameList[a];return null==u&&null!=this._nameDimIdx&&(u=S_(this,this._nameDimIdx,a)),null==u&&(u=""),u},c.prototype._getCategory=function(s,a){var u=this._store.get(s,a),d=this._store.getOrdinalMeta(s);return d?d.categories[u]:u},c.prototype.getId=function(s){return iD(this,this.getRawIndex(s))},c.prototype.count=function(){return this._store.count()},c.prototype.get=function(s,a){var d=this._dimInfos[s];if(d)return this._store.get(d.storeDimIndex,a)},c.prototype.getByRawIndex=function(s,a){var d=this._dimInfos[s];if(d)return this._store.getByRawIndex(d.storeDimIndex,a)},c.prototype.getIndices=function(){return this._store.getIndices()},c.prototype.getDataExtent=function(s){return this._store.getDataExtent(this._getStoreDimIndex(s))},c.prototype.getSum=function(s){return this._store.getSum(this._getStoreDimIndex(s))},c.prototype.getMedian=function(s){return this._store.getMedian(this._getStoreDimIndex(s))},c.prototype.getValues=function(s,a){var u=this,d=this._store;return at(s)?d.getValues(rg(s,function(p){return u._getStoreDimIndex(p)}),a):d.getValues(s)},c.prototype.hasValue=function(s){for(var a=this._dimSummary.dataDimIndicesOnCoord,u=0,d=a.length;u<d;u++)if(isNaN(this._store.get(a[u],s)))return!1;return!0},c.prototype.indexOfName=function(s){for(var a=0,u=this._store.count();a<u;a++)if(this.getName(a)===s)return a;return-1},c.prototype.getRawIndex=function(s){return this._store.getRawIndex(s)},c.prototype.indexOfRawIndex=function(s){return this._store.indexOfRawIndex(s)},c.prototype.rawIndexOf=function(s,a){var d=(s&&this._invertedIndicesMap[s])[a];return null==d||isNaN(d)?-1:d},c.prototype.indicesOfNearest=function(s,a,u){return this._store.indicesOfNearest(this._getStoreDimIndex(s),a,u)},c.prototype.each=function(s,a,u){"function"==typeof s&&(u=a,a=s,s=[]);var d=u||this,p=rg(T_(s),this._getStoreDimIndex,this);this._store.each(p,d?rt(a,d):a)},c.prototype.filterSelf=function(s,a,u){"function"==typeof s&&(u=a,a=s,s=[]);var d=u||this,p=rg(T_(s),this._getStoreDimIndex,this);return this._store=this._store.filter(p,d?rt(a,d):a),this},c.prototype.selectRange=function(s){var a=this,u={};return fe(Gt(s),function(d){var p=a._getStoreDimIndex(d);u[p]=s[d]}),this._store=this._store.selectRange(u),this},c.prototype.mapArray=function(s,a,u){"function"==typeof s&&(u=a,a=s,s=[]);var d=[];return this.each(s,function(){d.push(a&&a.apply(this,arguments))},u=u||this),d},c.prototype.map=function(s,a,u,d){var p=u||d||this,g=rg(T_(s),this._getStoreDimIndex,this),v=Ry(this);return v._store=this._store.map(g,p?rt(a,p):a),v},c.prototype.modify=function(s,a,u,d){var p=u||d||this,g=rg(T_(s),this._getStoreDimIndex,this);this._store.modify(g,p?rt(a,p):a)},c.prototype.downSample=function(s,a,u,d){var p=Ry(this);return p._store=this._store.downSample(this._getStoreDimIndex(s),a,u,d),p},c.prototype.lttbDownSample=function(s,a){var u=Ry(this);return u._store=this._store.lttbDownSample(this._getStoreDimIndex(s),a),u},c.prototype.getRawDataItem=function(s){return this._store.getRawDataItem(s)},c.prototype.getItemModel=function(s){var a=this.hostModel,u=this.getRawDataItem(s);return new tr(u,a,a&&a.ecModel)},c.prototype.diff=function(s){var a=this;return new Y1(s?s.getStore().getIndices():[],this.getStore().getIndices(),function(u){return iD(s,u)},function(u){return iD(a,u)})},c.prototype.getVisual=function(s){var a=this._visual;return a&&a[s]},c.prototype.setVisual=function(s,a){this._visual=this._visual||{},M_(s)?it(this._visual,s):this._visual[s]=a},c.prototype.getItemVisual=function(s,a){var u=this._itemVisuals[s];return(u&&u[a])??this.getVisual(a)},c.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},c.prototype.ensureUniqueItemVisual=function(s,a){var u=this._itemVisuals,d=u[s];d||(d=u[s]={});var p=d[a];return null==p&&(at(p=this.getVisual(a))?p=p.slice():M_(p)&&(p=it({},p)),d[a]=p),p},c.prototype.setItemVisual=function(s,a,u){var d=this._itemVisuals[s]||{};this._itemVisuals[s]=d,M_(a)?it(d,a):d[a]=u},c.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},c.prototype.setLayout=function(s,a){if(M_(s))for(var u in s)s.hasOwnProperty(u)&&this.setLayout(u,s[u]);else this._layout[s]=a},c.prototype.getLayout=function(s){return this._layout[s]},c.prototype.getItemLayout=function(s){return this._itemLayouts[s]},c.prototype.setItemLayout=function(s,a,u){this._itemLayouts[s]=u?it(this._itemLayouts[s]||{},a):a},c.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},c.prototype.setItemGraphicEl=function(s,a){nM(this.hostModel&&this.hostModel.seriesIndex,this.dataType,s,a),this._graphicEls[s]=a},c.prototype.getItemGraphicEl=function(s){return this._graphicEls[s]},c.prototype.eachItemGraphicEl=function(s,a){fe(this._graphicEls,function(u,d){u&&s&&s.call(a,u,d)})},c.prototype.cloneShallow=function(s){return s||(s=new c(this._schema?this._schema:rg(this.dimensions,this._getDimInfo,this),this.hostModel)),rD(s,this),s._store=this._store,s},c.prototype.wrapMethod=function(s,a){var u=this[s];"function"==typeof u&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(s),this[s]=function(){var d=u.apply(this,arguments);return a.apply(this,[d].concat(Ml(arguments)))})},c.internalField=(fa=function(s){var a=s._invertedIndicesMap;fe(a,function(u,d){var p=s._dimInfos[d],g=p.ordinalMeta,v=s._store;if(g){u=a[d]=new QX(g.categories.length);for(var y=0;y<u.length;y++)u[y]=-1;for(y=0;y<v.count();y++)u[v.get(p.storeDimIndex,y)]=y}})},S_=function(s,a,u){return Vo(s._getCategory(a,u),null)},iD=function(s,a){var u=s._idList[a];return null==u&&null!=s._idDimIdx&&(u=S_(s,s._idDimIdx,a)),null==u&&(u="e\0\0"+a),u},T_=function(s){return at(s)||(s=null!=s?[s]:[]),s},Ry=function(s){var a=new c(s._schema?s._schema:rg(s.dimensions,s._getDimInfo,s),s.hostModel);return rD(a,s),a},rD=function(s,a){fe(JX.concat(a.__wrappedMethods||[]),function(u){a.hasOwnProperty(u)&&(s[u]=a[u])}),s.__wrappedMethods=a.__wrappedMethods,fe(eq,function(u){s[u]=nn(a[u])}),s._calculationInfo=it({},a._calculationInfo)},void(Nb=function(s,a){var u=s._nameList,d=s._idList,p=s._nameDimIdx,g=s._idDimIdx,v=u[a],y=d[a];if(null==v&&null!=p&&(u[a]=v=S_(s,p,a)),null==y&&null!=g&&(d[a]=y=S_(s,g,a)),null==y&&null!=v){var x=s._nameRepeatCount,C=x[v]=(x[v]||0)+1;y=v,C>1&&(y+="__ec__"+C),d[a]=y}})),c}();function D_(c,s){ab(c)||(c=qM(c));var re,he,a=(s=s||{}).coordDimensions||[],u=s.dimensionsDefine||c.dimensionsDefine||[],d=qt(),p=[],g=(re=a,he=Math.max(c.dimensionsDetectedCount||1,re.length,u.length,s.dimensionsCount||0),fe(re,function(me){var _e;rn(me)&&(_e=me.dimsDef)&&(he=Math.max(he,_e.length))}),he),v=s.canOmitUnusedDimensions&&Ly(g),y=u===c.dimensionsDefine,x=y?Iy(c):bR(u),C=s.encodeDefine;!C&&s.encodeDefaulter&&(C=s.encodeDefaulter(c,g));for(var w=qt(C),D=new c9(g),P=0;P<D.length;P++)D[P]=-1;function z(Q){var re=D[Q];if(re<0){var oe=u[Q],ae=rn(oe)?oe:{name:oe},he=new Kt,me=ae.name;return null!=me&&null!=x.get(me)&&(he.name=he.displayName=me),null!=ae.type&&(he.type=ae.type),null!=ae.displayName&&(he.displayName=ae.displayName),D[Q]=p.length,he.storeDimIndex=Q,p.push(he),he}return p[re]}if(!v)for(P=0;P<g;P++)z(P);w.each(function(Q,re){var oe=Sr(Q).slice();if(1===oe.length&&!ui(oe[0])&&oe[0]<0)w.set(re,!1);else{var ae=w.set(re,[]);fe(oe,function(he,me){var _e=ui(he)?x.get(he):he;null!=_e&&_e<g&&(ae[me]=_e,E(z(_e),re,me))})}});var k=0;function E(Q,re,oe){null!=tb.get(re)?Q.otherDims[re]=oe:(Q.coordDim=re,Q.coordDimIndex=oe,d.set(re,!0))}fe(a,function(Q){var re,oe,ae,he;if(ui(Q))re=Q,he={};else{re=(he=Q).name;var me=he.ordinalMeta;he.ordinalMeta=null,(he=it({},he)).ordinalMeta=me,oe=he.dimsDef,ae=he.otherDims,he.name=he.coordDim=he.coordDimIndex=he.dimsDef=he.otherDims=null}var _e=w.get(re);if(!1!==_e){if(!(_e=Sr(_e)).length)for(var be=0;be<(oe&&oe.length||1);be++){for(;k<g&&null!=z(k).coordDim;)k++;k<g&&_e.push(k++)}fe(_e,function(we,Te){var Me=z(we);if(y&&null!=he.type&&(Me.type=he.type),E(jt(Me,he),re,Te),null==Me.name&&oe){var Ae=oe[Te];!rn(Ae)&&(Ae={name:Ae}),Me.name=Me.displayName=Ae.name,Me.defaultTooltip=Ae.defaultTooltip}ae&&jt(Me.otherDims,ae)})}});var F=s.generateCoord,B=s.generateCoordCount,H=null!=B;B=F?B||1:0;var Y=F||"value";function U(Q){null==Q.name&&(Q.name=Q.coordDim)}if(v)fe(p,function(Q){U(Q)}),p.sort(function(Q,re){return Q.storeDimIndex-re.storeDimIndex});else for(var j=0;j<g;j++){var q=z(j);null==q.coordDim&&(q.coordDim=tq(Y,d,H),q.coordDimIndex=0,(!F||B<=0)&&(q.isExtraCoord=!0),B--),U(q),null!=q.type||1!==cX(c,j)&&(!q.isExtraCoord||null==q.otherDims.itemName&&null==q.otherDims.seriesName)||(q.type="ordinal")}return function(Q){for(var re=qt(),oe=0;oe<Q.length;oe++){var ae=Q[oe],he=ae.name,me=re.get(he)||0;me>0&&(ae.name=he+(me-1)),me++,re.set(he,me)}}(p),new xR({source:c,dimensions:p,fullDimensionCount:g,dimensionOmitted:v})}function tq(c,s,a){var u=s.data;if(a||u.hasOwnProperty(c)){for(var d=0;u.hasOwnProperty(c+d);)d++;c+=d}return s.set(c,!0),c}var nq=function(c){this.coordSysDims=[],this.axisMap=qt(),this.categoryAxisMap=qt(),this.coordSysName=c},Fb={cartesian2d:function(c,s,a,u){var d=c.getReferringComponents("xAxis",Na).models[0],p=c.getReferringComponents("yAxis",Na).models[0];s.coordSysDims=["x","y"],a.set("x",d),a.set("y",p),U0(d)&&(u.set("x",d),s.firstCategoryDimIndex=0),U0(p)&&(u.set("y",p),null==s.firstCategoryDimIndex&&(s.firstCategoryDimIndex=1))},singleAxis:function(c,s,a,u){var d=c.getReferringComponents("singleAxis",Na).models[0];s.coordSysDims=["single"],a.set("single",d),U0(d)&&(u.set("single",d),s.firstCategoryDimIndex=0)},polar:function(c,s,a,u){var d=c.getReferringComponents("polar",Na).models[0],p=d.findAxisModel("radiusAxis"),g=d.findAxisModel("angleAxis");s.coordSysDims=["radius","angle"],a.set("radius",p),a.set("angle",g),U0(p)&&(u.set("radius",p),s.firstCategoryDimIndex=0),U0(g)&&(u.set("angle",g),null==s.firstCategoryDimIndex&&(s.firstCategoryDimIndex=1))},geo:function(c,s,a,u){s.coordSysDims=["lng","lat"]},parallel:function(c,s,a,u){var d=c.ecModel,p=d.getComponent("parallel",c.get("parallelIndex")),g=s.coordSysDims=p.dimensions.slice();fe(p.parallelAxisIndex,function(v,y){var x=d.getComponent("parallelAxis",v),C=g[y];a.set(C,x),U0(x)&&(u.set(C,x),null==s.firstCategoryDimIndex&&(s.firstCategoryDimIndex=y))})}};function U0(c){return"category"===c.get("type")}function oD(c,s,a){var u,d,p,g=(a=a||{}).byIndex,v=a.stackedCoordDimension;Y0(s.schema)?(u=(d=s.schema).dimensions,p=s.store):u=s;var y,x,C,w,D=!(!c||!c.get("stack"));if(fe(u,function(B,H){ui(B)&&(u[H]=B={name:B}),D&&!B.isExtraCoord&&(g||y||!B.ordinalMeta||(y=B),x||"ordinal"===B.type||"time"===B.type||v&&v!==B.coordDim||(x=B))}),!x||g||y||(g=!0),x){C="__\0ecstackresult_"+c.id,w="__\0ecstackedover_"+c.id,y&&(y.createInvertedIndices=!0);var P=x.coordDim,z=x.type,k=0;fe(u,function(B){B.coordDim===P&&k++});var E={name:C,coordDim:P,coordDimIndex:k,type:z,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length},F={name:w,coordDim:w,coordDimIndex:k+1,type:z,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length+1};d?(p&&(E.storeDimIndex=p.ensureCalculationDimension(w,z),F.storeDimIndex=p.ensureCalculationDimension(C,z)),d.appendCalculationDimension(E),d.appendCalculationDimension(F)):(u.push(E),u.push(F))}return{stackedDimension:x&&x.name,stackedByDimension:y&&y.name,isStackedByIndex:g,stackedOverDimension:w,stackResultDimension:C}}function Pf(c,s){return!!s&&s===c.getCalculationInfo("stackedDimension")}function aD(c,s){return Pf(c,s)?c.getCalculationInfo("stackResultDimension"):s}function Uc(c,s,a){a=a||{};var u,d=s.getSourceManager(),p=!1;c?(p=!0,u=qM(c)):p=(u=d.getSource()).sourceFormat===bf;var F,B,H,Y,g=function(E){var F=E.get("coordinateSystem"),B=new nq(F),H=Fb[F];if(H)return H(E,B,B.axisMap,B.categoryAxisMap),B}(s),v=(F=g,H=s.get("coordinateSystem"),Y=a_.get(H),F&&F.coordSysDims&&(B=tt(F.coordSysDims,function(U){var j={name:U},q=F.axisMap.get(U);if(q){var Q=q.get("type");j.type=nD(Q)}return j})),B||(B=Y&&(Y.getDimensionsInfo?Y.getDimensionsInfo():Y.dimensions.slice())||["x","y"]),B),y=a.useEncodeDefaulter,x=wi(y)?y:y?Je(wf,v,s):null,C=D_(u,{coordDimensions:v,generateCoord:a.generateCoord,encodeDefine:s.getEncode(),encodeDefaulter:x,canOmitUnusedDimensions:!p}),w=function(E,F,B){var H,Y;return B&&fe(E,function(U,j){var Q=B.categoryAxisMap.get(U.coordDim);Q&&(null==H&&(H=j),U.ordinalMeta=Q.getOrdinalMeta(),F&&(U.createInvertedIndices=!0)),null!=U.otherDims.itemName&&(Y=!0)}),Y||null==H||(E[H].otherDims.itemName=0),H}(C.dimensions,a.createInvertedIndices,g),D=p?null:d.getSharedDataStore(C),P=oD(s,{schema:C,store:D}),z=new ts(C,s);z.setCalculationInfo(P);var k=null!=w&&function(E){if(E.sourceFormat===bf){var F=function(B){for(var H=0;H<B.length&&null==B[H];)H++;return B[H]}(E.data||[]);return null!=F&&!at(Rp(F))}}(u)?function(E,F,B,H){return H===w?B:this.defaultDimValueGetter(E,F,B,H)}:null;return z.hasItemOption=!1,z.initData(p?u:D,null,k),z}var Gc=function(){function c(s){this._setting=s||{},this._extent=[1/0,-1/0]}return c.prototype.getSetting=function(s){return this._setting[s]},c.prototype.unionExtent=function(s){var a=this._extent;s[0]<a[0]&&(a[0]=s[0]),s[1]>a[1]&&(a[1]=s[1])},c.prototype.unionExtentFromData=function(s,a){this.unionExtent(s.getApproximateExtent(a))},c.prototype.getExtent=function(){return this._extent.slice()},c.prototype.setExtent=function(s,a){var u=this._extent;isNaN(s)||(u[0]=s),isNaN(a)||(u[1]=a)},c.prototype.isInExtentRange=function(s){return this._extent[0]<=s&&this._extent[1]>=s},c.prototype.isBlank=function(){return this._isBlank},c.prototype.setBlank=function(s){this._isBlank=s},c}();O2(Gc);var iq=0,sD=function(){function c(s){this.categories=s.categories||[],this._needCollect=s.needCollect,this._deduplication=s.deduplication,this.uid=++iq}return c.createByAxisModel=function(s){var a=s.option,u=a.data,d=u&&tt(u,rq);return new c({categories:d,needCollect:!d,deduplication:!1!==a.dedplication})},c.prototype.getOrdinal=function(s){return this._getOrCreateMap().get(s)},c.prototype.parseAndCollect=function(s){var a,u=this._needCollect;if("string"!=typeof s&&!u)return s;if(u&&!this._deduplication)return this.categories[a=this.categories.length]=s,a;var d=this._getOrCreateMap();return null==(a=d.get(s))&&(u?(this.categories[a=this.categories.length]=s,d.set(s,a)):a=NaN),a},c.prototype._getOrCreateMap=function(){return this._map||(this._map=qt(this.categories))},c}();function rq(c){return rn(c)&&null!=c.value?c.value:c+""}var lD=Ma;function cD(c){return _u(c)+2}function wR(c,s,a){c[s]=Math.max(Math.min(c[s],a[1]),a[0])}function Ny(c,s){return c>=s[0]&&c<=s[1]}function Bb(c,s){return s[1]===s[0]?.5:(c-s[0])/(s[1]-s[0])}function Vb(c,s){return c*(s[1]-s[0])+s[0]}var uD=function(c){function s(a){var u=c.call(this,a)||this;u.type="ordinal";var d=u.getSetting("ordinalMeta");return d||(d=new sD({})),at(d)&&(d=new sD({categories:tt(d,function(p){return rn(p)?p.value:p})})),u._ordinalMeta=d,u._extent=u.getSetting("extent")||[0,d.categories.length-1],u}return Ee(s,c),s.prototype.parse=function(a){return"string"==typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},s.prototype.contain=function(a){return Ny(a=this.parse(a),this._extent)&&null!=this._ordinalMeta.categories[a]},s.prototype.normalize=function(a){return Bb(a=this._getTickNumber(this.parse(a)),this._extent)},s.prototype.scale=function(a){return a=Math.round(Vb(a,this._extent)),this.getRawOrdinalNumber(a)},s.prototype.getTicks=function(){for(var a=[],u=this._extent,d=u[0];d<=u[1];)a.push({value:d}),d++;return a},s.prototype.getMinorTicks=function(a){},s.prototype.setSortInfo=function(a){if(null!=a){for(var u=a.ordinalNumbers,d=this._ordinalNumbersByTick=[],p=this._ticksByOrdinalNumber=[],g=0,v=this._ordinalMeta.categories.length,y=Math.min(v,u.length);g<y;++g){var x=u[g];d[g]=x,p[x]=g}for(var C=0;g<v;++g){for(;null!=p[C];)C++;d.push(C),p[C]=g}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},s.prototype._getTickNumber=function(a){var u=this._ticksByOrdinalNumber;return u&&a>=0&&a<u.length?u[a]:a},s.prototype.getRawOrdinalNumber=function(a){var u=this._ordinalNumbersByTick;return u&&a>=0&&a<u.length?u[a]:a},s.prototype.getLabel=function(a){if(!this.isBlank()){var u=this.getRawOrdinalNumber(a.value),d=this._ordinalMeta.categories[u];return null==d?"":d+""}},s.prototype.count=function(){return this._extent[1]-this._extent[0]+1},s.prototype.unionExtentFromData=function(a,u){this.unionExtent(a.getApproximateExtent(u))},s.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},s.prototype.getOrdinalMeta=function(){return this._ordinalMeta},s.prototype.niceTicks=function(){},s.prototype.niceExtent=function(){},s.type="ordinal",s}(Gc);Gc.registerClass(uD);var P_=Ma,A_=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="interval",a._interval=0,a._intervalPrecision=2,a}return Ee(s,c),s.prototype.parse=function(a){return a},s.prototype.contain=function(a){return Ny(a,this._extent)},s.prototype.normalize=function(a){return Bb(a,this._extent)},s.prototype.scale=function(a){return Vb(a,this._extent)},s.prototype.setExtent=function(a,u){var d=this._extent;isNaN(a)||(d[0]=parseFloat(a)),isNaN(u)||(d[1]=parseFloat(u))},s.prototype.unionExtent=function(a){var u=this._extent;a[0]<u[0]&&(u[0]=a[0]),a[1]>u[1]&&(u[1]=a[1]),this.setExtent(u[0],u[1])},s.prototype.getInterval=function(){return this._interval},s.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=cD(a)},s.prototype.getTicks=function(a){var u=this._interval,d=this._extent,p=this._niceExtent,g=this._intervalPrecision,v=[];if(!u)return v;d[0]<p[0]&&v.push(a?{value:P_(p[0]-u,g)}:{value:d[0]});for(var y=p[0];y<=p[1]&&(v.push({value:y}),(y=P_(y+u,g))!==v[v.length-1].value);)if(v.length>1e4)return[];var x=v.length?v[v.length-1].value:p[1];return d[1]>x&&v.push(a?{value:P_(x+u,g)}:{value:d[1]}),v},s.prototype.getMinorTicks=function(a){for(var u=this.getTicks(!0),d=[],p=this.getExtent(),g=1;g<u.length;g++){for(var y=u[g-1],x=0,C=[],w=(u[g].value-y.value)/a;x<a-1;){var D=P_(y.value+(x+1)*w);D>p[0]&&D<p[1]&&C.push(D),x++}d.push(C)}return d},s.prototype.getLabel=function(a,u){if(null==a)return"";var d=u&&u.precision;return null==d?d=_u(a.value)||0:"auto"===d&&(d=this._intervalPrecision),n_(P_(a.value,d,!0))},s.prototype.niceTicks=function(a,u,d){a=a||5;var p=this._extent,g=p[1]-p[0];if(isFinite(g)){g<0&&(g=-g,p.reverse());var v=function CR(c,s,a,u){var d={},g=d.interval=lt((c[1]-c[0])/s,!0);null!=a&&g<a&&(g=d.interval=a),null!=u&&g>u&&(g=d.interval=u);var y,x,v=d.intervalPrecision=cD(g);return y=d.niceTickExtent=[lD(Math.ceil(c[0]/g)*g,v),lD(Math.floor(c[1]/g)*g,v)],x=c,!isFinite(y[0])&&(y[0]=x[0]),!isFinite(y[1])&&(y[1]=x[1]),wR(y,0,x),wR(y,1,x),y[0]>y[1]&&(y[0]=y[1]),d}(p,a,u,d);this._intervalPrecision=v.intervalPrecision,this._interval=v.interval,this._niceExtent=v.niceTickExtent}},s.prototype.niceExtent=function(a){var u=this._extent;if(u[0]===u[1])if(0!==u[0]){var d=u[0];a.fixMax||(u[1]+=d/2),u[0]-=d/2}else u[1]=1;isFinite(u[1]-u[0])||(u[0]=0,u[1]=1),this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);var g=this._interval;a.fixMin||(u[0]=P_(Math.floor(u[0]/g)*g)),a.fixMax||(u[1]=P_(Math.ceil(u[1]/g)*g))},s.type="interval",s}(Gc);Gc.registerClass(A_);var SR="__ec_stack_",Hb=typeof Float32Array<"u"?Float32Array:Array;function z_(c){return c.get("stack")||SR+c.seriesIndex}function hD(c){return c.dim+c.index}function TR(c,s){var a=[];return s.eachSeriesByType(c,function(u){PR(u)&&!aq(u)&&a.push(u)}),a}function Yb(c){var s=function(u){var d={};fe(u,function(w){var D=w.coordinateSystem.getBaseAxis();if("time"===D.type||"value"===D.type)for(var P=w.getData(),z=D.dim+"_"+D.index,k=P.getDimensionIndex(P.mapDimension(D.dim)),E=P.getStore(),F=0,B=E.count();F<B;++F){var H=E.get(k,F);d[z]?d[z].push(H):d[z]=[H]}});var p={};for(var g in d)if(d.hasOwnProperty(g)){var v=d[g];if(v){v.sort(function(w,D){return w-D});for(var y=null,x=1;x<v.length;++x){var C=v[x]-v[x-1];C>0&&(y=null===y?C:Math.min(y,C))}p[g]=y}}return p}(c),a=[];return fe(c,function(u){var d,p=u.coordinateSystem.getBaseAxis(),g=p.getExtent();if("category"===p.type)d=p.getBandWidth();else if("value"===p.type||"time"===p.type){var y=s[p.dim+"_"+p.index],x=Math.abs(g[1]-g[0]),C=p.scale.getExtent(),w=Math.abs(C[1]-C[0]);d=y?x/w*y:x}else{var D=u.getData();d=Math.abs(g[1]-g[0])/D.count()}var P=At(u.get("barWidth"),d),z=At(u.get("barMaxWidth"),d),k=At(u.get("barMinWidth")||1,d),E=u.get("barGap"),F=u.get("barCategoryGap");a.push({bandWidth:d,barWidth:P,barMaxWidth:z,barMinWidth:k,barGap:E,barCategoryGap:F,axisKey:hD(p),stackId:z_(u)})}),k_(a)}function k_(c){var s={};fe(c,function(u,d){var p=u.axisKey,g=u.bandWidth,v=s[p]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},y=v.stacks;s[p]=v;var x=u.stackId;y[x]||v.autoWidthCount++,y[x]=y[x]||{width:0,maxWidth:0};var C=u.barWidth;C&&!y[x].width&&(y[x].width=C,C=Math.min(v.remainedWidth,C),v.remainedWidth-=C);var w=u.barMaxWidth;w&&(y[x].maxWidth=w);var D=u.barMinWidth;D&&(y[x].minWidth=D);var P=u.barGap;null!=P&&(v.gap=P);var z=u.barCategoryGap;null!=z&&(v.categoryGap=z)});var a={};return fe(s,function(u,d){a[d]={};var p=u.stacks,g=u.bandWidth,v=u.categoryGap;if(null==v){var y=Gt(p).length;v=Math.max(35-4*y,15)+"%"}var x=At(v,g),C=At(u.gap,1),w=u.remainedWidth,D=u.autoWidthCount,P=(w-x)/(D+(D-1)*C);P=Math.max(P,0),fe(p,function(F){var B=F.maxWidth,H=F.minWidth;if(F.width)Y=F.width,B&&(Y=Math.min(Y,B)),H&&(Y=Math.max(Y,H)),F.width=Y,w-=Y+C*Y,D--;else{var Y=P;B&&B<Y&&(Y=Math.min(B,w)),H&&H>Y&&(Y=H),Y!==P&&(F.width=Y,w-=Y+C*Y,D--)}}),P=(w-x)/(D+(D-1)*C),P=Math.max(P,0);var z,k=0;fe(p,function(F,B){F.width||(F.width=P),z=F,k+=F.width*(1+C)}),z&&(k-=z.width*C);var E=-k/2;fe(p,function(F,B){a[d][B]=a[d][B]||{bandWidth:g,offset:E,width:F.width},E+=F.width*(1+C)})}),a}function MR(c,s,a){if(c&&s){var u=c[hD(s)];return null!=u&&null!=a?u[z_(a)]:u}}function DR(c,s){var a=TR(c,s),u=Yb(a),d={};fe(a,function(p){var g=p.getData(),v=p.coordinateSystem,y=v.getBaseAxis(),x=z_(p),C=u[hD(y)][x],w=C.offset,D=C.width,P=v.getOtherAxis(y),z=p.get("barMinHeight")||0;d[x]=d[x]||[],g.setLayout({bandWidth:C.bandWidth,offset:w,size:D});for(var k=g.mapDimension(P.dim),E=g.mapDimension(y.dim),F=Pf(g,k),B=P.isHorizontal(),H=AR(0,P),Y=g.getStore(),U=g.getDimensionIndex(k),j=g.getDimensionIndex(E),q=0,Q=Y.count();q<Q;q++){var re=Y.get(U,q),oe=Y.get(j,q),ae=re>=0?"p":"n",he=H;F&&(d[x][oe]||(d[x][oe]={p:H,n:H}),he=d[x][oe][ae]);var me,_e=void 0,be=void 0,we=void 0,Te=void 0;B?(_e=he,be=(me=v.dataToPoint([re,oe]))[1]+w,we=me[0]-H,Te=D,Math.abs(we)<z&&(we=(we<0?-1:1)*z),isNaN(we)||F&&(d[x][oe][ae]+=we)):(_e=(me=v.dataToPoint([oe,re]))[0]+w,be=he,we=D,Te=me[1]-H,Math.abs(Te)<z&&(Te=(Te<=0?-1:1)*z),isNaN(Te)||F&&(d[x][oe][ae]+=Te)),g.setItemLayout(q,{x:_e,y:be,width:we,height:Te})}})}var oq={seriesType:"bar",plan:k0(),reset:function(c){if(PR(c)&&aq(c)){var s=c.getData(),a=c.coordinateSystem,u=a.master.getRect(),d=a.getBaseAxis(),p=a.getOtherAxis(d),g=s.getDimensionIndex(s.mapDimension(p.dim)),v=s.getDimensionIndex(s.mapDimension(d.dim)),y=p.isHorizontal(),x=y?0:1,C=MR(Yb([c]),d,c).width;return C>.5||(C=.5),{progress:function(w,D){for(var P,z=w.count,k=new Hb(2*z),E=new Hb(2*z),F=new Hb(z),B=[],H=[],Y=0,U=0,j=D.getStore();null!=(P=w.next());)H[x]=j.get(g,P),H[1-x]=j.get(v,P),B=a.dataToPoint(H,null),E[Y]=y?u.x+u.width:B[0],k[Y++]=B[0],E[Y]=y?B[1]:u.y+u.height,k[Y++]=B[1],F[U++]=P;D.setLayout({largePoints:k,largeDataIndices:F,largeBackgroundPoints:E,barWidth:C,valueAxisStart:AR(0,p),backgroundStart:y?u.x:u.y,valueAxisHorizontal:y})}}}}};function PR(c){return c.coordinateSystem&&"cartesian2d"===c.coordinateSystem.type}function aq(c){return c.pipelineContext&&c.pipelineContext.large}function AR(c,s,a){return s.toGlobalCoord(s.dataToCoord("log"===s.type?1:0))}var Ub=function(c){function s(a){var u=c.call(this,a)||this;return u.type="time",u}return Ee(s,c),s.prototype.getLabel=function(a){var u=this.getSetting("useUTC");return iy(a.value,aX[function(d){switch(d){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(x0(this._minLevelUnit))]||aX.second,u,this.getSetting("locale"))},s.prototype.getFormattedLabel=function(a,u,d){var p=this.getSetting("useUTC");return function(g,v,y,x,C){var w=null;if("string"==typeof y)w=y;else if("function"==typeof y)w=y(g.value,v,{level:g.level});else{var D=it({},e_);if(g.level>0)for(var P=0;P<_0.length;++P)D[_0[P]]="{primary|"+D[_0[P]]+"}";var z=y?!1===y.inherit?y:jt(y,D):D,k=nL(g.value,C);if(z[k])w=z[k];else if(z.inherit){for(P=y0.indexOf(k)-1;P>=0;--P)if(z[k]){w=z[k];break}w=w||D.none}if(at(w)){var E=null==g.level?0:g.level>=0?g.level:w.length+g.level;w=w[E=Math.min(E,w.length-1)]}}return iy(new Date(g.value),w,C,x)}(a,u,d,this.getSetting("locale"),p)},s.prototype.getTicks=function(a){var d=this._extent,p=[];if(!this._interval)return p;p.push({value:d[0],level:0});var g=this.getSetting("useUTC"),v=function(y,x,C,w){var P=y0,z=0;function k(Te,Me,Ae,Ie,Ue,qe,ft){for(var $e=new Date(Me),ot=Me,bt=$e[Ie]();ot<Ae&&ot<=w[1];)ft.push({value:ot}),$e[Ue](bt+=Te),ot=$e.getTime();ft.push({value:ot,notAdd:!0})}function E(Te,Me,Ae){var Ie=[],Ue=!Me.length;if(!function(kt,Rt,dn,ln){var mn=Ce(Rt),Xr=Ce(dn),To=function(_i){return kM(mn,_i,ln)===kM(Xr,_i,ln)},Ii=function(){return To("year")},zi=function(){return Ii()&&To("month")},lo=function(){return zi()&&To("day")},Br=function(){return lo()&&To("hour")},$l=function(){return Br()&&To("minute")},gl=function(){return $l()&&To("second")};switch(kt){case"year":return Ii();case"month":return zi();case"day":return lo();case"hour":return Br();case"minute":return $l();case"second":return gl();case"millisecond":return gl()&&To("millisecond")}}(x0(Te),w[0],w[1],C)){Ue&&(Me=[{value:zR(new Date(w[0]),Te,C)},{value:w[1]}]);for(var qe=0;qe<Me.length-1;qe++){var ft=Me[qe].value,$e=Me[qe+1].value;if(ft!==$e){var ot=void 0,bt=void 0,gt=void 0;switch(Te){case"year":ot=Math.max(1,Math.round(x/ny/365)),bt=q5(C),gt=iL(C);break;case"half-year":case"quarter":case"month":ot=Fy(x),bt=k1(C),gt=O1(C);break;case"week":case"half-week":case"day":ot=sq(x),bt=OM(C),gt=rL(C),!0;break;case"half-day":case"quarter-day":case"hour":ot=lq(x),bt=b0(C),gt=K5(C);break;case"minute":ot=dD(x,!0),bt=Z5(C),gt=oy(C);break;case"second":ot=dD(x,!1),bt=t_(C),gt=oL(C);break;case"millisecond":ot=cq(x),bt=ry(C),gt=Q5(C)}k(ot,ft,$e,bt,gt,0,Ie),"year"===Te&&Ae.length>1&&0===qe&&Ae.unshift({value:Ae[0].value-ot})}}for(qe=0;qe<Ie.length;qe++)Ae.push(Ie[qe]);return Ie}}for(var F=[],B=[],H=0,Y=0,U=0;U<P.length&&z++<1e4;++U){var j=x0(P[U]);if(tL(P[U])&&(E(P[U],F[F.length-1]||[],B),j!==(P[U+1]?x0(P[U+1]):null))){if(B.length){Y=H,B.sort(function(Te,Me){return Te.value-Me.value});for(var q=[],Q=0;Q<B.length;++Q){var re=B[Q].value;0!==Q&&B[Q-1].value===re||(q.push(B[Q]),re>=w[0]&&re<=w[1]&&H++)}var oe=(w[1]-w[0])/x;if(H>1.5*oe&&Y>oe/1.5||(F.push(q),H>oe||y===P[U]))break}B=[]}}var ae=Ri(tt(F,function(Te){return Ri(Te,function(Me){return Me.value>=w[0]&&Me.value<=w[1]&&!Me.notAdd})}),function(Te){return Te.length>0}),he=[],me=ae.length-1;for(U=0;U<ae.length;++U)for(var _e=ae[U],be=0;be<_e.length;++be)he.push({value:_e[be].value,level:me-U});he.sort(function(Te,Me){return Te.value-Me.value});var we=[];for(U=0;U<he.length;++U)0!==U&&he[U].value===he[U-1].value||we.push(he[U]);return we}(this._minLevelUnit,this._approxInterval,g,d);return(p=p.concat(v)).push({value:d[1],level:0}),p},s.prototype.niceExtent=function(a){var u=this._extent;if(u[0]===u[1]&&(u[0]-=ny,u[1]+=ny),u[1]===-1/0&&u[0]===1/0){var d=new Date;u[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),u[0]=u[1]-ny}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval)},s.prototype.niceTicks=function(a,u,d){var p=this._extent;this._approxInterval=(p[1]-p[0])/(a=a||10),null!=u&&this._approxInterval<u&&(this._approxInterval=u),null!=d&&this._approxInterval>d&&(this._approxInterval=d);var v=Gb.length,y=Math.min(function(x,C,w,D){for(;w<D;){var P=w+D>>>1;x[P][1]<C?w=P+1:D=P}return w}(Gb,this._approxInterval,0,v),v-1);this._interval=Gb[y][1],this._minLevelUnit=Gb[Math.max(y-1,0)][0]},s.prototype.parse=function(a){return"number"==typeof a?a:+Ce(a)},s.prototype.contain=function(a){return Ny(this.parse(a),this._extent)},s.prototype.normalize=function(a){return Bb(this.parse(a),this._extent)},s.prototype.scale=function(a){return Vb(a,this._extent)},s.type="time",s}(A_),Gb=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",eL/2],["year",eL]];function sq(c,s){return(c/=ny)>16?16:c>7.5?7:c>3.5?4:c>1.5?2:1}function Fy(c){return(c/=2592e6)>6?6:c>3?3:c>2?2:1}function lq(c){return(c/=36e5)>12?12:c>6?6:c>3.5?4:c>2?2:1}function dD(c,s){return(c/=s?6e4:1e3)>30?30:c>20?20:c>15?15:c>10?10:c>5?5:c>2?2:1}function cq(c){return lt(c,!0)}function zR(c,s,a){var u=new Date(c);switch(x0(s)){case"year":case"month":u[O1(a)](0);case"day":u[rL(a)](1);case"hour":u[K5(a)](0);case"minute":u[oy(a)](0);case"second":u[oL(a)](0),u[Q5(a)](0)}return u.getTime()}Gc.registerClass(Ub);var kR=Gc.prototype,O_=A_.prototype,uq=Ma,fD=Math.floor,hq=Math.ceil,By=Math.pow,Eu=Math.log,pD=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="log",a.base=10,a._originalScale=new A_,a._interval=0,a}return Ee(s,c),s.prototype.getTicks=function(a){var d=this._extent,p=this._originalScale.getExtent();return tt(O_.getTicks.call(this,a),function(g){var v=g.value,y=Ma(By(this.base,v));return y=v===d[0]&&this._fixMin?Wb(y,p[0]):y,{value:y=v===d[1]&&this._fixMax?Wb(y,p[1]):y}},this)},s.prototype.setExtent=function(a,u){var d=this.base;a=Eu(a)/Eu(d),u=Eu(u)/Eu(d),O_.setExtent.call(this,a,u)},s.prototype.getExtent=function(){var a=this.base,u=kR.getExtent.call(this);u[0]=By(a,u[0]),u[1]=By(a,u[1]);var d=this._originalScale.getExtent();return this._fixMin&&(u[0]=Wb(u[0],d[0])),this._fixMax&&(u[1]=Wb(u[1],d[1])),u},s.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var u=this.base;a[0]=Eu(a[0])/Eu(u),a[1]=Eu(a[1])/Eu(u),kR.unionExtent.call(this,a)},s.prototype.unionExtentFromData=function(a,u){this.unionExtent(a.getApproximateExtent(u))},s.prototype.niceTicks=function(a){a=a||10;var u=this._extent,d=u[1]-u[0];if(!(d===1/0||d<=0)){var p=Ne(d);for(a/d*p<=.5&&(p*=10);!isNaN(p)&&Math.abs(p)<1&&Math.abs(p)>0;)p*=10;var g=[Ma(hq(u[0]/p)*p),Ma(fD(u[1]/p)*p)];this._interval=p,this._niceExtent=g}},s.prototype.niceExtent=function(a){O_.niceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},s.prototype.parse=function(a){return a},s.prototype.contain=function(a){return Ny(a=Eu(a)/Eu(this.base),this._extent)},s.prototype.normalize=function(a){return Bb(a=Eu(a)/Eu(this.base),this._extent)},s.prototype.scale=function(a){return a=Vb(a,this._extent),By(this.base,a)},s.type="log",s}(Gc),OR=pD.prototype;function Wb(c,s){return uq(c,_u(s))}OR.getMinorTicks=O_.getMinorTicks,OR.getLabel=O_.getLabel,Gc.registerClass(pD);var gD=function(){function c(s,a,u){this._prepareParams(s,a,u)}return c.prototype._prepareParams=function(s,a,u){u[1]<u[0]&&(u=[NaN,NaN]),this._dataMin=u[0],this._dataMax=u[1];var d=this._isOrdinal="ordinal"===s.type;this._needCrossZero=a.getNeedCrossZero&&a.getNeedCrossZero();var p=this._modelMinRaw=a.get("min",!0);wi(p)?this._modelMinNum=E_(s,p({min:u[0],max:u[1]})):"dataMin"!==p&&(this._modelMinNum=E_(s,p));var g=this._modelMaxRaw=a.get("max",!0);if(wi(g)?this._modelMaxNum=E_(s,g({min:u[0],max:u[1]})):"dataMax"!==g&&(this._modelMaxNum=E_(s,g)),d)this._axisDataLen=a.getCategories().length;else{var v=a.get("boundaryGap"),y=at(v)?v:[v||0,v||0];this._boundaryGapInner="boolean"==typeof y[0]||"boolean"==typeof y[1]?[0,0]:[Ol(y[0],1),Ol(y[1],1)]}},c.prototype.calculate=function(){var s=this._isOrdinal,a=this._dataMin,u=this._dataMax,d=this._axisDataLen,p=this._boundaryGapInner,g=s?null:u-a||Math.abs(a),v="dataMin"===this._modelMinRaw?a:this._modelMinNum,y="dataMax"===this._modelMaxRaw?u:this._modelMaxNum,x=null!=v,C=null!=y;null==v&&(v=s?d?0:NaN:a-p[0]*g),null==y&&(y=s?d?d-1:NaN:u+p[1]*g),(null==v||!isFinite(v))&&(v=NaN),(null==y||!isFinite(y))&&(y=NaN);var w=nh(v)||nh(y)||s&&!d;this._needCrossZero&&(v>0&&y>0&&!x&&(v=0),v<0&&y<0&&!C&&(y=0));var D=this._determinedMin,P=this._determinedMax;return null!=D&&(v=D,x=!0),null!=P&&(y=P,C=!0),{min:v,max:y,minFixed:x,maxFixed:C,isBlank:w}},c.prototype.modifyDataMinMax=function(s,a){this[ER[s]]=a},c.prototype.setDeterminedMinMax=function(s,a){this[dq[s]]=a},c.prototype.freeze=function(){this.frozen=!0},c}(),dq={min:"_determinedMin",max:"_determinedMax"},ER={min:"_dataMin",max:"_dataMax"};function IR(c,s,a){var u=c.rawExtentInfo;return u||(u=new gD(c,s,a),c.rawExtentInfo=u,u)}function E_(c,s){return null==s?null:nh(s)?NaN:c.parse(s)}function LR(c,s){var a=c.type,u=IR(c,s,c.getExtent()).calculate();c.setBlank(u.isBlank);var d=u.min,p=u.max,g=s.ecModel;if(g&&"time"===a){var v=TR("bar",g),y=!1;if(fe(v,function(w){y=y||w.getBaseAxis()===s.axis}),y){var x=Yb(v),C=function(w,D,P,z){var k=P.axis.getExtent(),E=k[1]-k[0],F=MR(z,P.axis);if(void 0===F)return{min:w,max:D};var B=1/0;fe(F,function(q){B=Math.min(q.offset,B)});var H=-1/0;fe(F,function(q){H=Math.max(q.offset+q.width,H)}),B=Math.abs(B),H=Math.abs(H);var Y=B+H,U=D-w,j=U/(1-(B+H)/E)-U;return{min:w-=j*(B/Y),max:D+=j*(H/Y)}}(d,p,s,x);d=C.min,p=C.max}}return{extent:[d,p],fixMin:u.minFixed,fixMax:u.maxFixed}}function U1(c,s){var a=s,u=LR(c,a),d=u.extent,p=a.get("splitNumber");c instanceof pD&&(c.base=a.get("logBase"));var g=c.type;c.setExtent(d[0],d[1]),c.niceExtent({splitNumber:p,fixMin:u.fixMin,fixMax:u.fixMax,minInterval:"interval"===g||"time"===g?a.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?a.get("maxInterval"):null});var v=a.get("interval");null!=v&&c.setInterval&&c.setInterval(v)}function Vy(c,s){if(s=s||c.get("type"))switch(s){case"category":return new uD({ordinalMeta:c.getOrdinalMeta?c.getOrdinalMeta():c.getCategories(),extent:[1/0,-1/0]});case"time":return new Ub({locale:c.ecModel.getLocaleModel(),useUTC:c.ecModel.get("useUTC")});default:return new(Gc.getClass(s)||A_)}}function Hy(c){var s,a,p,u=c.getLabelModel().get("formatter"),d="category"===c.type?c.scale.getExtent()[0]:null;return"time"===c.scale.type?(a=u,function(p,g){return c.scale.getFormattedLabel(p,g,a)}):"string"==typeof u?(p=u,function(g){var v=c.scale.getLabel(g);return p.replace("{value}",v??"")}):"function"==typeof u?(s=u,function(p,g){return null!=d&&(g=p.value-d),s(mD(c,p),g,null!=p.level?{level:p.level}:null)}):function(p){return c.scale.getLabel(p)}}function mD(c,s){return"category"===c.type?c.scale.getLabel(s):s.value}function fq(c,s){var a=s*Math.PI/180,u=c.width,d=c.height,p=u*Math.abs(Math.cos(a))+Math.abs(d*Math.sin(a)),g=u*Math.abs(Math.sin(a))+Math.abs(d*Math.cos(a));return new qn(c.x,c.y,p,g)}function jb(c){return c.get("interval")??"auto"}function vD(c){return"category"===c.type&&0===jb(c.getLabelModel())}function $b(c,s){var a={};return fe(c.mapDimensionsAll(s),function(u){a[aD(c,u)]=!0}),Gt(a)}var I_=function(){function c(){}return c.prototype.getNeedCrossZero=function(){return!this.option.scale},c.prototype.getCoordSysModel=function(){},c}(),pq=Object.freeze({__proto__:null,createList:function(c){return Uc(null,c)},getLayoutRect:io,dataStack:{isDimensionStacked:Pf,enableDataStack:oD,getStackedDimension:aD},createScale:function(c,s){var a=s;s instanceof tr||(a=new tr(s));var u=Vy(a);return u.setExtent(c[0],c[1]),U1(u,a),u},mixinAxisModelCommonMethods:function(c){Gr(c,I_)},getECData:Pn,createTextStyle:function(c,s){return ha(c,null,null,"normal"!==(s=s||{}).state)},createDimensions:function(c,s){return D_(c,s).dimensions},createSymbol:da,enableHoverEmphasis:eo}),gq=Object.freeze({__proto__:null,linearMap:rr,round:Ma,asc:pc,getPrecision:_u,getPrecisionSafe:f5,getPixelPrecision:z3,getPercentWithPrecision:LT,MAX_SAFE_INTEGER:R,remRadian:W,isRadianAroundZero:te,parseDate:Ce,quantity:Ne,quantityExponent:Le,nice:lt,quantile:Ct,reformIntervals:Zt,isNumeric:or,numericToNumber:pn}),mq=Object.freeze({__proto__:null,parse:Ce,format:iy}),_D=Object.freeze({__proto__:null,extendShape:bM,extendPath:H5,makePath:Z3,makeImage:HI,mergePath:Cc,resizePath:CM,createIcon:K2,updateProps:Ti,initProps:to,getTransform:cd,clipPointsByRect:jp,clipRectByRect:UI,registerShape:Bs,getShapeClass:Y5,Group:Xt,Image:Qo,Text:Ni,Circle:bh,Ellipse:U3,Sector:hl,Ring:A1,Polygon:dl,Polyline:bc,Rect:gi,Line:Fa,BezierCurve:p0,Arc:sd,IncrementalDisplayable:X2,CompoundPath:L5,LinearGradient:$2,RadialGradient:BI,BoundingRect:qn}),yD=Object.freeze({__proto__:null,addCommas:n_,toCamelCase:wh,normalizeCssArray:E1,encodeHTML:Bc,formatTpl:LM,getTooltipMarker:aL,formatTime:function(c,s,a){"week"!==c&&"month"!==c&&"quarter"!==c&&"half-year"!==c&&"year"!==c||(c="MM-dd\nyyyy");var u=Ce(s),d=a?"UTC":"",p=u["get"+d+"FullYear"](),g=u["get"+d+"Month"]()+1,v=u["get"+d+"Date"](),y=u["get"+d+"Hours"](),x=u["get"+d+"Minutes"](),C=u["get"+d+"Seconds"](),w=u["get"+d+"Milliseconds"]();return c.replace("MM",Fc(g,2)).replace("M",g).replace("yyyy",p).replace("yy",p%100+"").replace("dd",Fc(v,2)).replace("d",v).replace("hh",Fc(y,2)).replace("h",y).replace("mm",Fc(x,2)).replace("m",x).replace("ss",Fc(C,2)).replace("s",C).replace("SSS",Fc(w,3))},capitalFirst:function(c){return c&&c.charAt(0).toUpperCase()+c.substr(1)},truncateText:HT,getTextRect:function(c,s,a,u,d,p,g,v){return new Ni({style:{text:c,font:s,align:a,verticalAlign:u,padding:d,rich:p,overflow:g?"truncate":null,lineHeight:v}}).getBoundingRect()}}),NR=Object.freeze({__proto__:null,map:tt,each:fe,indexOf:Gn,inherits:Wn,reduce:nt,filter:Ri,bind:rt,curry:Je,isArray:at,isString:ui,isObject:rn,isFunction:wi,extend:it,defaults:jt,clone:nn,merge:Mn}),G0=Zi();function Xb(c,s){var u,v,d=FR(c,"labels"),p=jb(s);return Ln(d,p)||W0(d,p,{labels:wi(p)?BR(c,p):xD(c,u="auto"===p?G0(v=c).autoInterval??(G0(v).autoInterval=v.calculateCategoryInterval()):p),labelCategoryInterval:u})}function FR(c,s){return G0(c)[s]||(G0(c)[s]=[])}function Ln(c,s){for(var a=0;a<c.length;a++)if(c[a].key===s)return c[a].value}function W0(c,s,a){return c.push({key:s,value:a}),a}function xD(c,s,a){var u=Hy(c),d=c.scale,p=d.getExtent(),g=c.getLabelModel(),v=[],y=Math.max((s||0)+1,1),x=p[0],C=d.count();0!==x&&y>1&&C/y>2&&(x=Math.round(Math.ceil(x/y)*y));var w=vD(c),D=g.get("showMinLabel")||w,P=g.get("showMaxLabel")||w;D&&x!==p[0]&&k(p[0]);for(var z=x;z<=p[1];z+=y)k(z);function k(E){var F={value:E};v.push(a?E:{formattedLabel:u(F),rawLabel:d.getLabel(F),tickValue:E})}return P&&z-y!==p[1]&&k(p[1]),v}function BR(c,s,a){var u=c.scale,d=Hy(c),p=[];return fe(u.getTicks(),function(g){var v=u.getLabel(g),y=g.value;s(g.value,v)&&p.push(a?y:{formattedLabel:d(g),rawLabel:v,tickValue:y})}),p}var yq=[0,1],Iu=function(){function c(s,a,u){this.onBand=!1,this.inverse=!1,this.dim=s,this.scale=a,this._extent=u||[0,0]}return c.prototype.contain=function(s){var a=this._extent,u=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return s>=u&&s<=d},c.prototype.containData=function(s){return this.scale.contain(s)},c.prototype.getExtent=function(){return this._extent.slice()},c.prototype.getPixelPrecision=function(s){return z3(s||this.scale.getExtent(),this._extent)},c.prototype.setExtent=function(s,a){var u=this._extent;u[0]=s,u[1]=a},c.prototype.dataToCoord=function(s,a){var u=this._extent,d=this.scale;return s=d.normalize(s),this.onBand&&"ordinal"===d.type&&qb(u=u.slice(),d.count()),rr(s,yq,u,a)},c.prototype.coordToData=function(s,a){var u=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&qb(u=u.slice(),d.count());var p=rr(s,u,yq,a);return this.scale.scale(p)},c.prototype.pointToData=function(s,a){},c.prototype.getTicksCoords=function(s){var a=(s=s||{}).tickModel||this.getTickModel(),u=tt(function _q(c,s){return"category"===c.type?function(a,u){var d,p,g=FR(a,"ticks"),v=jb(u),y=Ln(g,v);if(y)return y;if(u.get("show")&&!a.scale.isBlank()||(d=[]),wi(v))d=BR(a,v,!0);else if("auto"===v){var x=Xb(a,a.getLabelModel());p=x.labelCategoryInterval,d=tt(x.labels,function(C){return C.tickValue})}else d=xD(a,p=v,!0);return W0(g,v,{ticks:d,tickCategoryInterval:p})}(c,s):{ticks:tt(c.scale.getTicks(),function(a){return a.value})}}(this,a).ticks,function(d){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(d):d),tickValue:d}},this);return function(d,p,g,v){var y=p.length;if(d.onBand&&!g&&y){var x,C,w=d.getExtent();if(1===y)p[0].coord=w[0],x=p[1]={coord:w[0]};else{var P=(p[y-1].coord-p[0].coord)/(p[y-1].tickValue-p[0].tickValue);fe(p,function(E){E.coord-=P/2}),C=1+d.scale.getExtent()[1]-p[y-1].tickValue,p.push(x={coord:p[y-1].coord+P*C})}var z=w[0]>w[1];k(p[0].coord,w[0])&&(v?p[0].coord=w[0]:p.shift()),v&&k(w[0],p[0].coord)&&p.unshift({coord:w[0]}),k(w[1],x.coord)&&(v?x.coord=w[1]:p.pop()),v&&k(x.coord,w[1])&&p.push({coord:w[1]})}function k(E,F){return E=Ma(E),F=Ma(F),z?E>F:E<F}}(this,u,a.get("alignWithLabel"),s.clamp),u},c.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var s=this.model.getModel("minorTick").get("splitNumber");return s>0&&s<100||(s=5),tt(this.scale.getMinorTicks(s),function(a){return tt(a,function(u){return{coord:this.dataToCoord(u),tickValue:u}},this)},this)},c.prototype.getViewLabels=function(){return function vq(c){return"category"===c.type?function(s){var a=s.getLabelModel(),u=Xb(s,a);return!a.get("show")||s.scale.isBlank()?{labels:[],labelCategoryInterval:u.labelCategoryInterval}:u}(c):function(s){var a=s.scale.getTicks(),u=Hy(s);return{labels:tt(a,function(d,p){return{level:d.level,formattedLabel:u(d,p),rawLabel:s.scale.getLabel(d),tickValue:d.value}})}}(c)}(this).labels},c.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},c.prototype.getTickModel=function(){return this.model.getModel("axisTick")},c.prototype.getBandWidth=function(){var s=this._extent,a=this.scale.getExtent(),u=a[1]-a[0]+(this.onBand?1:0);0===u&&(u=1);var d=Math.abs(s[1]-s[0]);return Math.abs(d)/u},c.prototype.calculateCategoryInterval=function(){return function(s){var re,oe,a=(oe=(re=s).getLabelModel(),{axisRotate:re.getRotate?re.getRotate():re.isHorizontal&&!re.isHorizontal()?90:0,labelRotate:oe.get("rotate")||0,font:oe.getFont()}),u=Hy(s),d=(a.axisRotate-a.labelRotate)/180*Math.PI,p=s.scale,g=p.getExtent(),v=p.count();if(g[1]-g[0]<1)return 0;var y=1;v>40&&(y=Math.max(1,Math.floor(v/40)));for(var x=g[0],C=s.dataToCoord(x+1)-s.dataToCoord(x),w=Math.abs(C*Math.cos(d)),D=Math.abs(C*Math.sin(d)),P=0,z=0;x<=g[1];x+=y){var E,F=hh(u({value:x}),a.font,"center","top");E=1.3*F.height,P=Math.max(P,1.3*F.width,7),z=Math.max(z,E,7)}var B=P/w,H=z/D;isNaN(B)&&(B=1/0),isNaN(H)&&(H=1/0);var Y=Math.max(0,Math.floor(Math.min(B,H))),U=G0(s.model),j=s.getExtent(),q=U.lastAutoInterval,Q=U.lastTickCount;return null!=q&&null!=Q&&Math.abs(q-Y)<=1&&Math.abs(Q-v)<=1&&q>Y&&U.axisExtent0===j[0]&&U.axisExtent1===j[1]?Y=q:(U.lastTickCount=v,U.lastAutoInterval=Y,U.axisExtent0=j[0],U.axisExtent1=j[1]),Y}(this)},c}();function qb(c,s){var a=(c[1]-c[0])/s/2;c[0]+=a,c[1]-=a}var Yy=2*Math.PI,Af=Nr.CMD,xq=["top","right","bottom","left"];function bD(c,s,a,u,d){var p=a.width,g=a.height;switch(c){case"top":u.set(a.x+p/2,a.y-s),d.set(0,-1);break;case"bottom":u.set(a.x+p/2,a.y+g+s),d.set(0,1);break;case"left":u.set(a.x-s,a.y+g/2),d.set(-1,0);break;case"right":u.set(a.x+p+s,a.y+g/2),d.set(1,0)}}function CD(c,s,a,u,d,p,g,v,y){g-=c,v-=s;var x=Math.sqrt(g*g+v*v),C=(g/=x)*a+c,w=(v/=x)*a+s;if(Math.abs(u-d)%Yy<1e-4)return y[0]=C,y[1]=w,x-a;if(p){var D=u;u=xu(d),d=xu(D)}else u=xu(u),d=xu(d);u>d&&(d+=Yy);var P=Math.atan2(v,g);if(P<0&&(P+=Yy),P>=u&&P<=d||P+Yy>=u&&P+Yy<=d)return y[0]=C,y[1]=w,x-a;var z=a*Math.cos(u)+c,k=a*Math.sin(u)+s,E=a*Math.cos(d)+c,F=a*Math.sin(d)+s,B=(z-g)*(z-g)+(k-v)*(k-v),H=(E-g)*(E-g)+(F-v)*(F-v);return B<H?(y[0]=z,y[1]=k,Math.sqrt(B)):(y[0]=E,y[1]=F,Math.sqrt(H))}function Uy(c,s,a,u,d,p,g,v){var y=d-c,x=p-s,C=a-c,w=u-s,D=Math.sqrt(C*C+w*w),P=(y*(C/=D)+x*(w/=D))/D;v&&(P=Math.min(Math.max(P,0),1));var z=g[0]=c+(P*=D)*C,k=g[1]=s+P*w;return Math.sqrt((z-d)*(z-d)+(k-p)*(k-p))}function wD(c,s,a,u,d,p,g){a<0&&(c+=a,a=-a),u<0&&(s+=u,u=-u);var v=c+a,y=s+u,x=g[0]=Math.min(Math.max(d,c),v),C=g[1]=Math.min(Math.max(p,s),y);return Math.sqrt((x-d)*(x-d)+(C-p)*(C-p))}var Dh=[];function VR(c,s,a){var u=wD(s.x,s.y,s.width,s.height,c.x,c.y,Dh);return a.set(Dh[0],Dh[1]),u}function bq(c,s,a){for(var u,d,p=0,g=0,v=0,y=0,x=1/0,C=s.data,w=c.x,D=c.y,P=0;P<C.length;){var z=C[P++];1===P&&(v=p=C[P],y=g=C[P+1]);var k=x;switch(z){case Af.M:p=v=C[P++],g=y=C[P++];break;case Af.L:k=Uy(p,g,C[P],C[P+1],w,D,Dh,!0),p=C[P++],g=C[P++];break;case Af.C:k=N$(p,g,C[P++],C[P++],C[P++],C[P++],C[P],C[P+1],w,D,Dh),p=C[P++],g=C[P++];break;case Af.Q:k=F$(p,g,C[P++],C[P++],C[P],C[P+1],w,D,Dh),p=C[P++],g=C[P++];break;case Af.A:var E=C[P++],F=C[P++],B=C[P++],H=C[P++],Y=C[P++],U=C[P++];P+=1;var j=!!(1-C[P++]);u=Math.cos(Y)*B+E,d=Math.sin(Y)*H+F,P<=1&&(v=u,y=d),k=CD(E,F,H,Y,Y+U,j,(w-E)*H/B+E,D,Dh),p=Math.cos(Y+U)*B+E,g=Math.sin(Y+U)*H+F;break;case Af.R:k=wD(v=p=C[P++],y=g=C[P++],C[P++],C[P++],w,D,Dh);break;case Af.Z:k=Uy(p,g,v,y,w,D,Dh,!0),p=v,g=y}k<x&&(x=k,a.set(Dh[0],Dh[1]))}return x}var pd=new _n,ro=new _n,Da=new _n,gd=new _n,og=new _n;function SD(c,s){if(c){var a=c.getTextGuideLine(),u=c.getTextContent();if(u&&a){var d=c.textGuideLineConfig||{},p=[[0,0],[0,0],[0,0]],g=d.candidates||xq,v=u.getBoundingRect().clone();v.applyTransform(u.getComputedTransform());var y=1/0,x=d.anchor,C=c.getComputedTransform(),w=C&&pu([],C),D=s.get("length2")||0;x&&Da.copy(x);for(var P=0;P<g.length;P++){bD(g[P],0,v,pd,gd),_n.scaleAndAdd(ro,pd,gd,D),ro.transform(w);var z=c.getBoundingRect(),k=x?x.distance(ro):c instanceof pi?bq(ro,c.path,Da):VR(ro,z,Da);k<y&&(y=k,ro.transform(C),Da.transform(C),Da.toArray(p[0]),ro.toArray(p[1]),pd.toArray(p[2]))}Cq(p,s.get("minTurnAngle")),a.setShape({points:p})}}}var Zb=[],wc=new _n;function Cq(c,s){if(s<=180&&s>0){s=s/180*Math.PI,pd.fromArray(c[0]),ro.fromArray(c[1]),Da.fromArray(c[2]),_n.sub(gd,pd,ro),_n.sub(og,Da,ro);var a=gd.len(),u=og.len();if(!(a<.001||u<.001)){gd.scale(1/a),og.scale(1/u);var d=gd.dot(og);if(Math.cos(s)<d){var p=Uy(ro.x,ro.y,Da.x,Da.y,pd.x,pd.y,Zb,!1);wc.fromArray(Zb),wc.scaleAndAdd(og,p/Math.tan(Math.PI-s));var g=Da.x!==ro.x?(wc.x-ro.x)/(Da.x-ro.x):(wc.y-ro.y)/(Da.y-ro.y);if(isNaN(g))return;g<0?_n.copy(wc,ro):g>1&&_n.copy(wc,Da),wc.toArray(c[1])}}}}function wq(c,s,a){if(a<=180&&a>0){a=a/180*Math.PI,pd.fromArray(c[0]),ro.fromArray(c[1]),Da.fromArray(c[2]),_n.sub(gd,ro,pd),_n.sub(og,Da,ro);var u=gd.len(),d=og.len();if(!(u<.001||d<.001)&&(gd.scale(1/u),og.scale(1/d),gd.dot(s)<Math.cos(a))){var p=Uy(ro.x,ro.y,Da.x,Da.y,pd.x,pd.y,Zb,!1);wc.fromArray(Zb);var g=Math.PI/2,v=g+Math.acos(og.dot(s))-a;if(v>=g)_n.copy(wc,Da);else{wc.scaleAndAdd(og,p/Math.tan(Math.PI/2-v));var y=Da.x!==ro.x?(wc.x-ro.x)/(Da.x-ro.x):(wc.y-ro.y)/(Da.y-ro.y);if(isNaN(y))return;y<0?_n.copy(wc,ro):y>1&&_n.copy(wc,Da)}wc.toArray(c[1])}}}function HR(c,s,a,u){var d="normal"===a,p=d?c:c.ensureState(a);p.ignore=s;var g=u.get("smooth");g&&!0===g&&(g=.3),p.shape=p.shape||{},g>0&&(p.shape.smooth=g);var v=u.getModel("lineStyle").getLineStyle();d?c.useStyle(v):p.style=v}function Ph(c,s){var a=s.smooth,u=s.points;if(u)if(c.moveTo(u[0][0],u[0][1]),a>0&&u.length>=3){var d=ms(u[0],u[1]),p=ms(u[1],u[2]);if(!d||!p)return c.lineTo(u[1][0],u[1][1]),void c.lineTo(u[2][0],u[2][1]);var g=Math.min(d,p)*a,v=Oc([],u[1],u[0],g/d),y=Oc([],u[1],u[2],g/p),x=Oc([],v,y,.5);c.bezierCurveTo(v[0],v[1],v[0],v[1],x[0],x[1]),c.bezierCurveTo(y[0],y[1],y[0],y[1],u[2][0],u[2][1])}else for(var C=1;C<u.length;C++)c.lineTo(u[C][0],u[C][1])}function ei(c,s,a){var u=c.getTextGuideLine(),d=c.getTextContent();if(d){for(var p=s.normal,g=p.get("show"),v=d.ignore,y=0;y<gf.length;y++){var x=gf[y],C=s[x],w="normal"===x;if(C){var D=C.get("show");if((w?v:xi(d.states[x]&&d.states[x].ignore,v))||!xi(D,g)){var P=w?u:u&&u.states.normal;P&&(P.ignore=!0);continue}u||(u=new bc,c.setTextGuideLine(u),w||!v&&g||HR(u,!0,"normal",s.normal),c.stateProxy&&(u.stateProxy=c.stateProxy)),HR(u,!1,x,C)}}if(u){jt(u.style,a),u.style.fill=null;var z=p.get("showAbove");(c.textGuideLineConfig=c.textGuideLineConfig||{}).showAbove=z||!1,u.buildPath=Ph}}else u&&c.removeTextGuideLine()}function Cs(c,s){for(var a={normal:c.getModel(s=s||"labelLine")},u=0;u<Fs.length;u++){var d=Fs[u];a[d]=c.getModel([d,s])}return a}function TD(c){for(var s=[],a=0;a<c.length;a++){var u=c[a];if(!u.defaultAttr.ignore){var d=u.label,p=d.getComputedTransform(),g=d.getBoundingRect(),v=!p||p[1]<1e-5&&p[2]<1e-5,y=d.style.margin||0,x=g.clone();x.applyTransform(p),x.x-=y/2,x.y-=y/2,x.width+=y,x.height+=y;var C=v?new X3(g,p):null;s.push({label:d,labelLine:u.labelLine,rect:x,localRect:g,obb:C,priority:u.priority,defaultAttr:u.defaultAttr,layoutOption:u.computedLayoutOption,axisAligned:v,transform:p})}}return s}function YR(c,s,a,u,d,p){var g=c.length;if(!(g<2)){c.sort(function(q,Q){return q.rect[s]-Q.rect[s]});for(var v,y=0,x=!1,C=0,w=0;w<g;w++){var D=c[w],P=D.rect;(v=P[s]-y)<0&&(P[s]-=v,D.label[s]-=v,x=!0),C+=Math.max(-v,0),y=P[s]+P[a]}C>0&&p&&Y(-C/g,0,g);var z,k,E=c[0],F=c[g-1];return B(),z<0&&U(-z,.8),k<0&&U(k,.8),B(),H(z,k,1),H(k,z,-1),B(),z<0&&j(-z),k<0&&j(k),x}function B(){z=E.rect[s]-u,k=d-F.rect[s]-F.rect[a]}function H(q,Q,re){if(q<0){var oe=Math.min(Q,-q);if(oe>0){Y(oe*re,0,g);var ae=oe+q;ae<0&&U(-ae*re,1)}else U(-q*re,1)}}function Y(q,Q,re){0!==q&&(x=!0);for(var oe=Q;oe<re;oe++){var ae=c[oe];ae.rect[s]+=q,ae.label[s]+=q}}function U(q,Q){for(var re=[],oe=0,ae=1;ae<g;ae++){var he=c[ae-1].rect,me=Math.max(c[ae].rect[s]-he[s]-he[a],0);re.push(me),oe+=me}if(oe){var _e=Math.min(Math.abs(q)/oe,Q);if(q>0)for(ae=0;ae<g-1;ae++)Y(re[ae]*_e,0,ae+1);else for(ae=g-1;ae>0;ae--)Y(-re[ae-1]*_e,ae,g)}}function j(q){var Q=q<0?-1:1;q=Math.abs(q);for(var re=Math.ceil(q/(g-1)),oe=0;oe<g-1;oe++)if(Q>0?Y(re,0,oe+1):Y(-re,g-oe-1,g),(q-=re)<=0)return}}function UR(c,s,a,u){return YR(c,"y","height",s,a,u)}function GR(c){var s=[];c.sort(function(k,E){return E.priority-k.priority});var a=new qn(0,0,0,0);function u(k){if(!k.ignore){var E=k.ensureState("emphasis");null==E.ignore&&(E.ignore=!1)}k.ignore=!0}for(var d=0;d<c.length;d++){var p=c[d],g=p.axisAligned,v=p.localRect,y=p.transform,x=p.label,C=p.labelLine;a.copy(p.rect),a.width-=.1,a.height-=.1,a.x+=.05,a.y+=.05;for(var w=p.obb,D=!1,P=0;P<s.length;P++){var z=s[P];if(a.intersect(z.rect)){if(g&&z.axisAligned){D=!0;break}if(z.obb||(z.obb=new X3(z.localRect,z.transform)),w||(w=new X3(v,y)),w.intersect(z.obb)){D=!0;break}}}D?(u(x),C&&u(C)):(x.attr("ignore",p.defaultAttr.ignore),C&&C.attr("ignore",p.defaultAttr.labelGuideIgnore),s.push(p))}}function Sq(c){if(c){for(var s=[],a=0;a<c.length;a++)s.push(c[a].slice());return s}}function Tq(c,s){var a=c.label,u=s&&s.getTextGuideLine();return{dataIndex:c.dataIndex,dataType:c.dataType,seriesIndex:c.seriesModel.seriesIndex,text:c.label.style.text,rect:c.hostRect,labelRect:c.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:Sq(u&&u.shape.points)}}var WR=["align","verticalAlign","width","height","fontSize"],pl=new Lr,Kb=Zi(),jR=Zi();function Gy(c,s,a){for(var u=0;u<a.length;u++){var d=a[u];null!=s[d]&&(c[d]=s[d])}}var Wy=["x","y","rotation"],$R=function(){function c(){this._labelList=[],this._chartViewList=[]}return c.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},c.prototype._addLabel=function(s,a,u,d,p){var g=d.style,v=d.__hostTarget.textConfig||{},y=d.getComputedTransform(),x=d.getBoundingRect().plain();qn.applyTransform(x,x,y),y?pl.setLocalTransform(y):(pl.x=pl.y=pl.rotation=pl.originX=pl.originY=0,pl.scaleX=pl.scaleY=1);var C,w=d.__hostTarget;if(w){C=w.getBoundingRect().plain();var D=w.getComputedTransform();qn.applyTransform(C,C,D)}var P=C&&w.getTextGuideLine();this._labelList.push({label:d,labelLine:P,seriesModel:u,dataIndex:s,dataType:a,layoutOption:p,computedLayoutOption:null,rect:x,hostRect:C,priority:C?C.width*C.height:0,defaultAttr:{ignore:d.ignore,labelGuideIgnore:P&&P.ignore,x:pl.x,y:pl.y,scaleX:pl.scaleX,scaleY:pl.scaleY,rotation:pl.rotation,style:{x:g.x,y:g.y,align:g.align,verticalAlign:g.verticalAlign,width:g.width,height:g.height,fontSize:g.fontSize},cursor:d.cursor,attachedPos:v.position,attachedRot:v.rotation}})},c.prototype.addLabelsOfSeries=function(s){var a=this;this._chartViewList.push(s);var u=s.__model,d=u.get("labelLayout");(wi(d)||Gt(d).length)&&s.group.traverse(function(p){if(p.ignore)return!0;var g=p.getTextContent(),v=Pn(p);g&&!g.disableLabelLayout&&a._addLabel(v.dataIndex,v.dataType,u,g,d)})},c.prototype.updateLayoutConfig=function(s){var a=s.getWidth(),u=s.getHeight();function d(F,B){return function(){SD(F,B)}}for(var p=0;p<this._labelList.length;p++){var g=this._labelList[p],v=g.label,y=v.__hostTarget,x=g.defaultAttr,C=void 0;C=(C="function"==typeof g.layoutOption?g.layoutOption(Tq(g,y)):g.layoutOption)||{},g.computedLayoutOption=C;var w=Math.PI/180;y&&y.setTextConfig({local:!1,position:null!=C.x||null!=C.y?null:x.attachedPos,rotation:null!=C.rotate?C.rotate*w:x.attachedRot,offset:[C.dx||0,C.dy||0]});var D=!1;if(null!=C.x?(v.x=At(C.x,a),v.setStyle("x",0),D=!0):(v.x=x.x,v.setStyle("x",x.style.x)),null!=C.y?(v.y=At(C.y,u),v.setStyle("y",0),D=!0):(v.y=x.y,v.setStyle("y",x.style.y)),C.labelLinePoints){var P=y.getTextGuideLine();P&&(P.setShape({points:C.labelLinePoints}),D=!1)}Kb(v).needsUpdateLabelLine=D,v.rotation=null!=C.rotate?C.rotate*w:x.rotation,v.scaleX=x.scaleX,v.scaleY=x.scaleY;for(var z=0;z<WR.length;z++){var k=WR[z];v.setStyle(k,null!=C[k]?C[k]:x.style[k])}if(C.draggable){if(v.draggable=!0,v.cursor="move",y){var E=g.seriesModel;null!=g.dataIndex&&(E=g.seriesModel.getData(g.dataType).getItemModel(g.dataIndex)),v.on("drag",d(y,E.getModel("labelLine")))}}else v.off("drag"),v.cursor=x.cursor}},c.prototype.layout=function(s){var u=s.getWidth(),d=s.getHeight(),p=TD(this._labelList),g=Ri(p,function(y){return"shiftX"===y.layoutOption.moveOverlap}),v=Ri(p,function(y){return"shiftY"===y.layoutOption.moveOverlap});YR(g,"x","width",0,u,undefined),UR(v,0,d),GR(Ri(p,function(y){return y.layoutOption.hideOverlap}))},c.prototype.processLabelsOverall=function(){var s=this;fe(this._chartViewList,function(a){var u=a.__model,d=a.ignoreLabelLineUpdate,p=u.isAnimationEnabled();a.group.traverse(function(g){if(g.ignore&&!g.forceLabelAnimation)return!0;var v=!d,y=g.getTextContent();!v&&y&&(v=Kb(y).needsUpdateLabelLine),v&&s._updateLabelLine(g,u),p&&s._animateLabels(g,u)})})},c.prototype._updateLabelLine=function(s,a){var u=s.getTextContent(),d=Pn(s),p=d.dataIndex;if(u&&null!=p){var g=a.getData(d.dataType),v=g.getItemModel(p),y={},x=g.getItemVisual(p,"style"),C=g.getVisual("drawType");y.stroke=x[C];var w=v.getModel("labelLine");ei(s,Cs(v),y),SD(s,w)}},c.prototype._animateLabels=function(s,a){var u=s.getTextContent(),d=s.getTextGuideLine();if(u&&(s.forceLabelAnimation||!u.ignore&&!u.invisible&&!s.disableLabelAnimation&&!z1(s))){var p=(z=Kb(u)).oldLayout,g=Pn(s),v=g.dataIndex,y={x:u.x,y:u.y,rotation:u.rotation},x=a.getData(g.dataType);if(p){u.attr(p);var C=s.prevStates;C&&(Gn(C,"select")>=0&&u.attr(z.oldLayoutSelect),Gn(C,"emphasis")>=0&&u.attr(z.oldLayoutEmphasis)),Ti(u,y,a,v)}else if(u.attr(y),!Nc(u).valueAnimation){var w=xi(u.style.opacity,1);u.style.opacity=0,to(u,{style:{opacity:w}},a,v)}if(z.oldLayout=y,u.states.select){var D=z.oldLayoutSelect={};Gy(D,y,Wy),Gy(D,u.states.select,Wy)}if(u.states.emphasis){var P=z.oldLayoutEmphasis={};Gy(P,y,Wy),Gy(P,u.states.emphasis,Wy)}MM(u,v,x,a,a)}if(d&&!d.ignore&&!d.invisible){p=(z=jR(d)).oldLayout;var z,k={points:d.shape.points};p?(d.attr({shape:p}),Ti(d,{shape:k},a)):(d.setShape(k),d.style.strokePercent=0,to(d,{style:{strokePercent:1}},a)),z.oldLayout=k}},c}(),Lu=Zi();function ag(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function MD(c){var s;if(c&&"transparent"!==c){if("string"==typeof c&&c.indexOf("rgba")>-1){var a=Jr(c);a&&(c="rgb("+a[0]+","+a[1]+","+a[2]+")",s=a[3])}}else c="none";return{color:c,opacity:s??1}}function sg(c,s,a,u,d){for(var p=s.length,g=a.length,v=c.newPos,y=v-u,x=0;v+1<p&&y+1<g&&d(s[v+1],a[y+1]);)v++,y++,x++;return x&&c.components.push({count:x,added:!1,removed:!1,indices:[]}),c.newPos=v,y}function jy(c,s,a){var u=c[c.length-1];u&&u.added===s&&u.removed===a?c[c.length-1]={count:u.count+1,added:s,removed:a,indices:[]}:c.push({count:1,added:s,removed:a,indices:[]})}function Mq(c){for(var s=0,a=c.length,u=0,d=0;s<a;s++){var p=c[s];if(p.removed){for(v=d;v<d+p.count;v++)p.indices.push(v);d+=p.count}else{for(var g=[],v=u;v<u+p.count;v++)g.push(v);p.indices=g,u+=p.count,p.added||(d+=p.count)}}return c}var $y="none",G1=Math.round,XR=Math.sin,Qb=Math.cos,et=Math.PI,W1=2*Math.PI,Jb=180/et;function eC(c){return G1(1e3*c)/1e3}function lg(c){return G1(1e4*c)/1e4}function qR(c){return c<1e-4&&c>-1e-4}function L_(c,s){s&&Pi(c,"transform","matrix("+eC(s[0])+","+eC(s[1])+","+eC(s[2])+","+eC(s[3])+","+lg(s[4])+","+lg(s[5])+")")}function Pi(c,s,a){(!a||"linear"!==a.type&&"radial"!==a.type)&&c.setAttribute(s,a)}function DD(c,s,a){var w,u=null==s.opacity?1:s.opacity;if(a instanceof Qo)Pi(c,"opacity",u+"");else{if(null!=(w=s.fill)&&w!==$y){var d=MD(s.fill);Pi(c,"fill",d.color),Pi(c,"fill-opacity",(null!=s.fillOpacity?s.fillOpacity*d.opacity*u:d.opacity*u)+"")}else Pi(c,"fill",$y);if(function(C){var w=C.stroke;return null!=w&&w!==$y}(s)){var p=MD(s.stroke);Pi(c,"stroke",p.color);var g=s.lineWidth,v=s.strokeNoScale?a.getLineScale():1;Pi(c,"stroke-width",(v?g/v:0)+""),Pi(c,"paint-order",s.strokeFirst?"stroke":"fill"),Pi(c,"stroke-opacity",(null!=s.strokeOpacity?s.strokeOpacity*p.opacity*u:p.opacity*u)+"");var y=s.lineDash&&g>0&&yb(s.lineDash,g);if(y){var x=s.lineDashOffset;v&&1!==v&&(y=tt(y,function(C){return C/v}),x&&(x=G1(x/=v))),Pi(c,"stroke-dasharray",y.join(",")),Pi(c,"stroke-dashoffset",(x||0)+"")}else Pi(c,"stroke-dasharray",$y);s.lineCap&&Pi(c,"stroke-linecap",s.lineCap),s.lineJoin&&Pi(c,"stroke-linejoin",s.lineJoin),s.miterLimit&&Pi(c,"stroke-miterlimit",s.miterLimit+"")}else Pi(c,"stroke",$y)}}var Pq=function(){function c(){}return c.prototype.reset=function(){this._d=[],this._str=""},c.prototype.moveTo=function(s,a){this._add("M",s,a)},c.prototype.lineTo=function(s,a){this._add("L",s,a)},c.prototype.bezierCurveTo=function(s,a,u,d,p,g){this._add("C",s,a,u,d,p,g)},c.prototype.quadraticCurveTo=function(s,a,u,d){this._add("Q",s,a,u,d)},c.prototype.arc=function(s,a,u,d,p,g){this.ellipse(s,a,u,u,0,d,p,g)},c.prototype.ellipse=function(s,a,u,d,p,g,v,y){var x=0===this._d.length,C=v-g,w=!y,D=Math.abs(C),P=qR(D-W1)||(w?C>=W1:-C>=W1),z=C>0?C%W1:C%W1+W1,k=!1;k=!!P||!qR(D)&&z>=et==!!w;var E=lg(s+u*Qb(g)),F=lg(a+d*XR(g));P&&(C=w?W1-1e-4:1e-4-W1,k=!0,x&&this._d.push("M",E,F));var B=lg(s+u*Qb(g+C)),H=lg(a+d*XR(g+C));if(isNaN(E)||isNaN(F)||isNaN(u)||isNaN(d)||isNaN(p)||isNaN(Jb)||isNaN(B)||isNaN(H))return"";this._d.push("A",lg(u),lg(d),G1(p*Jb),+k,+w,B,H)},c.prototype.rect=function(s,a,u,d){this._add("M",s,a),this._add("L",s+u,a),this._add("L",s+u,a+d),this._add("L",s,a+d),this._add("L",s,a),this._add("Z")},c.prototype.closePath=function(){this._d.length>0&&this._add("Z")},c.prototype._add=function(s,a,u,d,p,g,v,y,x){this._d.push(s);for(var C=1;C<arguments.length;C++){var w=arguments[C];if(isNaN(w))return void(this._invalid=!0);this._d.push(lg(w))}},c.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},c.prototype.getStr=function(){return this._str},c}(),Xy={brush:function(c){var s=c.style,a=c.__svgEl;a||(a=ag("path"),c.__svgEl=a),c.path||c.createPathProxy();var u=c.path;c.shapeChanged()&&(u.beginPath(),c.buildPath(u,c.shape),c.pathUpdated());var d=u.getVersion(),p=c,g=p.__svgPathBuilder;(p.__svgPathVersion!==d||!g||c.style.strokePercent<1)&&(g||(g=p.__svgPathBuilder=new Pq),g.reset(),u.rebuildPath(g,c.style.strokePercent),g.generateStr(),p.__svgPathVersion=d),Pi(a,"d",g.getStr()),DD(a,s,c),L_(a,c.transform)}},PD={brush:function(c){var s=c.style,a=s.image;if(a instanceof HTMLImageElement?a=a.src:a instanceof HTMLCanvasElement&&(a=a.toDataURL()),a){var u=s.x||0,d=s.y||0,p=s.width,g=s.height,v=c.__svgEl;v||(v=ag("image"),c.__svgEl=v),a!==c.__imageSrc&&(v.setAttributeNS("http://www.w3.org/1999/xlink","href",a),c.__imageSrc=a),Pi(v,"width",p+""),Pi(v,"height",g+""),Pi(v,"x",u+""),Pi(v,"y",d+""),DD(v,s,c),L_(v,c.transform)}}},AD={left:"start",right:"end",center:"middle",middle:"middle"},zD={brush:function(c){var y,x,C,s=c.style,a=s.text;if(null!=a&&(a+=""),a&&!isNaN(s.x)&&!isNaN(s.y)){var u=c.__svgEl;u||((u=ag("text")).setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.__svgEl=u);var d=s.font||Co;u.style.font=d,u.textContent=a,DD(u,s,c),L_(u,c.transform);var p=s.x||0,g=(y=s.y||0,x=Jd(d),"top"===(C=s.textBaseline)?y+=x/2:"bottom"===C&&(y-=x/2),y),v=AD[s.textAlign]||s.textAlign;Pi(u,"dominant-baseline","central"),Pi(u,"text-anchor",v),Pi(u,"x",p+""),Pi(u,"y",g+"")}}},R_=function(){function c(s,a,u,d,p){this.nextId=0,this._domName="_dom",this.createElement=ag,this._zrId=s,this._svgRoot=a,this._tagNames="string"==typeof u?[u]:u,this._markLabel=d,p&&(this._domName=p)}return c.prototype.getDefs=function(s){var a=this._svgRoot,u=this._svgRoot.getElementsByTagName("defs");if(0===u.length){if(s){var d=a.insertBefore(this.createElement("defs"),a.firstChild);return d.contains||(d.contains=function(p){var g=d.children;if(!g)return!1;for(var v=g.length-1;v>=0;--v)if(g[v]===p)return!0;return!1}),d}return null}return u[0]},c.prototype.doUpdate=function(s,a){if(s){var u=this.getDefs(!1);if(s[this._domName]&&u.contains(s[this._domName]))"function"==typeof a&&a(s);else{var d=this.add(s);d&&(s[this._domName]=d)}}},c.prototype.add=function(s){return null},c.prototype.addDom=function(s){var a=this.getDefs(!0);s.parentNode!==a&&a.appendChild(s)},c.prototype.removeDom=function(s){var a=this.getDefs(!1);a&&s[this._domName]&&(a.removeChild(s[this._domName]),s[this._domName]=null)},c.prototype.getDoms=function(){var s=this.getDefs(!1);if(!s)return[];var a=[];return fe(this._tagNames,function(u){for(var d=s.getElementsByTagName(u),p=0;p<d.length;p++)a.push(d[p])}),a},c.prototype.markAllUnused=function(){var s=this.getDoms(),a=this;fe(s,function(u){u[a._markLabel]="0"})},c.prototype.markDomUsed=function(s){s&&(s[this._markLabel]="1")},c.prototype.markDomUnused=function(s){s&&(s[this._markLabel]="0")},c.prototype.isDomUnused=function(s){return s&&"1"!==s[this._markLabel]},c.prototype.removeUnused=function(){var s=this,a=this.getDefs(!1);a&&fe(this.getDoms(),function(u){s.isDomUnused(u)&&a.removeChild(u)})},c.prototype.getSvgProxy=function(s){return s instanceof pi?Xy:s instanceof Qo?PD:s instanceof B2?zD:Xy},c.prototype.getSvgElement=function(s){return s.__svgEl},c}();function tC(c){return"linear"===c.type}function kD(c){return"radial"===c.type}function nC(c){return c&&("linear"===c.type||"radial"===c.type)}var OD=function(c){function s(a,u){return c.call(this,a,u,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return Ee(s,c),s.prototype.addWithoutUpdate=function(a,u){if(u&&u.style){var d=this;fe(["fill","stroke"],function(p){var g=u.style[p];if(nC(g)){var v=g,y=d.getDefs(!0),x=void 0;v.__dom?(x=v.__dom,y.contains(v.__dom)||d.addDom(x)):x=d.add(v),d.markUsed(u);var C=x.getAttribute("id");a.setAttribute(p,"url(#"+C+")")}})}},s.prototype.add=function(a){var u;if(tC(a))u=this.createElement("linearGradient");else{if(!kD(a))return ac("Illegal gradient type."),null;u=this.createElement("radialGradient")}return a.id=a.id||this.nextId++,u.setAttribute("id","zr"+this._zrId+"-gradient-"+a.id),this.updateDom(a,u),this.addDom(u),u},s.prototype.update=function(a){if(nC(a)){var u=this;this.doUpdate(a,function(){var d=a.__dom;if(d){var p=d.tagName,g=a.type;"linear"===g&&"linearGradient"===p||"radial"===g&&"radialGradient"===p?u.updateDom(a,a.__dom):(u.removeDom(a),u.add(a))}})}},s.prototype.updateDom=function(a,u){if(tC(a))u.setAttribute("x1",a.x+""),u.setAttribute("y1",a.y+""),u.setAttribute("x2",a.x2+""),u.setAttribute("y2",a.y2+"");else{if(!kD(a))return void ac("Illegal gradient type.");u.setAttribute("cx",a.x+""),u.setAttribute("cy",a.y+""),u.setAttribute("r",a.r+"")}u.setAttribute("gradientUnits",a.global?"userSpaceOnUse":"objectBoundingBox"),u.innerHTML="";for(var d=a.colorStops,p=0,g=d.length;p<g;++p){var v=this.createElement("stop");v.setAttribute("offset",100*d[p].offset+"%");var y=d[p].color;if(y.indexOf("rgba")>-1){var x=Jr(y)[3],C=w2(y);v.setAttribute("stop-color","#"+C),v.setAttribute("stop-opacity",x+"")}else v.setAttribute("stop-color",d[p].color);u.appendChild(v)}a.__dom=u},s.prototype.markUsed=function(a){if(a.style){var u=a.style.fill;u&&u.__dom&&c.prototype.markDomUsed.call(this,u.__dom),(u=a.style.stroke)&&u.__dom&&c.prototype.markDomUsed.call(this,u.__dom)}},s}(R_);function qy(c){return c&&(!!c.image||!!c.svgElement)}var Zy=new I0,Aq=function(c){function s(a,u){return c.call(this,a,u,["pattern"],"__pattern_in_use__")||this}return Ee(s,c),s.prototype.addWithoutUpdate=function(a,u){if(u&&u.style){var d=this;fe(["fill","stroke"],function(p){var g=u.style[p];if(qy(g)){var v=d.getDefs(!0),y=Zy.get(g);y?v.contains(y)||d.addDom(y):y=d.add(g),d.markUsed(u);var x=y.getAttribute("id");a.setAttribute(p,"url(#"+x+")")}})}},s.prototype.add=function(a){if(qy(a)){var u=this.createElement("pattern");return a.id=null==a.id?this.nextId++:a.id,u.setAttribute("id","zr"+this._zrId+"-pattern-"+a.id),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(a,u),this.addDom(u),u}},s.prototype.update=function(a){if(qy(a)){var u=this;this.doUpdate(a,function(){var d=Zy.get(a);u.updateDom(a,d)})}},s.prototype.updateDom=function(a,u){var d=a.svgElement;if(d instanceof SVGElement)d.parentNode!==u&&(u.innerHTML="",u.appendChild(d),u.setAttribute("width",a.svgWidth+""),u.setAttribute("height",a.svgHeight+""));else{var p=void 0,g=u.getElementsByTagName("image");if(g.length){if(!a.image)return void u.removeChild(g[0]);p=g[0]}else a.image&&(p=this.createElement("image"));if(p){var v=void 0,y=a.image;if("string"==typeof y?v=y:y instanceof HTMLImageElement?v=y.src:y instanceof HTMLCanvasElement&&(v=y.toDataURL()),v){p.setAttribute("href",v),p.setAttribute("x","0"),p.setAttribute("y","0");var x=p5(v,p,{dirty:function(){}},function(w){u.setAttribute("width",w.width+""),u.setAttribute("height",w.height+"")});x&&x.width&&x.height&&(u.setAttribute("width",x.width+""),u.setAttribute("height",x.height+"")),u.appendChild(p)}}}var C="translate("+(a.x||0)+", "+(a.y||0)+") rotate("+(a.rotation||0)/Math.PI*180+") scale("+(a.scaleX||1)+", "+(a.scaleY||1)+")";u.setAttribute("patternTransform",C),Zy.set(a,u)},s.prototype.markUsed=function(a){a.style&&(qy(a.style.fill)&&c.prototype.markDomUsed.call(this,Zy.get(a.style.fill)),qy(a.style.stroke)&&c.prototype.markDomUsed.call(this,Zy.get(a.style.stroke)))},s}(R_);function ZR(c){var s=c.__clipPaths;return s&&s.length>0}var KR=function(c){function s(a,u){var d=c.call(this,a,u,"clipPath","__clippath_in_use__")||this;return d._refGroups={},d._keyDuplicateCount={},d}return Ee(s,c),s.prototype.markAllUnused=function(){c.prototype.markAllUnused.call(this);var a=this._refGroups;for(var u in a)a.hasOwnProperty(u)&&this.markDomUnused(a[u]);this._keyDuplicateCount={}},s.prototype._getClipPathGroup=function(a,u){if(ZR(a)){var d=a.__clipPaths,p=this._keyDuplicateCount,g=function(v){var y=[];if(v)for(var x=0;x<v.length;x++)y.push(v[x].id);return y.join(",")}(d);return C9(d,u&&u.__clipPaths)&&(p[g]=p[g]||0,p[g]&&(g+="-"+p[g]),p[g]++),this._refGroups[g]||(this._refGroups[g]=this.createElement("g"))}},s.prototype.update=function(a,u){var d=this._getClipPathGroup(a,u);return d&&(this.markDomUsed(d),this.updateDom(d,a.__clipPaths)),d},s.prototype.updateDom=function(a,u){if(u&&u.length>0){var d=this.getDefs(!0),p=u[0],g=void 0,v=void 0;p._dom?(v=p._dom.getAttribute("id"),d.contains(g=p._dom)||d.appendChild(g)):(v="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(g=this.createElement("clipPath")).setAttribute("id",v),d.appendChild(g),p._dom=g),this.getSvgProxy(p).brush(p);var y=this.getSvgElement(p);g.innerHTML="",g.appendChild(y),a.setAttribute("clip-path","url(#"+v+")"),u.length>1&&this.updateDom(g,u.slice(1))}else a&&a.setAttribute("clip-path","none")},s.prototype.markUsed=function(a){var u=this;a.__clipPaths&&fe(a.__clipPaths,function(d){d._dom&&c.prototype.markDomUsed.call(u,d._dom)})},s.prototype.removeUnused=function(){c.prototype.removeUnused.call(this);var a={},u=this._refGroups;for(var d in u)if(u.hasOwnProperty(d)){var p=u[d];this.isDomUnused(p)?p.parentNode&&p.parentNode.removeChild(p):a[d]=p}this._refGroups=a},s}(R_),ED=function(c){function s(a,u){var d=c.call(this,a,u,["filter"],"__filter_in_use__","_shadowDom")||this;return d._shadowDomMap={},d._shadowDomPool=[],d}return Ee(s,c),s.prototype._getFromPool=function(){var a=this._shadowDomPool.pop();if(!a){(a=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var u=this.createElement("feDropShadow");a.appendChild(u),this.addDom(a)}return a},s.prototype.update=function(a,u){if((g=u.style)&&(g.shadowBlur||g.shadowOffsetX||g.shadowOffsetY)){var d=function(g){var v=g.style,y=g.getGlobalScale();return[v.shadowColor,(v.shadowBlur||0).toFixed(2),(v.shadowOffsetX||0).toFixed(2),(v.shadowOffsetY||0).toFixed(2),y[0],y[1]].join(",")}(u),p=u._shadowDom=this._shadowDomMap[d];p||(p=this._getFromPool(),this._shadowDomMap[d]=p),this.updateDom(a,u,p)}else this.remove(a,u);var g},s.prototype.remove=function(a,u){null!=u._shadowDom&&(u._shadowDom=null,a.removeAttribute("filter"))},s.prototype.updateDom=function(a,u,d){var p=d.children[0],g=u.style,v=u.getGlobalScale(),y=v[0],x=v[1];if(y&&x){var C=g.shadowOffsetX||0,w=g.shadowOffsetY||0,D=g.shadowBlur,P=MD(g.shadowColor);p.setAttribute("dx",C/y+""),p.setAttribute("dy",w/x+""),p.setAttribute("flood-color",P.color),p.setAttribute("flood-opacity",P.opacity+""),p.setAttribute("stdDeviation",D/2/y+" "+D/2/x),d.setAttribute("x","-100%"),d.setAttribute("y","-100%"),d.setAttribute("width","300%"),d.setAttribute("height","300%"),u._shadowDom=d;var k=d.getAttribute("id");a.setAttribute("filter","url(#"+k+")")}},s.prototype.removeUnused=function(){if(this.getDefs(!1)){var a=this._shadowDomPool,u=this._shadowDomMap;for(var d in u)u.hasOwnProperty(d)&&a.push(u[d]);this._shadowDomMap={}}},s}(R_);function an(c){return parseInt(c,10)}function mi(c){return c instanceof pi?Xy:c instanceof Qo?PD:c instanceof B2?zD:Xy}function Uo(c,s){return s&&c&&s.parentNode!==c}function cn(c,s,a){if(Uo(c,s)&&a){var u=a.nextSibling;u?c.insertBefore(s,u):c.appendChild(s)}}function QR(c,s){if(Uo(c,s)){var a=c.firstChild;a?c.insertBefore(s,a):c.appendChild(s)}}function JR(c,s){s&&c&&s.parentNode===c&&c.removeChild(s)}function N_(c){return c.__svgEl}var zq=function(){function c(s,a,u,d){this.type="svg",this.refreshHover=iC("refreshHover"),this.pathToImage=iC("pathToImage"),this.configLayer=iC("configLayer"),this.root=s,this.storage=a,this._opts=u=it({},u||{});var p=ag("svg");p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("version","1.1"),p.setAttribute("baseProfile","full"),p.style.cssText="user-select:none;position:absolute;left:0;top:0;";var g=ag("g");p.appendChild(g);var v=ag("g");p.appendChild(v),this._gradientManager=new OD(d,v),this._patternManager=new Aq(d,v),this._clipPathManager=new KR(d,v),this._shadowManager=new ED(d,v);var y=document.createElement("div");y.style.cssText="overflow:hidden;position:relative",this._svgDom=p,this._svgRoot=v,this._backgroundRoot=g,this._viewport=y,s.appendChild(y),y.appendChild(p),this.resize(u.width,u.height),this._visibleList=[]}return c.prototype.getType=function(){return"svg"},c.prototype.getViewportRoot=function(){return this._viewport},c.prototype.getSvgDom=function(){return this._svgDom},c.prototype.getSvgRoot=function(){return this._svgRoot},c.prototype.getViewportRootOffset=function(){var s=this.getViewportRoot();if(s)return{offsetLeft:s.offsetLeft||0,offsetTop:s.offsetTop||0}},c.prototype.refresh=function(){var s=this.storage.getDisplayList(!0);this._paintList(s)},c.prototype.setBackgroundColor=function(s){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var a=ag("rect");a.setAttribute("width",this.getWidth()),a.setAttribute("height",this.getHeight()),a.setAttribute("x",0),a.setAttribute("y",0),a.setAttribute("id",0);var u=MD(s),p=u.opacity;a.setAttribute("fill",u.color),a.setAttribute("fill-opacity",p),this._backgroundRoot.appendChild(a),this._backgroundNode=a},c.prototype.createSVGElement=function(s){return ag(s)},c.prototype.paintOne=function(s){var a=mi(s);return a&&a.brush(s),N_(s)},c.prototype._paintList=function(s){var a=this._gradientManager,u=this._patternManager,d=this._clipPathManager,p=this._shadowManager;a.markAllUnused(),u.markAllUnused(),d.markAllUnused(),p.markAllUnused();for(var g=this._svgRoot,v=this._visibleList,y=s.length,x=[],C=0;C<y;C++){var w=mi(U=s[C]),D=N_(U);U.invisible||(!U.__dirty&&D||(w&&w.brush(U),(D=N_(U))&&U.style&&(a.update(U.style.fill),a.update(U.style.stroke),u.update(U.style.fill),u.update(U.style.stroke),p.update(D,U)),U.__dirty=0),D&&x.push(U))}var P,z,k,E,F,B=function Dq(c,s,a){return function(u,d,p){p||(p=function(E,F){return E===F}),u=u.slice();var g=(d=d.slice()).length,v=u.length,y=1,x=g+v,C=[{newPos:-1,components:[]}],w=sg(C[0],d,u,0,p);if(C[0].newPos+1>=g&&w+1>=v){for(var D=[],P=0;P<d.length;P++)D.push(P);return[{indices:D,count:d.length,added:!1,removed:!1}]}function z(){for(var E=-1*y;E<=y;E+=2){var F,B=C[E-1],H=C[E+1],Y=(H?H.newPos:0)-E;B&&(C[E-1]=void 0);var U=B&&B.newPos+1<g,j=H&&0<=Y&&Y<v;if(U||j){if(!U||j&&B.newPos<H.newPos?jy((F={newPos:(q=H).newPos,components:q.components.slice(0)}).components,!1,!0):((F=B).newPos++,jy(F.components,!0,!1)),Y=sg(F,d,u,E,p),F.newPos+1>=g&&Y+1>=v)return Mq(F.components);C[E]=F}else C[E]=void 0}var q;y++}for(;y<=x;){var k=z();if(k)return k}}(c,s,a)}(v,x);for(C=0;C<B.length;C++)if((Y=B[C]).removed)for(var H=0;H<Y.count;H++)D=N_(U=v[Y.indices[H]]),ZR(U)?(k=D)&&k.parentNode&&k.parentNode.removeChild(k):JR(g,D);for(C=0;C<B.length;C++){var Y;if(!(Y=B[C]).removed)for(H=0;H<Y.count;H++){var U=x[Y.indices[H]],j=d.update(U,E);j!==F&&(P=z,j&&(P?cn(g,j,P):QR(g,j),z=j,P=null),F=j),D=N_(U),P?cn(F||g,D,P):QR(F||g,D),P=D||P,F||(z=P),a.markUsed(U),a.addWithoutUpdate(D,U),u.markUsed(U),u.addWithoutUpdate(D,U),d.markUsed(U),E=U}}a.removeUnused(),u.removeUnused(),d.removeUnused(),p.removeUnused(),this._visibleList=x},c.prototype.resize=function(s,a){var u=this._viewport;u.style.display="none";var d=this._opts;if(null!=s&&(d.width=s),null!=a&&(d.height=a),s=this._getSize(0),a=this._getSize(1),u.style.display="",this._width!==s||this._height!==a){this._width=s,this._height=a;var p=u.style;p.width=s+"px",p.height=a+"px";var g=this._svgDom;g.setAttribute("width",s+""),g.setAttribute("height",a+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",s),this._backgroundNode.setAttribute("height",a))},c.prototype.getWidth=function(){return this._width},c.prototype.getHeight=function(){return this._height},c.prototype._getSize=function(s){var a=this._opts,u=["width","height"][s],d=["clientWidth","clientHeight"][s],p=["paddingLeft","paddingTop"][s],g=["paddingRight","paddingBottom"][s];if(null!=a[u]&&"auto"!==a[u])return parseFloat(a[u]);var v=this.root,y=document.defaultView.getComputedStyle(v);return(v[d]||an(y[u])||an(v.style[u]))-(an(y[p])||0)-(an(y[g])||0)|0},c.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},c.prototype.clear=function(){var s=this._viewport;s&&s.parentNode&&s.parentNode.removeChild(s)},c.prototype.toDataURL=function(){this.refresh();var s=this._svgDom;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent((s.outerHTML||(s.parentNode&&s.parentNode).innerHTML).replace(/></g,">\n\r<"))},c}();function iC(c){return function(){ac('In SVG mode painter not support method "'+c+'"')}}function xn(){return!1}function Ul(c,s,a){var u=Js(),d=s.getWidth(),p=s.getHeight(),g=u.style;return g&&(g.position="absolute",g.left="0",g.top="0",g.width=d+"px",g.height=p+"px",u.setAttribute("data-zr-dom-id",c)),u.width=d*a,u.height=p*a,u}var j1=function(c){function s(a,u,d){var p,g=c.call(this)||this;g.motionBlur=!1,g.lastFrameAlpha=.7,g.dpr=1,g.virtual=!1,g.config={},g.incremental=!1,g.zlevel=0,g.maxRepaintRectCount=5,g.__dirty=!0,g.__firstTimePaint=!0,g.__used=!1,g.__drawIndex=0,g.__startIndex=0,g.__endIndex=0,g.__prevStartIndex=null,g.__prevEndIndex=null,d=d||d1,"string"==typeof a?p=Ul(a,u,d):rn(a)&&(a=(p=a).id),g.id=a,g.dom=p;var v=p.style;return v&&(p.onselectstart=xn,v.webkitUserSelect="none",v.userSelect="none",v.webkitTapHighlightColor="rgba(0,0,0,0)",v["-webkit-touch-callout"]="none",v.padding="0",v.margin="0",v.borderWidth="0"),g.domBack=null,g.ctxBack=null,g.painter=u,g.config=null,g.dpr=d,g}return Ee(s,c),s.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},s.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},s.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},s.prototype.setUnpainted=function(){this.__firstTimePaint=!0},s.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=Ul("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!==a&&this.ctxBack.scale(a,a)},s.prototype.createRepaintRects=function(a,u,d,p){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var g,v=[],y=this.maxRepaintRectCount,x=!1,C=new qn(0,0,0,0);function w(B){if(B.isFinite()&&!B.isZero())if(0===v.length)(H=new qn(0,0,0,0)).copy(B),v.push(H);else{for(var H,Y=!1,U=1/0,j=0,q=0;q<v.length;++q){var Q=v[q];if(Q.intersect(B)){var re=new qn(0,0,0,0);re.copy(Q),re.union(B),v[q]=re,Y=!0;break}if(x){C.copy(B),C.union(Q);var he=C.width*C.height-B.width*B.height-Q.width*Q.height;he<U&&(U=he,j=q)}}x&&(v[j].union(B),Y=!0),!Y&&((H=new qn(0,0,0,0)).copy(B),v.push(H)),x||(x=v.length>=y)}}for(var D=this.__startIndex;D<this.__endIndex;++D)if(k=a[D]){var P=k.shouldBePainted(d,p,!0,!0);(E=k.__isRendered&&(1&k.__dirty||!P)?k.getPrevPaintRect():null)&&w(E);var z=P&&(1&k.__dirty||!k.__isRendered)?k.getPaintRect():null;z&&w(z)}for(D=this.__prevStartIndex;D<this.__prevEndIndex;++D){var k,E;P=(k=u[D]).shouldBePainted(d,p,!0,!0),k&&(!P||!k.__zr)&&k.__isRendered&&(E=k.getPrevPaintRect())&&w(E)}do{for(g=!1,D=0;D<v.length;)if(v[D].isZero())v.splice(D,1);else{for(var F=D+1;F<v.length;)v[D].intersect(v[F])?(g=!0,v[D].union(v[F]),v.splice(F,1)):F++;D++}}while(g);return this._paintRects=v,v},s.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},s.prototype.resize=function(a,u){var d=this.dpr,p=this.dom,g=p.style,v=this.domBack;g&&(g.width=a+"px",g.height=u+"px"),p.width=a*d,p.height=u*d,v&&(v.width=a*d,v.height=u*d,1!==d&&this.ctxBack.scale(d,d))},s.prototype.clear=function(a,u,d){var p=this.dom,g=this.ctx,v=p.width,y=p.height;u=u||this.clearColor;var x=this.motionBlur&&!a,C=this.lastFrameAlpha,w=this.dpr,D=this;x&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(p,0,0,v/w,y/w));var P=this.domBack;function z(k,E,F,B){if(g.clearRect(k,E,F,B),u&&"transparent"!==u){var H=void 0;p2(u)?(H=u.__canvasGradient||_b(g,u,{x:0,y:0,width:F,height:B}),u.__canvasGradient=H):y3(u)&&(H=ee(g,u,{dirty:function(){D.setUnpainted(),D.__painter.refresh()}})),g.save(),g.fillStyle=H||u,g.fillRect(k,E,F,B),g.restore()}x&&(g.save(),g.globalAlpha=C,g.drawImage(P,k,E,F,B),g.restore())}!d||x?z(0,0,v,y):d.length&&fe(d,function(k){z(k.x*w,k.y*w,k.width*w,k.height*w)})},s}(Rs),Ky=314159;function LD(c){return parseInt(c,10)}var tN=function(){function c(s,a,u,d){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var p=!s.nodeName||"CANVAS"===s.nodeName.toUpperCase();this._opts=u=it({},u||{}),this.dpr=u.devicePixelRatio||d1,this._singleCanvas=p,this.root=s;var g=s.style;g&&(g.webkitTapHighlightColor="transparent",g.webkitUserSelect="none",g.userSelect="none",g["-webkit-touch-callout"]="none",s.innerHTML=""),this.storage=a;var v=this._zlevelList;this._prevDisplayList=[];var z,k,E,y=this._layers;if(p){var x=s,C=x.width,w=x.height;null!=u.width&&(C=u.width),null!=u.height&&(w=u.height),this.dpr=u.devicePixelRatio||1,x.width=C*this.dpr,x.height=w*this.dpr,this._width=C,this._height=w;var D=new j1(x,this,this.dpr);D.__builtin__=!0,D.initContext(),y[314159]=D,D.zlevel=Ky,v.push(Ky),this._domRoot=s}else{this._width=this._getSize(0),this._height=this._getSize(1);var P=this._domRoot=(z=this._width,k=this._height,(E=document.createElement("div")).style.cssText=["position:relative","width:"+z+"px","height:"+k+"px","padding:0","margin:0","border-width:0"].join(";")+";",E);s.appendChild(P)}}return c.prototype.getType=function(){return"canvas"},c.prototype.isSingleCanvas=function(){return this._singleCanvas},c.prototype.getViewportRoot=function(){return this._domRoot},c.prototype.getViewportRootOffset=function(){var s=this.getViewportRoot();if(s)return{offsetLeft:s.offsetLeft||0,offsetTop:s.offsetTop||0}},c.prototype.refresh=function(s){var a=this.storage.getDisplayList(!0),u=this._prevDisplayList,d=this._zlevelList;this._redrawId=Math.random(),this._paintList(a,u,s,this._redrawId);for(var p=0;p<d.length;p++){var v=this._layers[d[p]];!v.__builtin__&&v.refresh&&v.refresh(0===p?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=a.slice()),this},c.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},c.prototype._paintHoverList=function(s){var a=s.length,u=this._hoverlayer;if(u&&u.clear(),a){for(var d,p={inHover:!0,viewWidth:this._width,viewHeight:this._height},g=0;g<a;g++){var v=s[g];v.__inHover&&(u||(u=this._hoverlayer=this.getLayer(1e5)),d||(d=u.ctx).save(),yr(d,v,p,g===a-1))}d&&d.restore()}},c.prototype.getHoverLayer=function(){return this.getLayer(1e5)},c.prototype.paintOne=function(s,a){Dt(s,a)},c.prototype._paintList=function(s,a,u,d){if(this._redrawId===d){u=u||!1,this._updateLayerStatus(s);var p=this._doPaintList(s,a,u),g=p.finished,v=p.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),v&&this._paintHoverList(s),g)this.eachLayer(function(x){x.afterBrush&&x.afterBrush()});else{var y=this;qm(function(){y._paintList(s,a,u,d)})}}},c.prototype._compositeManually=function(){var s=this.getLayer(Ky).ctx,a=this._domRoot.width,u=this._domRoot.height;s.clearRect(0,0,a,u),this.eachBuiltinLayer(function(d){d.virtual&&s.drawImage(d.dom,0,0,a,u)})},c.prototype._doPaintList=function(s,a,u){for(var d=this,p=[],g=this._opts.useDirtyRect,v=0;v<this._zlevelList.length;v++){var x=this._layers[this._zlevelList[v]];x.__builtin__&&x!==this._hoverlayer&&(x.__dirty||u)&&p.push(x)}for(var C=!0,w=!1,D=function(k){var E,F=p[k],B=F.ctx,H=g&&F.createRepaintRects(s,a,P._width,P._height),Y=u?F.__startIndex:F.__drawIndex,U=!u&&F.incremental&&Date.now,j=U&&Date.now(),q=F.zlevel===P._zlevelList[0]?P._backgroundColor:null;if(F.__startIndex===F.__endIndex)F.clear(!1,q,H);else if(Y===F.__startIndex){var Q=s[Y];Q.incremental&&Q.notClear&&!u||F.clear(!1,q,H)}-1===Y&&(console.error("For some unknown reason. drawIndex is -1"),Y=F.__startIndex);var re=function(me){var _e={inHover:!1,allClipped:!1,prevEl:null,viewWidth:d._width,viewHeight:d._height};for(E=Y;E<F.__endIndex;E++){var be=s[E];if(be.__inHover&&(w=!0),d._doPaintEl(be,F,g,me,_e,E===F.__endIndex-1),U&&Date.now()-j>15)break}_e.prevElClipPaths&&B.restore()};if(H)if(0===H.length)E=F.__endIndex;else for(var oe=P.dpr,ae=0;ae<H.length;++ae){var he=H[ae];B.save(),B.beginPath(),B.rect(he.x*oe,he.y*oe,he.width*oe,he.height*oe),B.clip(),re(he),B.restore()}else B.save(),re(),B.restore();F.__drawIndex=E,F.__drawIndex<F.__endIndex&&(C=!1)},P=this,z=0;z<p.length;z++)D(z);return Pt.wxa&&fe(this._layers,function(k){k&&k.ctx&&k.ctx.draw&&k.ctx.draw()}),{finished:C,needsRefreshHover:w}},c.prototype._doPaintEl=function(s,a,u,d,p,g){var v=a.ctx;if(u){var y=s.getPaintRect();(!d||y&&y.intersect(d))&&(yr(v,s,p,g),s.setPrevPaintRect(y))}else yr(v,s,p,g)},c.prototype.getLayer=function(s,a){this._singleCanvas&&!this._needsManuallyCompositing&&(s=Ky);var u=this._layers[s];return u||((u=new j1("zr_"+s,this,this.dpr)).zlevel=s,u.__builtin__=!0,this._layerConfig[s]?Mn(u,this._layerConfig[s],!0):this._layerConfig[s-.01]&&Mn(u,this._layerConfig[s-.01],!0),a&&(u.virtual=a),this.insertLayer(s,u),u.initContext()),u},c.prototype.insertLayer=function(s,a){var C,u=this._layers,d=this._zlevelList,p=d.length,g=this._domRoot,v=null,y=-1;if(u[s])ac("ZLevel "+s+" has been used already");else if((C=a)&&(C.__builtin__||"function"==typeof C.resize&&"function"==typeof C.refresh)){if(p>0&&s>d[0]){for(y=0;y<p-1&&!(d[y]<s&&d[y+1]>s);y++);v=u[d[y]]}if(d.splice(y+1,0,s),u[s]=a,!a.virtual)if(v){var x=v.dom;x.nextSibling?g.insertBefore(a.dom,x.nextSibling):g.appendChild(a.dom)}else g.firstChild?g.insertBefore(a.dom,g.firstChild):g.appendChild(a.dom);a.__painter=this}else ac("Layer of zlevel "+s+" is not valid")},c.prototype.eachLayer=function(s,a){for(var u=this._zlevelList,d=0;d<u.length;d++){var p=u[d];s.call(a,this._layers[p],p)}},c.prototype.eachBuiltinLayer=function(s,a){for(var u=this._zlevelList,d=0;d<u.length;d++){var p=u[d],g=this._layers[p];g.__builtin__&&s.call(a,g,p)}},c.prototype.eachOtherLayer=function(s,a){for(var u=this._zlevelList,d=0;d<u.length;d++){var p=u[d],g=this._layers[p];g.__builtin__||s.call(a,g,p)}},c.prototype.getLayers=function(){return this._layers},c.prototype._updateLayerStatus=function(s){function a(w){g&&(g.__endIndex!==w&&(g.__dirty=!0),g.__endIndex=w)}if(this.eachBuiltinLayer(function(w,D){w.__dirty=w.__used=!1}),this._singleCanvas)for(var u=1;u<s.length;u++)if((y=s[u]).zlevel!==s[u-1].zlevel||y.incremental){this._needsManuallyCompositing=!0;break}var d,p,g=null,v=0;for(p=0;p<s.length;p++){var y,x=(y=s[p]).zlevel,C=void 0;d!==x&&(d=x,v=0),y.incremental?((C=this.getLayer(x+.001,this._needsManuallyCompositing)).incremental=!0,v=1):C=this.getLayer(x+(v>0?.01:0),this._needsManuallyCompositing),C.__builtin__||ac("ZLevel "+x+" has been used by unkown layer "+C.id),C!==g&&(C.__used=!0,C.__startIndex!==p&&(C.__dirty=!0),C.__startIndex=p,C.__drawIndex=C.incremental?-1:p,a(p),g=C),1&y.__dirty&&!y.__inHover&&(C.__dirty=!0,C.incremental&&C.__drawIndex<0&&(C.__drawIndex=p))}a(p),this.eachBuiltinLayer(function(w,D){!w.__used&&w.getElementCount()>0&&(w.__dirty=!0,w.__startIndex=w.__endIndex=w.__drawIndex=0),w.__dirty&&w.__drawIndex<0&&(w.__drawIndex=w.__startIndex)})},c.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},c.prototype._clearLayer=function(s){s.clear()},c.prototype.setBackgroundColor=function(s){this._backgroundColor=s,fe(this._layers,function(a){a.setUnpainted()})},c.prototype.configLayer=function(s,a){if(a){var u=this._layerConfig;u[s]?Mn(u[s],a,!0):u[s]=a;for(var d=0;d<this._zlevelList.length;d++){var p=this._zlevelList[d];(p===s||p===s+.01)&&Mn(this._layers[p],u[s],!0)}}},c.prototype.delLayer=function(s){var a=this._layers,u=this._zlevelList,d=a[s];d&&(d.dom.parentNode.removeChild(d.dom),delete a[s],u.splice(Gn(u,s),1))},c.prototype.resize=function(s,a){if(this._domRoot.style){var u=this._domRoot;u.style.display="none";var d=this._opts;if(null!=s&&(d.width=s),null!=a&&(d.height=a),s=this._getSize(0),a=this._getSize(1),u.style.display="",this._width!==s||a!==this._height){for(var p in u.style.width=s+"px",u.style.height=a+"px",this._layers)this._layers.hasOwnProperty(p)&&this._layers[p].resize(s,a);this.refresh(!0)}this._width=s,this._height=a}else{if(null==s||null==a)return;this._width=s,this._height=a,this.getLayer(Ky).resize(s,a)}return this},c.prototype.clearLayer=function(s){var a=this._layers[s];a&&a.clear()},c.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},c.prototype.getRenderedCanvas=function(s){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var a=new j1("image",this,(s=s||{}).pixelRatio||this.dpr);a.initContext(),a.clear(!1,s.backgroundColor||this._backgroundColor);var u=a.ctx;if(s.pixelRatio<=this.dpr){this.refresh();var d=a.dom.width,p=a.dom.height;this.eachLayer(function(w){w.__builtin__?u.drawImage(w.dom,0,0,d,p):w.renderToCanvas&&(u.save(),w.renderToCanvas(u),u.restore())})}else for(var g={inHover:!1,viewWidth:this._width,viewHeight:this._height},v=this.storage.getDisplayList(!0),y=0,x=v.length;y<x;y++)yr(u,v[y],g,y===x-1);return a.dom},c.prototype.getWidth=function(){return this._width},c.prototype.getHeight=function(){return this._height},c.prototype._getSize=function(s){var a=this._opts,u=["width","height"][s],d=["clientWidth","clientHeight"][s],p=["paddingLeft","paddingTop"][s],g=["paddingRight","paddingBottom"][s];if(null!=a[u]&&"auto"!==a[u])return parseFloat(a[u]);var v=this.root,y=document.defaultView.getComputedStyle(v);return(v[d]||LD(y[u])||LD(v.style[u]))-(LD(y[p])||0)-(LD(y[g])||0)|0},c.prototype.pathToImage=function(s,a){a=a||this.dpr;var u=document.createElement("canvas"),d=u.getContext("2d"),p=s.getBoundingRect(),g=s.style,v=g.shadowBlur*a,y=g.shadowOffsetX*a,x=g.shadowOffsetY*a,C=s.hasStroke()?g.lineWidth:0,w=Math.max(C/2,-y+v),D=Math.max(C/2,y+v),P=Math.max(C/2,-x+v),z=Math.max(C/2,x+v),k=p.width+w+D,E=p.height+P+z;u.width=k*a,u.height=E*a,d.scale(a,a),d.clearRect(0,0,k,E),d.dpr=a;var F={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY,rotation:s.rotation,originX:s.originX,originY:s.originY};s.x=w-p.x,s.y=P-p.y,s.rotation=0,s.scaleX=1,s.scaleY=1,s.updateTransform(),s&&yr(d,s,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var B=new Qo({style:{x:0,y:0,image:u}});return it(s,F),B},c}(),nN=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.hasSymbolVisual=!0,a}return Ee(s,c),s.prototype.getInitialData=function(a){return Uc(null,this,{useEncodeDefaulter:!0})},s.prototype.getLegendIcon=function(a){var u=new Xt,d=da("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);u.add(d),d.setStyle(a.lineStyle);var p=this.getData().getVisual("symbol"),g=this.getData().getVisual("symbolRotate"),v="none"===p?"circle":p,y=.8*a.itemHeight,x=da(v,(a.itemWidth-y)/2,(a.itemHeight-y)/2,y,y,a.itemStyle.fill);return u.add(x),x.setStyle(a.itemStyle),x.rotation=("inherit"===a.iconRotate?g:a.iconRotate||0)*Math.PI/180,x.setOrigin([a.itemWidth/2,a.itemHeight/2]),v.indexOf("empty")>-1&&(x.style.stroke=x.style.fill,x.style.fill="#fff",x.style.lineWidth=2),u},s.type="series.line",s.dependencies=["grid","polar"],s.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},s}(Fr);function zf(c,s){var a=c.mapDimensionsAll("defaultedLabel"),u=a.length;if(1===u){var d=de(c,s,a[0]);return null!=d?d+"":null}if(u){for(var p=[],g=0;g<a.length;g++)p.push(de(c,s,a[g]));return p.join(" ")}}function iN(c,s){var a=c.mapDimensionsAll("defaultedLabel");if(!at(s))return s+"";for(var u=[],d=0;d<a.length;d++){var p=c.getDimensionIndex(a[d]);p>=0&&u.push(s[p])}return u.join(" ")}var j0=function(c){function s(a,u,d,p){var g=c.call(this)||this;return g.updateData(a,u,d,p),g}return Ee(s,c),s.prototype._createSymbol=function(a,u,d,p,g){this.removeAll();var v=da(a,-1,-1,2,2,null,g);v.attr({z2:100,culling:!0,scaleX:p[0]/2,scaleY:p[1]/2}),v.drift=kq,this._symbolType=a,this.add(v)},s.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},s.prototype.getSymbolType=function(){return this._symbolType},s.prototype.getSymbolPath=function(){return this.childAt(0)},s.prototype.highlight=function(){ad(this.childAt(0))},s.prototype.downplay=function(){Wp(this.childAt(0))},s.prototype.setZ=function(a,u){var d=this.childAt(0);d.zlevel=a,d.z=u},s.prototype.setDraggable=function(a){var u=this.childAt(0);u.draggable=a,u.cursor=a?"move":u.cursor},s.prototype.updateData=function(a,u,d,p){this.silent=!1;var g=a.getItemVisual(u,"symbol")||"circle",v=a.hostModel,y=s.getSymbolSize(a,u),x=g!==this._symbolType,C=p&&p.disableAnimation;if(x){var w=a.getItemVisual(u,"symbolKeepAspect");this._createSymbol(g,a,u,y,w)}else{(P=this.childAt(0)).silent=!1;var D={scaleX:y[0]/2,scaleY:y[1]/2};C?P.attr(D):Ti(P,D,v,u),ld(P)}if(this._updateCommon(a,u,y,d,p),x){var P=this.childAt(0);C||(D={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:P.style.opacity}},P.scaleX=P.scaleY=0,P.style.opacity=0,to(P,D,v,u))}C&&this.childAt(0).stopAnimation("remove"),this._seriesModel=v},s.prototype._updateCommon=function(a,u,d,p,g){var v,y,x,C,w,D,P,z,k=this.childAt(0),E=a.hostModel;if(p&&(v=p.emphasisItemStyle,y=p.blurItemStyle,x=p.selectItemStyle,C=p.focus,w=p.blurScope,D=p.labelStatesModels,P=p.hoverScale,z=p.cursorStyle),!p||a.hasItemOption){var F=p&&p.itemModel?p.itemModel:a.getItemModel(u),B=F.getModel("emphasis");v=B.getModel("itemStyle").getItemStyle(),x=F.getModel(["select","itemStyle"]).getItemStyle(),y=F.getModel(["blur","itemStyle"]).getItemStyle(),C=B.get("focus"),w=B.get("blurScope"),D=Hs(F),P=B.getShallow("scale"),z=F.getShallow("cursor")}var H=a.getItemVisual(u,"symbolRotate");k.attr("rotation",(H||0)*Math.PI/180||0);var Y=L0(a.getItemVisual(u,"symbolOffset"),d);Y&&(k.x=Y[0],k.y=Y[1]),z&&k.attr("cursor",z);var U=a.getItemVisual(u,"style"),j=U.fill;if(k instanceof Qo){var q=k.style;k.useStyle(it({image:q.image,x:q.x,y:q.y,width:q.width,height:q.height},U))}else k.useStyle(k.__isEmptyBrush?it({},U):U),k.style.decal=null,k.setColor(j,g&&g.symbolInnerColor),k.style.strokeNoScale=!0;var Q=a.getItemVisual(u,"liftZ"),re=this._z2;null!=Q?null==re&&(this._z2=k.z2,k.z2+=Q):null!=re&&(k.z2=re,this._z2=null);var oe=g&&g.useNameLabel;Vl(k,D,{labelFetcher:E,labelDataIndex:u,defaultText:function(me){return oe?a.getName(me):zf(a,me)},inheritColor:j,defaultOpacity:U.opacity}),this._sizeX=d[0]/2,this._sizeY=d[1]/2;var ae=k.ensureState("emphasis");if(ae.style=v,k.ensureState("select").style=x,k.ensureState("blur").style=y,P){var he=Math.max(1.1,3/this._sizeY);ae.scaleX=this._sizeX*he,ae.scaleY=this._sizeY*he}this.setSymbolScale(1),eo(this,C,w)},s.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},s.prototype.fadeOut=function(a,u){var d=this.childAt(0),p=this._seriesModel,g=Pn(this).dataIndex,v=u&&u.animation;if(this.silent=d.silent=!0,u&&u.fadeLabel){var y=d.getTextContent();y&&Ch(y,{style:{opacity:0}},p,{dataIndex:g,removeOpt:v,cb:function(){d.removeTextContent()}})}else d.removeTextContent();Ch(d,{style:{opacity:0},scaleX:0,scaleY:0},p,{dataIndex:g,cb:a,removeOpt:v})},s.getSymbolSize=function(a,u){return x_(a.getItemVisual(u,"symbolSize"))},s}(Xt);function kq(c,s){this.parent.drift(c,s)}function rC(c,s,a,u){return s&&!isNaN(s[0])&&!isNaN(s[1])&&!(u.isIgnore&&u.isIgnore(a))&&!(u.clipShape&&!u.clipShape.contain(s[0],s[1]))&&"none"!==c.getItemVisual(a,"symbol")}function rN(c){return null==c||rn(c)||(c={isIgnore:c}),c||{}}function oN(c){var s=c.hostModel,a=s.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:s.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:s.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),hoverScale:a.get("scale"),labelStatesModels:Hs(s),cursorStyle:s.get("cursor")}}var Qy=function(){function c(s){this.group=new Xt,this._SymbolCtor=s||j0}return c.prototype.updateData=function(s,a){a=rN(a);var u=this.group,d=s.hostModel,p=this._data,g=this._SymbolCtor,v=a.disableAnimation,y=oN(s),x={disableAnimation:v},C=a.getSymbolPoint||function(w){return s.getItemLayout(w)};p||u.removeAll(),s.diff(p).add(function(w){var D=C(w);if(rC(s,D,w,a)){var P=new g(s,w,y,x);P.setPosition(D),s.setItemGraphicEl(w,P),u.add(P)}}).update(function(w,D){var P=p.getItemGraphicEl(D),z=C(w);if(rC(s,z,w,a)){var k=s.getItemVisual(w,"symbol")||"circle",E=P&&P.getSymbolType&&P.getSymbolType();if(!P||E&&E!==k)u.remove(P),(P=new g(s,w,y,x)).setPosition(z);else{P.updateData(s,w,y,x);var F={x:z[0],y:z[1]};v?P.attr(F):Ti(P,F,d)}u.add(P),s.setItemGraphicEl(w,P)}else u.remove(P)}).remove(function(w){var D=p.getItemGraphicEl(w);D&&D.fadeOut(function(){u.remove(D)})}).execute(),this._getSymbolPoint=C,this._data=s},c.prototype.isPersistent=function(){return!0},c.prototype.updateLayout=function(){var s=this,a=this._data;a&&a.eachItemGraphicEl(function(u,d){var p=s._getSymbolPoint(d);u.setPosition(p),u.markRedraw()})},c.prototype.incrementalPrepareUpdate=function(s){this._seriesScope=oN(s),this._data=null,this.group.removeAll()},c.prototype.incrementalUpdate=function(s,a,u){function d(y){y.isGroup||(y.incremental=!0,y.ensureState("emphasis").hoverLayer=!0)}u=rN(u);for(var p=s.start;p<s.end;p++){var g=a.getItemLayout(p);if(rC(a,g,p,u)){var v=new this._SymbolCtor(a,p,this._seriesScope);v.traverse(d),v.setPosition(g),this.group.add(v),a.setItemGraphicEl(p,v)}}},c.prototype.remove=function(s){var a=this.group,u=this._data;u&&s?u.eachItemGraphicEl(function(d){d.fadeOut(function(){a.remove(d)})}):a.removeAll()},c}();function oC(c,s,a){var k,E,F,u=c.getBaseAxis(),d=c.getOtherAxis(u),p=(k=a,E=0,F=d.scale.getExtent(),"start"===k?E=F[0]:"end"===k?E=F[1]:F[0]>0?E=F[0]:F[1]<0&&(E=F[1]),E),g=u.dim,v=d.dim,y=s.mapDimension(v),x=s.mapDimension(g),C="x"===v||"radius"===v?1:0,w=tt(c.dimensions,function(z){return s.mapDimension(z)}),D=!1,P=s.getCalculationInfo("stackResultDimension");return Pf(s,w[0])&&(D=!0,w[0]=P),Pf(s,w[1])&&(D=!0,w[1]=P),{dataDimsForPoint:w,valueStart:p,valueAxisDim:v,baseAxisDim:g,stacked:!!D,valueDim:y,baseDim:x,baseDataOffset:C,stackedOverDimension:s.getCalculationInfo("stackedOverDimension")}}function RD(c,s,a,u){var d=NaN;c.stacked&&(d=a.get(a.getCalculationInfo("stackedOverDimension"),u)),isNaN(d)&&(d=c.valueStart);var p=c.baseDataOffset,g=[];return g[p]=a.get(c.baseDim,u),g[1-p]=d,s.dataToPoint(g)}var ND=typeof Float32Array<"u",aC=ND?Float32Array:Array;function $1(c){return at(c)?ND?new Float32Array(c):c:new aC(c)}var $0=Math.min,cg=Math.max;function X0(c,s){return isNaN(c)||isNaN(s)}function sC(c,s,a,u,d,p,g,v,y){for(var x,C,w,D,P,z,k=a,E=0;E<u;E++){var F=s[2*k],B=s[2*k+1];if(k>=d||k<0)break;if(X0(F,B)){if(y){k+=p;continue}break}if(k===a)c[p>0?"moveTo":"lineTo"](F,B),w=F,D=B;else{var H=F-x,Y=B-C;if(H*H+Y*Y<.5){k+=p;continue}if(g>0){for(var U=k+p,j=s[2*U],q=s[2*U+1];j===F&&q===B&&E<u;)E++,j=s[2*(U+=p)],q=s[2*U+1],H=(F=s[2*(k+=p)])-x,Y=(B=s[2*k+1])-C;var Q=E+1;if(y)for(;X0(j,q)&&Q<u;)Q++,j=s[2*(U+=p)],q=s[2*U+1];var re=.5,oe=0,ae=0,he=void 0,me=void 0;if(Q>=u||X0(j,q))P=F,z=B;else{oe=j-x,ae=q-C;var _e=F-x,be=j-F,we=B-C,Te=q-B,Me=void 0,Ae=void 0;"x"===v?(Me=Math.abs(_e),Ae=Math.abs(be),P=F-Me*g,z=B,he=F+Me*g,me=B):"y"===v?(Me=Math.abs(we),Ae=Math.abs(Te),P=F,z=B-Me*g,he=F,me=B+Me*g):(Me=Math.sqrt(_e*_e+we*we),P=F-oe*g*(1-(re=(Ae=Math.sqrt(be*be+Te*Te))/(Ae+Me))),z=B-ae*g*(1-re),me=B+ae*g*re,he=$0(he=F+oe*g*re,cg(j,F)),me=$0(me,cg(q,B)),he=cg(he,$0(j,F)),z=B-(ae=(me=cg(me,$0(q,B)))-B)*Me/Ae,P=$0(P=F-(oe=he-F)*Me/Ae,cg(x,F)),z=$0(z,cg(C,B)),he=F+(oe=F-(P=cg(P,$0(x,F))))*Ae/Me,me=B+(ae=B-(z=cg(z,$0(C,B))))*Ae/Me)}c.bezierCurveTo(w,D,P,z,F,B),w=he,D=me}else c.lineTo(F,B)}x=F,C=B,k+=p}return E}var q0=function(){this.smooth=0,this.smoothConstraint=!0},Oq=function(c){function s(a){var u=c.call(this,a)||this;return u.type="ec-polyline",u}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new q0},s.prototype.buildPath=function(a,u){var d=u.points,p=0,g=d.length/2;if(u.connectNulls){for(;g>0&&X0(d[2*g-2],d[2*g-1]);g--);for(;p<g&&X0(d[2*p],d[2*p+1]);p++);}for(;p<g;)p+=sC(a,d,p,g,g,1,u.smooth,u.smoothMonotone,u.connectNulls)+1},s.prototype.getPointOn=function(a,u){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var d,p,g=this.path.data,v=Nr.CMD,y="x"===u,x=[],C=0;C<g.length;){var w=void 0,D=void 0,P=void 0,z=void 0,k=void 0,E=void 0,F=void 0;switch(g[C++]){case v.M:d=g[C++],p=g[C++];break;case v.L:if(w=g[C++],D=g[C++],(F=y?(a-d)/(w-d):(a-p)/(D-p))<=1&&F>=0){var B=y?(D-p)*F+p:(w-d)*F+d;return y?[a,B]:[B,a]}d=w,p=D;break;case v.C:w=g[C++],D=g[C++],P=g[C++],z=g[C++],k=g[C++],E=g[C++];var H=y?y1(d,w,P,k,a,x):y1(p,D,z,E,a,x);if(H>0)for(var Y=0;Y<H;Y++){var U=x[Y];if(U<=1&&U>=0)return B=y?Ho(p,D,z,E,U):Ho(d,w,P,k,U),y?[a,B]:[B,a]}d=k,p=E}}},s}(pi),aN=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s}(q0),lC=function(c){function s(a){var u=c.call(this,a)||this;return u.type="ec-polygon",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new aN},s.prototype.buildPath=function(a,u){var d=u.points,p=u.stackedOnPoints,g=0,v=d.length/2,y=u.smoothMonotone;if(u.connectNulls){for(;v>0&&X0(d[2*v-2],d[2*v-1]);v--);for(;g<v&&X0(d[2*g],d[2*g+1]);g++);}for(;g<v;){var x=sC(a,d,g,v,v,1,u.smooth,y,u.connectNulls);sC(a,p,g+x-1,x,v,-1,u.stackedOnSmooth,y,u.connectNulls),g+=x+1,a.closePath()}},s}(pi);function Eq(c,s,a,u,d){var p=c.getArea(),g=p.x,v=p.y,y=p.width,x=p.height,C=a.get(["lineStyle","width"])||2;g-=C/2,v-=C/2,y+=C,x+=C,g=Math.floor(g),y=Math.round(y);var w=new gi({shape:{x:g,y:v,width:y,height:x}});if(s){var D=c.getBaseAxis(),P=D.isHorizontal(),z=D.inverse;P?(z&&(w.shape.x+=y),w.shape.width=0):(z||(w.shape.y+=x),w.shape.height=0),to(w,{shape:{width:y,height:x,x:g,y:v}},a,null,u,"function"==typeof d?function(k){d(k,w)}:null)}return w}function sN(c,s,a){var u=c.getArea(),d=Ma(u.r0,1),p=Ma(u.r,1),g=new hl({shape:{cx:Ma(c.cx,1),cy:Ma(c.cy,1),r0:d,r:p,startAngle:u.startAngle,endAngle:u.endAngle,clockwise:u.clockwise}});return s&&("angle"===c.getBaseAxis().dim?g.shape.endAngle=u.startAngle:g.shape.r=d,to(g,{shape:{endAngle:u.endAngle,r:p}},a)),g}function FD(c,s,a,u,d){return c?"polar"===c.type?sN(c,s,a):"cartesian2d"===c.type?Eq(c,s,a,u,d):null:null}function ug(c,s){return c.type===s}function lN(c,s){if(c.length===s.length){for(var a=0;a<c.length;a++)if(c[a]!==s[a])return;return!0}}function cN(c){for(var s=1/0,a=1/0,u=-1/0,d=-1/0,p=0;p<c.length;){var g=c[p++],v=c[p++];isNaN(g)||(s=Math.min(g,s),u=Math.max(g,u)),isNaN(v)||(a=Math.min(v,a),d=Math.max(v,d))}return[[s,a],[u,d]]}function BD(c,s){var a=cN(c),u=a[0],d=a[1],p=cN(s),g=p[0],v=p[1];return Math.max(Math.abs(u[0]-g[0]),Math.abs(u[1]-g[1]),Math.abs(d[0]-v[0]),Math.abs(d[1]-v[1]))}function VD(c){return"number"==typeof c?c:c?.5:0}function X1(c,s,a){for(var u=s.getBaseAxis(),d="x"===u.dim||"radius"===u.dim?0:1,p=[],g=0,v=[],y=[],x=[];g<c.length-2;g+=2)switch(x[0]=c[g+2],x[1]=c[g+3],y[0]=c[g],y[1]=c[g+1],p.push(y[0],y[1]),a){case"end":v[d]=x[d],v[1-d]=y[1-d],p.push(v[0],v[1]);break;case"middle":var w=[];v[d]=w[d]=(y[d]+x[d])/2,v[1-d]=y[1-d],w[1-d]=x[1-d],p.push(v[0],v[1]),p.push(w[0],w[1]);break;default:v[d]=y[d],v[1-d]=x[1-d],p.push(v[0],v[1])}return p.push(c[g++],c[g++]),p}function dN(c,s){return[c[2*s],c[2*s+1]]}function fN(c){if(c.get(["endLabel","show"]))return!0;for(var s=0;s<Fs.length;s++)if(c.get([Fs[s],"endLabel","show"]))return!0;return!1}function cC(c,s,a,u){if(ug(s,"cartesian2d")){var d=u.getModel("endLabel"),p=d.get("valueAnimation"),g=u.getData(),v={lastFrameIndex:0},y=fN(u)?function(P,z){c._endLabelOnDuring(P,z,g,v,p,d,s)}:null,x=s.getBaseAxis().isHorizontal(),C=Eq(s,a,u,function(){var P=c._endLabel;P&&a&&null!=v.originalX&&P.attr({x:v.originalX,y:v.originalY})},y);if(!u.get("clip",!0)){var w=C.shape,D=Math.max(w.width,w.height);x?(w.y-=D,w.height+=2*D):(w.x-=D,w.width+=2*D)}return y&&y(1,C),C}return sN(s,a,u)}var Iq=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.init=function(){var a=new Xt,u=new Qy;this.group.add(u.group),this._symbolDraw=u,this._lineGroup=a},s.prototype.render=function(a,u,d){var p=this,g=a.coordinateSystem,v=this.group,y=a.getData(),x=a.getModel("lineStyle"),C=a.getModel("areaStyle"),w=y.getLayout("points")||[],D="polar"===g.type,P=this._coordSys,z=this._symbolDraw,k=this._polyline,E=this._polygon,F=this._lineGroup,B=a.get("animation"),H=!C.isEmpty(),Y=C.get("origin"),U=oC(g,y,Y),j=H&&function(qe,ft,$e){if(!$e.valueDim)return[];for(var ot=ft.count(),bt=$1(2*ot),gt=0;gt<ot;gt++){var vt=RD($e,qe,ft,gt);bt[2*gt]=vt[0],bt[2*gt+1]=vt[1]}return bt}(g,y,U),q=a.get("showSymbol"),Q=q&&!D&&function hN(c,s,a){var u=c.get("showAllSymbol"),d="auto"===u;if(!u||d){var p=a.getAxesByScale("ordinal")[0];if(p&&(!d||!function(y,x){var C=y.getExtent(),w=Math.abs(C[1]-C[0])/y.scale.count();isNaN(w)&&(w=0);for(var D=x.count(),P=Math.max(1,Math.round(D/5)),z=0;z<D;z+=P)if(1.5*j0.getSymbolSize(x,z)[y.isHorizontal()?1:0]>w)return!1;return!0}(p,s))){var g=s.mapDimension(p.dim),v={};return fe(p.getViewLabels(),function(y){var x=p.scale.getRawOrdinalNumber(y.tickValue);v[x]=1}),function(y){return!v.hasOwnProperty(s.get(g,y))}}}}(a,y,g),re=this._data;re&&re.eachItemGraphicEl(function(qe,ft){qe.__temp&&(v.remove(qe),re.setItemGraphicEl(ft,null))}),q||z.remove(),v.add(F);var oe,ae=!D&&a.get("step");g&&g.getArea&&a.get("clip",!0)&&(null!=(oe=g.getArea()).width?(oe.x-=.1,oe.y-=.1,oe.width+=.2,oe.height+=.2):oe.r0&&(oe.r0-=.5,oe.r+=.5)),this._clipShapeForSymbol=oe;var he=function uN(c,s,a){var u=c.getVisual("visualMeta");if(u&&u.length&&c.count()&&"cartesian2d"===s.type){for(var d,p,g=u.length-1;g>=0;g--){var v=c.getDimensionInfo(u[g].dimension);if("x"===(d=v&&v.coordDim)||"y"===d){p=u[g];break}}if(p){var y=s.getAxis(d),x=tt(p.stops,function(B){return{coord:y.toGlobalCoord(y.dataToCoord(B.value)),color:B.color}}),C=x.length,w=p.outerColors.slice();C&&x[0].coord>x[C-1].coord&&(x.reverse(),w.reverse());var D=function(B,H){var Y,U,j=[],q=B.length;function Q(he,me,_e){var be=he.coord;return{coord:_e,color:qd((_e-be)/(me.coord-be),[he.color,me.color])}}for(var re=0;re<q;re++){var oe=B[re],ae=oe.coord;if(ae<0)Y=oe;else{if(ae>H){U?j.push(Q(U,oe,H)):Y&&j.push(Q(Y,oe,0),Q(Y,oe,H));break}Y&&(j.push(Q(Y,oe,0)),Y=null),j.push(oe),U=oe}}return j}(x,"x"===d?a.getWidth():a.getHeight()),P=D.length;if(!P&&C)return x[0].coord<0?w[1]?w[1]:x[C-1].color:w[0]?w[0]:x[0].color;var z=D[0].coord-10,k=D[P-1].coord+10,E=k-z;if(E<.001)return"transparent";fe(D,function(B){B.offset=(B.coord-z)/E}),D.push({offset:P?D[P-1].offset:.5,color:w[1]||"transparent"}),D.unshift({offset:P?D[0].offset:.5,color:w[0]||"transparent"});var F=new $2(0,0,0,0,D,!0);return F[d]=z,F[d+"2"]=k,F}}}(y,g,d)||y.getVisual("style")[y.getVisual("drawType")];if(k&&P.type===g.type&&ae===this._step){H&&!E?E=this._newPolygon(w,j):E&&!H&&(F.remove(E),E=this._polygon=null),D||this._initOrUpdateEndLabel(a,g,Zp(he));var me=F.getClipPath();me?to(me,{shape:cC(this,g,!1,a).shape},a):F.setClipPath(cC(this,g,!0,a)),q&&z.updateData(y,{isIgnore:Q,clipShape:oe,disableAnimation:!0,getSymbolPoint:function(qe){return[w[2*qe],w[2*qe+1]]}}),lN(this._stackedOnPoints,j)&&lN(this._points,w)||(B?this._doUpdateAnimation(y,j,g,d,ae,Y):(ae&&(w=X1(w,g,ae),j&&(j=X1(j,g,ae))),k.setShape({points:w}),E&&E.setShape({points:w,stackedOnPoints:j})))}else q&&z.updateData(y,{isIgnore:Q,clipShape:oe,disableAnimation:!0,getSymbolPoint:function(qe){return[w[2*qe],w[2*qe+1]]}}),B&&this._initSymbolLabelAnimation(y,g,oe),ae&&(w=X1(w,g,ae),j&&(j=X1(j,g,ae))),k=this._newPolyline(w),H&&(E=this._newPolygon(w,j)),D||this._initOrUpdateEndLabel(a,g,Zp(he)),F.setClipPath(cC(this,g,!0,a));var _e=a.get(["emphasis","focus"]),be=a.get(["emphasis","blurScope"]);k.useStyle(jt(x.getLineStyle(),{fill:"none",stroke:he,lineJoin:"bevel"})),ys(k,a,"lineStyle"),k.style.lineWidth>0&&"bolder"===a.get(["emphasis","lineStyle","width"])&&(k.getState("emphasis").style.lineWidth=+k.style.lineWidth+1),Pn(k).seriesIndex=a.seriesIndex,eo(k,_e,be);var we=VD(a.get("smooth")),Te=a.get("smoothMonotone"),Me=a.get("connectNulls");if(k.setShape({smooth:we,smoothMonotone:Te,connectNulls:Me}),E){var Ae=y.getCalculationInfo("stackedOnSeries"),Ie=0;E.useStyle(jt(C.getAreaStyle(),{fill:he,opacity:.7,lineJoin:"bevel",decal:y.getVisual("style").decal})),Ae&&(Ie=VD(Ae.get("smooth"))),E.setShape({smooth:we,stackedOnSmooth:Ie,smoothMonotone:Te,connectNulls:Me}),ys(E,a,"areaStyle"),Pn(E).seriesIndex=a.seriesIndex,eo(E,_e,be)}var Ue=function(qe){p._changePolyState(qe)};y.eachItemGraphicEl(function(qe){qe&&(qe.onHoverStateChange=Ue)}),this._polyline.onHoverStateChange=Ue,this._data=y,this._coordSys=g,this._stackedOnPoints=j,this._points=w,this._step=ae,this._valueOrigin=Y,a.get("triggerLineEvent")&&(this.packEventData(a,k),E&&this.packEventData(a,E))},s.prototype.packEventData=function(a,u){Pn(u).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},s.prototype.highlight=function(a,u,d,p){var g=a.getData(),v=tf(g,p);if(this._changePolyState("emphasis"),!(v instanceof Array)&&null!=v&&v>=0){var y=g.getLayout("points"),x=g.getItemGraphicEl(v);if(!x){var C=y[2*v],w=y[2*v+1];if(isNaN(C)||isNaN(w)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(C,w))return;var D=a.get("zlevel"),P=a.get("z");(x=new j0(g,v)).x=C,x.y=w,x.setZ(D,P);var z=x.getSymbolPath().getTextContent();z&&(z.zlevel=D,z.z=P,z.z2=this._polyline.z2+1),x.__temp=!0,g.setItemGraphicEl(v,x),x.stopSymbolAnimation(!0),this.group.add(x)}x.highlight()}else dr.prototype.highlight.call(this,a,u,d,p)},s.prototype.downplay=function(a,u,d,p){var g=a.getData(),v=tf(g,p);if(this._changePolyState("normal"),null!=v&&v>=0){var y=g.getItemGraphicEl(v);y&&(y.__temp?(g.setItemGraphicEl(v,null),this.group.remove(y)):y.downplay())}else dr.prototype.downplay.call(this,a,u,d,p)},s.prototype._changePolyState=function(a){var u=this._polygon;P5(this._polyline,a),u&&P5(u,a)},s.prototype._newPolyline=function(a){var u=this._polyline;return u&&this._lineGroup.remove(u),u=new Oq({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(u),this._polyline=u,u},s.prototype._newPolygon=function(a,u){var d=this._polygon;return d&&this._lineGroup.remove(d),d=new lC({shape:{points:a,stackedOnPoints:u},segmentIgnoreThreshold:2}),this._lineGroup.add(d),this._polygon=d,d},s.prototype._initSymbolLabelAnimation=function(a,u,d){var p,g,v=u.getBaseAxis(),y=v.inverse;"cartesian2d"===u.type?(p=v.isHorizontal(),g=!1):"polar"===u.type&&(p="angle"===v.dim,g=!0);var x=a.hostModel,C=x.get("animationDuration");"function"==typeof C&&(C=C(null));var w=x.get("animationDelay")||0,D="function"==typeof w?w(null):w;a.eachItemGraphicEl(function(P,z){var k=P;if(k){var F=void 0,B=void 0,H=void 0;if(d)if(g){var Y=d,U=u.pointToCoord([P.x,P.y]);p?(F=Y.startAngle,B=Y.endAngle,H=-U[1]/180*Math.PI):(F=Y.r0,B=Y.r,H=U[0])}else p?(F=d.x,B=d.x+d.width,H=P.x):(F=d.y+d.height,B=d.y,H=P.y);var q=B===F?0:(H-F)/(B-F);y&&(q=1-q);var Q="function"==typeof w?w(z):C*q+D,re=k.getSymbolPath(),oe=re.getTextContent();k.attr({scaleX:0,scaleY:0}),k.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Q}),oe&&oe.animateFrom({style:{opacity:0}},{duration:300,delay:Q}),re.disableLabelAnimation=!0}})},s.prototype._initOrUpdateEndLabel=function(a,u,d){var C,D,P,z,k,E,p=a.getModel("endLabel");if(fN(a)){var g=a.getData(),v=this._polyline,y=this._endLabel;y||((y=this._endLabel=new Ni({z2:200})).ignoreClip=!0,v.setTextContent(this._endLabel),v.disableLabelAnimation=!0);var x=function(C){for(var D,P=C.length/2;P>0&&(D=C[2*P-1],isNaN(C[2*P-2])||isNaN(D));P--);return P-1}(g.getLayout("points"));x>=0&&(Vl(v,Hs(a,"endLabel"),{inheritColor:d,labelFetcher:a,labelDataIndex:x,defaultText:function(C,w,D){return null!=D?iN(g,D):zf(g,C)},enableTextSetter:!0},(C=p,P=(D=u.getBaseAxis()).isHorizontal(),z=D.inverse,k=P?z?"right":"left":"center",E=P?"middle":z?"top":"bottom",{normal:{align:C.get("align")||k,verticalAlign:C.get("verticalAlign")||E}})),v.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},s.prototype._endLabelOnDuring=function(a,u,d,p,g,v,y){var x=this._endLabel,C=this._polyline;if(x){a<1&&null==p.originalX&&(p.originalX=x.x,p.originalY=x.y);var w=d.getLayout("points"),D=d.hostModel,P=D.get("connectNulls"),z=v.get("precision"),k=v.get("distance")||0,E=y.getBaseAxis(),F=E.isHorizontal(),B=E.inverse,H=u.shape,Y=B?F?H.x:H.y+H.height:F?H.x+H.width:H.y,U=(F?k:0)*(B?-1:1),j=(F?0:-k)*(B?-1:1),q=F?"x":"y",Q=function(we,Te,Me){for(var Ae,Ie,Ue=we.length/2,qe="x"===Me?0:1,ft=0,$e=-1,ot=0;ot<Ue;ot++)if(Ie=we[2*ot+qe],!isNaN(Ie)&&!isNaN(we[2*ot+1-qe]))if(0!==ot){if(Ae<=Te&&Ie>=Te||Ae>=Te&&Ie<=Te){$e=ot;break}ft=ot,Ae=Ie}else Ae=Ie;return{range:[ft,$e],t:(Te-Ae)/(Ie-Ae)}}(w,Y,q),re=Q.range,oe=re[1]-re[0],ae=void 0;if(oe>=1){if(oe>1&&!P){var he=dN(w,re[0]);x.attr({x:he[0]+U,y:he[1]+j}),g&&(ae=D.getRawValue(re[0]))}else{(he=C.getPointOn(Y,q))&&x.attr({x:he[0]+U,y:he[1]+j});var me=D.getRawValue(re[0]),_e=D.getRawValue(re[1]);g&&(ae=eI(d,z,me,_e,Q.t))}p.lastFrameIndex=re[0]}else{var be=1===a||p.lastFrameIndex>0?re[0]:0;he=dN(w,be),g&&(ae=D.getRawValue(be)),x.attr({x:he[0]+U,y:he[1]+j})}g&&Nc(x).setLabelText(ae)}},s.prototype._doUpdateAnimation=function(a,u,d,p,g,v){var y=this._polyline,x=this._polygon,C=a.hostModel,w=function(U,j,q,Q,re,oe,ae,he){for(var me=function(On,ga){var ta=[];return ga.diff(On).add(function(co){ta.push({cmd:"+",idx:co})}).update(function(co,Xl){ta.push({cmd:"=",idx:Xl,idx1:co})}).remove(function(co){ta.push({cmd:"-",idx:co})}).execute(),ta}(U,j),_e=[],be=[],we=[],Te=[],Me=[],Ae=[],Ie=[],Ue=oC(re,j,ae),qe=U.getLayout("points")||[],ft=j.getLayout("points")||[],$e=0;$e<me.length;$e++){var ot=me[$e],bt=!0,gt=void 0,vt=void 0;switch(ot.cmd){case"=":var kt=qe[gt=2*ot.idx],Rt=qe[gt+1],dn=ft[vt=2*ot.idx1],ln=ft[vt+1];(isNaN(kt)||isNaN(Rt))&&(kt=dn,Rt=ln),_e.push(kt,Rt),be.push(dn,ln),we.push(q[gt],q[gt+1]),Te.push(Q[vt],Q[vt+1]),Ie.push(j.getRawIndex(ot.idx1));break;case"+":var mn=ot.idx,Xr=Ue.dataDimsForPoint,To=re.dataToPoint([j.get(Xr[0],mn),j.get(Xr[1],mn)]);vt=2*mn,_e.push(To[0],To[1]),be.push(ft[vt],ft[vt+1]);var Ii=RD(Ue,re,j,mn);we.push(Ii[0],Ii[1]),Te.push(Q[vt],Q[vt+1]),Ie.push(j.getRawIndex(mn));break;case"-":bt=!1}bt&&(Me.push(ot),Ae.push(Ae.length))}Ae.sort(function(On,ga){return Ie[On]-Ie[ga]});var zi=_e.length,lo=$1(zi),Br=$1(zi),$l=$1(zi),gl=$1(zi),Or=[];for($e=0;$e<Ae.length;$e++){var _i=Ae[$e],Tr=2*$e,ai=2*_i;lo[Tr]=_e[ai],lo[Tr+1]=_e[ai+1],Br[Tr]=be[ai],Br[Tr+1]=be[ai+1],$l[Tr]=we[ai],$l[Tr+1]=we[ai+1],gl[Tr]=Te[ai],gl[Tr+1]=Te[ai+1],Or[$e]=Me[_i]}return{current:lo,next:Br,stackedOnCurrent:$l,stackedOnNext:gl,status:Or}}(this._data,a,this._stackedOnPoints,u,this._coordSys,0,this._valueOrigin),D=w.current,P=w.stackedOnCurrent,z=w.next,k=w.stackedOnNext;if(g&&(D=X1(w.current,d,g),P=X1(w.stackedOnCurrent,d,g),z=X1(w.next,d,g),k=X1(w.stackedOnNext,d,g)),BD(D,z)>3e3||x&&BD(P,k)>3e3)return y.stopAnimation(),y.setShape({points:z}),void(x&&(x.stopAnimation(),x.setShape({points:z,stackedOnPoints:k})));y.shape.__points=w.current,y.shape.points=D;var E={shape:{points:z}};w.current!==D&&(E.shape.__points=w.next),y.stopAnimation(),Ti(y,E,C),x&&(x.setShape({points:D,stackedOnPoints:P}),x.stopAnimation(),Ti(x,{shape:{stackedOnPoints:k}},C),y.shape.points!==x.shape.points&&(x.shape.points=y.shape.points));for(var F=[],B=w.status,H=0;H<B.length;H++)if("="===B[H].cmd){var Y=a.getItemGraphicEl(B[H].idx1);Y&&F.push({el:Y,ptIdx:H})}y.animators&&y.animators.length&&y.animators[0].during(function(){x&&x.dirtyShape();for(var U=y.shape.__points,j=0;j<F.length;j++){var q=F[j].el,Q=2*F[j].ptIdx;q.x=U[Q],q.y=U[Q+1],q.markRedraw()}})},s.prototype.remove=function(a){var u=this.group,d=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),d&&d.eachItemGraphicEl(function(p,g){p.__temp&&(u.remove(p),d.setItemGraphicEl(g,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},s.type="line",s}(dr);function F_(c,s){return{seriesType:c,plan:k0(),reset:function(a){var u=a.getData(),d=a.coordinateSystem,g=s||a.pipelineContext.large;if(d){var v=tt(d.dimensions,function(P){return u.mapDimension(P)}).slice(0,2),y=v.length,x=u.getCalculationInfo("stackResultDimension");Pf(u,v[0])&&(v[0]=x),Pf(u,v[1])&&(v[1]=x);var C=u.getStore(),w=u.getDimensionIndex(v[0]),D=u.getDimensionIndex(v[1]);return y&&{progress:function(P,z){for(var E=g&&$1((P.end-P.start)*y),F=[],B=[],H=P.start,Y=0;H<P.end;H++){var U=void 0;if(1===y){var j=C.get(w,H);U=d.dataToPoint(j,null,B)}else F[0]=C.get(w,H),F[1]=C.get(D,H),U=d.dataToPoint(F,null,B);g?(E[Y++]=U[0],E[Y++]=U[1]):z.setItemLayout(H,U.slice())}g&&z.setLayout("points",E)}}}}}}var pN={average:function(c){for(var s=0,a=0,u=0;u<c.length;u++)isNaN(c[u])||(s+=c[u],a++);return 0===a?NaN:s/a},sum:function(c){for(var s=0,a=0;a<c.length;a++)s+=c[a]||0;return s},max:function(c){for(var s=-1/0,a=0;a<c.length;a++)c[a]>s&&(s=c[a]);return isFinite(s)?s:NaN},min:function(c){for(var s=1/0,a=0;a<c.length;a++)c[a]<s&&(s=c[a]);return isFinite(s)?s:NaN},nearest:function(c){return c[0]}},gN=function(c){return Math.round(c.length/2)};function HD(c){return{seriesType:c,reset:function(s,a,u){var d=s.getData(),p=s.get("sampling"),g=s.coordinateSystem,v=d.count();if(v>10&&"cartesian2d"===g.type&&p){var y=g.getBaseAxis(),x=g.getOtherAxis(y),C=y.getExtent(),w=u.getDevicePixelRatio(),D=Math.abs(C[1]-C[0])*(w||1),P=Math.round(v/D);if(P>1){"lttb"===p&&s.setData(d.lttbDownSample(d.mapDimension(x.dim),1/P));var z=void 0;"string"==typeof p?z=pN[p]:"function"==typeof p&&(z=p),z&&s.setData(d.downSample(d.mapDimension(x.dim),1/P,z,gN))}}}}}var Jy=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){return Uc(null,this,{useEncodeDefaulter:!0})},s.prototype.getMarkerPosition=function(a){var u=this.coordinateSystem;if(u&&u.clampData){var d=u.dataToPoint(u.clampData(a)),p=this.getData(),g=p.getLayout("offset"),v=p.getLayout("size");return d[u.getBaseAxis().isHorizontal()?0:1]+=g+v/2,d}return[NaN,NaN]},s.type="series.__base_bar__",s.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},s}(Fr);Fr.registerClass(Jy);var Lq=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.getInitialData=function(){return Uc(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},s.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},s.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),u=this.get("largeThreshold");return u>a&&(a=u),a},s.prototype.brushSelector=function(a,u,d){return d.rect(u.getItemLayout(a))},s.type="series.bar",s.dependencies=["grid","polar"],s.defaultOption=$p(Jy.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),s}(Jy),Ice=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},e8=function(c){function s(a){var u=c.call(this,a)||this;return u.type="sausage",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new Ice},s.prototype.buildPath=function(a,u){var d=u.cx,p=u.cy,g=Math.max(u.r0||0,0),v=Math.max(u.r,0),y=.5*(v-g),x=g+y,C=u.startAngle,w=u.endAngle,D=u.clockwise,P=Math.cos(C),z=Math.sin(C),k=Math.cos(w),E=Math.sin(w);(D?w-C<2*Math.PI:C-w<2*Math.PI)&&(a.moveTo(P*g+d,z*g+p),a.arc(P*x+d,z*x+p,y,-Math.PI+C,C,!D)),a.arc(d,p,v,C,w,!D),a.moveTo(k*v+d,E*v+p),a.arc(k*x+d,E*x+p,y,w-2*Math.PI,w-Math.PI,!D),0!==g&&(a.arc(d,p,g,w,C,D),a.moveTo(P*g+d,E*g+p)),a.closePath()},s}(pi);function YD(c,s,a){return s*Math.sin(c)*(a?-1:1)}function UD(c,s,a){return s*Math.cos(c)*(a?1:-1)}var GD=[0,0],uC=Math.max,mN=Math.min,Lce=function(c){function s(){var a=c.call(this)||this;return a.type=s.type,a._isFirstFrame=!0,a}return Ee(s,c),s.prototype.render=function(a,u,d,p){this._model=a,this._removeOnRenderedListener(d),this._updateDrawMode(a);var g=a.get("coordinateSystem");("cartesian2d"===g||"polar"===g)&&(this._isLargeDraw?this._renderLarge(a,u,d):this._renderNormal(a,u,d,p))},s.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},s.prototype.incrementalRender=function(a,u){this._incrementalRenderLarge(a,u)},s.prototype._updateDrawMode=function(a){var u=a.pipelineContext.large;null!=this._isLargeDraw&&u===this._isLargeDraw||(this._isLargeDraw=u,this._clear())},s.prototype._renderNormal=function(a,u,d,p){var g,v=this.group,y=a.getData(),x=this._data,C=a.coordinateSystem,w=C.getBaseAxis();"cartesian2d"===C.type?g=w.isHorizontal():"polar"===C.type&&(g="angle"===w.dim);var D=a.isAnimationEnabled()?a:null,P=function(ae,he){var me=ae.get("realtimeSort",!0),_e=he.getBaseAxis();if(me&&"category"===_e.type&&"cartesian2d"===he.type)return{baseAxis:_e,otherAxis:he.getOtherAxis(_e)}}(a,C);P&&this._enableRealtimeSort(P,y,d);var z=a.get("clip",!0)||P,k=function(ae,he){var me=ae.getArea&&ae.getArea();if(ug(ae,"cartesian2d")){var _e=ae.getBaseAxis();if("category"!==_e.type||!_e.onBand){var be=he.getLayout("bandWidth");_e.isHorizontal()?(me.x-=be,me.width+=2*be):(me.y-=be,me.height+=2*be)}}return me}(C,y);v.removeClipPath();var E=a.get("roundCap",!0),F=a.get("showBackground",!0),B=a.getModel("backgroundStyle"),H=B.get("borderRadius")||0,Y=[],U=this._backgroundEls,j=p&&p.isInitSort,q=p&&"changeAxisOrder"===p.type;function Q(ae){var _e,he=n8[C.type](y,ae),me=new("polar"===(_e=C).type?hl:gi)({shape:V_(g,he,_e),silent:!0,z2:0});return me.useStyle(B.getItemStyle()),"cartesian2d"===C.type&&me.setShape("r",H),Y[ae]=me,me}y.diff(x).add(function(ae){var he=y.getItemModel(ae),me=n8[C.type](y,ae,he);if(F&&Q(ae),y.hasValue(ae)&&B_[C.type](me)){var _e=!1;z&&(_e=Rq[C.type](k,me));var be=Nq[C.type](a,y,ae,me,g,D,w.model,!1,E);P&&(be.forceLabelAnimation=!0),fC(be,y,ae,he,me,a,g,"polar"===C.type),j?be.attr({shape:me}):P?t8(P,D,be,me,ae,g,!1,!1):to(be,{shape:me},a,ae),y.setItemGraphicEl(ae,be),v.add(be),be.ignore=_e}}).update(function(ae,he){var me=y.getItemModel(ae),_e=n8[C.type](y,ae,me);if(F){var be=void 0;0===U.length?be=Q(he):((be=U[he]).useStyle(B.getItemStyle()),"cartesian2d"===C.type&&be.setShape("r",H),Y[ae]=be);var we=n8[C.type](y,ae);Ti(be,{shape:V_(g,we,C)},D,ae)}var Te=x.getItemGraphicEl(he);if(y.hasValue(ae)&&B_[C.type](_e)){var Me=!1;if(z&&(Me=Rq[C.type](k,_e))&&v.remove(Te),Te?ld(Te):Te=Nq[C.type](a,y,ae,_e,g,D,w.model,!!Te,E),P&&(Te.forceLabelAnimation=!0),q){var Ae=Te.getTextContent();if(Ae){var Ie=Nc(Ae);null!=Ie.prevValue&&(Ie.prevValue=Ie.value)}}q||fC(Te,y,ae,me,_e,a,g,"polar"===C.type),j?Te.attr({shape:_e}):P?t8(P,D,Te,_e,ae,g,!0,q):Ti(Te,{shape:_e},a,ae,null),y.setItemGraphicEl(ae,Te),Te.ignore=Me,v.add(Te)}else v.remove(Te)}).remove(function(ae){var he=x.getItemGraphicEl(ae);he&&q2(he,a,ae)}).execute();var re=this._backgroundGroup||(this._backgroundGroup=new Xt);re.removeAll();for(var oe=0;oe<Y.length;++oe)re.add(Y[oe]);v.add(re),this._backgroundEls=Y,this._data=y},s.prototype._renderLarge=function(a,u,d){this._clear(),WD(a,this.group),this._updateLargeClip(a)},s.prototype._incrementalRenderLarge=function(a,u){this._removeBackground(),WD(u,this.group,!0)},s.prototype._updateLargeClip=function(a){var u=a.get("clip",!0)?FD(a.coordinateSystem,!1,a):null;u?this.group.setClipPath(u):this.group.removeClipPath()},s.prototype._enableRealtimeSort=function(a,u,d){var p=this;if(u.count()){var g=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(u,a,d),this._isFirstFrame=!1;else{var v=function(y){var x=u.getItemGraphicEl(y);if(x){var C=x.shape;return(g.isHorizontal()?Math.abs(C.height):Math.abs(C.width))||0}return 0};this._onRendered=function(){p._updateSortWithinSameData(u,v,g,d)},d.getZr().on("rendered",this._onRendered)}}},s.prototype._dataSort=function(a,u,d){var p=[];return a.each(a.mapDimension(u.dim),function(g,v){var y=d(v);p.push({dataIndex:v,mappedValue:y=y??NaN,ordinalNumber:g})}),p.sort(function(g,v){return v.mappedValue-g.mappedValue}),{ordinalNumbers:tt(p,function(g){return g.ordinalNumber})}},s.prototype._isOrderChangedWithinSameData=function(a,u,d){for(var p=d.scale,g=a.mapDimension(d.dim),v=Number.MAX_VALUE,y=0,x=p.getOrdinalMeta().categories.length;y<x;++y){var C=a.rawIndexOf(g,p.getRawOrdinalNumber(y)),w=C<0?Number.MIN_VALUE:u(a.indexOfRawIndex(C));if(w>v)return!0;v=w}return!1},s.prototype._isOrderDifferentInView=function(a,u){for(var d=u.scale,p=d.getExtent(),g=Math.max(0,p[0]),v=Math.min(p[1],d.getOrdinalMeta().categories.length-1);g<=v;++g)if(a.ordinalNumbers[g]!==d.getRawOrdinalNumber(g))return!0},s.prototype._updateSortWithinSameData=function(a,u,d,p){if(this._isOrderChangedWithinSameData(a,u,d)){var g=this._dataSort(a,d,u);this._isOrderDifferentInView(g,d)&&(this._removeOnRenderedListener(p),p.dispatchAction({type:"changeAxisOrder",componentType:d.dim+"Axis",axisId:d.index,sortInfo:g}))}},s.prototype._dispatchInitSort=function(a,u,d){var p=u.baseAxis,g=this._dataSort(a,p,function(v){return a.get(a.mapDimension(u.otherAxis.dim),v)});d.dispatchAction({type:"changeAxisOrder",componentType:p.dim+"Axis",isInitSort:!0,axisId:p.index,sortInfo:g})},s.prototype.remove=function(a,u){this._clear(this._model),this._removeOnRenderedListener(u)},s.prototype.dispose=function(a,u){this._removeOnRenderedListener(u)},s.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},s.prototype._clear=function(a){var u=this.group,d=this._data;a&&a.isAnimationEnabled()&&d&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],d.eachItemGraphicEl(function(p){q2(p,a,Pn(p).dataIndex)})):u.removeAll(),this._data=null,this._isFirstFrame=!0},s.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},s.type="bar",s}(dr),Rq={cartesian2d:function(c,s){var a=s.width<0?-1:1,u=s.height<0?-1:1;a<0&&(s.x+=s.width,s.width=-s.width),u<0&&(s.y+=s.height,s.height=-s.height);var d=c.x+c.width,p=c.y+c.height,g=uC(s.x,c.x),v=mN(s.x+s.width,d),y=uC(s.y,c.y),x=mN(s.y+s.height,p),C=v<g,w=x<y;return s.x=C&&g>d?v:g,s.y=w&&y>p?x:y,s.width=C?0:v-g,s.height=w?0:x-y,a<0&&(s.x+=s.width,s.width=-s.width),u<0&&(s.y+=s.height,s.height=-s.height),C||w},polar:function(c,s){var a=s.r0<=s.r?1:-1;if(a<0){var u=s.r;s.r=s.r0,s.r0=u}var d=mN(s.r,c.r),p=uC(s.r0,c.r0);s.r=d,s.r0=p;var g=d-p<0;return a<0&&(u=s.r,s.r=s.r0,s.r0=u),g}},Nq={cartesian2d:function(c,s,a,u,d,p,g,v,y){var x=new gi({shape:it({},u),z2:1});return x.__dataIndex=a,x.name="item",p&&(x.shape[d?"height":"width"]=0),x},polar:function(c,s,a,u,d,p,g,v,y){var x=!d&&y?e8:hl,C=new x({shape:u,z2:1});C.name="item";var w,D,P=Bq(d);if(C.calculateTextPosition=(w=P,D=x===e8,function(E,F,B){var H=F.position;if(!H||H instanceof Array)return dh(E,F,B);var Y=w(H),U=null!=F.distance?F.distance:5,j=this.shape,q=j.cx,Q=j.cy,re=j.r,oe=j.r0,ae=(re+oe)/2,he=j.startAngle,me=j.endAngle,_e=(he+me)/2,be=D?Math.abs(re-oe)/2:0,we=Math.cos,Te=Math.sin,Me=q+re*we(he),Ae=Q+re*Te(he),Ie="left",Ue="top";switch(Y){case"startArc":Me=q+(oe-U)*we(_e),Ae=Q+(oe-U)*Te(_e),Ie="center",Ue="top";break;case"insideStartArc":Me=q+(oe+U)*we(_e),Ae=Q+(oe+U)*Te(_e),Ie="center",Ue="bottom";break;case"startAngle":Me=q+ae*we(he)+YD(he,U+be,!1),Ae=Q+ae*Te(he)+UD(he,U+be,!1),Ie="right",Ue="middle";break;case"insideStartAngle":Me=q+ae*we(he)+YD(he,-U+be,!1),Ae=Q+ae*Te(he)+UD(he,-U+be,!1),Ie="left",Ue="middle";break;case"middle":Me=q+ae*we(_e),Ae=Q+ae*Te(_e),Ie="center",Ue="middle";break;case"endArc":Me=q+(re+U)*we(_e),Ae=Q+(re+U)*Te(_e),Ie="center",Ue="bottom";break;case"insideEndArc":Me=q+(re-U)*we(_e),Ae=Q+(re-U)*Te(_e),Ie="center",Ue="top";break;case"endAngle":Me=q+ae*we(me)+YD(me,U+be,!0),Ae=Q+ae*Te(me)+UD(me,U+be,!0),Ie="left",Ue="middle";break;case"insideEndAngle":Me=q+ae*we(me)+YD(me,-U+be,!0),Ae=Q+ae*Te(me)+UD(me,-U+be,!0),Ie="right",Ue="middle";break;default:return dh(E,F,B)}return(E=E||{}).x=Me,E.y=Ae,E.align=Ie,E.verticalAlign=Ue,E}),p){var z=d?"r":"endAngle",k={};C.shape[z]=d?0:u.startAngle,k[z]=u[z],(v?Ti:to)(C,{shape:k},p)}return C}};function t8(c,s,a,u,d,p,g,v){var y,x;p?(x={x:u.x,width:u.width},y={y:u.y,height:u.height}):(x={y:u.y,height:u.height},y={x:u.x,width:u.width}),v||(g?Ti:to)(a,{shape:y},s,d,null),(g?Ti:to)(a,{shape:x},s?c.baseAxis.model:null,d)}function Fq(c,s){for(var a=0;a<s.length;a++)if(!isFinite(c[s[a]]))return!0;return!1}var hC=["x","y","width","height"],dC=["cx","cy","r","startAngle","endAngle"],B_={cartesian2d:function(c){return!Fq(c,hC)},polar:function(c){return!Fq(c,dC)}},n8={cartesian2d:function(c,s,a){var u=c.getItemLayout(s),d=a?function(v,y){var x=v.get(["itemStyle","borderColor"]);if(!x||"none"===x)return 0;var C=v.get(["itemStyle","borderWidth"])||0,w=isNaN(y.width)?Number.MAX_VALUE:Math.abs(y.width),D=isNaN(y.height)?Number.MAX_VALUE:Math.abs(y.height);return Math.min(C,w,D)}(a,u):0,p=u.width>0?1:-1,g=u.height>0?1:-1;return{x:u.x+p*d/2,y:u.y+g*d/2,width:u.width-p*d,height:u.height-g*d}},polar:function(c,s,a){var u=c.getItemLayout(s);return{cx:u.cx,cy:u.cy,r0:u.r0,r:u.r,startAngle:u.startAngle,endAngle:u.endAngle,clockwise:u.clockwise}}};function Bq(c){return function(s){var a=s?"Arc":"Angle";return function(u){switch(u){case"start":case"insideStart":case"end":case"insideEnd":return u+a;default:return u}}}(c)}function fC(c,s,a,u,d,p,g,v){var y=s.getItemVisual(a,"style");v||c.setShape("r",u.get(["itemStyle","borderRadius"])||0),c.useStyle(y);var x=u.getShallow("cursor");x&&c.attr("cursor",x);var C=v?g?d.r>=d.r0?"endArc":"startArc":d.endAngle>=d.startAngle?"endAngle":"startAngle":g?d.height>=0?"bottom":"top":d.width>=0?"right":"left",w=Hs(u);Vl(c,w,{labelFetcher:p,labelDataIndex:a,defaultText:zf(p.getData(),a),inheritColor:y.fill,defaultOpacity:y.opacity,defaultOutsidePosition:C});var D=c.getTextContent();if(v&&D){var P=u.get(["label","position"]);c.textConfig.inside="middle"===P||null,function(k,E,F,B){if("number"!=typeof B)if(at(E))k.setTextConfig({rotation:0});else{var H,Y=k.shape,U=Y.clockwise?Y.startAngle:Y.endAngle,j=Y.clockwise?Y.endAngle:Y.startAngle,q=(U+j)/2,Q=F(E);switch(Q){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":H=q;break;case"startAngle":case"insideStartAngle":H=U;break;case"endAngle":case"insideEndAngle":H=j;break;default:return void k.setTextConfig({rotation:0})}var re=1.5*Math.PI-H;"middle"===Q&&re>Math.PI/2&&re<1.5*Math.PI&&(re-=Math.PI),k.setTextConfig({rotation:re})}else k.setTextConfig({rotation:B})}(c,"outside"===P?C:P,Bq(g),u.get(["label","rotate"]))}Q2(D,w,p.getRawValue(a),function(k){return iN(s,k)});var k,z=u.getModel(["emphasis"]);eo(c,z.get("focus"),z.get("blurScope")),ys(c,u),null!=(k=d).startAngle&&null!=k.endAngle&&k.startAngle===k.endAngle&&(c.style.fill="none",c.style.stroke="none",fe(c.states,function(k){k.style&&(k.style.fill=k.style.stroke="none")}))}var vN=function(){},kf=function(c){function s(a){var u=c.call(this,a)||this;return u.type="largeBar",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new vN},s.prototype.buildPath=function(a,u){for(var d=u.points,p=this.__startPoint,g=this.__baseDimIdx,v=0;v<d.length;v+=2)p[g]=d[v+g],a.moveTo(p[0],p[1]),a.lineTo(d[v],d[v+1])},s}(pi);function WD(c,s,a){var u=c.getData(),d=[],p=u.getLayout("valueAxisHorizontal")?1:0;d[1-p]=u.getLayout("valueAxisStart");var P,z,k,E,F,g=u.getLayout("largeDataIndices"),v=u.getLayout("barWidth"),y=c.getModel("backgroundStyle");if(c.get("showBackground",!0)){var x=u.getLayout("largeBackgroundPoints"),C=[];C[1-p]=u.getLayout("backgroundStart");var w=new kf({shape:{points:x},incremental:!!a,silent:!0,z2:0});w.__startPoint=C,w.__baseDimIdx=p,w.__largeDataIndices=g,w.__barWidth=v,P=w,k=u,E=(z=y).get("borderColor")||z.get("color"),F=z.getItemStyle(),P.useStyle(F),P.style.fill=null,P.style.stroke=E,P.style.lineWidth=k.getLayout("barWidth"),s.add(w)}var D=new kf({shape:{points:u.getLayout("largePoints")},incremental:!!a});D.__startPoint=d,D.__baseDimIdx=p,D.__largeDataIndices=g,D.__barWidth=v,s.add(D),function(P,z,k){var E=k.getVisual("style");P.useStyle(it({},E)),P.style.fill=null,P.style.stroke=E.fill,P.style.lineWidth=k.getLayout("barWidth")}(D,0,u),Pn(D).seriesIndex=c.seriesIndex,c.get("silent")||(D.on("mousedown",Vq),D.on("mousemove",Vq))}var Vq=my(function(c){var s=function(a,u,d){var p=a.__baseDimIdx,g=1-p,v=a.shape.points,y=a.__largeDataIndices,x=Math.abs(a.__barWidth/2),C=a.__startPoint[g];GD[0]=u,GD[1]=d;for(var w=GD[p],D=GD[1-p],P=w-x,z=w+x,k=0,E=v.length/2;k<E;k++){var F=2*k,B=v[F+p],H=v[F+g];if(B>=P&&B<=z&&(C<=H?D>=C&&D<=H:D>=H&&D<=C))return y[k]}return-1}(this,c.offsetX,c.offsetY);Pn(this).dataIndex=s>=0?s:null},30,!1);function V_(c,s,a){if(ug(a,"cartesian2d")){var u=s,d=a.getArea();return{x:c?u.x:d.x,y:c?d.y:u.y,width:c?u.width:d.width,height:c?d.height:u.height}}var p=s;return{cx:(d=a.getArea()).cx,cy:d.cy,r0:c?d.r0:p.r0,r:c?d.r:p.r,startAngle:c?p.startAngle:0,endAngle:c?p.endAngle:2*Math.PI}}var pC=2*Math.PI,_N=Math.PI/180;function Of(c,s){return io(c.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})}function yN(c,s){var a=Of(c,s),u=c.get("center"),d=c.get("radius");at(d)||(d=[0,d]),at(u)||(u=[u,u]);var p=At(a.width,s.getWidth()),g=At(a.height,s.getHeight()),v=Math.min(p,g);return{cx:At(u[0],p)+a.x,cy:At(u[1],g)+a.y,r0:At(d[0],v/2),r:At(d[1],v/2)}}function Rce(c,s,a){s.eachSeriesByType(c,function(u){var d=u.getData(),p=d.mapDimension("value"),g=Of(u,a),v=yN(u,a),y=v.cx,x=v.cy,C=v.r,w=v.r0,D=-u.get("startAngle")*_N,P=u.get("minAngle")*_N,z=0;d.each(p,function(oe){!isNaN(oe)&&z++});var k=d.getSum(p),E=Math.PI/(k||z)*2,F=u.get("clockwise"),B=u.get("roseType"),H=u.get("stillShowZeroSum"),Y=d.getDataExtent(p);Y[0]=0;var U=pC,j=0,q=D,Q=F?1:-1;if(d.setLayout({viewRect:g,r:C}),d.each(p,function(oe,ae){var he;if(isNaN(oe))d.setItemLayout(ae,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:F,cx:y,cy:x,r0:w,r:B?NaN:C});else{(he="area"!==B?0===k&&H?E:oe*E:pC/z)<P?(he=P,U-=P):j+=oe;var me=q+Q*he;d.setItemLayout(ae,{angle:he,startAngle:q,endAngle:me,clockwise:F,cx:y,cy:x,r0:w,r:B?rr(oe,Y,[w,C]):C}),q=me}}),U<pC&&z)if(U<=.001){var re=pC/z;d.each(p,function(oe,ae){if(!isNaN(oe)){var he=d.getItemLayout(ae);he.angle=re,he.startAngle=D+Q*ae*re,he.endAngle=D+Q*(ae+1)*re}})}else E=U/j,q=D,d.each(p,function(oe,ae){if(!isNaN(oe)){var he=d.getItemLayout(ae),me=he.angle===P?P:oe*E;he.startAngle=q,he.endAngle=q+Q*me,q+=Q*me}})})}function gC(c){return{seriesType:c,reset:function(s,a){var u=a.findComponents({mainType:"legend"});if(u&&u.length){var d=s.getData();d.filterSelf(function(p){for(var g=d.getName(p),v=0;v<u.length;v++)if(!u[v].isSelected(g))return!1;return!0})}}}}var Nce=Math.PI/180;function xN(c,s,a,u,d,p,g,v,y,x){if(!(c.length<2)){for(var C=c.length,w=0;w<C;w++)"outer"===c[w].position&&"labelLine"===c[w].labelAlignTo&&(c[w].linePoints[1][0]+=c[w].label.x-x,c[w].label.x=x);UR(c,y,y+g)&&function(z){for(var k={list:[],maxY:0},E={list:[],maxY:0},F=0;F<z.length;F++)if("none"===z[F].labelAlignTo){var B=z[F],H=B.label.y>a?E:k,Y=Math.abs(B.label.y-a);if(Y>H.maxY){var U=B.label.x-s-B.len2*d,j=u+B.len,q=Math.abs(U)<j?Math.sqrt(Y*Y/(1-U*U/j/j)):j;H.rB=q,H.maxY=Y}H.list.push(B)}P(k),P(E)}(c)}function P(z){for(var k=z.rB,E=k*k,F=0;F<z.list.length;F++){var B=z.list[F],H=Math.abs(B.label.y-a),Y=u+B.len,U=Y*Y,j=Math.sqrt((1-Math.abs(H*H/E))*U);B.label.x=s+(j+B.len2)*d}}}function jD(c){return"center"===c.position}function r8(c,s,a){var u=c.get("borderRadius");return null==u?a?{innerCornerRadius:0,cornerRadius:0}:null:(at(u)||(u=[u,u]),{innerCornerRadius:Ol(u[0],s.r0),cornerRadius:Ol(u[1],s.r)})}var Yq=function(c){function s(a,u,d){var p=c.call(this)||this;p.z2=2;var g=new Ni;return p.setTextContent(g),p.updateData(a,u,d,!0),p}return Ee(s,c),s.prototype.updateData=function(a,u,d,p){var g=this,v=a.hostModel,y=a.getItemModel(u),x=y.getModel("emphasis"),C=a.getItemLayout(u),w=it(r8(y.getModel("itemStyle"),C,!0),C);if(isNaN(w.startAngle))g.setShape(w);else{p?(g.setShape(w),"scale"===v.getShallow("animationType")?(g.shape.r=C.r0,to(g,{shape:{r:C.r}},v,u)):null!=d?(g.setShape({startAngle:d,endAngle:d}),to(g,{shape:{startAngle:C.startAngle,endAngle:C.endAngle}},v,u)):(g.shape.endAngle=C.startAngle,Ti(g,{shape:{endAngle:C.endAngle}},v,u))):(ld(g),Ti(g,{shape:w},v,u)),g.useStyle(a.getItemVisual(u,"style")),ys(g,y);var D=(C.startAngle+C.endAngle)/2,P=v.get("selectedOffset"),z=Math.cos(D)*P,k=Math.sin(D)*P,E=y.getShallow("cursor");E&&g.attr("cursor",E),this._updateLabel(v,a,u),g.ensureState("emphasis").shape=aa({r:C.r+(x.get("scale")&&x.get("scaleSize")||0)},r8(x.getModel("itemStyle"),C)),it(g.ensureState("select"),{x:z,y:k,shape:r8(y.getModel(["select","itemStyle"]),C)}),it(g.ensureState("blur"),{shape:r8(y.getModel(["blur","itemStyle"]),C)});var F=g.getTextGuideLine(),B=g.getTextContent();F&&it(F.ensureState("select"),{x:z,y:k}),it(B.ensureState("select"),{x:z,y:k}),eo(this,x.get("focus"),x.get("blurScope"))}},s.prototype._updateLabel=function(a,u,d){var p=this,g=u.getItemModel(d),v=g.getModel("labelLine"),y=u.getItemVisual(d,"style"),x=y&&y.fill,C=y&&y.opacity;Vl(p,Hs(g),{labelFetcher:u.hostModel,labelDataIndex:d,inheritColor:x,defaultOpacity:C,defaultText:a.getFormattedLabel(d,"normal")||u.getName(d)});var w=p.getTextContent();p.setTextConfig({position:null,rotation:null}),w.attr({z2:10});var D=a.get(["label","position"]);if("outside"!==D&&"outer"!==D)p.removeTextGuideLine();else{var P=this.getTextGuideLine();P||(P=new bc,this.setTextGuideLine(P)),ei(this,Cs(g),{stroke:x,opacity:sc(v.get(["lineStyle","opacity"]),C,1)})}},s}(hl),bN=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.ignoreLabelLineUpdate=!0,a}return Ee(s,c),s.prototype.init=function(){var a=new Xt;this._sectorGroup=a},s.prototype.render=function(a,u,d,p){var g,v=a.getData(),y=this._data,x=this.group;if(!y&&v.count()>0){for(var C=v.getItemLayout(0),w=1;isNaN(C&&C.startAngle)&&w<v.count();++w)C=v.getItemLayout(w);C&&(g=C.startAngle)}if(this._emptyCircleSector&&x.remove(this._emptyCircleSector),0===v.count()&&a.get("showEmptyCircle")){var D=new hl({shape:yN(a,d)});D.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=D,x.add(D)}v.diff(y).add(function(P){var z=new Yq(v,P,g);v.setItemGraphicEl(P,z),x.add(z)}).update(function(P,z){var k=y.getItemGraphicEl(z);k.updateData(v,P,g),k.off("click"),x.add(k),v.setItemGraphicEl(P,k)}).remove(function(P){q2(y.getItemGraphicEl(P),a,P)}).execute(),function Hq(c){var s,a,u=c.getData(),d=[],p=!1,g=(c.get("minShowLabelAngle")||0)*Nce,v=u.getLayout("viewRect"),y=u.getLayout("r"),x=v.width,C=v.x,w=v.y,D=v.height;function P(U){U.ignore=!0}u.each(function(U){var j=u.getItemGraphicEl(U),q=j.shape,Q=j.getTextContent(),re=j.getTextGuideLine(),oe=u.getItemModel(U),ae=oe.getModel("label"),he=ae.get("position")||oe.get(["emphasis","label","position"]),me=ae.get("distanceToLabelLine"),_e=ae.get("alignTo"),be=At(ae.get("edgeDistance"),x),we=ae.get("bleedMargin"),Te=oe.getModel("labelLine"),Me=Te.get("length");Me=At(Me,x);var Ae=Te.get("length2");if(Ae=At(Ae,x),Math.abs(q.endAngle-q.startAngle)<g)return fe(Q.states,P),void(Q.ignore=!0);if(function(Br){if(!Br.ignore)return!0;for(var $l in Br.states)if(!1===Br.states[$l].ignore)return!0;return!1}(Q)){var Ie,Ue,qe,ft,$e=(q.startAngle+q.endAngle)/2,ot=Math.cos($e),bt=Math.sin($e);s=q.cx,a=q.cy;var gt,vt="inside"===he||"inner"===he;if("center"===he)Ie=q.cx,Ue=q.cy,ft="center";else{var kt=(vt?(q.r+q.r0)/2*ot:q.r*ot)+s,Rt=(vt?(q.r+q.r0)/2*bt:q.r*bt)+a;if(Ie=kt+3*ot,Ue=Rt+3*bt,!vt){var dn=kt+ot*(Me+y-q.r),ln=Rt+bt*(Me+y-q.r),mn=dn+(ot<0?-1:1)*Ae;Ie="edge"===_e?ot<0?C+be:C+x-be:mn+(ot<0?-me:me),Ue=ln,qe=[[kt,Rt],[dn,ln],[mn,ln]]}ft=vt?"center":"edge"===_e?ot>0?"right":"left":ot>0?"left":"right"}var Xr=ae.get("rotate");if("number"==typeof Xr)gt=Xr*(Math.PI/180);else if("center"===he)gt=0;else{var To=ot<0?-$e+Math.PI:-$e;"radial"===Xr||!0===Xr?gt=To:"tangential"===Xr&&"outside"!==he&&"outer"!==he?(gt=To+Math.PI/2)>Math.PI/2&&(gt-=Math.PI):gt=0}if(p=!!gt,Q.x=Ie,Q.y=Ue,Q.rotation=gt,Q.setStyle({verticalAlign:"middle"}),vt){Q.setStyle({align:ft});var Ii=Q.states.select;Ii&&(Ii.x+=Q.x,Ii.y+=Q.y)}else{var zi=Q.getBoundingRect().clone();zi.applyTransform(Q.getComputedTransform());var lo=(Q.style.margin||0)+2.1;zi.y-=lo/2,zi.height+=lo,d.push({label:Q,labelLine:re,position:he,len:Me,len2:Ae,minTurnAngle:Te.get("minTurnAngle"),maxSurfaceAngle:Te.get("maxSurfaceAngle"),surfaceNormal:new _n(ot,bt),linePoints:qe,textAlign:ft,labelDistance:me,labelAlignTo:_e,edgeDistance:be,bleedMargin:we,rect:zi})}j.setTextConfig({inside:vt})}}),!p&&c.get("avoidLabelOverlap")&&function(U,j,q,Q,re,oe,ae,he){for(var me=[],_e=[],be=Number.MAX_VALUE,we=-Number.MAX_VALUE,Te=0;Te<U.length;Te++){var Me=U[Te].label;jD(U[Te])||(Me.x<j?(be=Math.min(be,Me.x),me.push(U[Te])):(we=Math.max(we,Me.x),_e.push(U[Te])))}for(xN(_e,j,q,Q,1,0,oe,0,he,we),xN(me,j,q,Q,-1,0,oe,0,he,be),Te=0;Te<U.length;Te++){var Ae=U[Te];if(Me=Ae.label,!jD(Ae)){var Ie=Ae.linePoints;if(Ie){var ft,Ue="edge"===Ae.labelAlignTo,qe=Ae.rect.width;(ft=Ue?Me.x<j?Ie[2][0]-Ae.labelDistance-ae-Ae.edgeDistance:ae+re-Ae.edgeDistance-Ie[2][0]-Ae.labelDistance:Me.x<j?Me.x-ae-Ae.bleedMargin:ae+re-Me.x-Ae.bleedMargin)<Ae.rect.width&&(Ae.label.style.width=ft,"edge"===Ae.labelAlignTo&&(qe=ft));var $e=Ie[1][0]-Ie[2][0];Ue?Ie[2][0]=Me.x<j?ae+Ae.edgeDistance+qe+Ae.labelDistance:ae+re-Ae.edgeDistance-qe-Ae.labelDistance:(Ie[2][0]=Me.x<j?Me.x+Ae.labelDistance:Me.x-Ae.labelDistance,Ie[1][0]=Ie[2][0]+$e),Ie[1][1]=Ie[2][1]=Me.y}}}}(d,s,a,y,x,D,C,w);for(var z=0;z<d.length;z++){var k=d[z],E=k.label,F=k.labelLine,B=isNaN(E.x)||isNaN(E.y);if(E){E.setStyle({align:k.textAlign}),B&&(fe(E.states,P),E.ignore=!0);var H=E.states.select;H&&(H.x+=E.x,H.y+=E.y)}if(F){var Y=k.linePoints;B||!Y?(fe(F.states,P),F.ignore=!0):(Cq(Y,k.minTurnAngle),wq(Y,k.surfaceNormal,k.maxSurfaceAngle),F.setShape({points:Y}),E.__hostTarget.textGuideLineConfig={anchor:new _n(Y[0][0],Y[0][1])})}}}(a),"expansion"!==a.get("animationTypeUpdate")&&(this._data=v)},s.prototype.dispose=function(){},s.prototype.containPoint=function(a,u){var d=u.getData().getItemLayout(0);if(d){var p=a[0]-d.cx,g=a[1]-d.cy,v=Math.sqrt(p*p+g*g);return v<=d.r&&v>=d.r0}},s.type="pie",s}(dr);function Z0(c,s,a){s=at(s)&&{coordDimensions:s}||it({encodeDefine:c.getEncode()},s);var u=c.getSource(),d=D_(u,s).dimensions,p=new ts(d,c);return p.initData(u,a),p}var mC=function(){function c(s,a){this._getDataWithEncodedVisual=s,this._getRawData=a}return c.prototype.getAllNames=function(){var s=this._getRawData();return s.mapArray(s.getName)},c.prototype.containName=function(s){return this._getRawData().indexOfName(s)>=0},c.prototype.indexOfName=function(s){return this._getDataWithEncodedVisual().indexOfName(s)},c.prototype.getItemVisual=function(s,a){return this._getDataWithEncodedVisual().getItemVisual(s,a)},c}(),md=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.init=function(a){c.prototype.init.apply(this,arguments),this.legendVisualProvider=new mC(rt(this.getData,this),rt(this.getRawData,this)),this._defaultLabelLine(a)},s.prototype.mergeOption=function(){c.prototype.mergeOption.apply(this,arguments)},s.prototype.getInitialData=function(){return Z0(this,{coordDimensions:["value"],encodeDefaulter:Je(NM,this)})},s.prototype.getDataParams=function(a){var u=this.getData(),d=c.prototype.getDataParams.call(this,a),p=[];return u.each(u.mapDimension("value"),function(g){p.push(g)}),d.percent=LT(p,a,u.hostModel.get("percentPrecision")),d.$vars.push("percent"),d},s.prototype._defaultLabelLine=function(a){yu(a,"labelLine",["show"]);var u=a.labelLine,d=a.emphasis.labelLine;u.show=u.show&&a.label.show,d.show=d.show&&a.emphasis.label.show},s.type="series.pie",s.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},s}(Fr),Uq=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.hasSymbolVisual=!0,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){return Uc(null,this,{useEncodeDefaulter:!0})},s.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},s.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},s.prototype.brushSelector=function(a,u,d){return d.point(u.getItemLayout(a))},s.type="series.scatter",s.dependencies=["grid","polar","geo","singleAxis","calendar"],s.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},s}(Fr),$D=function(){},XD=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new $D},s.prototype.buildPath=function(a,u){var d=u.points,p=u.size,g=this.symbolProxy,v=g.shape,y=a.getContext?a.getContext():a;if(y&&p[0]<4)this._ctx=y;else{this._ctx=null;for(var x=0;x<d.length;){var C=d[x++],w=d[x++];isNaN(C)||isNaN(w)||this.softClipShape&&!this.softClipShape.contain(C,w)||(v.x=C-p[0]/2,v.y=w-p[1]/2,v.width=p[0],v.height=p[1],g.buildPath(a,v,!0))}}},s.prototype.afterBrush=function(){var a=this.shape,u=a.points,d=a.size,p=this._ctx;if(p)for(var g=0;g<u.length;){var v=u[g++],y=u[g++];isNaN(v)||isNaN(y)||this.softClipShape&&!this.softClipShape.contain(v,y)||p.fillRect(v-d[0]/2,y-d[1]/2,d[0],d[1])}},s.prototype.findDataIndex=function(a,u){for(var d=this.shape,p=d.points,g=d.size,v=Math.max(g[0],4),y=Math.max(g[1],4),x=p.length/2-1;x>=0;x--){var C=2*x,w=p[C]-v/2,D=p[C+1]-y/2;if(a>=w&&u>=D&&a<=w+v&&u<=D+y)return x}return-1},s}(pi),Fce=function(){function c(){this.group=new Xt}return c.prototype.isPersistent=function(){return!this._incremental},c.prototype.updateData=function(s,a){this.group.removeAll();var u=new XD({rectHover:!0,cursor:"default"});u.setShape({points:s.getLayout("points")}),this._setCommon(u,s,!1,a),this.group.add(u),this._incremental=null},c.prototype.updateLayout=function(s){if(!this._incremental){var a=s.getLayout("points");this.group.eachChild(function(u){null!=u.startIndex&&(a=new Float32Array(a.buffer,4*u.startIndex*2,2*(u.endIndex-u.startIndex))),u.setShape("points",a)})}},c.prototype.incrementalPrepareUpdate=function(s){this.group.removeAll(),this._clearIncremental(),s.count()>2e6?(this._incremental||(this._incremental=new X2({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.prototype.incrementalUpdate=function(s,a,u){var d;this._incremental?(d=new XD,this._incremental.addDisplayable(d,!0)):((d=new XD({rectHover:!0,cursor:"default",startIndex:s.start,endIndex:s.end})).incremental=!0,this.group.add(d)),d.setShape({points:a.getLayout("points")}),this._setCommon(d,a,!!this._incremental,u)},c.prototype._setCommon=function(s,a,u,d){var p=a.hostModel;d=d||{};var g=a.getVisual("symbolSize");s.setShape("size",g instanceof Array?g:[g,g]),s.softClipShape=d.clipShape||null,s.symbolProxy=da(a.getVisual("symbol"),0,0,0,0),s.setColor=s.symbolProxy.setColor;var v=s.shape.size[0]<4;s.useStyle(p.getModel("itemStyle").getItemStyle(v?["color","shadowBlur","shadowColor"]:["color"]));var y=a.getVisual("style"),x=y&&y.fill;if(x&&s.setColor(x),!u){var C=Pn(s);C.seriesIndex=p.seriesIndex,s.on("mousemove",function(w){C.dataIndex=null;var D=s.findDataIndex(w.offsetX,w.offsetY);D>=0&&(C.dataIndex=D+(s.startIndex||0))})}},c.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c.prototype._clearIncremental=function(){var s=this._incremental;s&&s.clearDisplaybles()},c}(),en=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=a.getData();this._updateSymbolDraw(p,a).updateData(p,{clipShape:this._getClipShape(a)}),this._finished=!0},s.prototype.incrementalPrepareRender=function(a,u,d){var p=a.getData();this._updateSymbolDraw(p,a).incrementalPrepareUpdate(p),this._finished=!1},s.prototype.incrementalRender=function(a,u,d){this._symbolDraw.incrementalUpdate(a,u.getData(),{clipShape:this._getClipShape(u)}),this._finished=a.end===u.getData().count()},s.prototype.updateTransform=function(a,u,d){var p=a.getData();if(this.group.dirty(),!this._finished||p.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var g=F_("").reset(a,u,d);g.progress&&g.progress({start:0,end:p.count(),count:p.count()},p),this._symbolDraw.updateLayout(p)},s.prototype._getClipShape=function(a){var u=a.coordinateSystem,d=u&&u.getArea&&u.getArea();return a.get("clip",!0)?d:null},s.prototype._updateSymbolDraw=function(a,u){var d=this._symbolDraw,p=u.pipelineContext.large;return d&&p===this._isLargeDraw||(d&&d.remove(),d=this._symbolDraw=p?new Fce:new Qy,this._isLargeDraw=p,this.group.removeAll()),this.group.add(d.group),d},s.prototype.remove=function(a,u){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},s.prototype.dispose=function(){},s.type="scatter",s}(dr),Gq=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.type="grid",s.dependencies=["xAxis","yAxis"],s.layoutMode="box",s.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},s}(di),o8=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Na).models[0]},s.type="cartesian2dAxis",s}(di);Gr(o8,I_);var CN={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Wq=Mn({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},CN),a8=Mn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},CN),qD={category:Wq,value:a8,time:Mn({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},a8),log:jt({scale:!0,logBase:10},a8)},wN={value:1,category:1,time:1,log:1};function H_(c,s,a,u){fe(wN,function(d,p){var g=Mn(Mn({},qD[p],!0),u,!0),v=function(y){function x(){var C=null!==y&&y.apply(this,arguments)||this;return C.type=s+"Axis."+p,C}return Ee(x,y),x.prototype.mergeDefaultAndTheme=function(C,w){var D=yf(this),P=D?i_(C):{};Mn(C,w.getTheme().get(p+"Axis")),Mn(C,this.getDefaultOption()),C.type=ZD(C),D&&Vt(C,P,D)},x.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=sD.createByAxisModel(this))},x.prototype.getCategories=function(C){var w=this.option;if("category"===w.type)return C?w.data:this.__ordinalMeta.categories},x.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},x.type=s+"Axis."+p,x.defaultOption=g,x}(a);c.registerComponentModel(v)}),c.registerSubTypeDefaulter(s+"Axis",ZD)}function ZD(c){return c.type||(c.data?"category":"value")}var vC=function(){function c(s){this.type="cartesian",this._dimList=[],this._axes={},this.name=s||""}return c.prototype.getAxis=function(s){return this._axes[s]},c.prototype.getAxes=function(){return tt(this._dimList,function(s){return this._axes[s]},this)},c.prototype.getAxesByScale=function(s){return s=s.toLowerCase(),Ri(this.getAxes(),function(a){return a.scale.type===s})},c.prototype.addAxis=function(s){var a=s.dim;this._axes[a]=s,this._dimList.push(a)},c}(),s8=["x","y"];function _C(c){return"interval"===c.type||"time"===c.type}var jq=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=s8,a}return Ee(s,c),s.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,u=this.getAxis("y").scale;if(_C(a)&&_C(u)){var d=a.getExtent(),p=u.getExtent(),g=this.dataToPoint([d[0],p[0]]),v=this.dataToPoint([d[1],p[1]]),y=d[1]-d[0],x=p[1]-p[0];if(y&&x){var C=(v[0]-g[0])/y,w=(v[1]-g[1])/x,z=this._transform=[C,0,0,w,g[0]-d[0]*C,g[1]-p[0]*w];this._invTransform=pu([],z)}}},s.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},s.prototype.containPoint=function(a){var u=this.getAxis("x"),d=this.getAxis("y");return u.contain(u.toLocalCoord(a[0]))&&d.contain(d.toLocalCoord(a[1]))},s.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},s.prototype.dataToPoint=function(a,u,d){d=d||[];var p=a[0],g=a[1];if(this._transform&&null!=p&&isFinite(p)&&null!=g&&isFinite(g))return cr(d,a,this._transform);var v=this.getAxis("x"),y=this.getAxis("y");return d[0]=v.toGlobalCoord(v.dataToCoord(p,u)),d[1]=y.toGlobalCoord(y.dataToCoord(g,u)),d},s.prototype.clampData=function(a,u){var d=this.getAxis("x").scale,p=this.getAxis("y").scale,g=d.getExtent(),v=p.getExtent(),y=d.parse(a[0]),x=p.parse(a[1]);return(u=u||[])[0]=Math.min(Math.max(Math.min(g[0],g[1]),y),Math.max(g[0],g[1])),u[1]=Math.min(Math.max(Math.min(v[0],v[1]),x),Math.max(v[0],v[1])),u},s.prototype.pointToData=function(a,u){var d=[];if(this._invTransform)return cr(d,a,this._invTransform);var p=this.getAxis("x"),g=this.getAxis("y");return d[0]=p.coordToData(p.toLocalCoord(a[0]),u),d[1]=g.coordToData(g.toLocalCoord(a[1]),u),d},s.prototype.getOtherAxis=function(a){return this.getAxis("x"===a.dim?"y":"x")},s.prototype.getArea=function(){var a=this.getAxis("x").getGlobalExtent(),u=this.getAxis("y").getGlobalExtent(),d=Math.min(a[0],a[1]),p=Math.min(u[0],u[1]),g=Math.max(a[0],a[1])-d,v=Math.max(u[0],u[1])-p;return new qn(d,p,g,v)},s}(vC),KD=function(c){function s(a,u,d,p,g){var v=c.call(this,a,u,d)||this;return v.index=0,v.type=p||"value",v.position=g||"bottom",v}return Ee(s,c),s.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},s.prototype.getGlobalExtent=function(a){var u=this.getExtent();return u[0]=this.toGlobalCoord(u[0]),u[1]=this.toGlobalCoord(u[1]),a&&u[0]>u[1]&&u.reverse(),u},s.prototype.pointToData=function(a,u){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),u)},s.prototype.setCategorySortInfo=function(a){if("category"!==this.type)return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},s}(Iu);function Ef(c,s,a){a=a||{};var u=c.coordinateSystem,d=s.axis,p={},g=d.getAxesOnZeroOf()[0],v=d.position,y=g?"onZero":v,x=d.dim,C=u.getRect(),w=[C.x,C.x+C.width,C.y,C.y+C.height],D={left:0,right:1,top:0,bottom:1,onZero:2},P=s.get("offset")||0,z="x"===x?[w[2]-P,w[3]+P]:[w[0]-P,w[1]+P];if(g){var k=g.toGlobalCoord(g.dataToCoord(0));z[D.onZero]=Math.max(Math.min(k,z[1]),z[0])}p.position=["y"===x?z[D[y]]:w[0],"x"===x?z[D[y]]:w[3]],p.rotation=Math.PI/2*("x"===x?0:1),p.labelDirection=p.tickDirection=p.nameDirection={top:-1,bottom:1,left:-1,right:1}[v],p.labelOffset=g?z[D[v]]-z[D.onZero]:0,s.get(["axisTick","inside"])&&(p.tickDirection=-p.tickDirection),sa(a.labelInside,s.get(["axisLabel","inside"]))&&(p.labelDirection=-p.labelDirection);var E=s.get(["axisLabel","rotate"]);return p.labelRotate="top"===y?-E:E,p.z2=1,p}function QD(c){return"cartesian2d"===c.get("coordinateSystem")}function yC(c){var s={xAxisModel:null,yAxisModel:null};return fe(s,function(a,u){var d=u.replace(/Model$/,""),p=c.getReferringComponents(d,Na).models[0];s[u]=p}),s}var hg=function(){function c(s,a,u){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=s8,this._initCartesian(s,a,u),this.model=s}return c.prototype.getRect=function(){return this._rect},c.prototype.update=function(s,a){var u=this._axesMap;this._updateScale(s,this.model),fe(u.x,function(p){U1(p.scale,p.model)}),fe(u.y,function(p){U1(p.scale,p.model)});var d={};fe(u.x,function(p){$q(u,"y",p,d)}),fe(u.y,function(p){$q(u,"x",p,d)}),this.resize(this.model,a)},c.prototype.resize=function(s,a,u){var d=s.getBoxLayoutParams(),p=!u&&s.get("containLabel"),g=io(d,{width:a.getWidth(),height:a.getHeight()});this._rect=g;var v=this._axesList;function y(){fe(v,function(x){var P,z,k,E,C=x.isHorizontal(),w=C?[0,g.width]:[0,g.height],D=x.inverse?1:0;x.setExtent(w[D],w[1-D]),z=C?g.x:g.y,k=(P=x).getExtent(),E=k[0]+k[1],P.toGlobalCoord="x"===P.dim?function(F){return F+z}:function(F){return E-F+z},P.toLocalCoord="x"===P.dim?function(F){return F-z}:function(F){return E-F+z}})}y(),p&&(fe(v,function(x){if(!x.model.get(["axisLabel","inside"])){var C=function(P){var k=P.scale;if(P.model.get(["axisLabel","show"])&&!k.isBlank()){var E,F,B=k.getExtent();F=k instanceof uD?k.count():(E=k.getTicks()).length;var H,Y=P.getLabelModel(),U=Hy(P),j=1;F>40&&(j=Math.ceil(F/40));for(var q=0;q<F;q+=j){var Q=U(E?E[q]:{value:B[0]+q},q),re=fq(Y.getTextRect(Q),Y.get("rotate")||0);H?H.union(re):H=re}return H}}(x);if(C){var w=x.isHorizontal()?"height":"width",D=x.model.get(["axisLabel","margin"]);g[w]-=C[w]+D,"top"===x.position?g.y+=C.height+D:"left"===x.position&&(g.x+=C.width+D)}}}),y()),fe(this._coordsList,function(x){x.calcAffineTransform()})},c.prototype.getAxis=function(s,a){var u=this._axesMap[s];if(null!=u)return u[a||0]},c.prototype.getAxes=function(){return this._axesList.slice()},c.prototype.getCartesian=function(s,a){if(null!=s&&null!=a)return this._coordsMap["x"+s+"y"+a];rn(s)&&(a=s.yAxisIndex,s=s.xAxisIndex);for(var d=0,p=this._coordsList;d<p.length;d++)if(p[d].getAxis("x").index===s||p[d].getAxis("y").index===a)return p[d]},c.prototype.getCartesians=function(){return this._coordsList.slice()},c.prototype.convertToPixel=function(s,a,u){var d=this._findConvertTarget(a);return d.cartesian?d.cartesian.dataToPoint(u):d.axis?d.axis.toGlobalCoord(d.axis.dataToCoord(u)):null},c.prototype.convertFromPixel=function(s,a,u){var d=this._findConvertTarget(a);return d.cartesian?d.cartesian.pointToData(u):d.axis?d.axis.coordToData(d.axis.toLocalCoord(u)):null},c.prototype._findConvertTarget=function(s){var a,u,d=s.seriesModel,p=s.xAxisModel||d&&d.getReferringComponents("xAxis",Na).models[0],g=s.yAxisModel||d&&d.getReferringComponents("yAxis",Na).models[0],v=s.gridModel;return d?Gn(this._coordsList,a=d.coordinateSystem)<0&&(a=null):p&&g?a=this.getCartesian(p.componentIndex,g.componentIndex):p?u=this.getAxis("x",p.componentIndex):g?u=this.getAxis("y",g.componentIndex):v&&v.coordinateSystem===this&&(a=this._coordsList[0]),{cartesian:a,axis:u}},c.prototype.containPoint=function(s){var a=this._coordsList[0];if(a)return a.containPoint(s)},c.prototype._initCartesian=function(s,a,u){var d=this,p=this,g={left:!1,right:!1,top:!1,bottom:!1},v={x:{},y:{}},y={x:0,y:0};if(a.eachComponent("xAxis",x("x"),this),a.eachComponent("yAxis",x("y"),this),!y.x||!y.y)return this._axesMap={},void(this._axesList=[]);function x(C){return function(w,D){if(JD(w,s)){var P=w.get("position");"x"===C?"top"!==P&&"bottom"!==P&&(P=g.bottom?"top":"bottom"):"left"!==P&&"right"!==P&&(P=g.left?"right":"left"),g[P]=!0;var z=new KD(C,Vy(w),[0,0],w.get("type"),P);z.onBand="category"===z.type&&w.get("boundaryGap"),z.inverse=w.get("inverse"),w.axis=z,z.model=w,z.grid=p,z.index=D,p._axesList.push(z),v[C][D]=z,y[C]++}}}this._axesMap=v,fe(v.x,function(C,w){fe(v.y,function(D,P){var z="x"+w+"y"+P,k=new jq(z);k.master=d,k.model=s,d._coordsMap[z]=k,d._coordsList.push(k),k.addAxis(C),k.addAxis(D)})})},c.prototype._updateScale=function(s,a){function u(d,p){fe($b(d,p.dim),function(g){p.scale.unionExtentFromData(d,g)})}fe(this._axesList,function(d){if(d.scale.setExtent(1/0,-1/0),"category"===d.type){var p=d.model.get("categorySortInfo");d.scale.setSortInfo(p)}}),s.eachSeries(function(d){if(QD(d)){var p=yC(d),g=p.xAxisModel,v=p.yAxisModel;if(!JD(g,a)||!JD(v,a))return;var y=this.getCartesian(g.componentIndex,v.componentIndex),x=d.getData(),C=y.getAxis("x"),w=y.getAxis("y");"list"===x.type&&(u(x,C),u(x,w))}},this)},c.prototype.getTooltipAxes=function(s){var a=[],u=[];return fe(this.getCartesians(),function(d){var p=null!=s&&"auto"!==s?d.getAxis(s):d.getBaseAxis(),g=d.getOtherAxis(p);Gn(a,p)<0&&a.push(p),Gn(u,g)<0&&u.push(g)}),{baseAxes:a,otherAxes:u}},c.create=function(s,a){var u=[];return s.eachComponent("grid",function(d,p){var g=new c(d,s,a);g.name="grid_"+p,g.resize(d,a,!0),d.coordinateSystem=g,u.push(g)}),s.eachSeries(function(d){if(QD(d)){var p=yC(d),g=p.xAxisModel,v=p.yAxisModel,y=g.getCoordSysModel();d.coordinateSystem=y.coordinateSystem.getCartesian(g.componentIndex,v.componentIndex)}}),u},c.dimensions=s8,c}();function JD(c,s){return c.getCoordSysModel()===s}function $q(c,s,a,u){a.getAxesOnZeroOf=function(){return d?[d]:[]};var d,p=c[s],g=a.model,v=g.get(["axisLine","onZero"]),y=g.get(["axisLine","onZeroAxisIndex"]);if(v){if(null!=y)SN(p[y])&&(d=p[y]);else for(var x in p)if(p.hasOwnProperty(x)&&SN(p[x])&&!u[C(p[x])]){d=p[x];break}d&&(u[C(d)]=!0)}function C(w){return w.dim+"_"+w.index}}function SN(c){return c&&"category"!==c.type&&"time"!==c.type&&function(s){var a=s.scale.getExtent(),u=a[0],d=a[1];return!(u>0&&d>0||u<0&&d<0)}(c)}var dg=Math.PI,Sc=function(){function c(s,a){this.group=new Xt,this.opt=a,this.axisModel=s,jt(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var u=new Xt({x:a.position[0],y:a.position[1],rotation:a.rotation});u.updateTransform(),this._transformGroup=u}return c.prototype.hasBuilder=function(s){return!!TN[s]},c.prototype.add=function(s){TN[s](this.opt,this.axisModel,this.group,this._transformGroup)},c.prototype.getGroup=function(){return this.group},c.innerTextLayout=function(s,a,u){var d,p,g=W(a-s);return te(g)?(p=u>0?"top":"bottom",d="center"):te(g-dg)?(p=u>0?"bottom":"top",d="center"):(p="middle",d=g>0&&g<dg?u>0?"right":"left":u>0?"left":"right"),{rotation:g,textAlign:d,textVerticalAlign:p}},c.makeAxisEventDataBase=function(s){var a={componentType:s.mainType,componentIndex:s.componentIndex};return a[s.mainType+"Index"]=s.componentIndex,a},c.isLabelSilent=function(s){var a=s.get("tooltip");return s.get("silent")||!(s.get("triggerEvent")||a&&a.show)},c}(),TN={axisLine:function(c,s,a,u){var d=s.get(["axisLine","show"]);if("auto"===d&&c.handleAutoShown&&(d=c.handleAutoShown("axisLine")),d){var p=s.axis.getExtent(),g=u.transform,v=[p[0],0],y=[p[1],0];g&&(cr(v,v,g),cr(y,y,g));var x=it({lineCap:"round"},s.getModel(["axisLine","lineStyle"]).getLineStyle()),C=new Fa({subPixelOptimize:!0,shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:x,strokeContainThreshold:c.strokeContainThreshold||5,silent:!0,z2:1});C.anid="line",a.add(C);var w=s.get(["axisLine","symbol"]);if(null!=w){var D=s.get(["axisLine","symbolSize"]);"string"==typeof w&&(w=[w,w]),"string"!=typeof D&&"number"!=typeof D||(D=[D,D]);var P=L0(s.get(["axisLine","symbolOffset"])||0,D),z=D[0],k=D[1];fe([{rotate:c.rotation+Math.PI/2,offset:P[0],r:0},{rotate:c.rotation-Math.PI/2,offset:P[1],r:Math.sqrt((v[0]-y[0])*(v[0]-y[0])+(v[1]-y[1])*(v[1]-y[1]))}],function(E,F){if("none"!==w[F]&&null!=w[F]){var B=da(w[F],-z/2,-k/2,z,k,x.stroke,!0),H=E.r+E.offset;B.attr({rotation:E.rotate,x:v[0]+H*Math.cos(c.rotation),y:v[1]-H*Math.sin(c.rotation),silent:!0,z2:11}),a.add(B)}})}}},axisTickLabel:function(c,s,a,u){var d=function(g,v,y,x){var C=y.axis,w=y.getModel("axisTick"),D=w.get("show");if("auto"===D&&x.handleAutoShown&&(D=x.handleAutoShown("axisTick")),D&&!C.scale.isBlank()){for(var P=w.getModel("lineStyle"),z=x.tickDirection*w.get("length"),k=MN(C.getTicksCoords(),v.transform,z,jt(P.getLineStyle(),{stroke:y.get(["axisLine","lineStyle","color"])}),"ticks"),E=0;E<k.length;E++)g.add(k[E]);return k}}(a,u,s,c),p=function(g,v,y,x){var C=y.axis;if(sa(x.axisLabelShow,y.get(["axisLabel","show"]))&&!C.scale.isBlank()){var w=y.getModel("axisLabel"),D=w.get("margin"),P=C.getViewLabels(),z=(sa(x.labelRotate,w.get("rotate"))||0)*dg/180,k=Sc.innerTextLayout(x.rotation,z,x.labelDirection),E=y.getCategories&&y.getCategories(!0),F=[],B=Sc.isLabelSilent(y),H=y.get("triggerEvent");return fe(P,function(Y,U){var j="ordinal"===C.scale.type?C.scale.getRawOrdinalNumber(Y.tickValue):Y.tickValue,q=Y.formattedLabel,Q=Y.rawLabel,re=w;if(E&&E[j]){var oe=E[j];rn(oe)&&oe.textStyle&&(re=new tr(oe.textStyle,w,y.ecModel))}var ae=re.getTextColor()||y.get(["axisLine","lineStyle","color"]),he=C.dataToCoord(j),me=new Ni({x:he,y:x.labelOffset+x.labelDirection*D,rotation:k.rotation,silent:B,z2:10+(Y.level||0),style:ha(re,{text:q,align:re.getShallow("align",!0)||k.textAlign,verticalAlign:re.getShallow("verticalAlign",!0)||re.getShallow("baseline",!0)||k.textVerticalAlign,fill:"function"==typeof ae?ae("category"===C.type?Q:"value"===C.type?j+"":j,U):ae})});if(me.anid="label_"+j,H){var _e=Sc.makeAxisEventDataBase(y);_e.targetType="axisLabel",_e.value=Q,Pn(me).eventData=_e}v.add(me),me.updateTransform(),F.push(me),g.add(me),me.decomposeTransform()}),F}}(a,u,s,c);(function(g,v,y){if(!vD(g.axis)){var x=g.get(["axisLabel","showMinLabel"]),C=g.get(["axisLabel","showMaxLabel"]),w=(v=v||[])[0],D=v[1],P=v[v.length-1],z=v[v.length-2],k=(y=y||[])[0],E=y[1],F=y[y.length-1],B=y[y.length-2];!1===x?(Ru(w),Ru(k)):Xq(w,D)&&(x?(Ru(D),Ru(E)):(Ru(w),Ru(k))),!1===C?(Ru(P),Ru(F)):Xq(z,P)&&(C?(Ru(z),Ru(B)):(Ru(P),Ru(F)))}})(s,p,d),function(g,v,y,x){var C=y.axis,w=y.getModel("minorTick");if(w.get("show")&&!C.scale.isBlank()){var D=C.getMinorTicksCoords();if(D.length)for(var P=w.getModel("lineStyle"),z=x*w.get("length"),k=jt(P.getLineStyle(),jt(y.getModel("axisTick").getLineStyle(),{stroke:y.get(["axisLine","lineStyle","color"])})),E=0;E<D.length;E++)for(var F=MN(D[E],v.transform,z,k,"minorticks_"+E),B=0;B<F.length;B++)g.add(F[B])}}(a,u,s,c.tickDirection),s.get(["axisLabel","hideOverlap"])&&GR(TD(tt(p,function(g){return{label:g,priority:g.z2,defaultAttr:{ignore:g.ignore}}})))},axisName:function(c,s,a,u){var j,Q,re,oe,ae,he,me,d=sa(c.axisName,s.get("name"));if(d){var p,g,v=s.get("nameLocation"),y=c.nameDirection,x=s.getModel("nameTextStyle"),C=s.get("nameGap")||0,w=s.axis.getExtent(),D=w[0]>w[1]?-1:1,P=["start"===v?w[0]-D*C:"end"===v?w[1]+D*C:(w[0]+w[1])/2,eP(v)?c.labelOffset+y*C:0],z=s.get("nameRotate");null!=z&&(z=z*dg/180),eP(v)?p=Sc.innerTextLayout(c.rotation,z??c.rotation,y):(j=v,Q=w,ae=W((z||0)-c.rotation),he=Q[0]>Q[1],me="start"===j&&!he||"start"!==j&&he,te(ae-dg/2)?(oe=me?"bottom":"top",re="center"):te(ae-1.5*dg)?(oe=me?"top":"bottom",re="center"):(oe="middle",re=ae<1.5*dg&&ae>dg/2?me?"left":"right":me?"right":"left"),p={rotation:ae,textAlign:re,textVerticalAlign:oe},null!=(g=c.axisNameAvailableWidth)&&(g=Math.abs(g/Math.sin(p.rotation)),!isFinite(g)&&(g=null)));var k=x.getFont(),E=s.get("nameTruncate",!0)||{},F=E.ellipsis,B=sa(c.nameTruncateMaxWidth,E.maxWidth,g),H=new Ni({x:P[0],y:P[1],rotation:p.rotation,silent:Sc.isLabelSilent(s),style:ha(x,{text:d,font:k,overflow:"truncate",width:B,ellipsis:F,fill:x.getTextColor()||s.get(["axisLine","lineStyle","color"]),align:x.get("align")||p.textAlign,verticalAlign:x.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(Vs({el:H,componentModel:s,itemName:d}),H.__fullText=d,H.anid="name",s.get("triggerEvent")){var Y=Sc.makeAxisEventDataBase(s);Y.targetType="axisName",Y.name=d,Pn(H).eventData=Y}u.add(H),H.updateTransform(),a.add(H),H.decomposeTransform()}}};function Ru(c){c&&(c.ignore=!0)}function Xq(c,s){var a=c&&c.getBoundingRect().clone(),u=s&&s.getBoundingRect().clone();if(a&&u){var d=ch([]);return kl(d,d,-c.rotation),a.applyTransform(ol([],d,c.getLocalTransform())),u.applyTransform(ol([],d,s.getLocalTransform())),a.intersect(u)}}function eP(c){return"middle"===c||"center"===c}function MN(c,s,a,u,d){for(var p=[],g=[],v=[],y=0;y<c.length;y++){var x=c[y].coord;g[0]=x,g[1]=0,v[0]=x,v[1]=a,s&&(cr(g,g,s),cr(v,v,s));var C=new Fa({subPixelOptimize:!0,shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},style:u,z2:2,autoBatch:!0,silent:!0});C.anid=d+"_"+c[y].tickValue,p.push(C)}return p}function PN(c,s){return"all"===c||at(c)&&Gn(c,s)>=0||c===s}function tP(c){var s=xC(c);if(s){var a=s.axisPointerModel,u=s.axis.scale,d=a.option,p=a.get("status"),g=a.get("value");null!=g&&(g=u.parse(g));var v=bC(a);null==p&&(d.status=v?"show":"hide");var y=u.getExtent().slice();y[0]>y[1]&&y.reverse(),(null==g||g>y[1])&&(g=y[1]),g<y[0]&&(g=y[0]),d.value=g,v&&(d.status=s.axis.scale.isBlank()?"hide":"show")}}function xC(c){var s=(c.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return s&&s.axesInfo[Y_(c)]}function bC(c){return!!c.get(["handle","show"])}function Y_(c){return c.type+"||"+c.id}var nP={},q1=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d,p){this.axisPointerClass&&tP(a),c.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(a,d,!0)},s.prototype.updateAxisPointer=function(a,u,d,p){this._doUpdateAxisPointerClass(a,d,!1)},s.prototype.remove=function(a,u){var d=this._axisPointer;d&&d.remove(u)},s.prototype.dispose=function(a,u){this._disposeAxisPointer(u),c.prototype.dispose.apply(this,arguments)},s.prototype._doUpdateAxisPointerClass=function(a,u,d){var y,p=s.getAxisPointerClass(this.axisPointerClass);if(p){var g=(y=xC(a))&&y.axisPointerModel;g?(this._axisPointer||(this._axisPointer=new p)).render(a,g,u,d):this._disposeAxisPointer(u)}},s.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},s.registerAxisPointerClass=function(a,u){nP[a]=u},s.getAxisPointerClass=function(a){return a&&nP[a]},s.type="axis",s}($r),If=Zi();function l8(c,s,a,u){var d=a.axis;if(!d.scale.isBlank()){var p=a.getModel("splitArea"),g=p.getModel("areaStyle"),v=g.get("color"),y=u.coordinateSystem.getRect(),x=d.getTicksCoords({tickModel:p,clamp:!0});if(x.length){var C=v.length,w=If(c).splitAreaColors,D=qt(),P=0;if(w)for(var z=0;z<x.length;z++){var k=w.get(x[z].tickValue);if(null!=k){P=(k+(C-1)*z)%C;break}}var E=d.toGlobalCoord(x[0].coord),F=g.getAreaStyle();for(v=at(v)?v:[v],z=1;z<x.length;z++){var B=d.toGlobalCoord(x[z].coord),H=void 0,Y=void 0,U=void 0,j=void 0;d.isHorizontal()?(Y=y.y,j=y.height,E=(H=E)+(U=B-H)):(H=y.x,U=y.width,E=(Y=E)+(j=B-Y));var q=x[z-1].tickValue;null!=q&&D.set(q,P),s.add(new gi({anid:null!=q?"area_"+q:null,shape:{x:H,y:Y,width:U,height:j},style:jt({fill:v[P]},F),autoBatch:!0,silent:!0})),P=(P+1)%C}If(c).splitAreaColors=D}}}function iP(c){If(c).splitAreaColors=null}var qq=["axisLine","axisTickLabel","axisName"],rP=["splitArea","splitLine","minorSplitLine"],Zq=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.axisPointerClass="CartesianAxisPointer",a}return Ee(s,c),s.prototype.render=function(a,u,d,p){this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new Xt,this.group.add(this._axisGroup),a.get("show")){var v=a.getCoordSysModel(),y=Ef(v,a),x=new Sc(a,it({handleAutoShown:function(C){for(var w=v.coordinateSystem.getCartesians(),D=0;D<w.length;D++){var P=w[D].getOtherAxis(a.axis).type;if("value"===P||"log"===P)return!0}return!1}},y));fe(qq,x.add,x),this._axisGroup.add(x.getGroup()),fe(rP,function(C){a.get([C,"show"])&&Bce[C](this,this._axisGroup,a,v)},this),p&&"changeAxisOrder"===p.type&&p.isInitSort||Z2(g,this._axisGroup,a),c.prototype.render.call(this,a,u,d,p)}},s.prototype.remove=function(){iP(this)},s.type="cartesianAxis",s}(q1),Bce={splitLine:function(c,s,a,u){var d=a.axis;if(!d.scale.isBlank()){var p=a.getModel("splitLine"),g=p.getModel("lineStyle"),v=g.get("color");v=at(v)?v:[v];for(var y=u.coordinateSystem.getRect(),x=d.isHorizontal(),C=0,w=d.getTicksCoords({tickModel:p}),D=[],P=[],z=g.getLineStyle(),k=0;k<w.length;k++){var E=d.toGlobalCoord(w[k].coord);x?(D[0]=E,D[1]=y.y,P[0]=E,P[1]=y.y+y.height):(D[0]=y.x,D[1]=E,P[0]=y.x+y.width,P[1]=E);var F=C++%v.length;s.add(new Fa({anid:null!=w[k].tickValue?"line_"+w[k].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:D[0],y1:D[1],x2:P[0],y2:P[1]},style:jt({stroke:v[F]},z),silent:!0}))}}},minorSplitLine:function(c,s,a,u){var d=a.axis,p=a.getModel("minorSplitLine").getModel("lineStyle"),g=u.coordinateSystem.getRect(),v=d.isHorizontal(),y=d.getMinorTicksCoords();if(y.length)for(var x=[],C=[],w=p.getLineStyle(),D=0;D<y.length;D++)for(var P=0;P<y[D].length;P++){var z=d.toGlobalCoord(y[D][P].coord);v?(x[0]=z,x[1]=g.y,C[0]=z,C[1]=g.y+g.height):(x[0]=g.x,x[1]=z,C[0]=g.x+g.width,C[1]=z),s.add(new Fa({anid:"minor_line_"+y[D][P].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:x[0],y1:x[1],x2:C[0],y2:C[1]},style:w,silent:!0}))}},splitArea:function(c,s,a,u){l8(c,s,a,u)}},Kq=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="xAxis",s}(Zq),AN=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=Kq.type,a}return Ee(s,c),s.type="yAxis",s}(Zq),pr=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="grid",a}return Ee(s,c),s.prototype.render=function(a,u){this.group.removeAll(),a.get("show")&&this.group.add(new gi({shape:a.coordinateSystem.getRect(),style:jt({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},s.type="grid",s}($r),zN={offset:0};function kN(c){c.registerComponentView(pr),c.registerComponentModel(Gq),c.registerCoordinateSystem("cartesian2d",hg),H_(c,"x",o8,zN),H_(c,"y",o8,zN),c.registerComponentView(Kq),c.registerComponentView(AN),c.registerPreprocessor(function(s){s.xAxis&&s.yAxis&&!s.grid&&(s.grid={})})}function Vce(c){c.eachSeriesByType("radar",function(s){var a=s.getData(),u=[],d=s.coordinateSystem;if(d){var p=d.getIndicatorAxes();fe(p,function(g,v){a.each(a.mapDimension(p[v].dim),function(y,x){u[x]=u[x]||[];var C=d.dataToPoint(y,v);u[x][v]=Qq(C)?C:Jq(d)})}),a.each(function(g){var v=Is(u[g],function(y){return Qq(y)})||Jq(d);u[g].push(v.slice()),a.setItemLayout(g,u[g])})}})}function Qq(c){return!isNaN(c[0])&&!isNaN(c[1])}function Jq(c){return[c.cx,c.cy]}function Hce(c){var s=c.polar;if(s){at(s)||(s=[s]);var a=[];fe(s,function(u,d){u.indicator?(u.type&&!u.shape&&(u.shape=u.type),c.radar=c.radar||[],at(c.radar)||(c.radar=[c.radar]),c.radar.push(u)):a.push(u)}),c.polar=a}fe(c.series,function(u){u&&"radar"===u.type&&u.polarIndex&&(u.radarIndex=u.polarIndex)})}var Yce=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=a.coordinateSystem,g=this.group,v=a.getData(),y=this._data;function x(D,P){var z=D.getItemVisual(P,"symbol")||"circle";if("none"!==z){var k=x_(D.getItemVisual(P,"symbolSize")),E=da(z,-1,-1,2,2),F=D.getItemVisual(P,"symbolRotate")||0;return E.attr({style:{strokeNoScale:!0},z2:100,scaleX:k[0]/2,scaleY:k[1]/2,rotation:F*Math.PI/180||0}),E}}function C(D,P,z,k,E,F){z.removeAll();for(var B=0;B<P.length-1;B++){var H=x(k,E);H&&(H.__dimIdx=B,D[B]?(H.setPosition(D[B]),Rc[F?"initProps":"updateProps"](H,{x:P[B][0],y:P[B][1]},a,E)):H.setPosition(P[B]),z.add(H))}}function w(D){return tt(D,function(P){return[p.cx,p.cy]})}v.diff(y).add(function(D){var P=v.getItemLayout(D);if(P){var z=new dl,k=new bc,E={shape:{points:P}};z.shape.points=w(P),k.shape.points=w(P),to(z,E,a,D),to(k,E,a,D);var F=new Xt,B=new Xt;F.add(k),F.add(z),F.add(B),C(k.shape.points,P,B,v,D,!0),v.setItemGraphicEl(D,F)}}).update(function(D,P){var z=y.getItemGraphicEl(P),k=z.childAt(0),E=z.childAt(1),F=z.childAt(2),B={shape:{points:v.getItemLayout(D)}};B.shape.points&&(C(k.shape.points,B.shape.points,F,v,D,!1),ld(E),ld(k),Ti(k,B,a),Ti(E,B,a),v.setItemGraphicEl(D,z))}).remove(function(D){g.remove(y.getItemGraphicEl(D))}).execute(),v.eachItemGraphicEl(function(D,P){var z=v.getItemModel(P),k=D.childAt(0),E=D.childAt(1),F=D.childAt(2),B=v.getItemVisual(P,"style"),H=B.fill;g.add(D),k.useStyle(jt(z.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:H})),ys(k,z,"lineStyle"),ys(E,z,"areaStyle");var Y=z.getModel("areaStyle"),U=Y.isEmpty()&&Y.parentModel.isEmpty();E.ignore=U,fe(["emphasis","select","blur"],function(Q){var re=z.getModel([Q,"areaStyle"]),oe=re.isEmpty()&&re.parentModel.isEmpty();E.ensureState(Q).ignore=oe&&U}),E.useStyle(jt(Y.getAreaStyle(),{fill:H,opacity:.7,decal:B.decal}));var j=z.getModel("emphasis"),q=j.getModel("itemStyle").getItemStyle();F.eachChild(function(Q){if(Q instanceof Qo){var re=Q.style;Q.useStyle(it({image:re.image,x:re.x,y:re.y,width:re.width,height:re.height},B))}else Q.useStyle(B),Q.setColor(H),Q.style.strokeNoScale=!0;Q.ensureState("emphasis").style=nn(q);var oe=v.getStore().get(v.getDimensionIndex(Q.__dimIdx),P);(null==oe||isNaN(oe))&&(oe=""),Vl(Q,Hs(z),{labelFetcher:v.hostModel,labelDataIndex:P,labelDimIndex:Q.__dimIdx,defaultText:oe,inheritColor:H,defaultOpacity:B.opacity})}),eo(D,j.get("focus"),j.get("blurScope"))}),this._data=v},s.prototype.remove=function(){this.group.removeAll(),this._data=null},s.type="radar",s}(dr),eZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.hasSymbolVisual=!0,a}return Ee(s,c),s.prototype.init=function(a){c.prototype.init.apply(this,arguments),this.legendVisualProvider=new mC(rt(this.getData,this),rt(this.getRawData,this))},s.prototype.getInitialData=function(a,u){return Z0(this,{generateCoord:"indicator_",generateCoordCount:1/0})},s.prototype.formatTooltip=function(a,u,d){var p=this.getData(),g=this.coordinateSystem.getIndicatorAxes(),v=this.getData().getName(a),y=""===v?this.name:v,x=HL(this,a);return bs("section",{header:y,sortBlocks:!0,blocks:tt(g,function(C){var w=p.get(p.mapDimension(C.dim),a);return bs("nameValue",{markerType:"subItem",markerColor:x,name:C.name,value:w,sortParam:w})})})},s.prototype.getTooltipPosition=function(a){if(null!=a)for(var u=this.getData(),d=this.coordinateSystem,p=u.getValues(tt(d.dimensions,function(x){return u.mapDimension(x)}),a),g=0,v=p.length;g<v;g++)if(!isNaN(p[g])){var y=d.getIndicatorAxes();return d.coordToPoint(y[g].dataToCoord(p[g]),g)}},s.type="series.radar",s.dependencies=["radar"],s.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},s}(Fr),Z1=qD.value;function CC(c,s){return jt({show:s},c)}var tZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.optionUpdated=function(){var a=this.get("boundaryGap"),u=this.get("splitNumber"),d=this.get("scale"),p=this.get("axisLine"),g=this.get("axisTick"),v=this.get("axisLabel"),y=this.get("axisName"),x=this.get(["axisName","show"]),C=this.get(["axisName","formatter"]),w=this.get("axisNameGap"),D=this.get("triggerEvent"),P=tt(this.get("indicator")||[],function(z){null!=z.max&&z.max>0&&!z.min?z.min=0:null!=z.min&&z.min<0&&!z.max&&(z.max=0);var k=y;null!=z.color&&(k=jt({color:z.color},y));var E=Mn(nn(z),{boundaryGap:a,splitNumber:u,scale:d,axisLine:p,axisTick:g,axisLabel:v,name:z.text,nameLocation:"end",nameGap:w,nameTextStyle:k,triggerEvent:D},!1);x||(E.name=""),"string"==typeof C?E.name=C.replace("{value}",E.name??""):"function"==typeof C&&(E.name=C(E.name,E));var B=new tr(E,null,this.ecModel);return Gr(B,I_.prototype),B.mainType="radar",B.componentIndex=this.componentIndex,B},this);this._indicatorModels=P},s.prototype.getIndicatorModels=function(){return this._indicatorModels},s.type="radar",s.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Mn({lineStyle:{color:"#bbb"}},Z1.axisLine),axisLabel:CC(Z1.axisLabel,!1),axisTick:CC(Z1.axisTick,!1),splitLine:CC(Z1.splitLine,!0),splitArea:CC(Z1.splitArea,!0),indicator:[]},s}(di),ON=["axisLine","axisTickLabel","axisName"],K0=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){this.group.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},s.prototype._buildAxes=function(a){var u=a.coordinateSystem;fe(tt(u.getIndicatorAxes(),function(d){return new Sc(d.model,{position:[u.cx,u.cy],rotation:d.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(d){fe(ON,d.add,d),this.group.add(d.getGroup())},this)},s.prototype._buildSplitLineAndArea=function(a){var u=a.coordinateSystem,d=u.getIndicatorAxes();if(d.length){var p=a.get("shape"),g=a.getModel("splitLine"),v=a.getModel("splitArea"),y=g.getModel("lineStyle"),x=v.getModel("areaStyle"),C=g.get("show"),w=v.get("show"),D=y.get("color"),P=x.get("color"),z=at(D)?D:[D],k=at(P)?P:[P],E=[],F=[];if("circle"===p)for(var B=d[0].getTicksCoords(),H=u.cx,Y=u.cy,U=0;U<B.length;U++)C&&E[me(E,z,U)].push(new bh({shape:{cx:H,cy:Y,r:B[U].coord}})),w&&U<B.length-1&&F[me(F,k,U)].push(new A1({shape:{cx:H,cy:Y,r0:B[U].coord,r:B[U+1].coord}}));else{var j,q=tt(d,function(_e,be){var we=_e.getTicksCoords();return j=null==j?we.length-1:Math.min(we.length-1,j),tt(we,function(Te){return u.coordToPoint(Te.coord,be)})}),Q=[];for(U=0;U<=j;U++){for(var re=[],oe=0;oe<d.length;oe++)re.push(q[oe][U]);re[0]&&re.push(re[0].slice()),C&&E[me(E,z,U)].push(new bc({shape:{points:re}})),w&&Q&&F[me(F,k,U-1)].push(new dl({shape:{points:re.concat(Q)}})),Q=re.slice().reverse()}}var ae=y.getLineStyle(),he=x.getAreaStyle();fe(F,function(_e,be){this.group.add(Cc(_e,{style:jt({stroke:"none",fill:k[be%k.length]},he),silent:!0}))},this),fe(E,function(_e,be){this.group.add(Cc(_e,{style:jt({fill:"none",stroke:z[be%z.length]},ae),silent:!0}))},this)}function me(_e,be,we){var Te=we%be.length;return _e[Te]=_e[Te]||[],Te}},s.type="radar",s}($r),EN=function(c){function s(a,u,d){var p=c.call(this,a,u,d)||this;return p.type="value",p.angle=0,p.name="",p}return Ee(s,c),s}(Iu),oP=function(){function c(s,a,u){this.dimensions=[],this._model=s,this._indicatorAxes=tt(s.getIndicatorModels(),function(d,p){var g="indicator_"+p,v=new EN(g,new A_);return v.name=d.get("name"),v.model=d,d.axis=v,this.dimensions.push(g),v},this),this.resize(s,u)}return c.prototype.getIndicatorAxes=function(){return this._indicatorAxes},c.prototype.dataToPoint=function(s,a){return this.coordToPoint(this._indicatorAxes[a].dataToCoord(s),a)},c.prototype.coordToPoint=function(s,a){var u=this._indicatorAxes[a].angle;return[this.cx+s*Math.cos(u),this.cy-s*Math.sin(u)]},c.prototype.pointToData=function(s){var a=s[0]-this.cx,u=s[1]-this.cy,d=Math.sqrt(a*a+u*u);a/=d,u/=d;for(var p,g=Math.atan2(-u,a),v=1/0,y=-1,x=0;x<this._indicatorAxes.length;x++){var C=this._indicatorAxes[x],w=Math.abs(g-C.angle);w<v&&(p=C,y=x,v=w)}return[y,+(p&&p.coordToData(d))]},c.prototype.resize=function(s,a){var u=s.get("center"),d=a.getWidth(),p=a.getHeight(),g=Math.min(d,p)/2;this.cx=At(u[0],d),this.cy=At(u[1],p),this.startAngle=s.get("startAngle")*Math.PI/180;var v=s.get("radius");"string"!=typeof v&&"number"!=typeof v||(v=[0,v]),this.r0=At(v[0],g),this.r=At(v[1],g),fe(this._indicatorAxes,function(y,x){y.setExtent(this.r0,this.r);var C=this.startAngle+x*Math.PI*2/this._indicatorAxes.length;C=Math.atan2(Math.sin(C),Math.cos(C)),y.angle=C},this)},c.prototype.update=function(s,a){var u=this._indicatorAxes,d=this._model;fe(u,function(v){v.scale.setExtent(1/0,-1/0)}),s.eachSeriesByType("radar",function(v,y){if("radar"===v.get("coordinateSystem")&&s.getComponent("radar",v.get("radarIndex"))===d){var x=v.getData();fe(u,function(C){C.scale.unionExtentFromData(x,x.mapDimension(C.dim))})}},this);var p=d.get("splitNumber");function g(v){var y=Math.pow(10,Math.floor(Math.log(v)/Math.LN10)),x=v/y;return 2===x?x=5:x*=2,x*y}fe(u,function(v,y){var x=LR(v.scale,v.model).extent;U1(v.scale,v.model);var C=v.model,w=v.scale,D=E_(w,C.get("min",!0)),P=E_(w,C.get("max",!0)),z=w.getInterval();if(null!=D&&null!=P)w.setExtent(+D,+P),w.setInterval((P-D)/p);else if(null!=D){var k=void 0;do{w.setExtent(+D,k=D+z*p),w.setInterval(z),z=g(z)}while(k<x[1]&&isFinite(k)&&isFinite(x[1]))}else if(null!=P){var E=void 0;do{w.setExtent(E=P-z*p,+P),w.setInterval(z),z=g(z)}while(E>x[0]&&isFinite(E)&&isFinite(x[0]))}else w.getTicks().length-1>p&&(z=g(z)),E=Ma((k=Math.ceil(x[1]/z)*z)-z*p),w.setExtent(E,k),w.setInterval(z)})},c.prototype.convertToPixel=function(s,a,u){return console.warn("Not implemented."),null},c.prototype.convertFromPixel=function(s,a,u){return console.warn("Not implemented."),null},c.prototype.containPoint=function(s){return console.warn("Not implemented."),!1},c.create=function(s,a){var u=[];return s.eachComponent("radar",function(d){var p=new c(d,s,a);u.push(p),d.coordinateSystem=p}),s.eachSeriesByType("radar",function(d){"radar"===d.get("coordinateSystem")&&(d.coordinateSystem=u[d.get("radarIndex")||0])}),u},c.dimensions=[],c}();function aP(c){c.registerCoordinateSystem("radar",oP),c.registerComponentModel(tZ),c.registerComponentView(K0),c.registerVisual({seriesType:"radar",reset:function(s){var a=s.getData();a.each(function(u){a.setItemVisual(u,"legendIcon","roundRect")}),a.setVisual("legendIcon","roundRect")}})}var IN="\0_ec_interaction_mutex";function wC(c,s){return!!c8(c)[s]}function c8(c){return c[IN]||(c[IN]={})}Mh({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var K1=function(c){function s(a){var u=c.call(this)||this;u._zr=a;var d=rt(u._mousedownHandler,u),p=rt(u._mousemoveHandler,u),g=rt(u._mouseupHandler,u),v=rt(u._mousewheelHandler,u),y=rt(u._pinchHandler,u);return u.enable=function(x,C){this.disable(),this._opt=jt(nn(C)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==x&&(x=!0),!0!==x&&"move"!==x&&"pan"!==x||(a.on("mousedown",d),a.on("mousemove",p),a.on("mouseup",g)),!0!==x&&"scale"!==x&&"zoom"!==x||(a.on("mousewheel",v),a.on("pinch",y))},u.disable=function(){a.off("mousedown",d),a.off("mousemove",p),a.off("mouseup",g),a.off("mousewheel",v),a.off("pinch",y)},u}return Ee(s,c),s.prototype.isDragging=function(){return this._dragging},s.prototype.isPinching=function(){return this._pinching},s.prototype.setPointerChecker=function(a){this.pointerChecker=a},s.prototype.dispose=function(){this.disable()},s.prototype._mousedownHandler=function(a){if(!(Sn(a)||a.target&&a.target.draggable)){var u=a.offsetX,d=a.offsetY;this.pointerChecker&&this.pointerChecker(a,u,d)&&(this._x=u,this._y=d,this._dragging=!0)}},s.prototype._mousemoveHandler=function(a){if(this._dragging&&sP("moveOnMouseMove",a,this._opt)&&"pinch"!==a.gestureEvent&&!wC(this._zr,"globalPan")){var u=a.offsetX,d=a.offsetY,p=this._x,g=this._y,v=u-p,y=d-g;this._x=u,this._y=d,this._opt.preventDefaultMouseMove&&el(a.event),nZ(this,"pan","moveOnMouseMove",a,{dx:v,dy:y,oldX:p,oldY:g,newX:u,newY:d,isAvailableBehavior:null})}},s.prototype._mouseupHandler=function(a){Sn(a)||(this._dragging=!1)},s.prototype._mousewheelHandler=function(a){var u=sP("zoomOnMouseWheel",a,this._opt),d=sP("moveOnMouseWheel",a,this._opt),p=a.wheelDelta,g=Math.abs(p),v=a.offsetX,y=a.offsetY;if(0!==p&&(u||d)){if(u){var x=g>3?1.4:g>1?1.2:1.1;LN(this,"zoom","zoomOnMouseWheel",a,{scale:p>0?x:1/x,originX:v,originY:y,isAvailableBehavior:null})}if(d){var C=Math.abs(p);LN(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(p>0?1:-1)*(C>3?.4:C>1?.15:.05),originX:v,originY:y,isAvailableBehavior:null})}}},s.prototype._pinchHandler=function(a){wC(this._zr,"globalPan")||LN(this,"zoom",null,a,{scale:a.pinchScale>1?1.1:1/1.1,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})},s}(Rs);function LN(c,s,a,u,d){c.pointerChecker&&c.pointerChecker(u,d.originX,d.originY)&&(el(u.event),nZ(c,s,a,u,d))}function nZ(c,s,a,u,d){d.isAvailableBehavior=rt(sP,null,a,u),c.trigger(s,d)}function sP(c,s,a){var u=a[c];return!c||u&&(!ui(u)||s.event[u+"Key"])}function RN(c,s,a){var u=c.target;u.x+=s,u.y+=a,u.dirty()}function SC(c,s,a,u){var d=c.target,p=c.zoomLimit,g=c.zoom=c.zoom||1;if(g*=s,p){var v=p.min||0;g=Math.max(Math.min(p.max||1/0,g),v)}var x=g/c.zoom;c.zoom=g,d.x-=(a-d.x)*(x-1),d.y-=(u-d.y)*(x-1),d.scaleX*=x,d.scaleY*=x,d.dirty()}var iZ={axisPointer:1,tooltip:1,brush:1};function TC(c,s,a){var u=s.getComponentByElement(c.topTarget),d=u&&u.coordinateSystem;return u&&u!==a&&!iZ.hasOwnProperty(u.mainType)&&d&&d.model!==a}var lP=["rect","circle","line","ellipse","polygon","polyline","path"],rZ=qt(lP),NN=qt(lP.concat(["g"])),FN=qt(lP.concat(["g"])),cP=Zi();function MC(c){var s=c.getItemStyle(),a=c.get("areaColor");return null!=a&&(s.fill=a),s}var BN=function(){function c(s){var a=new Xt;this.uid=J2("ec_map_draw"),this._controller=new K1(s.getZr()),this._controllerHost={target:a},this.group=a,a.add(this._regionsGroup=new Xt),a.add(this._svgGroup=new Xt)}return c.prototype.draw=function(s,a,u,d,p){var g="geo"===s.mainType,v=s.getData&&s.getData();g&&a.eachComponent({mainType:"series",subType:"map"},function(E){v||E.getHostGeoModel()!==s||(v=E.getData())});var y=s.coordinateSystem,x=this._regionsGroup,C=this.group,w=y.getTransformInfo(),D=w.raw,P=w.roam;!x.childAt(0)||p?(C.x=P.x,C.y=P.y,C.scaleX=P.scaleX,C.scaleY=P.scaleY,C.dirty()):Ti(C,P,s);var z=v&&v.getVisual("visualMeta")&&v.getVisual("visualMeta").length>0,k={api:u,geo:y,mapOrGeoModel:s,data:v,isVisualEncodedByVisualMap:z,isGeo:g,transformInfoRaw:D};"geoJSON"===y.resourceType?this._buildGeoJSON(k):"geoSVG"===y.resourceType&&this._buildSVG(k),this._updateController(s,a,u),this._updateMapSelectHandler(s,x,u,d)},c.prototype._buildGeoJSON=function(s){var a=this._regionsGroupByName=qt(),u=qt(),d=this._regionsGroup,p=s.transformInfoRaw,g=s.mapOrGeoModel,v=s.data,y=function(x){return[x[0]*p.scaleX+p.x,x[1]*p.scaleY+p.y]};d.removeAll(),fe(s.geo.regions,function(x){var C=x.name,w=a.get(C),D=u.get(C)||{},P=D.dataIdx,z=D.regionModel;w||(w=a.set(C,new Xt),d.add(w),P=v?v.indexOfName(C):null,z=s.isGeo?g.getRegionModel(C):v?v.getItemModel(P):null,u.set(C,{dataIdx:P,regionModel:z}));var k=new L5({segmentIgnoreThreshold:1,shape:{paths:[]}});w.add(k),fe(x.geometries,function(F){if("polygon"===F.type){for(var B=[],H=0;H<F.exterior.length;++H)B.push(y(F.exterior[H]));for(k.shape.paths.push(new dl({segmentIgnoreThreshold:1,shape:{points:B}})),H=0;H<(F.interiors?F.interiors.length:0);++H){for(var Y=F.interiors[H],U=[],j=0;j<Y.length;++j)U.push(y(Y[j]));k.shape.paths.push(new dl({segmentIgnoreThreshold:1,shape:{points:U}}))}}}),uP(s,k,P,z),k instanceof id&&(k.culling=!0);var E=y(x.getCenter());U_(s,k,C,z,g,P,E)}),a.each(function(x,C){var w=u.get(C),P=w.regionModel;oZ(s,x,C,P,g,w.dataIdx),hP(s,x,C,P,g),G_(s,x,C,P,g)},this)},c.prototype._buildSVG=function(s){var a=s.geo.map,u=s.transformInfoRaw;this._svgGroup.x=u.x,this._svgGroup.y=u.y,this._svgGroup.scaleX=u.scaleX,this._svgGroup.scaleY=u.scaleY,this._svgResourceChanged(a)&&(this._freeSVG(),this._useSVG(a));var d=this._svgDispatcherMap=qt(),p=!1;fe(this._svgGraphicRecord.named,function(g){var v=g.name,y=s.mapOrGeoModel,x=s.data,C=g.svgNodeTagLower,w=g.el,D=x?x.indexOfName(v):null,P=y.getRegionModel(v);null!=rZ.get(C)&&w instanceof id&&uP(s,w,D,P),w instanceof id&&(w.culling=!0),w.z2EmphasisLift=0,g.namedFrom||(null!=FN.get(C)&&U_(s,w,v,P,y,D,null),oZ(s,w,v,P,y,D),hP(s,w,v,P,y),null!=NN.get(C)&&("self"===G_(s,w,v,P,y)&&(p=!0),(d.get(v)||d.set(v,[])).push(w)))},this),this._enableBlurEntireSVG(p,s)},c.prototype._enableBlurEntireSVG=function(s,a){if(s&&a.isGeo){var u=a.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(d){if(!d.isGroup){vf(d);var p=d.ensureState("blur").style||{};null==p.opacity&&null!=u&&(p.opacity=u),d.ensureState("emphasis")}})}},c.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},c.prototype.findHighDownDispatchers=function(s,a){if(null==s)return[];var u=a.coordinateSystem;if("geoJSON"===u.resourceType){var d=this._regionsGroupByName;if(d){var p=d.get(s);return p?[p]:[]}}else if("geoSVG"===u.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(s)||[]},c.prototype._svgResourceChanged=function(s){return this._svgMapName!==s},c.prototype._useSVG=function(s){var a=Db(s);if(a&&"geoSVG"===a.type){var u=a.useGraphic(this.uid);this._svgGroup.add(u.root),this._svgGraphicRecord=u,this._svgMapName=s}},c.prototype._freeSVG=function(){var s=this._svgMapName;if(null!=s){var a=Db(s);a&&"geoSVG"===a.type&&a.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},c.prototype._updateController=function(s,a,u){var d=s.coordinateSystem,p=this._controller,g=this._controllerHost;g.zoomLimit=s.get("scaleLimit"),g.zoom=d.getZoom(),p.enable(s.get("roam")||!1);var v=s.mainType;function y(){var x={type:"geoRoam",componentType:v};return x[v+"Id"]=s.id,x}p.off("pan").on("pan",function(x){this._mouseDownFlag=!1,RN(g,x.dx,x.dy),u.dispatchAction(it(y(),{dx:x.dx,dy:x.dy}))},this),p.off("zoom").on("zoom",function(x){this._mouseDownFlag=!1,SC(g,x.scale,x.originX,x.originY),u.dispatchAction(it(y(),{zoom:x.scale,originX:x.originX,originY:x.originY}))},this),p.setPointerChecker(function(x,C,w){return d.containPoint([C,w])&&!TC(x,u,s)})},c.prototype.resetForLabelLayout=function(){this.group.traverse(function(s){var a=s.getTextContent();a&&(a.ignore=cP(a).ignore)})},c.prototype._updateMapSelectHandler=function(s,a,u,d){var p=this;a.off("mousedown"),a.off("click"),s.get("selectedMode")&&(a.on("mousedown",function(){p._mouseDownFlag=!0}),a.on("click",function(g){p._mouseDownFlag&&(p._mouseDownFlag=!1)}))},c}();function uP(c,s,a,u){var d=u.getModel("itemStyle"),p=u.getModel(["emphasis","itemStyle"]),g=u.getModel(["blur","itemStyle"]),v=u.getModel(["select","itemStyle"]),y=MC(d),x=MC(p),C=MC(v),w=MC(g),D=c.data;if(D){var P=D.getItemVisual(a,"style"),z=D.getItemVisual(a,"decal");c.isVisualEncodedByVisualMap&&P.fill&&(y.fill=P.fill),z&&(y.decal=He(z,c.api))}s.setStyle(y),s.style.strokeNoScale=!0,s.ensureState("emphasis").style=x,s.ensureState("select").style=C,s.ensureState("blur").style=w,vf(s)}function U_(c,s,a,u,d,p,g){var v=c.data,y=c.isGeo,x=v&&isNaN(v.get(v.mapDimension("value"),p)),C=v&&v.getItemLayout(p);if(y||x||C&&C.showLabel){var w=y?a:p,D=void 0;(!v||p>=0)&&(D=d);var P=g?{normal:{align:"center",verticalAlign:"middle"}}:null;Vl(s,Hs(u),{labelFetcher:D,labelDataIndex:w,defaultText:a},P);var z=s.getTextContent();if(z&&(cP(z).ignore=z.ignore,s.textConfig&&g)){var k=s.getBoundingRect().clone();s.textConfig.layoutRect=k,s.textConfig.position=[(g[0]-k.x)/k.width*100+"%",(g[1]-k.y)/k.height*100+"%"]}s.disableLabelAnimation=!0}else s.removeTextContent(),s.removeTextConfig(),s.disableLabelAnimation=null}function oZ(c,s,a,u,d,p){c.data?c.data.setItemGraphicEl(p,s):Pn(s).eventData={componentType:"geo",componentIndex:d.componentIndex,geoIndex:d.componentIndex,name:a,region:u&&u.option||{}}}function hP(c,s,a,u,d){c.data||Vs({el:s,componentModel:d,itemName:a,itemTooltipOption:u.get("tooltip")})}function G_(c,s,a,u,d){s.highDownSilentOnTouch=!!d.get("selectedMode");var y,x,C,p=u.getModel("emphasis"),g=p.get("focus");return eo(s,g,p.get("blurScope")),c.isGeo&&(y=d,x=a,(C=Pn(s)).componentMainType=y.mainType,C.componentIndex=y.componentIndex,C.componentHighDownName=x),g}var aZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d,p){if(!p||"mapToggleSelect"!==p.type||p.from!==this.uid){var g=this.group;if(g.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&p&&"geoRoam"===p.type&&this._mapDraw.resetForLabelLayout(),p&&"geoRoam"===p.type&&"series"===p.componentType&&p.seriesId===a.id)(v=this._mapDraw)&&g.add(v.group);else if(a.needsDrawMap){var v=this._mapDraw||new BN(d);g.add(v.group),v.draw(a,u,d,this,p),this._mapDraw=v}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&u.getComponent("legend")&&this._renderSymbols(a,u,d)}}},s.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},s.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},s.prototype._renderSymbols=function(a,u,d){var p=a.originalData,g=this.group;p.each(p.mapDimension("value"),function(v,y){if(!isNaN(v)){var x=p.getItemLayout(y);if(x&&x.point){var C=x.point,w=x.offset,D=new bh({style:{fill:a.getData().getVisual("style").fill},shape:{cx:C[0]+9*w,cy:C[1],r:3},silent:!0,z2:8+(w?0:11)});if(!w){var P=a.mainSeries.getData(),z=p.getName(y),k=P.indexOfName(z),E=p.getItemModel(y),F=E.getModel("label"),B=P.getItemGraphicEl(k);Vl(D,Hs(E),{labelFetcher:{getFormattedLabel:function(H,Y){return a.getFormattedLabel(k,Y)}}}),D.disableLabelAnimation=!0,F.get("position")||D.setTextConfig({position:"bottom"}),B.onHoverStateChange=function(H){P5(D,H)}}g.add(D)}}})},s.type="map",s}(dr),sZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(u){if(null!=u){var d=this.getData().getName(u),p=this.coordinateSystem,g=p.getRegion(d);return g&&p.dataToPoint(g.getCenter())}},a}return Ee(s,c),s.prototype.getInitialData=function(a){for(var u=Z0(this,{coordDimensions:["value"],encodeDefaulter:Je(NM,this)}),d=qt(),p=[],g=0,v=u.count();g<v;g++){var y=u.getName(g);d.set(y,!0)}return fe(pR(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(x){var C=x.name;d.get(C)||p.push(C)}),u.appendValues([],p),u},s.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return null!=a?this.ecModel.getComponent("geo",a):null},s.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},s.prototype.getRawValue=function(a){var u=this.getData();return u.get(u.mapDimension("value"),a)},s.prototype.getRegionModel=function(a){var u=this.getData();return u.getItemModel(u.indexOfName(a))},s.prototype.formatTooltip=function(a,u,d){for(var p=this.getData(),g=this.getRawValue(a),v=p.getName(a),y=this.seriesGroup,x=[],C=0;C<y.length;C++){var w=y[C].originalData.indexOfName(v),D=p.mapDimension("value");isNaN(y[C].originalData.get(D,w))||x.push(y[C].name)}return bs("section",{header:x.join(", "),noHeader:!x.length,blocks:[bs("nameValue",{name:v,value:g})]})},s.prototype.setZoom=function(a){this.option.zoom=a},s.prototype.setCenter=function(a){this.option.center=a},s.prototype.getLegendIcon=function(a){var u=a.icon||"roundRect",d=da(u,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return d.setStyle(a.itemStyle),d.style.stroke="none",u.indexOf("empty")>-1&&(d.style.stroke=d.style.fill,d.style.fill="#fff",d.style.lineWidth=2),d},s.type="series.map",s.dependencies=["geo"],s.layoutMode="box",s.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},s}(Fr);function Uce(c){var s={};c.eachSeriesByType("map",function(a){var u=a.getHostGeoModel(),d=u?"o"+u.id:"i"+a.getMapType();(s[d]=s[d]||[]).push(a)}),fe(s,function(a,u){for(var d,p,g,v=(d=tt(a,function(x){return x.getData()}),p=a[0].get("mapValueCalculation"),g={},fe(d,function(x){x.each(x.mapDimension("value"),function(C,w){var D="ec-"+x.getName(w);g[D]=g[D]||[],isNaN(C)||g[D].push(C)})}),d[0].map(d[0].mapDimension("value"),function(x,C){for(var w="ec-"+d[0].getName(C),D=0,P=1/0,z=-1/0,k=g[w].length,E=0;E<k;E++)P=Math.min(P,g[w][E]),z=Math.max(z,g[w][E]),D+=g[w][E];return 0===k?NaN:"min"===p?P:"max"===p?z:"average"===p?D/k:D})),y=0;y<a.length;y++)a[y].originalData=a[y].getData();for(y=0;y<a.length;y++)a[y].seriesGroup=a,a[y].needsDrawMap=0===y&&!a[y].getHostGeoModel(),a[y].setData(v.cloneShallow()),a[y].mainSeries=a[0]})}function Gce(c){var s={};c.eachSeriesByType("map",function(a){var u=a.getMapType();if(!a.getHostGeoModel()&&!s[u]){var d={};fe(a.seriesGroup,function(g){var v=g.coordinateSystem,y=g.originalData;g.get("showLegendSymbol")&&c.getComponent("legend")&&y.each(y.mapDimension("value"),function(x,C){var w=y.getName(C),D=v.getRegion(w);if(D&&!isNaN(x)){var P=d[w]||0,z=v.dataToPoint(D.getCenter());d[w]=P+1,y.setItemLayout(C,{point:z,offset:P})}})});var p=a.getData();p.each(function(g){var v=p.getName(g),y=p.getItemLayout(g)||{};y.showLabel=!d[v],p.setItemLayout(g,y)}),s[u]=!0}})}var VN=cr,W_=function(c){function s(a){var u=c.call(this)||this;return u.type="view",u.dimensions=["x","y"],u._roamTransformable=new Lr,u._rawTransformable=new Lr,u.name=a,u}return Ee(s,c),s.prototype.setBoundingRect=function(a,u,d,p){return this._rect=new qn(a,u,d,p),this._rect},s.prototype.getBoundingRect=function(){return this._rect},s.prototype.setViewRect=function(a,u,d,p){this._transformTo(a,u,d,p),this._viewRect=new qn(a,u,d,p)},s.prototype._transformTo=function(a,u,d,p){var g=this.getBoundingRect(),v=this._rawTransformable;v.transform=g.calculateTransform(new qn(a,u,d,p));var y=v.parent;v.parent=null,v.decomposeTransform(),v.parent=y,this._updateTransform()},s.prototype.setCenter=function(a){a&&(this._center=a,this._updateCenterAndZoom())},s.prototype.setZoom=function(a){a=a||1;var u=this.zoomLimit;u&&(null!=u.max&&(a=Math.min(u.max,a)),null!=u.min&&(a=Math.max(u.min,a))),this._zoom=a,this._updateCenterAndZoom()},s.prototype.getDefaultCenter=function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},s.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},s.prototype.getZoom=function(){return this._zoom||1},s.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},s.prototype._updateCenterAndZoom=function(){var a=this._rawTransformable.getLocalTransform(),u=this._roamTransformable,d=this.getDefaultCenter(),p=this.getCenter(),g=this.getZoom();p=cr([],p,a),d=cr([],d,a),u.originX=p[0],u.originY=p[1],u.x=d[0]-p[0],u.y=d[1]-p[1],u.scaleX=u.scaleY=g,this._updateTransform()},s.prototype._updateTransform=function(){var a=this._roamTransformable,u=this._rawTransformable;u.parent=a,a.updateTransform(),u.updateTransform(),ut(this.transform||(this.transform=[]),u.transform||[1,0,0,1,0,0]),this._rawTransform=u.getLocalTransform(),this.invTransform=this.invTransform||[],pu(this.invTransform,this.transform),this.decomposeTransform()},s.prototype.getTransformInfo=function(){var a=this._rawTransformable,u=this._roamTransformable,d=new Lr;return d.transform=u.transform,d.decomposeTransform(),{roam:{x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY},raw:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY}}},s.prototype.getViewRect=function(){return this._viewRect},s.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},s.prototype.dataToPoint=function(a,u,d){var p=u?this._rawTransform:this.transform;return d=d||[],p?VN(d,a,p):Ls(d,a)},s.prototype.pointToData=function(a){var u=this.invTransform;return u?VN([],a,u):[a[0],a[1]]},s.prototype.convertToPixel=function(a,u,d){var p=Q0(u);return p===this?p.dataToPoint(d):null},s.prototype.convertFromPixel=function(a,u,d){var p=Q0(u);return p===this?p.pointToData(d):null},s.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},s.dimensions=["x","y"],s}(Lr);function Q0(c){var s=c.seriesModel;return s?s.coordinateSystem:null}var Wce={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},lZ=["lng","lat"],HN=function(c){function s(a,u,d){var p=c.call(this,a)||this;p.dimensions=lZ,p.type="geo",p._nameCoordMap=qt(),p.map=u;var g=pR(u,d.nameMap,d.nameProperty),v=Db(u);p.resourceType=v?v.type:null;var y=Wce[v.type];p._regionsMap=g.regionsMap,p._invertLongitute=y.invertLongitute,p.regions=g.regions,p.aspectScale=xi(d.aspectScale,y.aspectScale);var x=g.boundingRect;return p.setBoundingRect(x.x,x.y,x.width,x.height),p}return Ee(s,c),s.prototype._transformTo=function(a,u,d,p){var g=this.getBoundingRect(),v=this._invertLongitute;g=g.clone(),v&&(g.y=-g.y-g.height);var y=this._rawTransformable;y.transform=g.calculateTransform(new qn(a,u,d,p));var x=y.parent;y.parent=null,y.decomposeTransform(),y.parent=x,v&&(y.scaleY=-y.scaleY),this._updateTransform()},s.prototype.getRegion=function(a){return this._regionsMap.get(a)},s.prototype.getRegionByCoord=function(a){for(var u=this.regions,d=0;d<u.length;d++){var p=u[d];if("geoJSON"===p.type&&p.contain(a))return u[d]}},s.prototype.addGeoCoord=function(a,u){this._nameCoordMap.set(a,u)},s.prototype.getGeoCoord=function(a){var u=this._regionsMap.get(a);return this._nameCoordMap.get(a)||u&&u.getCenter()},s.prototype.dataToPoint=function(a,u,d){if("string"==typeof a&&(a=this.getGeoCoord(a)),a)return W_.prototype.dataToPoint.call(this,a,u,d)},s.prototype.convertToPixel=function(a,u,d){var p=cZ(u);return p===this?p.dataToPoint(d):null},s.prototype.convertFromPixel=function(a,u,d){var p=cZ(u);return p===this?p.pointToData(d):null},s}(W_);function cZ(c){var s=c.geoModel,a=c.seriesModel;return s?s.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo",Na).models[0]||{}).coordinateSystem:null}function uZ(c,s){var a=c.get("boundingCoords");if(null!=a){var u=a[0],d=a[1];isNaN(u[0])||isNaN(u[1])||isNaN(d[0])||isNaN(d[1])||this.setBoundingRect(u[0],u[1],d[0]-u[0],d[1]-u[1])}var p,g,v,y=this.getBoundingRect(),x=c.get("layoutCenter"),C=c.get("layoutSize"),w=s.getWidth(),D=s.getHeight(),P=y.width/y.height*this.aspectScale,z=!1;if(x&&C&&(p=[At(x[0],w),At(x[1],D)],g=At(C,Math.min(w,D)),isNaN(p[0])||isNaN(p[1])||isNaN(g)||(z=!0)),z)v={},P>1?(v.width=g,v.height=g/P):(v.height=g,v.width=g*P),v.y=p[1]-v.height/2,v.x=p[0]-v.width/2;else{var k=c.getBoxLayoutParams();k.aspect=P,v=io(k,{width:w,height:D})}this.setViewRect(v.x,v.y,v.width,v.height),this.setCenter(c.get("center")),this.setZoom(c.get("zoom"))}Gr(HN,W_);var YN=new(function(){function c(){this.dimensions=lZ}return c.prototype.create=function(s,a){var u=[];s.eachComponent("geo",function(p,g){var v=p.get("map"),y=new HN(v+g,v,{nameMap:p.get("nameMap"),nameProperty:p.get("nameProperty"),aspectScale:p.get("aspectScale")});y.zoomLimit=p.get("scaleLimit"),u.push(y),p.coordinateSystem=y,y.model=p,y.resize=uZ,y.resize(p,a)}),s.eachSeries(function(p){if("geo"===p.get("coordinateSystem")){var g=p.get("geoIndex")||0;p.coordinateSystem=u[g]}});var d={};return s.eachSeriesByType("map",function(p){if(!p.getHostGeoModel()){var g=p.getMapType();d[g]=d[g]||[],d[g].push(p)}}),fe(d,function(p,g){var v=tt(p,function(x){return x.get("nameMap")}),y=new HN(g,g,{nameMap:Ea(v),nameProperty:p[0].get("nameProperty"),aspectScale:p[0].get("aspectScale")});y.zoomLimit=sa.apply(null,tt(p,function(x){return x.get("scaleLimit")})),u.push(y),y.resize=uZ,y.resize(p[0],a),fe(p,function(x){var C;x.coordinateSystem=y,C=y,fe(x.get("geoCoord"),function(D,P){C.addGeoCoord(P,D)})})}),u},c.prototype.getFilledRegions=function(s,a,u,d){for(var p=(s||[]).slice(),g=qt(),v=0;v<p.length;v++)g.set(p[v].name,p[v]);return fe(pR(a,u,d).regions,function(y){var x=y.name;!g.get(x)&&p.push({name:x})}),p},c}()),jce=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u,d){var p=Db(a.map);if(p&&"geoJSON"===p.type){var g=a.itemStyle=a.itemStyle||{};"color"in g||(g.color="#eee")}this.mergeDefaultAndTheme(a,d),yu(a,"label",["show"])},s.prototype.optionUpdated=function(){var a=this,u=this.option;u.regions=YN.getFilledRegions(u.regions,u.map,u.nameMap,u.nameProperty);var d={};this._optionModelMap=nt(u.regions||[],function(p,g){var v=g.name;return v&&(p.set(v,new tr(g,a,a.ecModel)),g.selected&&(d[v]=!0)),p},qt()),u.selectedMap||(u.selectedMap=d)},s.prototype.getRegionModel=function(a){return this._optionModelMap.get(a)||new tr(null,this,this.ecModel)},s.prototype.getFormattedLabel=function(a,u){var p=this.getRegionModel(a).get("normal"===u?["label","formatter"]:["emphasis","label","formatter"]),g={name:a};return"function"==typeof p?(g.status=u,p(g)):"string"==typeof p?p.replace("{a}",a??""):void 0},s.prototype.setZoom=function(a){this.option.zoom=a},s.prototype.setCenter=function(a){this.option.center=a},s.prototype.select=function(a){var u=this.option,d=u.selectedMode;d&&("multiple"!==d&&(u.selectedMap=null),(u.selectedMap||(u.selectedMap={}))[a]=!0)},s.prototype.unSelect=function(a){var u=this.option.selectedMap;u&&(u[a]=!1)},s.prototype.toggleSelected=function(a){this[this.isSelected(a)?"unSelect":"select"](a)},s.prototype.isSelected=function(a){var u=this.option.selectedMap;return!(!u||!u[a])},s.type="geo",s.layoutMode="box",s.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},s}(di);function UN(c,s,a){var u=c.getZoom(),d=c.getCenter(),p=s.zoom,g=c.dataToPoint(d);if(null!=s.dx&&null!=s.dy&&(g[0]-=s.dx,g[1]-=s.dy,c.setCenter(c.pointToData(g))),null!=p){if(a){var v=a.min||0;p=Math.max(Math.min(u*p,a.max||1/0),v)/u}c.scaleX*=p,c.scaleY*=p;var C=(s.originY-c.y)*(p-1);c.x-=(s.originX-c.x)*(p-1),c.y-=C,c.updateTransform(),c.setCenter(c.pointToData(g)),c.setZoom(p*u)}return{center:c.getCenter(),zoom:c.getZoom()}}var $ce=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.focusBlurEnabled=!0,a}return Ee(s,c),s.prototype.init=function(a,u){this._api=u},s.prototype.render=function(a,u,d,p){if(this._model=a,!a.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new BN(d));var g=this._mapDraw;g.draw(a,u,d,this,p),g.group.on("click",this._handleRegionClick,this),g.group.silent=a.get("silent"),this.group.add(g.group),this.updateSelectStatus(a,u,d)},s.prototype._handleRegionClick=function(a){var u;oi(a.target,function(d){return null!=(u=Pn(d).eventData)},!0),u&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:u.name})},s.prototype.updateSelectStatus=function(a,u,d){var p=this;this._mapDraw.group.traverse(function(g){var v=Pn(g).eventData;if(v)return p._model.isSelected(v.name)?d.enterSelect(g):d.leaveSelect(g),!0})},s.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},s.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},s.type="geo",s}($r);function hZ(c){function s(a,u){u.update="geo:updateSelectStatus",c.registerAction(u,function(d,p){var g={},v=[];return p.eachComponent({mainType:"geo",query:d},function(y){y[a](d.name),fe(y.coordinateSystem.regions,function(C){g[C.name]=y.isSelected(C.name)||!1});var x=[];fe(g,function(C,w){g[w]&&x.push(w)}),v.push({geoIndex:y.componentIndex,name:x})}),{selected:g,allSelected:v,name:d.name}})}c.registerCoordinateSystem("geo",YN),c.registerComponentModel(jce),c.registerComponentView($ce),s("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),s("select",{type:"geoSelect",event:"geoselected"}),s("unSelect",{type:"geoUnSelect",event:"geounselected"}),c.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,u){var d=a.componentType||"series";u.eachComponent({mainType:d,query:a},function(p){var g=p.coordinateSystem;if("geo"===g.type){var v=UN(g,a,p.get("scaleLimit"));p.setCenter&&p.setCenter(v.center),p.setZoom&&p.setZoom(v.zoom),"series"===d&&fe(p.seriesGroup,function(y){y.setCenter(v.center),y.setZoom(v.zoom)})}})})}function Xce(c,s){var a=c.isExpand?c.children:[],u=c.parentNode.children,d=c.hierNode.i?u[c.hierNode.i-1]:null;if(a.length){!function(g){for(var v=g.children,y=v.length,x=0,C=0;--y>=0;){var w=v[y];w.hierNode.prelim+=x,w.hierNode.modifier+=x,x+=w.hierNode.shift+(C+=w.hierNode.change)}}(c);var p=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;d?(c.hierNode.prelim=d.hierNode.prelim+s(c,d),c.hierNode.modifier=c.hierNode.prelim-p):c.hierNode.prelim=p}else d&&(c.hierNode.prelim=d.hierNode.prelim+s(c,d));c.parentNode.hierNode.defaultAncestor=function(g,v,y,x){if(v){for(var C=g,w=g,D=w.parentNode.children[0],P=v,z=C.hierNode.modifier,k=w.hierNode.modifier,E=D.hierNode.modifier,F=P.hierNode.modifier;P=dP(P),w=fP(w),P&&w;){C=dP(C),D=fP(D),C.hierNode.ancestor=g;var B=P.hierNode.prelim+F-w.hierNode.prelim-k+x(P,w);B>0&&(pP(ki(P,g,y),g,B),k+=B,z+=B),F+=P.hierNode.modifier,k+=w.hierNode.modifier,z+=C.hierNode.modifier,E+=D.hierNode.modifier}P&&!dP(C)&&(C.hierNode.thread=P,C.hierNode.modifier+=F-z),w&&!fP(D)&&(D.hierNode.thread=w,D.hierNode.modifier+=k-E,y=g)}return y}(c,d,c.parentNode.hierNode.defaultAncestor||u[0],s)}function qce(c){c.setLayout({x:c.hierNode.prelim+c.parentNode.hierNode.modifier},!0),c.hierNode.modifier+=c.parentNode.hierNode.modifier}function DC(c){return arguments.length?c:dZ}function Wc(c,s){return c-=Math.PI/2,{x:s*Math.cos(c),y:s*Math.sin(c)}}function dP(c){var s=c.children;return s.length&&c.isExpand?s[s.length-1]:c.hierNode.thread}function fP(c){var s=c.children;return s.length&&c.isExpand?s[0]:c.hierNode.thread}function ki(c,s,a){return c.hierNode.ancestor.parentNode===s.parentNode?c.hierNode.ancestor:a}function pP(c,s,a){var u=a/(s.hierNode.i-c.hierNode.i);s.hierNode.change-=u,s.hierNode.shift+=a,s.hierNode.modifier+=a,s.hierNode.prelim+=a,c.hierNode.change+=u}function dZ(c,s){return c.parentNode===s.parentNode?1:2}var fZ=function(){this.parentPoint=[],this.childPoints=[]},GN=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new fZ},s.prototype.buildPath=function(a,u){var d=u.childPoints,p=d.length,g=u.parentPoint,v=d[0],y=d[p-1];if(1===p)return a.moveTo(g[0],g[1]),void a.lineTo(v[0],v[1]);var x=u.orient,C="TB"===x||"BT"===x?0:1,w=1-C,D=At(u.forkPosition,1),P=[];P[C]=g[C],P[w]=g[w]+(y[w]-g[w])*D,a.moveTo(g[0],g[1]),a.lineTo(P[0],P[1]),a.moveTo(v[0],v[1]),P[C]=v[C],a.lineTo(P[0],P[1]),P[C]=y[C],a.lineTo(P[0],P[1]),a.lineTo(y[0],y[1]);for(var z=1;z<p-1;z++){var k=d[z];a.moveTo(k[0],k[1]),P[C]=k[C],a.lineTo(P[0],P[1])}},s}(pi),WN=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._mainGroup=new Xt,a}return Ee(s,c),s.prototype.init=function(a,u){this._controller=new K1(u.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},s.prototype.render=function(a,u,d){var p=a.getData(),g=a.layoutInfo,v=this._mainGroup;"radial"===a.get("layout")?(v.x=g.x+g.width/2,v.y=g.y+g.height/2):(v.x=g.x,v.y=g.y),this._updateViewCoordSys(a),this._updateController(a,u,d);var y=this._data;p.diff(y).add(function(x){jN(p,x)&&PC(p,x,null,v,a)}).update(function(x,C){var w=y.getItemGraphicEl(C);jN(p,x)?PC(p,x,w,v,a):w&&fg(y,C,w,v,a)}).remove(function(x){var C=y.getItemGraphicEl(x);C&&fg(y,x,C,v,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),!0===a.get("expandAndCollapse")&&p.eachItemGraphicEl(function(x,C){x.off("click").on("click",function(){d.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:C})})}),this._data=p},s.prototype._updateViewCoordSys=function(a){var u=a.getData(),d=[];u.each(function(C){var w=u.getItemLayout(C);!w||isNaN(w.x)||isNaN(w.y)||d.push([+w.x,+w.y])});var p=[],g=[];c0(d,p,g);var v=this._min,y=this._max;g[0]-p[0]==0&&(p[0]=v?v[0]:p[0]-1,g[0]=y?y[0]:g[0]+1),g[1]-p[1]==0&&(p[1]=v?v[1]:p[1]-1,g[1]=y?y[1]:g[1]+1);var x=a.coordinateSystem=new W_;x.zoomLimit=a.get("scaleLimit"),x.setBoundingRect(p[0],p[1],g[0]-p[0],g[1]-p[1]),x.setCenter(a.get("center")),x.setZoom(a.get("zoom")),this.group.attr({x:x.x,y:x.y,scaleX:x.scaleX,scaleY:x.scaleY}),this._min=p,this._max=g},s.prototype._updateController=function(a,u,d){var p=this,g=this._controller,v=this._controllerHost,y=this.group;g.setPointerChecker(function(x,C,w){var D=y.getBoundingRect();return D.applyTransform(y.transform),D.contain(C,w)&&!TC(x,d,a)}),g.enable(a.get("roam")),v.zoomLimit=a.get("scaleLimit"),v.zoom=a.coordinateSystem.getZoom(),g.off("pan").off("zoom").on("pan",function(x){RN(v,x.dx,x.dy),d.dispatchAction({seriesId:a.id,type:"treeRoam",dx:x.dx,dy:x.dy})}).on("zoom",function(x){SC(v,x.scale,x.originX,x.originY),d.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:x.scale,originX:x.originX,originY:x.originY}),p._updateNodeAndLinkScale(a),d.updateLabelLayout()})},s.prototype._updateNodeAndLinkScale=function(a){var u=a.getData(),d=this._getNodeGlobalScale(a);u.eachItemGraphicEl(function(p,g){p.setSymbolScale(d)})},s.prototype._getNodeGlobalScale=function(a){var u=a.coordinateSystem;if("view"!==u.type)return 1;var d=this._nodeScaleRatio,p=u.scaleX||1;return((u.getZoom()-1)*d+1)/p},s.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},s.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},s.type="tree",s}(dr);function jN(c,s){var a=c.getItemLayout(s);return a&&!isNaN(a.x)&&!isNaN(a.y)}function PC(c,s,a,u,d){var p=!a,g=c.tree.getNodeByDataIndex(s),v=g.getModel(),y=g.getVisual("style").fill,x=!1===g.isExpand&&0!==g.children.length?y:"#fff",C=c.tree.root,w=g.parentNode===C?g:g.parentNode||g,D=c.getItemGraphicEl(w.dataIndex),P=w.getLayout(),z=D?{x:D.__oldX,y:D.__oldY,rawX:D.__radialOldRawX,rawY:D.__radialOldRawY}:P,k=g.getLayout();p?((a=new j0(c,s,null,{symbolInnerColor:x,useNameLabel:!0})).x=z.x,a.y=z.y):a.updateData(c,s,null,{symbolInnerColor:x,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=k.rawX,a.__radialRawY=k.rawY,u.add(a),c.setItemGraphicEl(s,a),a.__oldX=a.x,a.__oldY=a.y,Ti(a,{x:k.x,y:k.y},d);var E=a.getSymbolPath();if("radial"===d.get("layout")){var F=C.children[0],B=F.getLayout(),H=F.children.length,Y=void 0,U=void 0;if(k.x===B.x&&!0===g.isExpand){var j={x:(F.children[0].getLayout().x+F.children[H-1].getLayout().x)/2,y:(F.children[0].getLayout().y+F.children[H-1].getLayout().y)/2};(Y=Math.atan2(j.y-B.y,j.x-B.x))<0&&(Y=2*Math.PI+Y),(U=j.x<B.x)&&(Y-=Math.PI)}else(Y=Math.atan2(k.y-B.y,k.x-B.x))<0&&(Y=2*Math.PI+Y),0===g.children.length||0!==g.children.length&&!1===g.isExpand?(U=k.x<B.x)&&(Y-=Math.PI):(U=k.x>B.x)||(Y-=Math.PI);var q=U?"left":"right",Q=v.getModel("label"),re=Q.get("rotate"),oe=re*(Math.PI/180),ae=E.getTextContent();ae&&(E.setTextConfig({position:Q.get("position")||q,rotation:null==re?-Y:oe,origin:"center"}),ae.setStyle("verticalAlign","middle"))}var he=v.get(["emphasis","focus"]),me="ancestor"===he?g.getAncestorsIndices():"descendant"===he?g.getDescendantIndices():null;me&&(Pn(a).focus=me),function(_e,be,we,Te,Me,Ae,Ie,Ue){var qe=be.getModel(),ft=_e.get("edgeShape"),$e=_e.get("layout"),ot=_e.getOrient(),bt=_e.get(["lineStyle","curveness"]),gt=_e.get("edgeForkPosition"),vt=qe.getModel("lineStyle").getLineStyle(),kt=Te.__edge;if("curve"===ft)be.parentNode&&be.parentNode!==we&&(kt||(kt=Te.__edge=new p0({shape:AC($e,ot,bt,Me,Me)})),Ti(kt,{shape:AC($e,ot,bt,Ae,Ie)},_e));else if("polyline"===ft&&"orthogonal"===$e&&be!==we&&be.children&&0!==be.children.length&&!0===be.isExpand){for(var Rt=be.children,dn=[],ln=0;ln<Rt.length;ln++){var mn=Rt[ln].getLayout();dn.push([mn.x,mn.y])}kt||(kt=Te.__edge=new GN({shape:{parentPoint:[Ie.x,Ie.y],childPoints:[[Ie.x,Ie.y]],orient:ot,forkPosition:gt}})),Ti(kt,{shape:{parentPoint:[Ie.x,Ie.y],childPoints:dn}},_e)}kt&&(kt.useStyle(jt({strokeNoScale:!0,fill:null},vt)),ys(kt,qe,"lineStyle"),vf(kt),Ue.add(kt))}(d,g,C,a,z,P,k,u),a.__edge&&(a.onHoverStateChange=function(_e){if("blur"!==_e){var be=g.parentNode&&c.getItemGraphicEl(g.parentNode.dataIndex);be&&1===be.hoverState||P5(a.__edge,_e)}})}function gP(c,s,a,u,d){var p=Lf(s.tree.root,c),g=p.source,v=p.sourceLayout,y=s.getItemGraphicEl(c.dataIndex);if(y){var x=s.getItemGraphicEl(g.dataIndex).__edge,C=y.__edge||(!1===g.isExpand||1===g.children.length?x:void 0),w=u.get("edgeShape"),D=u.get("layout"),P=u.get("orient"),z=u.get(["lineStyle","curveness"]);C&&("curve"===w?Ch(C,{shape:AC(D,P,z,v,v),style:{opacity:0}},u,{cb:function(){a.remove(C)},removeOpt:d}):"polyline"===w&&"orthogonal"===u.get("layout")&&Ch(C,{shape:{parentPoint:[v.x,v.y],childPoints:[[v.x,v.y]]},style:{opacity:0}},u,{cb:function(){a.remove(C)},removeOpt:d}))}}function Lf(c,s){for(var a,u=s.parentNode===c?s:s.parentNode||s;null==(a=u.getLayout());)u=u.parentNode===c?u:u.parentNode||u;return{source:u,sourceLayout:a}}function fg(c,s,a,u,d){var p=c.tree.getNodeByDataIndex(s),g=Lf(c.tree.root,p).sourceLayout,v={duration:d.get("animationDurationUpdate"),easing:d.get("animationEasingUpdate")};Ch(a,{x:g.x+1,y:g.y+1},d,{cb:function(){u.remove(a),c.setItemGraphicEl(s,null)},removeOpt:v}),a.fadeOut(null,{fadeLabel:!0,animation:v}),p.children.forEach(function(y){gP(y,c,u,d,v)}),gP(p,c,u,d,v)}function AC(c,s,a,u,d){var p,g,v,y,x,C,w,D;if("radial"===c){C=d.rawX,D=d.rawY;var P=Wc(x=u.rawX,w=u.rawY),z=Wc(x,w+(D-w)*a),k=Wc(C,D+(w-D)*a),E=Wc(C,D);return{x1:P.x||0,y1:P.y||0,x2:E.x||0,y2:E.y||0,cpx1:z.x||0,cpy1:z.y||0,cpx2:k.x||0,cpy2:k.y||0}}return x=u.x,w=u.y,C=d.x,D=d.y,"LR"!==s&&"RL"!==s||(p=x+(C-x)*a,g=w,v=C+(x-C)*a,y=D),"TB"!==s&&"BT"!==s||(p=x,g=w+(D-w)*a,v=C,y=D+(w-D)*a),{x1:x,y1:w,x2:C,y2:D,cpx1:p,cpy1:g,cpx2:v,cpy2:y}}var Nu=Zi();function mP(c){var s=c.mainData,a=c.datas;a||(a={main:s},c.datasAttr={main:"data"}),c.datas=c.mainData=null,vP(s,a,c),fe(a,function(u){fe(s.TRANSFERABLE_METHODS,function(d){u.wrapMethod(d,Je(zC,c))})}),s.wrapMethod("cloneShallow",Je(gZ,c)),fe(s.CHANGABLE_METHODS,function(u){s.wrapMethod(u,Je(pZ,c))}),Dl(a[s.dataType]===s)}function zC(c,s){if(Nu(this).mainData===this){var a=it({},Nu(this).datas);a[this.dataType]=s,vP(s,a,c)}else Gl(s,this.dataType,Nu(this).mainData,c);return s}function pZ(c,s){return c.struct&&c.struct.update(),s}function gZ(c,s){return fe(Nu(s).datas,function(a,u){a!==s&&Gl(a.cloneShallow(),u,s,c)}),s}function $N(c){var s=Nu(this).mainData;return null==c||null==s?s:Nu(s).datas[c]}function mZ(){var c=Nu(this).mainData;return null==c?[{data:c}]:tt(Gt(Nu(c).datas),function(s){return{type:s,data:Nu(c).datas[s]}})}function vP(c,s,a){Nu(c).datas={},fe(s,function(u,d){Gl(u,d,c,a)})}function Gl(c,s,a,u){Nu(a).datas[s]=c,Nu(c).mainData=a,c.dataType=s,u.struct&&(c[u.structAttr]=u.struct,u.struct[u.datasAttr[s]]=c),c.getLinkedData=$N,c.getLinkedDataAll=mZ}var ns=function(){function c(s,a){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=s||"",this.hostTree=a}return c.prototype.isRemoved=function(){return this.dataIndex<0},c.prototype.eachNode=function(s,a,u){"function"==typeof s&&(u=a,a=s,s=null),ui(s=s||{})&&(s={order:s});var d,p=s.order||"preorder",g=this[s.attr||"children"];"preorder"===p&&(d=a.call(u,this));for(var v=0;!d&&v<g.length;v++)g[v].eachNode(s,a,u);"postorder"===p&&a.call(u,this)},c.prototype.updateDepthAndHeight=function(s){var a=0;this.depth=s;for(var u=0;u<this.children.length;u++){var d=this.children[u];d.updateDepthAndHeight(s+1),d.height>a&&(a=d.height)}this.height=a+1},c.prototype.getNodeById=function(s){if(this.getId()===s)return this;for(var a=0,u=this.children,d=u.length;a<d;a++){var p=u[a].getNodeById(s);if(p)return p}},c.prototype.contains=function(s){if(s===this)return!0;for(var a=0,u=this.children,d=u.length;a<d;a++){var p=u[a].contains(s);if(p)return p}},c.prototype.getAncestors=function(s){for(var a=[],u=s?this:this.parentNode;u;)a.push(u),u=u.parentNode;return a.reverse(),a},c.prototype.getAncestorsIndices=function(){for(var s=[],a=this;a;)s.push(a.dataIndex),a=a.parentNode;return s.reverse(),s},c.prototype.getDescendantIndices=function(){var s=[];return this.eachNode(function(a){s.push(a.dataIndex)}),s},c.prototype.getValue=function(s){var a=this.hostTree.data;return a.getStore().get(a.getDimensionIndex(s||"value"),this.dataIndex)},c.prototype.setLayout=function(s,a){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,s,a)},c.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},c.prototype.getModel=function(s){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(s)},c.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},c.prototype.setVisual=function(s,a){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,s,a)},c.prototype.getVisual=function(s){return this.hostTree.data.getItemVisual(this.dataIndex,s)},c.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},c.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},c.prototype.getChildIndex=function(){if(this.parentNode){for(var s=this.parentNode.children,a=0;a<s.length;++a)if(s[a]===this)return a;return-1}return-1},c.prototype.isAncestorOf=function(s){for(var a=s.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},c.prototype.isDescendantOf=function(s){return s!==this&&s.isAncestorOf(this)},c}(),oo=function(){function c(s){this.type="tree",this._nodes=[],this.hostModel=s}return c.prototype.eachNode=function(s,a,u){this.root.eachNode(s,a,u)},c.prototype.getNodeByDataIndex=function(s){var a=this.data.getRawIndex(s);return this._nodes[a]},c.prototype.getNodeById=function(s){return this.root.getNodeById(s)},c.prototype.update=function(){for(var s=this.data,a=this._nodes,u=0,d=a.length;u<d;u++)a[u].dataIndex=-1;for(u=0,d=s.count();u<d;u++)a[s.getRawIndex(u)].dataIndex=u},c.prototype.clearLayouts=function(){this.data.clearItemLayouts()},c.createTree=function(s,a,u){var d=new c(a),p=[],g=1;(function x(C,w){var D=C.value;g=Math.max(g,at(D)?D.length:1),p.push(C);var E,F,P=new ns(Vo(C.name,""),d);w?(E=P).parentNode!==(F=w)&&(F.children.push(E),E.parentNode=F):d.root=P,d._nodes.push(P);var z=C.children;if(z)for(var k=0;k<z.length;k++)x(z[k],P)})(s),d.root.updateDepthAndHeight(0);var v=D_(p,{coordDimensions:["value"],dimensionsCount:g}).dimensions,y=new ts(v,a);return y.initData(p),u&&u(y),mP({mainData:y,struct:d,structAttr:"tree"}),d.update(),d},c}();function vi(c,s,a){if(c&&Gn(s,c.type)>=0){var u=a.getData().tree.root,d=c.targetNode;if("string"==typeof d&&(d=u.getNodeById(d)),d&&u.contains(d))return{node:d};var p=c.targetNodeId;if(null!=p&&(d=u.getNodeById(p)))return{node:d}}}function Jo(c){for(var s=[];c;)(c=c.parentNode)&&s.push(c);return s.reverse()}function Kn(c,s){return Gn(Jo(c),s)>=0}function _P(c,s){for(var a=[];c;){var u=c.dataIndex;a.push({name:c.name,dataIndex:u,value:s.getRawValue(u)}),c=c.parentNode}return a.reverse(),a}var vZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.hasSymbolVisual=!0,a.ignoreStyleOnData=!0,a}return Ee(s,c),s.prototype.getInitialData=function(a){var u={name:a.name,children:a.data},p=new tr(a.leaves||{},this,this.ecModel),g=oo.createTree(u,this,function(x){x.wrapMethod("getItemModel",function(C,w){var D=g.getNodeByDataIndex(w);return D&&D.children.length&&D.isExpand||(C.parentModel=p),C})}),v=0;g.eachNode("preorder",function(x){x.depth>v&&(v=x.depth)});var y=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:v;return g.root.eachNode("preorder",function(x){var C=x.hostTree.data.getRawDataItem(x.dataIndex);x.isExpand=C&&null!=C.collapsed?!C.collapsed:x.depth<=y}),g.data},s.prototype.getOrient=function(){var a=this.get("orient");return"horizontal"===a?a="LR":"vertical"===a&&(a="TB"),a},s.prototype.setZoom=function(a){this.option.zoom=a},s.prototype.setCenter=function(a){this.option.center=a},s.prototype.formatTooltip=function(a,u,d){for(var p=this.getData().tree,g=p.root.children[0],v=p.getNodeByDataIndex(a),y=v.getValue(),x=v.name;v&&v!==g;)x=v.parentNode.name+"."+x,v=v.parentNode;return bs("nameValue",{name:x,value:y,noValue:isNaN(y)||null==y})},s.prototype.getDataParams=function(a){var u=c.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a);return u.treeAncestors=_P(d,this),u},s.type="series.tree",s.layoutMode="box",s.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},s}(Fr);function vd(c,s){for(var a,u=[c];a=u.pop();)if(s(a),a.isExpand){var d=a.children;if(d.length)for(var p=d.length-1;p>=0;p--)u.push(d[p])}}function _Z(c,s){c.eachSeriesByType("tree",function(a){!function(u,d){var q,p=(q=d,io(u.getBoxLayoutParams(),{width:q.getWidth(),height:q.getHeight()}));u.layoutInfo=p;var g=u.get("layout"),v=0,y=0,x=null;"radial"===g?(v=2*Math.PI,y=Math.min(p.height,p.width)/2,x=DC(function(j,q){return(j.parentNode===q.parentNode?1:2)/j.depth})):(v=p.width,y=p.height,x=DC());var C=u.getData().tree.root,w=C.children[0];if(w){(function(j){var q=j;q.hierNode={defaultAncestor:null,ancestor:q,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Q,re,oe=[q];Q=oe.pop();)if(re=Q.children,Q.isExpand&&re.length)for(var ae=re.length-1;ae>=0;ae--){var he=re[ae];he.hierNode={defaultAncestor:null,ancestor:he,prelim:0,modifier:0,change:0,shift:0,i:ae,thread:null},oe.push(he)}})(C),function(j,q,Q){for(var re,oe=[j],ae=[];re=oe.pop();)if(ae.push(re),re.isExpand){var he=re.children;if(he.length)for(var me=0;me<he.length;me++)oe.push(he[me])}for(;re=ae.pop();)q(re,Q)}(w,Xce,x),C.hierNode.modifier=-w.hierNode.prelim,vd(w,qce);var D=w,P=w,z=w;vd(w,function(j){var q=j.getLayout().x;q<D.getLayout().x&&(D=j),q>P.getLayout().x&&(P=j),j.depth>z.depth&&(z=j)});var k=D===P?1:x(D,P)/2,E=k-D.getLayout().x,F=0,B=0,H=0,Y=0;if("radial"===g)F=v/(P.getLayout().x+k+E),B=y/(z.depth-1||1),vd(w,function(j){var q=Wc(H=(j.getLayout().x+E)*F,Y=(j.depth-1)*B);j.setLayout({x:q.x,y:q.y,rawX:H,rawY:Y},!0)});else{var U=u.getOrient();"RL"===U||"LR"===U?(B=y/(P.getLayout().x+k+E),F=v/(z.depth-1||1),vd(w,function(j){Y=(j.getLayout().x+E)*B,j.setLayout({x:H="LR"===U?(j.depth-1)*F:v-(j.depth-1)*F,y:Y},!0)})):"TB"!==U&&"BT"!==U||(F=v/(P.getLayout().x+k+E),B=y/(z.depth-1||1),vd(w,function(j){H=(j.getLayout().x+E)*F,j.setLayout({x:H,y:Y="TB"===U?(j.depth-1)*B:y-(j.depth-1)*B},!0)}))}}}(a,s)})}function yZ(c){c.eachSeriesByType("tree",function(s){var a=s.getData();a.tree.eachNode(function(u){var d=u.getModel().getModel("itemStyle").getItemStyle();it(a.ensureUniqueItemVisual(u.dataIndex,"style"),d)})})}var xZ=function(){},bZ=["treemapZoomToNode","treemapRender","treemapMove"];function CZ(c){var s=c.getData().tree,a={};s.eachNode(function(u){for(var d=u;d&&d.depth>1;)d=d.parentNode;var p=YM(c.ecModel,d.name||d.dataIndex+"",a);u.setVisual("decal",p)})}var kC=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.preventUsingHoverLayer=!0,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){var d={name:a.name,children:a.data};u8(d);var p=a.levels||[],g=this.designatedVisualItemStyle={},v=new tr({itemStyle:g},this,u),y=tt((p=a.levels=function(C,w){var D,P,z=Sr(w.get("color")),k=Sr(w.get(["aria","decal","decals"]));if(z){fe(C=C||[],function(F){var B=new tr(F),H=B.get("color"),Y=B.get("decal");(B.get(["itemStyle","color"])||H&&"none"!==H)&&(D=!0),(B.get(["itemStyle","decal"])||Y&&"none"!==Y)&&(P=!0)});var E=C[0]||(C[0]={});return D||(E.color=z.slice()),!P&&k&&(E.decal=k.slice()),C}}(p,u))||[],function(C){return new tr(C,v,u)},this),x=oo.createTree(d,this,function(C){C.wrapMethod("getItemModel",function(w,D){var P=x.getNodeByDataIndex(D);return w.parentModel=(P?y[P.depth]:null)||v,w})});return x.data},s.prototype.optionUpdated=function(){this.resetViewRoot()},s.prototype.formatTooltip=function(a,u,d){var p=this.getData(),g=this.getRawValue(a);return bs("nameValue",{name:p.getName(a),value:g})},s.prototype.getDataParams=function(a){var u=c.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a);return u.treeAncestors=_P(d,this),u.treePathInfo=u.treeAncestors,u},s.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},it(this.layoutInfo,a)},s.prototype.mapIdToIndex=function(a){var u=this._idIndexMap;u||(u=this._idIndexMap=qt(),this._idIndexMapCount=0);var d=u.get(a);return null==d&&u.set(a,d=this._idIndexMapCount++),d},s.prototype.getViewRoot=function(){return this._viewRoot},s.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var u=this.getRawData().tree.root;a&&(a===u||u.contains(a))||(this._viewRoot=u)},s.prototype.enableAriaDecal=function(){CZ(this)},s.type="series.treemap",s.layoutMode="box",s.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},s}(Fr);function u8(c){var s=0;fe(c.children,function(u){u8(u);var d=u.value;at(d)&&(d=d[0]),s+=d});var a=c.value;at(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=s),a<0&&(a=0),at(c.value)?c.value[0]=a:c.value=a}var OC=function(){function c(s){this.group=new Xt,s.add(this.group)}return c.prototype.render=function(s,a,u,d){var p=s.getModel("breadcrumb"),g=this.group;if(g.removeAll(),p.get("show")&&u){var v=p.getModel("itemStyle"),y=v.getModel("textStyle"),x={pos:{left:p.get("left"),right:p.get("right"),top:p.get("top"),bottom:p.get("bottom")},box:{width:a.getWidth(),height:a.getHeight()},emptyItemWidth:p.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(u,x,y),this._renderContent(s,x,v,y,d),eb(g,x.pos,x.box)}},c.prototype._prepare=function(s,a,u){for(var d=s;d;d=d.parentNode){var p=Vo(d.getModel().get("name"),""),g=u.getTextRect(p),v=Math.max(g.width+16,a.emptyItemWidth);a.totalWidth+=v+8,a.renderList.push({node:d,text:p,width:v})}},c.prototype._renderContent=function(s,a,u,d,p){for(var g,v,y,x,C,w,D,P,z,k=0,E=a.emptyItemWidth,F=s.get(["breadcrumb","height"]),B=(C=(v=a.box).height,w=At((g=a.pos).left,x=v.width),D=At(g.top,C),P=At(g.right,x),z=At(g.bottom,C),(isNaN(w)||isNaN(parseFloat(g.left)))&&(w=0),(isNaN(P)||isNaN(parseFloat(g.right)))&&(P=x),(isNaN(D)||isNaN(parseFloat(g.top)))&&(D=0),(isNaN(z)||isNaN(parseFloat(g.bottom)))&&(z=C),y=E1(y||0),{width:Math.max(P-w-y[1]-y[3],0),height:Math.max(z-D-y[0]-y[2],0)}),H=a.totalWidth,Y=a.renderList,U=Y.length-1;U>=0;U--){var j=Y[U],q=j.node,Q=j.width,re=j.text;H>B.width&&(H-=Q-E,Q=E,re=null);var oe=new dl({shape:{points:Ah(k,0,Q,F,U===Y.length-1,0===U)},style:jt(u.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ni({style:{text:re,fill:d.getTextColor(),font:d.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:Je(p,q)});oe.disableLabelAnimation=!0,this.group.add(oe),yP(oe,s,q),k+=Q+8}},c.prototype.remove=function(){this.group.removeAll()},c}();function Ah(c,s,a,u,d,p){var g=[[d?c:c-5,s],[c+a,s],[c+a,s+u],[d?c:c-5,s+u]];return!p&&g.splice(2,0,[c+a+5,s+u/2]),!d&&g.push([c,s+u/2]),g}function yP(c,s,a){Pn(c).eventData={componentType:"series",componentSubType:"treemap",componentIndex:s.componentIndex,seriesIndex:s.seriesIndex,seriesName:s.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&_P(a,s)}}var Zce=function(){function c(){this._storage=[],this._elExistsMap={}}return c.prototype.add=function(s,a,u,d,p){return!this._elExistsMap[s.id]&&(this._elExistsMap[s.id]=!0,this._storage.push({el:s,target:a,duration:u,delay:d,easing:p}),!0)},c.prototype.finished=function(s){return this._finishedCallback=s,this},c.prototype.start=function(){for(var s=this,a=this._storage.length,u=function(){--a<=0&&(s._storage.length=0,s._elExistsMap={},s._finishedCallback&&s._finishedCallback())},d=0,p=this._storage.length;d<p;d++){var g=this._storage[d];g.el.animateTo(g.target,{duration:g.duration,delay:g.delay,easing:g.easing,setToFinal:!0,done:u,aborted:u})}return this},c}(),XN=Xt,wZ=gi,ZN="upperLabel",Q1=o0([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),KN=function(c){var s=Q1(c);return s.stroke=s.fill=s.lineWidth=null,s},EC=Zi(),Kce=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._state="ready",a._storage={nodeGroup:[],background:[],content:[]},a}return Ee(s,c),s.prototype.render=function(a,u,d,p){if(!(Gn(u.findComponents({mainType:"series",subType:"treemap",query:p}),a)<0)){this.seriesModel=a,this.api=d,this.ecModel=u;var g=vi(p,["treemapZoomToNode","treemapRootToNode"],a),v=p&&p.type,y=a.layoutInfo,x=!this._oldTree,C=this._storage,w="treemapRootToNode"===v&&g&&C?{rootNodeGroup:C.nodeGroup[g.node.getRawIndex()],direction:p.direction}:null,D=this._giveContainerGroup(y),P=a.get("animation"),z=this._doRender(D,a,w);!P||x||v&&"treemapZoomToNode"!==v&&"treemapRootToNode"!==v?z.renderFinally():this._doAnimation(D,z,a,w),this._resetController(d),this._renderBreadcrumb(a,d,g)}},s.prototype._giveContainerGroup=function(a){var u=this._containerGroup;return u||(u=this._containerGroup=new XN,this._initEvents(u),this.group.add(u)),u.x=a.x,u.y=a.y,u},s.prototype._doRender=function(a,u,d){var p=u.getData().tree,g=this._oldTree,v={nodeGroup:[],background:[],content:[]},y={nodeGroup:[],background:[],content:[]},x=this._storage,C=[];function w(P,z,k,E){return function(F,B,H,Y,U,j,q,Q,re,oe){if(q){var ae=q.getLayout(),he=F.getData(),me=q.getModel();if(he.setItemGraphicEl(q.dataIndex,null),ae&&ae.isInView){var _e=ae.width,be=ae.height,we=ae.borderWidth,Te=ae.invisible,Me=q.getRawIndex(),Ae=Q&&Q.getRawIndex(),Ie=q.viewChildren,Ue=ae.upperHeight,qe=Ie&&Ie.length,ft=me.getModel("itemStyle"),$e=me.getModel(["emphasis","itemStyle"]),ot=me.getModel(["blur","itemStyle"]),bt=me.getModel(["select","itemStyle"]),gt=ft.get("borderRadius")||0,vt=Br("nodeGroup",XN);if(vt){if(re.add(vt),vt.x=ae.x||0,vt.y=ae.y||0,vt.markRedraw(),EC(vt).nodeWidth=_e,EC(vt).nodeHeight=be,ae.isAboveViewRoot)return vt;var kt=Br("background",wZ,oe,20);kt&&function Xr(Or,_i,Tr){var ai=Pn(_i);if(ai.dataIndex=q.dataIndex,ai.seriesIndex=F.seriesIndex,_i.setShape({x:0,y:0,width:_e,height:be,r:gt}),Te)Ii(_i);else{_i.invisible=!1;var On=q.getVisual("style"),ga=On.stroke,ta=KN(ft);ta.fill=ga;var co=Q1($e);co.fill=$e.get("borderColor");var Xl=Q1(ot);Xl.fill=ot.get("borderColor");var Mg=Q1(bt);Mg.fill=bt.get("borderColor"),Tr?zi(_i,ga,On.opacity,{x:we,y:0,width:_e-2*we,height:Ue}):_i.removeTextContent(),_i.setStyle(ta),_i.ensureState("emphasis").style=co,_i.ensureState("blur").style=Xl,_i.ensureState("select").style=Mg,vf(_i)}Or.add(_i)}(vt,kt,qe&&ae.upperLabelHeight);var Rt=me.get(["emphasis","focus"]),dn=me.get(["emphasis","blurScope"]),ln="ancestor"===Rt?q.getAncestorsIndices():"descendant"===Rt?q.getDescendantIndices():Rt;if(qe)Y3(vt)&&d0(vt,!1),kt&&(d0(kt,!0),he.setItemGraphicEl(q.dataIndex,kt),TI(kt,ln,dn));else{var mn=Br("content",wZ,oe,30);mn&&function To(Or,_i){var Tr=Pn(_i);Tr.dataIndex=q.dataIndex,Tr.seriesIndex=F.seriesIndex;var ai=Math.max(_e-2*we,0),On=Math.max(be-2*we,0);if(_i.culling=!0,_i.setShape({x:we,y:we,width:ai,height:On,r:gt}),Te)Ii(_i);else{_i.invisible=!1;var ga=q.getVisual("style"),ta=ga.fill,co=KN(ft);co.fill=ta,co.decal=ga.decal;var Xl=Q1($e),Mg=Q1(ot),s6=Q1(bt);zi(_i,ta,ga.opacity,null),_i.setStyle(co),_i.ensureState("emphasis").style=Xl,_i.ensureState("blur").style=Mg,_i.ensureState("select").style=s6,vf(_i)}Or.add(_i)}(vt,mn),kt.disableMorphing=!0,kt&&Y3(kt)&&d0(kt,!1),d0(vt,!0),he.setItemGraphicEl(q.dataIndex,vt),TI(vt,ln,dn)}return vt}}}function Ii(Or){!Or.invisible&&j.push(Or)}function zi(Or,_i,Tr,ai){var On=me.getModel(ai?ZN:"label"),ga=Vo(me.get("name"),null),ta=On.getShallow("show");Vl(Or,Hs(me,ai?ZN:"label"),{defaultText:ta?ga:null,inheritColor:_i,defaultOpacity:Tr,labelFetcher:F,labelDataIndex:q.dataIndex});var co=Or.getTextContent();if(co){var Xl=co.style,Mg=g2(Xl.padding||0);ai&&(Or.setTextConfig({layoutRect:ai}),co.disableLabelLayout=!0),co.beforeUpdate=function(){var SJ=Math.max((ai?ai.width:Or.shape.width)-Mg[1]-Mg[3],0),l6=Math.max((ai?ai.height:Or.shape.height)-Mg[0]-Mg[2],0);Xl.width===SJ&&Xl.height===l6||co.setStyle({width:SJ,height:l6})},Xl.truncateMinChar=2,Xl.lineOverflow="truncate",lo(Xl,ai,ae);var s6=co.getState("emphasis");lo(s6?s6.style:null,ai,ae)}}function lo(Or,_i,Tr){var ai=Or?Or.text:null;if(!_i&&Tr.isLeafRoot&&null!=ai){var On=F.get("drillDownIcon",!0);Or.text=On?On+" "+ai:ai}}function Br(Or,_i,Tr,ai){var On=null!=Ae&&H[Or][Ae],ga=U[Or];return On?(H[Or][Ae]=null,function $l(Or,_i){var Tr=Or[Me]={};_i instanceof XN?(Tr.oldX=_i.x,Tr.oldY=_i.y):Tr.oldShape=it({},_i.shape)}(ga,On)):Te||((On=new _i)instanceof id&&(On.z2=100*Tr+ai),function gl(Or,_i){var Tr=Or[Me]={},ai=q.parentNode,On=_i instanceof Xt;if(ai&&(!Y||"drillDown"===Y.direction)){var ga=0,ta=0,co=U.background[ai.getRawIndex()];!Y&&co&&co.oldShape&&(ga=co.oldShape.width,ta=co.oldShape.height),On?(Tr.oldX=0,Tr.oldY=ta):Tr.oldShape={x:ga,y:ta,width:0,height:0}}Tr.fadein=!On}(ga,On)),B[Or][Me]=On}}(u,y,x,d,v,C,P,z,k,E)}!function P(z,k,E,F,B){function H(U){return U.getId()}function Y(U,j){var q=null!=U?z[U]:null,Q=null!=j?k[j]:null,re=w(q,Q,E,B);re&&P(q&&q.viewChildren||[],Q&&Q.viewChildren||[],re,F,B+1)}F?(k=z,fe(z,function(U,j){!U.isRemoved()&&Y(j,j)})):new Y1(k,z,H,H).add(Y).update(Y).remove(Je(Y,null)).execute()}(p.root?[p.root]:[],g&&g.root?[g.root]:[],a,p===g||!g,0);var P,z,D=(z={nodeGroup:[],background:[],content:[]},(P=x)&&fe(P,function(k,E){var F=z[E];fe(k,function(B){B&&(F.push(B),EC(B).willDelete=!0)})}),z);return this._oldTree=p,this._storage=y,{lastsForAnimation:v,willDeleteEls:D,renderFinally:function(){fe(D,function(P){fe(P,function(z){z.parent&&z.parent.remove(z)})}),fe(C,function(P){P.invisible=!0,P.dirty()})}}},s.prototype._doAnimation=function(a,u,d,p){var g=d.get("animationDurationUpdate"),v=d.get("animationEasing"),y=(wi(g)?0:g)||0,x=(wi(v)?null:v)||"cubicOut",C=new Zce;fe(u.willDeleteEls,function(w,D){fe(w,function(P,z){if(!P.invisible){var k,E=P.parent,F=EC(E);if(p&&"drillDown"===p.direction)k=E===p.rootNodeGroup?{shape:{x:0,y:0,width:F.nodeWidth,height:F.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var B=0,H=0;F.willDelete||(B=F.nodeWidth/2,H=F.nodeHeight/2),k="nodeGroup"===D?{x:B,y:H,style:{opacity:0}}:{shape:{x:B,y:H,width:0,height:0},style:{opacity:0}}}k&&C.add(P,k,y,0,x)}})}),fe(this._storage,function(w,D){fe(w,function(P,z){var k=u.lastsForAnimation[D][z],E={};k&&(P instanceof Xt?null!=k.oldX&&(E.x=P.x,E.y=P.y,P.x=k.oldX,P.y=k.oldY):(k.oldShape&&(E.shape=it({},P.shape),P.setShape(k.oldShape)),k.fadein?(P.setStyle("opacity",0),E.style={opacity:1}):1!==P.style.opacity&&(E.style={opacity:1})),C.add(P,E,y,0,x))})},this),this._state="animating",C.finished(rt(function(){this._state="ready",u.renderFinally()},this)).start()},s.prototype._resetController=function(a){var u=this._controller;u||((u=this._controller=new K1(a.getZr())).enable(this.seriesModel.get("roam")),u.on("pan",rt(this._onPan,this)),u.on("zoom",rt(this._onZoom,this)));var d=new qn(0,0,a.getWidth(),a.getHeight());u.setPointerChecker(function(p,g,v){return d.contain(g,v)})},s.prototype._clearController=function(){var a=this._controller;a&&(a.dispose(),a=null)},s.prototype._onPan=function(a){if("animating"!==this._state&&(Math.abs(a.dx)>3||Math.abs(a.dy)>3)){var u=this.seriesModel.getData().tree.root;if(!u)return;var d=u.getLayout();if(!d)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x+a.dx,y:d.y+a.dy,width:d.width,height:d.height}})}},s.prototype._onZoom=function(a){var u=a.originX,d=a.originY;if("animating"!==this._state){var p=this.seriesModel.getData().tree.root;if(!p)return;var g=p.getLayout();if(!g)return;var v=new qn(g.x,g.y,g.width,g.height),y=this.seriesModel.layoutInfo,x=[1,0,0,1,0,0];Ic(x,x,[-(u-=y.x),-(d-=y.y)]),Wt(x,x,[a.scale,a.scale]),Ic(x,x,[u,d]),v.applyTransform(x),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:v.x,y:v.y,width:v.width,height:v.height}})}},s.prototype._initEvents=function(a){var u=this;a.on("click",function(d){if("ready"===u._state){var p=u.seriesModel.get("nodeClick",!0);if(p){var g=u.findTarget(d.offsetX,d.offsetY);if(g){var v=g.node;if(v.getLayout().isLeafRoot)u._rootToNode(g);else if("zoomToNode"===p)u._zoomToNode(g);else if("link"===p){var y=v.hostTree.data.getItemModel(v.dataIndex),x=y.get("link",!0),C=y.get("target",!0)||"blank";x&&J5(x,C)}}}}},this)},s.prototype._renderBreadcrumb=function(a,u,d){var p=this;d||(d=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(u.getWidth()/2,u.getHeight()/2))||(d={node:a.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new OC(this.group))).render(a,u,d.node,function(g){"animating"!==p._state&&(Kn(a.getViewRoot(),g)?p._rootToNode({node:g}):p._zoomToNode({node:g}))})},s.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},s.prototype.dispose=function(){this._clearController()},s.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},s.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},s.prototype.findTarget=function(a,u){var d;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(p){var g=this._storage.background[p.getRawIndex()];if(g){var v=g.transformCoordToLocal(a,u),y=g.shape;if(!(y.x<=v[0]&&v[0]<=y.x+y.width&&y.y<=v[1]&&v[1]<=y.y+y.height))return!1;d={node:p,offsetX:v[0],offsetY:v[1]}}},this),d},s.type="treemap",s}(dr),Wl=fe,xP=rn,ws=function(){function c(s){var a=s.mappingMethod,u=s.type,d=this.option=nn(s);this.type=u,this.mappingMethod=a,this._normalizeData=pg[a];var g,v,p=c.visualHandlers[u];this.applyVisual=p.applyVisual,this.getColorMapper=p.getColorMapper,this._normalizedToVisual=p._normalizedToVisual[a],"piecewise"===a?(CP(d),v=(g=d).pieceList,g.hasSpecialVisual=!1,fe(v,function(y,x){y.originIndex=x,null!=y.visual&&(g.hasSpecialVisual=!0)})):"category"===a?d.categories?function(g){var v=g.categories,y=g.categoryMap={},x=g.visual;if(Wl(v,function(D,P){y[D]=P}),!at(x)){var C=[];rn(x)?Wl(x,function(D,P){C[y[P]??-1]=D}):C[-1]=x,x=d8(g,C)}for(var w=v.length-1;w>=0;w--)null==x[w]&&(delete y[v[w]],v.pop())}(d):CP(d,!0):(Dl("linear"!==a||d.dataExtent),CP(d))}return c.prototype.mapValueToVisual=function(s){var a=this._normalizeData(s);return this._normalizedToVisual(a,s)},c.prototype.getNormalizer=function(){return rt(this._normalizeData,this)},c.listVisualTypes=function(){return Gt(c.visualHandlers)},c.isValidType=function(s){return c.visualHandlers.hasOwnProperty(s)},c.eachVisual=function(s,a,u){rn(s)?fe(s,a,u):a.call(u,s)},c.mapVisual=function(s,a,u){var d,p=at(s)?[]:rn(s)?{}:(d=!0,null);return c.eachVisual(s,function(g,v){var y=a.call(u,g,v);d?p=y:p[v]=y}),p},c.retrieveVisuals=function(s){var a,u={};return s&&Wl(c.visualHandlers,function(d,p){s.hasOwnProperty(p)&&(u[p]=s[p],a=!0)}),a?u:null},c.prepareVisualTypes=function(s){if(at(s))s=s.slice();else{if(!xP(s))return[];var a=[];Wl(s,function(u,d){a.push(d)}),s=a}return s.sort(function(u,d){return"color"===d&&"color"!==u&&0===u.indexOf("color")?1:-1}),s},c.dependsOn=function(s,a){return"color"===a?!(!s||0!==s.indexOf(a)):s===a},c.findPieceIndex=function(s,a,u){for(var d,p=1/0,g=0,v=a.length;g<v;g++){var y=a[g].value;if(null!=y){if(y===s||"string"==typeof y&&y===s+"")return g;u&&D(y,g)}}for(g=0,v=a.length;g<v;g++){var x=a[g],C=x.interval,w=x.close;if(C){if(C[0]===-1/0){if(J0(w[1],s,C[1]))return g}else if(C[1]===1/0){if(J0(w[0],C[0],s))return g}else if(J0(w[0],C[0],s)&&J0(w[1],s,C[1]))return g;u&&D(C[0],g),u&&D(C[1],g)}}if(u)return s===1/0?a.length-1:s===-1/0?0:d;function D(P,z){var k=Math.abs(P-s);k<p&&(p=k,d=z)}},c.visualHandlers={color:{applyVisual:h8("color"),getColorMapper:function(){var s=this.option;return rt("category"===s.mappingMethod?function(a,u){return!u&&(a=this._normalizeData(a)),pa.call(this,a)}:function(a,u,d){var p=!!d;return!u&&(a=this._normalizeData(a)),d=Ap(a,s.parsedVisual,d),p?d:Et(d,"rgba")},this)},_normalizedToVisual:{linear:function(s){return Et(Ap(s,this.option.parsedVisual),"rgba")},category:pa,piecewise:function(s,a){var u=LC.call(this,a);return null==u&&(u=Et(Ap(s,this.option.parsedVisual),"rgba")),u},fixed:Vn}},colorHue:IC(function(s,a){return zp(s,a)}),colorSaturation:IC(function(s,a){return zp(s,null,a)}),colorLightness:IC(function(s,a){return zp(s,null,null,a)}),colorAlpha:IC(function(s,a){return c1(s,a)}),decal:{applyVisual:h8("decal"),_normalizedToVisual:{linear:null,category:pa,piecewise:null,fixed:null}},opacity:{applyVisual:h8("opacity"),_normalizedToVisual:Oi([0,1])},liftZ:{applyVisual:h8("liftZ"),_normalizedToVisual:{linear:Vn,category:Vn,piecewise:Vn,fixed:Vn}},symbol:{applyVisual:function(s,a,u){u("symbol",this.mapValueToVisual(s))},_normalizedToVisual:{linear:j_,category:pa,piecewise:function(s,a){var u=LC.call(this,a);return null==u&&(u=j_.call(this,s)),u},fixed:Vn}},symbolSize:{applyVisual:h8("symbolSize"),_normalizedToVisual:Oi([0,1])}},c}();function CP(c,s){var a=c.visual,u=[];rn(a)?Wl(a,function(d){u.push(d)}):null!=a&&u.push(a),s||1!==u.length||{color:1,symbol:1}.hasOwnProperty(c.type)||(u[1]=u[0]),d8(c,u)}function IC(c){return{applyVisual:function(s,a,u){var d=this.mapValueToVisual(s);u("color",c(a("color"),d))},_normalizedToVisual:Oi([0,1])}}function j_(c){var s=this.option.visual;return s[Math.round(rr(c,[0,1],[0,s.length-1],!0))]||{}}function h8(c){return function(s,a,u){u(c,this.mapValueToVisual(s))}}function pa(c){var s=this.option.visual;return s[this.option.loop&&-1!==c?c%s.length:c]}function Vn(){return this.option.visual[0]}function Oi(c){return{linear:function(s){return rr(s,c,this.option.visual,!0)},category:pa,piecewise:function(s,a){var u=LC.call(this,a);return null==u&&(u=rr(s,c,this.option.visual,!0)),u},fixed:Vn}}function LC(c){var s=this.option,a=s.pieceList;if(s.hasSpecialVisual){var u=a[ws.findPieceIndex(c,a)];if(u&&u.visual)return u.visual[this.type]}}function d8(c,s){return c.visual=s,"color"===c.type&&(c.parsedVisual=tt(s,function(a){return Jr(a)})),s}var pg={linear:function(c){return rr(c,this.option.dataExtent,[0,1],!0)},piecewise:function(c){var s=this.option.pieceList,a=ws.findPieceIndex(c,s,!0);if(null!=a)return rr(a,[0,s.length-1],[0,1],!0)},category:function(c){return(this.option.categories?this.option.categoryMap[c]:c)??-1},fixed:lc};function J0(c,s,a){return c?s<=a:s<a}var zh=Zi(),SZ={seriesType:"treemap",reset:function(c){var s=c.getData().tree.root;s.isRemoved()||Ha(s,{},c.getViewRoot().getAncestors(),c)}};function Ha(c,s,a,u){var k,E,F,B,H,d=c.getModel(),p=c.getLayout(),g=c.hostTree.data;if(p&&!p.invisible&&p.isInView){var v,y=d.getModel("itemStyle"),x=(k=y,F=u,B=it({},E=s),H=F.designatedVisualItemStyle,fe(["color","colorAlpha","colorSaturation"],function(Y){H[Y]=E[Y];var U=k.get(Y);H[Y]=null,null!=U&&(B[Y]=U)}),B),C=g.ensureUniqueItemVisual(c.dataIndex,"style"),w=y.get("borderColor"),D=y.get("borderColorSaturation");null!=D&&(w=function(k,E){return null!=E?zp(E,null,null,k):null}(D,v=QN(x))),C.stroke=w;var P=c.viewChildren;if(P&&P.length){var z=function(k,E,F,B,H,Y){if(Y&&Y.length){var U=wP(E,"color")||null!=H.color&&"none"!==H.color&&(wP(E,"colorAlpha")||wP(E,"colorSaturation"));if(U){var j=E.get("visualMin"),q=E.get("visualMax"),Q=F.dataExtent.slice();null!=j&&j<Q[0]&&(Q[0]=j),null!=q&&q>Q[1]&&(Q[1]=q);var re=E.get("colorMappingBy"),oe={type:U.name,dataExtent:Q,visual:U.range};"color"!==oe.type||"index"!==re&&"id"!==re?oe.mappingMethod="linear":(oe.mappingMethod="category",oe.loop=!0);var ae=new ws(oe);return zh(ae).drColorMappingBy=re,ae}}}(0,d,p,0,x,P);fe(P,function(k,E){if(k.depth>=a.length||k===a[k.depth]){var F=function(B,H,Y,U,j,q){var Q=it({},H);if(j){var re=j.type,oe="color"===re&&zh(j).drColorMappingBy,ae="index"===oe?U:"id"===oe?q.mapIdToIndex(Y.getId()):Y.getValue(B.get("visualDimension"));Q[re]=j.mapValueToVisual(ae)}return Q}(d,x,k,E,z,u);Ha(k,F,a,u)}})}else v=QN(x),C.fill=v}}function QN(c){var s=po(c,"color");if(s){var a=po(c,"colorAlpha"),u=po(c,"colorSaturation");return u&&(s=zp(s,null,null,u)),a&&(s=c1(s,a)),s}}function po(c,s){var a=c[s];if(null!=a&&"none"!==a)return a}function wP(c,s){var a=c.get(s);return at(a)&&a.length?{name:s,range:a}:null}var J1=Math.max,RC=Math.min,f8=sa,SP=fe,TP=["itemStyle","borderWidth"],MP=["itemStyle","gapWidth"],NC=["upperLabel","show"],DP=["upperLabel","height"],TZ={seriesType:"treemap",reset:function(c,s,a,u){var d=a.getWidth(),p=a.getHeight(),g=c.option,v=io(c.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),y=g.size||[],x=At(f8(v.width,y[0]),d),C=At(f8(v.height,y[1]),p),w=u&&u.type,D=vi(u,["treemapZoomToNode","treemapRootToNode"],c),P="treemapRender"===w||"treemapMove"===w?u.rootRect:null,z=c.getViewRoot(),k=Jo(z);if("treemapMove"!==w){var E="treemapZoomToNode"===w?function(U,j,q,Q,re){var oe,ae=(j||{}).node,he=[Q,re];if(!ae||ae===q)return he;for(var me=Q*re,_e=me*U.option.zoomToNodeRatio;oe=ae.parentNode;){for(var be=0,we=oe.children,Te=0,Me=we.length;Te<Me;Te++)be+=we[Te].getValue();var Ae=ae.getValue();if(0===Ae)return he;_e*=be/Ae;var Ie=oe.getModel(),Ue=Ie.get(TP);(_e+=4*Ue*Ue+(3*Ue+Math.max(Ue,tF(Ie)))*Math.pow(_e,.5))>R&&(_e=R),ae=oe}_e<me&&(_e=me);var qe=Math.pow(_e/me,.5);return[Q*qe,re*qe]}(c,D,z,x,C):P?[P.width,P.height]:[x,C],F=g.sort;F&&"asc"!==F&&"desc"!==F&&(F="desc");var B={squareRatio:g.squareRatio,sort:F,leafDepth:g.leafDepth};z.hostTree.clearLayouts();var H={x:0,y:0,width:E[0],height:E[1],area:E[0]*E[1]};z.setLayout(H),PP(z,B,!1,0),H=z.getLayout(),SP(k,function(U,j){var q=(k[j+1]||z).getValue();U.setLayout(it({dataExtent:[q,q],borderWidth:0,upperHeight:0},H))})}var Y=c.getData().tree.root;Y.setLayout(function(U,j,q){if(j)return{x:j.x,y:j.y};var Q={x:0,y:0};if(!q)return Q;var re=q.node,oe=re.getLayout();if(!oe)return Q;for(var ae=[oe.width/2,oe.height/2],he=re;he;){var me=he.getLayout();ae[0]+=me.x,ae[1]+=me.y,he=he.parentNode}return{x:U.width/2-ae[0],y:U.height/2-ae[1]}}(v,P,D),!0),c.setLayoutInfo(v),eF(Y,new qn(-v.x,-v.y,d,p),k,z,0)}};function PP(c,s,a,u){var d,p;if(!c.isRemoved()){var g=c.getLayout();d=g.width,p=g.height;var v=c.getModel(),y=v.get(TP),x=v.get(MP)/2,C=tF(v),w=Math.max(y,C),D=y-x,P=w-x;c.setLayout({borderWidth:y,upperHeight:w,upperLabelHeight:C},!0);var z=(d=J1(d-2*D,0))*(p=J1(p-D-P,0)),k=function(re,oe,ae,he,me,_e){var be=re.children||[],we=he.sort;"asc"!==we&&"desc"!==we&&(we=null);var qe,ft,Te=null!=he.leafDepth&&he.leafDepth<=_e;if(me&&!Te)return re.viewChildren=[];qe=be=Ri(be,function(qe){return!qe.isRemoved()}),(ft=we)&&qe.sort(function($e,ot){var bt="asc"===ft?$e.getValue()-ot.getValue():ot.getValue()-$e.getValue();return 0===bt?"asc"===ft?$e.dataIndex-ot.dataIndex:ot.dataIndex-$e.dataIndex:bt});var Me=function(qe,ft,$e){for(var ot=0,bt=0,gt=ft.length;bt<gt;bt++)ot+=ft[bt].getValue();var vt,kt=qe.get("visualDimension");return ft&&ft.length?"value"===kt&&$e?(vt=[ft[ft.length-1].getValue(),ft[0].getValue()],"asc"===$e&&vt.reverse()):(vt=[1/0,-1/0],SP(ft,function(Rt){var dn=Rt.getValue(kt);dn<vt[0]&&(vt[0]=dn),dn>vt[1]&&(vt[1]=dn)})):vt=[NaN,NaN],{sum:ot,dataExtent:vt}}(oe,be,we);if(0===Me.sum)return re.viewChildren=[];if(Me.sum=function(qe,ft,$e,ot,bt){if(!ot)return $e;for(var gt=qe.get("visibleMin"),vt=bt.length,kt=vt,Rt=vt-1;Rt>=0;Rt--){var dn=bt["asc"===ot?vt-Rt-1:Rt].getValue();dn/$e*ft<gt&&(kt=Rt,$e-=dn)}return bt.splice("asc"===ot?0:kt,vt-kt),$e}(oe,ae,Me.sum,we,be),0===Me.sum)return re.viewChildren=[];for(var Ae=0,Ie=be.length;Ae<Ie;Ae++){var Ue=be[Ae].getValue()/Me.sum*ae;be[Ae].setLayout({area:Ue})}return Te&&(be.length&&re.setLayout({isLeafRoot:!0},!0),be.length=0),re.viewChildren=be,re.setLayout({dataExtent:Me.dataExtent},!0),be}(c,v,z,s,a,u);if(k.length){var E={x:D,y:P,width:d,height:p},F=RC(d,p),B=1/0,H=[];H.area=0;for(var Y=0,U=k.length;Y<U;){var j=k[Y];H.push(j),H.area+=j.getLayout().area;var q=MZ(H,F,s.squareRatio);q<=B?(Y++,B=q):(H.area-=H.pop().getLayout().area,JN(H,F,E,x,!1),F=RC(E.width,E.height),H.length=H.area=0,B=1/0)}if(H.length&&JN(H,F,E,x,!0),!a){var Q=v.get("childrenVisibleMin");null!=Q&&z<Q&&(a=!0)}for(Y=0,U=k.length;Y<U;Y++)PP(k[Y],s,a,u+1)}}}function MZ(c,s,a){for(var u=0,d=1/0,p=0,g=void 0,v=c.length;p<v;p++)(g=c[p].getLayout().area)&&(g<d&&(d=g),g>u&&(u=g));var y=c.area*c.area,x=s*s*a;return y?J1(x*u/y,y/(x*d)):1/0}function JN(c,s,a,u,d){var p=s===a.width?0:1,g=1-p,v=["x","y"],y=["width","height"],x=a[v[p]],C=s?c.area/s:0;(d||C>a[y[g]])&&(C=a[y[g]]);for(var w=0,D=c.length;w<D;w++){var P=c[w],z={},k=C?P.getLayout().area/C:0,E=z[y[g]]=J1(C-2*u,0),F=a[v[p]]+a[y[p]]-x,B=w===D-1||F<k?F:k,H=z[y[p]]=J1(B-2*u,0);z[v[g]]=a[v[g]]+RC(u,E/2),z[v[p]]=x+RC(u,H/2),x+=B,P.setLayout(z,!0)}a[v[g]]+=C,a[y[g]]-=C}function eF(c,s,a,u,d){var p=c.getLayout(),g=a[d],v=g&&g===c;if(!(g&&!v||d===a.length&&c!==u)){c.setLayout({isInView:!0,invisible:!v&&!s.intersect(p),isAboveViewRoot:v},!0);var y=new qn(s.x-p.x,s.y-p.y,s.width,s.height);SP(c.viewChildren||[],function(x){eF(x,y,a,u,d+1)})}}function tF(c){return c.get(NC)?c.get(DP):0}function nF(c){var s=c.findComponents({mainType:"legend"});s&&s.length&&c.eachSeriesByType("graph",function(a){var u=a.getCategoriesData(),d=a.getGraph().data,p=u.mapArray(u.getName);d.filterSelf(function(g){var v=d.getItemModel(g).getShallow("category");if(null!=v){"number"==typeof v&&(v=p[v]);for(var y=0;y<s.length;y++)if(!s[y].isSelected(v))return!1}return!0})})}function DZ(c){var s={};c.eachSeriesByType("graph",function(a){var u=a.getCategoriesData(),d=a.getData(),p={};u.each(function(g){var v=u.getName(g);p["ec-"+v]=g;var y=u.getItemModel(g),x=y.getModel("itemStyle").getItemStyle();x.fill||(x.fill=a.getColorFromPalette(v,s)),u.setItemVisual(g,"style",x);for(var C=["symbol","symbolSize","symbolKeepAspect"],w=0;w<C.length;w++){var D=y.getShallow(C[w],!0);null!=D&&u.setItemVisual(g,C[w],D)}}),u.count()&&d.each(function(g){var v=d.getItemModel(g).getShallow("category");if(null!=v){"string"==typeof v&&(v=p["ec-"+v]);var y=u.getItemVisual(v,"style");it(d.ensureUniqueItemVisual(g,"style"),y);for(var x=["symbol","symbolSize","symbolKeepAspect"],C=0;C<x.length;C++)d.setItemVisual(g,x[C],u.getItemVisual(v,x[C]))}})})}function p8(c){return c instanceof Array||(c=[c,c]),c}function FC(c){c.eachSeriesByType("graph",function(s){var a=s.getGraph(),u=s.getEdgeData(),d=p8(s.get("edgeSymbol")),p=p8(s.get("edgeSymbolSize"));u.setVisual("fromSymbol",d&&d[0]),u.setVisual("toSymbol",d&&d[1]),u.setVisual("fromSymbolSize",p&&p[0]),u.setVisual("toSymbolSize",p&&p[1]),u.setVisual("style",s.getModel("lineStyle").getLineStyle()),u.each(function(g){var v=u.getItemModel(g),y=a.getEdgeByIndex(g),x=p8(v.getShallow("symbol",!0)),C=p8(v.getShallow("symbolSize",!0)),w=v.getModel("lineStyle").getLineStyle(),D=u.ensureUniqueItemVisual(g,"style");switch(it(D,w),D.stroke){case"source":var P=y.node1.getVisual("style");D.stroke=P&&P.fill;break;case"target":P=y.node2.getVisual("style"),D.stroke=P&&P.fill}x[0]&&y.setVisual("fromSymbol",x[0]),x[1]&&y.setVisual("toSymbol",x[1]),C[0]&&y.setVisual("fromSymbolSize",C[0]),C[1]&&y.setVisual("toSymbolSize",C[1])})})}var BC=function(c){return c.get("autoCurveness")||null},iF=function(c,s){var a=BC(c),u=20,d=[];if("number"==typeof a)u=a;else if(at(a))return void(c.__curvenessList=a);s>u&&(u=s);var p=u%2?u+2:u+3;d=[];for(var g=0;g<p;g++)d.push((g%2?g+1:g)/10*(g%2?-1:1));c.__curvenessList=d},tv=function(c,s,a){var u=[c.id,c.dataIndex].join("."),d=[s.id,s.dataIndex].join(".");return[a.uid,u,d].join("--\x3e")},AP=function(c){var s=c.split("--\x3e");return[s[0],s[2],s[1]].join("--\x3e")},zP=function(c,s){var a=s.__edgeMap;return a[c]?a[c].length:0};function g8(c,s,a,u){var d=BC(s),p=at(d);if(!d)return null;var E,F,B,g=(B=tv((E=c).node1,E.node2,F=s),F.__edgeMap[B]);if(!g)return null;for(var v=-1,y=0;y<g.length;y++)if(g[y]===a){v=y;break}var x=function(E,F){return zP(tv(E.node1,E.node2,F),F)+zP(tv(E.node2,E.node1,F),F)}(c,s);iF(s,x),c.lineStyle=c.lineStyle||{};var C=tv(c.node1,c.node2,s),w=s.__curvenessList,D=p||x%2?0:1;if(g.isForward)return w[D+v];var P=AP(C),z=zP(P,s),k=w[v+z+D];return u?p?d&&0===d[0]?(z+D)%2?k:-k:((z%2?0:1)+D)%2?k:-k:(z+D)%2?k:-k:w[v+z+D]}function rF(c){var s=c.coordinateSystem;if(!s||"view"===s.type){var a=c.getGraph();a.eachNode(function(u){var d=u.getModel();u.setLayout([+d.get("x"),+d.get("y")])}),oF(a,c)}}function oF(c,s){c.eachEdge(function(a,u){var d=sc(a.getModel().get(["lineStyle","curveness"]),-g8(a,s,u,!0),0),p=cu(a.node1.getLayout()),g=cu(a.node2.getLayout()),v=[p,g];+d&&v.push([(p[0]+g[0])/2-(p[1]-g[1])*d,(p[1]+g[1])/2-(g[0]-p[0])*d]),a.setLayout(v)})}function PZ(c,s){c.eachSeriesByType("graph",function(a){var u=a.get("layout"),d=a.coordinateSystem;if(d&&"view"!==d.type){var p=a.getData(),g=[];fe(d.dimensions,function(D){g=g.concat(p.mapDimensionsAll(D))});for(var v=0;v<p.count();v++){for(var y=[],x=!1,C=0;C<g.length;C++){var w=p.get(g[C],v);isNaN(w)||(x=!0),y.push(w)}p.setItemLayout(v,x?d.dataToPoint(y):[NaN,NaN])}oF(p.graph,a)}else u&&"none"!==u||rF(a)})}function nv(c){var s=c.coordinateSystem;if("view"!==s.type)return 1;var a=c.option.nodeScaleRatio,u=s.scaleX;return((s.getZoom()-1)*a+1)/u}function m8(c){var s=c.getVisual("symbolSize");return s instanceof Array&&(s=(s[0]+s[1])/2),+s}var aF=Math.PI,kP=[];function VC(c,s){var a=c.coordinateSystem;if(!a||"view"===a.type){var u=a.getBoundingRect(),d=c.getData(),p=d.graph,g=u.width/2+u.x,v=u.height/2+u.y,y=Math.min(u.width,u.height)/2,x=d.count();d.setLayout({cx:g,cy:v}),x&&(OP[s](c,p,d,y,g,v,x),p.eachEdge(function(C,w){var D,P=sc(C.getModel().get(["lineStyle","curveness"]),g8(C,c,w),0),z=cu(C.node1.getLayout()),k=cu(C.node2.getLayout());+P&&(D=[g*(P*=3)+(z[0]+k[0])/2*(1-P),v*P+(z[1]+k[1])/2*(1-P)]),C.setLayout([z,k,D])}))}}var OP={value:function(c,s,a,u,d,p,g){var v=0,y=a.getSum("value"),x=2*Math.PI/(y||g);s.eachNode(function(C){var w=C.getValue("value"),D=x*(y?w:1)/2;v+=D,C.setLayout([u*Math.cos(v)+d,u*Math.sin(v)+p]),v+=D})},symbolSize:function(c,s,a,u,d,p,g){var v=0;kP.length=g;var y=nv(c);s.eachNode(function(w){var D=m8(w);isNaN(D)&&(D=2),D<0&&(D=0),D*=y;var P=Math.asin(D/2/u);isNaN(P)&&(P=aF/2),kP[w.dataIndex]=P,v+=2*P});var x=(2*aF-v)/g/2,C=0;s.eachNode(function(w){var D=x+kP[w.dataIndex];C+=D,w.setLayout([u*Math.cos(C)+d,u*Math.sin(C)+p]),C+=D})}};function sF(c){c.eachSeriesByType("graph",function(s){"circular"===s.get("layout")&&VC(s,"symbolSize")})}var $_=Al;function AZ(c){c.eachSeriesByType("graph",function(s){var a=s.coordinateSystem;if(!a||"view"===a.type)if("force"===s.get("layout")){var u=s.preservedPoints||{},d=s.getGraph(),p=d.data,g=d.edgeData,v=s.getModel("force"),y=v.get("initLayout");s.preservedPoints?p.each(function(H){var Y=p.getId(H);p.setItemLayout(H,u[Y]||[NaN,NaN])}):y&&"none"!==y?"circular"===y&&VC(s,"value"):rF(s);var x=p.getDataExtent("value"),C=g.getDataExtent("value"),w=v.get("repulsion"),D=v.get("edgeLength"),P=at(w)?w:[w,w],z=at(D)?D:[D,D];z=[z[1],z[0]];var k=p.mapArray("value",function(H,Y){var U=p.getItemLayout(Y),j=rr(H,x,P);return isNaN(j)&&(j=(P[0]+P[1])/2),{w:j,rep:j,fixed:p.getItemModel(Y).get("fixed"),p:!U||isNaN(U[0])||isNaN(U[1])?null:U}}),E=g.mapArray("value",function(H,Y){var U=d.getEdgeByIndex(Y),j=rr(H,C,z);isNaN(j)&&(j=(z[0]+z[1])/2);var q=U.getModel(),Q=sc(U.getModel().get(["lineStyle","curveness"]),-g8(U,s,Y,!0),0);return{n1:k[U.node1.dataIndex],n2:k[U.node2.dataIndex],d:j,curveness:Q,ignoreForceLayout:q.get("ignoreForceLayout")}}),F=a.getBoundingRect(),B=function(H,Y,U){for(var j=H,q=Y,Q=U.rect,re=Q.width,oe=Q.height,ae=[Q.x+re/2,Q.y+oe/2],he=null==U.gravity?.1:U.gravity,me=0;me<j.length;me++){var _e=j[me];_e.p||(_e.p=Pl(re*(Math.random()-.5)+ae[0],oe*(Math.random()-.5)+ae[1])),_e.pp=cu(_e.p),_e.edges=null}var be,we,Te=null==U.friction?.6:U.friction,Me=Te;return{warmUp:function(){Me=.8*Te},setFixed:function(Ae){j[Ae].fixed=!0},setUnfixed:function(Ae){j[Ae].fixed=!1},beforeStep:function(Ae){be=Ae},afterStep:function(Ae){we=Ae},step:function(Ae){be&&be(j,q);for(var Ie=[],Ue=j.length,qe=0;qe<q.length;qe++){var ft=q[qe];if(!ft.ignoreForceLayout){var $e=ft.n1;Fo(Ie,(vt=ft.n2).p,$e.p);var ot=Wm(Ie)-ft.d,bt=vt.w/($e.w+vt.w);isNaN(bt)&&(bt=0),Qh(Ie,Ie),!$e.fixed&&$_($e.p,$e.p,Ie,bt*ot*Me),!vt.fixed&&$_(vt.p,vt.p,Ie,-(1-bt)*ot*Me)}}for(qe=0;qe<Ue;qe++)(dn=j[qe]).fixed||(Fo(Ie,ae,dn.p),$_(dn.p,dn.p,Ie,he*Me));for(qe=0;qe<Ue;qe++){$e=j[qe];for(var gt=qe+1;gt<Ue;gt++){var vt;Fo(Ie,(vt=j[gt]).p,$e.p),0===(ot=Wm(Ie))&&(oh(Ie,Math.random()-.5,Math.random()-.5),ot=1);var kt=($e.rep+vt.rep)/ot/ot;!$e.fixed&&$_($e.pp,$e.pp,Ie,kt),!vt.fixed&&$_(vt.pp,vt.pp,Ie,-kt)}}var Rt=[];for(qe=0;qe<Ue;qe++){var dn;(dn=j[qe]).fixed||(Fo(Rt,dn.p,dn.pp),$_(dn.p,dn.p,Rt,Me),Ls(dn.pp,dn.p))}var ln=(Me*=.992)<.01;we&&we(j,q,ln),Ae&&Ae(ln)}}}(k,E,{rect:F,gravity:v.get("gravity"),friction:v.get("friction")});B.beforeStep(function(H,Y){for(var U=0,j=H.length;U<j;U++)H[U].fixed&&Ls(H[U].p,d.getNodeByIndex(U).getLayout())}),B.afterStep(function(H,Y,U){for(var j=0,q=H.length;j<q;j++)H[j].fixed||d.getNodeByIndex(j).setLayout(H[j].p),u[p.getId(j)]=H[j].p;for(j=0,q=Y.length;j<q;j++){var Q=Y[j],re=d.getEdgeByIndex(j),oe=Q.n1.p,ae=Q.n2.p,he=re.getLayout();(he=he?he.slice():[])[0]=he[0]||[],he[1]=he[1]||[],Ls(he[0],oe),Ls(he[1],ae),+Q.curveness&&(he[2]=[(oe[0]+ae[0])/2-(oe[1]-ae[1])*Q.curveness,(oe[1]+ae[1])/2-(ae[0]-oe[0])*Q.curveness]),re.setLayout(he)}}),s.forceLayout=B,s.preservedPoints=u,B.step()}else s.forceLayout=null})}function lF(c,s){var a=[];return c.eachSeriesByType("graph",function(u){var E,F,d=u.get("coordinateSystem");if(!d||"view"===d){var p=u.getData(),g=[],v=[];c0(p.mapArray(function(k){var E=p.getItemModel(k);return[+E.get("x"),+E.get("y")]}),g,v),v[0]-g[0]==0&&(v[0]+=1,g[0]-=1),v[1]-g[1]==0&&(v[1]+=1,g[1]-=1);var y=(v[0]-g[0])/(v[1]-g[1]),x=(E=s,F=y,io(it(u.getBoxLayoutParams(),{aspect:F}),{width:E.getWidth(),height:E.getHeight()}));isNaN(y)&&(g=[x.x,x.y],v=[x.x+x.width,x.y+x.height]);var C=v[0]-g[0],w=v[1]-g[1],D=x.width,P=x.height,z=u.coordinateSystem=new W_;z.zoomLimit=u.get("scaleLimit"),z.setBoundingRect(g[0],g[1],C,w),z.setViewRect(x.x,x.y,D,P),z.setCenter(u.get("center")),z.setZoom(u.get("zoom")),a.push(z)}}),a}var HC=Fa.prototype,YC=p0.prototype,Ss=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function EP(c){return isNaN(+c.cpx1)||isNaN(+c.cpy1)}!function(c){Ee(function s(){return null!==c&&c.apply(this,arguments)||this},c)}(Ss);var cF=function(c){function s(a){var u=c.call(this,a)||this;return u.type="ec-line",u}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new Ss},s.prototype.buildPath=function(a,u){EP(u)?HC.buildPath.call(this,a,u):YC.buildPath.call(this,a,u)},s.prototype.pointAt=function(a){return EP(this.shape)?HC.pointAt.call(this,a):YC.pointAt.call(this,a)},s.prototype.tangentAt=function(a){var u=this.shape,d=EP(u)?[u.x2-u.x1,u.y2-u.y1]:YC.tangentAt.call(this,a);return Qh(d,d)},s}(pi),UC=["fromSymbol","toSymbol"];function uF(c){return"_"+c+"Type"}function xr(c,s,a){var u=s.getItemVisual(a,c);if(u&&"none"!==u){var d=s.getItemVisual(a,c+"Size"),p=s.getItemVisual(a,c+"Rotate"),g=s.getItemVisual(a,c+"Offset"),v=s.getItemVisual(a,c+"KeepAspect"),y=x_(d),x=L0(g||0,y),C=da(u,-y[0]/2+x[0],-y[1]/2+x[1],y[0],y[1],null,v);return C.__specifiedRotation=null==p||isNaN(p)?void 0:+p*Math.PI/180||0,C.name=c,C}}function GC(c,s){c.x1=s[0][0],c.y1=s[0][1],c.x2=s[1][0],c.y2=s[1][1],c.percent=1;var a=s[2];a?(c.cpx1=a[0],c.cpy1=a[1]):(c.cpx1=NaN,c.cpy1=NaN)}var IP=function(c){function s(a,u,d){var p=c.call(this)||this;return p._createLine(a,u,d),p}return Ee(s,c),s.prototype._createLine=function(a,u,d){var v,y,p=a.hostModel,g=(v=a.getItemLayout(u),GC((y=new cF({name:"line",subPixelOptimize:!0})).shape,v),y);g.shape.percent=0,to(g,{shape:{percent:1}},p,u),this.add(g),fe(UC,function(v){var y=xr(v,a,u);this.add(y),this[uF(v)]=a.getItemVisual(u,v)},this),this._updateCommonStl(a,u,d)},s.prototype.updateData=function(a,u,d){var p=a.hostModel,g=this.childOfName("line"),v=a.getItemLayout(u),y={shape:{}};GC(y.shape,v),Ti(g,y,p,u),fe(UC,function(x){var C=a.getItemVisual(u,x),w=uF(x);if(this[w]!==C){this.remove(this.childOfName(x));var D=xr(x,a,u);this.add(D)}this[w]=C},this),this._updateCommonStl(a,u,d)},s.prototype.getLinePath=function(){return this.childAt(0)},s.prototype._updateCommonStl=function(a,u,d){var p=a.hostModel,g=this.childOfName("line"),v=d&&d.emphasisLineStyle,y=d&&d.blurLineStyle,x=d&&d.selectLineStyle,C=d&&d.labelStatesModels;if(!d||a.hasItemOption){var w=a.getItemModel(u);v=w.getModel(["emphasis","lineStyle"]).getLineStyle(),y=w.getModel(["blur","lineStyle"]).getLineStyle(),x=w.getModel(["select","lineStyle"]).getLineStyle(),C=Hs(w)}var D=a.getItemVisual(u,"style"),P=D.stroke;g.useStyle(D),g.style.fill=null,g.style.strokeNoScale=!0,g.ensureState("emphasis").style=v,g.ensureState("blur").style=y,g.ensureState("select").style=x,fe(UC,function(B){var H=this.childOfName(B);if(H){H.setColor(P),H.style.opacity=D.opacity;for(var Y=0;Y<Fs.length;Y++){var U=Fs[Y],j=g.getState(U);if(j){var q=j.style||{},Q=H.ensureState(U),re=Q.style||(Q.style={});null!=q.stroke&&(re[H.__isEmptyBrush?"stroke":"fill"]=q.stroke),null!=q.opacity&&(re.opacity=q.opacity)}}H.markRedraw()}},this);var z=p.getRawValue(u);Vl(this,C,{labelDataIndex:u,labelFetcher:{getFormattedLabel:function(B,H){return p.getFormattedLabel(B,H,a.dataType)}},inheritColor:P||"#000",defaultOpacity:D.opacity,defaultText:(null==z?a.getName(u):isFinite(z)?Ma(z):z)+""});var k=this.getTextContent();if(k){var E=C.normal;k.__align=k.style.align,k.__verticalAlign=k.style.verticalAlign,k.__position=E.get("position")||"middle";var F=E.get("distance");at(F)||(F=[F,F]),k.__labelDistance=F}this.setTextConfig({position:null,local:!0,inside:!1}),eo(this)},s.prototype.highlight=function(){ad(this)},s.prototype.downplay=function(){Wp(this)},s.prototype.updateLayout=function(a,u){this.setLinePoints(a.getItemLayout(u))},s.prototype.setLinePoints=function(a){var u=this.childOfName("line");GC(u.shape,a),u.dirty()},s.prototype.beforeUpdate=function(){var a=this,u=a.childOfName("fromSymbol"),d=a.childOfName("toSymbol"),p=a.getTextContent();if(u||d||p&&!p.ignore){for(var g=1,v=this.parent;v;)v.scaleX&&(g/=v.scaleX),v=v.parent;var y=a.childOfName("line");if(this.__dirty||y.__dirty){var x=y.shape.percent,C=y.pointAt(0),w=y.pointAt(x),D=Fo([],w,C);if(Qh(D,D),u&&(u.setPosition(C),re(u,0),u.scaleX=u.scaleY=g*x,u.markRedraw()),d&&(d.setPosition(w),re(d,1),d.scaleX=d.scaleY=g*x,d.markRedraw()),p&&!p.ignore){p.x=p.y=0,p.originX=p.originY=0;var P=void 0,z=void 0,k=p.__labelDistance,E=k[0]*g,F=k[1]*g,B=x/2,H=y.tangentAt(B),Y=[H[1],-H[0]],U=y.pointAt(B);Y[1]>0&&(Y[0]=-Y[0],Y[1]=-Y[1]);var j=H[0]<0?-1:1;if("start"!==p.__position&&"end"!==p.__position){var q=-Math.atan2(H[1],H[0]);w[0]<C[0]&&(q=Math.PI+q),p.rotation=q}var Q=void 0;switch(p.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Q=-F,z="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Q=F,z="top";break;default:Q=0,z="middle"}switch(p.__position){case"end":p.x=D[0]*E+w[0],p.y=D[1]*F+w[1],P=D[0]>.8?"left":D[0]<-.8?"right":"center",z=D[1]>.8?"top":D[1]<-.8?"bottom":"middle";break;case"start":p.x=-D[0]*E+C[0],p.y=-D[1]*F+C[1],P=D[0]>.8?"right":D[0]<-.8?"left":"center",z=D[1]>.8?"bottom":D[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":p.x=E*j+C[0],p.y=C[1]+Q,P=H[0]<0?"right":"left",p.originX=-E*j,p.originY=-Q;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":p.x=U[0],p.y=U[1]+Q,P="center",p.originY=-Q;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":p.x=-E*j+w[0],p.y=w[1]+Q,P=H[0]>=0?"right":"left",p.originX=E*j,p.originY=-Q}p.scaleX=p.scaleY=g,p.setStyle({verticalAlign:p.__verticalAlign||z,align:p.__align||P})}}}function re(oe,ae){var he=oe.__specifiedRotation;if(null==he){var me=y.tangentAt(ae);oe.attr("rotation",(1===ae?-1:1)*Math.PI/2-Math.atan2(me[1],me[0]))}else oe.attr("rotation",he)}},s}(Xt),hn=function(){function c(s){this.group=new Xt,this._LineCtor=s||IP}return c.prototype.isPersistent=function(){return!0},c.prototype.updateData=function(s){var a=this,u=this,d=u.group,p=u._lineData;u._lineData=s,p||d.removeAll();var g=hF(s);s.diff(p).add(function(v){a._doAdd(s,v,g)}).update(function(v,y){a._doUpdate(p,s,y,v,g)}).remove(function(v){d.remove(p.getItemGraphicEl(v))}).execute()},c.prototype.updateLayout=function(){var s=this._lineData;s&&s.eachItemGraphicEl(function(a,u){a.updateLayout(s,u)},this)},c.prototype.incrementalPrepareUpdate=function(s){this._seriesScope=hF(s),this._lineData=null,this.group.removeAll()},c.prototype.incrementalUpdate=function(s,a){function u(g){var v;g.isGroup||(v=g).animators&&v.animators.length>0||(g.incremental=!0,g.ensureState("emphasis").hoverLayer=!0)}for(var d=s.start;d<s.end;d++)if(v8(a.getItemLayout(d))){var p=new this._LineCtor(a,d,this._seriesScope);p.traverse(u),this.group.add(p),a.setItemGraphicEl(d,p)}},c.prototype.remove=function(){this.group.removeAll()},c.prototype._doAdd=function(s,a,u){if(v8(s.getItemLayout(a))){var d=new this._LineCtor(s,a,u);s.setItemGraphicEl(a,d),this.group.add(d)}},c.prototype._doUpdate=function(s,a,u,d,p){var g=s.getItemGraphicEl(u);v8(a.getItemLayout(d))?(g?g.updateData(a,d,p):g=new this._LineCtor(a,d,p),a.setItemGraphicEl(d,g),this.group.add(g)):this.group.remove(g)},c}();function hF(c){var s=c.hostModel;return{lineStyle:s.getModel("lineStyle").getLineStyle(),emphasisLineStyle:s.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:s.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:s.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:Hs(s)}}function LP(c){return isNaN(c[0])||isNaN(c[1])}function v8(c){return!LP(c[0])&&!LP(c[1])}var jl=[],jc=[],kh=[],_8=cl,WC=Cr,dF=Math.abs;function Ys(c,s,a){for(var u,d=c[0],p=c[1],g=c[2],v=1/0,y=a*a,x=.1,C=.1;C<=.9;C+=.1)jl[0]=_8(d[0],p[0],g[0],C),jl[1]=_8(d[1],p[1],g[1],C),(P=dF(WC(jl,s)-y))<v&&(v=P,u=C);for(var w=0;w<32;w++){var D=u+x;jc[0]=_8(d[0],p[0],g[0],u),jc[1]=_8(d[1],p[1],g[1],u),kh[0]=_8(d[0],p[0],g[0],D),kh[1]=_8(d[1],p[1],g[1],D);var P=WC(jc,s)-y;if(dF(P)<.01)break;var z=WC(kh,s)-y;x/=2,P<0?z>=0?u+=x:u-=x:z>=0?u-=x:u+=x}return u}function Yr(c,s){var a=[],u=y5,d=[[],[],[]],p=[[],[]],g=[];s/=2,c.eachEdge(function(v,y){var x=v.getLayout(),C=v.getVisual("fromSymbol"),w=v.getVisual("toSymbol");x.__original||(x.__original=[cu(x[0]),cu(x[1])],x[2]&&x.__original.push(cu(x[2])));var D=x.__original;if(null!=x[2]){if(Ls(d[0],D[0]),Ls(d[1],D[2]),Ls(d[2],D[1]),C&&"none"!==C){var P=m8(v.node1),z=Ys(d,D[0],P*s);u(d[0][0],d[1][0],d[2][0],z,a),d[0][0]=a[3],d[1][0]=a[4],u(d[0][1],d[1][1],d[2][1],z,a),d[0][1]=a[3],d[1][1]=a[4]}w&&"none"!==w&&(P=m8(v.node2),z=Ys(d,D[1],P*s),u(d[0][0],d[1][0],d[2][0],z,a),d[1][0]=a[1],d[2][0]=a[2],u(d[0][1],d[1][1],d[2][1],z,a),d[1][1]=a[1],d[2][1]=a[2]),Ls(x[0],d[0]),Ls(x[1],d[2]),Ls(x[2],d[1])}else Ls(p[0],D[0]),Ls(p[1],D[1]),Fo(g,p[1],p[0]),Qh(g,g),C&&"none"!==C&&(P=m8(v.node1),Al(p[0],p[0],g,P*s)),w&&"none"!==w&&(P=m8(v.node2),Al(p[1],p[1],g,-P*s)),Ls(x[0],p[0]),Ls(x[1],p[1])})}function zZ(c){return"view"===c.type}var _d=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u){var d=new Qy,p=new hn,g=this.group;this._controller=new K1(u.getZr()),this._controllerHost={target:g},g.add(d.group),g.add(p.group),this._symbolDraw=d,this._lineDraw=p,this._firstRender=!0},s.prototype.render=function(a,u,d){var p=this,g=a.coordinateSystem;this._model=a;var v=this._symbolDraw,y=this._lineDraw,x=this.group;if(zZ(g)){var C={x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY};this._firstRender?x.attr(C):Ti(x,C,a)}Yr(a.getGraph(),nv(a));var w=a.getData();v.updateData(w);var D=a.getEdgeData();y.updateData(D),this._updateNodeAndLinkScale(),this._updateController(a,u,d),clearTimeout(this._layoutTimeout);var P=a.forceLayout,z=a.get(["force","layoutAnimation"]);P&&this._startForceLayoutIteration(P,z),w.graph.eachNode(function(B){var H=B.dataIndex,Y=B.getGraphicEl(),U=B.getModel();Y.off("drag").off("dragend");var j=U.get("draggable");j&&Y.on("drag",function(){P&&(P.warmUp(),!p._layouting&&p._startForceLayoutIteration(P,z),P.setFixed(H),w.setItemLayout(H,[Y.x,Y.y]))}).on("dragend",function(){P&&P.setUnfixed(H)}),Y.setDraggable(j&&!!P),"adjacency"===U.get(["emphasis","focus"])&&(Pn(Y).focus=B.getAdjacentDataIndices())}),w.graph.eachEdge(function(B){var H=B.getGraphicEl();"adjacency"===B.getModel().get(["emphasis","focus"])&&(Pn(H).focus={edge:[B.dataIndex],node:[B.node1.dataIndex,B.node2.dataIndex]})});var k="circular"===a.get("layout")&&a.get(["circular","rotateLabel"]),E=w.getLayout("cx"),F=w.getLayout("cy");w.eachItemGraphicEl(function(B,H){var Y=w.getItemModel(H).get(["label","rotate"])||0,U=B.getSymbolPath();if(k){var j=w.getItemLayout(H),q=Math.atan2(j[1]-F,j[0]-E);q<0&&(q=2*Math.PI+q);var Q=j[0]<E;Q&&(q-=Math.PI);var re=Q?"left":"right";U.setTextConfig({rotation:-q,position:re,origin:"center"});var oe=U.ensureState("emphasis");it(oe.textConfig||(oe.textConfig={}),{position:re})}else U.setTextConfig({rotation:Y*=Math.PI/180})}),this._firstRender=!1},s.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},s.prototype._startForceLayoutIteration=function(a,u){var d=this;!function p(){a.step(function(g){d.updateLayout(d._model),(d._layouting=!g)&&(u?d._layoutTimeout=setTimeout(p,16):p())})}()},s.prototype._updateController=function(a,u,d){var p=this,g=this._controller,v=this._controllerHost,y=this.group;g.setPointerChecker(function(x,C,w){var D=y.getBoundingRect();return D.applyTransform(y.transform),D.contain(C,w)&&!TC(x,d,a)}),zZ(a.coordinateSystem)?(g.enable(a.get("roam")),v.zoomLimit=a.get("scaleLimit"),v.zoom=a.coordinateSystem.getZoom(),g.off("pan").off("zoom").on("pan",function(x){RN(v,x.dx,x.dy),d.dispatchAction({seriesId:a.id,type:"graphRoam",dx:x.dx,dy:x.dy})}).on("zoom",function(x){SC(v,x.scale,x.originX,x.originY),d.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:x.scale,originX:x.originX,originY:x.originY}),p._updateNodeAndLinkScale(),Yr(a.getGraph(),nv(a)),p._lineDraw.updateLayout(),d.updateLabelLayout()})):g.disable()},s.prototype._updateNodeAndLinkScale=function(){var a=this._model,u=a.getData(),d=nv(a);u.eachItemGraphicEl(function(p,g){p.setSymbolScale(d)})},s.prototype.updateLayout=function(a){Yr(a.getGraph(),nv(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},s.prototype.remove=function(a,u){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},s.type="graph",s}(dr);function X_(c){return"_EC_"+c}var kZ=function(){function c(s){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=s||!1}return c.prototype.isDirected=function(){return this._directed},c.prototype.addNode=function(s,a){var u=this._nodesMap;if(!u[X_(s=null==s?""+a:""+s)]){var d=new iv(s,a);return d.hostGraph=this,this.nodes.push(d),u[X_(s)]=d,d}},c.prototype.getNodeByIndex=function(s){var a=this.data.getRawIndex(s);return this.nodes[a]},c.prototype.getNodeById=function(s){return this._nodesMap[X_(s)]},c.prototype.addEdge=function(s,a,u){var d=this._nodesMap,p=this._edgesMap;if("number"==typeof s&&(s=this.nodes[s]),"number"==typeof a&&(a=this.nodes[a]),s instanceof iv||(s=d[X_(s)]),a instanceof iv||(a=d[X_(a)]),s&&a){var g=s.id+"-"+a.id,v=new fF(s,a,u);return v.hostGraph=this,this._directed&&(s.outEdges.push(v),a.inEdges.push(v)),s.edges.push(v),s!==a&&a.edges.push(v),this.edges.push(v),p[g]=v,v}},c.prototype.getEdgeByIndex=function(s){var a=this.edgeData.getRawIndex(s);return this.edges[a]},c.prototype.getEdge=function(s,a){s instanceof iv&&(s=s.id),a instanceof iv&&(a=a.id);var u=this._edgesMap;return this._directed?u[s+"-"+a]:u[s+"-"+a]||u[a+"-"+s]},c.prototype.eachNode=function(s,a){for(var u=this.nodes,d=u.length,p=0;p<d;p++)u[p].dataIndex>=0&&s.call(a,u[p],p)},c.prototype.eachEdge=function(s,a){for(var u=this.edges,d=u.length,p=0;p<d;p++)u[p].dataIndex>=0&&u[p].node1.dataIndex>=0&&u[p].node2.dataIndex>=0&&s.call(a,u[p],p)},c.prototype.breadthFirstTraverse=function(s,a,u,d){if(a instanceof iv||(a=this._nodesMap[X_(a)]),a){for(var p="out"===u?"outEdges":"in"===u?"inEdges":"edges",g=0;g<this.nodes.length;g++)this.nodes[g].__visited=!1;if(!s.call(d,a,null))for(var v=[a];v.length;){var y=v.shift(),x=y[p];for(g=0;g<x.length;g++){var C=x[g],w=C.node1===y?C.node2:C.node1;if(!w.__visited){if(s.call(d,w,y))return;v.push(w),w.__visited=!0}}}}},c.prototype.update=function(){for(var s=this.data,a=this.edgeData,u=this.nodes,d=this.edges,p=0,g=u.length;p<g;p++)u[p].dataIndex=-1;for(p=0,g=s.count();p<g;p++)u[s.getRawIndex(p)].dataIndex=p;for(a.filterSelf(function(v){var y=d[a.getRawIndex(v)];return y.node1.dataIndex>=0&&y.node2.dataIndex>=0}),p=0,g=d.length;p<g;p++)d[p].dataIndex=-1;for(p=0,g=a.count();p<g;p++)d[a.getRawIndex(p)].dataIndex=p},c.prototype.clone=function(){for(var s=new c(this._directed),a=this.nodes,u=this.edges,d=0;d<a.length;d++)s.addNode(a[d].id,a[d].dataIndex);for(d=0;d<u.length;d++){var p=u[d];s.addEdge(p.node1.id,p.node2.id,p.dataIndex)}return s},c}(),iv=function(){function c(s,a){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=s??"",this.dataIndex=a??-1}return c.prototype.degree=function(){return this.edges.length},c.prototype.inDegree=function(){return this.inEdges.length},c.prototype.outDegree=function(){return this.outEdges.length},c.prototype.getModel=function(s){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(s)},c.prototype.getAdjacentDataIndices=function(){for(var s={edge:[],node:[]},a=0;a<this.edges.length;a++){var u=this.edges[a];u.dataIndex<0||(s.edge.push(u.dataIndex),s.node.push(u.node1.dataIndex,u.node2.dataIndex))}return s},c}(),fF=function(){function c(s,a,u){this.dataIndex=-1,this.node1=s,this.node2=a,this.dataIndex=u??-1}return c.prototype.getModel=function(s){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(s)},c.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},c}();function jC(c,s){return{getValue:function(a){var u=this[c][s];return u.getStore().get(u.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,u){this.dataIndex>=0&&this[c][s].setItemVisual(this.dataIndex,a,u)},getVisual:function(a){return this[c][s].getItemVisual(this.dataIndex,a)},setLayout:function(a,u){this.dataIndex>=0&&this[c][s].setItemLayout(this.dataIndex,a,u)},getLayout:function(){return this[c][s].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[c][s].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[c][s].getRawIndex(this.dataIndex)}}}function pF(c,s,a,u,d){for(var p=new kZ(u),g=0;g<c.length;g++)p.addNode(sa(c[g].id,c[g].name,g),g);var v=[],y=[],x=0;for(g=0;g<s.length;g++){var C=s[g],w=C.source,D=C.target;p.addEdge(w,D,x)&&(y.push(C),v.push(sa(Vo(C.id,null),w+" > "+D)),x++)}var P,z=a.get("coordinateSystem");if("cartesian2d"===z||"polar"===z)P=Uc(c,a);else{var k=a_.get(z),E=k&&k.dimensions||[];Gn(E,"value")<0&&E.concat(["value"]);var F=D_(c,{coordDimensions:E,encodeDefine:a.getEncode()}).dimensions;(P=new ts(F,a)).initData(c)}var B=new ts(["value"],a);return B.initData(y,v),d&&d(P,B),mP({mainData:P,struct:p,structAttr:"graph",datas:{node:P,edge:B},datasAttr:{node:"data",edge:"edgeData"}}),p.update(),p}Gr(iv,jC("hostGraph","data")),Gr(fF,jC("hostGraph","edgeData"));var OZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.hasSymbolVisual=!0,a}return Ee(s,c),s.prototype.init=function(a){c.prototype.init.apply(this,arguments);var u=this;function d(){return u._categoriesData}this.legendVisualProvider=new mC(d,d),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},s.prototype.mergeOption=function(a){c.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},s.prototype.mergeDefaultAndTheme=function(a){c.prototype.mergeDefaultAndTheme.apply(this,arguments),yu(a,"edgeLabel",["show"])},s.prototype.getInitialData=function(a,u){var d,p=a.edges||a.links||[],g=a.data||a.nodes||[],v=this;if(g&&p){BC(d=this)&&(d.__curvenessList=[],d.__edgeMap={},iF(d));var y=pF(g,p,this,!0,function(x,C){x.wrapMethod("getItemModel",function(z){var k=v._categoriesModels[z.getShallow("category")];return k&&(k.parentModel=z.parentModel,z.parentModel=k),z});var w=tr.prototype.getModel;function D(z,k){var E=w.call(this,z,k);return E.resolveParentPath=P,E}function P(z){if(z&&("label"===z[0]||"label"===z[1])){var k=z.slice();return"label"===z[0]?k[0]="edgeLabel":"label"===z[1]&&(k[1]="edgeLabel"),k}return z}C.wrapMethod("getItemModel",function(z){return z.resolveParentPath=P,z.getModel=D,z})});return fe(y.edges,function(x){!function(C,w,D,P){if(BC(D)){var z=tv(C,w,D),k=D.__edgeMap,E=k[AP(z)];k[z]&&!E?k[z].isForward=!0:E&&k[z]&&(E.isForward=!0,k[z].isForward=!1),k[z]=k[z]||[],k[z].push(P)}}(x.node1,x.node2,this,x.dataIndex)},this),y.data}},s.prototype.getGraph=function(){return this.getData().graph},s.prototype.getEdgeData=function(){return this.getGraph().edgeData},s.prototype.getCategoriesData=function(){return this._categoriesData},s.prototype.formatTooltip=function(a,u,d){if("edge"===d){var p=this.getData(),g=this.getDataParams(a,d),v=p.graph.getEdgeByIndex(a),y=p.getName(v.node1.dataIndex),x=p.getName(v.node2.dataIndex),C=[];return null!=y&&C.push(y),null!=x&&C.push(x),bs("nameValue",{name:C.join(" > "),value:g.value,noValue:null==g.value})}return YL({series:this,dataIndex:a,multipleSeries:u})},s.prototype._updateCategoriesData=function(){var a=tt(this.option.categories||[],function(d){return null!=d.value?d:it({value:0},d)}),u=new ts(["value"],this);u.initData(a),this._categoriesData=u,this._categoriesModels=u.mapArray(function(d){return u.getItemModel(d)})},s.prototype.setZoom=function(a){this.option.zoom=a},s.prototype.setCenter=function(a){this.option.center=a},s.prototype.isAnimationEnabled=function(){return c.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},s.type="series.graph",s.dependencies=["grid","polar","geo","singleAxis","calendar"],s.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},s}(Fr),EZ={type:"graphRoam",event:"graphRoam",update:"none"},IZ=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},LZ=function(c){function s(a){var u=c.call(this,a)||this;return u.type="pointer",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new IZ},s.prototype.buildPath=function(a,u){var d=Math.cos,p=Math.sin,g=u.r,v=u.width,y=u.angle,x=u.x-d(y)*v*(v>=g/3?1:2),C=u.y-p(y)*v*(v>=g/3?1:2);y=u.angle-Math.PI/2,a.moveTo(x,C),a.lineTo(u.x+d(y)*v,u.y+p(y)*v),a.lineTo(u.x+d(u.angle)*g,u.y+p(u.angle)*g),a.lineTo(u.x-d(y)*v,u.y-p(y)*v),a.lineTo(x,C)},s}(pi);function $C(c,s){var a=null==c?"":c+"";return s&&("string"==typeof s?a=s.replace("{value}",a):"function"==typeof s&&(a=s(c))),a}var RP=2*Math.PI,NP=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){this.group.removeAll();var v,y,x,C,w,D,p=a.get(["axisLine","lineStyle","color"]),g=(y=d,x=(v=a).get("center"),C=y.getWidth(),w=y.getHeight(),D=Math.min(C,w),{cx:At(x[0],y.getWidth()),cy:At(x[1],y.getHeight()),r:At(v.get("radius"),D/2)});this._renderMain(a,u,d,p,g),this._data=a.getData()},s.prototype.dispose=function(){},s.prototype._renderMain=function(a,u,d,p,g){for(var v=this.group,y=a.get("clockwise"),x=-a.get("startAngle")/180*Math.PI,C=-a.get("endAngle")/180*Math.PI,w=a.getModel("axisLine"),D=w.get("roundCap")?e8:hl,P=w.get("show"),z=w.getModel("lineStyle"),k=z.get("width"),E=(C-x)%RP||C===x?(C-x)%RP:RP,F=x,B=0;P&&B<p.length;B++){var H=new D({shape:{startAngle:F,endAngle:C=x+E*Math.min(Math.max(p[B][0],0),1),cx:g.cx,cy:g.cy,clockwise:y,r0:g.r-k,r:g.r},silent:!0});H.setStyle({fill:p[B][1]}),H.setStyle(z.getLineStyle(["color","width"])),v.add(H),F=C}var Y=function(j){if(j<=0)return p[0][1];var q;for(q=0;q<p.length;q++)if(p[q][0]>=j&&(0===q?0:p[q-1][0])<j)return p[q][1];return p[q-1][1]};if(!y){var U=x;x=C,C=U}this._renderTicks(a,u,d,Y,g,x,C,y,k),this._renderTitleAndDetail(a,u,d,Y,g),this._renderAnchor(a,g),this._renderPointer(a,u,d,Y,g,x,C,y,k)},s.prototype._renderTicks=function(a,u,d,p,g,v,y,x,C){for(var w,D,P=this.group,z=g.cx,k=g.cy,E=g.r,F=+a.get("min"),B=+a.get("max"),H=a.getModel("splitLine"),Y=a.getModel("axisTick"),U=a.getModel("axisLabel"),j=a.get("splitNumber"),q=Y.get("splitNumber"),Q=At(H.get("length"),E),re=At(Y.get("length"),E),oe=v,ae=(y-v)/j,he=ae/q,me=H.getModel("lineStyle").getLineStyle(),_e=Y.getModel("lineStyle").getLineStyle(),be=H.get("distance"),we=0;we<=j;we++){if(w=Math.cos(oe),D=Math.sin(oe),H.get("show")){var Te=new Fa({shape:{x1:w*(E-(Me=be?be+C:C))+z,y1:D*(E-Me)+k,x2:w*(E-Q-Me)+z,y2:D*(E-Q-Me)+k},style:me,silent:!0});"auto"===me.stroke&&Te.setStyle({stroke:p(we/j)}),P.add(Te)}if(U.get("show")){var Me=U.get("distance")+be,Ae=$C(Ma(we/j*(B-F)+F),U.get("formatter")),Ie=p(we/j);P.add(new Ni({style:ha(U,{text:Ae,x:w*(E-Q-Me)+z,y:D*(E-Q-Me)+k,verticalAlign:D<-.8?"top":D>.8?"bottom":"middle",align:w<-.4?"left":w>.4?"right":"center"},{inheritColor:Ie}),silent:!0}))}if(Y.get("show")&&we!==j){Me=(Me=Y.get("distance"))?Me+C:C;for(var Ue=0;Ue<=q;Ue++){w=Math.cos(oe),D=Math.sin(oe);var qe=new Fa({shape:{x1:w*(E-Me)+z,y1:D*(E-Me)+k,x2:w*(E-re-Me)+z,y2:D*(E-re-Me)+k},silent:!0,style:_e});"auto"===_e.stroke&&qe.setStyle({stroke:p((we+Ue/q)/j)}),P.add(qe),oe+=he}oe-=he}else oe+=ae}},s.prototype._renderPointer=function(a,u,d,p,g,v,y,x,C){var w=this.group,D=this._data,P=this._progressEls,z=[],k=a.get(["pointer","show"]),E=a.getModel("progress"),F=E.get("show"),B=a.getData(),H=B.mapDimension("value"),Y=+a.get("min"),U=+a.get("max"),j=[Y,U],q=[v,y];function Q(oe,ae){var he,me=B.getItemModel(oe).getModel("pointer"),_e=At(me.get("width"),g.r),be=At(me.get("length"),g.r),we=a.get(["pointer","icon"]),Te=me.get("offsetCenter"),Me=At(Te[0],g.r),Ae=At(Te[1],g.r),Ie=me.get("keepAspect");return(he=we?da(we,Me-_e/2,Ae-be,_e,be,null,Ie):new LZ({shape:{angle:-Math.PI/2,width:_e,r:be,x:Me,y:Ae}})).rotation=-(ae+Math.PI/2),he.x=g.cx,he.y=g.cy,he}function re(oe,ae){var he=E.get("roundCap")?e8:hl,me=E.get("overlap"),_e=me?E.get("width"):C/B.count(),Te=new he({shape:{startAngle:v,endAngle:ae,cx:g.cx,cy:g.cy,clockwise:x,r0:me?g.r-_e:g.r-(oe+1)*_e,r:me?g.r:g.r-oe*_e}});return me&&(Te.z2=U-B.get(H,oe)%U),Te}(F||k)&&(B.diff(D).add(function(oe){if(k){var ae=Q(oe,v);to(ae,{rotation:-(rr(B.get(H,oe),j,q,!0)+Math.PI/2)},a),w.add(ae),B.setItemGraphicEl(oe,ae)}if(F){var he=re(oe,v),me=E.get("clip");to(he,{shape:{endAngle:rr(B.get(H,oe),j,q,me)}},a),w.add(he),nM(a.seriesIndex,B.dataType,oe,he),z[oe]=he}}).update(function(oe,ae){if(k){var he=D.getItemGraphicEl(ae),me=he?he.rotation:v,_e=Q(oe,me);_e.rotation=me,Ti(_e,{rotation:-(rr(B.get(H,oe),j,q,!0)+Math.PI/2)},a),w.add(_e),B.setItemGraphicEl(oe,_e)}if(F){var be=P[ae],we=re(oe,be?be.shape.endAngle:v),Te=E.get("clip");Ti(we,{shape:{endAngle:rr(B.get(H,oe),j,q,Te)}},a),w.add(we),nM(a.seriesIndex,B.dataType,oe,we),z[oe]=we}}).execute(),B.each(function(oe){var ae=B.getItemModel(oe),he=ae.getModel("emphasis");if(k){var me=B.getItemGraphicEl(oe),_e=B.getItemVisual(oe,"style"),be=_e.fill;if(me instanceof Qo){var we=me.style;me.useStyle(it({image:we.image,x:we.x,y:we.y,width:we.width,height:we.height},_e))}else me.useStyle(_e),"pointer"!==me.type&&me.setColor(be);me.setStyle(ae.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===me.style.fill&&me.setStyle("fill",p(rr(B.get(H,oe),j,[0,1],!0))),me.z2EmphasisLift=0,ys(me,ae),eo(me,he.get("focus"),he.get("blurScope"))}if(F){var Te=z[oe];Te.useStyle(B.getItemVisual(oe,"style")),Te.setStyle(ae.getModel(["progress","itemStyle"]).getItemStyle()),Te.z2EmphasisLift=0,ys(Te,ae),eo(Te,he.get("focus"),he.get("blurScope"))}}),this._progressEls=z)},s.prototype._renderAnchor=function(a,u){var d=a.getModel("anchor");if(d.get("show")){var p=d.get("size"),g=d.get("icon"),v=d.get("offsetCenter"),y=d.get("keepAspect"),x=da(g,u.cx-p/2+At(v[0],u.r),u.cy-p/2+At(v[1],u.r),p,p,null,y);x.z2=d.get("showAbove")?1:0,x.setStyle(d.getModel("itemStyle").getItemStyle()),this.group.add(x)}},s.prototype._renderTitleAndDetail=function(a,u,d,p,g){var v=this,y=a.getData(),x=y.mapDimension("value"),C=+a.get("min"),w=+a.get("max"),D=new Xt,P=[],z=[],k=a.isAnimationEnabled(),E=a.get(["pointer","showAbove"]);y.diff(this._data).add(function(F){P[F]=new Ni({silent:!0}),z[F]=new Ni({silent:!0})}).update(function(F,B){P[F]=v._titleEls[B],z[F]=v._detailEls[B]}).execute(),y.each(function(F){var B=y.getItemModel(F),H=y.get(x,F),Y=new Xt,U=p(rr(H,[C,w],[0,1],!0)),j=B.getModel("title");if(j.get("show")){var q=j.get("offsetCenter"),Q=g.cx+At(q[0],g.r),re=g.cy+At(q[1],g.r);(Te=P[F]).attr({z2:E?0:2,style:ha(j,{x:Q,y:re,text:y.getName(F),align:"center",verticalAlign:"middle"},{inheritColor:U})}),Y.add(Te)}var oe=B.getModel("detail");if(oe.get("show")){var ae=oe.get("offsetCenter"),he=g.cx+At(ae[0],g.r),me=g.cy+At(ae[1],g.r),_e=At(oe.get("width"),g.r),be=At(oe.get("height"),g.r),we=a.get(["progress","show"])?y.getItemVisual(F,"style").fill:U,Te=z[F],Me=oe.get("formatter");Te.attr({z2:E?0:2,style:ha(oe,{x:he,y:me,text:$C(H,Me),width:isNaN(_e)?null:_e,height:isNaN(be)?null:be,align:"center",verticalAlign:"middle"},{inheritColor:we})}),Q2(Te,{normal:oe},H,function(Ae){return $C(Ae,Me)}),k&&MM(Te,F,y,a,{getFormattedLabel:function(Ae,Ie,Ue,qe,ft,$e){return $C($e?$e.interpolatedValue:H,Me)}}),Y.add(Te)}D.add(Y)}),this.group.add(D),this._titleEls=P,this._detailEls=z},s.type="gauge",s}(dr),RZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.visualStyleAccessPath="itemStyle",a}return Ee(s,c),s.prototype.getInitialData=function(a,u){return Z0(this,["value"])},s.type="series.gauge",s.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},s}(Fr),NZ=["itemStyle","opacity"],FZ=function(c){function s(a,u){var d=c.call(this)||this,p=d,g=new bc,v=new Ni;return p.setTextContent(v),d.setTextGuideLine(g),d.updateData(a,u,!0),d}return Ee(s,c),s.prototype.updateData=function(a,u,d){var p=this,g=a.hostModel,v=a.getItemModel(u),y=a.getItemLayout(u),x=v.getModel("emphasis"),C=v.get(NZ);C=C??1,d||ld(p),p.useStyle(a.getItemVisual(u,"style")),p.style.lineJoin="round",d?(p.setShape({points:y.points}),p.style.opacity=0,to(p,{style:{opacity:C}},g,u)):Ti(p,{style:{opacity:C},shape:{points:y.points}},g,u),ys(p,v),this._updateLabel(a,u),eo(this,x.get("focus"),x.get("blurScope"))},s.prototype._updateLabel=function(a,u){var d=this,p=this.getTextGuideLine(),g=d.getTextContent(),v=a.hostModel,y=a.getItemModel(u),x=a.getItemLayout(u).label,C=a.getItemVisual(u,"style"),w=C.fill;Vl(g,Hs(y),{labelFetcher:a.hostModel,labelDataIndex:u,defaultOpacity:C.opacity,defaultText:a.getName(u)},{normal:{align:x.textAlign,verticalAlign:x.verticalAlign}}),d.setTextConfig({local:!0,inside:!!x.inside,insideStroke:w,outsideFill:w});var D=x.linePoints;p.setShape({points:D}),d.textGuideLineConfig={anchor:D?new _n(D[0][0],D[0][1]):null},Ti(g,{style:{x:x.x,y:x.y}},v,u),g.attr({rotation:x.rotation,originX:x.x,originY:x.y,z2:10}),ei(d,Cs(y),{stroke:w})},s}(dl),BZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.ignoreLabelLineUpdate=!0,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=a.getData(),g=this._data,v=this.group;p.diff(g).add(function(y){var x=new FZ(p,y);p.setItemGraphicEl(y,x),v.add(x)}).update(function(y,x){var C=g.getItemGraphicEl(x);C.updateData(p,y),v.add(C),p.setItemGraphicEl(y,C)}).remove(function(y){q2(g.getItemGraphicEl(y),a,y)}).execute(),this._data=p},s.prototype.remove=function(){this.group.removeAll(),this._data=null},s.prototype.dispose=function(){},s.type="funnel",s}(dr),VZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a){c.prototype.init.apply(this,arguments),this.legendVisualProvider=new mC(rt(this.getData,this),rt(this.getRawData,this)),this._defaultLabelLine(a)},s.prototype.getInitialData=function(a,u){return Z0(this,{coordDimensions:["value"],encodeDefaulter:Je(NM,this)})},s.prototype._defaultLabelLine=function(a){yu(a,"labelLine",["show"]);var u=a.labelLine,d=a.emphasis.labelLine;u.show=u.show&&a.label.show,d.show=d.show&&a.emphasis.label.show},s.prototype.getDataParams=function(a){var u=this.getData(),d=c.prototype.getDataParams.call(this,a),p=u.mapDimension("value"),g=u.getSum(p);return d.percent=g?+(u.get(p,a)/g*100).toFixed(2):0,d.$vars.push("percent"),d},s.type="series.funnel",s.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},s}(Fr);function HZ(c,s){c.eachSeriesByType("funnel",function(a){var _e,u=a.getData(),d=u.mapDimension("value"),p=a.get("sort"),g=(_e=s,io(a.getBoxLayoutParams(),{width:_e.getWidth(),height:_e.getHeight()})),v=a.get("orient"),y=g.width,x=g.height,C=function(me,_e){for(var be=me.mapDimension("value"),we=me.mapArray(be,function(Ue){return Ue}),Te=[],Me="ascending"===_e,Ae=0,Ie=me.count();Ae<Ie;Ae++)Te[Ae]=Ae;return"function"==typeof _e?Te.sort(_e):"none"!==_e&&Te.sort(function(Ue,qe){return Me?we[Ue]-we[qe]:we[qe]-we[Ue]}),Te}(u,p),w=g.x,D=g.y,P="horizontal"===v?[At(a.get("minSize"),x),At(a.get("maxSize"),x)]:[At(a.get("minSize"),y),At(a.get("maxSize"),y)],z=u.getDataExtent(d),k=a.get("min"),E=a.get("max");null==k&&(k=Math.min(z[0],0)),null==E&&(E=z[1]);var F=a.get("funnelAlign"),B=a.get("gap"),H=(("horizontal"===v?y:x)-B*(u.count()-1))/u.count(),Y=function(me,_e){if("horizontal"===v){var be=rr(u.get(d,me)||0,[k,E],P,!0),we=void 0;switch(F){case"top":we=D;break;case"center":we=D+(x-be)/2;break;case"bottom":we=D+(x-be)}return[[_e,we],[_e,we+be]]}var Te,Me=rr(u.get(d,me)||0,[k,E],P,!0);switch(F){case"left":Te=w;break;case"center":Te=w+(y-Me)/2;break;case"right":Te=w+y-Me}return[[Te,_e],[Te+Me,_e]]};"ascending"===p&&(H=-H,B=-B,"horizontal"===v?w+=y:D+=x,C=C.reverse());for(var U=0;U<C.length;U++){var j=C[U],q=C[U+1],Q=u.getItemModel(j);if("horizontal"===v){var re=Q.get(["itemStyle","width"]);null==re?re=H:(re=At(re,y),"ascending"===p&&(re=-re));var oe=Y(j,w),ae=Y(q,w+re);w+=re+B,u.setItemLayout(j,{points:oe.concat(ae.slice().reverse())})}else{var he=Q.get(["itemStyle","height"]);null==he?he=H:(he=At(he,x),"ascending"===p&&(he=-he)),oe=Y(j,D),ae=Y(q,D+he),D+=he+B,u.setItemLayout(j,{points:oe.concat(ae.slice().reverse())})}}!function(me){var _e=me.hostModel.get("orient");me.each(function(be){var we,Te,Me,Ae,Ie=me.getItemModel(be),Ue=Ie.getModel("label").get("position"),qe=Ie.getModel("labelLine"),ft=me.getItemLayout(be),$e=ft.points,ot="inner"===Ue||"inside"===Ue||"center"===Ue||"insideLeft"===Ue||"insideRight"===Ue;if(ot)"insideLeft"===Ue?(Te=($e[0][0]+$e[3][0])/2+5,Me=($e[0][1]+$e[3][1])/2,we="left"):"insideRight"===Ue?(Te=($e[1][0]+$e[2][0])/2-5,Me=($e[1][1]+$e[2][1])/2,we="right"):(Te=($e[0][0]+$e[1][0]+$e[2][0]+$e[3][0])/4,Me=($e[0][1]+$e[1][1]+$e[2][1]+$e[3][1])/4,we="center"),Ae=[[Te,Me],[Te,Me]];else{var bt=void 0,gt=void 0,vt=void 0,kt=void 0,Rt=qe.get("length");"left"===Ue?(gt=($e[3][1]+$e[0][1])/2,Te=(vt=(bt=($e[3][0]+$e[0][0])/2)-Rt)-5,we="right"):"right"===Ue?(gt=($e[1][1]+$e[2][1])/2,Te=(vt=(bt=($e[1][0]+$e[2][0])/2)+Rt)+5,we="left"):"top"===Ue?(bt=($e[3][0]+$e[0][0])/2,Me=(kt=(gt=($e[3][1]+$e[0][1])/2)-Rt)-5,we="center"):"bottom"===Ue?(bt=($e[1][0]+$e[2][0])/2,Me=(kt=(gt=($e[1][1]+$e[2][1])/2)+Rt)+5,we="center"):"rightTop"===Ue?(bt="horizontal"===_e?$e[3][0]:$e[1][0],gt="horizontal"===_e?$e[3][1]:$e[1][1],"horizontal"===_e?(Me=(kt=gt-Rt)-5,we="center"):(Te=(vt=bt+Rt)+5,we="top")):"rightBottom"===Ue?(bt=$e[2][0],gt=$e[2][1],"horizontal"===_e?(Me=(kt=gt+Rt)+5,we="center"):(Te=(vt=bt+Rt)+5,we="bottom")):"leftTop"===Ue?(bt=$e[0][0],gt="horizontal"===_e?$e[0][1]:$e[1][1],"horizontal"===_e?(Me=(kt=gt-Rt)-5,we="center"):(Te=(vt=bt-Rt)-5,we="right")):"leftBottom"===Ue?(bt="horizontal"===_e?$e[1][0]:$e[3][0],gt="horizontal"===_e?$e[1][1]:$e[2][1],"horizontal"===_e?(Me=(kt=gt+Rt)+5,we="center"):(Te=(vt=bt-Rt)-5,we="right")):(bt=($e[1][0]+$e[2][0])/2,gt=($e[1][1]+$e[2][1])/2,"horizontal"===_e?(Me=(kt=gt+Rt)+5,we="center"):(Te=(vt=bt+Rt)+5,we="left")),"horizontal"===_e?Te=vt=bt:Me=kt=gt,Ae=[[bt,gt],[vt,kt]]}ft.label={linePoints:Ae,x:Te,y:Me,verticalAlign:"middle",textAlign:we,inside:ot}})}(u)})}var gF=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._dataGroup=new Xt,a._initialized=!1,a}return Ee(s,c),s.prototype.init=function(){this.group.add(this._dataGroup)},s.prototype.render=function(a,u,d,p){var P,z,k,E,F,B,H,g=this._dataGroup,v=a.getData(),y=this._data,x=a.coordinateSystem,C=x.dimensions,w=vF(a);if(v.diff(y).add(function(P){y8(mF(v,g,P,C,x),v,P,w)}).update(function(P,z){var k=y.getItemGraphicEl(z),E=FP(v,P,C,x);v.setItemGraphicEl(P,k),Ti(k,{shape:{points:E}},a,P),ld(k),y8(k,v,P,w)}).remove(function(P){var z=y.getItemGraphicEl(P);g.remove(z)}).execute(),!this._initialized){this._initialized=!0;var D=(z=a,k=function(){setTimeout(function(){g.removeClipPath()})},E=(P=x).model,F=P.getRect(),B=new gi({shape:{x:F.x,y:F.y,width:F.width,height:F.height}}),H="horizontal"===E.get("layout")?"width":"height",B.setShape(H,0),to(B,{shape:{width:F.width,height:F.height}},z,k),B);g.setClipPath(D)}this._data=v},s.prototype.incrementalPrepareRender=function(a,u,d){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},s.prototype.incrementalRender=function(a,u,d){for(var p=u.getData(),g=u.coordinateSystem,v=g.dimensions,y=vF(u),x=a.start;x<a.end;x++){var C=mF(p,this._dataGroup,x,v,g);C.incremental=!0,y8(C,p,x,y)}},s.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},s.type="parallel",s}(dr);function FP(c,s,a,u){for(var d,p=[],g=0;g<a.length;g++){var v=a[g],y=c.get(c.mapDimension(v),s);d=y,("category"===u.getAxis(v).type?null==d:null==d||isNaN(d))||p.push(u.dataToPoint(y,v))}return p}function mF(c,s,a,u,d){var p=FP(c,a,u,d),g=new bc({shape:{points:p},z2:10});return s.add(g),c.setItemGraphicEl(a,g),g}function vF(c){var s=c.get("smooth",!0);return!0===s&&(s=.3),nh(s=pn(s))&&(s=0),{smooth:s}}function y8(c,s,a,u){c.useStyle(s.getItemVisual(a,"style")),c.style.fill=null,c.setShape("smooth",u.smooth);var d=s.getItemModel(a),p=d.getModel("emphasis");ys(c,d,"lineStyle"),eo(c,p.get("focus"),p.get("blurScope"))}var BP=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return Ee(s,c),s.prototype.getInitialData=function(a,u){return Uc(null,this,{useEncodeDefaulter:rt(Qce,null,this)})},s.prototype.getRawIndicesByActiveState=function(a){var u=this.coordinateSystem,d=this.getData(),p=[];return u.eachActiveState(d,function(g,v){a===g&&p.push(d.getRawIndex(v))}),p},s.type="series.parallel",s.dependencies=["parallel"],s.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},s}(Fr);function Qce(c){var s=c.ecModel.getComponent("parallel",c.get("parallelIndex"));if(s){var a={};return fe(s.dimensions,function(u){var d=+u.replace("dim","");a[u]=d}),a}}var Jce=["lineStyle","opacity"],ao={seriesType:"parallel",reset:function(c,s){var a=c.coordinateSystem,u={normal:c.get(["lineStyle","opacity"]),active:c.get("activeOpacity"),inactive:c.get("inactiveOpacity")};return{progress:function(d,p){a.eachActiveState(p,function(g,v){var y=u[g];if("normal"===g&&p.hasItemOption){var x=p.getItemModel(v).get(Jce,!0);null!=x&&(y=x)}p.ensureUniqueItemVisual(v,"style").opacity=y},d.start,d.end)}}}};function _F(c){(function(s){if(!s.parallel){var a=!1;fe(s.series,function(u){u&&"parallel"===u.type&&(a=!0)}),a&&(s.parallel=[{}])}})(c),function(s){fe(Sr(s.parallelAxis),function(a){if(rn(a)){var u=a.parallelIndex||0,d=Sr(s.parallel)[u];d&&d.parallelAxisDefault&&Mn(a,d.parallelAxisDefault,!1)}})}(c)}var YZ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){this._model=a,this._api=d,this._handlers||(this._handlers={},fe(UZ,function(p,g){d.getZr().on(g,this._handlers[g]=rt(p,this))},this)),eg(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},s.prototype.dispose=function(a,u){fe(this._handlers,function(d,p){u.getZr().off(p,d)}),this._handlers=null},s.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},s.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(it({type:"parallelAxisExpand"},a))},s.type="parallel",s}($r),UZ={mousedown:function(c){VP(this,"click")&&(this._mouseDownPoint=[c.offsetX,c.offsetY])},mouseup:function(c){var s=this._mouseDownPoint;if(VP(this,"click")&&s){var a=[c.offsetX,c.offsetY];if(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2)>5)return;var u=this._model.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]);"none"!==u.behavior&&this._dispatchExpand({axisExpandWindow:u.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(c){if(!this._mouseDownPoint&&VP(this,"mousemove")){var s=this._model,a=s.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]),u=a.behavior;"jump"===u&&this._throttledDispatchExpand.debounceNextCall(s.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===u?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===u?null:{duration:0}})}}};function VP(c,s){var a=c._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===s}var q_=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(){c.prototype.init.apply(this,arguments),this.mergeOption({})},s.prototype.mergeOption=function(a){a&&Mn(this.option,a,!0),this._initDimensions()},s.prototype.contains=function(a,u){var d=a.get("parallelIndex");return null!=d&&u.getComponent("parallel",d)===this},s.prototype.setAxisExpand=function(a){fe(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(u){a.hasOwnProperty(u)&&(this.option[u]=a[u])},this)},s.prototype._initDimensions=function(){var a=this.dimensions=[],u=this.parallelAxisIndex=[];fe(Ri(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(d){return(d.get("parallelIndex")||0)===this.componentIndex},this),function(d){a.push("dim"+d.get("dim")),u.push(d.componentIndex)})},s.type="parallel",s.dependencies=["parallelAxis"],s.layoutMode="box",s.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},s}(di),GZ=function(c){function s(a,u,d,p,g){var v=c.call(this,a,u,d)||this;return v.type=p||"value",v.axisIndex=g,v}return Ee(s,c),s.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},s}(Iu);function Z_(c,s,a,u,d,p){c=c||0;var g=a[1]-a[0];if(null!=d&&(d=x8(d,[0,g])),null!=p&&(p=Math.max(p,d??0)),"all"===u){var v=Math.abs(s[1]-s[0]);v=x8(v,[0,g]),d=p=x8(v,[d,p]),u=0}s[0]=x8(s[0],a),s[1]=x8(s[1],a);var y=yF(s,u);s[u]+=c;var x,C=d||0,w=a.slice();return y.sign<0?w[0]+=C:w[1]-=C,s[u]=x8(s[u],w),x=yF(s,u),null!=d&&(x.sign!==y.sign||x.span<d)&&(s[1-u]=s[u]+y.sign*d),x=yF(s,u),null!=p&&x.span>p&&(s[1-u]=s[u]+x.sign*p),s}function yF(c,s){var a=c[s]-c[1-s];return{span:Math.abs(a),sign:a>0?-1:a<0?1:s?-1:1}}function x8(c,s){return Math.min(null!=s[1]?s[1]:1/0,Math.max(null!=s[0]?s[0]:-1/0,c))}var HP=fe,xF=Math.min,YP=Math.max,bF=Math.floor,eue=Math.ceil,UP=Ma,tue=Math.PI,GP=function(){function c(s,a,u){this.type="parallel",this._axesMap=qt(),this._axesLayout={},this.dimensions=s.dimensions,this._model=s,this._init(s,a,u)}return c.prototype._init=function(s,a,u){var p=s.parallelAxisIndex;HP(s.dimensions,function(g,v){var y=p[v],x=a.getComponent("parallelAxis",y),C=this._axesMap.set(g,new GZ(g,Vy(x),[0,0],x.get("type"),y));C.onBand="category"===C.type&&x.get("boundaryGap"),C.inverse=x.get("inverse"),x.axis=C,C.model=x,C.coordinateSystem=x.coordinateSystem=this},this)},c.prototype.update=function(s,a){this._updateAxesFromSeries(this._model,s)},c.prototype.containPoint=function(s){var a=this._makeLayoutInfo(),u=a.axisBase,d=a.layoutBase,p=a.pixelDimIndex,g=s[1-p],v=s[p];return g>=u&&g<=u+a.axisLength&&v>=d&&v<=d+a.layoutLength},c.prototype.getModel=function(){return this._model},c.prototype._updateAxesFromSeries=function(s,a){a.eachSeries(function(u){if(s.contains(u,a)){var d=u.getData();HP(this.dimensions,function(p){var g=this._axesMap.get(p);g.scale.unionExtentFromData(d,d.mapDimension(p)),U1(g.scale,g.model)},this)}},this)},c.prototype.resize=function(s,a){this._rect=io(s.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),this._layoutAxes()},c.prototype.getRect=function(){return this._rect},c.prototype._makeLayoutInfo=function(){var s,a=this._model,u=this._rect,d=["x","y"],p=["width","height"],g=a.get("layout"),v="horizontal"===g?0:1,y=u[p[v]],x=[0,y],C=this.dimensions.length,w=WP(a.get("axisExpandWidth"),x),D=WP(a.get("axisExpandCount")||0,[0,C]),P=a.get("axisExpandable")&&C>3&&C>D&&D>1&&w>0&&y>0,z=a.get("axisExpandWindow");z?(s=WP(z[1]-z[0],x),z[1]=z[0]+s):(s=WP(w*(D-1),x),(z=[w*(a.get("axisExpandCenter")||bF(C/2))-s/2])[1]=z[0]+s);var k=(y-s)/(C-D);k<3&&(k=0);var E=[bF(UP(z[0]/w,1))+1,eue(UP(z[1]/w,1))-1];return{layout:g,pixelDimIndex:v,layoutBase:u[d[v]],layoutLength:y,axisBase:u[d[1-v]],axisLength:u[p[1-v]],axisExpandable:P,axisExpandWidth:w,axisCollapseWidth:k,axisExpandWindow:z,axisCount:C,winInnerIndices:E,axisExpandWindow0Pos:k/w*z[0]}},c.prototype._layoutAxes=function(){var s=this._rect,a=this._axesMap,u=this.dimensions,d=this._makeLayoutInfo(),p=d.layout;a.each(function(g){var v=[0,d.axisLength],y=g.inverse?1:0;g.setExtent(v[y],v[1-y])}),HP(u,function(g,v){var y=(d.axisExpandable?jZ:WZ)(v,d),x={horizontal:{x:y.position,y:d.axisLength},vertical:{x:0,y:y.position}},w=[x[p].x+s.x,x[p].y+s.y],D={horizontal:tue/2,vertical:0}[p],P=[1,0,0,1,0,0];kl(P,P,D),Ic(P,P,w),this._axesLayout[g]={position:w,rotation:D,transform:P,axisNameAvailableWidth:y.axisNameAvailableWidth,axisLabelShow:y.axisLabelShow,nameTruncateMaxWidth:y.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},c.prototype.getAxis=function(s){return this._axesMap.get(s)},c.prototype.dataToPoint=function(s,a){return this.axisCoordToPoint(this._axesMap.get(a).dataToCoord(s),a)},c.prototype.eachActiveState=function(s,a,u,d){null==u&&(u=0),null==d&&(d=s.count());var p=this._axesMap,g=this.dimensions,v=[],y=[];fe(g,function(k){v.push(s.mapDimension(k)),y.push(p.get(k).model)});for(var x=this.hasAxisBrushed(),C=u;C<d;C++){var w=void 0;if(x){w="active";for(var D=s.getValues(v,C),P=0,z=g.length;P<z;P++)if("inactive"===y[P].getActiveState(D[P])){w="inactive";break}}else w="normal";a(w,C)}},c.prototype.hasAxisBrushed=function(){for(var s=this.dimensions,a=this._axesMap,u=!1,d=0,p=s.length;d<p;d++)"normal"!==a.get(s[d]).model.getActiveState()&&(u=!0);return u},c.prototype.axisCoordToPoint=function(s,a){return Tu([s,0],this._axesLayout[a].transform)},c.prototype.getAxisLayout=function(s){return nn(this._axesLayout[s])},c.prototype.getSlidedAxisExpandWindow=function(s){var a=this._makeLayoutInfo(),u=a.pixelDimIndex,d=a.axisExpandWindow.slice(),p=d[1]-d[0],g=[0,a.axisExpandWidth*(a.axisCount-1)];if(!this.containPoint(s))return{behavior:"none",axisExpandWindow:d};var v,y=s[u]-a.layoutBase-a.axisExpandWindow0Pos,x="slide",C=a.axisCollapseWidth,w=this._model.get("axisExpandSlideTriggerArea"),D=null!=w[0];if(C)D&&C&&y<p*w[0]?(x="jump",v=y-p*w[2]):D&&C&&y>p*(1-w[0])?(x="jump",v=y-p*(1-w[2])):(v=y-p*w[1])>=0&&(v=y-p*(1-w[1]))<=0&&(v=0),(v*=a.axisExpandWidth/C)?Z_(v,d,g,"all"):x="none";else{var P=d[1]-d[0];(d=[YP(0,g[1]*y/P-P/2)])[1]=xF(g[1],d[0]+P),d[0]=d[1]-P}return{axisExpandWindow:d,behavior:x}},c}();function WP(c,s){return xF(YP(c,s[0]),s[1])}function WZ(c,s){var a=s.layoutLength/(s.axisCount-1);return{position:a*c,axisNameAvailableWidth:a,axisLabelShow:!0}}function jZ(c,s){var a,u,p=s.axisExpandWidth,v=s.axisCollapseWidth,y=s.winInnerIndices,x=v,C=!1;return c<y[0]?(a=c*v,u=v):c<=y[1]?(a=s.axisExpandWindow0Pos+c*p-s.axisExpandWindow[0],x=p,C=!0):(a=s.layoutLength-(s.axisCount-1-c)*v,u=v),{position:a,axisNameAvailableWidth:x,axisLabelShow:C,nameTruncateMaxWidth:u}}var $Z={create:function(c,s){var a=[];return c.eachComponent("parallel",function(u,d){var p=new GP(u,c,s);p.name="parallel_"+d,p.resize(u,s),u.coordinateSystem=p,p.model=u,a.push(p)}),c.eachSeries(function(u){if("parallel"===u.get("coordinateSystem")){var d=u.getReferringComponents("parallel",Na).models[0];u.coordinateSystem=d.coordinateSystem}}),a}},b8=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.activeIntervals=[],a}return Ee(s,c),s.prototype.getAreaSelectStyle=function(){return o0([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},s.prototype.setActiveIntervals=function(a){var u=this.activeIntervals=nn(a);if(u)for(var d=u.length-1;d>=0;d--)pc(u[d])},s.prototype.getActiveState=function(a){var u=this.activeIntervals;if(!u.length)return"normal";if(null==a||isNaN(+a))return"inactive";if(1===u.length){var d=u[0];if(d[0]<=a&&a<=d[1])return"active"}else for(var p=0,g=u.length;p<g;p++)if(u[p][0]<=a&&a<=u[p][1])return"active";return"inactive"},s}(di);Gr(b8,I_);var rv=!0,em=Math.min,K_=Math.max,XZ=Math.pow,qZ="globalPan",ZZ={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},KZ={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},CF={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},QZ=0,wF=function(c){function s(a){var u=c.call(this)||this;return u._track=[],u._covers=[],u._handlers={},u._zr=a,u.group=new Xt,u._uid="brushController_"+QZ++,fe(C8,function(d,p){this._handlers[p]=rt(d,this)},u),u}return Ee(s,c),s.prototype.enableBrush=function(a){return this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},s.prototype._doEnableBrush=function(a){var p,g,u=this._zr;this._enableGlobalPan||(p=qZ,g=this._uid,c8(u)[p]=g),fe(this._handlers,function(d,p){u.on(p,d)}),this._brushType=a.brushType,this._brushOption=Mn(nn(CF),a,!0)},s.prototype._doDisableBrush=function(){var d,p,g,a=this._zr;d=qZ,p=this._uid,(g=c8(a))[d]===p&&(g[d]=null),fe(this._handlers,function(u,d){a.off(d,u)}),this._brushType=this._brushOption=null},s.prototype.setPanels=function(a){if(a&&a.length){var u=this._panels={};fe(a,function(d){u[d.panelId]=nn(d)})}else this._panels=null;return this},s.prototype.mount=function(a){this._enableGlobalPan=(a=a||{}).enableGlobalPan;var u=this.group;return this._zr.add(u),u.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=u.getLocalTransform(),this},s.prototype.updateCovers=function(a){a=tt(a,function(x){return Mn(nn(CF),x,!0)});var u=this._covers,d=this._covers=[],p=this,g=this._creatingCover;return new Y1(u,a,function(x,C){return v(x.__brushOption,C)},v).add(y).update(y).remove(function(x){u[x]!==g&&p.group.remove(u[x])}).execute(),this;function v(x,C){return(null!=x.id?x.id:"\0-brush-index-"+C)+"-"+x.brushType}function y(x,C){var w=a[x];if(null!=C&&u[C]===g)d[x]=u[C];else{var D=d[x]=null!=C?(u[C].__brushOption=w,u[C]):TF(p,SF(p,w));PF(p,D)}}},s.prototype.unmount=function(){return this.enableBrush(!1),XP(this),this._zr.remove(this.group),this},s.prototype.dispose=function(){this.unmount(),this.off()},s}(Rs);function SF(c,s){var a=ZP[s.brushType].createCover(c,s);return a.__brushOption=s,DF(a,s),c.group.add(a),a}function TF(c,s){var a=jP(s);return a.endCreating&&(a.endCreating(c,s),DF(s,s.__brushOption)),s}function MF(c,s){var a=s.__brushOption;jP(s).updateCoverShape(c,s,a.range,a)}function DF(c,s){var a=s.z;null==a&&(a=1e4),c.traverse(function(u){u.z=a,u.z2=a})}function PF(c,s){jP(s).updateCommon(c,s),MF(c,s)}function jP(c){return ZP[c.__brushOption.brushType]}function $P(c,s,a){var u,d=c._panels;if(!d)return rv;var p=c._transform;return fe(d,function(g){g.isTargetByCursor(s,a,p)&&(u=g)}),u}function AF(c,s){var a=c._panels;if(!a)return rv;var u=s.__brushOption.panelId;return null!=u?a[u]:rv}function XP(c){var s=c._covers,a=s.length;return fe(s,function(u){c.group.remove(u)},c),s.length=0,!!a}function Q_(c,s){var a=tt(c._covers,function(u){var d=u.__brushOption,p=nn(d.range);return{brushType:d.brushType,panelId:d.panelId,range:p}});c.trigger("brush",{areas:a,isEnd:!!s.isEnd,removeOnClick:!!s.removeOnClick})}function zF(c){var s=c.length-1;return s<0&&(s=0),[c[0],c[s]]}function Ya(c,s,a,u){var d=new Xt;return d.add(new gi({name:"main",style:OF(a),silent:!0,draggable:!0,cursor:"move",drift:Je(IF,c,s,d,["n","s","w","e"]),ondragend:Je(Q_,s,{isEnd:!0})})),fe(u,function(p){d.add(new gi({name:p.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Je(IF,c,s,d,p),ondragend:Je(Q_,s,{isEnd:!0})}))}),d}function JZ(c,s,a,u){var d=u.brushStyle.lineWidth||0,p=K_(d,6),g=a[0][0],v=a[1][0],y=g-d/2,x=v-d/2,C=a[0][1],w=a[1][1],D=C-p+d/2,P=w-p+d/2,z=C-g,k=w-v,E=z+d,F=k+d;tm(c,s,"main",g,v,z,k),u.transformable&&(tm(c,s,"w",y,x,p,F),tm(c,s,"e",D,x,p,F),tm(c,s,"n",y,x,E,p),tm(c,s,"s",y,P,E,p),tm(c,s,"nw",y,x,p,p),tm(c,s,"ne",D,x,p,p),tm(c,s,"sw",y,P,p,p),tm(c,s,"se",D,P,p,p))}function kF(c,s){var a=s.__brushOption,u=a.transformable,d=s.childAt(0);d.useStyle(OF(a)),d.attr({silent:!u,cursor:u?"move":"default"}),fe([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(p){var y,x,C,g=s.childOfName(p.join("")),v=1===p.length?EF(c,p[0]):(("e"===(C=[EF(y=c,(x=p)[0]),EF(y,x[1])])[0]||"w"===C[0])&&C.reverse(),C.join(""));g&&g.attr({silent:!u,invisible:!u,cursor:u?KZ[v]+"-resize":null})})}function tm(c,s,a,u,d,p,g){var y,x,C,v=s.childOfName(a);v&&v.setShape((y=LF(c,s,[[u,d],[u+p,d+g]]),{x:x=em(y[0][0],y[1][0]),y:C=em(y[0][1],y[1][1]),width:K_(y[0][0],y[1][0])-x,height:K_(y[0][1],y[1][1])-C}))}function OF(c){return jt({strokeNoScale:!0},c.brushStyle)}function eK(c,s,a,u){var d=[em(c,a),em(s,u)],p=[K_(c,a),K_(s,u)];return[[d[0],p[0]],[d[1],p[1]]]}function EF(c,s){return{left:"w",right:"e",top:"n",bottom:"s"}[Q3({w:"left",e:"right",n:"top",s:"bottom"}[s],(a=c,cd(a.group)))];var a}function IF(c,s,a,u,d,p){var g=a.__brushOption,v=c.toRectRange(g.range),y=tK(s,d,p);fe(u,function(x){var C=ZZ[x];v[C[0]][C[1]]+=y[C[0]]}),g.range=c.fromRectRange(eK(v[0][0],v[1][0],v[0][1],v[1][1])),PF(s,a),Q_(s,{isEnd:!1})}function nue(c,s,a,u){var d=s.__brushOption.range,p=tK(c,a,u);fe(d,function(g){g[0]+=p[0],g[1]+=p[1]}),PF(c,s),Q_(c,{isEnd:!1})}function tK(c,s,a){var u=c.group,d=u.transformCoordToLocal(s,a),p=u.transformCoordToLocal(0,0);return[d[0]-p[0],d[1]-p[1]]}function LF(c,s,a){var u=AF(c,s);return u&&u!==rv?u.clipPath(a,c._transform):nn(a)}function XC(c){var s=c.event;s.preventDefault&&s.preventDefault()}function qP(c,s,a){return c.childOfName("main").contain(s,a)}function RF(c,s,a,u){var d,p=c._creatingCover,g=c._creatingPanel,v=c._brushOption;if(c._track.push(a.slice()),function(C){var w=C._track;if(!w.length)return!1;var D=w[w.length-1],P=w[0],z=D[0]-P[0],k=D[1]-P[1];return XZ(z*z+k*k,.5)>6}(c)||p){if(g&&!p){"single"===v.brushMode&&XP(c);var y=nn(v);y.brushType=qC(y.brushType,g),y.panelId=g===rv?null:g.panelId,p=c._creatingCover=SF(c,y),c._covers.push(p)}if(p){var x=ZP[qC(c._brushType,g)];p.__brushOption.range=x.getCreatingRange(LF(c,p,c._track)),u&&(TF(c,p),x.updateCommon(c,p)),MF(c,p),d={isEnd:u}}}else u&&"single"===v.brushMode&&v.removeOnClick&&$P(c,s,a)&&XP(c)&&(d={isEnd:u,removeOnClick:!0});return d}function qC(c,s){return"auto"===c?s.defaultBrushType:c}var C8={mousedown:function(c){if(this._dragging)nK(this,c);else if(!c.target||!c.target.draggable){XC(c);var s=this.group.transformCoordToLocal(c.offsetX,c.offsetY);this._creatingCover=null,(this._creatingPanel=$P(this,c,s))&&(this._dragging=!0,this._track=[s.slice()])}},mousemove:function(c){var u=this.group.transformCoordToLocal(c.offsetX,c.offsetY);if(function(p,g,v){if(p._brushType&&(k=g.offsetY,E=p._zr,!((z=g.offsetX)<0||z>E.getWidth()||k<0||k>E.getHeight()))){var y=p._zr,x=p._covers,C=$P(p,g,v);if(!p._dragging)for(var w=0;w<x.length;w++){var D=x[w].__brushOption;if(C&&(C===rv||D.panelId===C.panelId)&&ZP[D.brushType].contain(x[w],v[0],v[1]))return}C&&y.setCursorStyle("crosshair")}var z,k,E}(this,c,u),this._dragging){XC(c);var d=RF(this,c,u,!1);d&&Q_(this,d)}},mouseup:function(c){nK(this,c)}};function nK(c,s){if(c._dragging){XC(s);var d=c.group.transformCoordToLocal(s.offsetX,s.offsetY),p=RF(c,s,d,!0);c._dragging=!1,c._track=[],c._creatingCover=null,p&&Q_(c,p)}}var ZP={lineX:KP(0),lineY:KP(1),rect:{createCover:function(c,s){function a(u){return u}return Ya({toRectRange:a,fromRectRange:a},c,s,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(c){var s=zF(c);return eK(s[1][0],s[1][1],s[0][0],s[0][1])},updateCoverShape:function(c,s,a,u){JZ(c,s,a,u)},updateCommon:kF,contain:qP},polygon:{createCover:function(c,s){var a=new Xt;return a.add(new bc({name:"main",style:OF(s),silent:!0})),a},getCreatingRange:function(c){return c},endCreating:function(c,s){s.remove(s.childAt(0)),s.add(new dl({name:"main",draggable:!0,drift:Je(nue,c,s),ondragend:Je(Q_,c,{isEnd:!0})}))},updateCoverShape:function(c,s,a,u){s.childAt(0).setShape({points:LF(c,s,a)})},updateCommon:kF,contain:qP}};function KP(c){return{createCover:function(s,a){return Ya({toRectRange:function(u){var d=[u,[0,100]];return c&&d.reverse(),d},fromRectRange:function(u){return u[c]}},s,a,[[["w"],["e"]],[["n"],["s"]]][c])},getCreatingRange:function(s){var a=zF(s);return[em(a[0][c],a[1][c]),K_(a[0][c],a[1][c])]},updateCoverShape:function(s,a,u,d){var p,g=AF(s,a);if(g!==rv&&g.getLinearBrushOtherExtent)p=g.getLinearBrushOtherExtent(c);else{var v=s._zr;p=[0,[v.getWidth(),v.getHeight()][1-c]]}var y=[u,p];c&&y.reverse(),JZ(s,a,y,d)},updateCommon:kF,contain:qP}}function QP(c){return c=JP(c),function(s){return jp(s,c)}}function iK(c,s){return c=JP(c),function(a){var u=s??a,p=u?c.x:c.y;return[p,p+((u?c.width:c.height)||0)]}}function rK(c,s,a){var u=JP(c);return function(d,p){return u.contain(p[0],p[1])&&!TC(d,s,a)}}function JP(c){return qn.create(c)}var NF=["axisLine","axisTickLabel","axisName"],iue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u){c.prototype.init.apply(this,arguments),(this._brushController=new wF(u.getZr())).on("brush",rt(this._onBrush,this))},s.prototype.render=function(a,u,d,p){if(z=a,!(E=p)||"axisAreaSelect"!==E.type||u.findComponents({mainType:"parallelAxis",query:E})[0]!==z){this.axisModel=a,this.api=d,this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new Xt,this.group.add(this._axisGroup),a.get("show")){var v=function(z,k){return k.getComponent("parallel",z.get("parallelIndex"))}(a,u),y=v.coordinateSystem,x=a.getAreaSelectStyle(),C=x.width,D=it({strokeContainThreshold:C},y.getAxisLayout(a.axis.dim)),P=new Sc(a,D);fe(NF,P.add,P),this._axisGroup.add(P.getGroup()),this._refreshBrushController(D,x,a,v,C,d),Z2(g,this._axisGroup,a)}}var z,E},s.prototype._refreshBrushController=function(a,u,d,p,g,v){var D,P,y=d.axis.getExtent(),x=y[1]-y[0],C=Math.min(30,.1*Math.abs(x)),w=qn.create({x:y[0],y:-g/2,width:x,height:g});w.x-=C,w.width+=2*C,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,x:a.position[0],y:a.position[1]}).setPanels([{panelId:"pl",clipPath:QP(w),isTargetByCursor:rK(w,v,p),getLinearBrushOtherExtent:iK(w,0)}]).enableBrush({brushType:"lineX",brushStyle:u,removeOnClick:!0}).updateCovers((P=(D=d).axis,tt(D.activeIntervals,function(z){return{brushType:"lineX",panelId:"pl",range:[P.dataToCoord(z[0],!0),P.dataToCoord(z[1],!0)]}})))},s.prototype._onBrush=function(a){var d=this.axisModel,p=d.axis,g=tt(a.areas,function(v){return[p.coordToData(v.range[0],!0),p.coordToData(v.range[1],!0)]});(!d.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:d.id,intervals:g})},s.prototype.dispose=function(){this._brushController.dispose()},s.type="parallelAxis",s}($r),rue={type:"axisAreaSelect",event:"axisAreaSelected"},oue={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function oK(c){c.registerComponentView(YZ),c.registerComponentModel(q_),c.registerCoordinateSystem("parallel",$Z),c.registerPreprocessor(_F),c.registerComponentModel(b8),c.registerComponentView(iue),H_(c,"parallel",b8,oue),function(s){s.registerAction(rue,function(a,u){u.eachComponent({mainType:"parallelAxis",query:a},function(d){d.axis.model.setActiveIntervals(a.intervals)})}),s.registerAction("parallelAxisExpand",function(a,u){u.eachComponent({mainType:"parallel",query:a},function(d){d.setAxisExpand(a)})})}(c)}var aue=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},sue=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultShape=function(){return new aue},s.prototype.buildPath=function(a,u){var d=u.extent;a.moveTo(u.x1,u.y1),a.bezierCurveTo(u.cpx1,u.cpy1,u.cpx2,u.cpy2,u.x2,u.y2),"vertical"===u.orient?(a.lineTo(u.x2+d,u.y2),a.bezierCurveTo(u.cpx2+d,u.cpy2,u.cpx1+d,u.cpy1,u.x1+d,u.y1)):(a.lineTo(u.x2,u.y2+d),a.bezierCurveTo(u.cpx2,u.cpy2+d,u.cpx1,u.cpy1+d,u.x1,u.y1+d)),a.closePath()},s.prototype.highlight=function(){ad(this)},s.prototype.downplay=function(){Wp(this)},s}(pi),lue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._focusAdjacencyDisabled=!1,a}return Ee(s,c),s.prototype.render=function(a,u,d){var z,k,E,F,p=this,g=a.getGraph(),v=this.group,y=a.layoutInfo,x=y.width,C=y.height,w=a.getData(),D=a.getData("edge"),P=a.get("orient");this._model=a,v.removeAll(),v.x=y.x,v.y=y.y,g.eachEdge(function(z){var k=new sue,E=Pn(k);E.dataIndex=z.dataIndex,E.seriesIndex=a.seriesIndex,E.dataType="edge";var F,B,H,Y,U,j,q,Q,re=z.getModel(),oe=re.getModel("lineStyle"),ae=oe.get("curveness"),he=z.node1.getLayout(),me=z.node1.getModel(),_e=me.get("localX"),be=me.get("localY"),we=z.node2.getLayout(),Te=z.node2.getModel(),Me=Te.get("localX"),Ae=Te.get("localY"),Ie=z.getLayout();switch(k.shape.extent=Math.max(1,Ie.dy),k.shape.orient=P,"vertical"===P?(U=F=(null!=_e?_e*x:he.x)+Ie.sy,j=(B=(null!=be?be*C:he.y)+he.dy)*(1-ae)+(Y=null!=Ae?Ae*C:we.y)*ae,q=H=(null!=Me?Me*x:we.x)+Ie.ty,Q=B*ae+Y*(1-ae)):(U=(F=(null!=_e?_e*x:he.x)+he.dx)*(1-ae)+(H=null!=Me?Me*x:we.x)*ae,j=B=(null!=be?be*C:he.y)+Ie.sy,q=F*ae+H*(1-ae),Q=Y=(null!=Ae?Ae*C:we.y)+Ie.ty),k.setShape({x1:F,y1:B,x2:H,y2:Y,cpx1:U,cpy1:j,cpx2:q,cpy2:Q}),k.useStyle(oe.getItemStyle()),k.style.fill){case"source":k.style.fill=z.node1.getVisual("color"),k.style.decal=z.node1.getVisual("style").decal;break;case"target":k.style.fill=z.node2.getVisual("color"),k.style.decal=z.node2.getVisual("style").decal;break;case"gradient":var Ue=z.node1.getVisual("color"),qe=z.node2.getVisual("color");"string"==typeof Ue&&"string"==typeof qe&&(k.style.fill=new $2(0,0,+("horizontal"===P),+("vertical"===P),[{color:Ue,offset:0},{color:qe,offset:1}]))}var ft=re.getModel("emphasis");ys(k,re,"lineStyle",function(ot){return ot.getItemStyle()}),v.add(k),D.setItemGraphicEl(z.dataIndex,k);var $e=ft.get("focus");eo(k,"adjacency"===$e?z.getAdjacentDataIndices():$e,ft.get("blurScope")),Pn(k).dataType="edge"}),g.eachNode(function(z){var k=z.getLayout(),E=z.getModel(),F=E.get("localX"),B=E.get("localY"),H=E.getModel("emphasis"),Y=new gi({shape:{x:null!=F?F*x:k.x,y:null!=B?B*C:k.y,width:k.dx,height:k.dy},style:E.getModel("itemStyle").getItemStyle(),z2:10});Vl(Y,Hs(E),{labelFetcher:a,labelDataIndex:z.dataIndex,defaultText:z.id}),Y.disableLabelAnimation=!0,Y.setStyle("fill",z.getVisual("color")),Y.setStyle("decal",z.getVisual("style").decal),ys(Y,E),v.add(Y),w.setItemGraphicEl(z.dataIndex,Y),Pn(Y).dataType="node";var U=H.get("focus");eo(Y,"adjacency"===U?z.getAdjacentDataIndices():U,H.get("blurScope"))}),w.eachItemGraphicEl(function(z,k){w.getItemModel(k).get("draggable")&&(z.drift=function(E,F){p._focusAdjacencyDisabled=!0,this.shape.x+=E,this.shape.y+=F,this.dirty(),d.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:w.getRawIndex(k),localX:this.shape.x/x,localY:this.shape.y/C})},z.ondragend=function(){p._focusAdjacencyDisabled=!1},z.draggable=!0,z.cursor="move")}),!this._data&&a.isAnimationEnabled()&&v.setClipPath((z=v.getBoundingRect(),k=a,E=function(){v.removeClipPath()},to(F=new gi({shape:{x:z.x-10,y:z.y-10,width:0,height:z.height+20}}),{shape:{width:z.width+20}},k,E),F)),this._data=a.getData()},s.prototype.dispose=function(){},s.type="sankey",s}(dr),cue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){var d=a.edges||a.links,p=a.data||a.nodes,g=a.levels;this.levelModels=[];for(var v=this.levelModels,y=0;y<g.length;y++)null!=g[y].depth&&g[y].depth>=0&&(v[g[y].depth]=new tr(g[y],this,u));if(p&&d)return pF(p,d,this,!0,function(x,C){x.wrapMethod("getItemModel",function(w,D){var P=w.parentModel,z=P.getData().getItemLayout(D);if(z){var E=P.levelModels[z.depth];E&&(w.parentModel=E)}return w}),C.wrapMethod("getItemModel",function(w,D){var P=w.parentModel,z=P.getGraph().getEdgeByIndex(D).node1.getLayout();if(z){var E=P.levelModels[z.depth];E&&(w.parentModel=E)}return w})}).data},s.prototype.setNodePosition=function(a,u){var d=(this.option.data||this.option.nodes)[a];d.localX=u[0],d.localY=u[1]},s.prototype.getGraph=function(){return this.getData().graph},s.prototype.getEdgeData=function(){return this.getGraph().edgeData},s.prototype.formatTooltip=function(a,u,d){function p(w){return isNaN(w)||null==w}if("edge"===d){var g=this.getDataParams(a,d),v=g.data,y=g.value;return bs("nameValue",{name:v.source+" -- "+v.target,value:y,noValue:p(y)})}var x=this.getGraph().getNodeByIndex(a).getLayout().value,C=this.getDataParams(a,d).data.name;return bs("nameValue",{name:null!=C?C+"":null,value:x,noValue:p(x)})},s.prototype.optionUpdated=function(){},s.prototype.getDataParams=function(a,u){var d=c.prototype.getDataParams.call(this,a,u);if(null==d.value&&"node"===u){var p=this.getGraph().getNodeByIndex(a).getLayout().value;d.value=p}return d},s.type="series.sankey",s.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},s}(Fr);function uue(c,s){c.eachSeriesByType("sankey",function(a){var D,u=a.get("nodeWidth"),d=a.get("nodeGap"),p=(D=s,io(a.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()}));a.layoutInfo=p;var g=p.width,v=p.height,y=a.getGraph(),x=y.nodes,C=y.edges;fe(x,function(D){var P=av(D.outEdges,tA),z=av(D.inEdges,tA),k=D.getValue()||0,E=Math.max(P,z,k);D.setLayout({value:E},!0)}),function(w,D,P,z,k,E,F,B,H){var Y,j;(function(Y,U,j,q,Q,re,oe){for(var ae=[],he=[],me=[],_e=[],be=0,we=0;we<U.length;we++)ae[we]=1;for(we=0;we<Y.length;we++)he[we]=Y[we].inEdges.length,0===he[we]&&me.push(Y[we]);for(var Te=-1;me.length;){for(var Me=0;Me<me.length;Me++){var Ae=me[Me],Ie=Ae.hostGraph.data.getRawDataItem(Ae.dataIndex),Ue=null!=Ie.depth&&Ie.depth>=0;Ue&&Ie.depth>Te&&(Te=Ie.depth),Ae.setLayout({depth:Ue?Ie.depth:be},!0),Ae.setLayout("vertical"===re?{dy:j}:{dx:j},!0);for(var qe=0;qe<Ae.outEdges.length;qe++){var ft=Ae.outEdges[qe];ae[U.indexOf(ft)]=0;var $e=ft.node2;0==--he[Y.indexOf($e)]&&_e.indexOf($e)<0&&_e.push($e)}}++be,me=_e,_e=[]}for(we=0;we<ae.length;we++)if(1===ae[we])throw new Error("Sankey is a DAG, the original data has cycle!");var gt,vt,ot=Te>be-1?Te:be-1;oe&&"left"!==oe&&function(bt,gt,vt,kt){if("right"===gt){for(var Rt=[],dn=bt,ln=0;dn.length;){for(var mn=0;mn<dn.length;mn++){var Xr=dn[mn];Xr.setLayout({skNodeHeight:ln},!0);for(var To=0;To<Xr.inEdges.length;To++){var Ii=Xr.inEdges[To];Rt.indexOf(Ii.node1)<0&&Rt.push(Ii.node1)}}dn=Rt,Rt=[],++ln}fe(bt,function(zi){aK(zi)||zi.setLayout({depth:Math.max(0,kt-zi.getLayout().skNodeHeight)},!0)})}else"justify"===gt&&(lo=kt,fe(bt,function(Br){aK(Br)||Br.outEdges.length||Br.setLayout({depth:lo},!0)}));var lo}(Y,oe,0,ot),gt="vertical"===re?(Q-j)/ot:(q-j)/ot,vt=re,fe(Y,function(kt){var Rt=kt.getLayout().depth*gt;kt.setLayout("vertical"===vt?{y:Rt}:{x:Rt},!0)})})(w,D,P,k,E,B,H),function(Y,U,j,q,Q,re,oe){var be,we,Te,ae=(be=[],we="vertical"===oe?"y":"x",(Te=NT(Y,function(Me){return Me.getLayout()[we]})).keys.sort(function(Me,Ae){return Me-Ae}),fe(Te.keys,function(Me){be.push(Te.buckets.get(Me))}),be);(function(me,_e,be,we,Te,Me){var Ae=1/0;fe(me,function(Ie){var Ue=Ie.length,qe=0;fe(Ie,function($e){qe+=$e.getLayout().value});var ft="vertical"===Me?(we-(Ue-1)*Te)/qe:(be-(Ue-1)*Te)/qe;ft<Ae&&(Ae=ft)}),fe(me,function(Ie){fe(Ie,function(Ue,qe){var ft=Ue.getLayout().value*Ae;"vertical"===Me?(Ue.setLayout({x:qe},!0),Ue.setLayout({dx:ft},!0)):(Ue.setLayout({y:qe},!0),Ue.setLayout({dy:ft},!0))})}),fe(_e,function(Ie){var Ue=+Ie.getValue()*Ae;Ie.setLayout({dy:Ue},!0)})})(ae,U,j,q,Q,oe),eA(ae,Q,j,q,oe);for(var he=1;re>0;re--)hue(ae,he*=.99,oe),eA(ae,Q,j,q,oe),pue(ae,he,oe),eA(ae,Q,j,q,oe)}(w,D,E,k,z,F,B),j="vertical"===B?"x":"y",fe(Y=w,function(q){q.outEdges.sort(function(Q,re){return Q.node2.getLayout()[j]-re.node2.getLayout()[j]}),q.inEdges.sort(function(Q,re){return Q.node1.getLayout()[j]-re.node1.getLayout()[j]})}),fe(Y,function(q){var Q=0,re=0;fe(q.outEdges,function(oe){oe.setLayout({sy:Q},!0),Q+=oe.getLayout().dy}),fe(q.inEdges,function(oe){oe.setLayout({ty:re},!0),re+=oe.getLayout().dy})})}(x,C,u,d,g,v,0!==Ri(x,function(w){return 0===w.getLayout().value}).length?0:a.get("layoutIterations"),a.get("orient"),a.get("nodeAlign"))})}function aK(c){var s=c.hostGraph.data.getRawDataItem(c.dataIndex);return null!=s.depth&&s.depth>=0}function eA(c,s,a,u,d){var p="vertical"===d?"x":"y";fe(c,function(g){var v,y,x;g.sort(function(z,k){return z.getLayout()[p]-k.getLayout()[p]});for(var C=0,w=g.length,D="vertical"===d?"dx":"dy",P=0;P<w;P++)(x=C-(y=g[P]).getLayout()[p])>0&&(v=y.getLayout()[p]+x,y.setLayout("vertical"===d?{x:v}:{y:v},!0)),C=y.getLayout()[p]+y.getLayout()[D]+s;if((x=C-s-("vertical"===d?u:a))>0)for(v=y.getLayout()[p]-x,y.setLayout("vertical"===d?{x:v}:{y:v},!0),C=v,P=w-2;P>=0;--P)(x=(y=g[P]).getLayout()[p]+y.getLayout()[D]+s-C)>0&&(v=y.getLayout()[p]-x,y.setLayout("vertical"===d?{x:v}:{y:v},!0)),C=y.getLayout()[p]})}function hue(c,s,a){fe(c.slice().reverse(),function(u){fe(u,function(d){if(d.outEdges.length){var p=av(d.outEdges,sK,a)/av(d.outEdges,tA);if(isNaN(p)){var g=d.outEdges.length;p=g?av(d.outEdges,lK,a)/g:0}if("vertical"===a){var v=d.getLayout().x+(p-ov(d,a))*s;d.setLayout({x:v},!0)}else{var y=d.getLayout().y+(p-ov(d,a))*s;d.setLayout({y},!0)}}})})}function sK(c,s){return ov(c.node2,s)*c.getValue()}function lK(c,s){return ov(c.node2,s)}function due(c,s){return ov(c.node1,s)*c.getValue()}function fue(c,s){return ov(c.node1,s)}function ov(c,s){return"vertical"===s?c.getLayout().x+c.getLayout().dx/2:c.getLayout().y+c.getLayout().dy/2}function tA(c){return c.getValue()}function av(c,s,a){for(var u=0,d=c.length,p=-1;++p<d;){var g=+s(c[p],a);isNaN(g)||(u+=g)}return u}function pue(c,s,a){fe(c,function(u){fe(u,function(d){if(d.inEdges.length){var p=av(d.inEdges,due,a)/av(d.inEdges,tA);if(isNaN(p)){var g=d.inEdges.length;p=g?av(d.inEdges,fue,a)/g:0}if("vertical"===a){var v=d.getLayout().x+(p-ov(d,a))*s;d.setLayout({x:v},!0)}else{var y=d.getLayout().y+(p-ov(d,a))*s;d.setLayout({y},!0)}}})})}function gue(c){c.eachSeriesByType("sankey",function(s){var a=s.getGraph().nodes;if(a.length){var u=1/0,d=-1/0;fe(a,function(p){var g=p.getLayout().value;g<u&&(u=g),g>d&&(d=g)}),fe(a,function(p){var g=new ws({type:"color",mappingMethod:"linear",dataExtent:[u,d],visual:s.get("color")}).mapValueToVisual(p.getLayout().value),v=p.getModel().get(["itemStyle","color"]);null!=v?(p.setVisual("color",v),p.setVisual("style",{fill:v})):(p.setVisual("color",g),p.setVisual("style",{fill:g}))})}})}var cK=function(){function c(){}return c.prototype.getInitialData=function(s,a){var u,d,p=a.getComponent("xAxis",this.get("xAxisIndex")),g=a.getComponent("yAxis",this.get("yAxisIndex")),v=p.get("type"),y=g.get("type");"category"===v?(s.layout="horizontal",u=p.getOrdinalMeta(),d=!0):"category"===y?(s.layout="vertical",u=g.getOrdinalMeta(),d=!0):s.layout=s.layout||"horizontal";var x=["x","y"],C="horizontal"===s.layout?0:1,w=this._baseAxisDim=x[C],D=x[1-C],P=[p,g],z=P[C].get("type"),k=P[1-C].get("type"),E=s.data;if(E&&d){var F=[];fe(E,function(Y,U){var j;at(Y)?(j=Y.slice(),Y.unshift(U)):at(Y.value)?((j=it({},Y)).value=j.value.slice(),Y.value.unshift(U)):j=Y,F.push(j)}),s.data=F}var B=this.defaultValueDimensions,H=[{name:w,type:nD(z),ordinalMeta:u,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:D,type:nD(k),dimsDef:B.slice()}];return Z0(this,{coordDimensions:H,dimensionsCount:B.length+1,encodeDefaulter:Je(wf,H,this)})},c.prototype.getBaseAxis=function(){var s=this._baseAxisDim;return this.ecModel.getComponent(s+"Axis",this.get(s+"AxisIndex")).axis},c}(),uK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return Ee(s,c),s.type="series.boxplot",s.dependencies=["xAxis","yAxis","grid"],s.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},s}(Fr);Gr(uK,cK,!0);var hK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=a.getData(),g=this.group,v=this._data;this._data||g.removeAll();var y="horizontal"===a.get("layout")?1:0;p.diff(v).add(function(x){if(p.hasValue(x)){var C=FF(p.getItemLayout(x),p,x,y,!0);p.setItemGraphicEl(x,C),g.add(C)}}).update(function(x,C){var w=v.getItemGraphicEl(C);if(p.hasValue(x)){var D=p.getItemLayout(x);w?(ld(w),S8(D,w,p,x)):w=FF(D,p,x,y),g.add(w),p.setItemGraphicEl(x,w)}else g.remove(w)}).remove(function(x){var C=v.getItemGraphicEl(x);C&&g.remove(C)}).execute(),this._data=p},s.prototype.remove=function(a){var u=this.group,d=this._data;this._data=null,d&&d.eachItemGraphicEl(function(p){p&&u.remove(p)})},s.type="boxplot",s}(dr),nA=function(){},w8=function(c){function s(a){var u=c.call(this,a)||this;return u.type="boxplotBoxPath",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new nA},s.prototype.buildPath=function(a,u){var d=u.points,p=0;for(a.moveTo(d[p][0],d[p][1]),p++;p<4;p++)a.lineTo(d[p][0],d[p][1]);for(a.closePath();p<d.length;p++)a.moveTo(d[p][0],d[p][1]),p++,a.lineTo(d[p][0],d[p][1])},s}(pi);function FF(c,s,a,u,d){var p=c.ends,g=new w8({shape:{points:d?dK(p,u,c):p}});return S8(c,g,s,a,d),g}function S8(c,s,a,u,d){(0,Rc[d?"initProps":"updateProps"])(s,{shape:{points:c.ends}},a.hostModel,u),s.useStyle(a.getItemVisual(u,"style")),s.style.strokeNoScale=!0,s.z2=100;var g=a.getItemModel(u);ys(s,g),eo(s,g.get(["emphasis","focus"]),g.get(["emphasis","blurScope"]))}function dK(c,s,a){return tt(c,function(u){return(u=u.slice())[s]=a.initBaseline,u})}function BF(c,s){}var T8=fe;function fK(c){var u,d,s=(u=[],d=[],c.eachSeriesByType("boxplot",function(p){var g=p.getBaseAxis(),v=Gn(d,g);v<0&&(d[v=d.length]=g,u[v]={axis:g,seriesModels:[]}),u[v].seriesModels.push(p)}),u);T8(s,function(a){var u=a.seriesModels;u.length&&(function(d){var p,g,v=d.axis,y=d.seriesModels,x=y.length,C=d.boxWidthList=[],w=d.boxOffsetList=[],D=[];if("category"===v.type)g=v.getBandWidth();else{var P=0;T8(y,function(B){P=Math.max(P,B.getData().count())}),p=v.getExtent(),Math.abs(p[1]-p[0])}T8(y,function(B){var H=B.get("boxWidth");at(H)||(H=[H,H]),D.push([At(H[0],g)||0,At(H[1],g)||0])});var z=.8*g-2,k=z/x*.3,E=(z-k*(x-1))/x,F=E/2-z/2;T8(y,function(B,H){w.push(F),F+=k+E,C.push(Math.min(Math.max(E,D[H][0]),D[H][1]))})}(a),T8(u,function(d,p){!function(g,v,y){var x=g.coordinateSystem,C=g.getData(),w=y/2,D="horizontal"===g.get("layout")?0:1,P=1-D,z=["x","y"],k=C.mapDimension(z[D]),E=C.mapDimensionsAll(z[P]);if(!(null==k||E.length<5))for(var F=0;F<C.count();F++){var B=C.get(k,F),H=re(B,E[2],F),Y=re(B,E[0],F),U=re(B,E[1],F),j=re(B,E[3],F),q=re(B,E[4],F),Q=[];oe(Q,U,!1),oe(Q,j,!0),Q.push(Y,U,q,j),ae(Q,Y),ae(Q,q),ae(Q,H),C.setItemLayout(F,{initBaseline:H[P],ends:Q})}function re(he,me,_e){var be,we=C.get(me,_e),Te=[];return Te[D]=he,Te[P]=we,isNaN(he)||isNaN(we)?be=[NaN,NaN]:(be=x.dataToPoint(Te))[D]+=v,be}function oe(he,me,_e){var be=me.slice(),we=me.slice();be[D]+=w,we[D]-=w,_e?he.push(be,we):he.push(we,be)}function ae(he,me){var _e=me.slice(),be=me.slice();_e[D]-=w,be[D]+=w,he.push(_e,be)}}(d,a.boxOffsetList[p],a.boxWidthList[p])}))})}var pK={type:"echarts:boxplot",transform:function(c){var s=c.upstream;s.sourceFormat!==Qp&&Ui("");var u=function(d,p){for(var g=[],v=[],y=(p=p||{}).boundIQR,x="none"===y||0===y,C=0;C<d.length;C++){var w=pc(d[C].slice()),D=Ct(w,.25),P=Ct(w,.5),z=Ct(w,.75),k=w[0],E=w[w.length-1],F=(y??1.5)*(z-D),B=x?k:Math.max(k,D-F),H=x?E:Math.min(E,z+F),Y=p.itemNameFormatter,U=wi(Y)?Y({value:C}):ui(Y)?Y.replace("{value}",C+""):C+"";g.push([U,B,D,P,z,H]);for(var j=0;j<w.length;j++){var q=w[j];(q<B||q>H)&&v.push([U,q])}}return{boxData:g,outliers:v}}(s.getRawData(),c.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:u.boxData},{data:u.outliers}]}},gK=["color","borderColor"],ZC=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){this.group.removeClipPath(),this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},s.prototype.incrementalPrepareRender=function(a,u,d){this._clear(),this._updateDrawMode(a)},s.prototype.incrementalRender=function(a,u,d,p){this._isLargeDraw?this._incrementalRenderLarge(a,u):this._incrementalRenderNormal(a,u)},s.prototype._updateDrawMode=function(a){var u=a.pipelineContext.large;null!=this._isLargeDraw&&u===this._isLargeDraw||(this._isLargeDraw=u,this._clear())},s.prototype._renderNormal=function(a){var u=a.getData(),d=this._data,p=this.group,g=u.getLayout("isSimpleBox"),v=a.get("clip",!0),y=a.coordinateSystem,x=y.getArea&&y.getArea();this._data||p.removeAll(),u.diff(d).add(function(C){if(u.hasValue(C)){var w=u.getItemLayout(C);if(v&&J_(x,w))return;var D=QC(w,0,!0);to(D,{shape:{points:w.ends}},a,C),JC(D,u,C,g),p.add(D),u.setItemGraphicEl(C,D)}}).update(function(C,w){var D=d.getItemGraphicEl(w);if(u.hasValue(C)){var P=u.getItemLayout(C);v&&J_(x,P)?p.remove(D):(D?(Ti(D,{shape:{points:P.ends}},a,C),ld(D)):D=QC(P),JC(D,u,C,g),p.add(D),u.setItemGraphicEl(C,D))}else p.remove(D)}).remove(function(C){var w=d.getItemGraphicEl(C);w&&p.remove(w)}).execute(),this._data=u},s.prototype._renderLarge=function(a){this._clear(),aA(a,this.group);var u=a.get("clip",!0)?FD(a.coordinateSystem,!1,a):null;u?this.group.setClipPath(u):this.group.removeClipPath()},s.prototype._incrementalRenderNormal=function(a,u){for(var d,p=u.getData(),g=p.getLayout("isSimpleBox");null!=(d=a.next());){var v=QC(p.getItemLayout(d));JC(v,p,d,g),v.incremental=!0,this.group.add(v)}},s.prototype._incrementalRenderLarge=function(a,u){aA(u,this.group,!0)},s.prototype.remove=function(a){this._clear()},s.prototype._clear=function(){this.group.removeAll(),this._data=null},s.type="candlestick",s}(dr),KC=function(){},VF=function(c){function s(a){var u=c.call(this,a)||this;return u.type="normalCandlestickBox",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new KC},s.prototype.buildPath=function(a,u){var d=u.points;this.__simpleBox?(a.moveTo(d[4][0],d[4][1]),a.lineTo(d[6][0],d[6][1])):(a.moveTo(d[0][0],d[0][1]),a.lineTo(d[1][0],d[1][1]),a.lineTo(d[2][0],d[2][1]),a.lineTo(d[3][0],d[3][1]),a.closePath(),a.moveTo(d[4][0],d[4][1]),a.lineTo(d[5][0],d[5][1]),a.moveTo(d[6][0],d[6][1]),a.lineTo(d[7][0],d[7][1]))},s}(pi);function QC(c,s,a){var u=c.ends;return new VF({shape:{points:a?iA(u,c):u},z2:100})}function J_(c,s){for(var a=!0,u=0;u<s.ends.length;u++)if(c.contain(s.ends[u][0],s.ends[u][1])){a=!1;break}return a}function JC(c,s,a,u){var d=s.getItemModel(a);c.useStyle(s.getItemVisual(a,"style")),c.style.strokeNoScale=!0,c.__simpleBox=u,ys(c,d)}function iA(c,s){return tt(c,function(a){return(a=a.slice())[1]=s.initBaseline,a})}var rA=function(){},oA=function(c){function s(a){var u=c.call(this,a)||this;return u.type="largeCandlestickBox",u}return Ee(s,c),s.prototype.getDefaultShape=function(){return new rA},s.prototype.buildPath=function(a,u){for(var d=u.points,p=0;p<d.length;)if(this.__sign===d[p++]){var g=d[p++];a.moveTo(g,d[p++]),a.lineTo(g,d[p++])}else p+=3},s}(pi);function aA(c,s,a){var u=c.getData().getLayout("largePoints"),d=new oA({shape:{points:u},__sign:1});s.add(d);var p=new oA({shape:{points:u},__sign:-1});s.add(p),HF(1,d,c),HF(-1,p,c),a&&(d.incremental=!0,p.incremental=!0)}function HF(c,s,a,u){var d=a.get(["itemStyle",c>0?"borderColor":"borderColor0"])||a.get(["itemStyle",c>0?"color":"color0"]),p=a.getModel("itemStyle").getItemStyle(gK);s.useStyle(p),s.style.fill=null,s.style.stroke=d}var YF=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],a}return Ee(s,c),s.prototype.getShadowDim=function(){return"open"},s.prototype.brushSelector=function(a,u,d){var p=u.getItemLayout(a);return p&&d.rect(p.brushRect)},s.type="series.candlestick",s.dependencies=["xAxis","yAxis","grid"],s.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},s}(Fr);function mK(c){c&&at(c.series)&&fe(c.series,function(s){rn(s)&&"k"===s.type&&(s.type="candlestick")})}Gr(YF,cK,!0);var vK=["itemStyle","borderColor"],sA=["itemStyle","borderColor0"],UF=["itemStyle","color"],e7=["itemStyle","color0"],lA={seriesType:"candlestick",plan:k0(),performRawSeries:!0,reset:function(c,s){function a(d,p){return p.get(d>0?UF:e7)}function u(d,p){return p.get(d>0?vK:sA)}if(!s.isSeriesFiltered(c))return!c.pipelineContext.large&&{progress:function(d,p){for(var g;null!=(g=d.next());){var v=p.getItemModel(g),y=p.getItemLayout(g).sign,x=v.getItemStyle();x.fill=a(y,v),x.stroke=u(y,v)||x.fill,it(p.ensureUniqueItemVisual(g,"style"),x)}}}}},_K=typeof Float32Array<"u"?Float32Array:Array,GF={seriesType:"candlestick",plan:k0(),reset:function(c){var w,D,P,z,k,E,F,B,s=c.coordinateSystem,a=c.getData(),u=(D=a,k="category"===(z=(w=c).getBaseAxis()).type?z.getBandWidth():(P=z.getExtent(),Math.abs(P[1]-P[0])/D.count()),E=At(xi(w.get("barMaxWidth"),k),k),F=At(xi(w.get("barMinWidth"),1),k),null!=(B=w.get("barWidth"))?At(B,k):Math.max(Math.min(k/2,E),F)),d=["x","y"],p=a.getDimensionIndex(a.mapDimension(d[0])),g=tt(a.mapDimensionsAll(d[1]),a.getDimensionIndex,a),v=g[0],y=g[1],x=g[2],C=g[3];if(a.setLayout({candleWidth:u,isSimpleBox:u<=1.3}),!(p<0||g.length<4))return{progress:c.pipelineContext.large?function(w,D){for(var P,z,k=new _K(4*w.count),E=0,F=[],B=[],H=D.getStore();null!=(z=w.next());){var Y=H.get(p,z),U=H.get(v,z),j=H.get(y,z),q=H.get(x,z),Q=H.get(C,z);isNaN(Y)||isNaN(q)||isNaN(Q)?(k[E++]=NaN,E+=3):(k[E++]=cA(H,z,U,j,y),F[0]=Y,F[1]=q,P=s.dataToPoint(F,null,B),k[E++]=P?P[0]:NaN,k[E++]=P?P[1]:NaN,F[1]=Q,P=s.dataToPoint(F,null,B),k[E++]=P?P[1]:NaN)}D.setLayout("largePoints",k)}:function(w,D){for(var P,z=D.getStore();null!=(P=w.next());){var k=z.get(p,P),E=z.get(v,P),F=z.get(y,P),B=z.get(x,P),H=z.get(C,P),Y=Math.min(E,F),U=Math.max(E,F),j=ae(Y,k),q=ae(U,k),Q=ae(B,k),re=ae(H,k),oe=[];he(oe,q,0),he(oe,j,1),oe.push(_e(re),_e(q),_e(Q),_e(j)),D.setItemLayout(P,{sign:cA(z,P,E,F,y),initBaseline:E>F?q[1]:j[1],ends:oe,brushRect:(be=B,we=H,Te=k,Me=void 0,Ae=void 0,Me=ae(be,Te),Ae=ae(we,Te),Me[0]-=u/2,Ae[0]-=u/2,{x:Me[0],y:Me[1],width:u,height:Ae[1]-Me[1]})})}var be,we,Te,Me,Ae;function ae(be,we){var Te=[];return Te[0]=we,Te[1]=be,isNaN(we)||isNaN(be)?[NaN,NaN]:s.dataToPoint(Te)}function he(be,we,Te){var Me=we.slice(),Ae=we.slice();Me[0]=K3(Me[0]+u/2,1,!1),Ae[0]=K3(Ae[0]-u/2,1,!0),Te?be.push(Me,Ae):be.push(Ae,Me)}function _e(be){return be[0]=K3(be[0],1),be}}}}};function cA(c,s,a,u,d){return a>u?-1:a<u?1:s>0?c.get(d,s-1)<=u?1:-1:1}function WF(c,s){var a=s.rippleEffectColor||s.color;c.eachChild(function(u){u.attr({z:s.z,zlevel:s.zlevel,style:{stroke:"stroke"===s.brushType?a:null,fill:"fill"===s.brushType?a:null}})})}var yK=function(c){function s(a,u){var d=c.call(this)||this,p=new j0(a,u),g=new Xt;return d.add(p),d.add(g),d.updateData(a,u),d}return Ee(s,c),s.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},s.prototype.startEffectAnimation=function(a){for(var u=a.symbolType,d=a.color,p=a.rippleNumber,g=this.childAt(1),v=0;v<p;v++){var y=da(u,-1,-1,2,2,d);y.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var x=-v/p*a.period+a.effectOffset;y.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(x).start(),y.animateStyle(!0).when(a.period,{opacity:0}).delay(x).start(),g.add(y)}WF(g,a)},s.prototype.updateEffectAnimation=function(a){for(var u=this._effectCfg,d=this.childAt(1),p=["symbolType","period","rippleScale","rippleNumber"],g=0;g<p.length;g++){var v=p[g];if(u[v]!==a[v])return this.stopEffectAnimation(),void this.startEffectAnimation(a)}WF(d,a)},s.prototype.highlight=function(){ad(this)},s.prototype.downplay=function(){Wp(this)},s.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},s.prototype.updateData=function(a,u){var d=this,p=a.hostModel;this.childAt(0).updateData(a,u);var g=this.childAt(1),v=a.getItemModel(u),y=a.getItemVisual(u,"symbol"),x=x_(a.getItemVisual(u,"symbolSize")),C=a.getItemVisual(u,"style"),w=C&&C.fill;g.setScale(x),g.traverse(function(k){k.setStyle("fill",w)});var D=L0(a.getItemVisual(u,"symbolOffset"),x);D&&(g.x=D[0],g.y=D[1]);var P=a.getItemVisual(u,"symbolRotate");g.rotation=(P||0)*Math.PI/180||0;var z={};z.showEffectOn=p.get("showEffectOn"),z.rippleScale=v.get(["rippleEffect","scale"]),z.brushType=v.get(["rippleEffect","brushType"]),z.period=1e3*v.get(["rippleEffect","period"]),z.effectOffset=u/a.count(),z.z=p.getShallow("z")||0,z.zlevel=p.getShallow("zlevel")||0,z.symbolType=y,z.color=w,z.rippleEffectColor=v.get(["rippleEffect","color"]),z.rippleNumber=v.get(["rippleEffect","number"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===z.showEffectOn?(this._effectCfg?this.updateEffectAnimation(z):this.startEffectAnimation(z),this._effectCfg=z):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(k){"emphasis"===k?"render"!==z.showEffectOn&&d.startEffectAnimation(z):"normal"===k&&"render"!==z.showEffectOn&&d.stopEffectAnimation()}),this._effectCfg=z,eo(this)},s.prototype.fadeOut=function(a){this.off("mouseover").off("mouseout"),a&&a()},s}(Xt),xK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(){this._symbolDraw=new Qy(yK)},s.prototype.render=function(a,u,d){var p=a.getData(),g=this._symbolDraw;g.updateData(p,{clipShape:this._getClipShape(a)}),this.group.add(g.group)},s.prototype._getClipShape=function(a){var u=a.coordinateSystem,d=u&&u.getArea&&u.getArea();return a.get("clip",!0)?d:null},s.prototype.updateTransform=function(a,u,d){var p=a.getData();this.group.dirty();var g=F_("").reset(a,u,d);g.progress&&g.progress({start:0,end:p.count(),count:p.count()},p),this._symbolDraw.updateLayout()},s.prototype._updateGroupTransform=function(a){var u=a.coordinateSystem;u&&u.getRoamTransform&&(this.group.transform=A2(u.getRoamTransform()),this.group.decomposeTransform())},s.prototype.remove=function(a,u){this._symbolDraw&&this._symbolDraw.remove(!0)},s.type="effectScatter",s}(dr),jF=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.hasSymbolVisual=!0,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){return Uc(null,this,{useEncodeDefaulter:!0})},s.prototype.brushSelector=function(a,u,d){return d.point(u.getItemLayout(a))},s.type="series.effectScatter",s.dependencies=["grid","polar"],s.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},s}(Fr),$F=function(c){function s(a,u,d){var p=c.call(this)||this;return p.add(p.createLine(a,u,d)),p._updateEffectSymbol(a,u),p}return Ee(s,c),s.prototype.createLine=function(a,u,d){return new IP(a,u,d)},s.prototype._updateEffectSymbol=function(a,u){var d=a.getItemModel(u).getModel("effect"),p=d.get("symbolSize"),g=d.get("symbol");at(p)||(p=[p,p]);var v=a.getItemVisual(u,"style"),y=d.get("color")||v&&v.stroke,x=this.childAt(1);this._symbolType!==g&&(this.remove(x),(x=da(g,-.5,-.5,1,1,y)).z2=100,x.culling=!0,this.add(x)),x&&(x.setStyle("shadowColor",y),x.setStyle(d.getItemStyle(["color"])),x.scaleX=p[0],x.scaleY=p[1],x.setColor(y),this._symbolType=g,this._symbolScale=p,this._updateEffectAnimation(a,d,u))},s.prototype._updateEffectAnimation=function(a,u,d){var p=this.childAt(1);if(p){var g=this,v=a.getItemLayout(d),y=1e3*u.get("period"),x=u.get("loop"),C=u.get("constantSpeed"),w=sa(u.get("delay"),function(z){return z/a.count()*y/3});if(p.ignore=!0,this._updateAnimationPoints(p,v),C>0&&(y=this._getLineLength(p)/C*1e3),(y!==this._period||x!==this._loop)&&(p.stopAnimation(),y>0)){var D=void 0;D="function"==typeof w?w(d):w,p.__t>0&&(D=-y*p.__t),p.__t=0;var P=p.animate("",x).when(y,{__t:1}).delay(D).during(function(){g._updateSymbolPosition(p)});x||P.done(function(){g.remove(p)}),P.start()}this._period=y,this._loop=x}},s.prototype._getLineLength=function(a){return ms(a.__p1,a.__cp1)+ms(a.__cp1,a.__p2)},s.prototype._updateAnimationPoints=function(a,u){a.__p1=u[0],a.__p2=u[1],a.__cp1=u[2]||[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]},s.prototype.updateData=function(a,u,d){this.childAt(0).updateData(a,u,d),this._updateEffectSymbol(a,u)},s.prototype._updateSymbolPosition=function(a){var u=a.__p1,d=a.__p2,p=a.__cp1,g=a.__t,v=[a.x,a.y],y=v.slice(),x=cl,C=ZT;v[0]=x(u[0],p[0],d[0],g),v[1]=x(u[1],p[1],d[1],g);var w=C(u[0],p[0],d[0],g),D=C(u[1],p[1],d[1],g);a.rotation=-Math.atan2(D,w)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==a.__lastT&&a.__lastT<a.__t?(a.scaleY=1.05*ms(y,v),1===g&&(v[0]=y[0]+(v[0]-y[0])/2,v[1]=y[1]+(v[1]-y[1])/2)):a.scaleY=1===a.__lastT?2*ms(u,v):this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=v[0],a.y=v[1]},s.prototype.updateLayout=function(a,u){this.childAt(0).updateLayout(a,u);var d=a.getItemModel(u).getModel("effect");this._updateEffectAnimation(a,d,u)},s}(Xt),XF=function(c){function s(a,u,d){var p=c.call(this)||this;return p._createPolyline(a,u,d),p}return Ee(s,c),s.prototype._createPolyline=function(a,u,d){var p=a.getItemLayout(u),g=new bc({shape:{points:p}});this.add(g),this._updateCommonStl(a,u,d)},s.prototype.updateData=function(a,u,d){var p=a.hostModel;Ti(this.childAt(0),{shape:{points:a.getItemLayout(u)}},p,u),this._updateCommonStl(a,u,d)},s.prototype._updateCommonStl=function(a,u,d){var p=this.childAt(0),g=a.getItemModel(u),v=d&&d.emphasisLineStyle;d&&!a.hasItemOption||(v=g.getModel(["emphasis","lineStyle"]).getLineStyle()),p.useStyle(a.getItemVisual(u,"style")),p.style.fill=null,p.style.strokeNoScale=!0,p.ensureState("emphasis").style=v,eo(this)},s.prototype.updateLayout=function(a,u){this.childAt(0).setShape("points",a.getItemLayout(u))},s}(Xt),bK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a._lastFrame=0,a._lastFramePercent=0,a}return Ee(s,c),s.prototype.createLine=function(a,u,d){return new XF(a,u,d)},s.prototype._updateAnimationPoints=function(a,u){this._points=u;for(var d=[0],p=0,g=1;g<u.length;g++)p+=ms(u[g-1],u[g]),d.push(p);if(0!==p){for(g=0;g<d.length;g++)d[g]/=p;this._offsets=d,this._length=p}else this._length=0},s.prototype._getLineLength=function(){return this._length},s.prototype._updateSymbolPosition=function(a){var u=a.__t,d=this._points,p=this._offsets,g=d.length;if(p){var v,y=this._lastFrame;if(u<this._lastFramePercent){for(v=Math.min(y+1,g-1);v>=0&&!(p[v]<=u);v--);v=Math.min(v,g-2)}else{for(v=y;v<g&&!(p[v]>u);v++);v=Math.min(v-1,g-2)}var x=(u-p[v])/(p[v+1]-p[v]),C=d[v],w=d[v+1];a.x=C[0]*(1-x)+x*w[0],a.y=C[1]*(1-x)+x*w[1],a.rotation=-Math.atan2(w[1]-C[1],w[0]-C[0])-Math.PI/2,this._lastFrame=v,this._lastFramePercent=u,a.ignore=!1}},s}($F),uA=function(){this.polyline=!1,this.curveness=0,this.segs=[]},CK=function(c){function s(a){return c.call(this,a)||this}return Ee(s,c),s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new uA},s.prototype.buildPath=function(a,u){var d=u.segs,p=u.curveness;if(u.polyline)for(var g=0;g<d.length;){var v=d[g++];if(v>0){a.moveTo(d[g++],d[g++]);for(var y=1;y<v;y++)a.lineTo(d[g++],d[g++])}}else for(g=0;g<d.length;){var x=d[g++],C=d[g++],w=d[g++],D=d[g++];a.moveTo(x,C),p>0?a.quadraticCurveTo((x+w)/2-(C-D)*p,(C+D)/2-(w-x)*p,w,D):a.lineTo(w,D)}},s.prototype.findDataIndex=function(a,u){var d=this.shape,p=d.segs,g=d.curveness,v=this.style.lineWidth;if(d.polyline)for(var y=0,x=0;x<p.length;){var C=p[x++];if(C>0)for(var w=p[x++],D=p[x++],P=1;P<C;P++)if(uf(w,D,z=p[x++],k=p[x++],v,a,u))return y;y++}else for(y=0,x=0;x<p.length;){w=p[x++],D=p[x++];var z=p[x++],k=p[x++];if(g>0){if(JT(w,D,(w+z)/2-(D-k)*g,(D+k)/2-(z-w)*g,z,k,v,a,u))return y}else if(uf(w,D,z,k,v,a,u))return y;y++}return-1},s}(pi),mue=function(){function c(){this.group=new Xt}return c.prototype.isPersistent=function(){return!this._incremental},c.prototype.updateData=function(s){this.group.removeAll();var a=new CK({rectHover:!0,cursor:"default"});a.setShape({segs:s.getLayout("linesPoints")}),this._setCommon(a,s),this.group.add(a),this._incremental=null},c.prototype.incrementalPrepareUpdate=function(s){this.group.removeAll(),this._clearIncremental(),s.count()>5e5?(this._incremental||(this._incremental=new X2({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.prototype.incrementalUpdate=function(s,a){var u=new CK;u.setShape({segs:a.getLayout("linesPoints")}),this._setCommon(u,a,!!this._incremental),this._incremental?this._incremental.addDisplayable(u,!0):(u.rectHover=!0,u.cursor="default",u.__startIndex=s.start,this.group.add(u))},c.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c.prototype._setCommon=function(s,a,u){var d=a.hostModel;s.setShape({polyline:d.get("polyline"),curveness:d.get(["lineStyle","curveness"])}),s.useStyle(d.getModel("lineStyle").getLineStyle()),s.style.strokeNoScale=!0;var p=a.getVisual("style");if(p&&p.stroke&&s.setStyle("stroke",p.stroke),s.setStyle("fill",null),!u){var g=Pn(s);g.seriesIndex=d.seriesIndex,s.on("mousemove",function(v){g.dataIndex=null;var y=s.findDataIndex(v.offsetX,v.offsetY);y>0&&(g.dataIndex=y+s.__startIndex)})}},c.prototype._clearIncremental=function(){var s=this._incremental;s&&s.clearDisplaybles()},c}(),hA={seriesType:"lines",plan:k0(),reset:function(c){var s=c.coordinateSystem,a=c.get("polyline"),u=c.pipelineContext.large;return{progress:function(d,p){var g=[];if(u){var v=void 0,y=d.end-d.start;if(a){for(var x=0,C=d.start;C<d.end;C++)x+=c.getLineCoordsCount(C);v=new Float32Array(y+2*x)}else v=new Float32Array(4*y);var w=0,D=[];for(C=d.start;C<d.end;C++){var P=c.getLineCoords(C,g);a&&(v[w++]=P);for(var z=0;z<P;z++)D=s.dataToPoint(g[z],!1,D),v[w++]=D[0],v[w++]=D[1]}p.setLayout("linesPoints",v)}else for(C=d.start;C<d.end;C++){var k=p.getItemModel(C),E=(P=c.getLineCoords(C,g),[]);if(a)for(var F=0;F<P;F++)E.push(s.dataToPoint(g[F]));else{E[0]=s.dataToPoint(g[0]),E[1]=s.dataToPoint(g[1]);var B=k.get(["lineStyle","curveness"]);+B&&(E[2]=[(E[0][0]+E[1][0])/2-(E[0][1]-E[1][1])*B,(E[0][1]+E[1][1])/2-(E[1][0]-E[0][0])*B])}p.setItemLayout(C,E)}}}}},vue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=a.getData(),g=this._updateLineDraw(p,a),v=a.get("zlevel"),y=a.get(["effect","trailLength"]),x=d.getZr(),C="svg"===x.painter.getType();C||x.painter.getLayer(v).clear(!0),null==this._lastZlevel||C||x.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&y&&(C||x.configLayer(v,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(y/10+.9,1),0)})),g.updateData(p);var w=a.get("clip",!0)&&FD(a.coordinateSystem,!1,a);w?this.group.setClipPath(w):this.group.removeClipPath(),this._lastZlevel=v,this._finished=!0},s.prototype.incrementalPrepareRender=function(a,u,d){var p=a.getData();this._updateLineDraw(p,a).incrementalPrepareUpdate(p),this._clearLayer(d),this._finished=!1},s.prototype.incrementalRender=function(a,u,d){this._lineDraw.incrementalUpdate(a,u.getData()),this._finished=a.end===u.getData().count()},s.prototype.updateTransform=function(a,u,d){var p=a.getData(),g=a.pipelineContext;if(!this._finished||g.large||g.progressiveRender)return{update:!0};var v=hA.reset(a,u,d);v.progress&&v.progress({start:0,end:p.count(),count:p.count()},p),this._lineDraw.updateLayout(),this._clearLayer(d)},s.prototype._updateLineDraw=function(a,u){var d=this._lineDraw,p=this._showEffect(u),g=!!u.get("polyline"),v=u.pipelineContext.large;return d&&p===this._hasEffet&&g===this._isPolyline&&v===this._isLargeDraw||(d&&d.remove(),d=this._lineDraw=v?new mue:new hn(g?p?bK:XF:p?$F:IP),this._hasEffet=p,this._isPolyline=g,this._isLargeDraw=v),this.group.add(d.group),d},s.prototype._showEffect=function(a){return!!a.get(["effect","show"])},s.prototype._clearLayer=function(a){var u=a.getZr();"svg"===u.painter.getType()||null==this._lastZlevel||u.painter.getLayer(this._lastZlevel).clear(!0)},s.prototype.remove=function(a,u){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(u)},s.prototype.dispose=function(a,u){this.remove(a,u)},s.type="lines",s}(dr),wK=typeof Uint32Array>"u"?Array:Uint32Array,SK=typeof Float64Array>"u"?Array:Float64Array;function qF(c){var s=c.data;s&&s[0]&&s[0][0]&&s[0][0].coord&&(c.data=tt(s,function(a){var u={coords:[a[0].coord,a[1].coord]};return a[0].name&&(u.fromName=a[0].name),a[1].name&&(u.toName=a[1].name),Ea([u,a[0],a[1]])}))}var ZF=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return Ee(s,c),s.prototype.init=function(a){a.data=a.data||[],qF(a);var u=this._processFlatCoordsArray(a.data);this._flatCoords=u.flatCoords,this._flatCoordsOffset=u.flatCoordsOffset,u.flatCoords&&(a.data=new Float32Array(u.count)),c.prototype.init.apply(this,arguments)},s.prototype.mergeOption=function(a){if(qF(a),a.data){var u=this._processFlatCoordsArray(a.data);this._flatCoords=u.flatCoords,this._flatCoordsOffset=u.flatCoordsOffset,u.flatCoords&&(a.data=new Float32Array(u.count))}c.prototype.mergeOption.apply(this,arguments)},s.prototype.appendData=function(a){var u=this._processFlatCoordsArray(a.data);u.flatCoords&&(this._flatCoords?(this._flatCoords=m2(this._flatCoords,u.flatCoords),this._flatCoordsOffset=m2(this._flatCoordsOffset,u.flatCoordsOffset)):(this._flatCoords=u.flatCoords,this._flatCoordsOffset=u.flatCoordsOffset),a.data=new Float32Array(u.count)),this.getRawData().appendData(a.data)},s.prototype._getCoordsFromItemModel=function(a){var u=this.getData().getItemModel(a);return u.option instanceof Array?u.option:u.getShallow("coords")},s.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},s.prototype.getLineCoords=function(a,u){if(this._flatCoordsOffset){for(var d=this._flatCoordsOffset[2*a],p=this._flatCoordsOffset[2*a+1],g=0;g<p;g++)u[g]=u[g]||[],u[g][0]=this._flatCoords[d+2*g],u[g][1]=this._flatCoords[d+2*g+1];return p}var v=this._getCoordsFromItemModel(a);for(g=0;g<v.length;g++)u[g]=u[g]||[],u[g][0]=v[g][0],u[g][1]=v[g][1];return v.length},s.prototype._processFlatCoordsArray=function(a){var u=0;if(this._flatCoords&&(u=this._flatCoords.length),"number"==typeof a[0]){for(var d=a.length,p=new wK(d),g=new SK(d),v=0,y=0,x=0,C=0;C<d;){x++;var w=a[C++];p[y++]=v+u,p[y++]=w;for(var D=0;D<w;D++){var P=a[C++],z=a[C++];g[v++]=P,g[v++]=z}}return{flatCoordsOffset:new Uint32Array(p.buffer,0,y),flatCoords:g,count:x}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},s.prototype.getInitialData=function(a,u){var d=new ts(["value"],this);return d.hasItemOption=!1,d.initData(a.data,[],function(p,g,v,y){if(p instanceof Array)return NaN;d.hasItemOption=!0;var x=p.value;return null!=x?x instanceof Array?x[y]:x:void 0}),d},s.prototype.formatTooltip=function(a,u,d){var p=this.getData().getItemModel(a),g=p.get("name");if(g)return g;var v=p.get("fromName"),y=p.get("toName"),x=[];return null!=v&&x.push(v),null!=y&&x.push(y),bs("nameValue",{name:x.join(" > ")})},s.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},s.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},s.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},s.type="series.lines",s.dependencies=["grid","polar","geo","calendar"],s.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},s}(Fr);function t7(c){return c instanceof Array||(c=[c,c]),c}var KF={seriesType:"lines",reset:function(c){var s=t7(c.get("symbol")),a=t7(c.get("symbolSize")),u=c.getData();return u.setVisual("fromSymbol",s&&s[0]),u.setVisual("toSymbol",s&&s[1]),u.setVisual("fromSymbolSize",a&&a[0]),u.setVisual("toSymbolSize",a&&a[1]),{dataEach:u.hasItemOption?function(d,p){var g=d.getItemModel(p),v=t7(g.getShallow("symbol",!0)),y=t7(g.getShallow("symbolSize",!0));v[0]&&d.setItemVisual(p,"fromSymbol",v[0]),v[1]&&d.setItemVisual(p,"toSymbol",v[1]),y[0]&&d.setItemVisual(p,"fromSymbolSize",y[0]),y[1]&&d.setItemVisual(p,"toSymbolSize",y[1])}:null}}},QF=function(){function c(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var s=Js();this.canvas=s}return c.prototype.update=function(s,a,u,d,p,g){var v=this._getBrush(),y=this._getGradient(p,"inRange"),x=this._getGradient(p,"outOfRange"),C=this.pointSize+this.blurSize,w=this.canvas,D=w.getContext("2d"),P=s.length;w.width=a,w.height=u;for(var z=0;z<P;++z){var k=s[z],E=k[0],F=k[1],B=d(k[2]);D.globalAlpha=B,D.drawImage(v,E-C,F-C)}if(!w.width||!w.height)return w;for(var H=D.getImageData(0,0,w.width,w.height),Y=H.data,U=0,j=Y.length,q=this.minOpacity,Q=this.maxOpacity-q;U<j;){B=Y[U+3]/256;var re=4*Math.floor(255*B);if(B>0){var oe=g(B)?y:x;B>0&&(B=B*Q+q),Y[U++]=oe[re],Y[U++]=oe[re+1],Y[U++]=oe[re+2],Y[U++]=oe[re+3]*B*256}else U+=4}return D.putImageData(H,0,0),w},c.prototype._getBrush=function(){var s=this._brushCanvas||(this._brushCanvas=Js()),a=this.pointSize+this.blurSize,u=2*a;s.width=u,s.height=u;var d=s.getContext("2d");return d.clearRect(0,0,u,u),d.shadowOffsetX=u,d.shadowBlur=this.blurSize,d.shadowColor="#000",d.beginPath(),d.arc(-a,a,this.pointSize,0,2*Math.PI,!0),d.closePath(),d.fill(),s},c.prototype._getGradient=function(s,a){for(var u=this._gradientPixels,d=u[a]||(u[a]=new Uint8ClampedArray(1024)),p=[0,0,0,0],g=0,v=0;v<256;v++)s[a](v/255,!0,p),d[g++]=p[0],d[g++]=p[1],d[g++]=p[2],d[g++]=p[3];return d},c}();function dA(c){var s=c.dimensions;return"lng"===s[0]&&"lat"===s[1]}var JF=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p;u.eachComponent("visualMap",function(v){v.eachTargetSeries(function(y){y===a&&(p=v)})}),this.group.removeAll(),this._incrementalDisplayable=null;var g=a.coordinateSystem;"cartesian2d"===g.type||"calendar"===g.type?this._renderOnCartesianAndCalendar(a,d,0,a.getData().count()):dA(g)&&this._renderOnGeo(g,a,p,d)},s.prototype.incrementalPrepareRender=function(a,u,d){this.group.removeAll()},s.prototype.incrementalRender=function(a,u,d,p){var g=u.coordinateSystem;g&&(dA(g)?this.render(u,d,p):this._renderOnCartesianAndCalendar(u,p,a.start,a.end,!0))},s.prototype._renderOnCartesianAndCalendar=function(a,u,d,p,g){var v,y,x,C,w=a.coordinateSystem;if(ug(w,"cartesian2d")){var D=w.getAxis("x"),P=w.getAxis("y");v=D.getBandWidth(),y=P.getBandWidth(),x=D.scale.getExtent(),C=P.scale.getExtent()}for(var z=this.group,k=a.getData(),E=a.getModel(["emphasis","itemStyle"]).getItemStyle(),F=a.getModel(["blur","itemStyle"]).getItemStyle(),B=a.getModel(["select","itemStyle"]).getItemStyle(),H=Hs(a),Y=a.get(["emphasis","focus"]),U=a.get(["emphasis","blurScope"]),j=ug(w,"cartesian2d")?[k.mapDimension("x"),k.mapDimension("y"),k.mapDimension("value")]:[k.mapDimension("time"),k.mapDimension("value")],q=d;q<p;q++){var Q=void 0,re=k.getItemVisual(q,"style");if(ug(w,"cartesian2d")){var oe=k.get(j[0],q),ae=k.get(j[1],q);if(isNaN(k.get(j[2],q))||oe<x[0]||oe>x[1]||ae<C[0]||ae>C[1])continue;var he=w.dataToPoint([oe,ae]);Q=new gi({shape:{x:Math.floor(Math.round(he[0])-v/2),y:Math.floor(Math.round(he[1])-y/2),width:Math.ceil(v),height:Math.ceil(y)},style:re})}else{if(isNaN(k.get(j[1],q)))continue;Q=new gi({z2:1,shape:w.dataToRect([k.get(j[0],q)]).contentShape,style:re})}var me=k.getItemModel(q);if(k.hasItemOption){var _e=me.getModel("emphasis");E=_e.getModel("itemStyle").getItemStyle(),F=me.getModel(["blur","itemStyle"]).getItemStyle(),B=me.getModel(["select","itemStyle"]).getItemStyle(),Y=_e.get("focus"),U=_e.get("blurScope"),H=Hs(me)}var be=a.getRawValue(q),we="-";be&&null!=be[2]&&(we=be[2]+""),Vl(Q,H,{labelFetcher:a,labelDataIndex:q,defaultOpacity:re.opacity,defaultText:we}),Q.ensureState("emphasis").style=E,Q.ensureState("blur").style=F,Q.ensureState("select").style=B,eo(Q,Y,U),Q.incremental=g,g&&(Q.states.emphasis.hoverLayer=!0),z.add(Q),k.setItemGraphicEl(q,Q)}},s.prototype._renderOnGeo=function(a,u,d,p){var g=d.targetVisuals.inRange,v=d.targetVisuals.outOfRange,y=u.getData(),x=this._hmLayer||this._hmLayer||new QF;x.blurSize=u.get("blurSize"),x.pointSize=u.get("pointSize"),x.minOpacity=u.get("minOpacity"),x.maxOpacity=u.get("maxOpacity");var C=a.getViewRect().clone(),w=a.getRoamTransform();C.applyTransform(w);var q,Q,re,D=Math.max(C.x,0),P=Math.max(C.y,0),z=Math.min(C.width+C.x,p.getWidth()),k=Math.min(C.height+C.y,p.getHeight()),E=z-D,F=k-P,B=[y.mapDimension("lng"),y.mapDimension("lat"),y.mapDimension("value")],H=y.mapArray(B,function(q,Q,re){var oe=a.dataToPoint([q,Q]);return oe[0]-=D,oe[1]-=P,oe.push(re),oe}),Y=d.getExtent(),U="visualMap.continuous"===d.type?(Q=[((Q=d.option.range)[0]-(q=Y)[0])/(re=q[1]-q[0]),(Q[1]-q[0])/re],function(oe){return oe>=Q[0]&&oe<=Q[1]}):function(q,Q,re){var oe=q[1]-q[0],ae=(Q=tt(Q,function(me){return{interval:[(me.interval[0]-q[0])/oe,(me.interval[1]-q[0])/oe]}})).length,he=0;return function(me){var _e;for(_e=he;_e<ae;_e++)if((be=Q[_e].interval)[0]<=me&&me<=be[1]){he=_e;break}if(_e===ae)for(_e=he-1;_e>=0;_e--){var be;if((be=Q[_e].interval)[0]<=me&&me<=be[1]){he=_e;break}}return _e>=0&&_e<ae&&re[_e]}}(Y,d.getPieceList(),d.option.selected);x.update(H,E,F,g.color.getNormalizer(),{inRange:g.color.getColorMapper(),outOfRange:v.color.getColorMapper()},U);var j=new Qo({style:{width:E,height:F,x:D,y:P,image:x.canvas},silent:!0});this.group.add(j)},s.type="heatmap",s}(dr),_ue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){return Uc(null,this,{generateCoord:"value"})},s.prototype.preventIncremental=function(){var a=a_.get(this.get("coordinateSystem"));if(a&&a.dimensions)return"lng"===a.dimensions[0]&&"lat"===a.dimensions[1]},s.type="series.heatmap",s.dependencies=["grid","geo","calendar"],s.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},s}(Fr),TK=["itemStyle","borderWidth"],MK=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],fA=new bh,eB=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=this.group,g=a.getData(),v=this._data,y=a.coordinateSystem,x=y.getBaseAxis().isHorizontal(),C=y.master.getRect(),w={ecSize:{width:d.getWidth(),height:d.getHeight()},seriesModel:a,coordSys:y,coordSysExtent:[[C.x,C.x+C.width],[C.y,C.y+C.height]],isHorizontal:x,valueDim:MK[+x],categoryDim:MK[1-+x]};return g.diff(v).add(function(D){if(g.hasValue(D)){var P=iB(g,D),z=tB(g,D,P,w),k=AK(g,w,z);g.setItemGraphicEl(D,k),p.add(k),OK(k,w,z)}}).update(function(D,P){var B,H,Y,z=v.getItemGraphicEl(P);if(g.hasValue(D)){var k=iB(g,D),E=tB(g,D,k,w),F=kK(g,E);z&&F!==z.__pictorialShapeStr&&(p.remove(z),g.setItemGraphicEl(D,null),z=null),z?(H=w,Ti((B=z).__pictorialBundle,{x:(Y=E).bundlePosition[0],y:Y.bundlePosition[1]},Y.animationModel,Y.dataIndex),Y.symbolRepeat?PK(B,H,Y,!0):gA(B,0,Y,!0),gg(B,Y,!0),nB(B,H,Y,!0)):z=AK(g,w,E,!0),g.setItemGraphicEl(D,z),z.__pictorialSymbolMeta=E,p.add(z),OK(z,w,E)}else p.remove(z)}).remove(function(D){var P=v.getItemGraphicEl(D);P&&zK(v,D,P.__pictorialSymbolMeta.animationModel,P)}).execute(),this._data=g,this.group},s.prototype.remove=function(a,u){var d=this.group,p=this._data;a.get("animation")?p&&p.eachItemGraphicEl(function(g){zK(p,Pn(g).dataIndex,a,g)}):d.removeAll()},s.type="pictorialBar",s}(dr);function tB(c,s,a,u){var z,k,F,H,Y,U,j,q,Q,re,oe,ae,he,d=c.getItemLayout(s),p=a.get("symbolRepeat"),g=a.get("symbolClip"),v=a.get("symbolPosition")||"start",y=(a.get("symbolRotate")||0)*Math.PI/180||0,x=a.get("symbolPatternSize")||2,C=a.isAnimationEnabled(),w={dataIndex:s,layout:d,itemModel:a,symbolType:c.getItemVisual(s,"symbol")||"circle",style:c.getItemVisual(s,"style"),symbolClip:g,symbolRepeat:p,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:x,rotation:y,animationModel:C?a:null,hoverScale:C&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};(function(z,k,E,F,B){var H,Y=F.valueDim,U=z.get("symbolBoundingData"),j=F.coordSys.getOtherAxis(F.coordSys.getBaseAxis()),q=j.toGlobalCoord(j.dataToCoord(0)),Q=1-+(E[Y.wh]<=0);if(at(U)){var re=[pA(j,U[0])-q,pA(j,U[1])-q];re[1]<re[0]&&re.reverse(),H=re[Q]}else H=null!=U?pA(j,U)-q:k?F.coordSysExtent[Y.index][Q]-q:E[Y.wh];B.boundingLength=H,k&&(B.repeatCutLength=E[Y.wh]),B.pxSign=H>0?1:H<0?-1:0})(a,p,d,u,w),z=c,k=s,F=p,H=w.boundingLength,Y=w.pxSign,U=x,q=w,re=(j=u).valueDim,oe=j.categoryDim,ae=Math.abs(d[oe.wh]),(Q=at(he=z.getItemVisual(k,"symbolSize"))?he.slice():null==he?["100%","100%"]:[he,he])[oe.index]=At(Q[oe.index],ae),Q[re.index]=At(Q[re.index],F?ae:Math.abs(H)),q.symbolSize=Q,(q.symbolScale=[Q[0]/U,Q[1]/U])[re.index]*=(j.isHorizontal?-1:1)*Y,function(z,k,E,F,B){var H=z.get(TK)||0;H&&(fA.attr({scaleX:k[0],scaleY:k[1],rotation:E}),fA.updateTransform(),H/=fA.getLineScale(),H*=k[F.valueDim.index]),B.valueLineWidth=H}(a,w.symbolScale,y,u,w);var D=w.symbolSize,P=L0(a.get("symbolOffset"),D);return function(z,k,E,F,B,H,Y,U,j,q,Q,re){var oe=Q.categoryDim,ae=Q.valueDim,he=re.pxSign,me=Math.max(k[ae.index]+U,0),_e=me;if(F){var be=Math.abs(j),we=sa(z.get("symbolMargin"),"15%")+"",Te=!1;we.lastIndexOf("!")===we.length-1&&(Te=!0,we=we.slice(0,we.length-1));var Me=At(we,k[ae.index]),Ae=Math.max(me+2*Me,0),Ie=Te?0:2*Me,Ue=or(F),qe=Ue?F:EK((be+Ie)/Ae);Ae=me+2*(Me=(be-qe*me)/2/(Te?qe:Math.max(qe-1,1))),Ie=Te?0:2*Me,Ue||"fixed"===F||(qe=q?EK((Math.abs(q)+Ie)/Ae):0),_e=qe*Ae-Ie,re.repeatTimes=qe,re.symbolMargin=Me}var ft=he*(_e/2),$e=re.pathPosition=[];$e[oe.index]=E[oe.wh]/2,$e[ae.index]="start"===Y?ft:"end"===Y?j-ft:j/2,H&&($e[0]+=H[0],$e[1]+=H[1]);var ot=re.bundlePosition=[];ot[oe.index]=E[oe.xy],ot[ae.index]=E[ae.xy];var bt=re.barRectShape=it({},E);bt[ae.wh]=he*Math.max(Math.abs(E[ae.wh]),Math.abs($e[ae.index]+ft)),bt[oe.wh]=E[oe.wh];var gt=re.clipShape={};gt[oe.xy]=-E[oe.xy],gt[oe.wh]=Q.ecSize[oe.wh],gt[ae.xy]=0,gt[ae.wh]=E[ae.wh]}(a,D,d,p,0,P,v,w.valueLineWidth,w.boundingLength,w.repeatCutLength,u,w),w}function pA(c,s){return c.toGlobalCoord(c.dataToCoord(c.scale.parse(s)))}function DK(c){var s=c.symbolPatternSize,a=da(c.symbolType,-s/2,-s/2,s,s);return a.attr({culling:!0}),"image"!==a.type&&a.setStyle({strokeNoScale:!0}),a}function PK(c,s,a,u){var d=c.__pictorialBundle,v=a.pathPosition,y=s.valueDim,x=a.repeatTimes||0,C=0,w=a.symbolSize[s.valueDim.index]+a.valueLineWidth+2*a.symbolMargin;for(vA(c,function(k){k.__pictorialAnimationIndex=C,k.__pictorialRepeatTimes=x,C<x?M8(k,null,z(C),a,u):M8(k,null,{scaleX:0,scaleY:0},a,u,function(){d.remove(k)}),C++});C<x;C++){var D=DK(a);D.__pictorialAnimationIndex=C,D.__pictorialRepeatTimes=x,d.add(D);var P=z(C);M8(D,{x:P.x,y:P.y,scaleX:0,scaleY:0},{scaleX:P.scaleX,scaleY:P.scaleY,rotation:P.rotation},a,u)}function z(k){var E=v.slice(),F=a.pxSign,B=k;return("start"===a.symbolRepeatDirection?F>0:F<0)&&(B=x-1-k),E[y.index]=w*(B-x/2+.5)+v[y.index],{x:E[0],y:E[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function gA(c,s,a,u){var d=c.__pictorialBundle,p=c.__pictorialMainPath;p?M8(p,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,u):(p=c.__pictorialMainPath=DK(a),d.add(p),M8(p,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,u))}function gg(c,s,a){var u=it({},s.barRectShape),d=c.__pictorialBarRect;d?M8(d,null,{shape:u},s,a):((d=c.__pictorialBarRect=new gi({z2:2,shape:u,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,c.add(d))}function nB(c,s,a,u){if(a.symbolClip){var d=c.__pictorialClipPath,p=it({},a.clipShape),g=s.valueDim,v=a.animationModel,y=a.dataIndex;if(d)Ti(d,{shape:p},v,y);else{p[g.wh]=0,d=new gi({shape:p}),c.__pictorialBundle.setClipPath(d),c.__pictorialClipPath=d;var x={};x[g.wh]=a.clipShape[g.wh],Rc[u?"updateProps":"initProps"](d,{shape:x},v,y)}}}function iB(c,s){var a=c.getItemModel(s);return a.getAnimationDelayParams=mA,a.isAnimationEnabled=rB,a}function mA(c){return{index:c.__pictorialAnimationIndex,count:c.__pictorialRepeatTimes}}function rB(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function AK(c,s,a,u){var d=new Xt,p=new Xt;return d.add(p),d.__pictorialBundle=p,p.x=a.bundlePosition[0],p.y=a.bundlePosition[1],a.symbolRepeat?PK(d,s,a):gA(d,0,a),gg(d,a,u),nB(d,s,a,u),d.__pictorialShapeStr=kK(c,a),d.__pictorialSymbolMeta=a,d}function zK(c,s,a,u){var d=u.__pictorialBarRect;d&&d.removeTextContent();var p=[];vA(u,function(g){p.push(g)}),u.__pictorialMainPath&&p.push(u.__pictorialMainPath),u.__pictorialClipPath&&(a=null),fe(p,function(g){Ch(g,{scaleX:0,scaleY:0},a,s,function(){u.parent&&u.parent.remove(u)})}),c.setItemGraphicEl(s,null)}function kK(c,s){return[c.getItemVisual(s.dataIndex,"symbol")||"none",!!s.symbolRepeat,!!s.symbolClip].join(":")}function vA(c,s,a){fe(c.__pictorialBundle.children(),function(u){u!==c.__pictorialBarRect&&s.call(a,u)})}function M8(c,s,a,u,d,p){s&&c.attr(s),u.symbolClip&&!d?a&&c.attr(a):a&&Rc[d?"updateProps":"initProps"](c,a,u.animationModel,u.dataIndex,p)}function OK(c,s,a){var u=a.dataIndex,d=a.itemModel,p=d.getModel("emphasis"),g=p.getModel("itemStyle").getItemStyle(),v=d.getModel(["blur","itemStyle"]).getItemStyle(),y=d.getModel(["select","itemStyle"]).getItemStyle(),x=d.getShallow("cursor"),C=p.get("focus"),w=p.get("blurScope"),D=p.get("scale");vA(c,function(z){if(z instanceof Qo){var k=z.style;z.useStyle(it({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},a.style))}else z.useStyle(a.style);var E=z.ensureState("emphasis");E.style=g,D&&(E.scaleX=1.1*z.scaleX,E.scaleY=1.1*z.scaleY),z.ensureState("blur").style=v,z.ensureState("select").style=y,x&&(z.cursor=x),z.z2=a.z2});var P=s.valueDim.posDesc[+(a.boundingLength>0)];Vl(c.__pictorialBarRect,Hs(d),{labelFetcher:s.seriesModel,labelDataIndex:u,defaultText:zf(s.seriesModel.getData(),u),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:P}),eo(c,C,w)}function EK(c){var s=Math.round(c);return Math.abs(c-s)<1e-4?s:Math.ceil(c)}var yue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.hasSymbolVisual=!0,a.defaultSymbol="roundRect",a}return Ee(s,c),s.prototype.getInitialData=function(a){return a.stack=null,c.prototype.getInitialData.apply(this,arguments)},s.type="series.pictorialBar",s.dependencies=["grid"],s.defaultOption=$p(Jy.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),s}(Jy),xue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._layers=[],a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=a.getData(),g=this,v=this.group,y=a.getLayerSeries(),x=p.getLayout("layoutInfo"),C=x.rect,w=x.boundaryGap;function D(E){return E.name}v.x=0,v.y=C.y+w[0];var P=new Y1(this._layersSeries||[],y,D,D),z=[];function k(E,F,B){var Ae,Ie,Ue,qe,H=g._layers;if("remove"!==E){for(var Y,U,j=[],q=[],Q=y[F].indices,re=0;re<Q.length;re++){var oe=p.getItemLayout(Q[re]),ae=oe.x,he=oe.y0,me=oe.y;j.push(ae,he),q.push(ae,he+me),Y=p.getItemVisual(Q[re],"style")}var _e=p.getItemLayout(Q[0]),be=a.getModel("label").get("margin"),we=a.getModel("emphasis");if("add"===E){var Te=z[F]=new Xt;U=new lC({shape:{points:j,stackedOnPoints:q,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Te.add(U),v.add(Te),a.isAnimationEnabled()&&U.setClipPath((Ae=U.getBoundingRect(),Ie=a,Ue=function(){U.removeClipPath()},to(qe=new gi({shape:{x:Ae.x-10,y:Ae.y-10,width:0,height:Ae.height+20}}),{shape:{x:Ae.x-50,width:Ae.width+100,height:Ae.height+20}},Ie,Ue),qe))}else U=(Te=H[B]).childAt(0),v.add(Te),z[F]=Te,Ti(U,{shape:{points:j,stackedOnPoints:q}},a),ld(U);Vl(U,Hs(a),{labelDataIndex:Q[re-1],defaultText:p.getName(Q[re-1]),inheritColor:Y.fill},{normal:{verticalAlign:"middle"}}),U.setTextConfig({position:null,local:!0});var Me=U.getTextContent();Me&&(Me.x=_e.x-be,Me.y=_e.y0+_e.y/2),U.useStyle(Y),p.setItemGraphicEl(F,U),ys(U,a),eo(U,we.get("focus"),we.get("blurScope"))}else v.remove(H[F])}P.add(rt(k,this,"add")).update(rt(k,this,"update")).remove(rt(k,this,"remove")).execute(),this._layersSeries=y,this._layers=z},s.type="themeRiver",s}(dr),IK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a){c.prototype.init.apply(this,arguments),this.legendVisualProvider=new mC(rt(this.getData,this),rt(this.getRawData,this))},s.prototype.fixData=function(a){var u=a.length,d={},p=NT(a,function(D){return d.hasOwnProperty(D[0]+"")||(d[D[0]+""]=-1),D[2]}),g=[];p.buckets.each(function(D,P){g.push({name:P,dataList:D})});for(var v=g.length,y=0;y<v;++y){for(var x=g[y].name,C=0;C<g[y].dataList.length;++C)d[w=g[y].dataList[C][0]+""]=y;for(var w in d)d.hasOwnProperty(w)&&d[w]!==y&&(d[w]=y,a[u]=[w,0,x],u++)}return a},s.prototype.getInitialData=function(a,u){for(var d=this.getReferringComponents("singleAxis",Na).models[0].get("type"),p=Ri(a.data,function(P){return void 0!==P[2]}),g=this.fixData(p||[]),v=[],y=this.nameMap=qt(),x=0,C=0;C<g.length;++C)v.push(g[C][2]),y.get(g[C][2])||(y.set(g[C][2],x),x++);var w=D_(g,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:nD(d)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,D=new ts(w,this);return D.initData(g),D},s.prototype.getLayerSeries=function(){for(var a=this.getData(),u=a.count(),d=[],p=0;p<u;++p)d[p]=p;var g=a.mapDimension("single"),v=NT(d,function(x){return a.get("name",x)}),y=[];return v.buckets.each(function(x,C){x.sort(function(w,D){return a.get(g,w)-a.get(g,D)}),y.push({name:C,indices:x})}),y},s.prototype.getAxisTooltipData=function(a,u,d){at(a)||(a=a?[a]:[]);for(var p,g=this.getData(),v=this.getLayerSeries(),y=[],x=v.length,C=0;C<x;++C){for(var w=Number.MAX_VALUE,D=-1,P=v[C].indices.length,z=0;z<P;++z){var k=g.get(a[0],v[C].indices[z]),E=Math.abs(k-u);E<=w&&(p=k,w=E,D=v[C].indices[z])}y.push(D)}return{dataIndices:y,nestestValue:p}},s.prototype.formatTooltip=function(a,u,d){var p=this.getData();return bs("nameValue",{name:p.getName(a),value:p.get(p.mapDimension("value"),a)})},s.type="series.themeRiver",s.dependencies=["singleAxis"],s.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},s}(Fr);function bue(c,s){c.eachSeriesByType("themeRiver",function(a){var u=a.getData(),d=a.coordinateSystem,p={},g=d.getRect();p.rect=g;var v=a.get("boundaryGap"),y=d.getAxis();p.boundaryGap=v,"horizontal"===y.orient?(v[0]=At(v[0],g.height),v[1]=At(v[1],g.height),LK(u,a,g.height-v[0]-v[1])):(v[0]=At(v[0],g.width),v[1]=At(v[1],g.width),LK(u,a,g.width-v[0]-v[1])),u.setLayout("layoutInfo",p)})}function LK(c,s,a){if(c.count())for(var u,d=s.coordinateSystem,p=s.getLayerSeries(),g=c.mapDimension("single"),v=c.mapDimension("value"),y=tt(p,function(E){return tt(E.indices,function(F){var B=d.dataToPoint(c.get(g,F));return B[1]=c.get(v,F),B})}),x=function(E){for(var F=E.length,B=E[0].length,H=[],Y=[],U=0,j=0;j<B;++j){for(var q=0,Q=0;Q<F;++Q)q+=E[Q][j][1];q>U&&(U=q),H.push(q)}for(var re=0;re<B;++re)Y[re]=(U-H[re])/2;U=0;for(var oe=0;oe<B;++oe){var ae=H[oe]+Y[oe];ae>U&&(U=ae)}return{y0:Y,max:U}}(y),C=x.y0,w=a/x.max,D=p.length,P=p[0].indices.length,z=0;z<P;++z){c.setItemLayout(p[0].indices[z],{layerIndex:0,x:y[0][z][0],y0:u=C[z]*w,y:y[0][z][1]*w});for(var k=1;k<D;++k)c.setItemLayout(p[k].indices[z],{layerIndex:k,x:y[k][z][0],y0:u+=y[k-1][z][1]*w,y:y[k][z][1]*w})}}var RK=function(c){function s(a,u,d,p){var g=c.call(this)||this;g.z2=2,g.textConfig={inside:!0},Pn(g).seriesIndex=u.seriesIndex;var v=new Ni({z2:4,silent:a.getModel().get(["label","silent"])});return g.setTextContent(v),g.updateData(!0,a,u,d,p),g}return Ee(s,c),s.prototype.updateData=function(a,u,d,p,g){this.node=u,u.piece=this,d=d||this._seriesModel,p=p||this._ecModel;var v=this;Pn(v).dataIndex=u.dataIndex;var y=u.getModel(),x=y.getModel("emphasis"),C=u.getLayout(),w=it({},C);w.label=null;var D=u.getVisual("style");D.lineJoin="bevel";var P=u.getVisual("decal");P&&(D.decal=He(P,g));var z=r8(y.getModel("itemStyle"),w,!0);it(w,z),fe(Fs,function(F){var B=v.ensureState(F),H=y.getModel([F,"itemStyle"]);B.style=H.getItemStyle();var Y=r8(H,w);Y&&(B.shape=Y)}),a?(v.setShape(w),v.shape.r=C.r0,Ti(v,{shape:{r:C.r}},d,u.dataIndex)):(Ti(v,{shape:w},d),ld(v)),v.useStyle(D),this._updateLabel(d);var k=y.getShallow("cursor");k&&v.attr("cursor",k),this._seriesModel=d||this._seriesModel,this._ecModel=p||this._ecModel;var E=x.get("focus");eo(this,"ancestor"===E?u.getAncestorsIndices():"descendant"===E?u.getDescendantIndices():E,x.get("blurScope"))},s.prototype._updateLabel=function(a){var u=this,d=this.node.getModel(),p=d.getModel("label"),g=this.node.getLayout(),v=g.endAngle-g.startAngle,y=(g.startAngle+g.endAngle)/2,x=Math.cos(y),C=Math.sin(y),w=this,D=w.getTextContent(),P=this.node.dataIndex,z=p.get("minAngle")/180*Math.PI,k=p.get("show")&&!(null!=z&&Math.abs(v)<z);function E(F,B){return F.get(B)??p.get(B)}D.ignore=!k,fe(gf,function(F){var B=d.getModel("normal"===F?"label":[F,"label"]),H="normal"===F,Y=H?D:D.ensureState(F),U=a.getFormattedLabel(P,F);H&&(U=U||u.node.name),Y.style=ha(B,{},null,"normal"!==F,!0),U&&(Y.style.text=U);var j=B.get("show");null==j||H||(Y.ignore=!j);var q,Q=E(B,"position"),re=H?w:w.states[F],oe=re.style.fill;re.textConfig={outsideFill:"inherit"===B.get("color")?oe:null,inside:"outside"!==Q};var ae=E(B,"distance")||0,he=E(B,"align");"outside"===Q?(q=g.r+ae,he=y>Math.PI/2?"right":"left"):he&&"center"!==he?"left"===he?(q=g.r0+ae,y>Math.PI/2&&(he="right")):"right"===he&&(q=g.r-ae,y>Math.PI/2&&(he="left")):(q=(g.r+g.r0)/2,he="center"),Y.style.align=he,Y.style.verticalAlign=E(B,"verticalAlign")||"middle",Y.x=q*x+g.cx,Y.y=q*C+g.cy;var me=E(B,"rotate"),_e=0;"radial"===me?(_e=-y)<-Math.PI/2&&(_e+=Math.PI):"tangential"===me?(_e=Math.PI/2-y)>Math.PI/2?_e-=Math.PI:_e<-Math.PI/2&&(_e+=Math.PI):"number"==typeof me&&(_e=me*Math.PI/180),Y.rotation=_e}),D.dirtyStyle()},s}(hl),oB="sunburstRootToNode",NK="sunburstHighlight",Cue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d,p){var g=this;this.seriesModel=a,this.api=d,this.ecModel=u;var z,k,v=a.getData(),y=v.tree.root,x=a.getViewRoot(),C=this.group,w=a.get("renderLabelForZeroData"),D=[];x.eachNode(function(z){D.push(z)}),function(z,k){function E(B){return B.getId()}function F(B,H){!function(Y,U){if(w||!Y||Y.getValue()||(Y=null),Y!==y&&U!==y)if(U&&U.piece)Y?(U.piece.updateData(!1,Y,a,u,d),v.setItemGraphicEl(Y.dataIndex,U.piece)):(q=U)&&q.piece&&(C.remove(q.piece),q.piece=null);else if(Y){var j=new RK(Y,a,u,d);C.add(j),v.setItemGraphicEl(Y.dataIndex,j)}var q}(null==B?null:z[B],null==H?null:k[H])}0===z.length&&0===k.length||new Y1(k,z,E,E).add(F).update(F).remove(Je(F,null)).execute()}(D,this._oldChildren||[]),z=y,(k=x).depth>0?(g.virtualPiece?g.virtualPiece.updateData(!1,z,a,u,d):(g.virtualPiece=new RK(z,a,u,d),C.add(g.virtualPiece)),k.piece.off("click"),g.virtualPiece.on("click",function(E){g._rootToNode(k.parentNode)})):g.virtualPiece&&(C.remove(g.virtualPiece),g.virtualPiece=null),this._initEvents(),this._oldChildren=D},s.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(u){var d=!1;a.seriesModel.getViewRoot().eachNode(function(p){if(!d&&p.piece&&p.piece===u.target){var g=p.getModel().get("nodeClick");if("rootToNode"===g)a._rootToNode(p);else if("link"===g){var v=p.getModel(),y=v.get("link");y&&J5(y,v.get("target",!0)||"_blank")}d=!0}})})},s.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:oB,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},s.prototype.containPoint=function(a,u){var d=u.getData().getItemLayout(0);if(d){var p=a[0]-d.cx,g=a[1]-d.cy,v=Math.sqrt(p*p+g*g);return v<=d.r&&v>=d.r0}},s.type="sunburst",s}(dr),D8=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.ignoreStyleOnData=!0,a}return Ee(s,c),s.prototype.getInitialData=function(a,u){var d={name:a.name,children:a.data};aB(d);var p=this._levelModels=tt(a.levels||[],function(v){return new tr(v,this,u)},this),g=oo.createTree(d,this,function(v){v.wrapMethod("getItemModel",function(y,x){var C=g.getNodeByDataIndex(x),w=p[C.depth];return w&&(y.parentModel=w),y})});return g.data},s.prototype.optionUpdated=function(){this.resetViewRoot()},s.prototype.getDataParams=function(a){var u=c.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a);return u.treePathInfo=_P(d,this),u},s.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},s.prototype.getViewRoot=function(){return this._viewRoot},s.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var u=this.getRawData().tree.root;a&&(a===u||u.contains(a))||(this._viewRoot=u)},s.prototype.enableAriaDecal=function(){CZ(this)},s.type="series.sunburst",s.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},s}(Fr);function aB(c){var s=0;fe(c.children,function(u){aB(u);var d=u.value;at(d)&&(d=d[0]),s+=d});var a=c.value;at(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=s),a<0&&(a=0),at(c.value)?c.value[0]=a:c.value=a}var _A=Math.PI/180;function wue(c,s,a){s.eachSeriesByType(c,function(u){var d=u.get("center"),p=u.get("radius");at(p)||(p=[0,p]),at(d)||(d=[d,d]);var g=a.getWidth(),v=a.getHeight(),y=Math.min(g,v),x=At(d[0],g),C=At(d[1],v),w=At(p[0],y/2),D=At(p[1],y/2),P=-u.get("startAngle")*_A,z=u.get("minAngle")*_A,k=u.getData().tree.root,E=u.getViewRoot(),F=E.depth,B=u.get("sort");null!=B&&Cn(E,B);var H=0;fe(E.children,function(we){!isNaN(we.getValue())&&H++});var Y=E.getValue(),U=Math.PI/(Y||H)*2,j=E.depth>0,Q=(D-w)/(E.height-(j?-1:1)||1),re=u.get("clockwise"),oe=u.get("stillShowZeroSum"),ae=re?1:-1,he=function(we,Te){if(we){var Me=Te;if(we!==k){var Ae=we.getValue(),Ie=0===Y&&oe?U:Ae*U;Ie<z&&(Ie=z),Me=Te+ae*Ie;var Ue=we.depth-F-(j?-1:1),qe=w+Q*Ue,ft=w+Q*(Ue+1),$e=u.getLevelModel(we);if($e){var ot=$e.get("r0",!0),bt=$e.get("r",!0),gt=$e.get("radius",!0);null!=gt&&(ot=gt[0],bt=gt[1]),null!=ot&&(qe=At(ot,y/2)),null!=bt&&(ft=At(bt,y/2))}we.setLayout({angle:Ie,startAngle:Te,endAngle:Me,clockwise:re,cx:x,cy:C,r0:qe,r:ft})}if(we.children&&we.children.length){var vt=0;fe(we.children,function(kt){vt+=he(kt,Te+vt)})}return Me-Te}};if(j){var be=2*Math.PI;k.setLayout({angle:be,startAngle:P,endAngle:P+be,clockwise:re,cx:x,cy:C,r0:w,r:w+Q})}he(E,P)})}function Cn(c,s){var a=c.children||[];c.children=function(u,d){if("function"==typeof d){var p=tt(u,function(v,y){var x=v.getValue();return{params:{depth:v.depth,height:v.height,dataIndex:v.dataIndex,getValue:function(){return x}},index:y}});return p.sort(function(v,y){return d(v.params,y.params)}),tt(p,function(v){return u[v.index]})}var g="asc"===d;return u.sort(function(v,y){var x=(v.getValue()-y.getValue())*(g?1:-1);return 0===x?(v.dataIndex-y.dataIndex)*(g?-1:1):x})}(a,s),a.length&&fe(c.children,function(u){Cn(u,s)})}function wn(c){var s={};c.eachSeriesByType("sunburst",function(a){var u=a.getData(),d=u.tree;d.eachNode(function(p){var g=p.getModel().getModel("itemStyle").getItemStyle();g.fill||(g.fill=function(v,y,x){for(var C=v;C&&C.depth>1;)C=C.parentNode;var w=y.getColorFromPalette(C.name||C.dataIndex+"",s);return v.depth>1&&"string"==typeof w&&(w=C2(w,(v.depth-1)/(x-1)*.5)),w}(p,a,d.root.height)),it(u.ensureUniqueItemVisual(p.dataIndex,"style"),g)})})}var sB={color:"fill",borderColor:"stroke"},FK={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},yd=Zi(),BK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},s.prototype.getInitialData=function(a,u){return Uc(null,this)},s.prototype.getDataParams=function(a,u,d){var p=c.prototype.getDataParams.call(this,a,u);return d&&(p.info=yd(d).info),p},s.type="series.custom",s.dependencies=["grid","polar","geo","singleAxis","calendar"],s.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},s}(Fr);function lB(c,s){return s=s||[0,0],tt(["x","y"],function(a,u){var d=this.getAxis(a),p=s[u],g=c[u]/2;return"category"===d.type?d.getBandWidth():Math.abs(d.dataToCoord(p-g)-d.dataToCoord(p+g))},this)}function VK(c,s){return s=s||[0,0],tt([0,1],function(a){var u=s[a],d=c[a]/2,p=[],g=[];return p[a]=u-d,g[a]=u+d,p[1-a]=g[1-a]=s[1-a],Math.abs(this.dataToPoint(p)[a]-this.dataToPoint(g)[a])},this)}function HK(c,s){var a=this.getAxis(),u=s instanceof Array?s[0]:s,d=(c instanceof Array?c[0]:c)/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(u-d)-a.dataToCoord(u+d))}function YK(c,s){return s=s||[0,0],tt(["Radius","Angle"],function(a,u){var d=this["get"+a+"Axis"](),p=s[u],g=c[u]/2,v="category"===d.type?d.getBandWidth():Math.abs(d.dataToCoord(p-g)-d.dataToCoord(p+g));return"Angle"===a&&(v=v*Math.PI/180),v},this)}function r7(c,s,a,u){return c&&(c.legacy||!1!==c.legacy&&!a&&!u&&"tspan"!==s&&("text"===s||Nt(c,"text")))}function yA(c,s,a){var u,d,p,g=c;if("text"===s)p=g;else{p={},Nt(g,"text")&&(p.text=g.text),Nt(g,"rich")&&(p.rich=g.rich),Nt(g,"textFill")&&(p.fill=g.textFill),Nt(g,"textStroke")&&(p.stroke=g.textStroke),Nt(g,"fontFamily")&&(p.fontFamily=g.fontFamily),Nt(g,"fontSize")&&(p.fontSize=g.fontSize),Nt(g,"fontStyle")&&(p.fontStyle=g.fontStyle),Nt(g,"fontWeight")&&(p.fontWeight=g.fontWeight),d={type:"text",style:p,silent:!0},u={};var v=Nt(g,"textPosition");a?u.position=v?g.textPosition:"inside":v&&(u.position=g.textPosition),Nt(g,"textPosition")&&(u.position=g.textPosition),Nt(g,"textOffset")&&(u.offset=g.textOffset),Nt(g,"textRotation")&&(u.rotation=g.textRotation),Nt(g,"textDistance")&&(u.distance=g.textDistance)}return Go(p,c),fe(p.rich,function(y){Go(y,y)}),{textConfig:u,textContent:d}}function Go(c,s){s&&(s.font=s.textFont||s.font,Nt(s,"textStrokeWidth")&&(c.lineWidth=s.textStrokeWidth),Nt(s,"textAlign")&&(c.align=s.textAlign),Nt(s,"textVerticalAlign")&&(c.verticalAlign=s.textVerticalAlign),Nt(s,"textLineHeight")&&(c.lineHeight=s.textLineHeight),Nt(s,"textWidth")&&(c.width=s.textWidth),Nt(s,"textHeight")&&(c.height=s.textHeight),Nt(s,"textBackgroundColor")&&(c.backgroundColor=s.textBackgroundColor),Nt(s,"textPadding")&&(c.padding=s.textPadding),Nt(s,"textBorderColor")&&(c.borderColor=s.textBorderColor),Nt(s,"textBorderWidth")&&(c.borderWidth=s.textBorderWidth),Nt(s,"textBorderRadius")&&(c.borderRadius=s.textBorderRadius),Nt(s,"textBoxShadowColor")&&(c.shadowColor=s.textBoxShadowColor),Nt(s,"textBoxShadowBlur")&&(c.shadowBlur=s.textBoxShadowBlur),Nt(s,"textBoxShadowOffsetX")&&(c.shadowOffsetX=s.textBoxShadowOffsetX),Nt(s,"textBoxShadowOffsetY")&&(c.shadowOffsetY=s.textBoxShadowOffsetY))}function cB(c,s,a){var u=c;u.textPosition=u.textPosition||a.position||"inside",null!=a.offset&&(u.textOffset=a.offset),null!=a.rotation&&(u.textRotation=a.rotation),null!=a.distance&&(u.textDistance=a.distance);var d=u.textPosition.indexOf("inside")>=0,p=c.fill||"#000";xA(u,s);var g=null==u.textFill;return d?g&&(u.textFill=a.insideFill||"#fff",!u.textStroke&&a.insideStroke&&(u.textStroke=a.insideStroke),!u.textStroke&&(u.textStroke=p),null==u.textStrokeWidth&&(u.textStrokeWidth=2)):(g&&(u.textFill=c.fill||a.outsideFill||"#000"),!u.textStroke&&a.outsideStroke&&(u.textStroke=a.outsideStroke)),u.text=s.text,u.rich=s.rich,fe(s.rich,function(v){xA(v,v)}),u}function xA(c,s){s&&(Nt(s,"fill")&&(c.textFill=s.fill),Nt(s,"stroke")&&(c.textStroke=s.fill),Nt(s,"lineWidth")&&(c.textStrokeWidth=s.lineWidth),Nt(s,"font")&&(c.font=s.font),Nt(s,"fontStyle")&&(c.fontStyle=s.fontStyle),Nt(s,"fontWeight")&&(c.fontWeight=s.fontWeight),Nt(s,"fontSize")&&(c.fontSize=s.fontSize),Nt(s,"fontFamily")&&(c.fontFamily=s.fontFamily),Nt(s,"align")&&(c.textAlign=s.align),Nt(s,"verticalAlign")&&(c.textVerticalAlign=s.verticalAlign),Nt(s,"lineHeight")&&(c.textLineHeight=s.lineHeight),Nt(s,"width")&&(c.textWidth=s.width),Nt(s,"height")&&(c.textHeight=s.height),Nt(s,"backgroundColor")&&(c.textBackgroundColor=s.backgroundColor),Nt(s,"padding")&&(c.textPadding=s.padding),Nt(s,"borderColor")&&(c.textBorderColor=s.borderColor),Nt(s,"borderWidth")&&(c.textBorderWidth=s.borderWidth),Nt(s,"borderRadius")&&(c.textBorderRadius=s.borderRadius),Nt(s,"shadowColor")&&(c.textBoxShadowColor=s.shadowColor),Nt(s,"shadowBlur")&&(c.textBoxShadowBlur=s.shadowBlur),Nt(s,"shadowOffsetX")&&(c.textBoxShadowOffsetX=s.shadowOffsetX),Nt(s,"shadowOffsetY")&&(c.textBoxShadowOffsetY=s.shadowOffsetY),Nt(s,"textShadowColor")&&(c.textShadowColor=s.textShadowColor),Nt(s,"textShadowBlur")&&(c.textShadowBlur=s.textShadowBlur),Nt(s,"textShadowOffsetX")&&(c.textShadowOffsetX=s.textShadowOffsetX),Nt(s,"textShadowOffsetY")&&(c.textShadowOffsetY=s.textShadowOffsetY))}var UK={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function sv(c,s,a){var u=c[a],d=UK[a];u&&(s[d[0]]=u[0],s[d[1]]=u[1])}function nm(c,s,a){null!=c[a]&&(s[a]=c[a])}function lv(c,s,a){a&&(c[s]=a[s])}function o7(c,s,a,u,d){var p=a[c];if(p){var g,v=s[c],y=p.enterFrom;if(d&&y){!g&&(g=u[c]={});for(var x=Gt(y),C=0;C<x.length;C++)g[B=x[C]]=y[B]}if(!d&&v)if(p.transition){!g&&(g=u[c]={});var w=Sr(p.transition);for(C=0;C<w.length;C++){var D=v[B=w[C]];g[B]=D}}else if(Gn(a.transition,c)>=0){!g&&(g=u[c]={});var P=Gt(v);for(C=0;C<P.length;C++)D=v[B=P[C]],so(p[B],D)&&(g[B]=D)}var z=p.leaveTo;if(z){var k=So(s),E=k[c]||(k[c]={}),F=Gt(z);for(C=0;C<F.length;C++){var B;E[B=F[C]]=z[B]}}}}function a7(c,s,a){var u=s[c];if(u)for(var d=a[c]={},p=Gt(u),g=0;g<p.length;g++){var v=p[g];d[v]=vs(u[v])}}function so(c,s){return Dn(c)?c!==s:null!=c&&isFinite(c)}function So(c){var s=yd(c);return s.leaveToProps||(s.leaveToProps={})}Gt({x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1}).join(", ");var kr="emphasis",xd="normal",s7="blur",bA="select",Tc=[xd,kr,s7,bA],Rf={normal:["itemStyle"],emphasis:[kr,"itemStyle"],blur:[s7,"itemStyle"],select:[bA,"itemStyle"]},Io={normal:["label"],emphasis:[kr,"label"],blur:[s7,"label"],select:[bA,"label"]},ea={normal:{},emphasis:{},blur:{},select:{}},GK={cartesian2d:function(c){var s=c.master.getRect();return{coordSys:{type:"cartesian2d",x:s.x,y:s.y,width:s.width,height:s.height},api:{coord:function(a){return c.dataToPoint(a)},size:rt(lB,c)}}},geo:function(c){var s=c.getBoundingRect();return{coordSys:{type:"geo",x:s.x,y:s.y,width:s.width,height:s.height,zoom:c.getZoom()},api:{coord:function(a){return c.dataToPoint(a)},size:rt(VK,c)}}},singleAxis:function(c){var s=c.getRect();return{coordSys:{type:"singleAxis",x:s.x,y:s.y,width:s.width,height:s.height},api:{coord:function(a){return c.dataToPoint(a)},size:rt(HK,c)}}},polar:function(c){var s=c.getRadiusAxis(),a=c.getAngleAxis(),u=s.getExtent();return u[0]>u[1]&&u.reverse(),{coordSys:{type:"polar",cx:c.cx,cy:c.cy,r:u[1],r0:u[0]},api:{coord:function(d){var p=s.dataToRadius(d[0]),g=a.dataToAngle(d[1]),v=c.coordToPoint([p,g]);return v.push(p,g*Math.PI/180),v},size:rt(YK,c)}}},calendar:function(c){var s=c.getRect(),a=c.getRangeInfo();return{coordSys:{type:"calendar",x:s.x,y:s.y,width:s.width,height:s.height,cellWidth:c.getCellWidth(),cellHeight:c.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(u,d){return c.dataToPoint(u,d)}}}}};function e4(c){return c instanceof pi}function P8(c){return c instanceof id}var uB=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d,p){var g=this._data,v=a.getData(),y=this.group,x=dB(a,v,u,d);g||y.removeAll(),v.diff(g).add(function(w){Oh(d,null,w,x(w,p),a,y,v)}).remove(function(w){u7(g.getItemGraphicEl(w),a,y)}).update(function(w,D){var P=g.getItemGraphicEl(D);Oh(d,P,w,x(w,p),a,y,v)}).execute();var C=a.get("clip",!0)?FD(a.coordinateSystem,!1,a):null;C?y.setClipPath(C):y.removeClipPath(),this._data=v},s.prototype.incrementalPrepareRender=function(a,u,d){this.group.removeAll(),this._data=null},s.prototype.incrementalRender=function(a,u,d,p,g){var v=u.getData(),y=dB(u,v,d,p);function x(D){D.isGroup||(D.incremental=!0,D.ensureState("emphasis").hoverLayer=!0)}for(var C=a.start;C<a.end;C++){var w=Oh(null,null,C,y(C,g),u,this.group,v);w&&w.traverse(x)}},s.prototype.filterForExposedEvent=function(a,u,d,p){var g=u.element;if(null==g||d.name===g)return!0;for(;(d=d.__hostTarget||d.parent)&&d!==this.group;)if(d.name===g)return!0;return!1},s.type="custom",s}(dr);function l7(c){var s,a=c.type;if("path"===a){var u=c.shape,d=null!=u.width&&null!=u.height?{x:u.x||0,y:u.y||0,width:u.width,height:u.height}:null,p=TA(u);s=Z3(p,null,d,u.layout||"center"),yd(s).customPathData=p}else if("image"===a)s=new Qo({}),yd(s).customImagePath=c.style.image;else if("text"===a)s=new Ni({});else if("group"===a)s=new Xt;else{if("compoundPath"===a)throw new Error('"compoundPath" is not supported yet.');var g=Y5(a);g||Ui(""),s=new g}return yd(s).customGraphicType=a,s.name=c.name,s.z2EmphasisLift=1,s.z2SelectLift=1,s}function mg(c,s,a,u,d,p,g,v){var y=d&&d.normal.cfg;y&&s.setTextConfig(y);var x=u&&u.style;if(x){if("text"===s.type){var C=x;Nt(C,"textFill")&&(C.fill=C.textFill),Nt(C,"textStroke")&&(C.stroke=C.textStroke)}var w=void 0,D=e4(s)?x.decal:null;c&&D&&(D.dirty=!0,w=He(D,c)),x.__decalPattern=w}yd(s).userDuring=u.during;var E,F,P={},z={};o7("shape",s,u,P,g),a7("shape",u,z),function(k,E,F,B){var H=E.enterFrom;if(B&&H)for(var Y=Gt(H),U=0;U<Y.length;U++)F[ae=Y[U]]=H[ae];if(!B)if(E.transition){var j=Sr(E.transition);for(U=0;U<j.length;U++)"style"!==(ae=j[U])&&"shape"!==ae&&"extra"!==ae&&(F[ae]=k[ae])}else lv(F,"x",k),lv(F,"y",k);var Q=E.leaveTo;if(Q){var re=So(k),oe=Gt(Q);for(U=0;U<oe.length;U++){var ae;re[ae=oe[U]]=Q[ae]}}}(s,u,P,g),sv(E=u,F=z,"position"),sv(E,F,"scale"),sv(E,F,"origin"),nm(E,F,"x"),nm(E,F,"y"),nm(E,F,"scaleX"),nm(E,F,"scaleY"),nm(E,F,"originX"),nm(E,F,"originY"),nm(E,F,"rotation"),o7("extra",s,u,P,g),a7("extra",u,z),function(k,E,F,B,H){if(F){var Y,U=k.style,j=F.enterFrom;if(H&&j){var q=Gt(j);!Y&&(Y=B.style={});for(var Q=0;Q<q.length;Q++)Y[Me=q[Q]]=j[Me]}if(!H&&U)if(F.transition){var re=Sr(F.transition);for(!Y&&(Y=B.style={}),Q=0;Q<re.length;Q++){var oe=U[Me=re[Q]];Y[Me]=oe}}else if(k.getAnimationStyleProps&&Gn(E.transition,"style")>=0){var ae=k.getAnimationStyleProps(),he=ae?ae.style:null;if(he){!Y&&(Y=B.style={});var me=Gt(F);for(Q=0;Q<me.length;Q++)he[Me=me[Q]]&&(Y[Me]=oe=U[Me])}}var _e=F.leaveTo;if(_e){var be=Gt(_e),we=So(k),Te=we.style||(we.style={});for(Q=0;Q<be.length;Q++){var Me;Te[Me=be[Q]]=_e[Me]}}}}(s,u,x,P,g),z.style=x,function(k,E){var F=k.isGroup?null:k,B=E.style;if(F&&B){F.useStyle(B);var H=B.__decalPattern;H&&(F.style.decal=H);for(var Y=F.animators,U=0;U<Y.length;U++){var j=Y[U];"style"===j.targetName&&j.changeTarget(F.style)}}E&&(E.style=null,E&&k.attr(E),E.style=B)}(s,z),function(k,E,F,B,H){if(B){var Y=yd(k).userDuring,U={dataIndex:E,isFrom:!0,during:Y?rt(A8,{el:k,userDuring:Y}):null};H?to(k,B,F,U):Ti(k,B,F,U)}}(s,a,p,P,g),function(k,E,F){Nt(E,"silent")&&(k.silent=E.silent),Nt(E,"ignore")&&(k.ignore=E.ignore),P8(k)&&Nt(E,"invisible")&&(k.invisible=E.invisible),e4(k)&&Nt(E,"autoBatch")&&(k.autoBatch=E.autoBatch),F||Nt(E,"info")&&(yd(k).info=E.info)}(s,u,v),x?s.dirty():s.markRedraw()}var Ua={},Ei={setTransform:function(c,s){return Ua.el[c]=s,this},getTransform:function(c){return Ua.el[c]},setShape:function(c,s){return(Ua.el.shape||(Ua.el.shape={}))[c]=s,Ua.isShapeDirty=!0,this},getShape:function(c){var s=Ua.el.shape;if(s)return s[c]},setStyle:function(c,s){var a=Ua.el.style;return a&&(a[c]=s,Ua.isStyleDirty=!0),this},getStyle:function(c){var s=Ua.el.style;if(s)return s[c]},setExtra:function(c,s){return(Ua.el.extra||(Ua.el.extra={}))[c]=s,this},getExtra:function(c){var s=Ua.el.extra;if(s)return s[c]}};function A8(){var c=this,s=c.el;if(s){var a=yd(s).userDuring,u=c.userDuring;a===u?(Ua.el=s,Ua.isShapeDirty=!1,Ua.isStyleDirty=!1,u(Ei),Ua.isShapeDirty&&s.dirtyShape&&s.dirtyShape(),Ua.isStyleDirty&&s.dirtyStyle&&s.dirtyStyle()):c.el=c.userDuring=null}}function hB(c,s,a,u,d,p,g){var v=s.isGroup?null:s,y=d&&d[c].cfg;if(v){var x=v.ensureState(c);if(!1===u){var C=v.getState(c);C&&(C.style=null)}else x.style=u||null;y&&(x.textConfig=y),vf(v)}}function t4(c,s,a){var u=a===xd,d=u?s:SA(s,a),p=d?d.z2:null;null!=p&&((u?c:c.ensureState(a)).z2=p||0)}function dB(c,s,a,u){var d=c.get("renderItem"),p=c.coordinateSystem,g={};p&&(g=p.prepareCustoms?p.prepareCustoms(p):GK[p.type](p));for(var v,y,x=jt({getWidth:u.getWidth,getHeight:u.getHeight,getZr:u.getZr,getDevicePixelRatio:u.getDevicePixelRatio,value:function(j,q){return null==q&&(q=v),s.getStore().get(s.getDimensionIndex(j||0),q)},style:function(j,q){null==q&&(q=v);var Q=s.getItemVisual(q,"style"),re=Q&&Q.fill,oe=Q&&Q.opacity,ae=B(q,xd).getItemStyle();null!=re&&(ae.fill=re),null!=oe&&(ae.opacity=oe);var he={inheritColor:ui(re)?re:"#000"},me=H(q,xd),_e=ha(me,null,he,!1,!0);_e.text=me.getShallow("show")?xi(c.getFormattedLabel(q,xd),zf(s,q)):null;var be=ey(me,he,!1);return U(j,ae),ae=cB(ae,_e,be),j&&Y(ae,j),ae.legacy=!0,ae},ordinalRawValue:function(j,q){null==q&&(q=v);var Q=s.getDimensionInfo(j=j||0);if(!Q){var re=s.getDimensionIndex(j);return re>=0?s.getStore().get(re,q):void 0}var oe=s.get(Q.name,q),ae=Q&&Q.ordinalMeta;return ae?ae.categories[oe]:oe},styleEmphasis:function(j,q){null==q&&(q=v);var Q=B(q,kr).getItemStyle(),re=H(q,kr),oe=ha(re,null,null,!0,!0);oe.text=re.getShallow("show")?sc(c.getFormattedLabel(q,kr),c.getFormattedLabel(q,xd),zf(s,q)):null;var ae=ey(re,null,!0);return U(j,Q),Q=cB(Q,oe,ae),j&&Y(Q,j),Q.legacy=!0,Q},visual:function(j,q){if(null==q&&(q=v),Nt(sB,j)){var Q=s.getItemVisual(q,"style");return Q?Q[sB[j]]:null}if(Nt(FK,j))return s.getItemVisual(q,j)},barLayout:function(j){if("cartesian2d"===p.type)return function(q){var Q=[],re=q.axis;if("category"===re.type){for(var ae=re.getBandWidth(),he=0;he<q.count;he++)Q.push(jt({bandWidth:ae,axisKey:"axis0",stackId:SR+he},q));var me=k_(Q),_e=[];for(he=0;he<q.count;he++){var be=me.axis0[SR+he];be.offsetCenter=be.offset+be.width/2,_e.push(be)}return _e}}(jt({axis:p.getBaseAxis()},j))},currentSeriesIndices:function(){return a.getCurrentSeriesIndices()},font:function(j){return ty(j,a)}},g.api||{}),C={context:{},seriesId:c.id,seriesName:c.name,seriesIndex:c.seriesIndex,coordSys:g.coordSys,dataInsideLength:s.count(),encode:WK(c.getData())},w={},D={},P={},z={},k=0;k<Tc.length;k++){var E=Tc[k];P[E]=c.getModel(Rf[E]),z[E]=c.getModel(Io[E])}function F(j){return j===v?y||(y=s.getItemModel(j)):s.getItemModel(j)}function B(j,q){return s.hasItemOption?j===v?w[q]||(w[q]=F(j).getModel(Rf[q])):F(j).getModel(Rf[q]):P[q]}function H(j,q){return s.hasItemOption?j===v?D[q]||(D[q]=F(j).getModel(Io[q])):F(j).getModel(Io[q]):z[q]}return function(j,q){return v=j,y=null,w={},D={},d&&d(jt({dataIndexInside:j,dataIndex:s.getRawIndex(j),actionType:q?q.type:null},C),x)};function Y(j,q){for(var Q in q)Nt(q,Q)&&(j[Q]=q[Q])}function U(j,q){j&&(j.textFill&&(q.textFill=j.textFill),j.textPosition&&(q.textPosition=j.textPosition))}}function WK(c){var s={};return fe(c.dimensions,function(a){var u=c.getDimensionInfo(a);if(!u.isExtraCoord){var d=u.coordDim;(s[d]=s[d]||[])[u.coordDimIndex]=c.getDimensionIndex(a)}}),s}function Oh(c,s,a,u,d,p,g){if(u){var v=c7(c,s,a,u,d,p);return v&&g.setItemGraphicEl(a,v),v&&eo(v,u.focus,u.blurScope),v}p.remove(s)}function c7(c,s,a,u,d,p,g){var v=-1,y=s;s&&CA(s,u,d)&&(v=Gn(p.childrenRef(),s),s=null);var x,C,w=!s,D=s;D?D.clearStates():(D=l7(u),y&&((C=D).copyTransform(x=y),P8(C)&&P8(x)&&(C.setStyle(x.style),C.z=x.z,C.z2=x.z2,C.zlevel=x.zlevel,C.invisible=x.invisible,C.ignore=x.ignore,e4(C)&&e4(x)&&C.setShape(x.shape)))),!1===u.morph?D.disableMorphing=!0:D.disableMorphing&&(D.disableMorphing=!1),ea.normal.cfg=ea.normal.conOpt=ea.emphasis.cfg=ea.emphasis.conOpt=ea.blur.cfg=ea.blur.conOpt=ea.select.cfg=ea.select.conOpt=null,ea.isLegacy=!1,function(E,F,B,H,Y,U){if(!E.isGroup){wA(B,null,U),wA(B,kr,U);var j=U.normal.conOpt;if(null!=j||null!=U.emphasis.conOpt||null!=U.select.conOpt||null!=U.blur.conOpt){var oe=E.getTextContent();if(!1===j)oe&&E.removeTextContent();else{j=U.normal.conOpt=j||{type:"text"},oe?oe.clearStates():(oe=l7(j),E.setTextContent(oe)),mg(null,oe,F,j,null,H,Y,!0);for(var ae=j&&j.style,he=0;he<Tc.length;he++){var me=Tc[he];me!==xd&&hB(me,oe,0,Ts(j,U[me].conOpt,me),null)}ae?oe.dirty():oe.markRedraw()}}}}(D,a,u,d,w,ea),function(E,F,B,H,Y){var U=B.clipPath;if(!1===U)E&&E.getClipPath()&&E.removeClipPath();else if(U){var j=E.getClipPath();j&&CA(j,U,H)&&(j=null),j||(j=l7(U),E.setClipPath(j)),mg(null,j,F,U,null,H,Y,!1)}}(D,a,u,d,w),mg(c,D,a,u,ea,d,w,!1);for(var P=0;P<Tc.length;P++){var z=Tc[P];z!==xd&&hB(z,D,0,Ts(u,SA(u,z),z),ea)}return function(E,F,B){if(!E.isGroup){var H=E,U=B.currentZLevel;H.z=B.currentZ,H.zlevel=U;var j=F.z2;null!=j&&(H.z2=j||0);for(var q=0;q<Tc.length;q++)t4(H,F,Tc[q])}}(D,u,d),"group"===u.type&&function(E,F,B,H,Y){var U=H.children,j=U?U.length:0,q=H.$mergeChildren,Q="byName"===q||H.diffChildrenByName,re=!1===q;if(j||Q||re){if(Q)return oe={api:E,oldChildren:F.children()||[],newChildren:U||[],dataIndex:B,seriesModel:Y,group:F},void new Y1(oe.oldChildren,oe.newChildren,vg,vg,oe).add(z8).update(z8).remove(jK).execute();var oe;re&&F.removeAll();for(var ae=0;ae<j;ae++)U[ae]&&c7(E,F.childAt(ae),B,U[ae],Y,F);for(var he=F.childCount()-1;he>=ae;he--)u7(F.childAt(he),Y,F)}}(c,D,a,u,d),v>=0?p.replaceAt(D,v):p.add(D),D}function CA(c,s,a){var u,d=yd(c),p=s.type,g=s.shape,v=s.style;return a.isUniversalTransitionEnabled()||null!=p&&p!==d.customGraphicType||"path"===p&&(u=g)&&(Nt(u,"pathData")||Nt(u,"d"))&&TA(g)!==d.customPathData||"image"===p&&Nt(v,"image")&&v.image!==d.customImagePath}function wA(c,s,a){var u=s?SA(c,s):c,d=s?Ts(c,u,kr):c.style,p=c.type,g=u?u.textConfig:null,v=c.textContent,y=v?s?SA(v,s):v:null;if(d&&(a.isLegacy||r7(d,p,!!g,!!y))){a.isLegacy=!0;var x=yA(d,p,!s);!g&&x.textConfig&&(g=x.textConfig),!y&&x.textContent&&(y=x.textContent)}!s&&y&&!y.type&&(y.type="text");var w=s?a[s]:a.normal;w.cfg=g,w.conOpt=y}function SA(c,s){return s?c?c[s]:null:c}function Ts(c,s,a){var u=s&&s.style;return null==u&&a===kr&&c&&(u=c.styleEmphasis),u}function vg(c,s){return(c&&c.name)??"e\0\0"+s}function z8(c,s){var a=this.context;c7(a.api,null!=s?a.oldChildren[s]:null,a.dataIndex,null!=c?a.newChildren[c]:null,a.seriesModel,a.group)}function jK(c){var s=this.context;u7(s.oldChildren[c],s.seriesModel,s.group)}function u7(c,s,a){if(c){var u=yd(c).leaveToProps;u?Ti(c,u,s,{cb:function(){a.remove(c)}}):a.remove(c)}}function TA(c){return c&&(c.pathData||c.d)}var cv=Zi(),MA=nn,DA=rt,h7=function(){function c(){this._dragging=!1,this.animationThreshold=15}return c.prototype.render=function(s,a,u,d){var p=a.get("value"),g=a.get("status");if(this._axisModel=s,this._axisPointerModel=a,this._api=u,d||this._lastValue!==p||this._lastStatus!==g){this._lastValue=p,this._lastStatus=g;var v=this._group,y=this._handle;if(!g||"hide"===g)return v&&v.hide(),void(y&&y.hide());v&&v.show(),y&&y.show();var x={};this.makeElOption(x,p,s,a,u);var C=x.graphicKey;C!==this._lastGraphicKey&&this.clear(u),this._lastGraphicKey=C;var w=this._moveAnimation=this.determineAnimation(s,a);if(v){var D=Je(PA,a,w);this.updatePointerEl(v,x,D),this.updateLabelEl(v,x,D,a)}else v=this._group=new Xt,this.createPointerEl(v,x,s,a),this.createLabelEl(v,x,s,a),u.getZr().add(v);n4(v,a,!0),this._renderHandle(p)}},c.prototype.remove=function(s){this.clear(s)},c.prototype.dispose=function(s){this.clear(s)},c.prototype.determineAnimation=function(s,a){var u=a.get("animation"),d=s.axis,p="category"===d.type,g=a.get("snap");if(!g&&!p)return!1;if("auto"===u||null==u){var v=this.animationThreshold;if(p&&d.getBandWidth()>v)return!0;if(g){var y=xC(s).seriesDataCount,x=d.getExtent();return Math.abs(x[0]-x[1])/y>v}return!1}return!0===u},c.prototype.makeElOption=function(s,a,u,d,p){},c.prototype.createPointerEl=function(s,a,u,d){var p=a.pointer;if(p){var g=cv(s).pointerEl=new Rc[p.type](MA(a.pointer));s.add(g)}},c.prototype.createLabelEl=function(s,a,u,d){if(a.label){var p=cv(s).labelEl=new Ni(MA(a.label));s.add(p),im(p,d)}},c.prototype.updatePointerEl=function(s,a,u){var d=cv(s).pointerEl;d&&a.pointer&&(d.setStyle(a.pointer.style),u(d,{shape:a.pointer.shape}))},c.prototype.updateLabelEl=function(s,a,u,d){var p=cv(s).labelEl;p&&(p.setStyle(a.label.style),u(p,{x:a.label.x,y:a.label.y}),im(p,d))},c.prototype._renderHandle=function(s){if(!this._dragging&&this.updateHandleTransform){var a,u=this._axisPointerModel,d=this._api.getZr(),p=this._handle,g=u.getModel("handle"),v=u.get("status");if(!g.get("show")||!v||"hide"===v)return p&&d.remove(p),void(this._handle=null);this._handle||(a=!0,p=this._handle=K2(g.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(x){el(x.event)},onmousedown:DA(this._onHandleDragMove,this,0,0),drift:DA(this._onHandleDragMove,this),ondragend:DA(this._onHandleDragEnd,this)}),d.add(p)),n4(p,u,!1),p.setStyle(g.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var y=g.get("size");at(y)||(y=[y,y]),p.scaleX=y[0]/2,p.scaleY=y[1]/2,eg(this,"_doDispatchAxisPointer",g.get("throttle")||0,"fixRate"),this._moveHandleToValue(s,a)}},c.prototype._moveHandleToValue=function(s,a){PA(this._axisPointerModel,!a&&this._moveAnimation,this._handle,$i(this.getHandleTransform(s,this._axisModel,this._axisPointerModel)))},c.prototype._onHandleDragMove=function(s,a){var u=this._handle;if(u){this._dragging=!0;var d=this.updateHandleTransform($i(u),[s,a],this._axisModel,this._axisPointerModel);this._payloadInfo=d,u.stopAnimation(),u.attr($i(d)),cv(u).lastProp=null,this._doDispatchAxisPointer()}},c.prototype._doDispatchAxisPointer=function(){if(this._handle){var s=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:s.cursorPoint[0],y:s.cursorPoint[1],tooltipOption:s.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},c.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var s=this._axisPointerModel.get("value");this._moveHandleToValue(s),this._api.dispatchAction({type:"hideTip"})}},c.prototype.clear=function(s){this._lastValue=null,this._lastStatus=null;var a=s.getZr(),u=this._group,d=this._handle;a&&u&&(this._lastGraphicKey=null,u&&a.remove(u),d&&a.remove(d),this._group=null,this._handle=null,this._payloadInfo=null)},c.prototype.doClear=function(){},c.prototype.buildLabel=function(s,a,u){return{x:s[u=u||0],y:s[1-u],width:a[u],height:a[1-u]}},c}();function PA(c,s,a,u){k8(cv(a).lastProp,u)||(cv(a).lastProp=u,s?Ti(a,u,c):(a.stopAnimation(),a.attr(u)))}function k8(c,s){if(rn(c)&&rn(s)){var a=!0;return fe(s,function(u,d){a=a&&k8(c[d],u)}),!!a}return c===s}function im(c,s){c[s.get(["label","show"])?"show":"hide"]()}function $i(c){return{x:c.x||0,y:c.y||0,rotation:c.rotation||0}}function n4(c,s,a){var u=s.get("z"),d=s.get("zlevel");c&&c.traverse(function(p){"group"!==p.type&&(null!=u&&(p.z=u),null!=d&&(p.zlevel=d),p.silent=a)})}function AA(c){var s,a=c.get("type"),u=c.getModel(a+"Style");return"line"===a?(s=u.getLineStyle()).fill=null:"shadow"===a&&((s=u.getAreaStyle()).stroke=null),s}function rm(c,s,a,u,d){var p=fB(a.get("value"),s.axis,s.ecModel,a.get("seriesDataIndices"),{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])}),g=a.getModel("label"),v=E1(g.get("padding")||0),y=g.getFont(),x=hh(p,y),C=d.position,w=x.width+v[1]+v[3],D=x.height+v[0]+v[2],P=d.align;"right"===P&&(C[0]-=w),"center"===P&&(C[0]-=w/2);var E,F,B,H,Y,U,z=d.verticalAlign;"bottom"===z&&(C[1]-=D),"middle"===z&&(C[1]-=D/2),E=C,F=w,B=D,Y=(H=u).getWidth(),U=H.getHeight(),E[0]=Math.min(E[0]+F,Y)-F,E[1]=Math.min(E[1]+B,U)-B,E[0]=Math.max(E[0],0),E[1]=Math.max(E[1],0);var k=g.get("backgroundColor");k&&"auto"!==k||(k=s.get(["axisLine","lineStyle","color"])),c.label={x:C[0],y:C[1],style:ha(g,{text:p,font:y,fill:g.getTextColor(),padding:v,backgroundColor:k}),z2:10}}function fB(c,s,a,u,d){c=s.scale.parse(c);var p=s.scale.getLabel({value:c},{precision:d.precision}),g=d.formatter;if(g){var v={value:mD(s,{value:c}),axisDimension:s.dim,axisIndex:s.index,seriesData:[]};fe(u,function(y){var x=a.getSeriesByIndex(y.seriesIndex),w=x&&x.getDataParams(y.dataIndexInside);w&&v.seriesData.push(w)}),ui(g)?p=g.replace("{value}",p):wi(g)&&(p=g(v))}return p}function uv(c,s,a){var u=[1,0,0,1,0,0];return kl(u,u,a.rotation),Ic(u,u,a.position),Tu([c.dataToCoord(s),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],u)}function d7(c,s,a,u,d,p){var g=Sc.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=d.get(["label","margin"]),rm(s,u,d,p,{position:uv(u.axis,c,a),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function zA(c,s,a){return{x1:c[a=a||0],y1:c[1-a],x2:s[a],y2:s[1-a]}}function O8(c,s,a){return{x:c[a=a||0],y:c[1-a],width:s[a],height:s[1-a]}}function r4(c,s,a,u,d,p){return{cx:c,cy:s,r0:a,r:u,startAngle:d,endAngle:p,clockwise:!0}}var pB=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.makeElOption=function(a,u,d,p,g){var v=d.axis,y=v.grid,x=p.get("type"),C=E8(y,v).getOtherAxis(v).getGlobalExtent(),w=v.toGlobalCoord(v.dataToCoord(u,!0));if(x&&"none"!==x){var D=AA(p),P=$K[x](v,w,C);P.style=D,a.graphicKey=P.type,a.pointer=P}d7(u,a,Ef(y.model,d),d,p,g)},s.prototype.getHandleTransform=function(a,u,d){var p=Ef(u.axis.grid.model,u,{labelInside:!1});p.labelMargin=d.get(["handle","margin"]);var g=uv(u.axis,a,p);return{x:g[0],y:g[1],rotation:p.rotation+(p.labelDirection<0?Math.PI:0)}},s.prototype.updateHandleTransform=function(a,u,d,p){var g=d.axis,v=g.grid,y=g.getGlobalExtent(!0),x=E8(v,g).getOtherAxis(g).getGlobalExtent(),C="x"===g.dim?0:1,w=[a.x,a.y];w[C]+=u[C],w[C]=Math.min(y[1],w[C]),w[C]=Math.max(y[0],w[C]);var D=(x[1]+x[0])/2,P=[D,D];return P[C]=w[C],{x:w[0],y:w[1],rotation:a.rotation,cursorPoint:P,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][C]}},s}(h7);function E8(c,s){var a={};return a[s.dim+"AxisIndex"]=s.index,c.getCartesian(a)}var $K={line:function(c,s,a){return{type:"Line",subPixelOptimize:!0,shape:zA([s,a[0]],[s,a[1]],f7(c))}},shadow:function(c,s,a){var u=Math.max(1,c.getBandWidth());return{type:"Rect",shape:O8([s-u/2,a[0]],[u,a[1]-a[0]],f7(c))}}};function f7(c){return"x"===c.dim?0:1}var p7=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="axisPointer",s.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},s}(di),Nf=Zi(),gB=fe;function mB(c,s,a){if(!Pt.node){var u=s.getZr();Nf(u).records||(Nf(u).records={}),function(d,p){function g(v,y){d.on(v,function(x){var w,D,P,C=(w=p,{dispatchAction:P=function(z){var k=D[z.type];k?k.push(z):(z.dispatchAction=P,w.dispatchAction(z))},pendings:D={showTip:[],hideTip:[]}});gB(Nf(d).records,function(w){w&&y(w,x,C.dispatchAction)}),function(w,D){var P,z=w.showTip.length,k=w.hideTip.length;z?P=w.showTip[z-1]:k&&(P=w.hideTip[k-1]),P&&(P.dispatchAction=null,D.dispatchAction(P))}(C.pendings,p)})}Nf(d).initialized||(Nf(d).initialized=!0,g("click",Je(vB,"click")),g("mousemove",Je(vB,"mousemove")),g("globalout",XK))}(u,s),(Nf(u).records[c]||(Nf(u).records[c]={})).handler=a}}function XK(c,s,a){c.handler("leave",null,a)}function vB(c,s,a,u){s.handler(c,a,u)}function o4(c,s){if(!Pt.node){var a=s.getZr();(Nf(a).records||{})[c]&&(Nf(a).records[c]=null)}}var qK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=u.getComponent("tooltip"),g=a.get("triggerOn")||p&&p.get("triggerOn")||"mousemove|click";mB("axisPointer",d,function(v,y,x){"none"!==g&&("leave"===v||g.indexOf(v)>=0)&&x({type:"updateAxisPointer",currTrigger:v,x:y&&y.offsetX,y:y&&y.offsetY})})},s.prototype.remove=function(a,u){o4("axisPointer",u)},s.prototype.dispose=function(a,u){o4("axisPointer",u)},s.type="axisPointer",s}($r);function _B(c,s){var a,u=[],d=c.seriesIndex;if(null==d||!(a=s.getSeriesByIndex(d)))return{point:[]};var p=a.getData(),g=tf(p,c);if(null==g||g<0||at(g))return{point:[]};var v=p.getItemGraphicEl(g),y=a.coordinateSystem;if(a.getTooltipPosition)u=a.getTooltipPosition(g)||[];else if(y&&y.dataToPoint)if(c.isStacked){var x=y.getBaseAxis(),C=y.getOtherAxis(x).dim,D="x"===C||"radius"===C?1:0,P=p.mapDimension(x.dim),z=[];z[D]=p.get(P,g),z[1-D]=p.get(p.getCalculationInfo("stackResultDimension"),g),u=y.dataToPoint(z)||[]}else u=y.dataToPoint(p.getValues(tt(y.dimensions,function(E){return p.mapDimension(E)}),g))||[];else if(v){var k=v.getBoundingRect().clone();k.applyTransform(v.transform),u=[k.x+k.width/2,k.y+k.height/2]}return{point:u,el:v}}var yB=Zi();function ZK(c,s,a){var F,B,Y,u=c.currTrigger,d=[c.x,c.y],p=c,g=c.dispatchAction||rt(a.dispatchAction,a),v=s.getComponent("axisPointer").coordSysAxesInfo;if(v){Ff(d)&&(d=_B({seriesIndex:p.seriesIndex,dataIndex:p.dataIndex},s).point);var y=Ff(d),x=p.axesInfo,C=v.axesInfo,w="leave"===u||Ff(d),D={},P={},z={list:[],map:{}},k={showPointer:Je(kA,P),showTooltip:Je(g7,z)};fe(v.coordSysMap,function(F,B){var H=y||F.containPoint(d);fe(v.coordSysAxesInfo[B],function(Y,U){var j=Y.axis,q=function(re,oe){for(var ae=0;ae<(re||[]).length;ae++){var he=re[ae];if(oe.axis.dim===he.axisDim&&oe.axis.model.componentIndex===he.axisIndex)return he}}(x,Y);if(!w&&H&&(!x||q)){var Q=q&&q.value;null!=Q||y||(Q=j.pointToData(d)),null!=Q&&xB(Y,Q,k,!1,D)}})});var E={};return fe(C,function(F,B){var H=F.linkGroup;H&&!P[B]&&fe(H.axesInfo,function(Y,U){var j=P[U];if(Y!==F&&j){var q=j.value;H.mapper&&(q=F.axis.scale.parse(H.mapper(q,bB(Y),bB(F)))),E[F.key]=q}})}),fe(E,function(F,B){xB(C[B],F,k,!0,D)}),F=P,B=C,Y=D.axesInfo=[],fe(B,function(U,j){var q=U.axisPointerModel.option,Q=F[j];Q?(!U.useHandle&&(q.status="show"),q.value=Q.value,q.seriesDataIndices=(Q.payloadBatch||[]).slice()):!U.useHandle&&(q.status="hide"),"show"===q.status&&Y.push({axisDim:U.axis.dim,axisIndex:U.axis.model.componentIndex,value:q.value})}),function(F,B,H,Y){if(!Ff(B)&&F.list.length){var U=((F.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};Y({type:"showTip",escapeConnect:!0,x:B[0],y:B[1],tooltipOption:H.tooltipOption,position:H.position,dataIndexInside:U.dataIndexInside,dataIndex:U.dataIndex,seriesIndex:U.seriesIndex,dataByCoordSys:F.list})}else Y({type:"hideTip"})}(z,d,c,g),function(F,B,H){var Y=H.getZr(),U="axisPointerLastHighlights",j=yB(Y)[U]||{},q=yB(Y)[U]={};fe(F,function(oe,ae){var he=oe.axisPointerModel.option;"show"===he.status&&fe(he.seriesDataIndices,function(me){q[me.seriesIndex+" | "+me.dataIndex]=me})});var Q=[],re=[];fe(j,function(oe,ae){!q[ae]&&re.push(oe)}),fe(q,function(oe,ae){!j[ae]&&Q.push(oe)}),re.length&&H.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:re}),Q.length&&H.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:Q})}(C,0,a),D}}function xB(c,s,a,u,d){var x,C,w,D,P,z,k,E,p=c.axis;if(!p.scale.isBlank()&&p.containData(s))if(c.involveSeries){var g=(D=(w=(C=c).axis).dim,P=x=s,z=[],k=Number.MAX_VALUE,E=-1,fe(C.seriesModels,function(F,B){var H,Y,U=F.getData().mapDimensionsAll(D);if(F.getAxisTooltipData){var j=F.getAxisTooltipData(U,x,w);Y=j.dataIndices,H=j.nestestValue}else{if(!(Y=F.getData().indicesOfNearest(U[0],x,"category"===w.type?.5:null)).length)return;H=F.getData().get(U[0],Y[0])}if(null!=H&&isFinite(H)){var q=x-H,Q=Math.abs(q);Q<=k&&((Q<k||q>=0&&E<0)&&(k=Q,E=q,P=H,z.length=0),fe(Y,function(re){z.push({seriesIndex:F.seriesIndex,dataIndexInside:re,dataIndex:F.getData().getRawIndex(re)})}))}}),{payloadBatch:z,snapToValue:P}),v=g.payloadBatch,y=g.snapToValue;v[0]&&null==d.seriesIndex&&it(d,v[0]),!u&&c.snap&&p.containData(y)&&null!=y&&(s=y),a.showPointer(c,s,v),a.showTooltip(c,g,y)}else a.showPointer(c,s)}function kA(c,s,a,u){c[s.key]={value:a,payloadBatch:u}}function g7(c,s,a,u){var d=a.payloadBatch,p=s.axis,g=p.model,v=s.axisPointerModel;if(s.triggerTooltip&&d.length){var y=s.coordSys.model,x=Y_(y),C=c.map[x];C||(C=c.map[x]={coordSysId:y.id,coordSysIndex:y.componentIndex,coordSysType:y.type,coordSysMainType:y.mainType,dataByAxis:[]},c.list.push(C)),C.dataByAxis.push({axisDim:p.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:u,valueLabelOpt:{precision:v.get(["label","precision"]),formatter:v.get(["label","formatter"])},seriesDataIndices:d.slice()})}}function bB(c){var s=c.axis.model,a={},u=a.axisDim=c.axis.dim;return a.axisIndex=a[u+"AxisIndex"]=s.componentIndex,a.axisName=a[u+"AxisName"]=s.name,a.axisId=a[u+"AxisId"]=s.id,a}function Ff(c){return!c||null==c[0]||isNaN(c[0])||null==c[1]||isNaN(c[1])}function hv(c){q1.registerAxisPointerClass("CartesianAxisPointer",pB),c.registerComponentModel(p7),c.registerComponentView(qK),c.registerPreprocessor(function(s){if(s){(!s.axisPointer||0===s.axisPointer.length)&&(s.axisPointer={});var a=s.axisPointer.link;a&&!at(a)&&(s.axisPointer.link=[a])}}),c.registerProcessor(c.PRIORITY.PROCESSOR.STATISTIC,function(s,a){s.getComponent("axisPointer").coordSysAxesInfo=function DN(c,s){var u,d,p,g,v,y,x,a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return u=a,p=s,g=(d=c).getComponent("tooltip"),v=d.getComponent("axisPointer"),y=v.get("link",!0)||[],x=[],fe(p.getCoordinateSystems(),function(C){if(C.axisPointerEnabled){var w=Y_(C.model),D=u.coordSysAxesInfo[w]={};u.coordSysMap[w]=C;var P=C.model.getModel("tooltip",g);if(fe(C.getAxes(),Je(F,!1,null)),C.getTooltipAxes&&g&&P.get("show")){var z="axis"===P.get("trigger"),k="cross"===P.get(["axisPointer","type"]),E=C.getTooltipAxes(P.get(["axisPointer","axis"]));(z||k)&&fe(E.baseAxes,Je(F,!k||"cross",z)),k&&fe(E.otherAxes,Je(F,"cross",!1))}}function F(B,H,Y){var U=Y.model.getModel("axisPointer",v),j=U.get("show");if(j&&("auto"!==j||B||bC(U))){null==H&&(H=U.get("triggerTooltip"));var q=(U=B?function(me,_e,be,we,Te,Me){var Ae=_e.getModel("axisPointer"),Ie={};fe(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function($e){Ie[$e]=nn(Ae.get($e))}),Ie.snap="category"!==me.type&&!!Me,"cross"===Ae.get("type")&&(Ie.type="line");var Ue=Ie.label||(Ie.label={});if(null==Ue.show&&(Ue.show=!1),"cross"===Te){var qe=Ae.get(["label","show"]);if(Ue.show=null==qe||qe,!Me){var ft=Ie.lineStyle=Ae.get("crossStyle");ft&&jt(Ue,ft.textStyle)}}return me.model.getModel("axisPointer",new tr(Ie,be,we))}(Y,P,v,d,B,H):U).get("snap"),Q=Y_(Y.model),re=H||q||"category"===Y.type,oe=u.axesInfo[Q]={key:Q,axis:Y,coordSys:C,axisPointerModel:U,triggerTooltip:H,involveSeries:re,snap:q,useHandle:bC(U),seriesModels:[],linkGroup:null};D[Q]=oe,u.seriesInvolved=u.seriesInvolved||re;var ae=function(me,_e){for(var be=_e.model,we=_e.dim,Te=0;Te<me.length;Te++){var Me=me[Te]||{};if(PN(Me[we+"AxisId"],be.id)||PN(Me[we+"AxisIndex"],be.componentIndex)||PN(Me[we+"AxisName"],be.name))return Te}}(y,Y);if(null!=ae){var he=x[ae]||(x[ae]={axesInfo:{}});he.axesInfo[Q]=oe,he.mapper=y[ae].mapper,oe.linkGroup=he}}}}),a.seriesInvolved&&function(u,d){d.eachSeries(function(p){var g=p.coordinateSystem,v=p.get(["tooltip","trigger"],!0),y=p.get(["tooltip","show"],!0);g&&"none"!==v&&!1!==v&&"item"!==v&&!1!==y&&!1!==p.get(["axisPointer","show"],!0)&&fe(u.coordSysAxesInfo[Y_(g.model)],function(x){var C=x.axis;g.getAxis(C.dim)===C&&(x.seriesModels.push(p),null==x.seriesDataCount&&(x.seriesDataCount=0),x.seriesDataCount+=p.getData().count())})})}(a,c),a}(s,a)}),c.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ZK)}var Sue=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.makeElOption=function(a,u,d,p,g){var v=d.axis;"angle"===v.dim&&(this.animationThreshold=Math.PI/18);var y=v.polar,x=y.getOtherAxis(v).getExtent(),C=v.dataToCoord(u),w=p.get("type");if(w&&"none"!==w){var D=AA(p),P=KK[w](v,y,C,x);P.style=D,a.graphicKey=P.type,a.pointer=P}var z=function(k,E,F,B,H){var Y=E.axis,U=Y.dataToCoord(k),j=B.getAngleAxis().getExtent()[0];j=j/180*Math.PI;var q,Q,re,oe=B.getRadiusAxis().getExtent();if("radius"===Y.dim){var ae=[1,0,0,1,0,0];kl(ae,ae,j),Ic(ae,ae,[B.cx,B.cy]),q=Tu([U,-H],ae);var he=E.getModel("axisLabel").get("rotate")||0,me=Sc.innerTextLayout(j,he*Math.PI/180,-1);Q=me.textAlign,re=me.textVerticalAlign}else{var _e=oe[1];q=B.coordToPoint([_e+H,U]);var be=B.cx,we=B.cy;Q=Math.abs(q[0]-be)/_e<.3?"center":q[0]>be?"left":"right",re=Math.abs(q[1]-we)/_e<.3?"middle":q[1]>we?"top":"bottom"}return{position:q,align:Q,verticalAlign:re}}(u,d,0,y,p.get(["label","margin"]));rm(a,d,p,g,z)},s}(h7),KK={line:function(c,s,a,u){return"angle"===c.dim?{type:"Line",shape:zA(s.coordToPoint([u[0],a]),s.coordToPoint([u[1],a]))}:{type:"Circle",shape:{cx:s.cx,cy:s.cy,r:a}}},shadow:function(c,s,a,u){var d=Math.max(1,c.getBandWidth()),p=Math.PI/180;return"angle"===c.dim?{type:"Sector",shape:r4(s.cx,s.cy,u[0],u[1],(-a-d/2)*p,(d/2-a)*p)}:{type:"Sector",shape:r4(s.cx,s.cy,a-d/2,a+d/2,0,2*Math.PI)}}},QK=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.findAxisModel=function(a){var u;return this.ecModel.eachComponent(a,function(d){d.getCoordSysModel()===this&&(u=d)},this),u},s.type="polar",s.dependencies=["radiusAxis","angleAxis"],s.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},s}(di),OA=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Na).models[0]},s.type="polarAxis",s}(di);Gr(OA,I_);var I8=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="angleAxis",s}(OA),L8=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="radiusAxis",s}(OA),om=function(c){function s(a,u){return c.call(this,"radius",a,u)||this}return Ee(s,c),s.prototype.pointToData=function(a,u){return this.polar.pointToData(a,u)["radius"===this.dim?0:1]},s}(Iu);om.prototype.dataToRadius=Iu.prototype.dataToCoord,om.prototype.radiusToData=Iu.prototype.coordToData;var CB=Zi(),m7=function(c){function s(a,u){return c.call(this,"angle",a,u||[0,360])||this}return Ee(s,c),s.prototype.pointToData=function(a,u){return this.polar.pointToData(a,u)["radius"===this.dim?0:1]},s.prototype.calculateCategoryInterval=function(){var a=this,u=a.getLabelModel(),d=a.scale,p=d.getExtent(),g=d.count();if(p[1]-p[0]<1)return 0;var v=p[0],y=a.dataToCoord(v+1)-a.dataToCoord(v),x=Math.abs(y),C=hh(null==v?"":v+"",u.getFont(),"center","top"),w=Math.max(C.height,7)/x;isNaN(w)&&(w=1/0);var D=Math.max(0,Math.floor(w)),P=CB(a.model),z=P.lastAutoInterval,k=P.lastTickCount;return null!=z&&null!=k&&Math.abs(z-D)<=1&&Math.abs(k-g)<=1&&z>D?D=z:(P.lastTickCount=g,P.lastAutoInterval=D),D},s}(Iu);m7.prototype.dataToAngle=Iu.prototype.dataToCoord,m7.prototype.angleToData=Iu.prototype.coordToData;var EA=["radius","angle"],a4=function(){function c(s){this.dimensions=EA,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new om,this._angleAxis=new m7,this.axisPointerEnabled=!0,this.name=s||"",this._radiusAxis.polar=this._angleAxis.polar=this}return c.prototype.containPoint=function(s){var a=this.pointToCoord(s);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},c.prototype.containData=function(s){return this._radiusAxis.containData(s[0])&&this._angleAxis.containData(s[1])},c.prototype.getAxis=function(s){return this["_"+s+"Axis"]},c.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},c.prototype.getAxesByScale=function(s){var a=[],u=this._angleAxis,d=this._radiusAxis;return u.scale.type===s&&a.push(u),d.scale.type===s&&a.push(d),a},c.prototype.getAngleAxis=function(){return this._angleAxis},c.prototype.getRadiusAxis=function(){return this._radiusAxis},c.prototype.getOtherAxis=function(s){var a=this._angleAxis;return s===a?this._radiusAxis:a},c.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},c.prototype.getTooltipAxes=function(s){var a=null!=s&&"auto"!==s?this.getAxis(s):this.getBaseAxis();return{baseAxes:[a],otherAxes:[this.getOtherAxis(a)]}},c.prototype.dataToPoint=function(s,a){return this.coordToPoint([this._radiusAxis.dataToRadius(s[0],a),this._angleAxis.dataToAngle(s[1],a)])},c.prototype.pointToData=function(s,a){var u=this.pointToCoord(s);return[this._radiusAxis.radiusToData(u[0],a),this._angleAxis.angleToData(u[1],a)]},c.prototype.pointToCoord=function(s){var a=s[0]-this.cx,u=s[1]-this.cy,d=this.getAngleAxis(),p=d.getExtent(),g=Math.min(p[0],p[1]),v=Math.max(p[0],p[1]);d.inverse?g=v-360:v=g+360;var y=Math.sqrt(a*a+u*u);a/=y,u/=y;for(var x=Math.atan2(-u,a)/Math.PI*180,C=x<g?1:-1;x<g||x>v;)x+=360*C;return[y,x]},c.prototype.coordToPoint=function(s){var a=s[0],u=s[1]/180*Math.PI;return[Math.cos(u)*a+this.cx,-Math.sin(u)*a+this.cy]},c.prototype.getArea=function(){var s=this.getAngleAxis(),a=this.getRadiusAxis().getExtent().slice();a[0]>a[1]&&a.reverse();var u=s.getExtent(),d=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:a[0],r:a[1],startAngle:-u[0]*d,endAngle:-u[1]*d,clockwise:s.inverse,contain:function(p,g){var v=p-this.cx,y=g-this.cy,x=v*v+y*y,C=this.r,w=this.r0;return x<=C*C&&x>=w*w}}},c.prototype.convertToPixel=function(s,a,u){return wB(a)===this?this.dataToPoint(u):null},c.prototype.convertFromPixel=function(s,a,u){return wB(a)===this?this.pointToData(u):null},c}();function wB(c){var s=c.seriesModel,a=c.polarModel;return a&&a.coordinateSystem||s&&s.coordinateSystem}function JK(c,s){var a=this,u=a.getAngleAxis(),d=a.getRadiusAxis();if(u.scale.setExtent(1/0,-1/0),d.scale.setExtent(1/0,-1/0),c.eachSeries(function(v){if(v.coordinateSystem===a){var y=v.getData();fe($b(y,"radius"),function(x){d.scale.unionExtentFromData(y,x)}),fe($b(y,"angle"),function(x){u.scale.unionExtentFromData(y,x)})}}),U1(u.scale,u.model),U1(d.scale,d.model),"category"===u.type&&!u.onBand){var p=u.getExtent(),g=360/u.scale.count();u.inverse?p[1]+=g:p[1]-=g,u.setExtent(p[0],p[1])}}function IA(c,s){if(c.type=s.get("type"),c.scale=Vy(s),c.onBand=s.get("boundaryGap")&&"category"===c.type,c.inverse=s.get("inverse"),"angleAxis"===s.mainType){c.inverse=c.inverse!==s.get("clockwise");var a=s.get("startAngle");c.setExtent(a,a+(c.inverse?-360:360))}s.axis=c,c.model=s}var eQ={dimensions:EA,create:function(c,s){var a=[];return c.eachComponent("polar",function(u,d){var p=new a4(d+"");p.update=JK;var g=p.getRadiusAxis(),v=p.getAngleAxis(),y=u.findAxisModel("radiusAxis"),x=u.findAxisModel("angleAxis");IA(g,y),IA(v,x),function(C,w,D){var P=w.get("center"),z=D.getWidth(),k=D.getHeight();C.cx=At(P[0],z),C.cy=At(P[1],k);var E=C.getRadiusAxis(),F=Math.min(z,k)/2,B=w.get("radius");null==B?B=[0,"100%"]:at(B)||(B=[0,B]);var H=[At(B[0],F),At(B[1],F)];E.inverse?E.setExtent(H[1],H[0]):E.setExtent(H[0],H[1])}(p,u,s),a.push(p),u.coordinateSystem=p,p.model=u}),c.eachSeries(function(u){if("polar"===u.get("coordinateSystem")){var d=u.getReferringComponents("polar",Na).models[0];u.coordinateSystem=d.coordinateSystem}}),a}},LA=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function _g(c,s,a){s[1]>s[0]&&(s=s.slice().reverse());var u=c.coordToPoint([s[0],a]),d=c.coordToPoint([s[1],a]);return{x1:u[0],y1:u[1],x2:d[0],y2:d[1]}}function v7(c){return c.getRadiusAxis().inverse?0:1}function _7(c){var s=c[0],a=c[c.length-1];s&&a&&Math.abs(Math.abs(s.coord-a.coord)-360)<1e-4&&c.pop()}var tQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.axisPointerClass="PolarAxisPointer",a}return Ee(s,c),s.prototype.render=function(a,u){if(this.group.removeAll(),a.get("show")){var d=a.axis,p=d.polar,g=p.getRadiusAxis().getExtent(),v=d.getTicksCoords(),y=d.getMinorTicksCoords(),x=tt(d.getViewLabels(),function(C){C=nn(C);var w=d.scale,D="ordinal"===w.type?w.getRawOrdinalNumber(C.tickValue):C.tickValue;return C.coord=d.dataToCoord(D),C});_7(x),_7(v),fe(LA,function(C){!a.get([C,"show"])||d.scale.isBlank()&&"axisLine"!==C||SB[C](this.group,a,p,v,y,g,x)},this)}},s.type="angleAxis",s}(q1),SB={axisLine:function(c,s,a,u,d,p){var g,v=s.getModel(["axisLine","lineStyle"]),y=v7(a),x=y?0:1;(g=0===p[x]?new bh({shape:{cx:a.cx,cy:a.cy,r:p[y]},style:v.getLineStyle(),z2:1,silent:!0}):new A1({shape:{cx:a.cx,cy:a.cy,r:p[y],r0:p[x]},style:v.getLineStyle(),z2:1,silent:!0})).style.fill=null,c.add(g)},axisTick:function(c,s,a,u,d,p){var g=s.getModel("axisTick"),v=(g.get("inside")?-1:1)*g.get("length"),y=p[v7(a)],x=tt(u,function(C){return new Fa({shape:_g(a,[y,y+v],C.coord)})});c.add(Cc(x,{style:jt(g.getModel("lineStyle").getLineStyle(),{stroke:s.get(["axisLine","lineStyle","color"])})}))},minorTick:function(c,s,a,u,d,p){if(d.length){for(var g=s.getModel("axisTick"),v=s.getModel("minorTick"),y=(g.get("inside")?-1:1)*v.get("length"),x=p[v7(a)],C=[],w=0;w<d.length;w++)for(var D=0;D<d[w].length;D++)C.push(new Fa({shape:_g(a,[x,x+y],d[w][D].coord)}));c.add(Cc(C,{style:jt(v.getModel("lineStyle").getLineStyle(),jt(g.getLineStyle(),{stroke:s.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(c,s,a,u,d,p,g){var v=s.getCategories(!0),y=s.getModel("axisLabel"),x=y.get("margin"),C=s.get("triggerEvent");fe(g,function(w,D){var P=y,z=w.tickValue,k=p[v7(a)],E=a.coordToPoint([k+x,w.coord]),F=a.cx,B=a.cy,H=Math.abs(E[0]-F)/k<.3?"center":E[0]>F?"left":"right",Y=Math.abs(E[1]-B)/k<.3?"middle":E[1]>B?"top":"bottom";if(v&&v[z]){var U=v[z];rn(U)&&U.textStyle&&(P=new tr(U.textStyle,y,y.ecModel))}var j=new Ni({silent:Sc.isLabelSilent(s),style:ha(P,{x:E[0],y:E[1],fill:P.getTextColor()||s.get(["axisLine","lineStyle","color"]),text:w.formattedLabel,align:H,verticalAlign:Y})});if(c.add(j),C){var q=Sc.makeAxisEventDataBase(s);q.targetType="axisLabel",q.value=w.rawLabel,Pn(j).eventData=q}},this)},splitLine:function(c,s,a,u,d,p){var g=s.getModel("splitLine").getModel("lineStyle"),v=g.get("color"),y=0;v=v instanceof Array?v:[v];for(var x=[],C=0;C<u.length;C++){var w=y++%v.length;x[w]=x[w]||[],x[w].push(new Fa({shape:_g(a,p,u[C].coord)}))}for(C=0;C<x.length;C++)c.add(Cc(x[C],{style:jt({stroke:v[C%v.length]},g.getLineStyle()),silent:!0,z:s.get("z")}))},minorSplitLine:function(c,s,a,u,d,p){if(d.length){for(var g=s.getModel("minorSplitLine").getModel("lineStyle"),v=[],y=0;y<d.length;y++)for(var x=0;x<d[y].length;x++)v.push(new Fa({shape:_g(a,p,d[y][x].coord)}));c.add(Cc(v,{style:g.getLineStyle(),silent:!0,z:s.get("z")}))}},splitArea:function(c,s,a,u,d,p){if(u.length){var g=s.getModel("splitArea").getModel("areaStyle"),v=g.get("color"),y=0;v=v instanceof Array?v:[v];for(var x=[],C=Math.PI/180,w=-u[0].coord*C,D=Math.min(p[0],p[1]),P=Math.max(p[0],p[1]),z=s.get("clockwise"),k=1,E=u.length;k<=E;k++){var F=k===E?u[0].coord:u[k].coord,B=y++%v.length;x[B]=x[B]||[],x[B].push(new hl({shape:{cx:a.cx,cy:a.cy,r0:D,r:P,startAngle:w,endAngle:-F*C,clockwise:z},silent:!0})),w=-F*C}for(k=0;k<x.length;k++)c.add(Cc(x[k],{style:jt({fill:v[k%v.length]},g.getAreaStyle()),silent:!0}))}}},TB=["axisLine","axisTickLabel","axisName"],R8=["splitLine","splitArea","minorSplitLine"],Bf=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.axisPointerClass="PolarAxisPointer",a}return Ee(s,c),s.prototype.render=function(a,u){if(this.group.removeAll(),a.get("show")){var d=this._axisGroup,p=this._axisGroup=new Xt;this.group.add(p);var g=a.axis,v=g.polar,y=v.getAngleAxis(),x=g.getTicksCoords(),C=g.getMinorTicksCoords(),w=y.getExtent()[0],D=g.getExtent(),P={position:[(k=v).cx,k.cy],rotation:w/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1},z=new Sc(a,P);fe(TB,z.add,z),p.add(z.getGroup()),Z2(d,p,a),fe(R8,function(k){a.get([k,"show"])&&!g.scale.isBlank()&&RA[k](this.group,a,v,w,D,x,C)},this)}var k},s.type="radiusAxis",s}(q1),RA={splitLine:function(c,s,a,u,d,p){var g=s.getModel("splitLine").getModel("lineStyle"),v=g.get("color"),y=0;v=v instanceof Array?v:[v];for(var x=[],C=0;C<p.length;C++){var w=y++%v.length;x[w]=x[w]||[],x[w].push(new bh({shape:{cx:a.cx,cy:a.cy,r:p[C].coord}}))}for(C=0;C<x.length;C++)c.add(Cc(x[C],{style:jt({stroke:v[C%v.length],fill:null},g.getLineStyle()),silent:!0}))},minorSplitLine:function(c,s,a,u,d,p,g){if(g.length){for(var v=s.getModel("minorSplitLine").getModel("lineStyle"),y=[],x=0;x<g.length;x++)for(var C=0;C<g[x].length;C++)y.push(new bh({shape:{cx:a.cx,cy:a.cy,r:g[x][C].coord}}));c.add(Cc(y,{style:jt({fill:null},v.getLineStyle()),silent:!0}))}},splitArea:function(c,s,a,u,d,p){if(p.length){var g=s.getModel("splitArea").getModel("areaStyle"),v=g.get("color"),y=0;v=v instanceof Array?v:[v];for(var x=[],C=p[0].coord,w=1;w<p.length;w++){var D=y++%v.length;x[D]=x[D]||[],x[D].push(new hl({shape:{cx:a.cx,cy:a.cy,r0:C,r:p[w].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),C=p[w].coord}for(w=0;w<x.length;w++)c.add(Cc(x[w],{style:jt({fill:v[w%v.length]},g.getAreaStyle()),silent:!0}))}}};function Vf(c){return c.get("stack")||"__ec_stack_"+c.seriesIndex}function N8(c,s){return s.dim+c.model.componentIndex}function MB(c,s,a){var u={},d=function(p){var g={};fe(p,function(y,x){var C=y.getData(),w=y.coordinateSystem,D=w.getBaseAxis(),P=N8(w,D),z=D.getExtent(),k="category"===D.type?D.getBandWidth():Math.abs(z[1]-z[0])/C.count(),E=g[P]||{bandWidth:k,remainedWidth:k,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},F=E.stacks;g[P]=E;var B=Vf(y);F[B]||E.autoWidthCount++,F[B]=F[B]||{width:0,maxWidth:0};var H=At(y.get("barWidth"),k),Y=At(y.get("barMaxWidth"),k),U=y.get("barGap"),j=y.get("barCategoryGap");H&&!F[B].width&&(H=Math.min(E.remainedWidth,H),F[B].width=H,E.remainedWidth-=H),Y&&(F[B].maxWidth=Y),null!=U&&(E.gap=U),null!=j&&(E.categoryGap=j)});var v={};return fe(g,function(y,x){v[x]={};var C=y.stacks,D=At(y.categoryGap,y.bandWidth),P=At(y.gap,1),z=y.remainedWidth,k=y.autoWidthCount,E=(z-D)/(k+(k-1)*P);E=Math.max(E,0),fe(C,function(Y,U){var j=Y.maxWidth;j&&j<E&&(j=Math.min(j,z),Y.width&&(j=Math.min(j,Y.width)),z-=j,Y.width=j,k--)}),E=(z-D)/(k+(k-1)*P),E=Math.max(E,0);var F,B=0;fe(C,function(Y,U){Y.width||(Y.width=E),F=Y,B+=Y.width*(1+P)}),F&&(B-=F.width*P);var H=-B/2;fe(C,function(Y,U){v[x][U]=v[x][U]||{offset:H,width:Y.width},H+=Y.width*(1+P)})}),v}(Ri(s.getSeriesByType(c),function(p){return!s.isSeriesFiltered(p)&&p.coordinateSystem&&"polar"===p.coordinateSystem.type}));s.eachSeriesByType(c,function(p){if("polar"===p.coordinateSystem.type){var g=p.getData(),v=p.coordinateSystem,y=v.getBaseAxis(),x=N8(v,y),C=Vf(p),w=d[x][C],D=w.offset,P=w.width,z=v.getOtherAxis(y),k=p.coordinateSystem.cx,E=p.coordinateSystem.cy,F=p.get("barMinHeight")||0,B=p.get("barMinAngle")||0;u[C]=u[C]||[];for(var H=g.mapDimension(z.dim),Y=g.mapDimension(y.dim),U=Pf(g,H),j="radius"!==y.dim||!p.get("roundCap",!0),q=z.dataToCoord(0),Q=0,re=g.count();Q<re;Q++){var oe=g.get(H,Q),ae=g.get(Y,Q),he=oe>=0?"p":"n",me=q;U&&(u[C][ae]||(u[C][ae]={p:q,n:q}),me=u[C][ae][he]);var _e=void 0,be=void 0,we=void 0,Te=void 0;if("radius"===z.dim){var Me=z.dataToCoord(oe)-q,Ae=y.dataToCoord(ae);Math.abs(Me)<F&&(Me=(Me<0?-1:1)*F),_e=me,be=me+Me,Te=(we=Ae-D)-P,U&&(u[C][ae][he]=be)}else{var Ie=z.dataToCoord(oe,j)-q,Ue=y.dataToCoord(ae);Math.abs(Ie)<B&&(Ie=(Ie<0?-1:1)*B),be=(_e=Ue+D)+P,we=me,Te=me+Ie,U&&(u[C][ae][he]=Te)}g.setItemLayout(Q,{cx:k,cy:E,r0:_e,r:be,startAngle:-we*Math.PI/180,endAngle:-Te*Math.PI/180,clockwise:we>=Te})}}})}var DB={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},nQ={splitNumber:5},iQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="polar",s}($r);function NA(c,s){s=s||{};var u=c.axis,d={},p=u.position,g=u.orient,v=c.coordinateSystem.getRect(),y=[v.x,v.x+v.width,v.y,v.y+v.height],x={horizontal:{top:y[2],bottom:y[3]},vertical:{left:y[0],right:y[1]}};d.position=["vertical"===g?x.vertical[p]:y[0],"horizontal"===g?x.horizontal[p]:y[3]],d.rotation=Math.PI/2*{horizontal:0,vertical:1}[g],d.labelDirection=d.tickDirection=d.nameDirection={top:-1,bottom:1,right:1,left:-1}[p],c.get(["axisTick","inside"])&&(d.tickDirection=-d.tickDirection),sa(s.labelInside,c.get(["axisLabel","inside"]))&&(d.labelDirection=-d.labelDirection);var C=s.rotate;return null==C&&(C=c.get(["axisLabel","rotate"])),d.labelRotation="top"===p?-C:C,d.z2=1,d}var rQ=["axisLine","axisTickLabel","axisName"],oQ=["splitArea","splitLine"],aQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.axisPointerClass="SingleAxisPointer",a}return Ee(s,c),s.prototype.render=function(a,u,d,p){var g=this.group;g.removeAll();var v=this._axisGroup;this._axisGroup=new Xt;var y=NA(a),x=new Sc(a,y);fe(rQ,x.add,x),g.add(this._axisGroup),g.add(x.getGroup()),fe(oQ,function(C){a.get([C,"show"])&&sQ[C](this,this.group,this._axisGroup,a)},this),Z2(v,this._axisGroup,a),c.prototype.render.call(this,a,u,d,p)},s.prototype.remove=function(){iP(this)},s.type="singleAxis",s}(q1),sQ={splitLine:function(c,s,a,u){var d=u.axis;if(!d.scale.isBlank()){var p=u.getModel("splitLine"),g=p.getModel("lineStyle"),v=g.get("color");v=v instanceof Array?v:[v];for(var y=u.coordinateSystem.getRect(),x=d.isHorizontal(),C=[],w=0,D=d.getTicksCoords({tickModel:p}),P=[],z=[],k=0;k<D.length;++k){var E=d.toGlobalCoord(D[k].coord);x?(P[0]=E,P[1]=y.y,z[0]=E,z[1]=y.y+y.height):(P[0]=y.x,P[1]=E,z[0]=y.x+y.width,z[1]=E);var F=w++%v.length;C[F]=C[F]||[],C[F].push(new Fa({subPixelOptimize:!0,shape:{x1:P[0],y1:P[1],x2:z[0],y2:z[1]},silent:!0}))}var B=g.getLineStyle(["color"]);for(k=0;k<C.length;++k)s.add(Cc(C[k],{style:jt({stroke:v[k%v.length]},B),silent:!0}))}},splitArea:function(c,s,a,u){l8(c,a,u,u)}},y7=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.getCoordSysModel=function(){return this},s.type="singleAxis",s.layoutMode="box",s.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},s}(di);Gr(y7,I_.prototype);var lQ=function(c){function s(a,u,d,p,g){var v=c.call(this,a,u,d)||this;return v.type=p||"value",v.position=g||"bottom",v}return Ee(s,c),s.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},s.prototype.pointToData=function(a,u){return this.coordinateSystem.pointToData(a)[0]},s}(Iu),PB=["single"],cQ=function(){function c(s,a,u){this.type="single",this.dimension="single",this.dimensions=PB,this.axisPointerEnabled=!0,this.model=s,this._init(s,a,u)}return c.prototype._init=function(s,a,u){var p=new lQ(this.dimension,Vy(s),[0,0],s.get("type"),s.get("position"));p.onBand="category"===p.type&&s.get("boundaryGap"),p.inverse=s.get("inverse"),p.orient=s.get("orient"),s.axis=p,p.model=s,p.coordinateSystem=this,this._axis=p},c.prototype.update=function(s,a){s.eachSeries(function(u){if(u.coordinateSystem===this){var d=u.getData();fe(d.mapDimensionsAll(this.dimension),function(p){this._axis.scale.unionExtentFromData(d,p)},this),U1(this._axis.scale,this._axis.model)}},this)},c.prototype.resize=function(s,a){this._rect=io({left:s.get("left"),top:s.get("top"),right:s.get("right"),bottom:s.get("bottom"),width:s.get("width"),height:s.get("height")},{width:a.getWidth(),height:a.getHeight()}),this._adjustAxis()},c.prototype.getRect=function(){return this._rect},c.prototype._adjustAxis=function(){var s=this._rect,a=this._axis,u=a.isHorizontal(),d=u?[0,s.width]:[0,s.height],p=a.reverse?1:0;a.setExtent(d[p],d[1-p]),this._updateAxisTransform(a,u?s.x:s.y)},c.prototype._updateAxisTransform=function(s,a){var u=s.getExtent(),d=u[0]+u[1],p=s.isHorizontal();s.toGlobalCoord=p?function(g){return g+a}:function(g){return d-g+a},s.toLocalCoord=p?function(g){return g-a}:function(g){return d-g+a}},c.prototype.getAxis=function(){return this._axis},c.prototype.getBaseAxis=function(){return this._axis},c.prototype.getAxes=function(){return[this._axis]},c.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},c.prototype.containPoint=function(s){var a=this.getRect(),u=this.getAxis();return"horizontal"===u.orient?u.contain(u.toLocalCoord(s[0]))&&s[1]>=a.y&&s[1]<=a.y+a.height:u.contain(u.toLocalCoord(s[1]))&&s[0]>=a.y&&s[0]<=a.y+a.height},c.prototype.pointToData=function(s){var a=this.getAxis();return[a.coordToData(a.toLocalCoord(s["horizontal"===a.orient?0:1]))]},c.prototype.dataToPoint=function(s){var a=this.getAxis(),u=this.getRect(),d=[],p="horizontal"===a.orient?0:1;return s instanceof Array&&(s=s[0]),d[p]=a.toGlobalCoord(a.dataToCoord(+s)),d[1-p]=0===p?u.y+u.height/2:u.x+u.width/2,d},c.prototype.convertToPixel=function(s,a,u){return FA(a)===this?this.dataToPoint(u):null},c.prototype.convertFromPixel=function(s,a,u){return FA(a)===this?this.pointToData(u):null},c}();function FA(c){var s=c.seriesModel,a=c.singleAxisModel;return a&&a.coordinateSystem||s&&s.coordinateSystem}var uQ={create:function(c,s){var a=[];return c.eachComponent("singleAxis",function(u,d){var p=new cQ(u,c,s);p.name="single_"+d,p.resize(u,s),u.coordinateSystem=p,a.push(p)}),c.eachSeries(function(u){if("singleAxis"===u.get("coordinateSystem")){var d=u.getReferringComponents("singleAxis",Na).models[0];u.coordinateSystem=d&&d.coordinateSystem}}),a},dimensions:PB},hQ=["x","y"],dQ=["width","height"],Tue=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.makeElOption=function(a,u,d,p,g){var v=d.axis,y=v.coordinateSystem,x=B8(y,1-F8(v)),C=y.dataToPoint(u)[0],w=p.get("type");if(w&&"none"!==w){var D=AA(p),P=fQ[w](v,C,x);P.style=D,a.graphicKey=P.type,a.pointer=P}d7(u,a,NA(d),d,p,g)},s.prototype.getHandleTransform=function(a,u,d){var p=NA(u,{labelInside:!1});p.labelMargin=d.get(["handle","margin"]);var g=uv(u.axis,a,p);return{x:g[0],y:g[1],rotation:p.rotation+(p.labelDirection<0?Math.PI:0)}},s.prototype.updateHandleTransform=function(a,u,d,p){var g=d.axis,v=g.coordinateSystem,y=F8(g),x=B8(v,y),C=[a.x,a.y];C[y]+=u[y],C[y]=Math.min(x[1],C[y]),C[y]=Math.max(x[0],C[y]);var w=B8(v,1-y),D=(w[1]+w[0])/2,P=[D,D];return P[y]=C[y],{x:C[0],y:C[1],rotation:a.rotation,cursorPoint:P,tooltipOption:{verticalAlign:"middle"}}},s}(h7),fQ={line:function(c,s,a){return{type:"Line",subPixelOptimize:!0,shape:zA([s,a[0]],[s,a[1]],F8(c))}},shadow:function(c,s,a){var u=c.getBandWidth();return{type:"Rect",shape:O8([s-u/2,a[0]],[u,a[1]-a[0]],F8(c))}}};function F8(c){return c.isHorizontal()?0:1}function B8(c,s){var a=c.getRect();return[a[hQ[s]],a[hQ[s]]+a[dQ[s]]]}var BA=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="single",s}($r),yg=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u,d){var p=i_(a);c.prototype.init.apply(this,arguments),dv(a,p)},s.prototype.mergeOption=function(a){c.prototype.mergeOption.apply(this,arguments),dv(this.option,a)},s.prototype.getCellSize=function(){return this.option.cellSize},s.type="calendar",s.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},s}(di);function dv(c,s){var a,u=c.cellSize;1===(a=at(u)?u:c.cellSize=[u,u]).length&&(a[1]=a[0]);var d=tt([0,1],function(p){return(null!=(g=s)[I1[v=p][0]]||null!=g[I1[v][1]]&&null!=g[I1[v][2]])&&(a[p]="auto"),null!=a[p]&&"auto"!==a[p];var g,v});Vt(c,s,{type:"box",ignoreSize:d})}var AB=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){var p=this.group;p.removeAll();var g=a.coordinateSystem,v=g.getRangeInfo(),y=g.getOrient(),x=u.getLocaleModel();this._renderDayRect(a,v,p),this._renderLines(a,v,y,p),this._renderYearText(a,v,y,p),this._renderMonthText(a,x,y,p),this._renderWeekText(a,x,v,y,p)},s.prototype._renderDayRect=function(a,u,d){for(var p=a.coordinateSystem,g=a.getModel("itemStyle").getItemStyle(),v=p.getCellWidth(),y=p.getCellHeight(),x=u.start.time;x<=u.end.time;x=p.getNextNDay(x,1).time){var C=p.dataToRect([x],!1).tl,w=new gi({shape:{x:C[0],y:C[1],width:v,height:y},cursor:"default",style:g});d.add(w)}},s.prototype._renderLines=function(a,u,d,p){var g=this,v=a.coordinateSystem,y=a.getModel(["splitLine","lineStyle"]).getLineStyle(),x=a.get(["splitLine","show"]),C=y.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var w=u.start,D=0;w.time<=u.end.time;D++){z(w.formatedDate),0===D&&(w=v.getDateInfo(u.start.y+"-"+u.start.m));var P=w.date;P.setMonth(P.getMonth()+1),w=v.getDateInfo(P)}function z(k){g._firstDayOfMonth.push(v.getDateInfo(k)),g._firstDayPoints.push(v.dataToRect([k],!1).tl);var E=g._getLinePointsOfOneWeek(a,k,d);g._tlpoints.push(E[0]),g._blpoints.push(E[E.length-1]),x&&g._drawSplitline(E,y,p)}z(v.getNextNDay(u.end.time,1).formatedDate),x&&this._drawSplitline(g._getEdgesPoints(g._tlpoints,C,d),y,p),x&&this._drawSplitline(g._getEdgesPoints(g._blpoints,C,d),y,p)},s.prototype._getEdgesPoints=function(a,u,d){var p=[a[0].slice(),a[a.length-1].slice()],g="horizontal"===d?0:1;return p[0][g]=p[0][g]-u/2,p[1][g]=p[1][g]+u/2,p},s.prototype._drawSplitline=function(a,u,d){var p=new bc({z2:20,shape:{points:a},style:u});d.add(p)},s.prototype._getLinePointsOfOneWeek=function(a,u,d){for(var p=a.coordinateSystem,g=p.getDateInfo(u),v=[],y=0;y<7;y++){var x=p.getNextNDay(g.time,y),C=p.dataToRect([x.time],!1);v[2*x.day]=C.tl,v[2*x.day+1]=C["horizontal"===d?"bl":"tr"]}return v},s.prototype._formatterLabel=function(a,u){return"string"==typeof a&&a?(d=a,fe(u,function(g,v){d=d.replace("{"+v+"}",g)}),d):"function"==typeof a?a(u):u.nameMap;var d},s.prototype._yearTextPositionControl=function(a,u,d,p,g){var v=u[0],y=u[1],x=["center","bottom"];"bottom"===p?(y+=g,x=["center","top"]):"left"===p?v-=g:"right"===p?(v+=g,x=["center","top"]):y-=g;var C=0;return"left"!==p&&"right"!==p||(C=Math.PI/2),{rotation:C,x:v,y,style:{align:x[0],verticalAlign:x[1]}}},s.prototype._renderYearText=function(a,u,d,p){var g=a.getModel("yearLabel");if(g.get("show")){var v=g.get("margin"),y=g.get("position");y||(y="horizontal"!==d?"top":"left");var x=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],C=(x[0][0]+x[1][0])/2,w=(x[0][1]+x[1][1])/2,D="horizontal"===d?0:1,P={top:[C,x[D][1]],bottom:[C,x[1-D][1]],left:[x[1-D][0],w],right:[x[D][0],w]},z=u.start.y;+u.end.y>+u.start.y&&(z=z+"-"+u.end.y);var k=g.get("formatter"),F=this._formatterLabel(k,{start:u.start.y,end:u.end.y,nameMap:z}),B=new Ni({z2:30,style:ha(g,{text:F})});B.attr(this._yearTextPositionControl(B,P[y],d,y,v)),p.add(B)}},s.prototype._monthTextPositionControl=function(a,u,d,p,g){var v="left",y="top",x=a[0],C=a[1];return"horizontal"===d?(C+=g,u&&(v="center"),"start"===p&&(y="bottom")):(x+=g,u&&(y="middle"),"start"===p&&(v="right")),{x,y:C,align:v,verticalAlign:y}},s.prototype._renderMonthText=function(a,u,d,p){var g=a.getModel("monthLabel");if(g.get("show")){var v=g.get("nameMap"),y=g.get("margin"),x=g.get("position"),C=g.get("align"),w=[this._tlpoints,this._blpoints];v&&!ui(v)||(v&&(u=qp(v)||u),v=u.get(["time","monthAbbr"])||[]);var D="start"===x?0:1,P="horizontal"===d?0:1;y="start"===x?-y:y;for(var z="center"===C,k=0;k<w[D].length-1;k++){var E=w[D][k].slice(),F=this._firstDayOfMonth[k];z&&(E[P]=(this._firstDayPoints[k][P]+w[0][k+1][P])/2);var H=g.get("formatter"),Y=v[+F.m-1],U={yyyy:F.y,yy:(F.y+"").slice(2),MM:F.m,M:+F.m,nameMap:Y},j=this._formatterLabel(H,U),q=new Ni({z2:30,style:it(ha(g,{text:j}),this._monthTextPositionControl(E,z,d,x,y))});p.add(q)}}},s.prototype._weekTextPositionControl=function(a,u,d,p,g){var v="center",y="middle",x=a[0],C=a[1],w="start"===d;return"horizontal"===u?(x=x+p+(w?1:-1)*g[0]/2,v=w?"right":"left"):(C=C+p+(w?1:-1)*g[1]/2,y=w?"bottom":"top"),{x,y:C,align:v,verticalAlign:y}},s.prototype._renderWeekText=function(a,u,d,p,g){var v=a.getModel("dayLabel");if(v.get("show")){var y=a.coordinateSystem,x=v.get("position"),C=v.get("nameMap"),w=v.get("margin"),D=y.getFirstDayOfWeek();(!C||ui(C))&&(C&&(u=qp(C)||u),C=u.get(["time","dayOfWeekShort"])||tt(u.get(["time","dayOfWeekAbbr"]),function(Y){return Y[0]}));var P=y.getNextNDay(d.end.time,7-d.lweek).time,z=[y.getCellWidth(),y.getCellHeight()];w=At(w,Math.min(z[1],z[0])),"start"===x&&(P=y.getNextNDay(d.start.time,-(7+d.fweek)).time,w=-w);for(var k=0;k<7;k++){var E,F=y.getNextNDay(P,k),B=y.dataToRect([F.time],!1).center;E=Math.abs((k+D)%7);var H=new Ni({z2:30,style:it(ha(v,{text:C[E]}),this._weekTextPositionControl(B,p,x,w,z))});g.add(H)}}},s.type="calendar",s}($r),x7=864e5,pQ=function(){function c(s,a,u){this.type="calendar",this.dimensions=c.dimensions,this.getDimensionsInfo=c.getDimensionsInfo,this._model=s}return c.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},c.prototype.getRangeInfo=function(){return this._rangeInfo},c.prototype.getModel=function(){return this._model},c.prototype.getRect=function(){return this._rect},c.prototype.getCellWidth=function(){return this._sw},c.prototype.getCellHeight=function(){return this._sh},c.prototype.getOrient=function(){return this._orient},c.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},c.prototype.getDateInfo=function(s){var a=(s=Ce(s)).getFullYear(),u=s.getMonth()+1,d=u<10?"0"+u:""+u,p=s.getDate(),g=p<10?"0"+p:""+p,v=s.getDay();return{y:a+"",m:d,d:g,day:v=Math.abs((v+7-this.getFirstDayOfWeek())%7),time:s.getTime(),formatedDate:a+"-"+d+"-"+g,date:s}},c.prototype.getNextNDay=function(s,a){return 0===(a=a||0)||(s=new Date(this.getDateInfo(s).time)).setDate(s.getDate()+a),this.getDateInfo(s)},c.prototype.update=function(s,a){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var u=this._rangeInfo.weeks||1,d=["width","height"],p=this._model.getCellSize().slice(),g=this._model.getBoxLayoutParams(),v="horizontal"===this._orient?[u,7]:[7,u];fe([0,1],function(w){C(p,w)&&(g[d[w]]=p[w]*v[w])});var y={width:a.getWidth(),height:a.getHeight()},x=this._rect=io(g,y);function C(w,D){return null!=w[D]&&"auto"!==w[D]}fe([0,1],function(w){C(p,w)||(p[w]=x[d[w]]/v[w])}),this._sw=p[0],this._sh=p[1]},c.prototype.dataToPoint=function(s,a){at(s)&&(s=s[0]),null==a&&(a=!0);var u=this.getDateInfo(s),d=this._rangeInfo;if(a&&!(u.time>=d.start.time&&u.time<d.end.time+x7))return[NaN,NaN];var g=u.day,v=this._getRangeInfo([d.start.time,u.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+g*this._sw+this._sw/2,this._rect.y+v*this._sh+this._sh/2]:[this._rect.x+v*this._sw+this._sw/2,this._rect.y+g*this._sh+this._sh/2]},c.prototype.pointToData=function(s){var a=this.pointToDate(s);return a&&a.time},c.prototype.dataToRect=function(s,a){var u=this.dataToPoint(s,a);return{contentShape:{x:u[0]-(this._sw-this._lineWidth)/2,y:u[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:u,tl:[u[0]-this._sw/2,u[1]-this._sh/2],tr:[u[0]+this._sw/2,u[1]-this._sh/2],br:[u[0]+this._sw/2,u[1]+this._sh/2],bl:[u[0]-this._sw/2,u[1]+this._sh/2]}},c.prototype.pointToDate=function(s){var a=Math.floor((s[0]-this._rect.x)/this._sw)+1,u=Math.floor((s[1]-this._rect.y)/this._sh)+1,d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(u,a-1,d):this._getDateByWeeksAndDay(a,u-1,d)},c.prototype.convertToPixel=function(s,a,u){var d=am(a);return d===this?d.dataToPoint(u):null},c.prototype.convertFromPixel=function(s,a,u){var d=am(a);return d===this?d.pointToData(u):null},c.prototype.containPoint=function(s){return console.warn("Not implemented."),!1},c.prototype._initRangeOption=function(){var s,a=this._model.get("range");if(at(a)&&1===a.length&&(a=a[0]),at(a))s=a;else{var u=a.toString();if(/^\d{4}$/.test(u)&&(s=[u+"-01-01",u+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(u)){var d=this.getDateInfo(u),p=d.date;p.setMonth(p.getMonth()+1);var g=this.getNextNDay(p,-1);s=[d.formatedDate,g.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(u)&&(s=[u,u])}if(!s)return a;var v=this._getRangeInfo(s);return v.start.time>v.end.time&&s.reverse(),s},c.prototype._getRangeInfo=function(s){var a,u=[this.getDateInfo(s[0]),this.getDateInfo(s[1])];u[0].time>u[1].time&&(a=!0,u.reverse());var d=Math.floor(u[1].time/x7)-Math.floor(u[0].time/x7)+1,p=new Date(u[0].time),g=p.getDate(),v=u[1].date.getDate();p.setDate(g+d-1);var y=p.getDate();if(y!==v)for(var x=p.getTime()-u[1].time>0?1:-1;(y=p.getDate())!==v&&(p.getTime()-u[1].time)*x>0;)d-=x,p.setDate(y-x);var C=Math.floor((d+u[0].day+6)/7),w=a?1-C:C-1;return a&&u.reverse(),{range:[u[0].formatedDate,u[1].formatedDate],start:u[0],end:u[1],allDay:d,weeks:C,nthWeek:w,fweek:u[0].day,lweek:u[1].day}},c.prototype._getDateByWeeksAndDay=function(s,a,u){var d=this._getRangeInfo(u);if(s>d.weeks||0===s&&a<d.fweek||s===d.weeks&&a>d.lweek)return null;var p=7*(s-1)-d.fweek+a,g=new Date(d.start.time);return g.setDate(+d.start.d+p),this.getDateInfo(g)},c.create=function(s,a){var u=[];return s.eachComponent("calendar",function(d){var p=new c(d,s,a);u.push(p),d.coordinateSystem=p}),s.eachSeries(function(d){"calendar"===d.get("coordinateSystem")&&(d.coordinateSystem=u[d.get("calendarIndex")||0])}),u},c.dimensions=["time","value"],c}();function am(c){var s=c.calendarModel,a=c.seriesModel;return s?s.coordinateSystem:a?a.coordinateSystem:null}var fv=Zi(),zB={path:null,compoundPath:null,group:Xt,image:Qo,text:Ni},b7=function(c){var s=c.graphic;at(s)?c.graphic=s[0]&&s[0].elements?[c.graphic[0]]:[{elements:s}]:s&&!s.elements&&(c.graphic=[{elements:[s]}])},kB=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.preventAutoZ=!0,a}return Ee(s,c),s.prototype.mergeOption=function(a,u){var d=this.option.elements;this.option.elements=null,c.prototype.mergeOption.call(this,a,u),this.option.elements=d},s.prototype.optionUpdated=function(a,u){var d=this.option,p=(u?d:a).elements,g=d.elements=u?[]:d.elements,v=[];this._flatten(p,v,null);var y=gh(g,v,"normalMerge"),x=this._elOptionsToUpdate=[];fe(y,function(w,D){var z,k,E,F,B,H,P=w.newOption;P&&(x.push(P),function(z,k){var E=z.existing;if(k.id=z.keyInfo.id,!k.type&&E&&(k.type=E.type),null==k.parentId){var F=k.parentOption;F?k.parentId=F.id:E&&(k.parentId=E.parentId)}k.parentOption=null}(w,P),z=g,k=D,F=it({},E=P),B=z[k],"merge"===(H=E.$action||"merge")?B?(Mn(B,F,!0),Vt(B,F,{ignoreSize:!0}),Kp(E,B)):z[k]=F:"replace"===H?z[k]=F:"remove"===H&&B&&(z[k]=null),function(z,k){if(z&&(z.hv=k.hv=[C7(k,["left","right"]),C7(k,["top","bottom"])],"group"===z.type)){var E=z,F=k;null==E.width&&(E.width=F.width=0),null==E.height&&(E.height=F.height=0)}}(g[D],P))},this);for(var C=g.length-1;C>=0;C--)null==g[C]?g.splice(C,1):delete g[C].$action},s.prototype._flatten=function(a,u,d){fe(a,function(p){if(p){d&&(p.parentOption=d),u.push(p);var g=p.children;"group"===p.type&&g&&this._flatten(g,u,p),delete p.children}},this)},s.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},s.type="graphic",s.defaultOption={elements:[]},s}(di),VA=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(){this._elMap=qt()},s.prototype.render=function(a,u,d){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,d)},s.prototype._updateElements=function(a){var u=a.useElOptionsToUpdate();if(u){var d=this._elMap,p=this.group;fe(u,function(g){var v=Vo(g.id,null),y=null!=v?d.get(v):null,x=Vo(g.parentId,null),C=null!=x?d.get(x):p,w=g.type,D=g.style;"text"===w&&D&&g.hv&&g.hv[1]&&(D.textVerticalAlign=D.textBaseline=D.verticalAlign=D.align=null);var P=g.textContent,z=g.textConfig;if(D&&r7(D,w,!!z,!!P)){var k=yA(D,w,!0);!z&&k.textConfig&&(z=g.textConfig=k.textConfig),!P&&k.textContent&&(P=k.textContent)}var U,E=(U=it({},U=g),fe(["id","parentId","$action","hv","bounding","textContent"].concat(sL),function(j){delete U[j]}),U),F=g.$action||"merge";"merge"===F?y?y.attr(E):HA(v,C,E,d):"replace"===F?(s4(y,d),HA(v,C,E,d)):"remove"===F&&s4(y,d);var B=d.get(v);if(B&&P)if("merge"===F){var H=B.getTextContent();H?H.attr(P):B.setTextContent(new Ni(P))}else"replace"===F&&B.setTextContent(new Ni(P));if(B){var Y=fv(B);Y.__ecGraphicWidthOption=g.width,Y.__ecGraphicHeightOption=g.height,function(U,j,q){var Q=Pn(U).eventData;U.silent||U.ignore||Q||(Q=Pn(U).eventData={componentType:"graphic",componentIndex:j.componentIndex,name:U.name}),Q&&(Q.info=q.info)}(B,a,g),Vs({el:B,componentModel:a,itemName:B.name,itemTooltipOption:g.tooltip})}})}},s.prototype._relocate=function(a,u){for(var d=a.option.elements,p=this.group,g=this._elMap,v=u.getWidth(),y=u.getHeight(),x=0;x<d.length;x++)if((k=null!=(z=Vo((P=d[x]).id,null))?g.get(z):null)&&k.isGroup){var C=(E=k.parent)===p,w=fv(k),D=fv(E);w.__ecGraphicWidth=At(w.__ecGraphicWidthOption,C?v:D.__ecGraphicWidth)||0,w.__ecGraphicHeight=At(w.__ecGraphicHeightOption,C?y:D.__ecGraphicHeight)||0}for(x=d.length-1;x>=0;x--){var P,z,k;if(k=null!=(z=Vo((P=d[x]).id,null))?g.get(z):null){var E=k.parent;D=fv(E),eb(k,P,E===p?{width:v,height:y}:{width:D.__ecGraphicWidth,height:D.__ecGraphicHeight},null,{hv:P.hv,boundingMode:P.bounding})}}},s.prototype._clear=function(){var a=this._elMap;a.each(function(u){s4(u,a)}),this._elMap=qt()},s.prototype.dispose=function(){this._clear()},s.type="graphic",s}($r);function HA(c,s,a,u){var d=a.type,g=new(Nt(zB,d)?zB[d]:Y5(d))(a);s.add(g),u.set(c,g),fv(g).__ecGraphicId=c}function s4(c,s){var a=c&&c.parent;a&&("group"===c.type&&c.traverse(function(u){s4(u,s)}),s.removeKey(fv(c).__ecGraphicId),a.remove(c))}function C7(c,s){var a;return fe(s,function(u){null!=c[u]&&"auto"!==c[u]&&(a=!0)}),a}var OB=["x","y","radius","angle","single"],V8=["cartesian2d","polar","singleAxis"];function sm(c){return c+"Axis"}function w7(c){var s=c.ecModel,a={infoList:[],infoMap:qt()};return c.eachTargetAxis(function(u,d){var p=s.getComponent(sm(u),d);if(p){var g=p.getCoordSysModel();if(g){var v=g.uid,y=a.infoMap.get(v);y||(a.infoList.push(y={model:g,axisModels:[]}),a.infoMap.set(v,y)),y.axisModels.push(p)}}}),a}var S7=function(){function c(){this.indexList=[],this.indexMap=[]}return c.prototype.add=function(s){this.indexMap[s]||(this.indexList.push(s),this.indexMap[s]=!0)},c}(),l4=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._autoThrottle=!0,a._noTarget=!0,a._rangePropMode=["percent","percent"],a}return Ee(s,c),s.prototype.init=function(a,u,d){var p=YA(a);this.settledOption=p,this.mergeDefaultAndTheme(a,d),this._doInit(p)},s.prototype.mergeOption=function(a){var u=YA(a);Mn(this.option,a,!0),Mn(this.settledOption,u,!0),this._doInit(u)},s.prototype._doInit=function(a){var u=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var d=this.settledOption;fe([["start","startValue"],["end","endValue"]],function(p,g){"value"===this._rangePropMode[g]&&(u[p[0]]=d[p[0]]=null)},this),this._resetTarget()},s.prototype._resetTarget=function(){var a=this.get("orient",!0),u=this._targetAxisInfoMap=qt();this._fillSpecifiedTargetAxis(u)?this._orient=a||this._makeAutoOrientByTargetAxis():(this._orient=a||"horizontal",this._fillAutoTargetAxisByOrient(u,this._orient)),this._noTarget=!0,u.each(function(d){d.indexList.length&&(this._noTarget=!1)},this)},s.prototype._fillSpecifiedTargetAxis=function(a){var u=!1;return fe(OB,function(d){var p=this.getReferringComponents(sm(d),L$);if(p.specified){u=!0;var g=new S7;fe(p.models,function(v){g.add(v.componentIndex)}),a.set(d,g)}},this),u},s.prototype._fillAutoTargetAxisByOrient=function(a,u){var d=this.ecModel,p=!0;if(p){var g="vertical"===u?"y":"x";v(d.findComponents({mainType:g+"Axis"}),g)}function v(y,x){var C=y[0];if(C){var w=new S7;if(w.add(C.componentIndex),a.set(x,w),p=!1,"x"===x||"y"===x){var D=C.getReferringComponents("grid",Na).models[0];D&&fe(y,function(P){C.componentIndex!==P.componentIndex&&D===P.getReferringComponents("grid",Na).models[0]&&w.add(P.componentIndex)})}}}p&&v(d.findComponents({mainType:"singleAxis",filter:function(y){return y.get("orient",!0)===u}}),"single"),p&&fe(OB,function(y){if(p){var x=d.findComponents({mainType:sm(y),filter:function(w){return"category"===w.get("type",!0)}});if(x[0]){var C=new S7;C.add(x[0].componentIndex),a.set(y,C),p=!1}}},this)},s.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(u){!a&&(a=u)},this),"y"===a?"vertical":"horizontal"},s.prototype._setDefaultThrottle=function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var u=this.ecModel.option;this.option.throttle=u.animation&&u.animationDurationUpdate>0?100:20}},s.prototype._updateRangeUse=function(a){var u=this._rangePropMode,d=this.get("rangeMode");fe([["start","startValue"],["end","endValue"]],function(p,g){var v=null!=a[p[0]],y=null!=a[p[1]];v&&!y?u[g]="percent":!v&&y?u[g]="value":d?u[g]=d[g]:v&&(u[g]="percent")})},s.prototype.noTarget=function(){return this._noTarget},s.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(u,d){null==a&&(a=this.ecModel.getComponent(sm(u),d))},this),a},s.prototype.eachTargetAxis=function(a,u){this._targetAxisInfoMap.each(function(d,p){fe(d.indexList,function(g){a.call(u,p,g)})})},s.prototype.getAxisProxy=function(a,u){var d=this.getAxisModel(a,u);if(d)return d.__dzAxisProxy},s.prototype.getAxisModel=function(a,u){var d=this._targetAxisInfoMap.get(a);if(d&&d.indexMap[u])return this.ecModel.getComponent(sm(a),u)},s.prototype.setRawRange=function(a){var u=this.option,d=this.settledOption;fe([["start","startValue"],["end","endValue"]],function(p){null==a[p[0]]&&null==a[p[1]]||(u[p[0]]=d[p[0]]=a[p[0]],u[p[1]]=d[p[1]]=a[p[1]])},this),this._updateRangeUse(a)},s.prototype.setCalculatedRange=function(a){var u=this.option;fe(["start","startValue","end","endValue"],function(d){u[d]=a[d]})},s.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},s.prototype.getValueRange=function(a,u){if(null!=a||null!=u)return this.getAxisProxy(a,u).getDataValueWindow();var d=this.findRepresentativeAxisProxy();return d?d.getDataValueWindow():void 0},s.prototype.findRepresentativeAxisProxy=function(a){if(a)return a.__dzAxisProxy;for(var u,d=this._targetAxisInfoMap.keys(),p=0;p<d.length;p++)for(var g=d[p],v=this._targetAxisInfoMap.get(g),y=0;y<v.indexList.length;y++){var x=this.getAxisProxy(g,v.indexList[y]);if(x.hostedBy(this))return x;u||(u=x)}return u},s.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},s.prototype.getOrient=function(){return this._orient},s.type="dataZoom",s.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],s.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},s}(di);function YA(c){var s={};return fe(["start","end","startValue","endValue","throttle"],function(a){c.hasOwnProperty(a)&&(s[a]=c[a])}),s}var EB=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="dataZoom.select",s}(l4),UA=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d,p){this.dataZoomModel=a,this.ecModel=u,this.api=d},s.type="dataZoom",s}($r),H8=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="dataZoom.select",s}(UA),xg=fe,pv=pc,mQ=function(){function c(s,a,u,d){this._dimName=s,this._axisIndex=a,this.ecModel=d,this._dataZoomModel=u}return c.prototype.hostedBy=function(s){return this._dataZoomModel===s},c.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},c.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},c.prototype.getTargetSeriesModels=function(){var s=[];return this.ecModel.eachSeries(function(a){if(g=a.get("coordinateSystem"),Gn(V8,g)>=0){var u=sm(this._dimName),d=a.getReferringComponents(u,Na).models[0];d&&this._axisIndex===d.componentIndex&&s.push(a)}var g},this),s},c.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},c.prototype.getMinMaxSpan=function(){return nn(this._minMaxSpan)},c.prototype.calculateDataWindow=function(s){var a,u=this._dataExtent,d=this.getAxisModel().axis.scale,p=this._dataZoomModel.getRangePropMode(),g=[0,100],v=[],y=[];xg(["start","end"],function(w,D){var P=s[w],z=s[w+"Value"];"percent"===p[D]?(null==P&&(P=g[D]),z=d.parse(rr(P,g,u))):(a=!0,P=rr(z=null==z?u[D]:d.parse(z),u,g)),y[D]=z,v[D]=P}),pv(y),pv(v);var x=this._minMaxSpan;function C(w,D,P,z,k){var E=k?"Span":"ValueSpan";Z_(0,w,P,"all",x["min"+E],x["max"+E]);for(var F=0;F<2;F++)D[F]=rr(w[F],P,z,!0),k&&(D[F]=d.parse(D[F]))}return a?C(y,v,u,g,!1):C(v,y,g,u,!0),{valueWindow:y,percentWindow:v}},c.prototype.reset=function(s){if(s===this._dataZoomModel){var a=this.getTargetSeriesModels();this._dataExtent=function(d,p,g){var v=[1/0,-1/0];xg(g,function(C){var w,D;w=v,(D=C.getData())&&fe($b(D,p),function(z){var k=D.getApproximateExtent(z);k[0]<w[0]&&(w[0]=k[0]),k[1]>w[1]&&(w[1]=k[1])})});var y=d.getAxisModel(),x=IR(y.axis.scale,y,v).calculate();return[x.min,x.max]}(this,this._dimName,a),this._updateMinMaxSpan();var u=this.calculateDataWindow(s.settledOption);this._valueWindow=u.valueWindow,this._percentWindow=u.percentWindow,this._setAxisModel()}},c.prototype.filterData=function(s,a){if(s===this._dataZoomModel){var u=this._dimName,d=this.getTargetSeriesModels(),p=s.get("filterMode"),g=this._valueWindow;"none"!==p&&xg(d,function(v){var y=v.getData(),x=y.mapDimensionsAll(u);if(x.length){if("weakFilter"===p){var C=y.getStore(),w=tt(x,function(D){return y.getDimensionIndex(D)},y);y.filterSelf(function(D){for(var P,z,k,E=0;E<x.length;E++){var F=C.get(w[E],D),B=!isNaN(F),H=F<g[0],Y=F>g[1];if(B&&!H&&!Y)return!0;B&&(k=!0),H&&(P=!0),Y&&(z=!0)}return k&&P&&z})}else xg(x,function(D){if("empty"===p)v.setData(y=y.map(D,function(z){return(k=z)>=g[0]&&k<=g[1]?z:NaN;var k}));else{var P={};P[D]=g,y.selectRange(P)}});xg(x,function(D){y.setApproximateExtent(g,D)})}})}},c.prototype._updateMinMaxSpan=function(){var s=this._minMaxSpan={},a=this._dataZoomModel,u=this._dataExtent;xg(["min","max"],function(d){var p=a.get(d+"Span"),g=a.get(d+"ValueSpan");null!=g&&(g=this.getAxisModel().axis.scale.parse(g)),null!=g?p=rr(u[0]+g,u,[0,100],!0):null!=p&&(g=rr(p,[0,100],u,!0)-u[0]),s[d+"Span"]=p,s[d+"ValueSpan"]=g},this)},c.prototype._setAxisModel=function(){var s=this.getAxisModel(),a=this._percentWindow,u=this._valueWindow;if(a){var d=z3(u,[0,500]);d=Math.min(d,20);var p=s.axis.scale.rawExtentInfo;0!==a[0]&&p.setDeterminedMinMax("min",+u[0].toFixed(d)),100!==a[1]&&p.setDeterminedMinMax("max",+u[1].toFixed(d)),p.freeze()}},c}(),vQ={getTargetSeries:function(c){function s(d){c.eachComponent("dataZoom",function(p){p.eachTargetAxis(function(g,v){var y=c.getComponent(sm(g),v);d(g,v,y,p)})})}s(function(d,p,g,v){g.__dzAxisProxy=null});var a=[];s(function(d,p,g,v){g.__dzAxisProxy||(g.__dzAxisProxy=new mQ(d,p,v,c),a.push(g.__dzAxisProxy))});var u=qt();return fe(a,function(d){fe(d.getTargetSeriesModels(),function(p){u.set(p.uid,p)})}),u},overallReset:function(c,s){c.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(u,d){a.getAxisProxy(u,d).reset(a)}),a.eachTargetAxis(function(u,d){a.getAxisProxy(u,d).filterData(a,s)})}),c.eachComponent("dataZoom",function(a){var u=a.findRepresentativeAxisProxy();if(u){var d=u.getDataPercentWindow(),p=u.getDataValueWindow();a.setCalculatedRange({start:d[0],end:d[1],startValue:p[0],endValue:p[1]})}})}},T7=!1;function M7(c){T7||(T7=!0,c.registerProcessor(c.PRIORITY.PROCESSOR.FILTER,vQ),function(s){s.registerAction("dataZoom",function(a,u){fe(function gQ(c,s){var a,u=qt(),d=[],p=qt();c.eachComponent({mainType:"dataZoom",query:s},function(y){p.get(y.uid)||v(y)});do{a=!1,c.eachComponent("dataZoom",g)}while(a);function g(y){var C;!p.get(y.uid)&&(C=!1,y.eachTargetAxis(function(w,D){var P=u.get(w);P&&P[D]&&(C=!0)}),C)&&(v(y),a=!0)}function v(y){p.set(y.uid,!0),d.push(y),y.eachTargetAxis(function(x,C){(u.get(x)||u.set(x,[]))[C]=!0})}return d}(u,a),function(d){d.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})}(c),c.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Mue(c){c.registerComponentModel(EB),c.registerComponentView(H8),M7(c)}var bd=function(){},_Q={};function Y8(c,s){_Q[c]=s}function D7(c){return _Q[c]}var yQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.optionUpdated=function(){c.prototype.optionUpdated.apply(this,arguments);var a=this.ecModel;fe(this.option.feature,function(u,d){var p=D7(d);p&&(p.getDefaultOption&&(p.defaultOption=p.getDefaultOption(a)),Mn(u,p.defaultOption))})},s.type="toolbox",s.layoutMode={type:"box",ignoreSize:!0},s.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},s}(di);function IB(c,s){var a=E1(s.get("padding")),u=s.getItemStyle(["color","opacity"]);return u.fill=s.get("backgroundColor"),new gi({shape:{x:c.x-a[3],y:c.y-a[0],width:c.width+a[1]+a[3],height:c.height+a[0]+a[2],r:s.get("borderRadius")},style:u,silent:!0,z2:-1})}var xQ=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.render=function(a,u,d,p){var D,P,z,k,E,F,B,g=this.group;if(g.removeAll(),a.get("show")){var v=+a.get("itemSize"),y=a.get("feature")||{},x=this._features||(this._features={}),C=[];fe(y,function(D,P){C.push(P)}),new Y1(this._featureNames||[],C).add(w).update(w).remove(Je(w,null)).execute(),this._featureNames=C,D=g,z=d,k=(P=a).getBoxLayoutParams(),E=P.get("padding"),B=io(k,F={width:z.getWidth(),height:z.getHeight()},E),w0(P.get("orient"),D,P.get("itemGap"),B.width,B.height),eb(D,k,F,E),g.add(IB(g.getBoundingRect(),a)),g.eachChild(function(D){var P=D.__title,z=D.ensureState("emphasis"),k=z.textConfig||(z.textConfig={}),E=D.getTextContent(),F=E&&E.states.emphasis;if(F&&!wi(F)&&P){var B=F.style||(F.style={}),H=hh(P,Ni.makeFont(B)),Y=D.x+g.x,U=!1;D.y+g.y+v+H.height>d.getHeight()&&(k.position="top",U=!0);var j=U?-5-H.height:v+8;Y+H.width/2>d.getWidth()?(k.position=["100%",j],B.align="right"):Y-H.width/2<0&&(k.position=[0,j],B.align="left")}})}function w(D,P){var z,k=C[D],E=C[P],F=y[k],B=new tr(F,a,a.ecModel);if(p&&null!=p.newTitle&&p.featureName===k&&(F.title=p.newTitle),k&&!E){if(0===k.indexOf("my"))z={onclick:B.option.onclick,featureName:k};else{var H=D7(k);if(!H)return;z=new H}x[k]=z}else if(!(z=x[E]))return;z.uid=J2("toolbox-feature"),z.model=B,z.ecModel=u,z.api=d;var Y=z instanceof bd;k||!E?!B.get("show")||Y&&z.unusable?Y&&z.remove&&z.remove(u,d):(function(U,j,q){var Q,re,oe=U.getModel("iconStyle"),ae=U.getModel(["emphasis","iconStyle"]),he=j instanceof bd&&j.getIcons?j.getIcons():U.get("icon"),me=U.get("title")||{};"string"==typeof he?(Q={})[q]=he:Q=he,"string"==typeof me?(re={})[q]=me:re=me;var _e=U.iconPaths={};fe(Q,function(be,we){var Te=K2(be,{},{x:-v/2,y:-v/2,width:v,height:v});Te.setStyle(oe.getItemStyle()),Te.ensureState("emphasis").style=ae.getItemStyle();var Me=new Ni({style:{text:re[we],align:ae.get("textAlign"),borderRadius:ae.get("textBorderRadius"),padding:ae.get("textPadding"),fill:null},ignore:!0});Te.setTextContent(Me),Vs({el:Te,componentModel:a,itemName:we,formatterParamsExtra:{title:re[we]}}),Te.__title=re[we],Te.on("mouseover",function(){var Ae=ae.getItemStyle(),Ie="vertical"===a.get("orient")?null==a.get("right")?"right":"left":null==a.get("bottom")?"bottom":"top";Me.setStyle({fill:ae.get("textFill")||Ae.fill||Ae.stroke||"#000",backgroundColor:ae.get("textBackgroundColor")}),Te.setTextConfig({position:ae.get("textPosition")||Ie}),Me.ignore=!a.get("showTitle"),ad(this)}).on("mouseout",function(){"emphasis"!==U.get(["iconStatus",we])&&Wp(this),Me.hide()}),("emphasis"===U.get(["iconStatus",we])?ad:Wp)(Te),g.add(Te),Te.on("click",rt(j.onclick,j,u,d,we)),_e[we]=Te})}(B,z,k),B.setIconStatus=function(U,j){var q=this.option,Q=this.iconPaths;q.iconStatus=q.iconStatus||{},q.iconStatus[U]=j,Q[U]&&("emphasis"===j?ad:Wp)(Q[U])},z instanceof bd&&z.render&&z.render(B,u,d,p)):Y&&z.dispose&&z.dispose(u,d)}},s.prototype.updateView=function(a,u,d,p){fe(this._features,function(g){g instanceof bd&&g.updateView&&g.updateView(g.model,u,d,p)})},s.prototype.remove=function(a,u){fe(this._features,function(d){d instanceof bd&&d.remove&&d.remove(a,u)}),this.group.removeAll()},s.prototype.dispose=function(a,u){fe(this._features,function(d){d instanceof bd&&d.dispose&&d.dispose(a,u)})},s.type="toolbox",s}($r),P7=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.onclick=function(a,u){var d=this.model,p=d.get("name")||a.get("title.0.text")||"echarts",g="svg"===u.getZr().painter.getType(),v=g?"svg":d.get("type",!0)||"png",y=u.getConnectedDataURL({type:v,backgroundColor:d.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",connectedBackgroundColor:d.get("connectedBackgroundColor"),excludeComponents:d.get("excludeComponents"),pixelRatio:d.get("pixelRatio")});if("function"!=typeof MouseEvent||!Pt.browser.newEdge&&(Pt.browser.ie||Pt.browser.edge))if(window.navigator.msSaveOrOpenBlob||g){var x=y.split(","),C=x[0].indexOf("base64")>-1,w=g?decodeURIComponent(x[1]):x[1];C&&(w=window.atob(w));var D=p+"."+v;if(window.navigator.msSaveOrOpenBlob){for(var P=w.length,z=new Uint8Array(P);P--;)z[P]=w.charCodeAt(P);var k=new Blob([z]);window.navigator.msSaveOrOpenBlob(k,D)}else{var E=document.createElement("iframe");document.body.appendChild(E);var F=E.contentWindow,B=F.document;B.open("image/svg+xml","replace"),B.write(w),B.close(),F.focus(),B.execCommand("SaveAs",!0,D),document.body.removeChild(E)}}else{var H=d.get("lang"),Y='<body style="margin:0;"><img src="'+y+'" style="max-width:100%;" title="'+(H&&H[0]||"")+'" /></body>',U=window.open();U.document.write(Y),U.document.title=p}else{var j=document.createElement("a");j.download=p+"."+v,j.target="_blank",j.href=y;var q=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});j.dispatchEvent(q)}},s.getDefaultOption=function(a){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},s}(bd);P7.prototype.unusable=!Pt.canvasSupported;var Fu="__ec_magicType_stack__",LB=[["line","bar"],["stack"]],U8=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.getIcons=function(){var a=this.model,u=a.get("icon"),d={};return fe(a.get("type"),function(p){u[p]&&(d[p]=u[p])}),d},s.getDefaultOption=function(a){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},s.prototype.onclick=function(a,u,d){var p=this.model,g=p.get(["seriesIndex",d]);if(RB[d]){var v,y={series:[]};fe(LB,function(C){Gn(C,d)>=0&&fe(C,function(w){p.setIconStatus(w,"normal")})}),p.setIconStatus(d,"emphasis"),a.eachComponent({mainType:"series",query:null==g?null:{seriesIndex:g}},function(C){var P=RB[d](C.subType,C.id,C,p);P&&(jt(P,C.option),y.series.push(P));var z=C.coordinateSystem;if(z&&"cartesian2d"===z.type&&("line"===d||"bar"===d)){var k=z.getAxesByScale("ordinal")[0];if(k){var E=k.dim+"Axis",F=C.getReferringComponents(E,Na).models[0].componentIndex;y[E]=y[E]||[];for(var B=0;B<=F;B++)y[E][F]=y[E][F]||{};y[E][F].boundaryGap="bar"===d}}});var x=d;"stack"===d&&(v=Mn({stack:p.option.title.tiled,tiled:p.option.title.stack},p.option.title),"emphasis"!==p.get(["iconStatus",d])&&(x="tiled")),u.dispatchAction({type:"changeMagicType",currentType:x,newOption:y,newTitle:v,featureName:"magicType"})}},s}(bd),RB={line:function(c,s,a,u){if("bar"===c)return Mn({id:s,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},u.get(["option","line"])||{},!0)},bar:function(c,s,a,u){if("line"===c)return Mn({id:s,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},u.get(["option","bar"])||{},!0)},stack:function(c,s,a,u){var d=a.get("stack")===Fu;if("line"===c||"bar"===c)return u.setIconStatus("stack",d?"normal":"emphasis"),Mn({id:s,stack:d?"":Fu},u.get(["option","stack"])||{},!0)}};Mh({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(c,s){s.mergeOption(c.newOption)});var A7=new Array(60).join("-");function gv(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var GA=new RegExp("[\t]+","g");var u4=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.onclick=function(a,u){var d=u.getDom(),p=this.model;this._dom&&d.removeChild(this._dom);var g=document.createElement("div");g.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",g.style.backgroundColor=p.get("backgroundColor")||"#fff";var v=document.createElement("h4"),y=p.get("lang")||[];v.innerHTML=y[0]||p.get("title"),v.style.cssText="margin: 10px 20px;",v.style.color=p.get("textColor");var x=document.createElement("div"),C=document.createElement("textarea");x.style.cssText="display:block;width:100%;overflow:auto;";var q,Q,re,he,me,_e,oe,w=p.get("optionToContent"),D=p.get("contentToOption"),P=(he={},me=[],_e=[],a.eachRawSeries(function(be){var we=be.coordinateSystem;if(!we||"cartesian2d"!==we.type&&"polar"!==we.type)me.push(be);else{var Te=we.getBaseAxis();if("category"===Te.type){var Me=Te.dim+"_"+Te.index;he[Me]||(he[Me]={categoryAxis:Te,valueAxis:we.getOtherAxis(Te),series:[]},_e.push({axisDim:Te.dim,axisIndex:Te.index})),he[Me].series.push(be)}else me.push(be)}}),{value:Ri([(Q=(oe={seriesGroupByCategoryAxis:he,other:me,meta:_e}).seriesGroupByCategoryAxis,re=[],fe(Q,function(ae,he){var me=ae.categoryAxis,_e=ae.valueAxis.dim,be=[" "].concat(tt(ae.series,function(Ue){return Ue.name})),we=[me.model.getCategories()];fe(ae.series,function(Ue){var qe=Ue.getRawData();we.push(Ue.getRawData().mapArray(qe.mapDimension(_e),function(ft){return ft}))});for(var Te=[be.join("\t")],Me=0;Me<we[0].length;Me++){for(var Ae=[],Ie=0;Ie<we.length;Ie++)Ae.push(we[Ie][Me]);Te.push(Ae.join("\t"))}re.push(Te.join("\n"))}),re.join("\n\n"+A7+"\n\n")),(q=oe.other,tt(q,function(ae){var he=ae.getRawData(),me=[ae.name],_e=[];return he.each(he.dimensions,function(){for(var be=arguments.length,Te=he.getName(arguments[be-1]),Me=0;Me<be-1;Me++)_e[Me]=arguments[Me];me.push((Te?Te+"\t":"")+_e.join("\t"))}),me.join("\n")}).join("\n\n"+A7+"\n\n"))],function(ae){return!!ae.replace(/[\n\t\s]/g,"")}).join("\n\n"+A7+"\n\n"),meta:oe.meta});if("function"==typeof w){var z=w(u.getOption());"string"==typeof z?x.innerHTML=z:t1(z)&&x.appendChild(z)}else x.appendChild(C),C.readOnly=p.get("readOnly"),C.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",C.style.color=p.get("textColor"),C.style.borderColor=p.get("textareaBorderColor"),C.style.backgroundColor=p.get("textareaColor"),C.value=P.value;var k=P.meta,E=document.createElement("div");E.style.cssText="position:absolute;bottom:0;left:0;right:0;";var F="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",B=document.createElement("div"),H=document.createElement("div");F+=";background-color:"+p.get("buttonColor"),F+=";color:"+p.get("buttonTextColor");var Y=this;function U(){d.removeChild(g),Y._dom=null}a1(B,"click",U),a1(H,"click",function(){if(null==D&&null!=w||null!=D&&null==w)U();else{var j;try{j="function"==typeof D?D(x,u.getOption()):function bQ(c,s){var a=c.split(new RegExp("\n*"+A7+"\n*","g")),u={series:[]};return fe(a,function(d,p){if(function(x){if(x.slice(0,x.indexOf("\n")).indexOf("\t")>=0)return!0}(d)){var g=function(x){for(var C=x.split(/\n+/g),w=[],D=tt(gv(C.shift()).split(GA),function(E){return{name:E,data:[]}}),P=0;P<C.length;P++){var z=gv(C[P]).split(GA);w.push(z.shift());for(var k=0;k<z.length;k++)D[k]&&(D[k].data[P]=z[k])}return{series:D,categories:w}}(d),v=s[p],y=v.axisDim+"Axis";v&&(u[y]=u[y]||[],u[y][v.axisIndex]={data:g.categories},u.series=u.series.concat(g.series))}else g=function(x){for(var C=x.split(/\n+/g),w=gv(C.shift()),D=[],P=0;P<C.length;P++){var z=gv(C[P]);if(z){var k=z.split(GA),E="",F=void 0,B=!1;isNaN(k[0])?(B=!0,E=k[0],k=k.slice(1),D[P]={name:E,value:[]},F=D[P].value):F=D[P]=[];for(var H=0;H<k.length;H++)F.push(+k[H]);1===F.length&&(B?D[P].value=F[0]:D[P]=F[0])}}return{name:w,data:D}}(d),u.series.push(g)}),u}(C.value,k)}catch(q){throw U(),new Error("Data view format error "+q)}j&&u.dispatchAction({type:"changeDataView",newOption:j}),U()}}),B.innerHTML=y[1],H.innerHTML=y[2],H.style.cssText=F,B.style.cssText=F,!p.get("readOnly")&&E.appendChild(H),E.appendChild(B),g.appendChild(v),g.appendChild(x),g.appendChild(E),x.style.height=d.clientHeight-80+"px",d.appendChild(g),this._dom=g},s.prototype.remove=function(a,u){this._dom&&u.getDom().removeChild(this._dom)},s.prototype.dispose=function(a,u){this.remove(a,u)},s.getDefaultOption=function(a){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},s}(bd);function G8(c,s){return tt(c,function(a,u){var d=s&&s[u];if(rn(d)&&!at(d)){rn(a)&&!at(a)||(a={value:a});var p=null!=d.name&&null==a.name;return a=jt(a,d),p&&delete a.name,a}return a})}Mh({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(c,s){var a=[];fe(c.newOption.series,function(u){var d=s.getSeriesByName(u.name)[0];if(d){var p=d.get("data");a.push({name:u.name,data:G8(u.data,p)})}else a.push(it({type:"scatter"},u))}),s.mergeOption(jt({series:a},c.newOption))});var NB=fe,FB=Zi();function mv(c){var s=FB(c);return s.snapshots||(s.snapshots=[{}]),s.snapshots}var W8=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.onclick=function(a,u){FB(a).snapshots=null,u.dispatchAction({type:"restore",from:this.uid})},s.getDefaultOption=function(a){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])}},s}(bd);Mh({type:"restore",event:"restore",update:"prepareAndUpdate"},function(c,s){s.resetOption("recreate")});var CQ=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],WA=function(){function c(s,a,u){var d=this;this._targetInfoList=[];var p=BB(a,s);fe(wQ,function(g,v){(!u||!u.include||Gn(u.include,v)>=0)&&g(p,d._targetInfoList)})}return c.prototype.setOutputRanges=function(s,a){return this.matchOutputRanges(s,a,function(u,d,p){if((u.coordRanges||(u.coordRanges=[])).push(d),!u.coordRange){u.coordRange=d;var g=$A[u.brushType](0,p,d);u.__rangeOffset={offset:j8[u.brushType](g.values,u.range,[1,1]),xyMinMax:g.xyMinMax}}}),s},c.prototype.matchOutputRanges=function(s,a,u){fe(s,function(d){var p=this.findTargetInfo(d,a);p&&!0!==p&&fe(p.coordSyses,function(g){var v=$A[d.brushType](1,g,d.range,!0);u(d,v.values,g,a)})},this)},c.prototype.setInputRanges=function(s,a){fe(s,function(u){var p,g,v,y,x=this.findTargetInfo(u,a);if(u.range=u.range||[],x&&!0!==x){u.panelId=x.panelId;var C=$A[u.brushType](0,x.coordSys,u.coordRange),w=u.__rangeOffset;u.range=w?j8[u.brushType](C.values,w.offset,(p=w.xyMinMax,g=HB(C.xyMinMax),v=HB(p),y=[g[0]/v[0],g[1]/v[1]],isNaN(y[0])&&(y[0]=1),isNaN(y[1])&&(y[1]=1),y)):C.values}},this)},c.prototype.makePanelOpts=function(s,a){return tt(this._targetInfoList,function(u){var d=u.getPanelRect();return{panelId:u.panelId,defaultBrushType:a?a(u):null,clipPath:QP(d),isTargetByCursor:rK(d,s,u.coordSysModel),getLinearBrushOtherExtent:iK(d)}})},c.prototype.controlSeries=function(s,a,u){var d=this.findTargetInfo(s,u);return!0===d||d&&Gn(d.coordSyses,a.coordinateSystem)>=0},c.prototype.findTargetInfo=function(s,a){for(var u=this._targetInfoList,d=BB(a,s),p=0;p<u.length;p++){var g=u[p],v=s.panelId;if(v){if(g.panelId===v)return g}else for(var y=0;y<VB.length;y++)if(VB[y](d,g))return g}return!0},c}();function jA(c){return c[0]>c[1]&&c.reverse(),c}function BB(c,s){return k2(c,s,{includeMainTypes:CQ})}var wQ={grid:function(c,s){var a=c.xAxisModels,u=c.yAxisModels,d=c.gridModels,p=qt(),g={},v={};(a||u||d)&&(fe(a,function(y){var x=y.axis.grid.model;p.set(x.id,x),g[x.id]=!0}),fe(u,function(y){var x=y.axis.grid.model;p.set(x.id,x),v[x.id]=!0}),fe(d,function(y){p.set(y.id,y),g[y.id]=!0,v[y.id]=!0}),p.each(function(y){var C=[];fe(y.coordinateSystem.getCartesians(),function(w,D){(Gn(a,w.getAxis("x").model)>=0||Gn(u,w.getAxis("y").model)>=0)&&C.push(w)}),s.push({panelId:"grid--"+y.id,gridModel:y,coordSysModel:y,coordSys:C[0],coordSyses:C,getPanelRect:SQ.grid,xAxisDeclared:g[y.id],yAxisDeclared:v[y.id]})}))},geo:function(c,s){fe(c.geoModels,function(a){var u=a.coordinateSystem;s.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:u,coordSyses:[u],getPanelRect:SQ.geo})})}},VB=[function(c,s){var a=c.xAxisModel,u=c.yAxisModel,d=c.gridModel;return!d&&a&&(d=a.axis.grid.model),!d&&u&&(d=u.axis.grid.model),d&&d===s.gridModel},function(c,s){var a=c.geoModel;return a&&a===s.geoModel}],SQ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var c=this.coordSys,s=c.getBoundingRect().clone();return s.applyTransform(cd(c)),s}},$A={lineX:Je(z7,0),lineY:Je(z7,1),rect:function(c,s,a,u){var d=c?s.pointToData([a[0][0],a[1][0]],u):s.dataToPoint([a[0][0],a[1][0]],u),p=c?s.pointToData([a[0][1],a[1][1]],u):s.dataToPoint([a[0][1],a[1][1]],u),g=[jA([d[0],p[0]]),jA([d[1],p[1]])];return{values:g,xyMinMax:g}},polygon:function(c,s,a,u){var d=[[1/0,-1/0],[1/0,-1/0]];return{values:tt(a,function(p){var g=c?s.pointToData(p,u):s.dataToPoint(p,u);return d[0][0]=Math.min(d[0][0],g[0]),d[1][0]=Math.min(d[1][0],g[1]),d[0][1]=Math.max(d[0][1],g[0]),d[1][1]=Math.max(d[1][1],g[1]),g}),xyMinMax:d}}};function z7(c,s,a,u){var d=a.getAxis(["x","y"][c]),p=jA(tt([0,1],function(v){return s?d.coordToData(d.toLocalCoord(u[v]),!0):d.toGlobalCoord(d.dataToCoord(u[v]))})),g=[];return g[c]=p,g[1-c]=[NaN,NaN],{values:p,xyMinMax:g}}var j8={lineX:Je(vv,0),lineY:Je(vv,1),rect:function(c,s,a){return[[c[0][0]-a[0]*s[0][0],c[0][1]-a[0]*s[0][1]],[c[1][0]-a[1]*s[1][0],c[1][1]-a[1]*s[1][1]]]},polygon:function(c,s,a){return tt(c,function(u,d){return[u[0]-a[0]*s[d][0],u[1]-a[1]*s[d][1]]})}};function vv(c,s,a,u){return[s[0]-u[c]*a[0],s[1]-u[c]*a[1]]}function HB(c){return c?[c[0][1]-c[0][0],c[1][1]-c[1][0]]:[NaN,NaN]}var qA,ZA=fe,MQ=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.render=function(a,u,d,p){this._brushController||(this._brushController=new wF(d.getZr()),this._brushController.on("brush",rt(this._onBrush,this)).mount()),function(g,v,y,x,C){var w=y._isZoomActive;x&&"takeGlobalCursor"===x.type&&(w="dataZoomSelect"===x.key&&x.dataZoomSelectActive),y._isZoomActive=w,g.setIconStatus("zoom",w?"emphasis":"normal");var D=new WA(KA(g),v,{include:["grid"]}).makePanelOpts(C,function(P){return P.xAxisDeclared&&!P.yAxisDeclared?"lineX":!P.xAxisDeclared&&P.yAxisDeclared?"lineY":"rect"});y._brushController.setPanels(D).enableBrush(!(!w||!D.length)&&{brushType:"auto",brushStyle:g.getModel("brushStyle").getItemStyle()})}(a,u,this,p,d),a.setIconStatus("back",mv(u).length>1?"emphasis":"normal")},s.prototype.onclick=function(a,u,d){DQ[d].call(this)},s.prototype.remove=function(a,u){this._brushController&&this._brushController.unmount()},s.prototype.dispose=function(a,u){this._brushController&&this._brushController.dispose()},s.prototype._onBrush=function(a){var v,y,x,u=a.areas;if(a.isEnd&&u.length){var d={},p=this.ecModel;this._brushController.updateCovers([]),new WA(KA(this.model),p,{include:["grid"]}).matchOutputRanges(u,p,function(v,y,x){if("cartesian2d"===x.type){var C=v.brushType;"rect"===C?(g("x",x,y[0]),g("y",x,y[1])):g({lineX:"x",lineY:"y"}[C],x,y)}}),y=d,x=mv(v=p),NB(y,function(C,w){for(var D=x.length-1;D>=0&&!x[D][w];D--);if(D<0){var P=v.queryComponents({mainType:"dataZoom",subType:"select",id:w})[0];if(P){var z=P.getPercentRange();x[0][w]={dataZoomId:w,start:z[0],end:z[1]}}}}),x.push(y),this._dispatchZoomAction(d)}function g(v,y,x){var z,k,F,C=y.getAxis(v),w=C.model,D=(z=v,k=w,p.eachComponent({mainType:"dataZoom",subType:"select"},function(B){B.getAxisModel(z,k.componentIndex)&&(F=B)}),F),P=D.findRepresentativeAxisProxy(w).getMinMaxSpan();null==P.minValueSpan&&null==P.maxValueSpan||(x=Z_(0,x.slice(),C.scale.getExtent(),0,P.minValueSpan,P.maxValueSpan)),D&&(d[D.id]={dataZoomId:D.id,startValue:x[0],endValue:x[1]})}},s.prototype._dispatchZoomAction=function(a){var u=[];ZA(a,function(d,p){u.push(nn(d))}),u.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:u})},s.getDefaultOption=function(a){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},s}(bd),DQ={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(c){var s=mv(c),a=s[s.length-1];s.length>1&&s.pop();var u={};return NB(a,function(d,p){for(var g=s.length-1;g>=0;g--)if(d=s[g][p]){u[p]=d;break}}),u}(this.ecModel))}};function KA(c){var s={xAxisIndex:c.get("xAxisIndex",!0),yAxisIndex:c.get("yAxisIndex",!0),xAxisId:c.get("xAxisId",!0),yAxisId:c.get("yAxisId",!0)};return null==s.xAxisIndex&&null==s.xAxisId&&(s.xAxisIndex="all"),null==s.yAxisIndex&&null==s.yAxisId&&(s.yAxisIndex="all"),s}qA=function(c){var s=c.getComponent("toolbox",0),a=["feature","dataZoom"];if(s&&null!=s.get(a)){var u=s.getModel(a),d=[],p=k2(c,KA(u));return ZA(p.xAxisModels,function(v){return g(v,"xAxis","xAxisIndex")}),ZA(p.yAxisModels,function(v){return g(v,"yAxis","yAxisIndex")}),d}function g(v,y,x){var C=v.componentIndex,w={type:"select",$fromToolbox:!0,filterMode:u.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+y+C};w[x]=C,d.push(w)}},Dl(null==nb.get("dataZoom")&&qA),nb.set("dataZoom",qA);var PQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="tooltip",s.dependencies=["axisPointer"],s.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},s}(di);function QA(c){var s=c.get("confine");return null!=s?!!s:"richText"===c.get("renderMode")}function YB(c){if(Pt.domSupported)for(var s=document.documentElement.style,a=0,u=c.length;a<u;a++)if(c[a]in s)return c[a]}var k7=YB(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function JA(c,s){if(!c)return s;s=wh(s,!0);var a=c.indexOf(s);return(c=-1===a?s:"-"+c.slice(0,a)+"-"+s).toLowerCase()}var ez=JA(YB(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),h4=JA(k7,"transform"),AQ="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Pt.transform3dSupported?"will-change:transform;":"");function UB(c,s,a){var u=c.toFixed(0)+"px",d=s.toFixed(0)+"px";if(!Pt.transformSupported)return a?"top:"+d+";left:"+u+";":[["top",d],["left",u]];var p=Pt.transform3dSupported,g="translate"+(p?"3d":"")+"("+u+","+d+(p?",0":"")+")";return a?"top:0;left:0;"+h4+":"+g+";":[["top",0],["left",0],[k7,g]]}function GB(c,s,a,u,d){var y,C,p=s&&s.painter;if(a){var g=p&&p.getViewportRoot();g&&(y=c,C=document.body,w3(C3,g,u,d,!0)&&w3(y,C,C3[0],C3[1]))}else{c[0]=u,c[1]=d;var v=p&&p.getViewportRootOffset();v&&(c[0]+=v.offsetLeft,c[1]+=v.offsetTop)}c[2]=c[0]/s.getWidth(),c[3]=c[1]/s.getHeight()}var O7=function(){function c(s,a,u){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Pt.wxa)return null;var d=document.createElement("div");d.domBelongToZr=!0,this.el=d;var p=this._zr=a.getZr(),g=this._appendToBody=u&&u.appendToBody;GB(this._styleCoord,p,g,a.getWidth()/2,a.getHeight()/2),g?document.body.appendChild(d):s.appendChild(d),this._container=s;var v=this;d.onmouseenter=function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0},d.onmousemove=function(y){if(y=y||window.event,!v._enterable){var x=p.handler;wr(p.painter.getViewportRoot(),y,!0),x.dispatch("mousemove",y)}},d.onmouseleave=function(){v._inContent=!1,v._enterable&&v._show&&v.hideLater(v._hideDelay)}}return c.prototype.update=function(s){var a,u,d,p=this._container,g=(u="position",(d=(a=p).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a))?u?d[u]:d:null),v=p.style;"absolute"!==v.position&&"absolute"!==g&&(v.position="relative"),s.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=s.get("className")||""},c.prototype.show=function(s,a){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var u=this.el,d=u.style,p=this._styleCoord;u.innerHTML?d.cssText=AQ+function zQ(c,s,a){var P,E,F,u=[],d=c.get("transitionDuration"),p=c.get("backgroundColor"),g=c.get("shadowBlur"),v=c.get("shadowColor"),y=c.get("shadowOffsetX"),x=c.get("shadowOffsetY"),C=c.getModel("textStyle"),w=p9(c,"html");return u.push("box-shadow:"+y+"px "+x+"px "+g+"px "+v),s&&d&&u.push((F="opacity"+(E=" "+(P=d)/2+"s cubic-bezier(0.23,1,0.32,1)")+",visibility"+E,a||(E=" "+P+"s cubic-bezier(0.23,1,0.32,1)",F+=Pt.transformSupported?","+h4+E:",left"+E+",top"+E),ez+":"+F)),p&&(Pt.canvasSupported?u.push("background-color:"+p):(u.push("background-color:#"+w2(p)),u.push("filter:alpha(opacity=70)"))),fe(["width","color","radius"],function(P){var z="border-"+P,k=wh(z),E=c.get(k);null!=E&&u.push(z+":"+E+("color"===P?"":"px"))}),u.push(function(P){var z=[],k=P.get("fontSize"),E=P.getTextColor();E&&z.push("color:"+E),z.push("font:"+P.getFont()),k&&z.push("line-height:"+Math.round(3*k/2)+"px");var F=P.get("textShadowColor"),B=P.get("textShadowBlur")||0,H=P.get("textShadowOffsetX")||0,Y=P.get("textShadowOffsetY")||0;return F&&B&&z.push("text-shadow:"+H+"px "+Y+"px "+B+"px "+F),fe(["decoration","align"],function(U){var j=P.get(U);j&&z.push("text-"+U+":"+j)}),z.join(";")}(C)),null!=w&&u.push("padding:"+E1(w).join("px ")+"px"),u.join(";")+";"}(s,!this._firstShow,this._longHide)+UB(p[0],p[1],!0)+"border-color:"+Zp(a)+";"+(s.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):d.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},c.prototype.setContent=function(s,a,u,d,p){var g=this.el;if(null!=s){var v="";if(ui(p)&&"item"===u.get("trigger")&&!QA(u)&&(v=function(C,w,D){if(!ui(D)||"inside"===D)return"";var P=C.get("backgroundColor"),z=C.get("borderWidth");w=Zp(w);var k,E,F="left"===(k=D)?"right":"right"===k?"left":"top"===k?"bottom":"top",B=Math.max(1.5*Math.round(z),6),H="",Y=h4+":";Gn(["left","right"],F)>-1?(H+="top:50%",Y+="translateY(-50%) rotate("+(E="left"===F?-225:-45)+"deg)"):(H+="left:50%",Y+="translateX(-50%) rotate("+(E="top"===F?225:45)+"deg)");var U=E*Math.PI/180,j=B+z,q=j*Math.abs(Math.cos(U))+j*Math.abs(Math.sin(U)),Q=w+" solid "+z+"px;";return'<div style="'+["position:absolute;width:"+B+"px;height:"+B+"px;",(H+=";"+F+":-"+Math.round(100*((q-Math.SQRT2*z)/2+Math.SQRT2*z-(q-j)/2))/100+"px")+";"+Y+";","border-bottom:"+Q,"border-right:"+Q,"background-color:"+P+";"].join("")+'"></div>'}(u,d,p)),ui(s))g.innerHTML=s+v;else if(s){g.innerHTML="",at(s)||(s=[s]);for(var y=0;y<s.length;y++)t1(s[y])&&s[y].parentNode!==g&&g.appendChild(s[y]);if(v&&g.childNodes.length){var x=document.createElement("div");x.innerHTML=v,g.appendChild(x)}}}else g.innerHTML=""},c.prototype.setEnterable=function(s){this._enterable=s},c.prototype.getSize=function(){var s=this.el;return[s.offsetWidth,s.offsetHeight]},c.prototype.moveTo=function(s,a){var u=this._styleCoord;if(GB(u,this._zr,this._appendToBody,s,a),null!=u[0]&&null!=u[1]){var d=this.el.style;fe(UB(u[0],u[1]),function(p){d[p[0]]=p[1]})}},c.prototype._moveIfResized=function(){var a=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),a*this._zr.getHeight())},c.prototype.hide=function(){var s=this,a=this.el.style;a.visibility="hidden",a.opacity="0",Pt.transform3dSupported&&(a.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return s._longHide=!0},500)},c.prototype.hideLater=function(s){!this._show||this._inContent&&this._enterable||(s?(this._hideDelay=s,this._show=!1,this._hideTimeout=setTimeout(rt(this.hide,this),s)):this.hide())},c.prototype.isShow=function(){return this._show},c.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},c}(),WB=function(){function c(s){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=s.getZr(),X8(this._styleCoord,this._zr,s.getWidth()/2,s.getHeight()/2)}return c.prototype.update=function(s){s.get("alwaysShowContent")&&this._moveIfResized()},c.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},c.prototype.setContent=function(s,a,u,d,p){rn(s)&&Ui(""),this.el&&this._zr.remove(this.el);var g=u.getModel("textStyle");this.el=new Ni({style:{rich:a.richTextStyles,text:s,lineHeight:22,backgroundColor:u.get("backgroundColor"),borderRadius:u.get("borderRadius"),borderWidth:1,borderColor:d,shadowColor:u.get("shadowColor"),shadowBlur:u.get("shadowBlur"),shadowOffsetX:u.get("shadowOffsetX"),shadowOffsetY:u.get("shadowOffsetY"),textShadowColor:g.get("textShadowColor"),textShadowBlur:g.get("textShadowBlur")||0,textShadowOffsetX:g.get("textShadowOffsetX")||0,textShadowOffsetY:g.get("textShadowOffsetY")||0,fill:u.get(["textStyle","color"]),padding:p9(u,"richText"),verticalAlign:"top",align:"left"},z:u.get("z")}),this._zr.add(this.el);var v=this;this.el.on("mouseover",function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0}),this.el.on("mouseout",function(){v._enterable&&v._show&&v.hideLater(v._hideDelay),v._inContent=!1})},c.prototype.setEnterable=function(s){this._enterable=s},c.prototype.getSize=function(){var s=this.el,a=this.el.getBoundingRect(),u=$8(s.style);return[a.width+u.left+u.right,a.height+u.top+u.bottom]},c.prototype.moveTo=function(s,a){var u=this.el;if(u){var d=this._styleCoord;X8(d,this._zr,s,a),s=d[0],a=d[1];var p=u.style,g=bg(p.borderWidth||0),v=$8(p);u.x=s+g+v.left,u.y=a+g+v.top,u.markRedraw()}},c.prototype._moveIfResized=function(){var a=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),a*this._zr.getHeight())},c.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},c.prototype.hideLater=function(s){!this._show||this._inContent&&this._enterable||(s?(this._hideDelay=s,this._show=!1,this._hideTimeout=setTimeout(rt(this.hide,this),s)):this.hide())},c.prototype.isShow=function(){return this._show},c.prototype.dispose=function(){this._zr.remove(this.el)},c}();function bg(c){return Math.max(0,c)}function $8(c){var s=bg(c.shadowBlur||0),a=bg(c.shadowOffsetX||0),u=bg(c.shadowOffsetY||0);return{left:bg(s-a),right:bg(s+a),top:bg(s-u),bottom:bg(s+u)}}function X8(c,s,a,u){c[0]=a,c[1]=u,c[2]=c[0]/s.getWidth(),c[3]=c[1]/s.getHeight()}var E7=rt,Cg=fe,tz=At,kQ=new gi({shape:{x:-1,y:-1,width:2,height:2}}),OQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u){if(!Pt.node){var d,p=a.getComponent("tooltip"),g=p.get("renderMode");this._renderMode="auto"===(d=g)?Pt.domSupported?"html":"richText":d||"html",this._tooltipContent="richText"===this._renderMode?new WB(u):new O7(u.getDom(),u,{appendToBody:p.get("appendToBody",!0)})}},s.prototype.render=function(a,u,d){if(!Pt.node){this.group.removeAll(),this._tooltipModel=a,this._ecModel=u,this._api=d,this._alwaysShowContent=a.get("alwaysShowContent");var p=this._tooltipContent;p.update(a),p.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?my(E7(this._doUpdatePosition,this),50):this._doUpdatePosition}},s.prototype._initGlobalListener=function(){var a=this._tooltipModel.get("triggerOn");mB("itemTooltip",this._api,E7(function(u,d,p){"none"!==a&&(a.indexOf(u)>=0?this._tryShow(d,p):"leave"===u&&this._hide(p))},this))},s.prototype._keepShow=function(){var a=this._tooltipModel,u=this._ecModel,d=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var p=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!d.isDisposed()&&p.manuallyShowTip(a,u,d,{x:p._lastX,y:p._lastY,dataByCoordSys:p._lastDataByCoordSys})})}},s.prototype.manuallyShowTip=function(a,u,d,p){if(p.from!==this.uid&&!Pt.node){var g=jB(p,d);this._ticket="";var v=p.dataByCoordSys,y=function(z,k,E){var F=JE(z).queryOptionMap,B=F.keys()[0];if(B&&"series"!==B){var H,Y=O3(k,B,F.get(B),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(Y&&(E.getViewOfComponentModel(Y).group.traverse(function(U){var j=Pn(U).tooltipConfig;if(j&&j.name===z.name)return H=U,!0}),H))return{componentMainType:B,componentIndex:Y.componentIndex,el:H}}}(p,u,d);if(y){var x=y.el.getBoundingRect().clone();x.applyTransform(y.el.transform),this._tryShow({offsetX:x.x+x.width/2,offsetY:x.y+x.height/2,target:y.el,position:p.position,positionDefault:"bottom"},g)}else if(p.tooltip&&null!=p.x&&null!=p.y){var C=kQ;C.x=p.x,C.y=p.y,C.update(),Pn(C).tooltipConfig={name:null,option:p.tooltip},this._tryShow({offsetX:p.x,offsetY:p.y,target:C},g)}else if(v)this._tryShow({offsetX:p.x,offsetY:p.y,position:p.position,dataByCoordSys:v,tooltipOption:p.tooltipOption},g);else if(null!=p.seriesIndex){if(this._manuallyAxisShowTip(a,u,d,p))return;var w=_B(p,u),D=w.point[0],P=w.point[1];null!=D&&null!=P&&this._tryShow({offsetX:D,offsetY:P,target:w.el,position:p.position,positionDefault:"bottom"},g)}else null!=p.x&&null!=p.y&&(d.dispatchAction({type:"updateAxisPointer",x:p.x,y:p.y}),this._tryShow({offsetX:p.x,offsetY:p.y,position:p.position,target:d.getZr().findHover(p.x,p.y).target},g))}},s.prototype.manuallyHideTip=function(a,u,d,p){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,p.from!==this.uid&&this._hide(jB(p,d))},s.prototype._manuallyAxisShowTip=function(a,u,d,p){var g=p.seriesIndex,v=p.dataIndex,y=u.getComponent("axisPointer").coordSysAxesInfo;if(null!=g&&null!=v&&null!=y){var x=u.getSeriesByIndex(g);if(x&&"axis"===I7([x.getData().getItemModel(v),x,(x.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return d.dispatchAction({type:"updateAxisPointer",seriesIndex:g,dataIndex:v,position:p.position}),!0}},s.prototype._tryShow=function(a,u){var d=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var p=a.dataByCoordSys;if(p&&p.length)this._showAxisTooltip(p,a);else if(d){var g,v;this._lastDataByCoordSys=null,oi(d,function(y){return null!=Pn(y).dataIndex?(g=y,!0):null!=Pn(y).tooltipConfig?(v=y,!0):void 0},!0),g?this._showSeriesItemTooltip(a,g,u):v?this._showComponentItemTooltip(a,v,u):this._hide(u)}else this._lastDataByCoordSys=null,this._hide(u)}},s.prototype._showOrMove=function(a,u){var d=a.get("showDelay");u=rt(u,this),clearTimeout(this._showTimout),d>0?this._showTimout=setTimeout(u,d):u()},s.prototype._showAxisTooltip=function(a,u){var d=this._ecModel,g=[u.offsetX,u.offsetY],v=I7([u.tooltipOption],this._tooltipModel),y=this._renderMode,x=[],C=bs("section",{blocks:[],noHeader:!0}),w=[],D=new g9;Cg(a,function(B){Cg(B.dataByAxis,function(H){var Y=d.getComponent(H.axisDim+"Axis",H.axisIndex),U=H.value;if(Y&&null!=U){var j=fB(U,Y.axis,d,H.seriesDataIndices,H.valueLabelOpt),q=bs("section",{header:j,noHeader:!ih(j),sortBlocks:!0,blocks:[]});C.blocks.push(q),fe(H.seriesDataIndices,function(Q){var re=d.getSeriesByIndex(Q.seriesIndex),oe=Q.dataIndexInside,ae=re.getDataParams(oe);if(!(ae.dataIndex<0)){ae.axisDim=H.axisDim,ae.axisIndex=H.axisIndex,ae.axisType=H.axisType,ae.axisId=H.axisId,ae.axisValue=mD(Y.axis,{value:U}),ae.axisValueLabel=j,ae.marker=D.makeTooltipMarker("item",Zp(ae.color),y);var he=e9(re.formatTooltip(oe,!0,null));he.markupFragment&&q.blocks.push(he.markupFragment),he.markupText&&w.push(he.markupText),x.push(ae)}})}})}),C.blocks.reverse(),w.reverse();var P=u.position,z=v.get("order"),k=BL(C,D,y,z,d.get("useUTC"),v.get("textStyle"));k&&w.unshift(k);var F=w.join("richText"===y?"\n\n":"<br/>");this._showOrMove(v,function(){this._updateContentNotChangedOnAxis(a,x)?this._updatePosition(v,P,g[0],g[1],this._tooltipContent,x):this._showTooltipContent(v,F,x,Math.random()+"",g[0],g[1],P,null,D)})},s.prototype._showSeriesItemTooltip=function(a,u,d){var p=this._ecModel,g=Pn(u),v=g.seriesIndex,y=p.getSeriesByIndex(v),x=g.dataModel||y,C=g.dataIndex,w=g.dataType,D=x.getData(w),P=this._renderMode,z=a.positionDefault,k=I7([D.getItemModel(C),x,y&&(y.coordinateSystem||{}).model],this._tooltipModel,z?{position:z}:null),E=k.get("trigger");if(null==E||"item"===E){var F=x.getDataParams(C,w),B=new g9;F.marker=B.makeTooltipMarker("item",Zp(F.color),P);var H=e9(x.formatTooltip(C,!1,w)),Y=k.get("order"),U=H.markupFragment?BL(H.markupFragment,B,P,Y,p.get("useUTC"),k.get("textStyle")):H.markupText,j="item_"+x.name+"_"+C;this._showOrMove(k,function(){this._showTooltipContent(k,U,F,j,a.offsetX,a.offsetY,a.position,a.target,B)}),d({type:"showTip",dataIndexInside:C,dataIndex:D.getRawIndex(C),seriesIndex:v,from:this.uid})}},s.prototype._showComponentItemTooltip=function(a,u,d){var p=Pn(u),g=p.tooltipConfig.option||{};ui(g)&&(g={content:g,formatter:g});var v=[g],y=this._ecModel.getComponent(p.componentMainType,p.componentIndex);y&&v.push(y),v.push({formatter:g.content});var x=a.positionDefault,C=I7(v,this._tooltipModel,x?{position:x}:null),w=C.get("content"),D=Math.random()+"",P=new g9;this._showOrMove(C,function(){var z=nn(C.get("formatterParams")||{});this._showTooltipContent(C,w,z,D,a.offsetX,a.offsetY,a.position,u,P)}),d({type:"showTip",from:this.uid})},s.prototype._showTooltipContent=function(a,u,d,p,g,v,y,x,C){if(this._ticket="",a.get("showContent")&&a.get("show")){var w=this._tooltipContent,D=a.get("formatter");y=y||a.get("position");var P=u,z=this._getNearestPoint([g,v],d,a.get("trigger"),a.get("borderColor")).color;if(D)if(ui(D)){var k=a.ecModel.get("useUTC"),E=at(d)?d[0]:d;P=D,E&&E.axisType&&E.axisType.indexOf("time")>=0&&(P=iy(E.axisValue,P,k)),P=LM(P,d,!0)}else if(wi(D)){var F=E7(function(B,H){B===this._ticket&&(w.setContent(H,C,a,z,y),this._updatePosition(a,y,g,v,w,d,x))},this);this._ticket=p,P=D(d,p,F)}else P=D;w.setContent(P,C,a,z,y),w.show(a,z),this._updatePosition(a,y,g,v,w,d,x)}},s.prototype._getNearestPoint=function(a,u,d,p){return"axis"===d||at(u)?{color:p||("html"===this._renderMode?"#fff":"none")}:at(u)?void 0:{color:p||u.color||u.borderColor}},s.prototype._doUpdatePosition=function(a,u,d,p,g,v,y){var x=this._api.getWidth(),C=this._api.getHeight();u=u||a.get("position");var B,H,U,j,q,Q,re,oe,ae,w=g.getSize(),D=a.get("align"),P=a.get("verticalAlign"),z=y&&y.getBoundingRect().clone();if(y&&z.applyTransform(y.transform),wi(u)&&(u=u([d,p],v,g.el,z,{viewSize:[x,C],contentSize:w.slice()})),at(u))d=tz(u[0],x),p=tz(u[1],C);else if(rn(u)){var k=u;k.width=w[0],k.height=w[1];var E=io(k,{width:x,height:C});d=E.x,p=E.y,D=null,P=null}else if(ui(u)&&y){var F=function(B,H,Y,U){var j=Y[0],q=Y[1],Q=Math.ceil(Math.SQRT2*U)+8,re=0,oe=0,ae=H.width,he=H.height;switch(B){case"inside":re=H.x+ae/2-j/2,oe=H.y+he/2-q/2;break;case"top":re=H.x+ae/2-j/2,oe=H.y-q-Q;break;case"bottom":re=H.x+ae/2-j/2,oe=H.y+he+Q;break;case"left":re=H.x-j-Q,oe=H.y+he/2-q/2;break;case"right":re=H.x+ae+Q,oe=H.y+he/2-q/2}return[re,oe]}(u,z,w,a.get("borderWidth"));d=F[0],p=F[1]}else B=d,H=p,U=x,j=C,q=D?null:20,Q=P?null:20,oe=(re=g.getSize())[0],ae=re[1],null!=q&&(B+oe+q+2>U?B-=oe+q:B+=q),null!=Q&&(H+ae+Q>j?H-=ae+Q:H+=Q),d=(F=[B,H])[0],p=F[1];D&&(d-=$B(D)?w[0]/2:"right"===D?w[0]:0),P&&(p-=$B(P)?w[1]/2:"bottom"===P?w[1]:0),QA(a)&&(F=function(B,H,Y,U,j){var q=Y.getSize(),Q=q[0],re=q[1];return B=Math.min(B+Q,U)-Q,H=Math.min(H+re,j)-re,[B=Math.max(B,0),H=Math.max(H,0)]}(d,p,g,x,C),d=F[0],p=F[1]),g.moveTo(d,p)},s.prototype._updateContentNotChangedOnAxis=function(a,u){var d=this._lastDataByCoordSys,p=this._cbParamsList,g=!!d&&d.length===a.length;return g&&Cg(d,function(v,y){var x=v.dataByAxis||[],C=(a[y]||{}).dataByAxis||[];(g=g&&x.length===C.length)&&Cg(x,function(w,D){var P=C[D]||{},z=w.seriesDataIndices||[],k=P.seriesDataIndices||[];(g=g&&w.value===P.value&&w.axisType===P.axisType&&w.axisId===P.axisId&&z.length===k.length)&&Cg(z,function(E,F){var B=k[F];g=g&&E.seriesIndex===B.seriesIndex&&E.dataIndex===B.dataIndex}),p&&fe(w.seriesDataIndices,function(E){var F=E.seriesIndex,B=u[F],H=p[F];B&&H&&H.data!==B.data&&(g=!1)})})}),this._lastDataByCoordSys=a,this._cbParamsList=u,!!g},s.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},s.prototype.dispose=function(a,u){Pt.node||(this._tooltipContent.dispose(),o4("itemTooltip",u))},s.type="tooltip",s}($r);function I7(c,s,a){var u,d=s.ecModel;a?(u=new tr(a,d,d),u=new tr(s.option,u,d)):u=s;for(var p=c.length-1;p>=0;p--){var g=c[p];g&&(g instanceof tr&&(g=g.get("tooltip",!0)),ui(g)&&(g={formatter:g}),g&&(u=new tr(g,u,d)))}return u}function jB(c,s){return c.dispatchAction||rt(s.dispatchAction,s)}function $B(c){return"center"===c||"middle"===c}var XB=["rect","polygon","keep","clear"];function EQ(c,s){var y,x,a=Sr(c?c.brush:[]);if(a.length){var u=[];fe(a,function(y){var x=y.hasOwnProperty("toolbox")?y.toolbox:[];x instanceof Array&&(u=u.concat(x))});var d=c&&c.toolbox;at(d)&&(d=d[0]),d||(c.toolbox=[d={feature:{}}]);var p=d.feature||(d.feature={}),g=p.brush||(p.brush={}),v=g.type||(g.type=[]);v.push.apply(v,u),x={},fe(y=v,function(C){x[C]=1}),y.length=0,fe(x,function(C,w){y.push(w)}),s&&!v.length&&v.push.apply(v,XB)}}var qB=fe;function ZB(c){if(c)for(var s in c)if(c.hasOwnProperty(s))return!0}function nz(c,s,a){var u={};return qB(s,function(d){var p,g=u[d]=((p=function(){}).prototype.__hidden=p.prototype,new p);qB(c[d],function(v,y){if(ws.isValidType(y)){var x={type:y,visual:v};a&&a(x,d),g[y]=new ws(x),"opacity"===y&&((x=nn(x)).type="colorAlpha",g.__hidden.__alphaForOpacity=new ws(x))}})}),u}function KB(c,s,a){var u;fe(a,function(d){s.hasOwnProperty(d)&&ZB(s[d])&&(u=!0)}),u&&fe(a,function(d){s.hasOwnProperty(d)&&ZB(s[d])?c[d]=nn(s[d]):delete c[d]})}var QB={lineX:JB(0),lineY:JB(1),rect:{point:function(c,s,a){return c&&a.boundingRect.contain(c[0],c[1])},rect:function(c,s,a){return c&&a.boundingRect.intersect(c)}},polygon:{point:function(c,s,a){return c&&a.boundingRect.contain(c[0],c[1])&&ng(a.range,c[0],c[1])},rect:function(c,s,a){var u=a.range;if(!c||u.length<=1)return!1;var d=c.x,p=c.y,g=c.width,v=c.height,y=u[0];return!!(ng(u,d,p)||ng(u,d+g,p)||ng(u,d,p+v)||ng(u,d+g,p+v)||qn.create(c).contain(y[0],y[1])||J3(d,p,d+g,p,u)||J3(d,p,d,p+v,u)||J3(d+g,p,d+g,p+v,u)||J3(d,p+v,d+g,p+v,u))||void 0}}};function JB(c){var s=["x","y"],a=["width","height"];return{point:function(u,d,p){if(u)return d4(u[c],p.range)},rect:function(u,d,p){if(u){var g=p.range,v=[u[s[c]],u[s[c]]+u[a[c]]];return v[1]<v[0]&&v.reverse(),d4(v[0],g)||d4(v[1],g)||d4(g[0],v)||d4(g[1],v)}}}}function d4(c,s){return s[0]<=c&&c<=s[1]}var eV=["inBrush","outOfBrush"],L7="__ecInBrushSelectEvent";function IQ(c){c.eachComponent({mainType:"brush"},function(s){(s.brushTargetManager=new WA(s.option,c)).setInputRanges(s.areas,c)})}function nV(c,s,a){var u,d,p=[];c.eachComponent({mainType:"brush"},function(g){a&&"takeGlobalCursor"===a.type&&g.setBrushOption("brush"===a.key?a.brushOption:{brushType:!1})}),IQ(c),c.eachComponent({mainType:"brush"},function(g,v){var y={brushId:g.id,brushIndex:v,brushName:g.name,areas:nn(g.areas),selected:[]};p.push(y);var x=g.option,C=x.brushLink,w=[],D=[],P=[],z=!1;v||(u=x.throttleType,d=x.throttleDelay);var k=tt(g.areas,function(H){var j,q,Q,Y=LQ[H.brushType],U=jt({boundingRect:Y?Y(H):void 0},H);return U.selectors=(q=(j=U).brushType,Q={point:function(re){return QB[q].point(re,Q,j)},rect:function(re){return QB[q].rect(re,Q,j)}}),U}),E=nz(g.option,eV,function(H){H.mappingMethod="fixed"});function F(H){return"all"===C||!!w[H]}function B(H){return!!H.length}at(C)&&fe(C,function(H){w[H]=1}),c.eachSeries(function(H,Y){var j,q,Q,U=P[Y]=[];"parallel"===H.subType?(q=Y,Q=(j=H).coordinateSystem,z=z||Q.hasAxisBrushed(),F(q)&&Q.eachActiveState(j.getData(),function(re,oe){"active"===re&&(D[oe]=1)})):function(j,q,Q){if(j.brushSelector&&(ae=q,null==(he=g.option.seriesIndex)||"all"===he||!(at(he)?Gn(he,ae)<0:ae!==he))&&(fe(k,function(oe){g.brushTargetManager.controlSeries(oe,j,c)&&Q.push(oe),z=z||B(Q)}),F(q)&&B(Q))){var re=j.getData();re.each(function(oe){rV(j,Q,re,oe)&&(D[oe]=1)})}var ae,he}(H,Y,U)}),c.eachSeries(function(H,Y){var U={seriesId:H.id,seriesIndex:Y,seriesName:H.name,dataIndex:[]};y.selected.push(U);var j=P[Y],q=H.getData(),Q=F(Y)?function(re){return D[re]?(U.dataIndex.push(q.getRawIndex(re)),"inBrush"):"outOfBrush"}:function(re){return rV(H,j,q,re)?(U.dataIndex.push(q.getRawIndex(re)),"inBrush"):"outOfBrush"};(F(Y)?z:B(j))&&function(re,oe,ae,he,me,_e){var be,we={};function Te(Ie){return E0(ae,be,Ie)}function Me(Ie,Ue){N1(ae,be,Ie,Ue)}function Ae(Ie,Ue){var qe=ae.getRawDataItem(be=Ie);if(!qe||!1!==qe.visualMap)for(var ft=he.call(undefined,Ie),$e=oe[ft],ot=we[ft],bt=0,gt=ot.length;bt<gt;bt++){var vt=ot[bt];$e[vt]&&$e[vt].applyVisual(Ie,Te,Me)}}fe(re,function(Ie){var Ue=ws.prepareVisualTypes(oe[Ie]);we[Ie]=Ue}),ae.each(Ae)}(eV,E,q,Q)})}),function(g,v,y,x,C){if(C){var w=g.getZr();w[L7]||(w.__ecBrushSelect||(w.__ecBrushSelect=iV),eg(w,"__ecBrushSelect",y,v)(g,x))}}(s,u,d,p,a)}function iV(c,s){if(!c.isDisposed()){var a=c.getZr();a[L7]=!0,c.dispatchAction({type:"brushSelect",batch:s}),a[L7]=!1}}function rV(c,s,a,u){for(var d=0,p=s.length;d<p;d++){var g=s[d];if(c.brushSelector(u,a,g.selectors,g))return!0}}var LQ={rect:function(c){return oV(c.range)},polygon:function(c){for(var s,a=c.range,u=0,d=a.length;u<d;u++){var p=a[u];p[0]<(s=s||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(s[0][0]=p[0]),p[0]>s[0][1]&&(s[0][1]=p[0]),p[1]<s[1][0]&&(s[1][0]=p[1]),p[1]>s[1][1]&&(s[1][1]=p[1])}return s&&oV(s)}};function oV(c){return new qn(c[0][0],c[1][0],c[0][1]-c[0][0],c[1][1]-c[1][0])}var RQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u){this.ecModel=a,this.api=u,(this._brushController=new wF(u.getZr())).on("brush",rt(this._onBrush,this)).mount()},s.prototype.render=function(a,u,d,p){this.model=a,this._updateController(a,u,d,p)},s.prototype.updateTransform=function(a,u,d,p){IQ(u),this._updateController(a,u,d,p)},s.prototype.updateVisual=function(a,u,d,p){this.updateTransform(a,u,d,p)},s.prototype.updateView=function(a,u,d,p){this._updateController(a,u,d,p)},s.prototype._updateController=function(a,u,d,p){(!p||p.$from!==a.id)&&this._brushController.setPanels(a.brushTargetManager.makePanelOpts(d)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},s.prototype.dispose=function(){this._brushController.dispose()},s.prototype._onBrush=function(a){var u=this.model.id,d=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:u,areas:nn(d),$from:u}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:u,areas:nn(d),$from:u})},s.type="brush",s}($r),NQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.areas=[],a.brushOption={},a}return Ee(s,c),s.prototype.optionUpdated=function(a,u){var d=this.option;!u&&KB(d,a,["inBrush","outOfBrush"]);var p=d.inBrush=d.inBrush||{};d.outOfBrush=d.outOfBrush||{color:"#ddd"},p.hasOwnProperty("liftZ")||(p.liftZ=5)},s.prototype.setAreas=function(a){a&&(this.areas=tt(a,function(u){return aV(this.option,u)},this))},s.prototype.setBrushOption=function(a){this.brushOption=aV(this.option,a),this.brushType=this.brushOption.brushType},s.type="brush",s.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],s.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},s}(di);function aV(c,s){return Mn({brushType:c.brushType,brushMode:c.brushMode,transformable:c.transformable,brushStyle:new tr(c.brushStyle).getItemStyle(),removeOnClick:c.removeOnClick,z:c.z},s,!0)}var sV=["rect","polygon","lineX","lineY","keep","clear"],iz=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return Ee(s,c),s.prototype.render=function(a,u,d){var p,g,v;u.eachComponent({mainType:"brush"},function(y){p=y.brushType,g=y.brushOption.brushMode||"single",v=v||!!y.areas.length}),this._brushType=p,this._brushMode=g,fe(a.get("type",!0),function(y){a.setIconStatus(y,("keep"===y?"multiple"===g:"clear"===y?v:y===p)?"emphasis":"normal")})},s.prototype.updateView=function(a,u,d){this.render(a,u,d)},s.prototype.getIcons=function(){var a=this.model,u=a.get("icon",!0),d={};return fe(a.get("type",!0),function(p){u[p]&&(d[p]=u[p])}),d},s.prototype.onclick=function(a,u,d){var p=this._brushType,g=this._brushMode;"clear"===d?(u.dispatchAction({type:"axisAreaSelect",intervals:[]}),u.dispatchAction({type:"brush",command:"clear",areas:[]})):u.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===d?p:p!==d&&d,brushMode:"keep"===d?"multiple"===g?"single":"multiple":g}})},s.getDefaultOption=function(a){return{show:!0,type:sV.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])}},s}(bd),FQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.layoutMode={type:"box",ignoreSize:!0},a}return Ee(s,c),s.type="title",s.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},s}(di),lV=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.render=function(a,u,d){if(this.group.removeAll(),a.get("show")){var p=this.group,g=a.getModel("textStyle"),v=a.getModel("subtextStyle"),y=a.get("textAlign"),x=xi(a.get("textBaseline"),a.get("textVerticalAlign")),C=new Ni({style:ha(g,{text:a.get("text"),fill:g.getTextColor()},{disableBox:!0}),z2:10}),w=C.getBoundingRect(),D=a.get("subtext"),P=new Ni({style:ha(v,{text:D,fill:v.getTextColor(),y:w.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),z=a.get("link"),k=a.get("sublink"),E=a.get("triggerEvent",!0);C.silent=!z&&!E,P.silent=!k&&!E,z&&C.on("click",function(){J5(z,"_"+a.get("target"))}),k&&P.on("click",function(){J5(k,"_"+a.get("subtarget"))}),Pn(C).eventData=Pn(P).eventData=E?{componentType:"title",componentIndex:a.componentIndex}:null,p.add(C),D&&p.add(P);var F=p.getBoundingRect(),B=a.getBoxLayoutParams();B.width=F.width,B.height=F.height;var H=io(B,{width:d.getWidth(),height:d.getHeight()},a.get("padding"));y||("middle"===(y=a.get("left")||a.get("right"))&&(y="center"),"right"===y?H.x+=H.width:"center"===y&&(H.x+=H.width/2)),x||("center"===(x=a.get("top")||a.get("bottom"))&&(x="middle"),"bottom"===x?H.y+=H.height:"middle"===x&&(H.y+=H.height/2),x=x||"top"),p.x=H.x,p.y=H.y,p.markRedraw();var Y={align:y,verticalAlign:x};C.setStyle(Y),P.setStyle(Y),F=p.getBoundingRect();var U=H.margin,j=a.getItemStyle(["color","opacity"]);j.fill=a.get("backgroundColor");var q=new gi({shape:{x:F.x-U[3],y:F.y-U[0],width:F.width+U[1]+U[3],height:F.height+U[0]+U[2],r:a.get("borderRadius")},style:j,subPixelOptimize:!0,silent:!0});p.add(q)}},s.type="title",s}($r),_v=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.layoutMode="box",a}return Ee(s,c),s.prototype.init=function(a,u,d){this.mergeDefaultAndTheme(a,d),this._initData()},s.prototype.mergeOption=function(a){c.prototype.mergeOption.apply(this,arguments),this._initData()},s.prototype.setCurrentIndex=function(a){null==a&&(a=this.option.currentIndex);var u=this._data.count();this.option.loop?a=(a%u+u)%u:(a>=u&&(a=u-1),a<0&&(a=0)),this.option.currentIndex=a},s.prototype.getCurrentIndex=function(){return this.option.currentIndex},s.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},s.prototype.setPlayState=function(a){this.option.autoPlay=!!a},s.prototype.getPlayState=function(){return!!this.option.autoPlay},s.prototype._initData=function(){var a,u=this.option,d=u.data||[],p=u.axisType,g=this._names=[];"category"===p?(a=[],fe(d,function(y,x){var C,w=Vo(Rp(y),"");rn(y)?(C=nn(y)).value=x:C=x,a.push(C),g.push(w)})):a=d,(this._data=new ts([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[p]||"number"}],this)).initData(a,g)},s.prototype.getData=function(){return this._data},s.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},s.type="timeline",s.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},s}(di),R7=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="timeline.slider",s.defaultOption=$p(_v.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),s}(_v);Gr(R7,JM.prototype);var BQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="timeline",s}($r),cV=function(c){function s(a,u,d,p){var g=c.call(this,a,u,d)||this;return g.type=p||"value",g}return Ee(s,c),s.prototype.getLabelModel=function(){return this.model.getModel("label")},s.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},s}(Iu),f4=Math.PI,q8=Zi(),uV=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(a,u){this.api=u},s.prototype.render=function(a,u,d){if(this.model=a,this.api=d,this.ecModel=u,this.group.removeAll(),a.get("show",!0)){var p=this._layout(a,d),g=this._createGroup("_mainGroup"),v=this._createGroup("_labelGroup"),y=this._axis=this._createAxis(p,a);a.formatTooltip=function(x){return bs("nameValue",{noName:!0,value:y.scale.getLabel({value:x})})},fe(["AxisLine","AxisTick","Control","CurrentPointer"],function(x){this["_render"+x](p,g,y,a)},this),this._renderAxisLabel(p,v,y,a),this._position(p,a)}this._doPlayStop(),this._updateTicksStatus()},s.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},s.prototype.dispose=function(){this._clearTimer()},s.prototype._layout=function(a,u){var d,p,g,v,he,me,y=a.get(["label","position"]),x=a.get("orient"),C=(me=u,io((he=a).getBoxLayoutParams(),{width:me.getWidth(),height:me.getHeight()},he.get("padding"))),w={horizontal:"center",vertical:(d=null==y||"auto"===y?"horizontal"===x?C.y+C.height/2<u.getHeight()/2?"-":"+":C.x+C.width/2<u.getWidth()/2?"+":"-":ui(y)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[x][y]:y)>=0||"+"===d?"left":"right"},D={horizontal:d>=0||"+"===d?"top":"bottom",vertical:"middle"},P={horizontal:0,vertical:f4/2},z="vertical"===x?C.height:C.width,k=a.getModel("controlStyle"),E=k.get("show",!0),F=E?k.get("itemSize"):0,B=E?k.get("itemGap"):0,H=F+B,Y=a.get(["label","rotate"])||0;Y=Y*f4/180;var U=k.get("position",!0),j=E&&k.get("showPlayBtn",!0),q=E&&k.get("showPrevBtn",!0),Q=E&&k.get("showNextBtn",!0),re=0,oe=z;"left"===U||"bottom"===U?(j&&(p=[0,0],re+=H),q&&(g=[re,0],re+=H),Q&&(v=[oe-F,0],oe-=H)):(j&&(p=[oe-F,0],oe-=H),q&&(g=[0,0],re+=H),Q&&(v=[oe-F,0],oe-=H));var ae=[re,oe];return a.get("inverse")&&ae.reverse(),{viewRect:C,mainLength:z,orient:x,rotation:P[x],labelRotation:Y,labelPosOpt:d,labelAlign:a.get(["label","align"])||w[x],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||D[x],playPosition:p,prevBtnPosition:g,nextBtnPosition:v,axisExtent:ae,controlSize:F,controlGap:B}},s.prototype._position=function(a,u){var d=this._mainGroup,p=this._labelGroup,g=a.viewRect;if("vertical"===a.orient){var v=[1,0,0,1,0,0],y=g.x,x=g.y+g.height;Ic(v,v,[-y,-x]),kl(v,v,-f4/2),Ic(v,v,[y,x]),(g=g.clone()).applyTransform(v)}var C=B(g),w=B(d.getBoundingRect()),D=B(p.getBoundingRect()),P=[d.x,d.y],z=[p.x,p.y];z[0]=P[0]=C[0][0];var k,E=a.labelPosOpt;function F(Y){Y.originX=C[0][0]-Y.x,Y.originY=C[1][0]-Y.y}function B(Y){return[[Y.x,Y.x+Y.width],[Y.y,Y.y+Y.height]]}function H(Y,U,j,q,Q){Y[q]+=j[q][Q]-U[q][Q]}null==E||ui(E)?(H(P,w,C,1,k="+"===E?0:1),H(z,D,C,1,1-k)):(H(P,w,C,1,k=E>=0?0:1),z[1]=P[1]+E),d.setPosition(P),p.setPosition(z),d.rotation=p.rotation=a.rotation,F(d),F(p)},s.prototype._createAxis=function(a,u){var d=u.getData(),p=u.get("axisType"),g=function(x,C){if(C=C||x.get("type"))switch(C){case"category":return new uD({ordinalMeta:x.getCategories(),extent:[1/0,-1/0]});case"time":return new Ub({locale:x.ecModel.getLocaleModel(),useUTC:x.ecModel.get("useUTC")});default:return new A_}}(u,p);g.getTicks=function(){return d.mapArray(["value"],function(x){return{value:x}})};var v=d.getDataExtent("value");g.setExtent(v[0],v[1]),g.niceTicks();var y=new cV("value",g,a.axisExtent,p);return y.model=u,y},s.prototype._createGroup=function(a){var u=this[a]=new Xt;return this.group.add(u),u},s.prototype._renderAxisLine=function(a,u,d,p){var g=d.getExtent();if(p.get(["lineStyle","show"])){var v=new Fa({shape:{x1:g[0],y1:0,x2:g[1],y2:0},style:it({lineCap:"round"},p.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});u.add(v);var y=this._progressLine=new Fa({shape:{x1:g[0],x2:this._currentPointer?this._currentPointer.x:g[0],y1:0,y2:0},style:jt({lineCap:"round",lineWidth:v.style.lineWidth},p.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});u.add(y)}},s.prototype._renderAxisTick=function(a,u,d,p){var g=this,v=p.getData(),y=d.scale.getTicks();this._tickSymbols=[],fe(y,function(x){var C=d.dataToCoord(x.value),w=v.getItemModel(x.value),D=w.getModel("itemStyle"),P=w.getModel(["emphasis","itemStyle"]),z=w.getModel(["progress","itemStyle"]),k={x:C,y:0,onclick:rt(g._changeTimeline,g,x.value)},E=rz(w,D,u,k);E.ensureState("emphasis").style=P.getItemStyle(),E.ensureState("progress").style=z.getItemStyle(),eo(E);var F=Pn(E);w.get("tooltip")?(F.dataIndex=x.value,F.dataModel=p):F.dataIndex=F.dataModel=null,g._tickSymbols.push(E)})},s.prototype._renderAxisLabel=function(a,u,d,p){var g=this;if(d.getLabelModel().get("show")){var v=p.getData(),y=d.getViewLabels();this._tickLabels=[],fe(y,function(x){var C=x.tickValue,w=v.getItemModel(C),D=w.getModel("label"),P=w.getModel(["emphasis","label"]),z=w.getModel(["progress","label"]),k=d.dataToCoord(x.tickValue),E=new Ni({x:k,y:0,rotation:a.labelRotation-a.rotation,onclick:rt(g._changeTimeline,g,C),silent:!1,style:ha(D,{text:x.formattedLabel,align:a.labelAlign,verticalAlign:a.labelBaseline})});E.ensureState("emphasis").style=ha(P),E.ensureState("progress").style=ha(z),u.add(E),eo(E),q8(E).dataIndex=C,g._tickLabels.push(E)})}},s.prototype._renderControl=function(a,u,d,p){var g=a.controlSize,v=a.rotation,y=p.getModel("controlStyle").getItemStyle(),x=p.getModel(["emphasis","controlStyle"]).getItemStyle(),C=p.getPlayState(),w=p.get("inverse",!0);function D(P,z,k,E){if(P){var F=Ol(xi(p.get(["controlStyle",z+"BtnSize"]),g),g),B=(U=[0,-F/2,F,F],q=(j={x:P[0],y:P[1],originX:g/2,originY:0,rotation:E?-v:0,rectHover:!0,style:y,onclick:k}).style,Q=K2(p.get(["controlStyle",z+"Icon"]),j||{},new qn(U[0],U[1],U[2],U[3])),q&&Q.setStyle(q),Q);B.ensureState("emphasis").style=x,u.add(B),eo(B)}var U,j,q,Q}D(a.nextBtnPosition,"next",rt(this._changeTimeline,this,w?"-":"+")),D(a.prevBtnPosition,"prev",rt(this._changeTimeline,this,w?"+":"-")),D(a.playPosition,C?"stop":"play",rt(this._handlePlayClick,this,!C),!0)},s.prototype._renderCurrentPointer=function(a,u,d,p){var g=p.getData(),v=p.getCurrentIndex(),y=g.getItemModel(v).getModel("checkpointStyle"),x=this;this._currentPointer=rz(y,y,this._mainGroup,{},this._currentPointer,{onCreate:function(w){w.draggable=!0,w.drift=rt(x._handlePointerDrag,x),w.ondragend=rt(x._handlePointerDragend,x),hV(w,x._progressLine,v,d,p,!0)},onUpdate:function(w){hV(w,x._progressLine,v,d,p)}})},s.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},s.prototype._handlePointerDrag=function(a,u,d){this._clearTimer(),this._pointerChangeTimeline([d.offsetX,d.offsetY])},s.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},s.prototype._pointerChangeTimeline=function(a,u){var d=this._toAxisCoord(a)[0],p=pc(this._axis.getExtent().slice());d>p[1]&&(d=p[1]),d<p[0]&&(d=p[0]),this._currentPointer.x=d,this._currentPointer.markRedraw(),this._progressLine.shape.x2=d,this._progressLine.dirty();var g=this._findNearestTick(d),v=this.model;(u||g!==v.getCurrentIndex()&&v.get("realtime"))&&this._changeTimeline(g)},s.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var u=a.model;a._changeTimeline(u.getCurrentIndex()+(u.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},s.prototype._toAxisCoord=function(a){return Tu(a,this._mainGroup.getLocalTransform(),!0)},s.prototype._findNearestTick=function(a){var u,d=this.model.getData(),p=1/0,g=this._axis;return d.each(["value"],function(v,y){var x=g.dataToCoord(v),C=Math.abs(x-a);C<p&&(p=C,u=y)}),u},s.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},s.prototype._changeTimeline=function(a){var u=this.model.getCurrentIndex();"+"===a?a=u+1:"-"===a&&(a=u-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},s.prototype._updateTicksStatus=function(){var a=this.model.getCurrentIndex(),u=this._tickSymbols,d=this._tickLabels;if(u)for(var p=0;p<u.length;p++)u&&u[p]&&u[p].toggleState("progress",p<a);if(d)for(p=0;p<d.length;p++)d&&d[p]&&d[p].toggleState("progress",q8(d[p]).dataIndex<=a)},s.type="timeline.slider",s}(BQ);function rz(c,s,a,u,d,p){var g=s.get("color");d?(d.setColor(g),a.add(d),p&&p.onUpdate(d)):((d=da(c.get("symbol"),-1,-1,2,2,g)).setStyle("strokeNoScale",!0),a.add(d),p&&p.onCreate(d));var v=s.getItemStyle(["color"]);d.setStyle(v),u=Mn({rectHover:!0,z2:100},u,!0);var y=x_(c.get("symbolSize"));u.scaleX=y[0]/2,u.scaleY=y[1]/2;var x=L0(c.get("symbolOffset"),y);x&&(u.x=(u.x||0)+x[0],u.y=(u.y||0)+x[1]);var C=c.get("symbolRotate");return u.rotation=(C||0)*Math.PI/180||0,d.attr(u),d.updateTransform(),d}function hV(c,s,a,u,d,p){if(!c.dragging){var g=d.getModel("checkpointStyle"),v=u.dataToCoord(d.getData().get("value",a));if(p||!g.get("animation",!0))c.attr({x:v,y:0}),s&&s.attr({shape:{x2:v}});else{var y={duration:g.get("animationDuration",!0),easing:g.get("animationEasing",!0)};c.stopAnimation(null,!0),c.animateTo({x:v,y:0},y),s&&s.animateTo({shape:{x2:v}},y)}}}function VQ(c){var s=c&&c.timeline;at(s)||(s=s?[s]:[]),fe(s,function(a){a&&function(u){var d=u.type,p={number:"value",time:"time"};if(p[d]&&(u.axisType=p[d],delete u.type),dV(u),yv(u,"controlPosition")){var g=u.controlStyle||(u.controlStyle={});yv(g,"position")||(g.position=u.controlPosition),"none"!==g.position||yv(g,"show")||(g.show=!1,delete g.position),delete u.controlPosition}fe(u.data||[],function(v){rn(v)&&!at(v)&&(!yv(v,"value")&&yv(v,"name")&&(v.value=v.name),dV(v))})}(a)})}function dV(c){var s=c.itemStyle||(c.itemStyle={}),a=s.emphasis||(s.emphasis={}),u=c.label||c.label||{},d=u.normal||(u.normal={}),p={normal:1,emphasis:1};fe(u,function(g,v){p[v]||yv(d,v)||(d[v]=g)}),a.label&&!yv(u,"emphasis")&&(u.emphasis=a.label,delete a.label)}function yv(c,s){return c.hasOwnProperty(s)}function oz(c,s){if(!c)return!1;for(var a=at(c)?c:[c],u=0;u<a.length;u++)if(a[u]&&a[u][s])return!0;return!1}function xv(c){yu(c,"label",["show"])}var N7=Zi(),wg=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.createdBySelf=!1,a}return Ee(s,c),s.prototype.init=function(a,u,d){this.mergeDefaultAndTheme(a,d),this._mergeOption(a,d,!1,!0)},s.prototype.isAnimationEnabled=function(){if(Pt.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},s.prototype.mergeOption=function(a,u){this._mergeOption(a,u,!1,!1)},s.prototype._mergeOption=function(a,u,d,p){var g=this.mainType;d||u.eachSeries(function(v){var y=v.get(this.mainType,!0),x=N7(v)[g];y&&y.data?(x?x._mergeOption(y,u,!0):(p&&xv(y),fe(y.data,function(C){C instanceof Array?(xv(C[0]),xv(C[1])):xv(C)}),it(x=this.createMarkerModelFromSeries(y,this,u),{mainType:this.mainType,seriesIndex:v.seriesIndex,name:v.name,createdBySelf:!0}),x.__hostSeries=v),N7(v)[g]=x):N7(v)[g]=null},this)},s.prototype.formatTooltip=function(a,u,d){var p=this.getData(),g=this.getRawValue(a),v=p.getName(a);return bs("section",{header:this.name,blocks:[bs("nameValue",{name:v,value:g,noName:!v,noValue:null==g})]})},s.prototype.getData=function(){return this._data},s.prototype.setData=function(a){this._data=a},s.getMarkerModelFromSeries=function(a,u){return N7(a)[u]},s.type="marker",s.dependencies=["series","grid","polar","geo"],s}(di);Gr(wg,JM.prototype);var fV=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.createMarkerModelFromSeries=function(a,u,d){return new s(a,u,d)},s.type="markPoint",s.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},s}(wg);function F7(c,s,a,u,d,p){var g=[],v=Pf(s,u)?s.getCalculationInfo("stackResultDimension"):u,y=Eh(s,v,c),x=s.indicesOfNearest(v,y)[0];g[d]=s.get(a,x),g[p]=s.get(v,x);var C=s.get(u,x),w=_u(s.get(u,x));return(w=Math.min(w,20))>=0&&(g[p]=+g[p].toFixed(w)),[g,C]}var az={min:Je(F7,"min"),max:Je(F7,"max"),average:Je(F7,"average"),median:Je(F7,"median")};function Z8(c,s){var w,a=c.getData(),u=c.coordinateSystem;if(s&&(w=s,isNaN(parseFloat(w.x))||isNaN(parseFloat(w.y)))&&!at(s.coord)&&u){var d=u.dimensions,p=pV(s,a,u,c);if((s=nn(s)).type&&az[s.type]&&p.baseAxis&&p.valueAxis){var g=Gn(d,p.baseAxis.dim),v=Gn(d,p.valueAxis.dim),y=az[s.type](a,p.baseDataDim,p.valueDataDim,g,v);s.coord=y[0],s.value=y[1]}else{for(var x=[null!=s.xAxis?s.xAxis:s.radiusAxis,null!=s.yAxis?s.yAxis:s.angleAxis],C=0;C<2;C++)az[x[C]]&&(x[C]=Eh(a,a.mapDimension(d[C]),x[C]));s.coord=x}}return s}function pV(c,s,a,u){var g,v,d={};return null!=c.valueIndex||null!=c.valueDim?(d.valueDataDim=null!=c.valueIndex?s.getDimension(c.valueIndex):c.valueDim,d.valueAxis=a.getAxis((g=d.valueDataDim,(v=u.getData().getDimensionInfo(g))&&v.coordDim)),d.baseAxis=a.getOtherAxis(d.valueAxis),d.baseDataDim=s.mapDimension(d.baseAxis.dim)):(d.baseAxis=u.getBaseAxis(),d.valueAxis=a.getOtherAxis(d.baseAxis),d.baseDataDim=s.mapDimension(d.baseAxis.dim),d.valueDataDim=s.mapDimension(d.valueAxis.dim)),d}function go(c,s){return!(c&&c.containData&&s.coord&&(a=s,isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y))))||c.containData(s.coord);var a}function gV(c,s){return c?function(a,u,d,p){return Du(p<2?a.coord&&a.coord[p]:a.value,s[p])}:function(a,u,d,p){return Du(a.value,s[p])}}function Eh(c,s,a){if("average"===a){var u=0,d=0;return c.each(s,function(p,g){isNaN(p)||(u+=p,d++)}),u/d}return"median"===a?c.getMedian(s):c.getDataExtent(s)["max"===a?1:0]}var sz=Zi(),lz=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.init=function(){this.markerGroupMap=qt()},s.prototype.render=function(a,u,d){var p=this,g=this.markerGroupMap;g.each(function(v){sz(v).keep=!1}),u.eachSeries(function(v){var y=wg.getMarkerModelFromSeries(v,p.type);y&&p.renderSeries(v,y,u,d)}),g.each(function(v){!sz(v).keep&&p.group.remove(v.group)})},s.prototype.markKeep=function(a){sz(a).keep=!0},s.prototype.blurSeries=function(a){var u=this;fe(a,function(d){var p=wg.getMarkerModelFromSeries(d,u.type);p&&p.getData().eachItemGraphicEl(function(g){g&&sM(g)})})},s.type="marker",s}($r);function cz(c,s,a){var u=s.coordinateSystem;c.each(function(d){var p,g=c.getItemModel(d),v=At(g.get("x"),a.getWidth()),y=At(g.get("y"),a.getHeight());if(isNaN(v)||isNaN(y)){if(s.getMarkerPosition)p=s.getMarkerPosition(c.getValues(c.dimensions,d));else if(u){var x=c.get(u.dimensions[0],d),C=c.get(u.dimensions[1],d);p=u.dataToPoint([x,C])}}else p=[v,y];isNaN(v)||(p[0]=v),isNaN(y)||(p[1]=y),c.setItemLayout(d,p)})}var Due=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.updateTransform=function(a,u,d){u.eachSeries(function(p){var g=wg.getMarkerModelFromSeries(p,"markPoint");g&&(cz(g.getData(),p,d),this.markerGroupMap.get(p.id).updateLayout())},this)},s.prototype.renderSeries=function(a,u,d,p){var g=a.coordinateSystem,v=a.id,y=a.getData(),x=this.markerGroupMap,C=x.get(v)||x.set(v,new Qy),w=function(D,P,z){var k;k=D?tt(D&&D.dimensions,function(H){return it(it({},P.getData().getDimensionInfo(P.getData().mapDimension(H))||{}),{name:H,ordinalMeta:null})}):[{name:"value",type:"float"}];var E=new ts(k,z),F=tt(z.get("data"),Je(Z8,P));D&&(F=Ri(F,Je(go,D)));var B=gV(!!D,k);return E.initData(F,null,B),E}(g,a,u);u.setData(w),cz(u.getData(),a,p),w.each(function(D){var P=w.getItemModel(D),z=P.getShallow("symbol"),k=P.getShallow("symbolSize"),E=P.getShallow("symbolRotate"),F=P.getShallow("symbolOffset"),B=P.getShallow("symbolKeepAspect");if(wi(z)||wi(k)||wi(E)||wi(F)){var H=u.getRawValue(D),Y=u.getDataParams(D);wi(z)&&(z=z(H,Y)),wi(k)&&(k=k(H,Y)),wi(E)&&(E=E(H,Y)),wi(F)&&(F=F(H,Y))}var U=P.getModel("itemStyle").getItemStyle(),j=es(y,"color");U.fill||(U.fill=j),w.setItemVisual(D,{symbol:z,symbolSize:k,symbolRotate:E,symbolOffset:F,symbolKeepAspect:B,style:U})}),C.updateData(w),this.group.add(C.group),w.eachItemGraphicEl(function(D){D.traverse(function(P){Pn(P).dataModel=u})}),this.markKeep(C),C.group.silent=u.get("silent")||a.get("silent")},s.type="markPoint",s}(lz),Pue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.createMarkerModelFromSeries=function(a,u,d){return new s(a,u,d)},s.type="markLine",s.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},s}(wg),B7=Zi(),uz=function(c,s,a,u){var d,p=c.getData();if(at(u))d=u;else{var g=u.type;if("min"===g||"max"===g||"average"===g||"median"===g||null!=u.xAxis||null!=u.yAxis){var v=void 0,y=void 0;if(null!=u.yAxis||null!=u.xAxis)v=s.getAxis(null!=u.yAxis?"y":"x"),y=sa(u.yAxis,u.xAxis);else{var x=pV(u,p,s,c);v=x.valueAxis,y=Eh(p,aD(p,x.valueDataDim),g)}var C="x"===v.dim?0:1,w=1-C,D=nn(u),P={coord:[]};D.type=null,D.coord=[],D.coord[w]=-1/0,P.coord[w]=1/0;var z=a.get("precision");z>=0&&"number"==typeof y&&(y=+y.toFixed(Math.min(z,20))),D.coord[C]=P.coord[C]=y,d=[D,P,{type:g,valueIndex:u.valueIndex,value:y}]}else d=[]}var k=[Z8(c,d[0]),Z8(c,d[1]),it({},d[2])];return k[2].type=k[2].type||null,Mn(k[2],k[0]),Mn(k[2],k[1]),k};function K8(c){return!isNaN(c)&&!isFinite(c)}function bv(c,s,a,u){var d=1-c,p=u.dimensions[c];return K8(s[d])&&K8(a[d])&&s[c]===a[c]&&u.getAxis(p).containData(s[c])}function Aue(c,s){if("cartesian2d"===c.type){var a=s[0].coord,u=s[1].coord;if(a&&u&&(bv(1,a,u,c)||bv(0,a,u,c)))return!0}return go(c,s[0])&&go(c,s[1])}function V7(c,s,a,u,d){var p,g=u.coordinateSystem,v=c.getItemModel(s),y=At(v.get("x"),d.getWidth()),x=At(v.get("y"),d.getHeight());if(isNaN(y)||isNaN(x)){if(u.getMarkerPosition)p=u.getMarkerPosition(c.getValues(c.dimensions,s));else{var C=g.dimensions,w=c.get(C[0],s),D=c.get(C[1],s);p=g.dataToPoint([w,D])}if(ug(g,"cartesian2d")){var P=g.getAxis("x"),z=g.getAxis("y");K8(c.get((C=g.dimensions)[0],s))?p[0]=P.toGlobalCoord(P.getExtent()[a?0:1]):K8(c.get(C[1],s))&&(p[1]=z.toGlobalCoord(z.getExtent()[a?0:1]))}isNaN(y)||(p[0]=y),isNaN(x)||(p[1]=x)}else p=[y,x];c.setItemLayout(s,p)}var Cv=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.updateTransform=function(a,u,d){u.eachSeries(function(p){var g=wg.getMarkerModelFromSeries(p,"markLine");if(g){var v=g.getData(),y=B7(g).from,x=B7(g).to;y.each(function(C){V7(y,C,!0,p,d),V7(x,C,!1,p,d)}),v.each(function(C){v.setItemLayout(C,[y.getItemLayout(C),x.getItemLayout(C)])}),this.markerGroupMap.get(p.id).updateLayout()}},this)},s.prototype.renderSeries=function(a,u,d,p){var g=a.coordinateSystem,v=a.id,y=a.getData(),x=this.markerGroupMap,C=x.get(v)||x.set(v,new hn);this.group.add(C.group);var w=function(Y,U,j){var q;q=Y?tt(Y&&Y.dimensions,function(me){return it(it({},U.getData().getDimensionInfo(U.getData().mapDimension(me))||{}),{name:me,ordinalMeta:null})}):[{name:"value",type:"float"}];var Q=new ts(q,j),re=new ts(q,j),oe=new ts([],j),ae=tt(j.get("data"),Je(uz,U,Y,j));Y&&(ae=Ri(ae,Je(Aue,Y)));var he=gV(!!Y,q);return Q.initData(tt(ae,function(me){return me[0]}),null,he),re.initData(tt(ae,function(me){return me[1]}),null,he),oe.initData(tt(ae,function(me){return me[2]})),oe.hasItemOption=!0,{from:Q,to:re,line:oe}}(g,a,u),D=w.from,P=w.to,z=w.line;B7(u).from=D,B7(u).to=P,u.setData(z);var k=u.get("symbol"),E=u.get("symbolSize"),F=u.get("symbolRotate"),B=u.get("symbolOffset");function H(Y,U,j){var q=Y.getItemModel(U);V7(Y,U,j,a,p);var Q=q.getModel("itemStyle").getItemStyle();null==Q.fill&&(Q.fill=es(y,"color")),Y.setItemVisual(U,{symbolKeepAspect:q.get("symbolKeepAspect"),symbolOffset:xi(q.get("symbolOffset",!0),B[j?0:1]),symbolRotate:xi(q.get("symbolRotate",!0),F[j?0:1]),symbolSize:xi(q.get("symbolSize"),E[j?0:1]),symbol:xi(q.get("symbol",!0),k[j?0:1]),style:Q})}at(k)||(k=[k,k]),at(E)||(E=[E,E]),at(F)||(F=[F,F]),at(B)||(B=[B,B]),w.from.each(function(Y){H(D,Y,!0),H(P,Y,!1)}),z.each(function(Y){var U=z.getItemModel(Y).getModel("lineStyle").getLineStyle();z.setItemLayout(Y,[D.getItemLayout(Y),P.getItemLayout(Y)]),null==U.stroke&&(U.stroke=D.getItemVisual(Y,"style").fill),z.setItemVisual(Y,{fromSymbolKeepAspect:D.getItemVisual(Y,"symbolKeepAspect"),fromSymbolOffset:D.getItemVisual(Y,"symbolOffset"),fromSymbolRotate:D.getItemVisual(Y,"symbolRotate"),fromSymbolSize:D.getItemVisual(Y,"symbolSize"),fromSymbol:D.getItemVisual(Y,"symbol"),toSymbolKeepAspect:P.getItemVisual(Y,"symbolKeepAspect"),toSymbolOffset:P.getItemVisual(Y,"symbolOffset"),toSymbolRotate:P.getItemVisual(Y,"symbolRotate"),toSymbolSize:P.getItemVisual(Y,"symbolSize"),toSymbol:P.getItemVisual(Y,"symbol"),style:U})}),C.updateData(z),w.line.eachItemGraphicEl(function(Y,U){Y.traverse(function(j){Pn(j).dataModel=u})}),this.markKeep(C),C.group.silent=u.get("silent")||a.get("silent")},s.type="markLine",s}(lz),hz=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.createMarkerModelFromSeries=function(a,u,d){return new s(a,u,d)},s.type="markArea",s.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},s}(wg),H7=Zi(),zue=function(c,s,a,u){var d=Z8(c,u[0]),p=Z8(c,u[1]),g=d.coord,v=p.coord;g[0]=sa(g[0],-1/0),g[1]=sa(g[1],-1/0),v[0]=sa(v[0],1/0),v[1]=sa(v[1],1/0);var y=Ea([{},d,p]);return y.coord=[d.coord,p.coord],y.x0=d.x,y.y0=d.y,y.x1=p.x,y.y1=p.y,y};function dz(c){return!isNaN(c)&&!isFinite(c)}function fz(c,s,a,u){var d=1-c;return dz(s[d])&&dz(a[d])}function mV(c,s){var a=s.coord[0],u=s.coord[1];return!!(ug(c,"cartesian2d")&&a&&u&&(fz(1,a,u)||fz(0,a,u)))||go(c,{coord:a,x:s.x0,y:s.y0})||go(c,{coord:u,x:s.x1,y:s.y1})}function Y7(c,s,a,u,d){var p,g=u.coordinateSystem,v=c.getItemModel(s),y=At(v.get(a[0]),d.getWidth()),x=At(v.get(a[1]),d.getHeight());if(isNaN(y)||isNaN(x)){if(u.getMarkerPosition)p=u.getMarkerPosition(c.getValues(a,s));else{var C=[P=c.get(a[0],s),z=c.get(a[1],s)];g.clampData&&g.clampData(C,C),p=g.dataToPoint(C,!0)}if(ug(g,"cartesian2d")){var w=g.getAxis("x"),D=g.getAxis("y"),P=c.get(a[0],s),z=c.get(a[1],s);dz(P)?p[0]=w.toGlobalCoord(w.getExtent()["x0"===a[0]?0:1]):dz(z)&&(p[1]=D.toGlobalCoord(D.getExtent()["y0"===a[1]?0:1]))}isNaN(y)||(p[0]=y),isNaN(x)||(p[1]=x)}else p=[y,x];return p}var vV=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],HQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.updateTransform=function(a,u,d){u.eachSeries(function(p){var g=wg.getMarkerModelFromSeries(p,"markArea");if(g){var v=g.getData();v.each(function(y){var x=tt(vV,function(C){return Y7(v,y,C,p,d)});v.setItemLayout(y,x),v.getItemGraphicEl(y).setShape("points",x)})}},this)},s.prototype.renderSeries=function(a,u,d,p){var g=a.coordinateSystem,v=a.id,y=a.getData(),x=this.markerGroupMap,C=x.get(v)||x.set(v,{group:new Xt});this.group.add(C.group),this.markKeep(C);var w=function(D,P,z){var k,E;if(D){var B=tt(D&&D.dimensions,function(U){var j=P.getData();return it(it({},j.getDimensionInfo(j.mapDimension(U))||{}),{name:U,ordinalMeta:null})});E=tt(["x0","y0","x1","y1"],function(U,j){return{name:U,type:B[j%2].type}}),k=new ts(E,z)}else k=new ts(E=[{name:"value",type:"float"}],z);var H=tt(z.get("data"),Je(zue,P,D,z));return D&&(H=Ri(H,Je(mV,D))),k.initData(H,null,D?function(U,j,q,Q){return Du(U.coord[Math.floor(Q/2)][Q%2],E[Q])}:function(U,j,q,Q){return Du(U.value,E[Q])}),k.hasItemOption=!0,k}(g,a,u);u.setData(w),w.each(function(D){var P=tt(vV,function(q){return Y7(w,D,q,a,p)}),z=g.getAxis("x").scale,k=g.getAxis("y").scale,E=z.getExtent(),F=k.getExtent(),B=[z.parse(w.get("x0",D)),z.parse(w.get("x1",D))],H=[k.parse(w.get("y0",D)),k.parse(w.get("y1",D))];pc(B),pc(H),w.setItemLayout(D,{points:P,allClipped:E[0]>B[1]||E[1]<B[0]||F[0]>H[1]||F[1]<H[0]});var U=w.getItemModel(D).getModel("itemStyle").getItemStyle(),j=es(y,"color");U.fill||(U.fill=j,"string"==typeof U.fill&&(U.fill=c1(U.fill,.4))),U.stroke||(U.stroke=j),w.setItemVisual(D,"style",U)}),w.diff(H7(C).data).add(function(D){var P=w.getItemLayout(D);if(!P.allClipped){var z=new dl({shape:{points:P.points}});w.setItemGraphicEl(D,z),C.group.add(z)}}).update(function(D,P){var z=H7(C).data.getItemGraphicEl(P),k=w.getItemLayout(D);k.allClipped?z&&C.group.remove(z):(z?Ti(z,{shape:{points:k.points}},u,D):z=new dl({shape:{points:k.points}}),w.setItemGraphicEl(D,z),C.group.add(z))}).remove(function(D){var P=H7(C).data.getItemGraphicEl(D);C.group.remove(P)}).execute(),w.eachItemGraphicEl(function(D,P){var z=w.getItemModel(P),k=w.getItemVisual(P,"style");D.useStyle(w.getItemVisual(P,"style")),Vl(D,Hs(z),{labelFetcher:u,labelDataIndex:P,defaultText:w.getName(P)||"",inheritColor:"string"==typeof k.fill?c1(k.fill,1):"#000"}),ys(D,z),eo(D),Pn(D).dataModel=u}),H7(C).data=w,C.group.silent=u.get("silent")||a.get("silent")},s.type="markArea",s}(lz),pz=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.layoutMode={type:"box",ignoreSize:!0},a}return Ee(s,c),s.prototype.init=function(a,u,d){this.mergeDefaultAndTheme(a,d),a.selected=a.selected||{},this._updateSelector(a)},s.prototype.mergeOption=function(a,u){c.prototype.mergeOption.call(this,a,u),this._updateSelector(a)},s.prototype._updateSelector=function(a){var u=a.selector,d=this.ecModel;!0===u&&(u=a.selector=["all","inverse"]),at(u)&&fe(u,function(p,g){var v,y;ui(p)&&(p={type:p}),u[g]=Mn(p,(v=d,"all"===(y=p.type)?{type:"all",title:v.getLocaleModel().get(["legend","selector","all"])}:"inverse"===y?{type:"inverse",title:v.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},s.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var u=!1,d=0;d<a.length;d++){var p=a[d].get("name");if(this.isSelected(p)){this.select(p),u=!0;break}}!u&&this.select(a[0].get("name"))}},s.prototype._updateData=function(a){var u=[],d=[];a.eachRawSeries(function(g){var v;if(d.push(g.name),g.legendVisualProvider){var x=g.legendVisualProvider.getAllNames();a.isSeriesFiltered(g)||(d=d.concat(x)),x.length?u=u.concat(x):v=!0}else v=!0;v&&r0(g)&&u.push(g.name)}),this._availableNames=d;var p=tt(this.get("data")||u,function(g){return"string"!=typeof g&&"number"!=typeof g||(g={name:g}),new tr(g,this,this.ecModel)},this);this._data=p},s.prototype.getData=function(){return this._data},s.prototype.select=function(a){var u=this.option.selected;"single"===this.get("selectedMode")&&fe(this._data,function(d){u[d.get("name")]=!1}),u[a]=!0},s.prototype.unSelect=function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},s.prototype.toggleSelected=function(a){var u=this.option.selected;u.hasOwnProperty(a)||(u[a]=!0),this[u[a]?"unSelect":"select"](a)},s.prototype.allSelect=function(){var u=this.option.selected;fe(this._data,function(d){u[d.get("name",!0)]=!0})},s.prototype.inverseSelect=function(){var u=this.option.selected;fe(this._data,function(d){var p=d.get("name",!0);u.hasOwnProperty(p)||(u[p]=!0),u[p]=!u[p]})},s.prototype.isSelected=function(a){var u=this.option.selected;return!(u.hasOwnProperty(a)&&!u[a])&&Gn(this._availableNames,a)>=0},s.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},s.type="legend.plain",s.dependencies=["series"],s.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},s}(di),wv=Je,gz=fe,mz=Xt,YQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.newlineDisabled=!1,a}return Ee(s,c),s.prototype.init=function(){this.group.add(this._contentGroup=new mz),this.group.add(this._selectorGroup=new mz),this._isFirstRender=!0},s.prototype.getContentGroup=function(){return this._contentGroup},s.prototype.getSelectorGroup=function(){return this._selectorGroup},s.prototype.render=function(a,u,d){var p=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),a.get("show",!0)){var g=a.get("align"),v=a.get("orient");g&&"auto"!==g||(g="right"===a.get("left")&&"vertical"===v?"right":"left");var y=a.get("selector",!0),x=a.get("selectorPosition",!0);!y||x&&"auto"!==x||(x="horizontal"===v?"end":"start"),this.renderInner(g,a,u,d,y,v,x);var C=a.getBoxLayoutParams(),w={width:d.getWidth(),height:d.getHeight()},D=a.get("padding"),P=io(C,w,D),z=this.layoutInner(a,g,P,p,y,x),k=io(jt({width:z.width,height:z.height},C),w,D);this.group.x=k.x-z.x,this.group.y=k.y-z.y,this.group.markRedraw(),this.group.add(this._backgroundEl=IB(z,a))}},s.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},s.prototype.renderInner=function(a,u,d,p,g,v,y){var x=this.getContentGroup(),C=qt(),w=u.get("selectedMode"),D=[];d.eachRawSeries(function(P){!P.get("legendHoverLink")&&D.push(P.id)}),gz(u.getData(),function(P,z){var k=P.get("name");if(!this.newlineDisabled&&(""===k||"\n"===k)){var E=new mz;return E.newline=!0,void x.add(E)}var F=d.getSeriesByName(k)[0];if(!C.get(k))if(F){var B=F.getData(),H=B.getVisual("legendLineStyle")||{},Y=B.getVisual("legendIcon"),U=B.getVisual("style");this._createItem(F,k,z,P,u,a,H,U,Y,w).on("click",wv(p4,k,null,p,D)).on("mouseover",wv(U7,F.name,null,p,D)).on("mouseout",wv(vz,F.name,null,p,D)),C.set(k,!0)}else d.eachRawSeries(function(j){if(!C.get(k)&&j.legendVisualProvider){var q=j.legendVisualProvider;if(!q.containName(k))return;var Q=q.indexOfName(k),re=q.getItemVisual(Q,"style"),oe=q.getItemVisual(Q,"legendIcon"),ae=Jr(re.fill);ae&&0===ae[3]&&(ae[3]=.2,re.fill=Et(ae,"rgba")),this._createItem(j,k,z,P,u,a,{},re,oe,w).on("click",wv(p4,null,k,p,D)).on("mouseover",wv(U7,null,k,p,D)).on("mouseout",wv(vz,null,k,p,D)),C.set(k,!0)}},this)},this),g&&this._createSelector(g,u,p,v,y)},s.prototype._createSelector=function(a,u,d,p,g){var v=this.getSelectorGroup();gz(a,function(y){var x=y.type,C=new Ni({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){d.dispatchAction({type:"all"===x?"legendAllSelect":"legendInverseSelect"})}});v.add(C),Vl(C,{normal:u.getModel("selectorLabel"),emphasis:u.getModel(["emphasis","selectorLabel"])},{defaultText:y.title}),eo(C)})},s.prototype._createItem=function(a,u,d,p,g,v,y,x,C,w){var _e,be,we,D=a.visualDrawType,P=g.get("itemWidth"),z=g.get("itemHeight"),k=g.isSelected(u),E=p.get("symbolRotate"),F=p.get("symbolKeepAspect"),B=p.get("icon"),H=function(_e,be,we,Te,Me,Ae){function Ie(gt,vt){"auto"===gt.lineWidth&&(gt.lineWidth=vt.lineWidth>0?2:0),gz(gt,function(kt,Rt){"inherit"===gt[Rt]&&(gt[Rt]=vt[Rt])})}var Ue=be.getModel("itemStyle").getItemStyle(),qe=0===_e.lastIndexOf("empty",0)?"fill":"stroke";Ue.decal=Te.decal,"inherit"===Ue.fill&&(Ue.fill=Te[Me]),"inherit"===Ue.stroke&&(Ue.stroke=Te[qe]),"inherit"===Ue.opacity&&(Ue.opacity=("fill"===Me?Te:we).opacity),Ie(Ue,Te);var ft=be.getModel("lineStyle"),$e=ft.getLineStyle();if(Ie($e,we),"auto"===Ue.fill&&(Ue.fill=Te.fill),"auto"===Ue.stroke&&(Ue.stroke=Te.fill),"auto"===$e.stroke&&($e.stroke=Te.fill),!Ae){var ot=be.get("inactiveBorderWidth");Ue.lineWidth="auto"===ot?Te.lineWidth>0&&Ue[qe]?2:0:Ue.lineWidth,Ue.fill=be.get("inactiveColor"),Ue.stroke=be.get("inactiveBorderColor"),$e.stroke=ft.get("inactiveColor"),$e.lineWidth=ft.get("inactiveWidth")}return{itemStyle:Ue,lineStyle:$e}}(C=B||C||"roundRect",p,y,x,D,k),Y=new mz,U=p.getModel("textStyle");if("function"!=typeof a.getLegendIcon||B&&"inherit"!==B){var j="inherit"===B&&a.getData().getVisual("symbol")?"inherit"===E?a.getData().getVisual("symbolRotate"):E:0;Y.add(((we=da(be=(_e={itemWidth:P,itemHeight:z,icon:C,iconRotate:j,itemStyle:H.itemStyle,lineStyle:H.lineStyle,symbolKeepAspect:F}).icon||"roundRect",0,0,_e.itemWidth,_e.itemHeight,_e.itemStyle.fill,_e.symbolKeepAspect)).setStyle(_e.itemStyle),we.rotation=(_e.iconRotate||0)*Math.PI/180,we.setOrigin([_e.itemWidth/2,_e.itemHeight/2]),be.indexOf("empty")>-1&&(we.style.stroke=we.style.fill,we.style.fill="#fff",we.style.lineWidth=2),we))}else Y.add(a.getLegendIcon({itemWidth:P,itemHeight:z,icon:C,iconRotate:E,itemStyle:H.itemStyle,lineStyle:H.lineStyle,symbolKeepAspect:F}));var q="left"===v?P+5:-5,Q=v,re=g.get("formatter"),oe=u;"string"==typeof re&&re?oe=re.replace("{name}",u??""):"function"==typeof re&&(oe=re(u));var ae=p.get("inactiveColor");Y.add(new Ni({style:ha(U,{text:oe,x:q,y:z/2,fill:k?U.getTextColor():ae,align:Q,verticalAlign:"middle"})}));var he=new gi({shape:Y.getBoundingRect(),invisible:!0}),me=p.getModel("tooltip");return me.get("show")&&Vs({el:he,componentModel:g,itemName:u,itemTooltipOption:me.option}),Y.add(he),Y.eachChild(function(_e){_e.silent=!0}),he.silent=!w,this.getContentGroup().add(Y),eo(Y),Y.__legendDataIndex=d,Y},s.prototype.layoutInner=function(a,u,d,p,g,v){var y=this.getContentGroup(),x=this.getSelectorGroup();w0(a.get("orient"),y,a.get("itemGap"),d.width,d.height);var C=y.getBoundingRect(),w=[-C.x,-C.y];if(x.markRedraw(),y.markRedraw(),g){w0("horizontal",x,a.get("selectorItemGap",!0));var D=x.getBoundingRect(),P=[-D.x,-D.y],z=a.get("selectorButtonGap",!0),k=a.getOrient().index,E=0===k?"width":"height",F=0===k?"height":"width",B=0===k?"y":"x";"end"===v?P[k]+=C[E]+z:w[k]+=D[E]+z,P[1-k]+=C[F]/2-D[F]/2,x.x=P[0],x.y=P[1],y.x=w[0],y.y=w[1];var H={x:0,y:0};return H[E]=C[E]+z+D[E],H[F]=Math.max(C[F],D[F]),H[B]=Math.min(0,D[B]+P[1-k]),H}return y.x=w[0],y.y=w[1],this.group.getBoundingRect()},s.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},s.type="legend.plain",s}($r);function p4(c,s,a,u){vz(c,s,a,u),a.dispatchAction({type:"legendToggleSelect",name:c??s}),U7(c,s,a,u)}function UQ(c){for(var s,a=c.getZr().storage.getDisplayList(),u=0,d=a.length;u<d&&!(s=a[u].states.emphasis);)u++;return s&&s.hoverLayer}function U7(c,s,a,u){UQ(a)||a.dispatchAction({type:"highlight",seriesName:c,name:s,excludeSeriesId:u})}function vz(c,s,a,u){UQ(a)||a.dispatchAction({type:"downplay",seriesName:c,name:s,excludeSeriesId:u})}function GQ(c){var s=c.findComponents({mainType:"legend"});s&&s.length&&c.filterSeries(function(a){for(var u=0;u<s.length;u++)if(!s[u].isSelected(a.name))return!1;return!0})}function Sg(c,s,a){var u,d={},p="toggleSelected"===c;return a.eachComponent("legend",function(g){p&&null!=u?g[u?"select":"unSelect"](s.name):"allSelect"===c||"inverseSelect"===c?g[c]():(g[c](s.name),u=g.isSelected(s.name)),fe(g.getData(),function(v){var y=v.get("name");if("\n"!==y&&""!==y){var x=g.isSelected(y);d[y]=d.hasOwnProperty(y)?d[y]&&x:x}})}),"allSelect"===c||"inverseSelect"===c?{selected:d}:{name:s.name,selected:d}}function _V(c){c.registerComponentModel(pz),c.registerComponentView(YQ),c.registerProcessor(c.PRIORITY.PROCESSOR.SERIES_FILTER,GQ),c.registerSubTypeDefaulter("legend",function(){return"plain"}),function(s){s.registerAction("legendToggleSelect","legendselectchanged",Je(Sg,"toggleSelected")),s.registerAction("legendAllSelect","legendselectall",Je(Sg,"allSelect")),s.registerAction("legendInverseSelect","legendinverseselect",Je(Sg,"inverseSelect")),s.registerAction("legendSelect","legendselected",Je(Sg,"select")),s.registerAction("legendUnSelect","legendunselected",Je(Sg,"unSelect"))}(c)}var WQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},s.prototype.init=function(a,u,d){var p=i_(a);c.prototype.init.call(this,a,u,d),yV(this,a,p)},s.prototype.mergeOption=function(a,u){c.prototype.mergeOption.call(this,a,u),yV(this,this.option,a)},s.type="legend.scroll",s.defaultOption=$p(pz.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),s}(pz);function yV(c,s,a){var u=[1,1];u[c.getOrient().index]=0,Vt(s,a,{type:"box",ignoreSize:!!u})}var xV=Xt,_z=["width","height"],G7=["x","y"],jQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.newlineDisabled=!0,a._currentIndex=0,a}return Ee(s,c),s.prototype.init=function(){c.prototype.init.call(this),this.group.add(this._containerGroup=new xV),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new xV)},s.prototype.resetInner=function(){c.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},s.prototype.renderInner=function(a,u,d,p,g,v,y){var x=this;c.prototype.renderInner.call(this,a,u,d,p,g,v,y);var C=this._controllerGroup,w=u.get("pageIconSize",!0),D=at(w)?w:[w,w];z("pagePrev",0);var P=u.getModel("pageTextStyle");function z(k,E){var F=k+"DataIndex",B=K2(u.get("pageIcons",!0)[u.getOrient().name][E],{onclick:rt(x._pageGo,x,F,u,p)},{x:-D[0]/2,y:-D[1]/2,width:D[0],height:D[1]});B.name=k,C.add(B)}C.add(new Ni({name:"pageText",style:{text:"xx/xx",fill:P.getTextColor(),font:P.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),z("pageNext",1)},s.prototype.layoutInner=function(a,u,d,p,g,v){var y=this.getSelectorGroup(),x=a.getOrient().index,C=_z[x],w=G7[x],D=_z[1-x],P=G7[1-x];g&&w0("horizontal",y,a.get("selectorItemGap",!0));var z=a.get("selectorButtonGap",!0),k=y.getBoundingRect(),E=[-k.x,-k.y],F=nn(d);g&&(F[C]=d[C]-k[C]-z);var B=this._layoutContentAndController(a,p,F,x,C,D,P,w);if(g){if("end"===v)E[x]+=B[C]+z;else{var H=k[C]+z;E[x]-=H,B[w]-=H}B[C]+=k[C]+z,E[1-x]+=B[P]+B[D]/2-k[D]/2,B[D]=Math.max(B[D],k[D]),B[P]=Math.min(B[P],k[P]+E[1-x]),y.x=E[0],y.y=E[1],y.markRedraw()}return B},s.prototype._layoutContentAndController=function(a,u,d,p,g,v,y,x){var C=this.getContentGroup(),w=this._containerGroup,D=this._controllerGroup;w0(a.get("orient"),C,a.get("itemGap"),p?d.width:null,p?null:d.height),w0("horizontal",D,a.get("pageButtonItemGap",!0));var P=C.getBoundingRect(),z=D.getBoundingRect(),k=this._showController=P[g]>d[g],E=[-P.x,-P.y];u||(E[p]=C[x]);var F=[0,0],B=[-z.x,-z.y],H=xi(a.get("pageButtonGap",!0),a.get("itemGap",!0));k&&("end"===a.get("pageButtonPosition",!0)?B[p]+=d[g]-z[g]:F[p]+=z[g]+H),B[1-p]+=P[v]/2-z[v]/2,C.setPosition(E),w.setPosition(F),D.setPosition(B);var Y={x:0,y:0};if(Y[g]=k?d[g]:P[g],Y[v]=Math.max(P[v],z[v]),Y[y]=Math.min(0,z[y]+B[1-p]),w.__rectSize=d[g],k){var U={x:0,y:0};U[g]=Math.max(d[g]-z[g]-H,0),U[v]=Y[v],w.setClipPath(new gi({shape:U})),w.__rectSize=U[g]}else D.eachChild(function(q){q.attr({invisible:!0,silent:!0})});var j=this._getPageInfo(a);return null!=j.pageIndex&&Ti(C,{x:j.contentPosition[0],y:j.contentPosition[1]},k?a:null),this._updatePageInfoView(a,j),Y},s.prototype._pageGo=function(a,u,d){var p=this._getPageInfo(u)[a];null!=p&&d.dispatchAction({type:"legendScroll",scrollDataIndex:p,legendId:u.id})},s.prototype._updatePageInfoView=function(a,u){var d=this._controllerGroup;fe(["pagePrev","pageNext"],function(C){var w=null!=u[C+"DataIndex"],D=d.childOfName(C);D&&(D.setStyle("fill",a.get(w?"pageIconColor":"pageIconInactiveColor",!0)),D.cursor=w?"pointer":"default")});var p=d.childOfName("pageText"),g=a.get("pageFormatter"),v=u.pageIndex,y=null!=v?v+1:0,x=u.pageCount;p&&g&&p.setStyle("text",ui(g)?g.replace("{current}",null==y?"":y+"").replace("{total}",null==x?"":x+""):g({current:y,total:x}))},s.prototype._getPageInfo=function(a){var u=a.get("scrollDataIndex",!0),d=this.getContentGroup(),p=this._containerGroup.__rectSize,g=a.getOrient().index,v=_z[g],y=G7[g],x=this._findTargetItemIndex(u),C=d.children(),w=C[x],D=C.length,P=D?1:0,z={contentPosition:[d.x,d.y],pageCount:P,pageIndex:P-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!w)return z;var k=Y(w);z.contentPosition[g]=-k.s;for(var E=x+1,F=k,B=k,H=null;E<=D;++E)(!(H=Y(C[E]))&&B.e>F.s+p||H&&!U(H,F.s))&&(F=B.i>F.i?B:H)&&(null==z.pageNextDataIndex&&(z.pageNextDataIndex=F.i),++z.pageCount),B=H;for(E=x-1,F=k,B=k,H=null;E>=-1;--E)(H=Y(C[E]))&&U(B,H.s)||!(F.i<B.i)||(B=F,null==z.pagePrevDataIndex&&(z.pagePrevDataIndex=F.i),++z.pageCount,++z.pageIndex),F=H;return z;function Y(j){if(j){var q=j.getBoundingRect(),Q=q[y]+j[y];return{s:Q,e:Q+q[v],i:j.__legendDataIndex}}}function U(j,q){return j.e>=q&&j.s<=q+p}},s.prototype._findTargetItemIndex=function(a){return this._showController?(this.getContentGroup().eachChild(function(p,g){var v=p.__legendDataIndex;null==d&&null!=v&&(d=g),v===a&&(u=g)}),u??d):0;var u,d},s.type="legend.scroll",s}(YQ);function kue(c){Bn(_V),c.registerComponentModel(WQ),c.registerComponentView(jQ),function(s){s.registerAction("legendScroll","legendscroll",function(a,u){var d=a.scrollDataIndex;null!=d&&u.eachComponent({mainType:"legend",subType:"scroll",query:a},function(p){p.setScrollDataIndex(d)})})}(c)}var W7=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="dataZoom.inside",s.defaultOption=$p(l4.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),s}(l4),Sv=Zi();function Tg(c,s,a){Sv(c).coordSysRecordMap.each(function(u){var d=u.dataZoomInfoMap.get(s.uid);d&&(d.getRange=a)})}function $Q(c,s){if(s){c.removeKey(s.model.uid);var a=s.controller;a&&a.dispose()}}function XQ(c,s){c.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:s})}function qQ(c,s,a,u){return c.coordinateSystem.containPoint([a,u])}var KQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="dataZoom.inside",a}return Ee(s,c),s.prototype.render=function(a,u,d){c.prototype.render.apply(this,arguments),a.noTarget()?this._clear():(this.range=a.getPercentRange(),Tg(d,a,{pan:rt(j7.pan,this),zoom:rt(j7.zoom,this),scrollMove:rt(j7.scrollMove,this)}))},s.prototype.dispose=function(){this._clear(),c.prototype.dispose.apply(this,arguments)},s.prototype._clear=function(){(function(a,u){for(var d=Sv(a).coordSysRecordMap,p=d.keys(),g=0;g<p.length;g++){var y=d.get(p[g]),x=y.dataZoomInfoMap;if(x){var C=u.uid;x.get(C)&&(x.removeKey(C),x.keys().length||$Q(d,y))}}})(this.api,this.dataZoomModel),this.range=null},s.type="dataZoom.inside",s}(UA),j7={zoom:function(c,s,a,u){var d=this.range,p=d.slice(),g=c.axisModels[0];if(g){var v=Hf[s](null,[u.originX,u.originY],g,a,c),y=(v.signal>0?v.pixelStart+v.pixelLength-v.pixel:v.pixel-v.pixelStart)/v.pixelLength*(p[1]-p[0])+p[0],x=Math.max(1/u.scale,0);p[0]=(p[0]-y)*x+y,p[1]=(p[1]-y)*x+y;var C=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Z_(0,p,[0,100],0,C.minSpan,C.maxSpan),this.range=p,d[0]!==p[0]||d[1]!==p[1]?p:void 0}},pan:Q8(function(c,s,a,u,d,p){var g=Hf[u]([p.oldX,p.oldY],[p.newX,p.newY],s,d,a);return g.signal*(c[1]-c[0])*g.pixel/g.pixelLength}),scrollMove:Q8(function(c,s,a,u,d,p){return Hf[u]([0,0],[p.scrollDelta,p.scrollDelta],s,d,a).signal*(c[1]-c[0])*p.scrollDelta})};function Q8(c){return function(s,a,u,d){var p=this.range,g=p.slice(),v=s.axisModels[0];if(v)return Z_(c(g,v,s,a,u,d),g,[0,100],"all"),this.range=g,p[0]!==g[0]||p[1]!==g[1]?g:void 0}}var Hf={grid:function(c,s,a,u,d){var p=a.axis,g={},v=d.model.coordinateSystem.getRect();return c=c||[0,0],"x"===p.dim?(g.pixel=s[0]-c[0],g.pixelLength=v.width,g.pixelStart=v.x,g.signal=p.inverse?1:-1):(g.pixel=s[1]-c[1],g.pixelLength=v.height,g.pixelStart=v.y,g.signal=p.inverse?-1:1),g},polar:function(c,s,a,u,d){var p=a.axis,g={},v=d.model.coordinateSystem,y=v.getRadiusAxis().getExtent(),x=v.getAngleAxis().getExtent();return c=c?v.pointToCoord(c):[0,0],s=v.pointToCoord(s),"radiusAxis"===a.mainType?(g.pixel=s[0]-c[0],g.pixelLength=y[1]-y[0],g.pixelStart=y[0],g.signal=p.inverse?1:-1):(g.pixel=s[1]-c[1],g.pixelLength=x[1]-x[0],g.pixelStart=x[0],g.signal=p.inverse?-1:1),g},singleAxis:function(c,s,a,u,d){var p=a.axis,g=d.model.coordinateSystem.getRect(),v={};return c=c||[0,0],"horizontal"===p.orient?(v.pixel=s[0]-c[0],v.pixelLength=g.width,v.pixelStart=g.x,v.signal=p.inverse?1:-1):(v.pixel=s[1]-c[1],v.pixelLength=g.height,v.pixelStart=g.y,v.signal=p.inverse?-1:1),v}};function QQ(c){M7(c),c.registerComponentModel(W7),c.registerComponentView(KQ),function ZQ(c){c.registerProcessor(c.PRIORITY.PROCESSOR.FILTER,function(s,a){var u=Sv(a),d=u.coordSysRecordMap||(u.coordSysRecordMap=qt());d.each(function(p){p.dataZoomInfoMap=null}),s.eachComponent({mainType:"dataZoom",subType:"inside"},function(p){fe(w7(p).infoList,function(g){var x,C,w,D,v=g.model.uid,y=d.get(v)||d.set(v,(x=a,w={model:C=g.model,containsPoint:Je(qQ,C),dispatchAction:Je(XQ,x),dataZoomInfoMap:null,controller:null},D=w.controller=new K1(x.getZr()),fe(["pan","zoom","scrollMove"],function(P){D.on(P,function(z){var k=[];w.dataZoomInfoMap.each(function(E){if(z.isAvailableBehavior(E.model.option)){var F=(E.getRange||{})[P],B=F&&F(E.dzReferCoordSysInfo,w.model.mainType,w.controller,z);!E.model.get("disabled",!0)&&B&&k.push({dataZoomId:E.model.id,start:B[0],end:B[1]})}}),k.length&&w.dispatchAction(k)})}),w));(y.dataZoomInfoMap||(y.dataZoomInfoMap=qt())).set(p.uid,{dzReferCoordSysInfo:g,model:p,getRange:null})})}),d.each(function(p){var g,D,P,z,k,v=p.controller,y=p.dataZoomInfoMap;if(y){var x=y.keys()[0];null!=x&&(g=y.get(x))}if(g){var C=(P="type_",z={type_true:2,type_move:1,type_false:0,type_undefined:-1},k=!0,y.each(function(E){var F=E.model,B=!F.get("disabled",!0)&&(!F.get("zoomLock",!0)||"move");z[P+B]>z[P+D]&&(D=B),k=k&&F.get("preventDefaultMouseMove",!0)}),{controlType:D,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!k}});v.enable(C.controlType,C.opt),v.setPointerChecker(p.containsPoint),eg(p,"dispatchAction",g.model.get("throttle",!0),"fixRate")}else $Q(d,p)})})}(c)}var JQ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.type="dataZoom.slider",s.layoutMode="box",s.defaultOption=$p(l4.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),s}(l4),J8=gi,g4="horizontal",yz="vertical",bV=["line","bar","candlestick","scatter"],eJ={easing:"cubicOut",duration:100,delay:0},e6=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._displayables={},a}return Ee(s,c),s.prototype.init=function(a,u){this.api=u,this._onBrush=rt(this._onBrush,this),this._onBrushEnd=rt(this._onBrushEnd,this)},s.prototype.render=function(a,u,d,p){if(c.prototype.render.apply(this,arguments),eg(this,"_dispatchZoomAction",a.get("throttle"),"fixRate"),this._orient=a.getOrient(),!1!==a.get("show")){if(a.noTarget())return this._clear(),void this.group.removeAll();p&&"dataZoom"===p.type&&p.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},s.prototype.dispose=function(){this._clear(),c.prototype.dispose.apply(this,arguments)},s.prototype._clear=function(){var d;(d=this["_dispatchZoomAction"])&&d[gy]&&(this._dispatchZoomAction=d[gy]);var p=this.api.getZr();p.off("mousemove",this._onBrush),p.off("mouseup",this._onBrushEnd)},s.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var u=this._displayables.sliderGroup=new Xt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(u),this._positionGroup()},s.prototype._resetLocation=function(){var a=this.dataZoomModel,u=this.api,d=a.get("brushSelect")?7:0,p=this._findCoordRect(),g={width:u.getWidth(),height:u.getHeight()},v=this._orient===g4?{right:g.width-p.x-p.width,top:g.height-30-7-d,width:p.width,height:30}:{right:7,top:p.y,width:30,height:p.height},y=i_(a.option);fe(["right","top","width","height"],function(C){"ph"===y[C]&&(y[C]=v[C])});var x=io(y,g);this._location={x:x.x,y:x.y},this._size=[x.width,x.height],this._orient===yz&&this._size.reverse()},s.prototype._positionGroup=function(){var a=this.group,u=this._location,d=this._orient,p=this.dataZoomModel.getFirstTargetAxisModel(),g=p&&p.get("inverse"),v=this._displayables.sliderGroup,y=(this._dataShadowInfo||{}).otherAxisInverse;v.attr(d!==g4||g?d===g4&&g?{scaleY:y?1:-1,scaleX:-1}:d!==yz||g?{scaleY:y?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:y?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:y?1:-1,scaleX:1});var x=a.getBoundingRect([v]);a.x=u.x-x.x,a.y=u.y-x.y,a.markRedraw()},s.prototype._getViewExtent=function(){return[0,this._size[0]]},s.prototype._renderBackground=function(){var a=this.dataZoomModel,u=this._size,d=this._displayables.sliderGroup,p=a.get("brushSelect");d.add(new J8({silent:!0,shape:{x:0,y:0,width:u[0],height:u[1]},style:{fill:a.get("backgroundColor")},z2:-40}));var g=new J8({shape:{x:0,y:0,width:u[0],height:u[1]},style:{fill:"transparent"},z2:0,onclick:rt(this._onClickPanel,this)}),v=this.api.getZr();p?(g.on("mousedown",this._onBrushStart,this),g.cursor="crosshair",v.on("mousemove",this._onBrush),v.on("mouseup",this._onBrushEnd)):(v.off("mousemove",this._onBrush),v.off("mouseup",this._onBrushEnd)),d.add(g)},s.prototype._renderDataShadow=function(){var j,q,Q,re,a=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],a){var u=this._size,d=a.series,p=d.getRawData(),g=d.getShadowDim?d.getShadowDim():a.otherDim;if(null!=g){var v=p.getDataExtent(g),y=.3*(v[1]-v[0]);v=[v[0]-y,v[1]+y];var x,C=[0,u[1]],D=[[u[0],0],[0,0]],P=[],z=u[0]/(p.count()-1),k=0,E=Math.round(p.count()/u[0]);p.each([g],function(U,j){if(E>0&&j%E)k+=z;else{var q=null==U||isNaN(U)||""===U,Q=q?0:rr(U,v,C,!0);q&&!x&&j?(D.push([D[D.length-1][0],0]),P.push([P[P.length-1][0],0])):!q&&x&&(D.push([k,0]),P.push([k,0])),D.push([k,Q]),P.push([k,Q]),k+=z,x=q}});for(var F=this.dataZoomModel,B=0;B<3;B++){var H=(j=void 0,q=void 0,Q=void 0,re=void 0,j=F.getModel(1===B?"selectedDataBackground":"dataBackground"),q=new Xt,Q=new dl({shape:{points:D},segmentIgnoreThreshold:1,style:j.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),re=new bc({shape:{points:P},segmentIgnoreThreshold:1,style:j.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),q.add(Q),q.add(re),q);this._displayables.sliderGroup.add(H),this._displayables.dataShadowSegs.push(H)}}}},s.prototype._prepareDataShadowInfo=function(){var a=this.dataZoomModel,u=a.get("showDataShadow");if(!1!==u){var d,p=this.ecModel;return a.eachTargetAxis(function(g,v){fe(a.getAxisProxy(g,v).getTargetSeriesModels(),function(y){if(!(d||!0!==u&&Gn(bV,y.get("type"))<0)){var x,C=p.getComponent(sm(g),v).axis,w={x:"y",y:"x",radius:"angle",angle:"radius"}[g],D=y.coordinateSystem;null!=w&&D.getOtherAxis&&(x=D.getOtherAxis(C).inverse),w=y.getData().mapDimension(w),d={thisAxis:C,series:y,thisDim:g,otherDim:w,otherAxisInverse:x}}},this)},this),d}},s.prototype._renderHandle=function(){var a=this.group,u=this._displayables,d=u.handles=[null,null],p=u.handleLabels=[null,null],g=this._displayables.sliderGroup,v=this._size,y=this.dataZoomModel,x=this.api,C=y.get("borderRadius")||0,w=y.get("brushSelect"),D=u.filler=new J8({silent:w,style:{fill:y.get("fillerColor")},textConfig:{position:"inside"}});g.add(D),g.add(new J8({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:v[0],height:v[1],r:C},style:{stroke:y.get("dataBackgroundColor")||y.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),fe([0,1],function(H){var Y=y.get("handleIcon");!tg[Y]&&Y.indexOf("path://")<0&&Y.indexOf("image://")<0&&(Y="path://"+Y);var U=da(Y,-1,0,2,2,null,!0);U.attr({cursor:Pa(this._orient),draggable:!0,drift:rt(this._onDragMove,this,H),ondragend:rt(this._onDragEnd,this),onmouseover:rt(this._showDataInfo,this,!0),onmouseout:rt(this._showDataInfo,this,!1),z2:5});var j=U.getBoundingRect(),q=y.get("handleSize");this._handleHeight=At(q,this._size[1]),this._handleWidth=j.width/j.height*this._handleHeight,U.setStyle(y.getModel("handleStyle").getItemStyle()),U.style.strokeNoScale=!0,U.rectHover=!0,U.ensureState("emphasis").style=y.getModel(["emphasis","handleStyle"]).getItemStyle(),eo(U);var Q=y.get("handleColor");null!=Q&&(U.style.fill=Q),g.add(d[H]=U);var re=y.getModel("textStyle");a.add(p[H]=new Ni({silent:!0,invisible:!0,style:ha(re,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:re.getTextColor(),font:re.getFont()}),z2:10}))},this);var P=D;if(w){var z=At(y.get("moveHandleSize"),v[1]),k=u.moveHandle=new gi({style:y.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:v[1]-.5,height:z}}),E=.8*z,F=u.moveHandleIcon=da(y.get("moveHandleIcon"),-E/2,-E/2,E,E,"#fff",!0);F.silent=!0,F.y=v[1]+z/2-.5,k.ensureState("emphasis").style=y.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var B=Math.min(v[1]/2,Math.max(z,10));(P=u.moveZone=new gi({invisible:!0,shape:{y:v[1]-B,height:z+B}})).on("mouseover",function(){x.enterEmphasis(k)}).on("mouseout",function(){x.leaveEmphasis(k)}),g.add(k),g.add(F),g.add(P)}P.attr({draggable:!0,cursor:Pa(this._orient),drift:rt(this._onDragMove,this,"all"),ondragstart:rt(this._showDataInfo,this,!0),ondragend:rt(this._onDragEnd,this),onmouseover:rt(this._showDataInfo,this,!0),onmouseout:rt(this._showDataInfo,this,!1)})},s.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),u=this._getViewExtent();this._handleEnds=[rr(a[0],[0,100],u,!0),rr(a[1],[0,100],u,!0)]},s.prototype._updateInterval=function(a,u){var d=this.dataZoomModel,p=this._handleEnds,g=this._getViewExtent(),v=d.findRepresentativeAxisProxy().getMinMaxSpan(),y=[0,100];Z_(u,p,g,d.get("zoomLock")?"all":a,null!=v.minSpan?rr(v.minSpan,y,g,!0):null,null!=v.maxSpan?rr(v.maxSpan,y,g,!0):null);var x=this._range,C=this._range=pc([rr(p[0],g,y,!0),rr(p[1],g,y,!0)]);return!x||x[0]!==C[0]||x[1]!==C[1]},s.prototype._updateView=function(a){var u=this._displayables,d=this._handleEnds,p=pc(d.slice()),g=this._size;fe([0,1],function(P){var k=this._handleHeight;u.handles[P].attr({scaleX:k/2,scaleY:k/2,x:d[P]+(P?-1:1),y:g[1]/2-k/2})},this),u.filler.setShape({x:p[0],y:0,width:p[1]-p[0],height:g[1]});var v={x:p[0],width:p[1]-p[0]};u.moveHandle&&(u.moveHandle.setShape(v),u.moveZone.setShape(v),u.moveZone.getBoundingRect(),u.moveHandleIcon&&u.moveHandleIcon.attr("x",v.x+v.width/2));for(var y=u.dataShadowSegs,x=[0,p[0],p[1],g[0]],C=0;C<y.length;C++){var w=y[C],D=w.getClipPath();D||(D=new gi,w.setClipPath(D)),D.setShape({x:x[C],y:0,width:x[C+1]-x[C],height:g[1]})}this._updateDataInfo(a)},s.prototype._updateDataInfo=function(a){var u=this.dataZoomModel,d=this._displayables,p=d.handleLabels,g=this._orient,v=["",""];if(u.get("showDetail")){var y=u.findRepresentativeAxisProxy();if(y){var x=y.getAxisModel().axis,C=this._range,w=a?y.calculateDataWindow({start:C[0],end:C[1]}).valueWindow:y.getDataValueWindow();v=[this._formatLabel(w[0],x),this._formatLabel(w[1],x)]}}var D=pc(this._handleEnds.slice());function P(z){var k=cd(d.handles[z].parent,this.group),E=Q3(0===z?"right":"left",k),F=this._handleWidth/2+5,B=Tu([D[z]+(0===z?-F:F),this._size[1]/2],k);p[z].setStyle({x:B[0],y:B[1],verticalAlign:g===g4?"middle":E,align:g===g4?E:"center",text:v[z]})}P.call(this,0),P.call(this,1)},s.prototype._formatLabel=function(a,u){var d=this.dataZoomModel,p=d.get("labelFormatter"),g=d.get("labelPrecision");null!=g&&"auto"!==g||(g=u.getPixelPrecision());var v=null==a||isNaN(a)?"":"category"===u.type||"time"===u.type?u.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(g,20));return wi(p)?p(a,v):ui(p)?p.replace("{value}",v):v},s.prototype._showDataInfo=function(a){var u=this._displayables,d=u.handleLabels;d[0].attr("invisible",!(a=this._dragging||a)),d[1].attr("invisible",!a),u.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](u.moveHandle,1)},s.prototype._onDragMove=function(a,u,d,p){this._dragging=!0,el(p.event);var g=Tu([u,d],this._displayables.sliderGroup.getLocalTransform(),!0),v=this._updateInterval(a,g[0]),y=this.dataZoomModel.get("realtime");this._updateView(!y),v&&y&&this._dispatchZoomAction(!0)},s.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},s.prototype._onClickPanel=function(a){var u=this._size,d=this._displayables.sliderGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(d[0]<0||d[0]>u[0]||d[1]<0||d[1]>u[1])){var p=this._handleEnds,v=this._updateInterval("all",d[0]-(p[0]+p[1])/2);this._updateView(),v&&this._dispatchZoomAction(!1)}},s.prototype._onBrushStart=function(a){this._brushStart=new _n(a.offsetX,a.offsetY),this._brushing=!0,this._brushStartTime=+new Date},s.prototype._onBrushEnd=function(a){if(this._brushing){var u=this._displayables.brushRect;if(this._brushing=!1,u){u.attr("ignore",!0);var d=u.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(d.width)<5)){var p=this._getViewExtent(),g=[0,100];this._range=pc([rr(d.x,p,g,!0),rr(d.x+d.width,p,g,!0)]),this._handleEnds=[d.x,d.x+d.width],this._updateView(),this._dispatchZoomAction(!1)}}}},s.prototype._onBrush=function(a){this._brushing&&(el(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},s.prototype._updateBrushRect=function(a,u){var d=this._displayables,g=d.brushRect;g||(g=d.brushRect=new J8({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),d.sliderGroup.add(g)),g.attr("ignore",!1);var v=this._brushStart,y=this._displayables.sliderGroup,x=y.transformCoordToLocal(a,u),C=y.transformCoordToLocal(v.x,v.y),w=this._size;x[0]=Math.max(Math.min(w[0],x[0]),0),g.setShape({x:C[0],y:0,width:x[0]-C[0],height:w[1]})},s.prototype._dispatchZoomAction=function(a){var u=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:a?eJ:null,start:u[0],end:u[1]})},s.prototype._findCoordRect=function(){var a,u=w7(this.dataZoomModel).infoList;if(!a&&u.length){var d=u[0].model.coordinateSystem;a=d.getRect&&d.getRect()}if(!a){var p=this.api.getWidth(),g=this.api.getHeight();a={x:.2*p,y:.2*g,width:.6*p,height:.6*g}}return a},s.type="dataZoom.slider",s}(UA);function Pa(c){return"vertical"===c?"ns-resize":"ew-resize"}function $7(c){c.registerComponentModel(JQ),c.registerComponentView(e6),M7(c)}var X7=function(c,s,a){var u=nn((t6[c]||{})[s]);return a&&at(u)?u[u.length-1]:u},t6={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},n6=ws.mapVisual,xz=ws.eachVisual,q7=at,bz=fe,tJ=pc,nJ=rr,Z7=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.stateList=["inRange","outOfRange"],a.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],a.layoutMode={type:"box",ignoreSize:!0},a.dataBound=[-1/0,1/0],a.targetVisuals={},a.controllerVisuals={},a}return Ee(s,c),s.prototype.init=function(a,u,d){this.mergeDefaultAndTheme(a,d)},s.prototype.optionUpdated=function(a,u){var d=this.option;Pt.canvasSupported||(d.realtime=!1),!u&&KB(d,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},s.prototype.resetVisual=function(a){var u=this.stateList;a=rt(a,this),this.controllerVisuals=nz(this.option.controller,u,a),this.targetVisuals=nz(this.option.target,u,a)},s.prototype.getItemSymbol=function(){return null},s.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesIndex,u=[];return null==a||"all"===a?this.ecModel.eachSeries(function(d,p){u.push(p)}):u=Sr(a),u},s.prototype.eachTargetSeries=function(a,u){fe(this.getTargetSeriesIndices(),function(d){var p=this.ecModel.getSeriesByIndex(d);p&&a.call(u,p)},this)},s.prototype.isTargetSeries=function(a){var u=!1;return this.eachTargetSeries(function(d){d===a&&(u=!0)}),u},s.prototype.formatValueText=function(a,u,d){var p,g=this.option,v=g.precision,y=this.dataBound,x=g.formatter;d=d||["<",">"],at(a)&&(a=a.slice(),p=!0);var C=u?a:p?[w(a[0]),w(a[1])]:w(a);return ui(x)?x.replace("{value}",p?C[0]:C).replace("{value2}",p?C[1]:C):wi(x)?p?x(a[0],a[1]):x(a):p?a[0]===y[0]?d[0]+" "+C[1]:a[1]===y[1]?d[1]+" "+C[0]:C[0]+" - "+C[1]:C;function w(D){return D===y[0]?"min":D===y[1]?"max":(+D).toFixed(Math.min(v,20))}},s.prototype.resetExtent=function(){var a=this.option,u=tJ([a.min,a.max]);this._dataExtent=u},s.prototype.getDataDimensionIndex=function(a){var u=this.option.dimension;if(null!=u)return a.getDimensionIndex(u);for(var d=a.dimensions,p=d.length-1;p>=0;p--){var v=a.getDimensionInfo(d[p]);if(!v.isCalculationCoord)return v.storeDimIndex}},s.prototype.getExtent=function(){return this._dataExtent.slice()},s.prototype.completeVisualOption=function(){var a=this.ecModel,u=this.option,d={inRange:u.inRange,outOfRange:u.outOfRange},p=u.target||(u.target={}),g=u.controller||(u.controller={});Mn(p,d),Mn(g,d);var v=this.isCategory();function y(x){q7(u.color)&&!x.inRange&&(x.inRange={color:u.color.slice().reverse()}),x.inRange=x.inRange||{color:a.get("gradientColor")}}y.call(this,p),y.call(this,g),function(x,C,w){var D=x[C],P=x[w];D&&!P&&(P=x[w]={},bz(D,function(z,k){if(ws.isValidType(k)){var E=X7(k,"inactive",v);null!=E&&(P[k]=E,"color"!==k||P.hasOwnProperty("opacity")||P.hasOwnProperty("colorAlpha")||(P.opacity=[0,0]))}}))}.call(this,p,"inRange","outOfRange"),function(x){var C=(x.inRange||{}).symbol||(x.outOfRange||{}).symbol,w=(x.inRange||{}).symbolSize||(x.outOfRange||{}).symbolSize,D=this.get("inactiveColor"),P=this.getItemSymbol()||"roundRect";bz(this.stateList,function(z){var k=this.itemSize,E=x[z];E||(E=x[z]={color:v?D:[D]}),null==E.symbol&&(E.symbol=C&&nn(C)||(v?P:[P])),null==E.symbolSize&&(E.symbolSize=w&&nn(w)||(v?k[0]:[k[0],k[0]])),E.symbol=n6(E.symbol,function(H){return"none"===H?P:H});var F=E.symbolSize;if(null!=F){var B=-1/0;xz(F,function(H){H>B&&(B=H)}),E.symbolSize=n6(F,function(H){return nJ(H,[0,B],[0,k[0]],!0)})}},this)}.call(this,g)},s.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},s.prototype.isCategory=function(){return!!this.option.categories},s.prototype.setSelected=function(a){},s.prototype.getSelected=function(){return null},s.prototype.getValueState=function(a){return null},s.prototype.getVisualMeta=function(a){return null},s.type="visualMap",s.dependencies=["series"],s.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},s}(di),m4=[20,140],iJ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.optionUpdated=function(a,u){c.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(d){d.mappingMethod="linear",d.dataExtent=this.getExtent()}),this._resetRange()},s.prototype.resetItemSize=function(){c.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;(null==a[0]||isNaN(a[0]))&&(a[0]=m4[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=m4[1])},s.prototype._resetRange=function(){var a=this.getExtent(),u=this.option.range;!u||u.auto?(a.auto=1,this.option.range=a):at(u)&&(u[0]>u[1]&&u.reverse(),u[0]=Math.max(u[0],a[0]),u[1]=Math.min(u[1],a[1]))},s.prototype.completeVisualOption=function(){c.prototype.completeVisualOption.apply(this,arguments),fe(this.stateList,function(a){var u=this.option.controller[a].symbolSize;u&&u[0]!==u[1]&&(u[0]=u[1]/3)},this)},s.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},s.prototype.getSelected=function(){var a=this.getExtent(),u=pc((this.get("range")||[]).slice());return u[0]>a[1]&&(u[0]=a[1]),u[1]>a[1]&&(u[1]=a[1]),u[0]<a[0]&&(u[0]=a[0]),u[1]<a[0]&&(u[1]=a[0]),u},s.prototype.getValueState=function(a){var u=this.option.range,d=this.getExtent();return(u[0]<=d[0]||u[0]<=a)&&(u[1]>=d[1]||a<=u[1])?"inRange":"outOfRange"},s.prototype.findTargetDataIndices=function(a){var u=[];return this.eachTargetSeries(function(d){var p=[],g=d.getData();g.each(this.getDataDimensionIndex(g),function(v,y){a[0]<=v&&v<=a[1]&&p.push(y)},this),u.push({seriesId:d.id,dataIndex:p})},this),u},s.prototype.getVisualMeta=function(a){var u=Cz(0,0,this.getExtent()),d=Cz(0,0,this.option.range.slice()),p=[];function g(P,z){p.push({value:P,color:a(P,z)})}for(var v=0,y=0,x=d.length,C=u.length;y<C&&(!d.length||u[y]<=d[0]);y++)u[y]<d[v]&&g(u[y],"outOfRange");for(var w=1;v<x;v++,w=0)w&&p.length&&g(d[v],"outOfRange"),g(d[v],"inRange");for(w=1;y<C;y++)(!d.length||d[d.length-1]<u[y])&&(w&&(p.length&&g(p[p.length-1].value,"outOfRange"),w=0),g(u[y],"outOfRange"));var D=p.length;return{stops:p,outerColors:[D?p[0].color:"transparent",D?p[D-1].color:"transparent"]}},s.type="visualMap.continuous",s.defaultOption=$p(Z7.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),s}(Z7);function Cz(c,s,a){if(a[0]===a[1])return a.slice();for(var u=(a[1]-a[0])/200,d=a[0],p=[],g=0;g<=200&&d<a[1];g++)p.push(d),d+=u;return p.push(a[1]),p}var CV=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a.autoPositionValues={left:1,right:1,top:1,bottom:1},a}return Ee(s,c),s.prototype.init=function(a,u){this.ecModel=a,this.api=u},s.prototype.render=function(a,u,d,p){this.visualMapModel=a,!1!==a.get("show")?this.doRender(a,u,d,p):this.group.removeAll()},s.prototype.renderBackground=function(a){var u=this.visualMapModel,d=E1(u.get("padding")||0),p=a.getBoundingRect();a.add(new gi({z2:-1,silent:!0,shape:{x:p.x-d[3],y:p.y-d[0],width:p.width+d[3]+d[1],height:p.height+d[0]+d[2]},style:{fill:u.get("backgroundColor"),stroke:u.get("borderColor"),lineWidth:u.get("borderWidth")}}))},s.prototype.getControllerVisual=function(a,u,d){var p=(d=d||{}).forceState,g=this.visualMapModel,v={};if("color"===u){var y=g.get("contentColor");v.color=y}function x(D){return v[D]}function C(D,P){v[D]=P}var w=g.controllerVisuals[p||g.getValueState(a)];return fe(ws.prepareVisualTypes(w),function(D){var P=w[D];d.convertOpacityToAlpha&&"opacity"===D&&(D="colorAlpha",P=w.__alphaForOpacity),ws.dependsOn(D,u)&&P&&P.applyVisual(a,x,C)}),v[u]},s.prototype.positionGroup=function(a){var d=this.api;eb(a,this.visualMapModel.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()})},s.prototype.doRender=function(a,u,d,p){},s.type="visualMap",s}($r),K7=[["left","right","width"],["top","bottom","height"]];function wV(c,s,a){var u=c.option,d=u.align;if(null!=d&&"auto"!==d)return d;for(var p={width:s.getWidth(),height:s.getHeight()},g="horizontal"===u.orient?1:0,v=K7[g],y=[0,null,10],x={},C=0;C<3;C++)x[K7[1-g][C]]=y[C],x[v[C]]=2===C?a[0]:u[v[C]];var w=[["x","width",3],["y","height",0]][g],D=io(x,p,u.padding);return v[(D.margin[w[2]]||0)+D[w[0]]+.5*D[w[1]]<.5*p[w[1]]?0:1]}function Q7(c,s){return fe(c||[],function(a){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(s?s.componentIndex:"")}),c}var Yf=rr,rJ=fe,wz=Math.min,Sz=Math.max,SV=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._shapes={},a._dataInterval=[],a._handleEnds=[],a._hoverLinkDataIndices=[],a}return Ee(s,c),s.prototype.doRender=function(a,u,d,p){this._api=d,p&&"selectDataRange"===p.type&&p.from===this.uid||this._buildView()},s.prototype._buildView=function(){this.group.removeAll();var a=this.visualMapModel,u=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(u);var d=a.get("text");this._renderEndsText(u,d,0),this._renderEndsText(u,d,1),this._updateView(!0),this.renderBackground(u),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(u)},s.prototype._renderEndsText=function(a,u,d){if(u){var p=u[1-d];p=null!=p?p+"":"";var g=this.visualMapModel,v=g.get("textGap"),y=g.itemSize,x=this._shapes.mainGroup,C=this._applyTransform([y[0]/2,0===d?-v:y[1]+v],x),w=this._applyTransform(0===d?"bottom":"top",x),D=this._orient,P=this.visualMapModel.textStyleModel;this.group.add(new Ni({style:{x:C[0],y:C[1],verticalAlign:"horizontal"===D?"middle":w,align:"horizontal"===D?w:"center",text:p,font:P.getFont(),fill:P.getTextColor()}}))}},s.prototype._renderBar=function(a){var u=this.visualMapModel,d=this._shapes,p=u.itemSize,g=this._orient,v=this._useHandle,y=wV(u,this.api,p),x=d.mainGroup=this._createBarGroup(y),C=new Xt;x.add(C),C.add(d.outOfRange=TV()),C.add(d.inRange=TV(null,v?MV(this._orient):null,rt(this._dragHandle,this,"all",!1),rt(this._dragHandle,this,"all",!0))),C.setClipPath(new gi({shape:{x:0,y:0,width:p[0],height:p[1],r:3}}));var w=u.textStyleModel.getTextRect("\u56fd"),D=Sz(w.width,w.height);v&&(d.handleThumbs=[],d.handleLabels=[],d.handleLabelPoints=[],this._createHandle(u,x,0,p,D,g),this._createHandle(u,x,1,p,D,g)),this._createIndicator(u,x,p,D,g),a.add(x)},s.prototype._createHandle=function(a,u,d,p,g,v){var y=rt(this._dragHandle,this,d,!1),x=rt(this._dragHandle,this,d,!0),C=Ol(a.get("handleSize"),p[0]),w=da(a.get("handleIcon"),-C/2,-C/2,C,C,null,!0),D=MV(this._orient);w.attr({cursor:D,draggable:!0,drift:y,ondragend:x,onmousemove:function(F){el(F.event)}}),w.x=p[0]/2,w.useStyle(a.getModel("handleStyle").getItemStyle()),w.setStyle({strokeNoScale:!0,strokeFirst:!0}),w.style.lineWidth*=2,w.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),d0(w,!0),u.add(w);var P=this.visualMapModel.textStyleModel,z=new Ni({cursor:D,draggable:!0,drift:y,onmousemove:function(F){el(F.event)},ondragend:x,style:{x:0,y:0,text:"",font:P.getFont(),fill:P.getTextColor()}});z.ensureState("blur").style={opacity:.1},z.stateTransition={duration:200},this.group.add(z);var k=[C,0],E=this._shapes;E.handleThumbs[d]=w,E.handleLabelPoints[d]=k,E.handleLabels[d]=z},s.prototype._createIndicator=function(a,u,d,p,g){var v=Ol(a.get("indicatorSize"),d[0]),y=da(a.get("indicatorIcon"),-v/2,-v/2,v,v,null,!0);y.attr({cursor:"move",invisible:!0,silent:!0,x:d[0]/2});var x=a.getModel("indicatorStyle").getItemStyle();if(y instanceof Qo){var C=y.style;y.useStyle(it({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},x))}else y.useStyle(x);u.add(y);var w=this.visualMapModel.textStyleModel,D=new Ni({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:w.getFont(),fill:w.getTextColor()}});this.group.add(D);var P=[("horizontal"===g?p/2:6)+d[0]/2,0],z=this._shapes;z.indicator=y,z.indicatorLabel=D,z.indicatorLabelPoint=P,this._firstShowIndicator=!0},s.prototype._dragHandle=function(a,u,d,p){if(this._useHandle){if(this._dragging=!u,!u){var g=this._applyTransform([d,p],this._shapes.mainGroup,!0);this._updateInterval(a,g[1]),this._hideIndicator(),this._updateView()}u===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),u?!this._hovering&&this._clearHoverLinkToSeries():oJ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},s.prototype._resetInterval=function(){var a=this.visualMapModel,u=this._dataInterval=a.getSelected(),d=a.getExtent(),p=[0,a.itemSize[1]];this._handleEnds=[Yf(u[0],d,p,!0),Yf(u[1],d,p,!0)]},s.prototype._updateInterval=function(a,u){var d=this.visualMapModel,p=this._handleEnds,g=[0,d.itemSize[1]];Z_(u=u||0,p,g,a,0);var v=d.getExtent();this._dataInterval=[Yf(p[0],g,v,!0),Yf(p[1],g,v,!0)]},s.prototype._updateView=function(a){var u=this.visualMapModel,d=u.getExtent(),p=this._shapes,g=[0,u.itemSize[1]],v=a?g:this._handleEnds,y=this._createBarVisual(this._dataInterval,d,v,"inRange"),x=this._createBarVisual(d,d,g,"outOfRange");p.inRange.setStyle({fill:y.barColor}).setShape("points",y.barPoints),p.outOfRange.setStyle({fill:x.barColor}).setShape("points",x.barPoints),this._updateHandle(v,y)},s.prototype._createBarVisual=function(a,u,d,p){var g={forceState:p,convertOpacityToAlpha:!0},v=this._makeColorGradient(a,g),y=[this.getControllerVisual(a[0],"symbolSize",g),this.getControllerVisual(a[1],"symbolSize",g)],x=this._createBarPoints(d,y);return{barColor:new $2(0,0,0,1,v),barPoints:x,handlesColor:[v[0].color,v[v.length-1].color]}},s.prototype._makeColorGradient=function(a,u){var d=[],p=(a[1]-a[0])/100;d.push({color:this.getControllerVisual(a[0],"color",u),offset:0});for(var g=1;g<100;g++){var v=a[0]+p*g;if(v>a[1])break;d.push({color:this.getControllerVisual(v,"color",u),offset:g/100})}return d.push({color:this.getControllerVisual(a[1],"color",u),offset:1}),d},s.prototype._createBarPoints=function(a,u){var d=this.visualMapModel.itemSize;return[[d[0]-u[0],a[0]],[d[0],a[0]],[d[0],a[1]],[d[0]-u[1],a[1]]]},s.prototype._createBarGroup=function(a){var u=this._orient,d=this.visualMapModel.get("inverse");return new Xt("horizontal"!==u||d?"horizontal"===u&&d?{scaleX:"bottom"===a?-1:1,rotation:-Math.PI/2}:"vertical"!==u||d?{scaleX:"left"===a?1:-1}:{scaleX:"left"===a?1:-1,scaleY:-1}:{scaleX:"bottom"===a?1:-1,rotation:Math.PI/2})},s.prototype._updateHandle=function(a,u){if(this._useHandle){var d=this._shapes,p=this.visualMapModel,g=d.handleThumbs,v=d.handleLabels,y=p.itemSize,x=p.getExtent();rJ([0,1],function(C){var w=g[C];w.setStyle("fill",u.handlesColor[C]),w.y=a[C];var D=Yf(a[C],[0,y[1]],x,!0),P=this.getControllerVisual(D,"symbolSize");w.scaleX=w.scaleY=P/y[0],w.x=y[0]-P/2;var z=Tu(d.handleLabelPoints[C],cd(w,this.group));v[C].setStyle({x:z[0],y:z[1],text:p.formatValueText(this._dataInterval[C]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",d.mainGroup):"center"})},this)}},s.prototype._showIndicator=function(a,u,d,p){var g=this.visualMapModel,v=g.getExtent(),y=g.itemSize,x=[0,y[1]],C=this._shapes,w=C.indicator;if(w){w.attr("invisible",!1);var D=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),P=this.getControllerVisual(a,"symbolSize"),z=Yf(a,v,x,!0),k=y[0]-P/2,E={x:w.x,y:w.y};w.y=z,w.x=k;var F=Tu(C.indicatorLabelPoint,cd(w,this.group)),B=C.indicatorLabel;B.attr("invisible",!1);var H=this._applyTransform("left",C.mainGroup),Y="horizontal"===this._orient;B.setStyle({text:(d||"")+g.formatValueText(u),verticalAlign:Y?H:"middle",align:Y?"center":H});var U={x:k,y:z,style:{fill:D}},j={style:{x:F[0],y:F[1]}};if(g.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var q={duration:100,easing:"cubicInOut",additive:!0};w.x=E.x,w.y=E.y,w.animateTo(U,q),B.animateTo(j,q)}else w.attr(U),B.attr(j);this._firstShowIndicator=!1;var Q=this._shapes.handleLabels;if(Q)for(var re=0;re<Q.length;re++)this._api.enterBlur(Q[re])}},s.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(u){if(a._hovering=!0,!a._dragging){var d=a.visualMapModel.itemSize,p=a._applyTransform([u.offsetX,u.offsetY],a._shapes.mainGroup,!0,!0);p[1]=wz(Sz(0,p[1]),d[1]),a._doHoverLinkToSeries(p[1],0<=p[0]&&p[0]<=d[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},s.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},s.prototype._doHoverLinkToSeries=function(a,u){var E,F,B,H,d=this.visualMapModel;if(d.option.hoverLink){var g=[0,d.itemSize[1]],v=d.getExtent();a=wz(Sz(g[0],a),g[1]);var y=(E=v,F=g,B=6,(H=d.get("hoverLinkDataSize"))&&(B=Yf(H,E,F,!0)/2),B),x=[a-y,a+y],C=Yf(a,g,v,!0),w=[Yf(x[0],g,v,!0),Yf(x[1],g,v,!0)];x[0]<g[0]&&(w[0]=-1/0),x[1]>g[1]&&(w[1]=1/0),u&&(w[0]===-1/0?this._showIndicator(C,w[1],"< ",y):w[1]===1/0?this._showIndicator(C,w[0],"> ",y):this._showIndicator(C,C,"\u2248 ",y));var D=this._hoverLinkDataIndices,P=[];(u||oJ(d))&&(P=this._hoverLinkDataIndices=d.findTargetDataIndices(w));var z=function(k,E){var F={},B={};return H(k||[],F),H(E||[],B,F),[Y(F),Y(B)];function H(U,j,q){for(var Q=0,re=U.length;Q<re;Q++){var oe=Vo(U[Q].seriesId,null);if(null==oe)return;for(var ae=Sr(U[Q].dataIndex),he=q&&q[oe],me=0,_e=ae.length;me<_e;me++){var be=ae[me];he&&he[be]?he[be]=null:(j[oe]||(j[oe]={}))[be]=1}}}function Y(U,j){var q=[];for(var Q in U)if(U.hasOwnProperty(Q)&&null!=U[Q])if(j)q.push(+Q);else{var re=Y(U[Q],!0);re.length&&q.push({seriesId:Q,dataIndex:re})}return q}}(D,P);this._dispatchHighDown("downplay",Q7(z[0],d)),this._dispatchHighDown("highlight",Q7(z[1],d))}},s.prototype._hoverLinkFromSeriesMouseOver=function(a){var u=a.target,d=this.visualMapModel;if(u&&null!=Pn(u).dataIndex){var p=Pn(u),g=this.ecModel.getSeriesByIndex(p.seriesIndex);if(d.isTargetSeries(g)){var v=g.getData(p.dataType),y=v.getStore().get(d.getDataDimensionIndex(v),p.dataIndex);isNaN(y)||this._showIndicator(y,y)}}},s.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var u=this._shapes.handleLabels;if(u)for(var d=0;d<u.length;d++)this._api.leaveBlur(u[d])},s.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Q7(a,this.visualMapModel)),a.length=0},s.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},s.prototype._applyTransform=function(a,u,d,p){var g=cd(u,p?null:this.group);return at(a)?Tu(a,g,d):Q3(a,g,d)},s.prototype._dispatchHighDown=function(a,u){u&&u.length&&this.api.dispatchAction({type:a,batch:u})},s.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},s.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},s.type="visualMap.continuous",s}(CV);function TV(c,s,a,u){return new dl({shape:{points:c},draggable:!!a,cursor:s,drift:a,onmousemove:function(d){el(d.event)},ondragend:u})}function oJ(c){return!!(c.get("hoverLinkOnHandle")??c.get("realtime"))}function MV(c){return"vertical"===c?"ns-resize":"ew-resize"}var aJ={type:"selectDataRange",event:"dataRangeSelected",update:"update"},DV=function(c,s){s.eachComponent({mainType:"visualMap",query:c},function(a){a.setSelected(c.selected)})},Tz=[{createOnAllSeries:!0,reset:function(c,s){var a=[];return s.eachComponent("visualMap",function(u){var d,p,g,v,y,x=c.pipelineContext;!u.isTargetSeries(c)||x&&x.large||a.push((d=u.stateList,p=u.targetVisuals,g=rt(u.getValueState,u),v=u.getDataDimensionIndex(c.getData()),y={},fe(d,function(C){var w=ws.prepareVisualTypes(p[C]);y[C]=w}),{progress:function(C,w){var D,P;function z(re){return E0(w,P,re)}function k(re,oe){N1(w,P,re,oe)}null!=v&&(D=w.getDimensionIndex(v));for(var E=w.getStore();null!=(P=C.next());){var F=w.getRawDataItem(P);if(!F||!1!==F.visualMap)for(var B=null!=v?E.get(D,P):P,H=g(B),Y=p[H],U=y[H],j=0,q=U.length;j<q;j++){var Q=U[j];Y[Q]&&Y[Q].applyVisual(B,z,k)}}}}))}),a}},{createOnAllSeries:!0,reset:function(c,s){var a=c.getData(),u=[];s.eachComponent("visualMap",function(d){if(d.isTargetSeries(c)){var p=d.getVisualMeta(rt(PV,null,c,d))||{stops:[],outerColors:[]},g=d.getDataDimensionIndex(a);g>=0&&(p.dimension=g,u.push(p))}}),c.getData().setVisual("visualMeta",u)}}];function PV(c,s,a,u){for(var d=s.targetVisuals[u],p=ws.prepareVisualTypes(d),g={color:es(c.getData(),"color")},v=0,y=p.length;v<y;v++){var x=p[v],C=d["opacity"===x?"__alphaForOpacity":x];C&&C.applyVisual(a,w,D)}return g.color;function w(P){return g[P]}function D(P,z){g[P]=z}}var Mz=fe;function AV(c){var s=c&&c.visualMap;at(s)||(s=s?[s]:[]),Mz(s,function(a){if(a){Tv(a,"splitList")&&!Tv(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var u=a.pieces;u&&at(u)&&Mz(u,function(d){rn(d)&&(Tv(d,"start")&&!Tv(d,"min")&&(d.min=d.start),Tv(d,"end")&&!Tv(d,"max")&&(d.max=d.end))})}})}function Tv(c,s){return c&&c.hasOwnProperty&&c.hasOwnProperty(s)}var Dz=!1;function zV(c){Dz||(Dz=!0,c.registerSubTypeDefaulter("visualMap",function(s){return s.categories||(s.pieces?s.pieces.length>0:s.splitNumber>0)&&!s.calculable?"piecewise":"continuous"}),c.registerAction(aJ,DV),fe(Tz,function(s){c.registerVisual(c.PRIORITY.VISUAL.COMPONENT,s)}),c.registerPreprocessor(AV))}function kV(c){c.registerComponentModel(iJ),c.registerComponentView(SV),zV(c)}var Oue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a._pieceList=[],a}return Ee(s,c),s.prototype.optionUpdated=function(a,u){c.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var d=this._mode=this._determineMode();this._pieceList=[],Ga[this._mode].call(this,this._pieceList),this._resetSelected(a,u);var p=this.option.categories;this.resetVisual(function(g,v){"categories"===d?(g.mappingMethod="category",g.categories=nn(p)):(g.dataExtent=this.getExtent(),g.mappingMethod="piecewise",g.pieceList=tt(this._pieceList,function(y){return y=nn(y),"inRange"!==v&&(y.visual=null),y}))})},s.prototype.completeVisualOption=function(){var a=this.option,u={},d=ws.listVisualTypes(),p=this.isCategory();function g(v,y,x){return v&&v[y]&&v[y].hasOwnProperty(x)}fe(a.pieces,function(v){fe(d,function(y){v.hasOwnProperty(y)&&(u[y]=1)})}),fe(u,function(v,y){var x=!1;fe(this.stateList,function(C){x=x||g(a,C,y)||g(a.target,C,y)},this),!x&&fe(this.stateList,function(C){(a[C]||(a[C]={}))[y]=X7(y,"inRange"===C?"active":"inactive",p)})},this),c.prototype.completeVisualOption.apply(this,arguments)},s.prototype._resetSelected=function(a,u){var d=this.option,p=this._pieceList,g=(u?d:a).selected||{};if(d.selected=g,fe(p,function(y,x){var C=this.getSelectedMapKey(y);g.hasOwnProperty(C)||(g[C]=!0)},this),"single"===d.selectedMode){var v=!1;fe(p,function(y,x){var C=this.getSelectedMapKey(y);g[C]&&(v?g[C]=!1:v=!0)},this)}},s.prototype.getItemSymbol=function(){return this.get("itemSymbol")},s.prototype.getSelectedMapKey=function(a){return"categories"===this._mode?a.value+"":a.index+""},s.prototype.getPieceList=function(){return this._pieceList},s.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},s.prototype.setSelected=function(a){this.option.selected=nn(a)},s.prototype.getValueState=function(a){var u=ws.findPieceIndex(a,this._pieceList);return null!=u&&this.option.selected[this.getSelectedMapKey(this._pieceList[u])]?"inRange":"outOfRange"},s.prototype.findTargetDataIndices=function(a){var u=[],d=this._pieceList;return this.eachTargetSeries(function(p){var g=[],v=p.getData();v.each(this.getDataDimensionIndex(v),function(y,x){ws.findPieceIndex(y,d)===a&&g.push(x)},this),u.push({seriesId:p.id,dataIndex:g})},this),u},s.prototype.getRepresentValue=function(a){var u;if(this.isCategory())u=a.value;else if(null!=a.value)u=a.value;else{var d=a.interval||[];u=d[0]===-1/0&&d[1]===1/0?0:(d[0]+d[1])/2}return u},s.prototype.getVisualMeta=function(a){if(!this.isCategory()){var u=[],d=["",""],p=this,g=this._pieceList.slice();if(g.length){var v=g[0].interval[0];v!==-1/0&&g.unshift({interval:[-1/0,v]}),(v=g[g.length-1].interval[1])!==1/0&&g.push({interval:[v,1/0]})}else g.push({interval:[-1/0,1/0]});var y=-1/0;return fe(g,function(C){var w=C.interval;w&&(w[0]>y&&x([y,w[0]],"outOfRange"),x(w.slice()),y=w[1])},this),{stops:u,outerColors:d}}function x(C,w){var D=p.getRepresentValue({interval:C});w||(w=p.getValueState(D));var P=a(D,w);C[0]===-1/0?d[0]=P:C[1]===1/0?d[1]=P:u.push({value:C[0],color:P},{value:C[1],color:P})}},s.type="visualMap.piecewise",s.defaultOption=$p(Z7.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),s}(Z7),Ga={splitNumber:function(c){var s=this.option,a=Math.min(s.precision,20),u=this.getExtent(),d=s.splitNumber;d=Math.max(parseInt(d,10),1),s.splitNumber=d;for(var p=(u[1]-u[0])/d;+p.toFixed(a)!==p&&a<5;)a++;s.precision=a,p=+p.toFixed(a),s.minOpen&&c.push({interval:[-1/0,u[0]],close:[0,0]});for(var g=0,v=u[0];g<d;v+=p,g++)c.push({interval:[v,g===d-1?u[1]:v+p],close:[1,1]});s.maxOpen&&c.push({interval:[u[1],1/0],close:[0,0]}),Zt(c),fe(c,function(x,C){x.index=C,x.text=this.formatValueText(x.interval)},this)},categories:function(c){var s=this.option;fe(s.categories,function(a){c.push({text:this.formatValueText(a,!0),value:a})},this),Mv(s,c)},pieces:function(c){var s=this.option;fe(s.pieces,function(a,u){rn(a)||(a={value:a});var d={text:"",index:u};if(null!=a.label&&(d.text=a.label),a.hasOwnProperty("value")){var p=d.value=a.value;d.interval=[p,p],d.close=[1,1]}else{for(var g=d.interval=[],v=d.close=[0,0],y=[1,0,1],x=[-1/0,1/0],C=[],w=0;w<2;w++){for(var D=[["gte","gt","min"],["lte","lt","max"]][w],P=0;P<3&&null==g[w];P++)g[w]=a[D[P]],v[w]=y[P],C[w]=2===P;null==g[w]&&(g[w]=x[w])}C[0]&&g[1]===1/0&&(v[0]=0),C[1]&&g[0]===-1/0&&(v[1]=0),g[0]===g[1]&&v[0]&&v[1]&&(d.value=g[0])}d.visual=ws.retrieveVisuals(a),c.push(d)},this),Mv(s,c),Zt(c),fe(c,function(a){var u=a.close;a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,[["<","\u2264"][u[1]],[">","\u2265"][u[0]]])},this)}};function Mv(c,s){var a=c.inverse;("vertical"===c.orient?!a:a)&&s.reverse()}var sJ=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=s.type,a}return Ee(s,c),s.prototype.doRender=function(){var a=this.group;a.removeAll();var u=this.visualMapModel,d=u.get("textGap"),p=u.textStyleModel,g=p.getFont(),v=p.getTextColor(),y=this._getItemAlign(),x=u.itemSize,C=this._getViewData(),w=C.endsText,D=sa(u.get("showLabel",!0),!w);w&&this._renderEndsText(a,w[0],x,D,y),fe(C.viewPieceList,function(P){var z=P.piece,k=new Xt;k.onclick=rt(this._onItemClick,this,z),this._enableHoverLink(k,P.indexInModelPieceList);var E=u.getRepresentValue(z);if(this._createItemSymbol(k,E,[0,0,x[0],x[1]]),D){var F=this.visualMapModel.getValueState(E);k.add(new Ni({style:{x:"right"===y?-d:x[0]+d,y:x[1]/2,text:z.text,verticalAlign:"middle",align:y,font:g,fill:v,opacity:"outOfRange"===F?.5:1}}))}a.add(k)},this),w&&this._renderEndsText(a,w[1],x,D,y),w0(u.get("orient"),a,u.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},s.prototype._enableHoverLink=function(a,u){var d=this;a.on("mouseover",function(){return p("highlight")}).on("mouseout",function(){return p("downplay")});var p=function(g){var v=d.visualMapModel;v.option.hoverLink&&d.api.dispatchAction({type:g,batch:Q7(v.findTargetDataIndices(u),v)})}},s.prototype._getItemAlign=function(){var a=this.visualMapModel,u=a.option;if("vertical"===u.orient)return wV(a,this.api,a.itemSize);var d=u.align;return d&&"auto"!==d||(d="left"),d},s.prototype._renderEndsText=function(a,u,d,p,g){if(u){var v=new Xt,y=this.visualMapModel.textStyleModel;v.add(new Ni({style:{x:p?"right"===g?d[0]:0:d[0]/2,y:d[1]/2,verticalAlign:"middle",align:p?g:"center",text:u,font:y.getFont(),fill:y.getTextColor()}})),a.add(v)}},s.prototype._getViewData=function(){var a=this.visualMapModel,u=tt(a.getPieceList(),function(v,y){return{piece:v,indexInModelPieceList:y}}),d=a.get("text"),p=a.get("orient"),g=a.get("inverse");return("horizontal"===p?g:!g)?u.reverse():d&&(d=d.slice().reverse()),{viewPieceList:u,endsText:d}},s.prototype._createItemSymbol=function(a,u,d){a.add(da(this.getControllerVisual(u,"symbol"),d[0],d[1],d[2],d[3],this.getControllerVisual(u,"color")))},s.prototype._onItemClick=function(a){var u=this.visualMapModel,d=u.option,p=nn(d.selected),g=u.getSelectedMapKey(a);"single"===d.selectedMode?(p[g]=!0,fe(p,function(v,y){p[y]=y===g})):p[g]=!p[g],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:p})},s.type="visualMap.piecewise",s}(CV);function lJ(c){c.registerComponentModel(Oue),c.registerComponentView(sJ),zV(c)}var OV={label:{enabled:!0},decal:{show:!1}},EV=Zi(),cJ={};function Eue(c,s){var a=c.getModel("aria");if(a.get("enabled")){var u=nn(OV);Mn(u.label,c.getLocaleModel().get("aria"),!1),Mn(a.option,u,!1),function(){if(a.getModel("decal").get("show")){var p=qt();c.eachSeries(function(g){if(!g.isColorBySeries()){var v=p.get(g.type);v||p.set(g.type,v={}),EV(g).scope=v}}),c.eachRawSeries(function(g){if(!c.isSeriesFiltered(g))if("function"!=typeof g.enableAriaDecal){var v=g.getData();if(g.isColorBySeries()){var y=YM(g.ecModel,g.name,cJ,c.getSeriesCount()),x=v.getVisual("decal");v.setVisual("decal",z(x,y))}else{var C=g.getRawData(),w={},D=EV(g).scope;v.each(function(k){var E=v.getRawIndex(k);w[E]=k});var P=C.count();C.each(function(k){var E=w[k],F=C.getName(k)||k+"",B=YM(g.ecModel,F,D,P),H=v.getItemVisual(E,"decal");v.setItemVisual(E,"decal",z(H,B))})}}else g.enableAriaDecal();function z(k,E){var F=k?it(it({},E),k):E;return F.dirty=!0,F}})}}(),function(){var Y,p=c.getLocaleModel().get("aria"),g=a.getModel("label");if(g.option=jt(g.option,p),g.get("enabled")){var v=s.getZr().dom;if(g.get("description"))return void v.setAttribute("aria-label",g.get("description"));var y,x=c.getSeriesCount(),C=g.get(["data","maxCount"])||10,w=g.get(["series","maxCount"])||10,D=Math.min(x,w);if(!(x<1)){var P=((Y=c.get("title"))&&Y.length&&(Y=Y[0]),Y&&Y.text);y=P?d(g.get(["general","withTitle"]),{title:P}):g.get(["general","withoutTitle"]);var k=[];y+=d(g.get(x>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:x}),c.eachSeries(function(Y,U){if(U<D){var j=void 0,q=Y.get("name")?"withName":"withoutName";j=d(j=g.get(x>1?["series","multiple",q]:["series","single",q]),{seriesId:Y.seriesIndex,seriesName:Y.get("name"),seriesType:(we=Y.subType,c.getLocaleModel().get(["series","typeNames"])[we]||"\u81ea\u5b9a\u4e49\u56fe")});var Q=Y.getData();Q.count()>C?j+=d(g.get(["data","partialData"]),{displayCnt:C}):j+=g.get(["data","allData"]);for(var re=g.get(["data","separator","middle"]),oe=g.get(["data","separator","end"]),ae=[],he=0;he<Q.count();he++)if(he<C){var me=Q.getName(he),_e=Q.getValues(he),be=g.get(["data",me?"withName":"withoutName"]);ae.push(d(be,{name:me,value:_e.join(re)}))}j+=ae.join(re)+oe,k.push(j)}var we});var F=g.getModel(["series","multiple","separator"]),B=F.get("middle"),H=F.get("end");y+=k.join(B)+H,v.setAttribute("aria-label",y)}}}()}function d(p,g){if("string"!=typeof p)return p;var v=p;return fe(g,function(y,x){v=v.replace(new RegExp("\\{\\s*"+x+"\\s*\\}","g"),y)}),v}}function uJ(c){if(c&&c.aria){var s=c.aria;null!=s.show&&(s.enabled=s.show),s.label=s.label||{},fe(["description","general","series","data"],function(a){null!=s[a]&&(s.label[a]=s[a])})}}var hJ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Iue=function(){function c(s){null==(this._condVal=ui(s)?new RegExp(s):n1(s)?s:null)&&Ui("")}return c.prototype.evaluate=function(s){var a=typeof s;return"string"===a?this._condVal.test(s):"number"===a&&this._condVal.test(s+"")},c}(),IV=function(){function c(){}return c.prototype.evaluate=function(){return this.value},c}(),dJ=function(){function c(){}return c.prototype.evaluate=function(){for(var s=this.children,a=0;a<s.length;a++)if(!s[a].evaluate())return!1;return!0},c}(),Lue=function(){function c(){}return c.prototype.evaluate=function(){for(var s=this.children,a=0;a<s.length;a++)if(s[a].evaluate())return!0;return!1},c}(),LV=function(){function c(){}return c.prototype.evaluate=function(){return!this.child.evaluate()},c}(),fJ=function(){function c(){}return c.prototype.evaluate=function(){for(var s=!!this.valueParser,a=(0,this.getValue)(this.valueGetterParam),u=s?this.valueParser(a):null,d=0;d<this.subCondList.length;d++)if(!this.subCondList[d].evaluate(s?u:a))return!1;return!0},c}();function Cd(c,s){if(!0===c||!1===c){var a=new IV;return a.value=c,a}return ar(c)||Ui(""),c.and?Us("and",c,s):c.or?Us("or",c,s):c.not?function(d,p){var g=d.not;ar(g)||Ui("");var y=new LV;return y.child=Cd(g,p),y.child||Ui(""),y}(c,s):function(d,p){for(var v=p.prepareGetValue(d),y=[],x=Gt(d),C=d.parser,w=C?h_(C):null,D=0;D<x.length;D++){var P=x[D];if("parser"!==P&&!p.valueGetterAttrMap.get(P)){var z=Nt(hJ,P)?hJ[P]:P,k=d[P],E=w?w(k):k,F=o9(z,E)||"reg"===z&&new Iue(E);F||Ui(""),y.push(F)}}y.length||Ui("");var B=new fJ;return B.valueGetterParam=v,B.valueParser=w,B.getValue=p.getValue,B.subCondList=y,B}(c,s)}function Us(c,s,a){var u=s[c];at(u)||Ui(""),u.length||Ui("");var p="and"===c?new dJ:new Lue;return p.children=tt(u,function(g){return Cd(g,a)}),p.children.length||Ui(""),p}function ar(c){return rn(c)&&!Dn(c)}var Rue=function(){function c(s,a){this._cond=Cd(s,a)}return c.prototype.evaluate=function(){return this._cond.evaluate()},c}(),RV={type:"echarts:filter",transform:function(c){for(var s,a,u,d=c.upstream,p=(a=c.config,u={valueGetterAttrMap:qt({dimension:!0}),prepareGetValue:function(x){var w=x.dimension;Nt(x,"dimension")||Ui("");var D=d.getDimensionInfo(w);return D||Ui(""),{dimIdx:D.index}},getValue:function(x){return d.retrieveValueFromItem(s,x.dimIdx)}},new Rue(a,u)),g=[],v=0,y=d.count();v<y;v++)s=d.getRawDataItem(v),p.evaluate()&&g.push(s);return{data:g}}},kn={type:"echarts:sort",transform:function(c){var s=c.upstream,u="",d=Sr(c.config);d.length||Ui(u);var p=[];fe(d,function(C){var w=C.dimension,D=C.order,P=C.parser,z=C.incomparable;null==w&&Ui(u),"asc"!==D&&"desc"!==D&&Ui(u),z&&"min"!==z&&"max"!==z&&Ui(""),"asc"!==D&&"desc"!==D&&Ui("");var F=s.getDimensionInfo(w);F||Ui(u);var B=P?h_(P):null;P&&!B&&Ui(u),p.push({dimIdx:F.index,parser:B,comparator:new n9(D,z)})});var g=s.sourceFormat;g!==Qp&&g!==Cf&&Ui(u);for(var v=[],y=0,x=s.count();y<x;y++)v.push(s.getRawDataItem(y));return v.sort(function(C,w){for(var D=0;D<p.length;D++){var P=p[D],z=s.retrieveValueFromItem(C,P.dimIdx),k=s.retrieveValueFromItem(w,P.dimIdx);P.parser&&(z=P.parser(z),k=P.parser(k));var E=P.comparator.evaluate(z,k);if(0!==E)return E}return 0}),{data:v}}},is=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="dataset",a}return Ee(s,c),s.prototype.init=function(a,u,d){c.prototype.init.call(this,a,u,d),this._sourceManager=new IL(this),LL(this)},s.prototype.mergeOption=function(a,u){c.prototype.mergeOption.call(this,a,u),LL(this)},s.prototype.optionUpdated=function(){this._sourceManager.dirty()},s.prototype.getSourceManager=function(){return this._sourceManager},s.type="dataset",s.defaultOption={seriesLayoutBy:S0},s}(di),Nue=function(c){function s(){var a=null!==c&&c.apply(this,arguments)||this;return a.type="dataset",a}return Ee(s,c),s.type="dataset",s}($r),Ai=Nr.CMD;function r6(c,s){return Math.abs(c-s)<1e-5}function NV(c){var s,a,u,d,p,he,me,_e,be,we,Te,Me,Ae,Ie,Ue,qe,ft,$e,gt,vt,kt,Rt,g=c.data,v=c.len(),y=[],x=0,C=0,w=0,D=0;function P(he,me){s&&s.length>2&&y.push(s),s=[he,me]}function z(he,me,_e,be){r6(he,_e)&&r6(me,be)||s.push(he,me,_e,be,_e,be)}for(var E=0;E<v;){var F=g[E++],B=1===E;switch(B&&(w=x=g[E],D=C=g[E+1],F!==Ai.L&&F!==Ai.C&&F!==Ai.Q||(s=[w,D])),F){case Ai.M:x=w=g[E++],C=D=g[E++],P(w,D);break;case Ai.L:z(x,C,a=g[E++],u=g[E++]),x=a,C=u;break;case Ai.C:s.push(g[E++],g[E++],g[E++],g[E++],x=g[E++],C=g[E++]);break;case Ai.Q:a=g[E++],u=g[E++],d=g[E++],p=g[E++],s.push(x+2/3*(a-x),C+2/3*(u-C),d+2/3*(a-d),p+2/3*(u-p),d,p),x=d,C=p;break;case Ai.A:var H=g[E++],Y=g[E++],U=g[E++],j=g[E++],q=g[E++],Q=g[E++]+q;E+=1;var re=!g[E++];a=Math.cos(q)*U+H,u=Math.sin(q)*j+Y,B?P(w=a,D=u):z(x,C,a,u),x=Math.cos(Q)*U+H,C=Math.sin(Q)*j+Y;for(var oe=(re?-1:1)*Math.PI/2,ae=q;re?ae>Q:ae<Q;ae+=oe)he=ae,me=re?Math.max(ae+oe,Q):Math.min(ae+oe,Q),_e=H,be=Y,we=U,Te=j,Me=void 0,Ae=void 0,Ie=void 0,Ue=void 0,qe=void 0,ft=void 0,$e=void 0,gt=void 0,vt=void 0,kt=void 0,Rt=void 0,Me=Math.abs(me-he),Ae=4*Math.tan(Me/4)/3,Ie=me<he?-1:1,Ue=Math.cos(he),qe=Math.sin(he),ft=Math.cos(me),$e=Math.sin(me),s.push(Ue*we+_e-(kt=we*Ae*Ie)*qe,qe*Te+be+(Rt=Te*Ae*Ie)*Ue,(gt=ft*we+_e)+kt*$e,(vt=$e*Te+be)-Rt*ft,gt,vt);break;case Ai.R:w=x=g[E++],D=C=g[E++],a=w+g[E++],u=D+g[E++],P(a,D),z(a,D,a,u),z(a,u,w,u),z(w,u,w,D),z(w,D,a,D);break;case Ai.Z:s&&z(x,C,w,D),x=w,C=D}}return s&&s.length>2&&y.push(s),y}function FV(c,s,a,u,d,p,g,v,y,x){if(r6(c,a)&&r6(s,u)&&r6(d,g)&&r6(p,v))y.push(g,v);else{var C=2/x,w=C*C,D=g-c,P=v-s,z=Math.sqrt(D*D+P*P);D/=z,P/=z;var k=a-c,E=u-s,F=d-g,B=p-v,H=k*k+E*E,Y=F*F+B*B;if(H<w&&Y<w)y.push(g,v);else{var U=D*k+P*E,j=-D*F-P*B;if(H-U*U<w&&U>=0&&Y-j*j<w&&j>=0)y.push(g,v);else{var q=[],Q=[];x1(c,a,d,g,.5,q),x1(s,u,p,v,.5,Q),FV(q[0],Q[0],q[1],Q[1],q[2],Q[2],q[3],Q[3],y,x),FV(q[4],Q[4],q[5],Q[5],q[6],Q[6],q[7],Q[7],y,x)}}}}function Pz(c,s,a){var p=Math.abs(c[s]/c[1-s]),g=Math.ceil(Math.sqrt(p*a)),v=Math.floor(a/g);0===v&&(v=1,g=a);for(var y=[],x=0;x<g;x++)y.push(v);var C=a-g*v;if(C>0)for(x=0;x<C;x++)y[x%g]+=1;return y}function Az(c,s,a){for(var u=c.r0,d=c.r,p=c.startAngle,v=Math.abs(c.endAngle-p),y=v*d,x=d-u,C=y>Math.abs(x),w=Pz([y,x],C?0:1,s),D=(C?v:x)/w.length,P=0;P<w.length;P++)for(var z=(C?x:v)/w[P],k=0;k<w[P];k++){var E={};C?(E.startAngle=p+D*P,E.endAngle=p+D*(P+1),E.r0=u+z*k,E.r=u+z*(k+1)):(E.startAngle=p+z*k,E.endAngle=p+z*(k+1),E.r0=u+D*P,E.r=u+D*(P+1)),E.clockwise=c.clockwise,E.cx=c.cx,E.cy=c.cy,a.push(E)}}function zz(c,s,a,u){return c*u-a*s}function o6(c,s,a,u,d,p,g,v){var y=a-c,x=u-s,C=g-d,w=v-p,D=zz(C,w,y,x);if(Math.abs(D)<1e-6)return null;var P=zz(c-d,s-p,C,w)/D;return P<0||P>1?null:new _n(P*y+c,P*x+s)}function BV(c,s,a){var u=new _n;_n.sub(u,a,s),u.normalize();var d=new _n;return _n.sub(d,c,s),d.dot(u)}function lm(c,s){var a=c[c.length-1];a&&a[0]===s[0]&&a[1]===s[1]||c.push(s)}function pJ(c){var s=c.points,a=[],u=[];c0(s,a,u);var d=new qn(a[0],a[1],u[0]-a[0],u[1]-a[1]),p=d.width,g=d.height,v=d.x,y=d.y,x=new _n,C=new _n;return p>g?(x.x=C.x=v+p/2,x.y=y,C.y=y+g):(x.y=C.y=y+g/2,x.x=v,C.x=v+p),function(w,D,P){for(var z=w.length,k=[],E=0;E<z;E++){var F=w[E],B=w[(E+1)%z],H=o6(F[0],F[1],B[0],B[1],D.x,D.y,P.x,P.y);H&&k.push({projPt:BV(H,D,P),pt:H,idx:E})}if(k.length<2)return[{points:w},{points:w}];k.sort(function(ae,he){return ae.projPt-he.projPt});var Y=k[0],U=k[k.length-1];if(U.idx<Y.idx){var j=Y;Y=U,U=j}var q=[Y.pt.x,Y.pt.y],Q=[U.pt.x,U.pt.y],re=[q],oe=[Q];for(E=Y.idx+1;E<=U.idx;E++)lm(re,w[E].slice());for(lm(re,Q),lm(re,q),E=U.idx+1;E<=Y.idx+z;E++)lm(oe,w[E%z].slice());return lm(oe,q),lm(oe,Q),[{points:re},{points:oe}]}(s,x,C)}function a6(c,s,a,u){if(1===a)u.push(s);else{var d=Math.floor(a/2),p=c(s);a6(c,p[0],d,u),a6(c,p[1],a-d,u)}return u}function gJ(c,s){s.setStyle(c.style),s.z=c.z,s.z2=c.z2,s.zlevel=c.zlevel}function vJ(c,s){var a=c.length,u=s.length;if(a===u)return[c,s];for(var d=[],p=[],g=a<u?c:s,v=Math.min(a,u),y=Math.abs(u-a)/6,C=Math.ceil(y/((v-2)/6))+1,w=[g[0],g[1]],D=y,P=2;P<v;){var z=g[P-2],k=g[P-1],E=g[P++],F=g[P++],B=g[P++],H=g[P++],Y=g[P++],U=g[P++];if(D<=0)w.push(E,F,B,H,Y,U);else{for(var j=Math.min(D,C-1)+1,q=1;q<=j;q++){var Q=q/j;x1(z,E,B,Y,Q,d),x1(k,F,H,U,Q,p),w.push(d[1],p[1],d[2],p[2],z=d[3],k=p[3]),E=d[5],F=p[5],B=d[6],H=p[6]}D-=j-1}}return g===c?[w,s]:[c,w]}function VV(c,s){for(var a=c.length,u=c[a-2],d=c[a-1],p=[],g=0;g<s.length;)p[g++]=u,p[g++]=d;return p}function HV(c){for(var s=0,a=0,u=0,d=c.length,p=0,g=d-2;p<d;g=p,p+=2){var v=c[g],y=c[g+1],x=c[p],C=c[p+1],w=v*C-x*y;s+=w,a+=(v+x)*w,u+=(y+C)*w}return 0===s?[c[0]||0,c[1]||0]:[a/s/3,u/s/3,s]}function _J(c,s,a,u){for(var d=(c.length-2)/6,p=1/0,g=0,v=c.length,y=v-2,x=0;x<d;x++){for(var C=6*x,w=0,D=0;D<v;D+=2){var P=0===D?C:(C+D-2)%y+2,E=s[D]-u[0]-(c[P]-a[0]),F=s[D+1]-u[1]-(c[P+1]-a[1]);w+=E*E+F*F}w<p&&(p=w,g=x)}return g}function yJ(c){for(var s=[],a=c.length,u=0;u<a;u+=2)s[u]=c[a-u-2],s[u+1]=c[a-u-1];return s}function J7(c){return c.__isCombineMorphing}var YV="__mOriginal_";function ew(c,s,a){var u=YV+s,d=c[u]||c[s];c[u]||(c[u]=c[s]);var p=a.replace,g=a.after,v=a.before;c[s]=function(){var y,x=arguments;return v&&v.apply(this,x),y=p?p.apply(this,x):d.apply(this,x),g&&g.apply(this,x),y}}function tw(c,s){var a=YV+s;c[a]&&(c[s]=c[a],c[a]=null)}function UV(c,s){for(var a=0;a<c.length;a++)for(var u=c[a],d=0;d<u.length;){var p=u[d],g=u[d+1];u[d++]=s[0]*p+s[2]*g+s[4],u[d++]=s[1]*p+s[3]*g+s[5]}}function GV(c,s){var a=c.getUpdatedPathProxy(),u=s.getUpdatedPathProxy(),d=function(w,D){for(var P,z,k,E=[],F=[],B=0;B<Math.max(w.length,D.length);B++){var H=w[B],Y=D[B],U=void 0,j=void 0;H?Y?(z=U=(P=vJ(H,Y))[0],k=j=P[1]):(j=VV(k||H,H),U=H):(U=VV(z||Y,Y),j=Y),E.push(U),F.push(j)}return[E,F]}(NV(a),NV(u)),p=d[0],g=d[1],v=c.getComputedTransform(),y=s.getComputedTransform();v&&UV(p,v),y&&UV(g,y),ew(s,"updateTransform",{replace:function(){this.transform=null}}),s.transform=null;var x=function(w,D,P,z){for(var k,E=[],F=0;F<w.length;F++){var B=w[F],H=D[F],Y=HV(B),U=HV(H);null==k&&(k=Y[2]<0!=U[2]<0);var j=[],q=[],Q=0,re=1/0,oe=[],ae=B.length;k&&(B=yJ(B));for(var he=6*_J(B,H,Y,U),me=ae-2,_e=0;_e<me;_e+=2){var be=(he+_e)%me+2;j[_e+2]=B[be]-Y[0],j[_e+3]=B[be+1]-Y[1]}j[0]=B[he]-Y[0],j[1]=B[he+1]-Y[1];for(var we=z/10,Te=-z/2;Te<=z/2;Te+=we){var Me=Math.sin(Te),Ae=Math.cos(Te),Ie=0;for(_e=0;_e<B.length;_e+=2){var Ue=j[_e],qe=j[_e+1],ft=H[_e]-U[0],$e=H[_e+1]-U[1],ot=ft*Ae-$e*Me,bt=ft*Me+$e*Ae;oe[_e]=ot,oe[_e+1]=bt;var gt=ot-Ue,vt=bt-qe;Ie+=gt*gt+vt*vt}if(Ie<re){re=Ie,Q=Te;for(var kt=0;kt<oe.length;kt++)q[kt]=oe[kt]}}E.push({from:j,to:q,fromCp:Y,toCp:U,rotation:-Q})}return E}(p,g,0,Math.PI),C=[];ew(s,"buildPath",{replace:function(w){for(var D=s.__morphT,P=1-D,z=[],k=0;k<x.length;k++){var E=x[k],F=E.from,B=E.to,H=E.rotation*D,Y=E.fromCp,U=E.toCp,j=Math.sin(H),q=Math.cos(H);Oc(z,Y,U,D);for(var Q=0;Q<F.length;Q+=2){var ae=F[Q]*P+(be=B[Q])*D,he=F[Q+1]*P+(we=B[Q+1])*D;C[Q]=ae*q-he*j+z[0],C[Q+1]=ae*j+he*q+z[1]}var me=C[0],_e=C[1];for(w.moveTo(me,_e),Q=2;Q<F.length;){var be=C[Q++],we=C[Q++],Te=C[Q++],Me=C[Q++],Ae=C[Q++],Ie=C[Q++];me===be&&_e===we&&Te===Ae&&Me===Ie?w.lineTo(Ae,Ie):w.bezierCurveTo(be,we,Te,Me,Ae,Ie),me=Ae,_e=Ie}}}})}function kz(c,s,a){if(!c||!s)return s;var u=a.done,d=a.during;return GV(c,s),s.__morphT=0,s.animateTo({__morphT:1},jt({during:function(p){s.dirtyShape(),d&&d(p)},done:function(){tw(s,"buildPath"),tw(s,"updateTransform"),s.__morphT=-1,s.createPathProxy(),s.dirtyShape(),u&&u()}},a)),s}function xJ(c,s,a,u,d,p){c=d===a?0:Math.round(32767*(c-a)/(d-a)),s=p===u?0:Math.round(32767*(s-u)/(p-u));for(var g,v=0,y=32768;y>0;y/=2){var x=0,C=0;(c&y)>0&&(x=1),(s&y)>0&&(C=1),v+=y*y*(3*x^C),0===C&&(1===x&&(c=y-1-c,s=y-1-s),g=c,c=s,s=g)}return v}function nw(c){var s=1/0,a=1/0,u=-1/0,d=-1/0,p=tt(c,function(g){var v=g.getBoundingRect(),y=g.getComputedTransform(),x=v.x+v.width/2+(y?y[4]:0),C=v.y+v.height/2+(y?y[5]:0);return s=Math.min(x,s),a=Math.min(C,a),u=Math.max(x,u),d=Math.max(C,d),[x,C]});return tt(p,function(g,v){return{cp:g,z:xJ(g[0],g[1],s,a,u,d),path:c[v]}}).sort(function(g,v){return g.z-v.z}).map(function(g){return g.path})}function WV(c){return function mJ(c,s){var a,u=[],d=c.shape;switch(c.type){case"rect":(function(F,B,H){for(var Y=F.width,U=F.height,j=Y>U,q=Pz([Y,U],j?0:1,B),Q=j?"width":"height",re=j?"height":"width",oe=j?"x":"y",ae=j?"y":"x",he=F[Q]/q.length,me=0;me<q.length;me++)for(var _e=F[re]/q[me],be=0;be<q[me];be++){var we={};we[oe]=me*he,we[ae]=be*_e,we[Q]=he,we[re]=_e,we.x+=F.x,we.y+=F.y,H.push(we)}})(d,s,u),a=gi;break;case"sector":Az(d,s,u),a=hl;break;case"circle":Az({r0:0,r:d.r,startAngle:0,endAngle:2*Math.PI,cx:d.cx,cy:d.cy},s,u),a=hl;break;default:var p=c.getComputedTransform(),g=p?Math.sqrt(Math.max(p[0]*p[0]+p[1]*p[1],p[2]*p[2]+p[3]*p[3])):1,v=tt(function(F,B){var H=NV(F),Y=[];B=B||1;for(var U=0;U<H.length;U++){var j=H[U],q=[],Q=j[0],re=j[1];q.push(Q,re);for(var oe=2;oe<j.length;){var ae=j[oe++],he=j[oe++],me=j[oe++],_e=j[oe++],be=j[oe++],we=j[oe++];FV(Q,re,ae,he,me,_e,be,we,q,B),Q=be,re=we}Y.push(q)}return Y}(c.getUpdatedPathProxy(),g),function(F){return function(B){for(var H=[],Y=0;Y<B.length;)H.push([B[Y++],B[Y++]]);return H}(F)}),y=v.length;if(0===y)a6(pJ,{points:v[0]},s,u);else if(y===s)for(var x=0;x<y;x++)u.push({points:v[x]});else{var C=0,w=tt(v,function(F){var B=[],H=[];c0(F,B,H);var Y=(H[1]-B[1])*(H[0]-B[0]);return C+=Y,{poly:F,area:Y}});w.sort(function(F,B){return B.area-F.area});var D=s;for(x=0;x<y;x++){var P=w[x];if(D<=0)break;var z=x===y-1?D:Math.ceil(P.area/C*s);z<0||(a6(pJ,{points:P.poly},z,u),D-=z)}}a=dl}if(!a)return function(F,B){for(var H=[],Y=0;Y<B;Y++)H.push(fM(F));return H}(c,s);var k=[];for(x=0;x<u.length;x++){var E=new a;E.setShape(u[x]),gJ(c,E),k.push(E)}return k}(c.path,c.count)}function jV(c){return at(c[0])}function $V(c,s){for(var a=[],u=c.length,d=0;d<u;d++)a.push({one:c[d],many:[]});for(d=0;d<s.length;d++){var p=s[d].length,g=void 0;for(g=0;g<p;g++)a[g%u].many.push(s[d][g])}var v=0;for(d=u-1;d>=0;d--)if(!a[d].many.length){var y=a[v].many;if(y.length<=1){if(!v)return a;v=0}p=y.length;var x=Math.ceil(p/2);a[d].many=y.slice(x,p),a[v].many=y.slice(0,x),v++}return a}var bJ={clone:function(c){for(var s=[],a=1-Math.pow(1-c.path.style.opacity,1/c.count),u=0;u<c.count;u++){var d=fM(c.path);d.setStyle("opacity",a),s.push(d)}return s},split:null};function Oz(c,s,a,u,d,p){if(c.length&&s.length){var g=m0("update",u,d);if(g&&g.duration>0){var v,y,x=u.getModel("universalTransition").get("delay"),C=Object.assign({setToFinal:!0},g);jV(c)&&(v=c,y=s),jV(s)&&(v=s,y=c);for(var w=v?v===c:c.length>s.length,D=v?$V(y,v):$V(w?s:c,[w?c:s]),P=0,z=0;z<D.length;z++)P+=D[z].many.length;var k=0;for(z=0;z<D.length;z++)E(D[z],w,k,P),k+=D[z].many.length}}function E(F,B,H,Y,U){var j=F.many,q=F.one;if(1!==j.length||U)for(var Q=jt({dividePath:bJ[a],individualDelay:x&&function(Te,Me,Ae,Ie){return x(Te+H,Y)}},C),re=B?function(Te,Me,Ae){var Ie=[];!function Ii(zi){for(var lo=0;lo<zi.length;lo++){var Br=zi[lo];J7(Br)?Ii(Br.childrenRef()):Br instanceof pi&&Ie.push(Br)}}(Te);var Ue=Ie.length;if(!Ue)return{fromIndividuals:[],toIndividuals:[],count:0};var qe=(Ae.dividePath||WV)({path:Me,count:Ue});if(qe.length!==Ue)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Ie=nw(Ie),qe=nw(qe);for(var ft=Ae.done,$e=Ae.during,ot=Ae.individualDelay,bt=new Lr,gt=0;gt<Ue;gt++){var vt=Ie[gt],kt=qe[gt];kt.parent=Me,kt.copyTransform(bt),ot||GV(vt,kt)}function Rt(Ii){for(var zi=0;zi<qe.length;zi++)qe[zi].addSelfToZr(Ii)}function dn(){Me.__isCombineMorphing=!1,Me.__morphT=-1,Me.childrenRef=null,tw(Me,"addSelfToZr"),tw(Me,"removeSelfFromZr")}Me.__isCombineMorphing=!0,Me.childrenRef=function(){return qe},ew(Me,"addSelfToZr",{after:function(Ii){Rt(Ii)}}),ew(Me,"removeSelfFromZr",{after:function(Ii){for(var zi=0;zi<qe.length;zi++)qe[zi].removeSelfFromZr(Ii)}});var ln=qe.length;if(ot){var mn=ln,Xr=function(){0==--mn&&(dn(),ft&&ft())};for(gt=0;gt<ln;gt++){var To=ot?jt({delay:(Ae.delay||0)+ot(gt,ln,Ie[gt],qe[gt]),done:Xr},Ae):Ae;kz(Ie[gt],qe[gt],To)}}else Me.__morphT=0,Me.animateTo({__morphT:1},jt({during:function(Ii){for(var zi=0;zi<ln;zi++){var lo=qe[zi];lo.__morphT=Me.__morphT,lo.dirtyShape()}$e&&$e(Ii)},done:function(){dn();for(var Ii=0;Ii<Te.length;Ii++)tw(Te[Ii],"updateTransform");ft&&ft()}},Ae));return Me.__zr&&Rt(Me.__zr),{fromIndividuals:Ie,toIndividuals:qe,count:ln}}(j,q,Q):function(Te,Me,Ae){var Ie=Me.length,Ue=[],qe=Ae.dividePath||WV;if(J7(Te)){!function kt(Rt){for(var dn=0;dn<Rt.length;dn++){var ln=Rt[dn];J7(ln)?kt(ln.childrenRef()):ln instanceof pi&&Ue.push(ln)}}(Te.childrenRef());var ft=Ue.length;if(ft<Ie)for(var $e=0,ot=ft;ot<Ie;ot++)Ue.push(fM(Ue[$e++%ft]));Ue.length=Ie}else{Ue=qe({path:Te,count:Ie});var bt=Te.getComputedTransform();for(ot=0;ot<Ue.length;ot++)Ue[ot].setLocalTransform(bt);if(Ue.length!==Ie)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}Ue=nw(Ue),Me=nw(Me);var gt=Ae.individualDelay;for(ot=0;ot<Ie;ot++){var vt=gt?jt({delay:(Ae.delay||0)+gt(ot,Ie,Ue[ot],Me[ot])},Ae):Ae;kz(Ue[ot],Me[ot],vt)}return{fromIndividuals:Ue,toIndividuals:Me,count:Me.length}}(q,j,Q),oe=re.fromIndividuals,ae=re.toIndividuals,he=oe.length,me=0;me<he;me++)_e=x?jt({delay:x(me,he)},C):C,p(oe[me],ae[me],B?j[me]:F.one,B?F.one:j[me],_e);else{var _e,be=B?j[0]:q,we=B?q:j[0];J7(be)?E({many:[be],one:we},!0,H,Y,!0):(kz(be,we,_e=x?jt({delay:x(H,Y)},C):C),p(be,we,be,we,_e))}}}function Dv(c){if(!c)return[];if(at(c)){for(var s=[],a=0;a<c.length;a++)s.push(Dv(c[a]));return s}var u=[];return c.traverse(function(d){d instanceof pi&&!d.disableMorphing&&!d.invisible&&!d.ignore&&u.push(d)}),u}var CJ=Zi();function XV(c){var s=[];return fe(c,function(a){var u=a.data;if(!(u.count()>1e4))for(var d=u.getIndices(),p=function(v){for(var y=v.dimensions,x=0;x<y.length;x++){var C=v.getDimensionInfo(y[x]);if(C&&0===C.otherDims.itemGroupId)return y[x]}}(u),g=0;g<d.length;g++)s.push({data:u,dim:a.dim||p,divide:a.divide,dataIndex:g})}),s}function Ez(c,s,a){c.traverse(function(u){u instanceof pi&&to(u,{style:{opacity:0}},s,{dataIndex:a,isFrom:!0})})}function Iz(c){if(c.parent){var s=c.getComputedTransform();c.setLocalTransform(s),c.parent.remove(c)}}function v4(c){c.stopAnimation(),c.isGroup&&c.traverse(function(s){s.stopAnimation()})}function qV(c,s,a){var u=XV(c),d=XV(s);function p(F,B,H,Y,U){(H||F)&&B.animateFrom({style:(H||F).style},U)}function g(F){for(var B=0;B<F.length;B++)if(F[B].dim)return F[B].dim}var v=g(u),y=g(d),x=!1;function C(F,B){return function(H){var Y=H.data,U=H.dataIndex;if(B)return Y.getId(U);var j=Y.hostModel&&Y.hostModel.get("dataGroupId"),q=F?v||y:y||v,Q=q&&Y.getDimensionInfo(q),re=Q&&Q.ordinalMeta;if(Q){var oe=Y.get(Q.name,U);return re&&re.categories[oe]||oe+""}var ae=Y.getRawDataItem(U);return ae&&ae.groupId?ae.groupId+"":j||Y.getId(U)}}var w=function(F,B){var H=F.length;if(H!==B.length)return!1;for(var Y=0;Y<H;Y++){var U=F[Y],j=B[Y];if(U.data.getId(U.dataIndex)!==j.data.getId(j.dataIndex))return!1}return!0}(u,d),D={};if(!w)for(var P=0;P<d.length;P++){var z=d[P],k=z.data.getItemGraphicEl(z.dataIndex);k&&(D[k.id]=!0)}function E(F,B){var H=u[B],Y=d[F],U=Y.data.hostModel,j=H.data.getItemGraphicEl(H.dataIndex),q=Y.data.getItemGraphicEl(Y.dataIndex);j!==q?j&&D[j.id]||q&&(v4(q),j?(v4(j),Iz(j),x=!0,Oz(Dv(j),Dv(q),Y.divide,U,F,p)):Ez(q,U,F)):q&&function wJ(c,s,a){var u=m0("update",a,s);u&&c.traverse(function(d){if(d instanceof id){var p=q3(d).oldStyle;p&&d.animateFrom({style:p},u)}})}(q,Y.dataIndex,U)}new Y1(u,d,C(!0,w),C(!1,w),null,"multiple").update(E).updateManyToOne(function(F,B){var H=d[F],Y=H.data,U=Y.hostModel,j=Y.getItemGraphicEl(H.dataIndex),q=Ri(tt(B,function(Q){return u[Q].data.getItemGraphicEl(u[Q].dataIndex)}),function(Q){return Q&&Q!==j&&!D[Q.id]});j&&(v4(j),q.length?(fe(q,function(Q){v4(Q),Iz(Q)}),x=!0,Oz(Dv(q),Dv(j),H.divide,U,F,p)):Ez(j,U,H.dataIndex))}).updateOneToMany(function(F,B){var H=u[B],Y=H.data.getItemGraphicEl(H.dataIndex);if(!Y||!D[Y.id]){var U=Ri(tt(F,function(q){return d[q].data.getItemGraphicEl(d[q].dataIndex)}),function(q){return q&&q!==Y}),j=d[F[0]].data.hostModel;U.length&&(fe(U,function(q){return v4(q)}),Y?(v4(Y),Iz(Y),x=!0,Oz(Dv(Y),Dv(U),H.divide,j,F[0],p)):fe(U,function(q){return Ez(q,j,F[0])}))}}).updateManyToMany(function(F,B){new Y1(B,F,function(H){return u[H].data.getId(u[H].dataIndex)},function(H){return d[H].data.getId(d[H].dataIndex)}).update(function(H,Y){E(F[H],B[Y])}).execute()}).execute(),x&&fe(s,function(F){var B=F.data.hostModel,H=B&&a.getViewOfSeriesModel(B),Y=m0("update",B,0);H&&B.isAnimationEnabled()&&Y&&Y.duration>0&&H.group.traverse(function(U){U instanceof pi&&!U.animators.length&&U.animateFrom({style:{opacity:0}},Y)})})}function ZV(c){return c.getModel("universalTransition").get("seriesKey")||c.id}function KV(c){return at(c)?c.sort().join(","):c}function cm(c){if(c.hostModel)return c.hostModel.getModel("universalTransition").get("divideShape")}function QV(c,s){for(var a=0;a<c.length;a++)if(null!=s.seriesIndex&&s.seriesIndex===c[a].seriesIndex||null!=s.seriesId&&s.seriesId===c[a].id)return a}Bn([function(c){c.registerPainter("canvas",tN)}]),Bn([function(c){c.registerPainter("svg",zq)}]),Bn([function(c){c.registerChartView(Iq),c.registerSeriesModel(nN),c.registerLayout(F_("line",!0)),c.registerVisual({seriesType:"line",reset:function(s){var a=s.getData(),u=s.getModel("lineStyle").getLineStyle();u&&!u.stroke&&(u.stroke=a.getVisual("style").fill),a.setVisual("legendLineStyle",u)}}),c.registerProcessor(c.PRIORITY.PROCESSOR.STATISTIC,HD("line"))},function(c){c.registerChartView(Lce),c.registerSeriesModel(Lq),c.registerLayout(c.PRIORITY.VISUAL.LAYOUT,Je(DR,"bar")),c.registerLayout(c.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,oq),c.registerProcessor(c.PRIORITY.PROCESSOR.STATISTIC,HD("bar")),c.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(s,a){a.eachComponent({mainType:s.componentType||"series",query:s},function(d){s.sortInfo&&d.axis.setCategorySortInfo(s.sortInfo)})})},function(c){c.registerChartView(bN),c.registerSeriesModel(md),wy("pie",c.registerAction),c.registerLayout(Je(Rce,"pie")),c.registerProcessor(gC("pie")),c.registerProcessor({seriesType:"pie",reset:function(a,u){var d=a.getData();d.filterSelf(function(p){var g=d.mapDimension("value"),v=d.get(g,p);return!("number"==typeof v&&!isNaN(v)&&v<0)})}})},function(c){Bn(kN),c.registerSeriesModel(Uq),c.registerChartView(en),c.registerLayout(F_("scatter"))},function(c){Bn(aP),c.registerChartView(Yce),c.registerSeriesModel(eZ),c.registerLayout(Vce),c.registerProcessor(gC("radar")),c.registerPreprocessor(Hce)},function(c){Bn(hZ),c.registerChartView(aZ),c.registerSeriesModel(sZ),c.registerLayout(Gce),c.registerProcessor(c.PRIORITY.PROCESSOR.STATISTIC,Uce),wy("map",c.registerAction)},function(c){c.registerChartView(WN),c.registerSeriesModel(vZ),c.registerLayout(_Z),c.registerVisual(yZ),function(s){s.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,u){u.eachComponent({mainType:"series",subType:"tree",query:a},function(d){var p=a.dataIndex,g=d.getData().tree.getNodeByDataIndex(p);g.isExpand=!g.isExpand})}),s.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,u){u.eachComponent({mainType:"series",subType:"tree",query:a},function(d){var p=UN(d.coordinateSystem,a);d.setCenter&&d.setCenter(p.center),d.setZoom&&d.setZoom(p.zoom)})})}(c)},function(c){c.registerSeriesModel(kC),c.registerChartView(Kce),c.registerVisual(SZ),c.registerLayout(TZ),function(s){for(var a=0;a<bZ.length;a++)s.registerAction({type:bZ[a],update:"updateView"},xZ);s.registerAction({type:"treemapRootToNode",update:"updateView"},function(u,d){d.eachComponent({mainType:"series",subType:"treemap",query:u},function(p,g){var v=vi(u,["treemapZoomToNode","treemapRootToNode"],p);if(v){var y=p.getViewRoot();y&&(u.direction=Kn(y,v.node)?"rollUp":"drillDown"),p.resetViewRoot(v.node)}})})}(c)},function(c){c.registerChartView(_d),c.registerSeriesModel(OZ),c.registerProcessor(nF),c.registerVisual(DZ),c.registerVisual(FC),c.registerLayout(PZ),c.registerLayout(c.PRIORITY.VISUAL.POST_CHART_LAYOUT,sF),c.registerLayout(AZ),c.registerCoordinateSystem("graphView",{dimensions:W_.dimensions,create:lF}),c.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),c.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),c.registerAction(EZ,function(s,a){a.eachComponent({mainType:"series",query:s},function(u){var d=UN(u.coordinateSystem,s);u.setCenter&&u.setCenter(d.center),u.setZoom&&u.setZoom(d.zoom)})})},function(c){c.registerChartView(NP),c.registerSeriesModel(RZ)},function(c){c.registerChartView(BZ),c.registerSeriesModel(VZ),c.registerLayout(HZ),c.registerProcessor(gC("funnel"))},function(c){Bn(oK),c.registerChartView(gF),c.registerSeriesModel(BP),c.registerVisual(c.PRIORITY.VISUAL.BRUSH,ao)},function(c){c.registerChartView(lue),c.registerSeriesModel(cue),c.registerLayout(uue),c.registerVisual(gue),c.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(s,a){a.eachComponent({mainType:"series",subType:"sankey",query:s},function(u){u.setNodePosition(s.dataIndex,[s.localX,s.localY])})})},function(c){c.registerSeriesModel(uK),c.registerChartView(hK),c.registerVisual(BF),c.registerLayout(fK),c.registerTransform(pK)},function(c){c.registerChartView(ZC),c.registerSeriesModel(YF),c.registerPreprocessor(mK),c.registerVisual(lA),c.registerLayout(GF)},function(c){c.registerChartView(xK),c.registerSeriesModel(jF),c.registerLayout(F_("effectScatter"))},function(c){c.registerChartView(vue),c.registerSeriesModel(ZF),c.registerLayout(hA),c.registerVisual(KF)},function(c){c.registerChartView(JF),c.registerSeriesModel(_ue)},function(c){c.registerChartView(eB),c.registerSeriesModel(yue),c.registerLayout(Je(DR,"pictorialBar"))},function(c){c.registerChartView(xue),c.registerSeriesModel(IK),c.registerLayout(bue),c.registerProcessor(gC("themeRiver"))},function(c){c.registerChartView(Cue),c.registerSeriesModel(D8),c.registerLayout(Je(wue,"sunburst")),c.registerProcessor(Je(gC,"sunburst")),c.registerVisual(wn),function(s){s.registerAction({type:oB,update:"updateView"},function(a,u){u.eachComponent({mainType:"series",subType:"sunburst",query:a},function(d,p){var g=vi(a,[oB],d);if(g){var v=d.getViewRoot();v&&(a.direction=Kn(v,g.node)?"rollUp":"drillDown"),d.resetViewRoot(g.node)}})}),s.registerAction({type:NK,update:"none"},function(a,u,d){a=it({},a),u.eachComponent({mainType:"series",subType:"sunburst",query:a},function(p){var g=vi(a,[NK],p);g&&(a.dataIndex=g.node.dataIndex)}),d.dispatchAction(it(a,{type:"highlight"}))}),s.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(a,u,d){a=it({},a),d.dispatchAction(it(a,{type:"downplay"}))})}(c)},function(c){c.registerChartView(uB),c.registerSeriesModel(BK)}]),Bn(function(c){Bn(kN),Bn(hv)}),Bn(function(c){Bn(hv),q1.registerAxisPointerClass("PolarAxisPointer",Sue),c.registerCoordinateSystem("polar",eQ),c.registerComponentModel(QK),c.registerComponentView(iQ),H_(c,"angle",I8,DB),H_(c,"radius",L8,nQ),c.registerComponentView(tQ),c.registerComponentView(Bf),c.registerLayout(Je(MB,"bar"))}),Bn(hZ),Bn(function(c){Bn(hv),q1.registerAxisPointerClass("SingleAxisPointer",Tue),c.registerComponentView(BA),c.registerComponentView(aQ),c.registerComponentModel(y7),H_(c,"single",y7,y7.defaultOption),c.registerCoordinateSystem("single",uQ)}),Bn(oK),Bn(function(c){c.registerComponentModel(yg),c.registerComponentView(AB),c.registerCoordinateSystem("calendar",pQ)}),Bn(function(c){c.registerComponentModel(kB),c.registerComponentView(VA),c.registerPreprocessor(b7)}),Bn(function(c){c.registerComponentModel(yQ),c.registerComponentView(xQ),Y8("saveAsImage",P7),Y8("magicType",U8),Y8("dataView",u4),Y8("dataZoom",MQ),Y8("restore",W8),Bn(Mue)}),Bn(function(c){Bn(hv),c.registerComponentModel(PQ),c.registerComponentView(OQ),c.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),c.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),Bn(hv),Bn(function(c){c.registerComponentView(RQ),c.registerComponentModel(NQ),c.registerPreprocessor(EQ),c.registerVisual(c.PRIORITY.VISUAL.BRUSH,nV),c.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(s,a){a.eachComponent({mainType:"brush",query:s},function(u){u.setAreas(s.areas)})}),c.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),c.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Y8("brush",iz)}),Bn(function(c){c.registerComponentModel(FQ),c.registerComponentView(lV)}),Bn(function(c){c.registerComponentModel(R7),c.registerComponentView(uV),c.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(s){s.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,u,d){var p=u.getComponent("timeline");return p&&null!=a.currentIndex&&(p.setCurrentIndex(a.currentIndex),!p.get("loop",!0)&&p.isIndexMax()&&p.getPlayState()&&(p.setPlayState(!1),d.dispatchAction({type:"timelinePlayChange",playState:!1,from:a.from}))),u.resetOption("timeline",{replaceMerge:p.get("replaceMerge",!0)}),jt({currentIndex:p.option.currentIndex},a)}),s.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,u){var d=u.getComponent("timeline");d&&null!=a.playState&&d.setPlayState(a.playState)})}(c),c.registerPreprocessor(VQ)}),Bn(function(c){c.registerComponentModel(fV),c.registerComponentView(Due),c.registerPreprocessor(function(s){oz(s.series,"markPoint")&&(s.markPoint=s.markPoint||{})})}),Bn(function(c){c.registerComponentModel(Pue),c.registerComponentView(Cv),c.registerPreprocessor(function(s){oz(s.series,"markLine")&&(s.markLine=s.markLine||{})})}),Bn(function(c){c.registerComponentModel(hz),c.registerComponentView(HQ),c.registerPreprocessor(function(s){oz(s.series,"markArea")&&(s.markArea=s.markArea||{})})}),Bn(function(c){Bn(_V),Bn(kue)}),Bn(function(c){Bn(QQ),Bn($7)}),Bn(QQ),Bn($7),Bn(function(c){Bn(kV),Bn(lJ)}),Bn(kV),Bn(lJ),Bn(function(c){c.registerPreprocessor(uJ),c.registerVisual(c.PRIORITY.VISUAL.ARIA,Eue)}),Bn(function(c){c.registerTransform(RV),c.registerTransform(kn)}),Bn(function(c){c.registerComponentModel(is),c.registerComponentView(Nue)}),Bn(function(c){c.registerUpdateLifecycle("series:beforeupdate",function(s,a,u){fe(Sr(u.seriesTransition),function(d){fe(Sr(d.to),function(p){for(var g=u.updatedSeries,v=0;v<g.length;v++)(null!=p.seriesIndex&&p.seriesIndex===g[v].seriesIndex||null!=p.seriesId&&p.seriesId===g[v].id)&&(g[v].__universalTransitionEnabled=!0)})})}),c.registerUpdateLifecycle("series:transition",function(s,a,u){var D,P,z,k,E,d=CJ(a);if(d.oldSeries&&u.updatedSeries&&u.optionChanged){var p=u.seriesTransition;if(p)fe(Sr(p),function(D){var P,z,k,E,F,B;z=d,k=u,E=a,F=[],B=[],fe(Sr((P=D).from),function(H){var Y=QV(z.oldSeries,H);Y>=0&&F.push({data:z.oldData[Y],divide:cm(z.oldData[Y]),dim:H.dimension})}),fe(Sr(P.to),function(H){var Y=QV(k.updatedSeries,H);if(Y>=0){var U=k.updatedSeries[Y].getData();B.push({data:U,divide:cm(U),dim:H.dimension})}}),F.length>0&&B.length>0&&qV(F,B,E)});else{var g=(D=d,P=u,z=qt(),k=qt(),E=qt(),fe(D.oldSeries,function(F,B){var H=D.oldData[B],Y=ZV(F),U=KV(Y);k.set(U,H),at(Y)&&fe(Y,function(j){E.set(j,{data:H,key:U})})}),fe(P.updatedSeries,function(F){if(F.isUniversalTransitionEnabled()&&F.isAnimationEnabled()){var B=F.getData(),H=ZV(F),Y=KV(H),U=k.get(Y);if(U)z.set(Y,{oldSeries:[{divide:cm(U),data:U}],newSeries:[{divide:cm(B),data:B}]});else if(at(H)){var j=[];fe(H,function(re){var oe=k.get(re);oe&&j.push({divide:cm(oe),data:oe})}),j.length&&z.set(Y,{oldSeries:j,newSeries:[{data:B,divide:cm(B)}]})}else{var q=E.get(H);if(q){var Q=z.get(q.key);Q||(Q={oldSeries:[{data:q.data,divide:cm(q.data)}],newSeries:[]},z.set(q.key,Q)),Q.newSeries.push({data:B,divide:cm(B)})}}}}),z);fe(g.keys(),function(D){var P=g.get(D);qV(P.oldSeries,P.newSeries,a)})}fe(u.updatedSeries,function(D){D.__universalTransitionEnabled&&(D.__universalTransitionEnabled=!1)})}for(var v=s.getSeries(),y=d.oldSeries=[],x=d.oldData=[],C=0;C<v.length;C++){var w=v[C].getData();w.count()<1e4&&(y.push(v[C]),x.push(w))}})}),Bn(function(c){c.registerUpdateLifecycle("series:beforeupdate",function(s,a,u){var d=Lu(a).labelManager;d||(d=Lu(a).labelManager=new $R),d.clearLabels()}),c.registerUpdateLifecycle("series:layoutlabels",function(s,a,u){var d=Lu(a).labelManager;u.updatedSeries.forEach(function(p){d.addLabelsOfSeries(a.getViewOfSeriesModel(p))}),d.updateLayoutConfig(a),d.layout(a),d.processLabelsOverall()})}),Qe.Axis=Iu,Qe.ChartView=dr,Qe.ComponentModel=di,Qe.ComponentView=$r,Qe.List=ts,Qe.Model=tr,Qe.PRIORITY=Di,Qe.SeriesModel=Fr,Qe.color=uu,Qe.connect=function(c){if(at(c)){var s=c;c=null,fe(s,function(a){null!=a.group&&(c=a.group)}),c=c||"g_"+$X++,fe(s,function(a){a.group=c})}return Eb[c]=!0,c},Qe.dataTool={},Qe.dependencies={zrender:"5.2.1"},Qe.disConnect=vR,Qe.disconnect=XX,Qe.dispose=function(c){"string"==typeof c?c=H0[c]:c instanceof zy||(c=$9(c)),c instanceof zy&&!c.isDisposed()&&c.dispose()},Qe.env=Pt,Qe.extendChartView=function(c){var s=dr.extend(c);return dr.registerClass(s),s},Qe.extendComponentModel=function(c){var s=di.extend(c);return di.registerClass(s),s},Qe.extendComponentView=function(c){var s=$r.extend(c);return $r.registerClass(s),s},Qe.extendSeriesModel=function(c){var s=Fr.extend(c);return Fr.registerClass(s),s},Qe.format=yD,Qe.getCoordinateSystemDimensions=function(c){var s=a_.get(c);if(s)return s.getDimensionsInfo?s.getDimensionsInfo():s.dimensions.slice()},Qe.getInstanceByDom=$9,Qe.getInstanceById=function(c){return H0[c]},Qe.getMap=function(c){return function(c){var s=Dy.get(c);return s&&"geoJSON"===s.type&&s.getMapForUser()}(c)},Qe.graphic=_D,Qe.helper=pq,Qe.init=function(c,s,a){var u=$9(c);if(u)return u;var d=new zy(c,s,a);return d.id="ec_"+jX++,H0[d.id]=d,RT(c,j9,d.id),In(d),yn.trigger("afterinit",d),d},Qe.innerDrawElementOnCanvas=Dt,Qe.matrix=St,Qe.number=gq,Qe.parseGeoJSON=k9,Qe.parseGeoJson=k9,Qe.registerAction=Mh,Qe.registerCoordinateSystem=J9,Qe.registerLayout=eD,Qe.registerLoading=Lb,Qe.registerLocale=AM,Qe.registerMap=Oy,Qe.registerPostInit=K9,Qe.registerPostUpdate=Q9,Qe.registerPreprocessor=q9,Qe.registerProcessor=Z9,Qe.registerTheme=X9,Qe.registerTransform=H1,Qe.registerUpdateLifecycle=ky,Qe.registerVisual=ig,Qe.setCanvasCreator=function(c){Ym("createCanvas",c)},Qe.throttle=my,Qe.time=mq,Qe.use=Bn,Qe.util=NR,Qe.vector=s5,Qe.version="5.2.2",Qe.zrUtil=cc,Qe.zrender=IT,Object.defineProperty(Qe,"__esModule",{value:!0})}(lu)},1911:function(rc,lu,Qe){var Fn,Ee,aa;Ee=[lu,Qe(9094)],void 0!==(aa="function"==typeof(Fn=function(bi,Ci){var _t;if(Ci){var Ur=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"];Ci.registerTheme("macarons",{color:Ur,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:Ur[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}})}else _t="ECharts is not Loaded",typeof console<"u"&&console&&console.error&&console.error(_t)})?Fn.apply(lu,Ee):Fn)&&(rc.exports=aa)},717:(rc,lu,Qe)=>{"use strict";var Fn=Qe(623);function Ee(aa){return!0===Fn(aa)&&"[object Object]"===Object.prototype.toString.call(aa)}rc.exports=function(bi){var Ci,Pt;return!(!1===Ee(bi)||(Ci=bi.constructor,"function"!=typeof Ci)||(Pt=Ci.prototype,!1===Ee(Pt))||!1===Pt.hasOwnProperty("isPrototypeOf"))}},623:rc=>{"use strict";rc.exports=function(Qe){return null!=Qe&&"object"==typeof Qe&&!1===Array.isArray(Qe)}},2872:rc=>{var lu=Object.prototype.toString;function Qe(_t){return"function"==typeof _t.constructor?_t.constructor.name:null}rc.exports=function(Un){if(void 0===Un)return"undefined";if(null===Un)return"null";var Oa=typeof Un;if("boolean"===Oa)return"boolean";if("string"===Oa)return"string";if("number"===Oa)return"number";if("symbol"===Oa)return"symbol";if("function"===Oa)return function Ci(_t,Un){return"GeneratorFunction"===Qe(_t)}(Un)?"generatorfunction":"function";if(function Fn(_t){return Array.isArray?Array.isArray(_t):_t instanceof Array}(Un))return"array";if(function No(_t){return!(!_t.constructor||"function"!=typeof _t.constructor.isBuffer)&&_t.constructor.isBuffer(_t)}(Un))return"buffer";if(function Ur(_t){try{if("number"==typeof _t.length&&"function"==typeof _t.callee)return!0}catch(Un){if(-1!==Un.message.indexOf("callee"))return!0}return!1}(Un))return"arguments";if(function aa(_t){return _t instanceof Date||"function"==typeof _t.toDateString&&"function"==typeof _t.getDate&&"function"==typeof _t.setDate}(Un))return"date";if(function Ee(_t){return _t instanceof Error||"string"==typeof _t.message&&_t.constructor&&"number"==typeof _t.constructor.stackTraceLimit}(Un))return"error";if(function bi(_t){return _t instanceof RegExp||"string"==typeof _t.flags&&"boolean"==typeof _t.ignoreCase&&"boolean"==typeof _t.multiline&&"boolean"==typeof _t.global}(Un))return"regexp";switch(Qe(Un)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function Pt(_t){return"function"==typeof _t.throw&&"function"==typeof _t.return&&"function"==typeof _t.next}(Un))return"generator";switch(Oa=lu.call(Un)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return Oa.slice(8,-1).toLowerCase().replace(/\s/g,"")}},8407:function(rc,lu){!function(Qe){"use strict";function Ee(T){var R,W,te,ce;for(W=1,te=arguments.length;W<te;W++)for(R in ce=arguments[W])T[R]=ce[R];return T}var aa=Object.create||function(){function T(){}return function(R){return T.prototype=R,new T}}();function bi(T,R){var W=Array.prototype.slice;if(T.bind)return T.bind.apply(T,W.call(arguments,1));var te=W.call(arguments,2);return function(){return T.apply(R,te.length?te.concat(W.call(arguments)):arguments)}}var Ci=0;function Pt(T){return T._leaflet_id=T._leaflet_id||++Ci,T._leaflet_id}function Ur(T,R,W){var te,ce,Ce,Ne;return Ne=function(){te=!1,ce&&(Ce.apply(W,ce),ce=!1)},Ce=function(){te?ce=arguments:(T.apply(W,arguments),setTimeout(Ne,R),te=!0)},Ce}function No(T,R,W){var te=R[1],ce=R[0],Ce=te-ce;return T===te&&W?T:((T-ce)%Ce+Ce)%Ce+ce}function _t(){return!1}function Un(T,R){var W=Math.pow(10,void 0===R?6:R);return Math.round(T*W)/W}function Oa(T){return T.trim?T.trim():T.replace(/^\s+|\s+$/g,"")}function oc(T){return Oa(T).split(/\s+/)}function yo(T,R){for(var W in Object.prototype.hasOwnProperty.call(T,"options")||(T.options=T.options?aa(T.options):{}),R)T.options[W]=R[W];return T.options}function n5(T,R,W){var te=[];for(var ce in T)te.push(encodeURIComponent(W?ce.toUpperCase():ce)+"="+encodeURIComponent(T[ce]));return(R&&-1!==R.indexOf("?")?"&":"?")+te.join("&")}var r5=/\{ *([\w_-]+) *\}/g;function xp(T,R){return T.replace(r5,function(W,te){var ce=R[te];if(void 0===ce)throw new Error("No value provided for variable "+W);return"function"==typeof ce&&(ce=ce(R)),ce})}var Xa=Array.isArray||function(T){return"[object Array]"===Object.prototype.toString.call(T)};function bp(T,R){for(var W=0;W<T.length;W++)if(T[W]===R)return W;return-1}var Ym="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Um(T){return window["webkit"+T]||window["moz"+T]||window["ms"+T]}var Cp=0;function ac(T){var R=+new Date,W=Math.max(0,16-(R-Cp));return Cp=R+W,window.setTimeout(T,W)}var nn=window.requestAnimationFrame||Um("RequestAnimationFrame")||ac,Mn=window.cancelAnimationFrame||Um("CancelAnimationFrame")||Um("CancelRequestAnimationFrame")||function(T){window.clearTimeout(T)};function Ea(T,R,W){if(!W||nn!==ac)return nn.call(window,bi(T,R));T.call(R)}function it(T){T&&Mn.call(window,T)}var jt={extend:Ee,create:aa,bind:bi,lastId:Ci,stamp:Pt,throttle:Ur,wrapNum:No,falseFn:_t,formatNum:Un,trim:Oa,splitWords:oc,setOptions:yo,getParamString:n5,template:xp,isArray:Xa,indexOf:bp,emptyImageUrl:Ym,requestFn:nn,cancelFn:Mn,requestAnimFrame:Ea,cancelAnimFrame:it};function Js(){}Js.extend=function(T){var R=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},W=R.__super__=this.prototype,te=aa(W);for(var ce in te.constructor=R,R.prototype=te,this)Object.prototype.hasOwnProperty.call(this,ce)&&"prototype"!==ce&&"__super__"!==ce&&(R[ce]=this[ce]);return T.statics&&(Ee(R,T.statics),delete T.statics),T.includes&&(function Gn(T){if(!(typeof L>"u")&&L&&L.Mixin){T=Xa(T)?T:[T];for(var R=0;R<T.length;R++)T[R]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(T.includes),Ee.apply(null,[te].concat(T.includes)),delete T.includes),te.options&&(T.options=Ee(aa(te.options),T.options)),Ee(te,T),te._initHooks=[],te.callInitHooks=function(){if(!this._initHooksCalled){W.callInitHooks&&W.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ce=0,Ne=te._initHooks.length;Ce<Ne;Ce++)te._initHooks[Ce].call(this)}},R},Js.include=function(T){return Ee(this.prototype,T),this},Js.mergeOptions=function(T){return Ee(this.prototype.options,T),this},Js.addInitHook=function(T){var R=Array.prototype.slice.call(arguments,1),W="function"==typeof T?T:function(){this[T].apply(this,R)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(W),this};var Wn={on:function(T,R,W){if("object"==typeof T)for(var te in T)this._on(te,T[te],R);else for(var ce=0,Ce=(T=oc(T)).length;ce<Ce;ce++)this._on(T[ce],R,W);return this},off:function(T,R,W){if(T)if("object"==typeof T)for(var te in T)this._off(te,T[te],R);else for(var ce=0,Ce=(T=oc(T)).length;ce<Ce;ce++)this._off(T[ce],R,W);else delete this._events;return this},_on:function(T,R,W){this._events=this._events||{};var te=this._events[T];te||(this._events[T]=te=[]),W===this&&(W=void 0);for(var ce={fn:R,ctx:W},Ce=te,Ne=0,Le=Ce.length;Ne<Le;Ne++)if(Ce[Ne].fn===R&&Ce[Ne].ctx===W)return;Ce.push(ce)},_off:function(T,R,W){var te,ce,Ce;if(this._events&&(te=this._events[T])){if(!R){for(ce=0,Ce=te.length;ce<Ce;ce++)te[ce].fn=_t;return void delete this._events[T]}if(W===this&&(W=void 0),te)for(ce=0,Ce=te.length;ce<Ce;ce++){var Ne=te[ce];if(Ne.ctx===W&&Ne.fn===R)return Ne.fn=_t,this._firingCount&&(this._events[T]=te=te.slice()),void te.splice(ce,1)}}},fire:function(T,R,W){if(!this.listens(T,W))return this;var te=Ee({},R,{type:T,target:this,sourceTarget:R&&R.sourceTarget||this});if(this._events){var ce=this._events[T];if(ce){this._firingCount=this._firingCount+1||1;for(var Ce=0,Ne=ce.length;Ce<Ne;Ce++){var Le=ce[Ce];Le.fn.call(Le.ctx||this,te)}this._firingCount--}}return W&&this._propagateEvent(te),this},listens:function(T,R){var W=this._events&&this._events[T];if(W&&W.length)return!0;if(R)for(var te in this._eventParents)if(this._eventParents[te].listens(T,R))return!0;return!1},once:function(T,R,W){if("object"==typeof T){for(var te in T)this.once(te,T[te],R);return this}var ce=bi(function(){this.off(T,R,W).off(T,ce,W)},this);return this.on(T,R,W).on(T,ce,W)},addEventParent:function(T){return this._eventParents=this._eventParents||{},this._eventParents[Pt(T)]=T,this},removeEventParent:function(T){return this._eventParents&&delete this._eventParents[Pt(T)],this},_propagateEvent:function(T){for(var R in this._eventParents)this._eventParents[R].fire(T.type,Ee({layer:T.target,propagatedFrom:T.target},T),!0)}};Wn.addEventListener=Wn.on,Wn.removeEventListener=Wn.clearAllEventListeners=Wn.off,Wn.addOneTimeEventListener=Wn.once,Wn.fireEvent=Wn.fire,Wn.hasEventListeners=Wn.listens;var Gr=Js.extend(Wn);function Dn(T,R,W){this.x=W?Math.round(T):T,this.y=W?Math.round(R):R}var fe=Math.trunc||function(T){return T>0?Math.floor(T):Math.ceil(T)};function tt(T,R,W){return T instanceof Dn?T:Xa(T)?new Dn(T[0],T[1]):null==T?T:"object"==typeof T&&"x"in T&&"y"in T?new Dn(T.x,T.y):new Dn(T,R,W)}function nt(T,R){if(T)for(var W=R?[T,R]:T,te=0,ce=W.length;te<ce;te++)this.extend(W[te])}function Ri(T,R){return!T||T instanceof nt?T:new nt(T,R)}function Is(T,R){if(T)for(var W=R?[T,R]:T,te=0,ce=W.length;te<ce;te++)this.extend(W[te])}function Gt(T,R){return T instanceof Is?T:new Is(T,R)}function rt(T,R,W){if(isNaN(T)||isNaN(R))throw new Error("Invalid LatLng object: ("+T+", "+R+")");this.lat=+T,this.lng=+R,void 0!==W&&(this.alt=+W)}function Je(T,R,W){return T instanceof rt?T:Xa(T)&&"object"!=typeof T[0]?3===T.length?new rt(T[0],T[1],T[2]):2===T.length?new rt(T[0],T[1]):null:null==T?T:"object"==typeof T&&"lat"in T?new rt(T.lat,"lng"in T?T.lng:T.lon,T.alt):void 0===R?null:new rt(T,R,W)}Dn.prototype={clone:function(){return new Dn(this.x,this.y)},add:function(T){return this.clone()._add(tt(T))},_add:function(T){return this.x+=T.x,this.y+=T.y,this},subtract:function(T){return this.clone()._subtract(tt(T))},_subtract:function(T){return this.x-=T.x,this.y-=T.y,this},divideBy:function(T){return this.clone()._divideBy(T)},_divideBy:function(T){return this.x/=T,this.y/=T,this},multiplyBy:function(T){return this.clone()._multiplyBy(T)},_multiplyBy:function(T){return this.x*=T,this.y*=T,this},scaleBy:function(T){return new Dn(this.x*T.x,this.y*T.y)},unscaleBy:function(T){return new Dn(this.x/T.x,this.y/T.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(T){var R=(T=tt(T)).x-this.x,W=T.y-this.y;return Math.sqrt(R*R+W*W)},equals:function(T){return(T=tt(T)).x===this.x&&T.y===this.y},contains:function(T){return T=tt(T),Math.abs(T.x)<=Math.abs(this.x)&&Math.abs(T.y)<=Math.abs(this.y)},toString:function(){return"Point("+Un(this.x)+", "+Un(this.y)+")"}},nt.prototype={extend:function(T){return T=tt(T),this.min||this.max?(this.min.x=Math.min(T.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(T.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)):(this.min=T.clone(),this.max=T.clone()),this},getCenter:function(T){return new Dn((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,T)},getBottomLeft:function(){return new Dn(this.min.x,this.max.y)},getTopRight:function(){return new Dn(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(T){var R,W;return(T="number"==typeof T[0]||T instanceof Dn?tt(T):Ri(T))instanceof nt?(R=T.min,W=T.max):R=W=T,R.x>=this.min.x&&W.x<=this.max.x&&R.y>=this.min.y&&W.y<=this.max.y},intersects:function(T){T=Ri(T);var R=this.min,W=this.max,te=T.min,ce=T.max;return ce.x>=R.x&&te.x<=W.x&&ce.y>=R.y&&te.y<=W.y},overlaps:function(T){T=Ri(T);var R=this.min,W=this.max,te=T.min,ce=T.max;return ce.x>R.x&&te.x<W.x&&ce.y>R.y&&te.y<W.y},isValid:function(){return!(!this.min||!this.max)}},Is.prototype={extend:function(T){var te,ce,R=this._southWest,W=this._northEast;if(T instanceof rt)te=T,ce=T;else{if(!(T instanceof Is))return T?this.extend(Je(T)||Gt(T)):this;if(ce=T._northEast,!(te=T._southWest)||!ce)return this}return R||W?(R.lat=Math.min(te.lat,R.lat),R.lng=Math.min(te.lng,R.lng),W.lat=Math.max(ce.lat,W.lat),W.lng=Math.max(ce.lng,W.lng)):(this._southWest=new rt(te.lat,te.lng),this._northEast=new rt(ce.lat,ce.lng)),this},pad:function(T){var R=this._southWest,W=this._northEast,te=Math.abs(R.lat-W.lat)*T,ce=Math.abs(R.lng-W.lng)*T;return new Is(new rt(R.lat-te,R.lng-ce),new rt(W.lat+te,W.lng+ce))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(T){T="number"==typeof T[0]||T instanceof rt||"lat"in T?Je(T):Gt(T);var te,ce,R=this._southWest,W=this._northEast;return T instanceof Is?(te=T.getSouthWest(),ce=T.getNorthEast()):te=ce=T,te.lat>=R.lat&&ce.lat<=W.lat&&te.lng>=R.lng&&ce.lng<=W.lng},intersects:function(T){T=Gt(T);var R=this._southWest,W=this._northEast,te=T.getSouthWest(),ce=T.getNorthEast();return ce.lat>=R.lat&&te.lat<=W.lat&&ce.lng>=R.lng&&te.lng<=W.lng},overlaps:function(T){T=Gt(T);var R=this._southWest,W=this._northEast,te=T.getSouthWest(),ce=T.getNorthEast();return ce.lat>R.lat&&te.lat<W.lat&&ce.lng>R.lng&&te.lng<W.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(T,R){return!!T&&(T=Gt(T),this._southWest.equals(T.getSouthWest(),R)&&this._northEast.equals(T.getNorthEast(),R))},isValid:function(){return!(!this._southWest||!this._northEast)}},rt.prototype={equals:function(T,R){return!!T&&(T=Je(T),Math.max(Math.abs(this.lat-T.lat),Math.abs(this.lng-T.lng))<=(void 0===R?1e-9:R))},toString:function(T){return"LatLng("+Un(this.lat,T)+", "+Un(this.lng,T)+")"},distanceTo:function(T){return wi.distance(this,Je(T))},wrap:function(){return wi.wrapLatLng(this)},toBounds:function(T){var R=180*T/40075017,W=R/Math.cos(Math.PI/180*this.lat);return Gt([this.lat-R,this.lng-W],[this.lat+R,this.lng+W])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};var T,at={latLngToPoint:function(T,R){var W=this.projection.project(T),te=this.scale(R);return this.transformation._transform(W,te)},pointToLatLng:function(T,R){var W=this.scale(R),te=this.transformation.untransform(T,W);return this.projection.unproject(te)},project:function(T){return this.projection.project(T)},unproject:function(T){return this.projection.unproject(T)},scale:function(T){return 256*Math.pow(2,T)},zoom:function(T){return Math.log(T/256)/Math.LN2},getProjectedBounds:function(T){if(this.infinite)return null;var R=this.projection.bounds,W=this.scale(T);return new nt(this.transformation.transform(R.min,W),this.transformation.transform(R.max,W))},infinite:!1,wrapLatLng:function(T){var R=this.wrapLng?No(T.lng,this.wrapLng,!0):T.lng;return new rt(this.wrapLat?No(T.lat,this.wrapLat,!0):T.lat,R,T.alt)},wrapLatLngBounds:function(T){var R=T.getCenter(),W=this.wrapLatLng(R),te=R.lat-W.lat,ce=R.lng-W.lng;if(0===te&&0===ce)return T;var Ce=T.getSouthWest(),Ne=T.getNorthEast();return new Is(new rt(Ce.lat-te,Ce.lng-ce),new rt(Ne.lat-te,Ne.lng-ce))}},wi=Ee({},at,{wrapLng:[-180,180],R:6371e3,distance:function(T,R){var W=Math.PI/180,te=T.lat*W,ce=R.lat*W,Ce=Math.sin((R.lat-T.lat)*W/2),Ne=Math.sin((R.lng-T.lng)*W/2),Le=Ce*Ce+Math.cos(te)*Math.cos(ce)*Ne*Ne,lt=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le));return this.R*lt}}),Gm={R:6378137,MAX_LATITUDE:85.0511287798,project:function(T){var R=Math.PI/180,W=this.MAX_LATITUDE,te=Math.max(Math.min(W,T.lat),-W),ce=Math.sin(te*R);return new Dn(this.R*T.lng*R,this.R*Math.log((1+ce)/(1-ce))/2)},unproject:function(T){var R=180/Math.PI;return new rt((2*Math.atan(Math.exp(T.y/this.R))-Math.PI/2)*R,T.x*R/this.R)},bounds:(T=6378137*Math.PI,new nt([-T,-T],[T,T]))};function zt(T,R,W,te){if(Xa(T))return this._a=T[0],this._b=T[1],this._c=T[2],void(this._d=T[3]);this._a=T,this._b=R,this._c=W,this._d=te}function rn(T,R,W,te){return new zt(T,R,W,te)}zt.prototype={transform:function(T,R){return this._transform(T.clone(),R)},_transform:function(T,R){return T.x=(R=R||1)*(this._a*T.x+this._b),T.y=R*(this._c*T.y+this._d),T},untransform:function(T,R){return new Dn((T.x/(R=R||1)-this._b)/this._a,(T.y/R-this._d)/this._c)}};var f2=Ee({},wi,{code:"EPSG:3857",projection:Gm,transformation:function(){var T=.5/(Math.PI*Gm.R);return rn(T,.5,-T,.5)}()}),Tl=Ee({},f2,{code:"EPSG:900913"});function t1(T){return document.createElementNS("http://www.w3.org/2000/svg",T)}function p2(T,R){var te,ce,Ce,Ne,Le,lt,W="";for(te=0,Ce=T.length;te<Ce;te++){for(ce=0,Ne=(Le=T[te]).length;ce<Ne;ce++)W+=(ce?"L":"M")+(lt=Le[ce]).x+" "+lt.y;W+=R?Wd?"z":"x":""}return W||"M0 0"}var y3=document.documentElement.style,n1="ActiveXObject"in window,nh=n1&&!document.addEventListener,sa="msLaunchUri"in navigator&&!("documentMode"in document),xi=zl("webkit"),sc=zl("android"),Ml=zl("android 2")||zl("android 3"),g2=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dl=sc&&zl("Google")&&g2<537&&!("AudioNode"in window),ih=!!window.opera,x3=!sa&&zl("chrome"),wp=zl("gecko")&&!xi&&!ih&&!n1,Yd=!x3&&zl("safari"),o5=zl("phantom"),qt="OTransition"in y3,m2=0===navigator.platform.indexOf("Win"),rh=n1&&"transition"in y3,Nt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ml,lc="MozPerspective"in y3,cc=!window.L_DISABLE_3D&&(rh||Nt||lc)&&!qt&&!o5,Pl=typeof orientation<"u"||zl("mobile"),Ls=Pl&&xi,cu=Pl&&Nt,oh=!window.PointerEvent&&window.MSPointerEvent,uc=!(!window.PointerEvent&&!oh),Al=!window.L_NO_TOUCH&&(uc||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Fo=Pl&&ih,Wm=Pl&&wp,Ud=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Gd=function(){var T=!1;try{var R=Object.defineProperty({},"passive",{get:function(){T=!0}});window.addEventListener("testPassiveEventSupport",_t,R),window.removeEventListener("testPassiveEventSupport",_t,R)}catch{}return T}(),a5=!!document.createElement("canvas").getContext,Wd=!(!document.createElementNS||!t1("svg").createSVGRect),Qh=!Wd&&function(){try{var T=document.createElement("div");T.innerHTML='<v:shape adj="1"/>';var R=T.firstChild;return R.style.behavior="url(#default#VML)",R&&"object"==typeof R.adj}catch{return!1}}();function zl(T){return navigator.userAgent.toLowerCase().indexOf(T)>=0}var ms={ie:n1,ielt9:nh,edge:sa,webkit:xi,android:sc,android23:Ml,androidStock:Dl,opera:ih,chrome:x3,gecko:wp,safari:Yd,phantom:o5,opera12:qt,win:m2,ie3d:rh,webkit3d:Nt,gecko3d:lc,any3d:cc,mobile:Pl,mobileWebkit:Ls,mobileWebkit3d:cu,msPointer:oh,pointer:uc,touch:Al,mobileOpera:Fo,mobileGecko:Wm,retina:Ud,passiveEvents:Gd,canvas:a5,svg:Wd,vml:Qh},v2=oh?"MSPointerDown":"pointerdown",Cr=oh?"MSPointerMove":"pointermove",Oc=oh?"MSPointerUp":"pointerup",cr=oh?"MSPointerCancel":"pointercancel",Ec={},Jh=!1;function s5(T,R,W,te){return"touchstart"===R?function b3(T,R,W){var te=bi(function(ce){ce.MSPOINTER_TYPE_TOUCH&&ce.pointerType===ce.MSPOINTER_TYPE_TOUCH&&Ot(ce),jm(ce,R)});T["_leaflet_touchstart"+W]=te,T.addEventListener(v2,te,!1),Jh||(document.addEventListener(v2,Rs,!0),document.addEventListener(Cr,MT,!0),document.addEventListener(Oc,r1,!0),document.addEventListener(cr,r1,!0),Jh=!0)}(T,W,te):"touchmove"===R?function C3(T,R,W){var te=function(ce){ce.pointerType===(ce.MSPOINTER_TYPE_MOUSE||"mouse")&&0===ce.buttons||jm(ce,R)};T["_leaflet_touchmove"+W]=te,T.addEventListener(Cr,te,!1)}(T,W,te):"touchend"===R&&function w3(T,R,W){var te=function(ce){jm(ce,R)};T["_leaflet_touchend"+W]=te,T.addEventListener(Oc,te,!1),T.addEventListener(cr,te,!1)}(T,W,te),this}function Rs(T){Ec[T.pointerId]=T}function MT(T){Ec[T.pointerId]&&(Ec[T.pointerId]=T)}function r1(T){delete Ec[T.pointerId]}function jm(T,R){for(var W in T.touches=[],Ec)T.touches.push(Ec[W]);T.changedTouches=[T],R(T)}var $m=oh?"MSPointerDown":uc?"pointerdown":"touchstart",o1=oh?"MSPointerUp":uc?"pointerup":"touchend",Sp="_leaflet_";var y2,Mp,Dp,qm,hc,xo=$d(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qr=$d(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wr="webkitTransition"===Qr||"OTransition"===Qr?Qr+"End":"transitionend";function a1(T){return"string"==typeof T?document.getElementById(T):T}function el(T,R){var W=T.style[R]||T.currentStyle&&T.currentStyle[R];if((!W||"auto"===W)&&document.defaultView){var te=document.defaultView.getComputedStyle(T,null);W=te?te[R]:null}return"auto"===W?null:W}function Sn(T,R,W){var te=document.createElement(T);return te.className=R||"",W&&W.appendChild(te),te}function bo(T){var R=T.parentNode;R&&R.removeChild(T)}function Ir(T){for(;T.firstChild;)T.removeChild(T.firstChild)}function ah(T){var R=T.parentNode;R&&R.lastChild!==T&&R.appendChild(T)}function Tp(T){var R=T.parentNode;R&&R.firstChild!==T&&R.insertBefore(T,R.firstChild)}function Yi(T,R){if(void 0!==T.classList)return T.classList.contains(R);var W=_2(T);return W.length>0&&new RegExp("(^|\\s)"+R+"(\\s|$)").test(W)}function It(T,R){if(void 0!==T.classList)for(var W=oc(R),te=0,ce=W.length;te<ce;te++)T.classList.add(W[te]);else if(!Yi(T,R)){var Ce=_2(T);Xm(T,(Ce?Ce+" ":"")+R)}}function Wr(T,R){void 0!==T.classList?T.classList.remove(R):Xm(T,Oa((" "+_2(T)+" ").replace(" "+R+" "," ")))}function Xm(T,R){void 0===T.className.baseVal?T.className=R:T.className.baseVal=R}function _2(T){return T.correspondingElement&&(T=T.correspondingElement),void 0===T.className.baseVal?T.className:T.className.baseVal}function tl(T,R){"opacity"in T.style?T.style.opacity=R:"filter"in T.style&&function dt(T,R){var W=!1,te="DXImageTransform.Microsoft.Alpha";try{W=T.filters.item(te)}catch{if(1===R)return}R=Math.round(100*R),W?(W.Enabled=100!==R,W.Opacity=R):T.style.filter+=" progid:"+te+"(opacity="+R+")"}(T,R)}function $d(T){for(var R=document.documentElement.style,W=0;W<T.length;W++)if(T[W]in R)return T[W];return!1}function jn(T,R,W){var te=R||new Dn(0,0);T.style[xo]=(rh?"translate("+te.x+"px,"+te.y+"px)":"translate3d("+te.x+"px,"+te.y+"px,0)")+(W?" scale("+W+")":"")}function $n(T,R){T._leaflet_pos=R,cc?jn(T,R):(T.style.left=R.x+"px",T.style.top=R.y+"px")}function sh(T){return T._leaflet_pos||new Dn(0,0)}if("onselectstart"in document)y2=function(){hi(window,"selectstart",Ot)},Mp=function(){qo(window,"selectstart",Ot)};else{var Ia=$d(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);y2=function(){if(Ia){var T=document.documentElement.style;Dp=T[Ia],T[Ia]="none"}},Mp=function(){Ia&&(document.documentElement.style[Ia]=Dp,Dp=void 0)}}function M3(){hi(window,"dragstart",Ot)}function D3(){qo(window,"dragstart",Ot)}function l5(T){for(;-1===T.tabIndex;)T=T.parentNode;T.style&&(x2(),qm=T,hc=T.style.outline,T.style.outline="none",hi(window,"keydown",x2))}function x2(){qm&&(qm.style.outline=hc,qm=void 0,hc=void 0,qo(window,"keydown",x2))}function DT(T){do{T=T.parentNode}while(!(T.offsetWidth&&T.offsetHeight||T===document.body));return T}function s1(T){var R=T.getBoundingClientRect();return{x:R.width/T.offsetWidth||1,y:R.height/T.offsetHeight||1,boundingClientRect:R}}var c5={TRANSFORM:xo,TRANSITION:Qr,TRANSITION_END:wr,get:a1,getStyle:el,create:Sn,remove:bo,empty:Ir,toFront:ah,toBack:Tp,hasClass:Yi,addClass:It,removeClass:Wr,setClass:Xm,getClass:_2,setOpacity:tl,testProp:$d,setTransform:jn,setPosition:$n,getPosition:sh,disableTextSelection:y2,enableTextSelection:Mp,disableImageDrag:M3,enableImageDrag:D3,preventOutline:l5,restoreOutline:x2,getSizedParentNode:DT,getScale:s1};function hi(T,R,W,te){if("object"==typeof R)for(var ce in R)lh(T,ce,R[ce],W);else for(var Ce=0,Ne=(R=oc(R)).length;Ce<Ne;Ce++)lh(T,R[Ce],W,te);return this}var nl="_leaflet_events";function qo(T,R,W,te){if("object"==typeof R)for(var ce in R)dc(T,ce,R[ce],W);else if(R)for(var Ce=0,Ne=(R=oc(R)).length;Ce<Ne;Ce++)dc(T,R[Ce],W,te);else{for(var Le in T[nl])dc(T,Le,T[nl][Le]);delete T[nl]}return this}function qa(){if(uc)return!(sa||Yd)}var ur={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function lh(T,R,W,te){var ce=R+Pt(W)+(te?"_"+Pt(te):"");if(T[nl]&&T[nl][ce])return this;var Ce=function(Le){return W.call(te||T,Le||window.event)},Ne=Ce;uc&&0===R.indexOf("touch")?s5(T,R,Ce,ce):Al&&"dblclick"===R&&!qa()?function S3(T,R,W){var te,ce,Ce=!1;function Le(Ct){if(uc){if(!Ct.isPrimary||"mouse"===Ct.pointerType)return}else if(Ct.touches.length>1)return;var Zt=Date.now(),pn=Zt-(te||Zt);ce=Ct.touches?Ct.touches[0]:Ct,Ce=pn>0&&pn<=250,te=Zt}function lt(Ct){if(Ce&&!ce.cancelBubble){if(uc){if("mouse"===Ct.pointerType)return;var pn,or,Zt={};for(or in ce)Zt[or]=(pn=ce[or])&&pn.bind?pn.bind(ce):pn;ce=Zt}ce.type="dblclick",ce.button=0,R(ce),te=null}}return T[Sp+$m+W]=Le,T[Sp+o1+W]=lt,T[Sp+"dblclick"+W]=R,T.addEventListener($m,Le,!!Gd&&{passive:!1}),T.addEventListener(o1,lt,!!Gd&&{passive:!1}),T.addEventListener("dblclick",R,!1),this}(T,Ce,ce):"addEventListener"in T?"touchstart"===R||"touchmove"===R||"wheel"===R||"mousewheel"===R?T.addEventListener(ur[R]||R,Ce,!!Gd&&{passive:!1}):"mouseenter"===R||"mouseleave"===R?T.addEventListener(ur[R],Ce=function(Le){Le=Le||window.event,l1(T,Le)&&Ne(Le)},!1):T.addEventListener(R,Ne,!1):"attachEvent"in T&&T.attachEvent("on"+R,Ce),T[nl]=T[nl]||{},T[nl][ce]=Ce}function dc(T,R,W,te){var ce=R+Pt(W)+(te?"_"+Pt(te):""),Ce=T[nl]&&T[nl][ce];if(!Ce)return this;uc&&0===R.indexOf("touch")?function jd(T,R,W){var te=T["_leaflet_"+R+W];return"touchstart"===R?T.removeEventListener(v2,te,!1):"touchmove"===R?T.removeEventListener(Cr,te,!1):"touchend"===R&&(T.removeEventListener(Oc,te,!1),T.removeEventListener(cr,te,!1)),this}(T,R,ce):Al&&"dblclick"===R&&!qa()?function T3(T,R){var te=T[Sp+o1+R],ce=T[Sp+"dblclick"+R];return T.removeEventListener($m,T[Sp+$m+R],!!Gd&&{passive:!1}),T.removeEventListener(o1,te,!!Gd&&{passive:!1}),T.removeEventListener("dblclick",ce,!1),this}(T,ce):"removeEventListener"in T?T.removeEventListener(ur[R]||R,Ce,!1):"detachEvent"in T&&T.detachEvent("on"+R,Ce),T[nl][ce]=null}function Xd(T){return T.stopPropagation?T.stopPropagation():T.originalEvent?T.originalEvent._stopped=!0:T.cancelBubble=!0,qd(T),this}function mt(T){return lh(T,"wheel",Xd),this}function Pp(T){return hi(T,"mousedown touchstart dblclick",Xd),lh(T,"click",S2),this}function Ot(T){return T.preventDefault?T.preventDefault():T.returnValue=!1,this}function Jr(T){return Ot(T),Xd(T),this}function b2(T,R){if(!R)return new Dn(T.clientX,T.clientY);var W=s1(R),te=W.boundingClientRect;return new Dn((T.clientX-te.left)/W.x-R.clientLeft,(T.clientY-te.top)/W.y-R.clientTop)}var C2=m2&&x3?2*window.devicePixelRatio:wp?window.devicePixelRatio:1;function w2(T){return sa?T.wheelDeltaY/2:T.deltaY&&0===T.deltaMode?-T.deltaY/C2:T.deltaY&&1===T.deltaMode?20*-T.deltaY:T.deltaY&&2===T.deltaMode?60*-T.deltaY:T.deltaX||T.deltaZ?0:T.wheelDelta?(T.wheelDeltaY||T.wheelDelta)/2:T.detail&&Math.abs(T.detail)<32765?20*-T.detail:T.detail?T.detail/-32765*60:0}var Ap={};function S2(T){Ap[T.type]=!0}function qd(T){var R=Ap[T.type];return Ap[T.type]=!1,R}function l1(T,R){var W=R.relatedTarget;if(!W)return!0;try{for(;W&&W!==T;)W=W.parentNode}catch{return!1}return W!==T}var zp={on:hi,off:qo,stopPropagation:Xd,disableScrollPropagation:mt,disableClickPropagation:Pp,preventDefault:Ot,stop:Jr,getMousePosition:b2,getWheelDelta:w2,fakeStop:S2,skipped:qd,isExternalTarget:l1,addListener:hi,removeListener:qo},c1=Gr.extend({run:function(T,R,W,te){this.stop(),this._el=T,this._inProgress=!0,this._duration=W||.25,this._easeOutPower=1/Math.max(te||.5,.2),this._startPos=sh(T),this._offset=R.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ea(this._animate,this),this._step()},_step:function(T){var R=+new Date-this._startTime,W=1e3*this._duration;R<W?this._runFrame(this._easeOut(R/W),T):(this._runFrame(1),this._complete())},_runFrame:function(T,R){var W=this._startPos.add(this._offset.multiplyBy(T));R&&W._round(),$n(this._el,W),this.fire("step")},_complete:function(){it(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(T){return 1-Math.pow(1-T,this._easeOutPower)}}),Et=Gr.extend({options:{crs:f2,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(T,R){R=yo(this,R),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(T),this._initLayout(),this._onResize=bi(this._onResize,this),this._initEvents(),R.maxBounds&&this.setMaxBounds(R.maxBounds),void 0!==R.zoom&&(this._zoom=this._limitZoom(R.zoom)),R.center&&void 0!==R.zoom&&this.setView(Je(R.center),R.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qr&&cc&&!Fo&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),hi(this._proxy,wr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(T,R,W){return R=void 0===R?this._zoom:this._limitZoom(R),T=this._limitCenter(Je(T),R,this.options.maxBounds),W=W||{},this._stop(),this._loaded&&!W.reset&&!0!==W&&(void 0!==W.animate&&(W.zoom=Ee({animate:W.animate},W.zoom),W.pan=Ee({animate:W.animate,duration:W.duration},W.pan)),this._zoom!==R?this._tryAnimatedZoom&&this._tryAnimatedZoom(T,R,W.zoom):this._tryAnimatedPan(T,W.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(T,R),this)},setZoom:function(T,R){return this._loaded?this.setView(this.getCenter(),T,{zoom:R}):(this._zoom=T,this)},zoomIn:function(T,R){return this.setZoom(this._zoom+(T=T||(cc?this.options.zoomDelta:1)),R)},zoomOut:function(T,R){return this.setZoom(this._zoom-(T=T||(cc?this.options.zoomDelta:1)),R)},setZoomAround:function(T,R,W){var te=this.getZoomScale(R),ce=this.getSize().divideBy(2),Ne=(T instanceof Dn?T:this.latLngToContainerPoint(T)).subtract(ce).multiplyBy(1-1/te),Le=this.containerPointToLatLng(ce.add(Ne));return this.setView(Le,R,{zoom:W})},_getBoundsCenterZoom:function(T,R){R=R||{},T=T.getBounds?T.getBounds():Gt(T);var W=tt(R.paddingTopLeft||R.padding||[0,0]),te=tt(R.paddingBottomRight||R.padding||[0,0]),ce=this.getBoundsZoom(T,!1,W.add(te));if((ce="number"==typeof R.maxZoom?Math.min(R.maxZoom,ce):ce)===1/0)return{center:T.getCenter(),zoom:ce};var Ce=te.subtract(W).divideBy(2),Ne=this.project(T.getSouthWest(),ce),Le=this.project(T.getNorthEast(),ce);return{center:this.unproject(Ne.add(Le).divideBy(2).add(Ce),ce),zoom:ce}},fitBounds:function(T,R){if(!(T=Gt(T)).isValid())throw new Error("Bounds are not valid.");var W=this._getBoundsCenterZoom(T,R);return this.setView(W.center,W.zoom,R)},fitWorld:function(T){return this.fitBounds([[-90,-180],[90,180]],T)},panTo:function(T,R){return this.setView(T,this._zoom,{pan:R})},panBy:function(T,R){if(R=R||{},!(T=tt(T).round()).x&&!T.y)return this.fire("moveend");if(!0!==R.animate&&!this.getSize().contains(T))return this._resetView(this.unproject(this.project(this.getCenter()).add(T)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new c1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),R.noMoveStart||this.fire("movestart"),!1!==R.animate){It(this._mapPane,"leaflet-pan-anim");var W=this._getMapPanePos().subtract(T).round();this._panAnim.run(this._mapPane,W,R.duration||.25,R.easeLinearity)}else this._rawPanBy(T),this.fire("move").fire("moveend");return this},flyTo:function(T,R,W){if(!1===(W=W||{}).animate||!cc)return this.setView(T,R,W);this._stop();var te=this.project(this.getCenter()),ce=this.project(T),Ce=this.getSize(),Ne=this._zoom;T=Je(T),R=void 0===R?Ne:R;var Le=Math.max(Ce.x,Ce.y),lt=Le*this.getZoomScale(Ne,R),Ct=ce.distanceTo(te)||1,Zt=1.42,pn=Zt*Zt;function or(ua){var r0=(lt*lt-Le*Le+(ua?-1:1)*pn*pn*Ct*Ct)/(2*(ua?lt:Le)*pn*Ct),gc=Math.sqrt(r0*r0+1)-r0;return gc<1e-9?-18:Math.log(gc)}function fh(ua){return(Math.exp(ua)-Math.exp(-ua))/2}function ph(ua){return(Math.exp(ua)+Math.exp(-ua))/2}var Qa=or(0);function k3(ua){return Le*(ph(Qa)*function t0(ua){return fh(ua)/ph(ua)}(Qa+Zt*ua)-fh(Qa))/pn}var Sr=Date.now(),yu=(or(1)-Qa)/Zt,Ll=W.duration?1e3*W.duration:1e3*yu*.8;return this._moveStart(!0,W.noMoveStart),function Rp(){var ua=(Date.now()-Sr)/Ll,gh=function Ja(ua){return 1-Math.pow(1-ua,1.5)}(ua)*yu;ua<=1?(this._flyToFrame=Ea(Rp,this),this._move(this.unproject(te.add(ce.subtract(te).multiplyBy(k3(gh)/Ct)),Ne),this.getScaleZoom(Le/function Ui(ua){return Le*(ph(Qa)/ph(Qa+Zt*ua))}(gh),Ne),{flyTo:!0})):this._move(T,R)._moveEnd(!0)}.call(this),this},flyToBounds:function(T,R){var W=this._getBoundsCenterZoom(T,R);return this.flyTo(W.center,W.zoom,R)},setMaxBounds:function(T){return(T=Gt(T)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=T,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(T){var R=this.options.minZoom;return this.options.minZoom=T,this._loaded&&R!==T&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(T):this},setMaxZoom:function(T){var R=this.options.maxZoom;return this.options.maxZoom=T,this._loaded&&R!==T&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(T):this},panInsideBounds:function(T,R){this._enforcingBounds=!0;var W=this.getCenter(),te=this._limitCenter(W,this._zoom,Gt(T));return W.equals(te)||this.panTo(te,R),this._enforcingBounds=!1,this},panInside:function(T,R){var W=tt((R=R||{}).paddingTopLeft||R.padding||[0,0]),te=tt(R.paddingBottomRight||R.padding||[0,0]),ce=this.getCenter(),Ce=this.project(ce),Ne=this.project(T),Le=this.getPixelBounds(),lt=Le.getSize().divideBy(2),Ct=Ri([Le.min.add(W),Le.max.subtract(te)]);if(!Ct.contains(Ne)){this._enforcingBounds=!0;var Zt=Ce.subtract(Ne),pn=tt(Ne.x+Zt.x,Ne.y+Zt.y);(Ne.x<Ct.min.x||Ne.x>Ct.max.x)&&(pn.x=Ce.x-Zt.x,Zt.x>0?pn.x+=lt.x-W.x:pn.x-=lt.x-te.x),(Ne.y<Ct.min.y||Ne.y>Ct.max.y)&&(pn.y=Ce.y-Zt.y,Zt.y>0?pn.y+=lt.y-W.y:pn.y-=lt.y-te.y),this.panTo(this.unproject(pn),R),this._enforcingBounds=!1}return this},invalidateSize:function(T){if(!this._loaded)return this;T=Ee({animate:!1,pan:!0},!0===T?{animate:!0}:T);var R=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var W=this.getSize(),te=R.divideBy(2).round(),ce=W.divideBy(2).round(),Ce=te.subtract(ce);return Ce.x||Ce.y?(T.animate&&T.pan?this.panBy(Ce):(T.pan&&this._rawPanBy(Ce),this.fire("move"),T.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(bi(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:R,newSize:W})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(T){if(T=this._locateOptions=Ee({timeout:1e4,watch:!1},T),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var R=bi(this._handleGeolocationResponse,this),W=bi(this._handleGeolocationError,this);return T.watch?this._locationWatchId=navigator.geolocation.watchPosition(R,W,T):navigator.geolocation.getCurrentPosition(R,W,T),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(T){var R=T.code,W=T.message||(1===R?"permission denied":2===R?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:R,message:"Geolocation error: "+W+"."})},_handleGeolocationResponse:function(T){var te=new rt(T.coords.latitude,T.coords.longitude),ce=te.toBounds(2*T.coords.accuracy),Ce=this._locateOptions;if(Ce.setView){var Ne=this.getBoundsZoom(ce);this.setView(te,Ce.maxZoom?Math.min(Ne,Ce.maxZoom):Ne)}var Le={latlng:te,bounds:ce,timestamp:T.timestamp};for(var lt in T.coords)"number"==typeof T.coords[lt]&&(Le[lt]=T.coords[lt]);this.fire("locationfound",Le)},addHandler:function(T,R){if(!R)return this;var W=this[T]=new R(this);return this._handlers.push(W),this.options[T]&&W.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var T;for(T in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),bo(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(it(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[T].remove();for(T in this._panes)bo(this._panes[T]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(T,R){var te=Sn("div","leaflet-pane"+(T?" leaflet-"+T.replace("Pane","")+"-pane":""),R||this._mapPane);return T&&(this._panes[T]=te),te},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var T=this.getPixelBounds();return new Is(this.unproject(T.getBottomLeft()),this.unproject(T.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(T,R,W){T=Gt(T),W=tt(W||[0,0]);var te=this.getZoom()||0,ce=this.getMinZoom(),Ce=this.getMaxZoom(),Ne=T.getNorthWest(),Le=T.getSouthEast(),lt=this.getSize().subtract(W),Ct=Ri(this.project(Le,te),this.project(Ne,te)).getSize(),Zt=cc?this.options.zoomSnap:1,pn=lt.x/Ct.x,or=lt.y/Ct.y,fh=R?Math.max(pn,or):Math.min(pn,or);return te=this.getScaleZoom(fh,te),Zt&&(te=Math.round(te/(Zt/100))*(Zt/100),te=R?Math.ceil(te/Zt)*Zt:Math.floor(te/Zt)*Zt),Math.max(ce,Math.min(Ce,te))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Dn(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(T,R){var W=this._getTopLeftPoint(T,R);return new nt(W,W.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(T){return this.options.crs.getProjectedBounds(void 0===T?this.getZoom():T)},getPane:function(T){return"string"==typeof T?this._panes[T]:T},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(T,R){var W=this.options.crs;return R=void 0===R?this._zoom:R,W.scale(T)/W.scale(R)},getScaleZoom:function(T,R){var W=this.options.crs,te=W.zoom(T*W.scale(R=void 0===R?this._zoom:R));return isNaN(te)?1/0:te},project:function(T,R){return R=void 0===R?this._zoom:R,this.options.crs.latLngToPoint(Je(T),R)},unproject:function(T,R){return R=void 0===R?this._zoom:R,this.options.crs.pointToLatLng(tt(T),R)},layerPointToLatLng:function(T){var R=tt(T).add(this.getPixelOrigin());return this.unproject(R)},latLngToLayerPoint:function(T){return this.project(Je(T))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(T){return this.options.crs.wrapLatLng(Je(T))},wrapLatLngBounds:function(T){return this.options.crs.wrapLatLngBounds(Gt(T))},distance:function(T,R){return this.options.crs.distance(Je(T),Je(R))},containerPointToLayerPoint:function(T){return tt(T).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(T){return tt(T).add(this._getMapPanePos())},containerPointToLatLng:function(T){var R=this.containerPointToLayerPoint(tt(T));return this.layerPointToLatLng(R)},latLngToContainerPoint:function(T){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Je(T)))},mouseEventToContainerPoint:function(T){return b2(T,this._container)},mouseEventToLayerPoint:function(T){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(T))},mouseEventToLatLng:function(T){return this.layerPointToLatLng(this.mouseEventToLayerPoint(T))},_initContainer:function(T){var R=this._container=a1(T);if(!R)throw new Error("Map container not found.");if(R._leaflet_id)throw new Error("Map container is already initialized.");hi(R,"scroll",this._onScroll,this),this._containerId=Pt(R)},_initLayout:function(){var T=this._container;this._fadeAnimated=this.options.fadeAnimation&&cc,It(T,"leaflet-container"+(Al?" leaflet-touch":"")+(Ud?" leaflet-retina":"")+(nh?" leaflet-oldie":"")+(Yd?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var R=el(T,"position");"absolute"!==R&&"relative"!==R&&"fixed"!==R&&(T.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var T=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$n(this._mapPane,new Dn(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(It(T.markerPane,"leaflet-zoom-hide"),It(T.shadowPane,"leaflet-zoom-hide"))},_resetView:function(T,R){$n(this._mapPane,new Dn(0,0));var W=!this._loaded;this._loaded=!0,R=this._limitZoom(R),this.fire("viewprereset");var te=this._zoom!==R;this._moveStart(te,!1)._move(T,R)._moveEnd(te),this.fire("viewreset"),W&&this.fire("load")},_moveStart:function(T,R){return T&&this.fire("zoomstart"),R||this.fire("movestart"),this},_move:function(T,R,W){void 0===R&&(R=this._zoom);var te=this._zoom!==R;return this._zoom=R,this._lastCenter=T,this._pixelOrigin=this._getNewPixelOrigin(T),(te||W&&W.pinch)&&this.fire("zoom",W),this.fire("move",W)},_moveEnd:function(T){return T&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return it(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(T){$n(this._mapPane,this._getMapPanePos().subtract(T))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(T){this._targets={},this._targets[Pt(this._container)]=this;var R=T?qo:hi;R(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&R(window,"resize",this._onResize,this),cc&&this.options.transform3DLimit&&(T?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){it(this._resizeRequest),this._resizeRequest=Ea(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var T=this._getMapPanePos();Math.max(Math.abs(T.x),Math.abs(T.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(T,R){for(var te,W=[],ce="mouseout"===R||"mouseover"===R,Ce=T.target||T.srcElement,Ne=!1;Ce;){if((te=this._targets[Pt(Ce)])&&("click"===R||"preclick"===R)&&!T._simulated&&this._draggableMoved(te)){Ne=!0;break}if(te&&te.listens(R,!0)&&(ce&&!l1(Ce,T)||(W.push(te),ce))||Ce===this._container)break;Ce=Ce.parentNode}return!W.length&&!Ne&&!ce&&l1(Ce,T)&&(W=[this]),W},_handleDOMEvent:function(T){if(this._loaded&&!qd(T)){var R=T.type;("mousedown"===R||"keypress"===R||"keyup"===R||"keydown"===R)&&l5(T.target||T.srcElement),this._fireDOMEvent(T,R)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(T,R,W){if("click"===T.type){var te=Ee({},T);te.type="preclick",this._fireDOMEvent(te,te.type,W)}if(!T._stopped&&(W=(W||[]).concat(this._findEventTargets(T,R))).length){var ce=W[0];"contextmenu"===R&&ce.listens(R,!0)&&Ot(T);var Ce={originalEvent:T};if("keypress"!==T.type&&"keydown"!==T.type&&"keyup"!==T.type){var Ne=ce.getLatLng&&(!ce._radius||ce._radius<=10);Ce.containerPoint=Ne?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(T),Ce.layerPoint=this.containerPointToLayerPoint(Ce.containerPoint),Ce.latlng=Ne?ce.getLatLng():this.layerPointToLatLng(Ce.layerPoint)}for(var Le=0;Le<W.length;Le++)if(W[Le].fire(R,Ce,!0),Ce.originalEvent._stopped||!1===W[Le].options.bubblingMouseEvents&&-1!==bp(this._mouseEvents,R))return}},_draggableMoved:function(T){return(T=T.dragging&&T.dragging.enabled()?T:this).dragging&&T.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var T=0,R=this._handlers.length;T<R;T++)this._handlers[T].disable()},whenReady:function(T,R){return this._loaded?T.call(R||this,{target:this}):this.on("load",T,R),this},_getMapPanePos:function(){return sh(this._mapPane)||new Dn(0,0)},_moved:function(){var T=this._getMapPanePos();return T&&!T.equals([0,0])},_getTopLeftPoint:function(T,R){return(T&&void 0!==R?this._getNewPixelOrigin(T,R):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(T,R){var W=this.getSize()._divideBy(2);return this.project(T,R)._subtract(W)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(T,R,W){var te=this._getNewPixelOrigin(W,R);return this.project(T,R)._subtract(te)},_latLngBoundsToNewLayerBounds:function(T,R,W){var te=this._getNewPixelOrigin(W,R);return Ri([this.project(T.getSouthWest(),R)._subtract(te),this.project(T.getNorthWest(),R)._subtract(te),this.project(T.getSouthEast(),R)._subtract(te),this.project(T.getNorthEast(),R)._subtract(te)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(T){return this.latLngToLayerPoint(T).subtract(this._getCenterLayerPoint())},_limitCenter:function(T,R,W){if(!W)return T;var te=this.project(T,R),ce=this.getSize().divideBy(2),Ce=new nt(te.subtract(ce),te.add(ce)),Ne=this._getBoundsOffset(Ce,W,R);return Ne.round().equals([0,0])?T:this.unproject(te.add(Ne),R)},_limitOffset:function(T,R){if(!R)return T;var W=this.getPixelBounds(),te=new nt(W.min.add(T),W.max.add(T));return T.add(this._getBoundsOffset(te,R))},_getBoundsOffset:function(T,R,W){var te=Ri(this.project(R.getNorthEast(),W),this.project(R.getSouthWest(),W)),ce=te.min.subtract(T.min),Ce=te.max.subtract(T.max);return new Dn(this._rebound(ce.x,-Ce.x),this._rebound(ce.y,-Ce.y))},_rebound:function(T,R){return T+R>0?Math.round(T-R)/2:Math.max(0,Math.ceil(T))-Math.max(0,Math.floor(R))},_limitZoom:function(T){var R=this.getMinZoom(),W=this.getMaxZoom(),te=cc?this.options.zoomSnap:1;return te&&(T=Math.round(T/te)*te),Math.max(R,Math.min(W,T))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(T,R){var W=this._getCenterOffset(T)._trunc();return!(!0!==(R&&R.animate)&&!this.getSize().contains(W)||(this.panBy(W,R),0))},_createAnimProxy:function(){var T=this._proxy=Sn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(T),this.on("zoomanim",function(R){var W=xo,te=this._proxy.style[W];jn(this._proxy,this.project(R.center,R.zoom),this.getZoomScale(R.zoom,1)),te===this._proxy.style[W]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bo(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var T=this.getCenter(),R=this.getZoom();jn(this._proxy,this.project(T,R),this.getZoomScale(R,1))},_catchTransitionEnd:function(T){this._animatingZoom&&T.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(T,R,W){if(this._animatingZoom)return!0;if(W=W||{},!this._zoomAnimated||!1===W.animate||this._nothingToAnimate()||Math.abs(R-this._zoom)>this.options.zoomAnimationThreshold)return!1;var te=this.getZoomScale(R),ce=this._getCenterOffset(T)._divideBy(1-1/te);return!(!0!==W.animate&&!this.getSize().contains(ce)||(Ea(function(){this._moveStart(!0,!1)._animateZoom(T,R,!0)},this),0))},_animateZoom:function(T,R,W,te){this._mapPane&&(W&&(this._animatingZoom=!0,this._animateToCenter=T,this._animateToZoom=R,It(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:T,zoom:R,noUpdate:te}),setTimeout(bi(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),Ea(function(){this._moveEnd(!0)},this))}});var uu=Js.extend({options:{position:"topright"},initialize:function(T){yo(this,T)},getPosition:function(){return this.options.position},setPosition:function(T){var R=this._map;return R&&R.removeControl(this),this.options.position=T,R&&R.addControl(this),this},getContainer:function(){return this._container},addTo:function(T){this.remove(),this._map=T;var R=this._container=this.onAdd(T),W=this.getPosition(),te=T._controlCorners[W];return It(R,"leaflet-control"),-1!==W.indexOf("bottom")?te.insertBefore(R,te.firstChild):te.appendChild(R),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bo(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(T){this._map&&T&&T.screenX>0&&T.screenY>0&&this._map.getContainer().focus()}}),Za=function(T){return new uu(T)};Et.include({addControl:function(T){return T.addTo(this),this},removeControl:function(T){return T.remove(),this},_initControlPos:function(){var T=this._controlCorners={},R="leaflet-",W=this._controlContainer=Sn("div",R+"control-container",this._container);function te(ce,Ce){T[ce+Ce]=Sn("div",R+ce+" "+R+Ce,W)}te("top","left"),te("top","right"),te("bottom","left"),te("bottom","right")},_clearControlPos:function(){for(var T in this._controlCorners)bo(this._controlCorners[T]);bo(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Op=uu.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(T,R,W,te){return W<te?-1:te<W?1:0}},initialize:function(T,R,W){for(var te in yo(this,W),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,T)this._addLayer(T[te],te);for(te in R)this._addLayer(R[te],te,!0)},onAdd:function(T){this._initLayout(),this._update(),this._map=T,T.on("zoomend",this._checkDisabledLayers,this);for(var R=0;R<this._layers.length;R++)this._layers[R].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(T){return uu.prototype.addTo.call(this,T),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var T=0;T<this._layers.length;T++)this._layers[T].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(T,R){return this._addLayer(T,R),this._map?this._update():this},addOverlay:function(T,R){return this._addLayer(T,R,!0),this._map?this._update():this},removeLayer:function(T){T.off("add remove",this._onLayerChange,this);var R=this._getLayer(Pt(T));return R&&this._layers.splice(this._layers.indexOf(R),1),this._map?this._update():this},expand:function(){It(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var T=this._map.getSize().y-(this._container.offsetTop+50);return T<this._section.clientHeight?(It(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=T+"px"):Wr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var T="leaflet-control-layers",R=this._container=Sn("div",T),W=this.options.collapsed;R.setAttribute("aria-haspopup",!0),Pp(R),mt(R);var te=this._section=Sn("section",T+"-list");W&&(this._map.on("click",this.collapse,this),sc||hi(R,{mouseenter:this.expand,mouseleave:this.collapse},this));var ce=this._layersLink=Sn("a",T+"-toggle",R);ce.href="#",ce.title="Layers",Al?(hi(ce,"click",Jr),hi(ce,"click",this.expand,this)):hi(ce,"focus",this.expand,this),W||this.expand(),this._baseLayersList=Sn("div",T+"-base",te),this._separator=Sn("div",T+"-separator",te),this._overlaysList=Sn("div",T+"-overlays",te),R.appendChild(te)},_getLayer:function(T){for(var R=0;R<this._layers.length;R++)if(this._layers[R]&&Pt(this._layers[R].layer)===T)return this._layers[R]},_addLayer:function(T,R,W){this._map&&T.on("add remove",this._onLayerChange,this),this._layers.push({layer:T,name:R,overlay:W}),this.options.sortLayers&&this._layers.sort(bi(function(te,ce){return this.options.sortFunction(te.layer,ce.layer,te.name,ce.name)},this)),this.options.autoZIndex&&T.setZIndex&&(this._lastZIndex++,T.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ir(this._baseLayersList),Ir(this._overlaysList),this._layerControlInputs=[];var T,R,W,te,ce=0;for(W=0;W<this._layers.length;W++)this._addItem(te=this._layers[W]),R=R||te.overlay,T=T||!te.overlay,ce+=te.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(T=T&&ce>1)?"":"none"),this._separator.style.display=R&&T?"":"none",this},_onLayerChange:function(T){this._handlingClick||this._update();var R=this._getLayer(Pt(T.target)),W=R.overlay?"add"===T.type?"overlayadd":"overlayremove":"add"===T.type?"baselayerchange":null;W&&this._map.fire(W,R)},_createRadioElement:function(T,R){var W='<input type="radio" class="leaflet-control-layers-selector" name="'+T+'"'+(R?' checked="checked"':"")+"/>",te=document.createElement("div");return te.innerHTML=W,te.firstChild},_addItem:function(T){var te,R=document.createElement("label"),W=this._map.hasLayer(T.layer);T.overlay?((te=document.createElement("input")).type="checkbox",te.className="leaflet-control-layers-selector",te.defaultChecked=W):te=this._createRadioElement("leaflet-base-layers_"+Pt(this),W),this._layerControlInputs.push(te),te.layerId=Pt(T.layer),hi(te,"click",this._onInputClick,this);var ce=document.createElement("span");ce.innerHTML=" "+T.name;var Ce=document.createElement("div");return R.appendChild(Ce),Ce.appendChild(te),Ce.appendChild(ce),(T.overlay?this._overlaysList:this._baseLayersList).appendChild(R),this._checkDisabledLayers(),R},_onInputClick:function(){var R,W,T=this._layerControlInputs,te=[],ce=[];this._handlingClick=!0;for(var Ce=T.length-1;Ce>=0;Ce--)W=this._getLayer((R=T[Ce]).layerId).layer,R.checked?te.push(W):R.checked||ce.push(W);for(Ce=0;Ce<ce.length;Ce++)this._map.hasLayer(ce[Ce])&&this._map.removeLayer(ce[Ce]);for(Ce=0;Ce<te.length;Ce++)this._map.hasLayer(te[Ce])||this._map.addLayer(te[Ce]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var R,W,T=this._layerControlInputs,te=this._map.getZoom(),ce=T.length-1;ce>=0;ce--)W=this._getLayer((R=T[ce]).layerId).layer,R.disabled=void 0!==W.options.minZoom&&te<W.options.minZoom||void 0!==W.options.maxZoom&&te>W.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),zr=uu.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(T){var R="leaflet-control-zoom",W=Sn("div",R+" leaflet-bar"),te=this.options;return this._zoomInButton=this._createButton(te.zoomInText,te.zoomInTitle,R+"-in",W,this._zoomIn),this._zoomOutButton=this._createButton(te.zoomOutText,te.zoomOutTitle,R+"-out",W,this._zoomOut),this._updateDisabled(),T.on("zoomend zoomlevelschange",this._updateDisabled,this),W},onRemove:function(T){T.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(T){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(T.shiftKey?3:1))},_zoomOut:function(T){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(T.shiftKey?3:1))},_createButton:function(T,R,W,te,ce){var Ce=Sn("a",W,te);return Ce.innerHTML=T,Ce.href="#",Ce.title=R,Ce.setAttribute("role","button"),Ce.setAttribute("aria-label",R),Pp(Ce),hi(Ce,"click",Jr),hi(Ce,"click",ce,this),hi(Ce,"click",this._refocusOnMap,this),Ce},_updateDisabled:function(){var T=this._map,R="leaflet-disabled";Wr(this._zoomInButton,R),Wr(this._zoomOutButton,R),(this._disabled||T._zoom===T.getMinZoom())&&It(this._zoomOutButton,R),(this._disabled||T._zoom===T.getMaxZoom())&&It(this._zoomInButton,R)}});Et.mergeOptions({zoomControl:!0}),Et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zr,this.addControl(this.zoomControl))});var zT=uu.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(T){var R="leaflet-control-scale",W=Sn("div",R),te=this.options;return this._addScales(te,R+"-line",W),T.on(te.updateWhenIdle?"moveend":"move",this._update,this),T.whenReady(this._update,this),W},onRemove:function(T){T.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(T,R,W){T.metric&&(this._mScale=Sn("div",R,W)),T.imperial&&(this._iScale=Sn("div",R,W))},_update:function(){var T=this._map,R=T.getSize().y/2,W=T.distance(T.containerPointToLatLng([0,R]),T.containerPointToLatLng([this.options.maxWidth,R]));this._updateScales(W)},_updateScales:function(T){this.options.metric&&T&&this._updateMetric(T),this.options.imperial&&T&&this._updateImperial(T)},_updateMetric:function(T){var R=this._getRoundNum(T);this._updateScale(this._mScale,R<1e3?R+" m":R/1e3+" km",R/T)},_updateImperial:function(T){var W,te,ce,R=3.2808399*T;R>5280?(te=this._getRoundNum(W=R/5280),this._updateScale(this._iScale,te+" mi",te/W)):(ce=this._getRoundNum(R),this._updateScale(this._iScale,ce+" ft",ce/R))},_updateScale:function(T,R,W){T.style.width=Math.round(this.options.maxWidth*W)+"px",T.innerHTML=R},_getRoundNum:function(T){var R=Math.pow(10,(Math.floor(T)+"").length-1),W=T/R;return R*(W>=10?10:W>=5?5:W>=3?3:W>=2?2:1)}}),ed=uu.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(T){yo(this,T),this._attributions={}},onAdd:function(T){for(var R in T.attributionControl=this,this._container=Sn("div","leaflet-control-attribution"),Pp(this._container),T._layers)T._layers[R].getAttribution&&this.addAttribution(T._layers[R].getAttribution());return this._update(),this._container},setPrefix:function(T){return this.options.prefix=T,this._update(),this},addAttribution:function(T){return T?(this._attributions[T]||(this._attributions[T]=0),this._attributions[T]++,this._update(),this):this},removeAttribution:function(T){return T?(this._attributions[T]&&(this._attributions[T]--,this._update()),this):this},_update:function(){if(this._map){var T=[];for(var R in this._attributions)this._attributions[R]&&T.push(R);var W=[];this.options.prefix&&W.push(this.options.prefix),T.length&&W.push(T.join(", ")),this._container.innerHTML=W.join(" | ")}}});Et.mergeOptions({attributionControl:!0}),Et.addInitHook(function(){this.options.attributionControl&&(new ed).addTo(this)});uu.Layers=Op,uu.Zoom=zr,uu.Scale=zT,uu.Attribution=ed,Za.layers=function(T,R,W){return new Op(T,R,W)},Za.zoom=function(T){return new zr(T)},Za.scale=function(T){return new zT(T)},Za.attribution=function(T){return new ed(T)};var vs=Js.extend({initialize:function(T){this._map=T},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vs.addTo=function(T,R){return T.addHandler(R,this),this};var Km,Zm={Events:Wn},P3=Al?"touchstart mousedown":"mousedown",A3={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Zd={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},hu=Gr.extend({options:{clickTolerance:3},initialize:function(T,R,W,te){yo(this,te),this._element=T,this._dragStartTarget=R||T,this._preventOutline=W},enable:function(){this._enabled||(hi(this._dragStartTarget,P3,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hu._dragging===this&&this.finishDrag(),qo(this._dragStartTarget,P3,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(T){if(!T._simulated&&this._enabled&&(this._moved=!1,!Yi(this._element,"leaflet-zoom-anim")&&!(hu._dragging||T.shiftKey||1!==T.which&&1!==T.button&&!T.touches)&&(hu._dragging=this,this._preventOutline&&l5(this._element),M3(),y2(),!this._moving))){this.fire("down");var R=T.touches?T.touches[0]:T,W=DT(this._element);this._startPoint=new Dn(R.clientX,R.clientY),this._parentScale=s1(W),hi(document,Zd[T.type],this._onMove,this),hi(document,A3[T.type],this._onUp,this)}},_onMove:function(T){if(!T._simulated&&this._enabled){if(T.touches&&T.touches.length>1)return void(this._moved=!0);var R=T.touches&&1===T.touches.length?T.touches[0]:T,W=new Dn(R.clientX,R.clientY)._subtract(this._startPoint);!W.x&&!W.y||Math.abs(W.x)+Math.abs(W.y)<this.options.clickTolerance||(W.x/=this._parentScale.x,W.y/=this._parentScale.y,Ot(T),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=sh(this._element).subtract(W),It(document.body,"leaflet-dragging"),this._lastTarget=T.target||T.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),It(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(W),this._moving=!0,it(this._animRequest),this._lastEvent=T,this._animRequest=Ea(this._updatePosition,this,!0))}},_updatePosition:function(){var T={originalEvent:this._lastEvent};this.fire("predrag",T),$n(this._element,this._newPos),this.fire("drag",T)},_onUp:function(T){T._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var T in Wr(document.body,"leaflet-dragging"),this._lastTarget&&(Wr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zd)qo(document,Zd[T],this._onMove,this),qo(document,A3[T],this._onUp,this);D3(),Mp(),this._moved&&this._moving&&(it(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,hu._dragging=!1}});function td(T,R){if(!R||!T.length)return T.slice();var W=R*R;return function M2(T,R){var W=T.length,ce=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(W);ce[0]=ce[W-1]=1,bn(T,ce,R,0,W-1);var Ce,Ne=[];for(Ce=0;Ce<W;Ce++)ce[Ce]&&Ne.push(T[Ce]);return Ne}(T=function D2(T,R){for(var W=[T[0]],te=1,ce=0,Ce=T.length;te<Ce;te++)OT(T[te],T[ce])>R&&(W.push(T[te]),ce=te);return ce<Ce-1&&W.push(T[Ce-1]),W}(T,W),W)}function u5(T,R,W){return Math.sqrt(Zo(T,R,W,!0))}function bn(T,R,W,te,ce){var Ne,Le,lt,Ce=0;for(Le=te+1;Le<=ce-1;Le++)(lt=Zo(T[Le],T[te],T[ce],!0))>Ce&&(Ne=Le,Ce=lt);Ce>W&&(R[Ne]=1,bn(T,R,W,te,Ne),bn(T,R,W,Ne,ce))}function Kd(T,R,W,te,ce){var Le,lt,Ct,Ce=te?Km:Qd(T,W),Ne=Qd(R,W);for(Km=Ne;;){if(!(Ce|Ne))return[T,R];if(Ce&Ne)return!1;Ct=Qd(lt=u1(T,R,Le=Ce||Ne,W,ce),W),Le===Ce?(T=lt,Ce=Ct):(R=lt,Ne=Ct)}}function u1(T,R,W,te,ce){var Ct,Zt,Ce=R.x-T.x,Ne=R.y-T.y,Le=te.min,lt=te.max;return 8&W?(Ct=T.x+Ce*(lt.y-T.y)/Ne,Zt=lt.y):4&W?(Ct=T.x+Ce*(Le.y-T.y)/Ne,Zt=Le.y):2&W?(Ct=lt.x,Zt=T.y+Ne*(lt.x-T.x)/Ce):1&W&&(Ct=Le.x,Zt=T.y+Ne*(Le.x-T.x)/Ce),new Dn(Ct,Zt,ce)}function Qd(T,R){var W=0;return T.x<R.min.x?W|=1:T.x>R.max.x&&(W|=2),T.y<R.min.y?W|=4:T.y>R.max.y&&(W|=8),W}function OT(T,R){var W=R.x-T.x,te=R.y-T.y;return W*W+te*te}function Zo(T,R,W,te){var Ct,ce=R.x,Ce=R.y,Ne=W.x-ce,Le=W.y-Ce,lt=Ne*Ne+Le*Le;return lt>0&&((Ct=((T.x-ce)*Ne+(T.y-Ce)*Le)/lt)>1?(ce=W.x,Ce=W.y):Ct>0&&(ce+=Ne*Ct,Ce+=Le*Ct)),Ne=T.x-ce,Le=T.y-Ce,te?Ne*Ne+Le*Le:new Dn(ce,Ce)}function la(T){return!Xa(T[0])||"object"!=typeof T[0][0]&&typeof T[0][0]<"u"}function ET(T){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),la(T)}var ZE={simplify:td,pointToSegmentDistance:u5,closestPointOnSegment:function Ve(T,R,W){return Zo(T,R,W)},clipSegment:Kd,_getEdgeIntersection:u1,_getBitCode:Qd,_sqClosestPointOnSegment:Zo,isFlat:la,_flat:ET};function il(T,R,W){var te,Ce,Ne,Le,lt,Ct,Zt,pn,or,ce=[1,4,2,8];for(Ce=0,Zt=T.length;Ce<Zt;Ce++)T[Ce]._code=Qd(T[Ce],R);for(Le=0;Le<4;Le++){for(pn=ce[Le],te=[],Ce=0,Ne=(Zt=T.length)-1;Ce<Zt;Ne=Ce++)Ct=T[Ne],(lt=T[Ce])._code&pn?Ct._code&pn||((or=u1(Ct,lt,pn,R,W))._code=Qd(or,R),te.push(or)):(Ct._code&pn&&((or=u1(Ct,lt,pn,R,W))._code=Qd(or,R),te.push(or)),te.push(lt));T=te}return T}var du={clipPolygon:il},hr={project:function(T){return new Dn(T.lng,T.lat)},unproject:function(T){return new rt(T.y,T.x)},bounds:new nt([-180,-90],[180,90])},h1={R:6378137,R_MINOR:6356752.314245179,bounds:new nt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(T){var R=Math.PI/180,W=this.R,te=T.lat*R,ce=this.R_MINOR/W,Ce=Math.sqrt(1-ce*ce),Ne=Ce*Math.sin(te),Le=Math.tan(Math.PI/4-te/2)/Math.pow((1-Ne)/(1+Ne),Ce/2);return te=-W*Math.log(Math.max(Le,1e-10)),new Dn(T.lng*R*W,te)},unproject:function(T){for(var Ct,R=180/Math.PI,W=this.R,te=this.R_MINOR/W,ce=Math.sqrt(1-te*te),Ce=Math.exp(-T.y/W),Ne=Math.PI/2-2*Math.atan(Ce),Le=0,lt=.1;Le<15&&Math.abs(lt)>1e-7;Le++)Ct=ce*Math.sin(Ne),Ct=Math.pow((1-Ct)/(1+Ct),ce/2),Ne+=lt=Math.PI/2-2*Math.atan(Ce*Ct)-Ne;return new rt(Ne*R,T.x*R/W)}},P2={LonLat:hr,Mercator:h1,SphericalMercator:Gm},d1=Ee({},wi,{code:"EPSG:3395",projection:h1,transformation:function(){var T=.5/(Math.PI*h1.R);return rn(T,.5,-T,.5)}()}),Qm=Ee({},wi,{code:"EPSG:4326",projection:hr,transformation:rn(1/180,1,-1/180,.5)}),fu=Ee({},at,{projection:hr,transformation:rn(1,0,-1,0),scale:function(T){return Math.pow(2,T)},zoom:function(T){return Math.log(T)/Math.LN2},distance:function(T,R){var W=R.lng-T.lng,te=R.lat-T.lat;return Math.sqrt(W*W+te*te)},infinite:!0});at.Earth=wi,at.EPSG3395=d1,at.EPSG3857=f2,at.EPSG900913=Tl,at.EPSG4326=Qm,at.Simple=fu;var rl=Gr.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(T){return T.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(T){return T&&T.removeLayer(this),this},getPane:function(T){return this._map.getPane(T?this.options[T]||T:this.options.pane)},addInteractiveTarget:function(T){return this._map._targets[Pt(T)]=this,this},removeInteractiveTarget:function(T){return delete this._map._targets[Pt(T)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(T){var R=T.target;if(R.hasLayer(this)){if(this._map=R,this._zoomAnimated=R._zoomAnimated,this.getEvents){var W=this.getEvents();R.on(W,this),this.once("remove",function(){R.off(W,this)},this)}this.onAdd(R),this.getAttribution&&R.attributionControl&&R.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),R.fire("layeradd",{layer:this})}}});Et.include({addLayer:function(T){if(!T._layerAdd)throw new Error("The provided object is not a Layer.");var R=Pt(T);return this._layers[R]||(this._layers[R]=T,T._mapToAdd=this,T.beforeAdd&&T.beforeAdd(this),this.whenReady(T._layerAdd,T)),this},removeLayer:function(T){var R=Pt(T);return this._layers[R]?(this._loaded&&T.onRemove(this),T.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(T.getAttribution()),delete this._layers[R],this._loaded&&(this.fire("layerremove",{layer:T}),T.fire("remove")),T._map=T._mapToAdd=null,this):this},hasLayer:function(T){return!!T&&Pt(T)in this._layers},eachLayer:function(T,R){for(var W in this._layers)T.call(R,this._layers[W]);return this},_addLayers:function(T){for(var R=0,W=(T=T?Xa(T)?T:[T]:[]).length;R<W;R++)this.addLayer(T[R])},_addZoomLimit:function(T){(isNaN(T.options.maxZoom)||!isNaN(T.options.minZoom))&&(this._zoomBoundLayers[Pt(T)]=T,this._updateZoomLevels())},_removeZoomLimit:function(T){var R=Pt(T);this._zoomBoundLayers[R]&&(delete this._zoomBoundLayers[R],this._updateZoomLevels())},_updateZoomLevels:function(){var T=1/0,R=-1/0,W=this._getZoomSpan();for(var te in this._zoomBoundLayers){var ce=this._zoomBoundLayers[te].options;T=void 0===ce.minZoom?T:Math.min(T,ce.minZoom),R=void 0===ce.maxZoom?R:Math.max(R,ce.maxZoom)}this._layersMaxZoom=R===-1/0?void 0:R,this._layersMinZoom=T===1/0?void 0:T,W!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ch=rl.extend({initialize:function(T,R){var W,te;if(yo(this,R),this._layers={},T)for(W=0,te=T.length;W<te;W++)this.addLayer(T[W])},addLayer:function(T){var R=this.getLayerId(T);return this._layers[R]=T,this._map&&this._map.addLayer(T),this},removeLayer:function(T){var R=T in this._layers?T:this.getLayerId(T);return this._map&&this._layers[R]&&this._map.removeLayer(this._layers[R]),delete this._layers[R],this},hasLayer:function(T){return!!T&&("number"==typeof T?T:this.getLayerId(T))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(T){var W,te,R=Array.prototype.slice.call(arguments,1);for(W in this._layers)(te=this._layers[W])[T]&&te[T].apply(te,R);return this},onAdd:function(T){this.eachLayer(T.addLayer,T)},onRemove:function(T){this.eachLayer(T.removeLayer,T)},eachLayer:function(T,R){for(var W in this._layers)T.call(R,this._layers[W]);return this},getLayer:function(T){return this._layers[T]},getLayers:function(){var T=[];return this.eachLayer(T.push,T),T},setZIndex:function(T){return this.invoke("setZIndex",T)},getLayerId:function(T){return Pt(T)}}),ol=ch.extend({addLayer:function(T){return this.hasLayer(T)?this:(T.addEventParent(this),ch.prototype.addLayer.call(this,T),this.fire("layeradd",{layer:T}))},removeLayer:function(T){return this.hasLayer(T)?(T in this._layers&&(T=this._layers[T]),T.removeEventParent(this),ch.prototype.removeLayer.call(this,T),this.fire("layerremove",{layer:T})):this},setStyle:function(T){return this.invoke("setStyle",T)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var T=new Is;for(var R in this._layers){var W=this._layers[R];T.extend(W.getBounds?W.getBounds():W.getLatLng())}return T}}),kl=Js.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(T){yo(this,T)},createIcon:function(T){return this._createIcon("icon",T)},createShadow:function(T){return this._createIcon("shadow",T)},_createIcon:function(T,R){var W=this._getIconUrl(T);if(!W){if("icon"===T)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var te=this._createImg(W,R&&"IMG"===R.tagName?R:null);return this._setIconStyles(te,T),te},_setIconStyles:function(T,R){var W=this.options,te=W[R+"Size"];"number"==typeof te&&(te=[te,te]);var ce=tt(te),Ce=tt("shadow"===R&&W.shadowAnchor||W.iconAnchor||ce&&ce.divideBy(2,!0));T.className="leaflet-marker-"+R+" "+(W.className||""),Ce&&(T.style.marginLeft=-Ce.x+"px",T.style.marginTop=-Ce.y+"px"),ce&&(T.style.width=ce.x+"px",T.style.height=ce.y+"px")},_createImg:function(T,R){return(R=R||document.createElement("img")).src=T,R},_getIconUrl:function(T){return Ud&&this.options[T+"RetinaUrl"]||this.options[T+"Url"]}});var pu=kl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(T){return pu.imagePath||(pu.imagePath=this._detectIconPath()),(this.options.imagePath||pu.imagePath)+kl.prototype._getIconUrl.call(this,T)},_detectIconPath:function(){var T=Sn("div","leaflet-default-icon-path",document.body),R=el(T,"background-image")||el(T,"backgroundImage");return document.body.removeChild(T),null===R||0!==R.indexOf("url")?"":R.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),A2=vs.extend({initialize:function(T){this._marker=T},addHooks:function(){var T=this._marker._icon;this._draggable||(this._draggable=new hu(T,T,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),It(T,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(T){var R=this._marker,W=R._map,te=this._marker.options.autoPanSpeed,ce=this._marker.options.autoPanPadding,Ce=sh(R._icon),Ne=W.getPixelBounds(),Le=W.getPixelOrigin(),lt=Ri(Ne.min._subtract(Le).add(ce),Ne.max._subtract(Le).subtract(ce));if(!lt.contains(Ce)){var Ct=tt((Math.max(lt.max.x,Ce.x)-lt.max.x)/(Ne.max.x-lt.max.x)-(Math.min(lt.min.x,Ce.x)-lt.min.x)/(Ne.min.x-lt.min.x),(Math.max(lt.max.y,Ce.y)-lt.max.y)/(Ne.max.y-lt.max.y)-(Math.min(lt.min.y,Ce.y)-lt.min.y)/(Ne.min.y-lt.min.y)).multiplyBy(te);W.panBy(Ct,{animate:!1}),this._draggable._newPos._add(Ct),this._draggable._startPos._add(Ct),$n(R._icon,this._draggable._newPos),this._onDrag(T),this._panRequest=Ea(this._adjustPan.bind(this,T))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(T){this._marker.options.autoPan&&(it(this._panRequest),this._panRequest=Ea(this._adjustPan.bind(this,T)))},_onDrag:function(T){var R=this._marker,W=R._shadow,te=sh(R._icon),ce=R._map.layerPointToLatLng(te);W&&$n(W,te),R._latlng=ce,T.latlng=ce,T.oldLatLng=this._oldLatLng,R.fire("move",T).fire("drag",T)},_onDragEnd:function(T){it(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",T)}}),St=rl.extend({options:{icon:new pu,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(T,R){yo(this,R),this._latlng=Je(T)},onAdd:function(T){this._zoomAnimated=this._zoomAnimated&&T.options.markerZoomAnimation,this._zoomAnimated&&T.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(T){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&T.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(T){var R=this._latlng;return this._latlng=Je(T),this.update(),this.fire("move",{oldLatLng:R,latlng:this._latlng})},setZIndexOffset:function(T){return this.options.zIndexOffset=T,this.update()},getIcon:function(){return this.options.icon},setIcon:function(T){return this.options.icon=T,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var T=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(T)}return this},_initIcon:function(){var T=this.options,R="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),W=T.icon.createIcon(this._icon),te=!1;W!==this._icon&&(this._icon&&this._removeIcon(),te=!0,T.title&&(W.title=T.title),"IMG"===W.tagName&&(W.alt=T.alt||"")),It(W,R),T.keyboard&&(W.tabIndex="0"),this._icon=W,T.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var ce=T.icon.createShadow(this._shadow),Ce=!1;ce!==this._shadow&&(this._removeShadow(),Ce=!0),ce&&(It(ce,R),ce.alt=""),this._shadow=ce,T.opacity<1&&this._updateOpacity(),te&&this.getPane().appendChild(this._icon),this._initInteraction(),ce&&Ce&&this.getPane(T.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),bo(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bo(this._shadow),this._shadow=null},_setPos:function(T){this._icon&&$n(this._icon,T),this._shadow&&$n(this._shadow,T),this._zIndex=T.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(T){this._icon&&(this._icon.style.zIndex=this._zIndex+T)},_animateZoom:function(T){var R=this._map._latLngToNewLayerPoint(this._latlng,T.zoom,T.center).round();this._setPos(R)},_initInteraction:function(){if(this.options.interactive&&(It(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),A2)){var T=this.options.draggable;this.dragging&&(T=this.dragging.enabled(),this.dragging.disable()),this.dragging=new A2(this),T&&this.dragging.enable()}},setOpacity:function(T){return this.options.opacity=T,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var T=this.options.opacity;this._icon&&tl(this._icon,T),this._shadow&&tl(this._shadow,T)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var qi=rl.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(T){this._renderer=T.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(T){return yo(this,T),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&T&&Object.prototype.hasOwnProperty.call(T,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Bo=qi.extend({options:{fill:!0,radius:10},initialize:function(T,R){yo(this,R),this._latlng=Je(T),this._radius=this.options.radius},setLatLng:function(T){var R=this._latlng;return this._latlng=Je(T),this.redraw(),this.fire("move",{oldLatLng:R,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(T){return this.options.radius=this._radius=T,this.redraw()},getRadius:function(){return this._radius},setStyle:function(T){var R=T&&T.radius||this._radius;return qi.prototype.setStyle.call(this,T),this.setRadius(R),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var T=this._radius,R=this._radiusY||T,W=this._clickTolerance(),te=[T+W,R+W];this._pxBounds=new nt(this._point.subtract(te),this._point.add(te))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(T){return T.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var nd=Bo.extend({initialize:function(T,R,W){if("number"==typeof R&&(R=Ee({},W,{radius:R})),yo(this,R),this._latlng=Je(T),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(T){return this._mRadius=T,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var T=[this._radius,this._radiusY||this._radius];return new Is(this._map.layerPointToLatLng(this._point.subtract(T)),this._map.layerPointToLatLng(this._point.add(T)))},setStyle:qi.prototype.setStyle,_project:function(){var T=this._latlng.lng,R=this._latlng.lat,W=this._map,te=W.options.crs;if(te.distance===wi.distance){var ce=Math.PI/180,Ce=this._mRadius/wi.R/ce,Ne=W.project([R+Ce,T]),Le=W.project([R-Ce,T]),lt=Ne.add(Le).divideBy(2),Ct=W.unproject(lt).lat,Zt=Math.acos((Math.cos(Ce*ce)-Math.sin(R*ce)*Math.sin(Ct*ce))/(Math.cos(R*ce)*Math.cos(Ct*ce)))/ce;(isNaN(Zt)||0===Zt)&&(Zt=Ce/Math.cos(Math.PI/180*R)),this._point=lt.subtract(W.getPixelOrigin()),this._radius=isNaN(Zt)?0:lt.x-W.project([Ct,T-Zt]).x,this._radiusY=lt.y-Ne.y}else{var pn=te.unproject(te.project(this._latlng).subtract([this._mRadius,0]));this._point=W.latLngToLayerPoint(this._latlng),this._radius=this._point.x-W.latLngToLayerPoint(pn).x}this._updateBounds()}});var Ko=qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(T,R){yo(this,R),this._setLatLngs(T)},getLatLngs:function(){return this._latlngs},setLatLngs:function(T){return this._setLatLngs(T),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(T){for(var ce,Ce,R=1/0,W=null,te=Zo,Ne=0,Le=this._parts.length;Ne<Le;Ne++)for(var lt=this._parts[Ne],Ct=1,Zt=lt.length;Ct<Zt;Ct++){var pn=te(T,ce=lt[Ct-1],Ce=lt[Ct],!0);pn<R&&(R=pn,W=te(T,ce,Ce))}return W&&(W.distance=Math.sqrt(R)),W},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var T,R,W,te,ce,Ce,Ne,Le=this._rings[0],lt=Le.length;if(!lt)return null;for(T=0,R=0;T<lt-1;T++)R+=Le[T].distanceTo(Le[T+1])/2;if(0===R)return this._map.layerPointToLatLng(Le[0]);for(T=0,te=0;T<lt-1;T++)if((te+=W=(ce=Le[T]).distanceTo(Ce=Le[T+1]))>R)return this._map.layerPointToLatLng([Ce.x-(Ne=(te-R)/W)*(Ce.x-ce.x),Ce.y-Ne*(Ce.y-ce.y)])},getBounds:function(){return this._bounds},addLatLng:function(T,R){return R=R||this._defaultShape(),T=Je(T),R.push(T),this._bounds.extend(T),this.redraw()},_setLatLngs:function(T){this._bounds=new Is,this._latlngs=this._convertLatLngs(T)},_defaultShape:function(){return la(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(T){for(var R=[],W=la(T),te=0,ce=T.length;te<ce;te++)W?(R[te]=Je(T[te]),this._bounds.extend(R[te])):R[te]=this._convertLatLngs(T[te]);return R},_project:function(){var T=new nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,T),this._bounds.isValid()&&T.isValid()&&(this._rawPxBounds=T,this._updateBounds())},_updateBounds:function(){var T=this._clickTolerance(),R=new Dn(T,T);this._pxBounds=new nt([this._rawPxBounds.min.subtract(R),this._rawPxBounds.max.add(R)])},_projectLatlngs:function(T,R,W){var Ce,Ne,ce=T.length;if(T[0]instanceof rt){for(Ne=[],Ce=0;Ce<ce;Ce++)Ne[Ce]=this._map.latLngToLayerPoint(T[Ce]),W.extend(Ne[Ce]);R.push(Ne)}else for(Ce=0;Ce<ce;Ce++)this._projectLatlngs(T[Ce],R,W)},_clipPoints:function(){var T=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(T)){if(this.options.noClip)return void(this._parts=this._rings);var W,te,ce,Ce,Ne,Le,lt,R=this._parts;for(W=0,ce=0,Ce=this._rings.length;W<Ce;W++)for(te=0,Ne=(lt=this._rings[W]).length;te<Ne-1;te++)(Le=Kd(lt[te],lt[te+1],T,te,!0))&&(R[ce]=R[ce]||[],R[ce].push(Le[0]),(Le[1]!==lt[te+1]||te===Ne-2)&&(R[ce].push(Le[1]),ce++))}},_simplifyPoints:function(){for(var T=this._parts,R=this.options.smoothFactor,W=0,te=T.length;W<te;W++)T[W]=td(T[W],R)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(T,R){var W,te,ce,Ce,Ne,Le,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(T))return!1;for(W=0,Ce=this._parts.length;W<Ce;W++)for(te=0,ce=(Ne=(Le=this._parts[W]).length)-1;te<Ne;ce=te++)if((R||0!==te)&&u5(T,Le[ce],Le[te])<=lt)return!0;return!1}});Ko._flat=ET;var ri=Ko.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var T,R,W,te,ce,Ce,Ne,Le,Ct=this._rings[0],Zt=Ct.length;if(!Zt)return null;for(Ce=Ne=Le=0,T=0,R=Zt-1;T<Zt;R=T++)Ne+=((W=Ct[T]).x+(te=Ct[R]).x)*(ce=W.y*te.x-te.y*W.x),Le+=(W.y+te.y)*ce,Ce+=3*ce;return this._map.layerPointToLatLng(0===Ce?Ct[0]:[Ne/Ce,Le/Ce])},_convertLatLngs:function(T){var R=Ko.prototype._convertLatLngs.call(this,T),W=R.length;return W>=2&&R[0]instanceof rt&&R[0].equals(R[W-1])&&R.pop(),R},_setLatLngs:function(T){Ko.prototype._setLatLngs.call(this,T),la(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return la(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var T=this._renderer._bounds,R=this.options.weight,W=new Dn(R,R);if(T=new nt(T.min.subtract(W),T.max.add(W)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(T)){if(this.options.noClip)return void(this._parts=this._rings);for(var Ce,te=0,ce=this._rings.length;te<ce;te++)(Ce=il(this._rings[te],T,!0)).length&&this._parts.push(Ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(T){var W,te,ce,Ce,Ne,Le,lt,Ct,R=!1;if(!this._pxBounds||!this._pxBounds.contains(T))return!1;for(Ce=0,lt=this._parts.length;Ce<lt;Ce++)for(Ne=0,Le=(Ct=(W=this._parts[Ce]).length)-1;Ne<Ct;Le=Ne++)(te=W[Ne]).y>T.y!=(ce=W[Le]).y>T.y&&T.x<(ce.x-te.x)*(T.y-te.y)/(ce.y-te.y)+te.x&&(R=!R);return R||Ko.prototype._containsPoint.call(this,T,!0)}});var Sa=ol.extend({initialize:function(T,R){yo(this,R),this._layers={},T&&this.addData(T)},addData:function(T){var W,te,ce,R=Xa(T)?T:T.features;if(R){for(W=0,te=R.length;W<te;W++)((ce=R[W]).geometries||ce.geometry||ce.features||ce.coordinates)&&this.addData(ce);return this}var Ce=this.options;if(Ce.filter&&!Ce.filter(T))return this;var Ne=_n(T,Ce);return Ne?(Ne.feature=uh(T),Ne.defaultOptions=Ne.options,this.resetStyle(Ne),Ce.onEachFeature&&Ce.onEachFeature(T,Ne),this.addLayer(Ne)):this},resetStyle:function(T){return void 0===T?this.eachLayer(this.resetStyle,this):(T.options=Ee({},T.defaultOptions),this._setLayerStyle(T,this.options.style),this)},setStyle:function(T){return this.eachLayer(function(R){this._setLayerStyle(R,T)},this)},_setLayerStyle:function(T,R){T.setStyle&&("function"==typeof R&&(R=R(T.feature)),T.setStyle(R))}});function _n(T,R){var Le,lt,Ct,Zt,W="Feature"===T.type?T.geometry:T,te=W?W.coordinates:null,ce=[],Ce=R&&R.pointToLayer,Ne=R&&R.coordsToLatLng||gu;if(!te&&!W)return null;switch(W.type){case"Point":return Ta(Ce,T,Le=Ne(te),R);case"MultiPoint":for(Ct=0,Zt=te.length;Ct<Zt;Ct++)Le=Ne(te[Ct]),ce.push(Ta(Ce,T,Le,R));return new ol(ce);case"LineString":case"MultiLineString":return lt=Rr(te,"LineString"===W.type?0:1,Ne),new Ko(lt,R);case"Polygon":case"MultiPolygon":return lt=Rr(te,"Polygon"===W.type?1:2,Ne),new ri(lt,R);case"GeometryCollection":for(Ct=0,Zt=W.geometries.length;Ct<Zt;Ct++){var pn=_n({geometry:W.geometries[Ct],type:"Feature",properties:T.properties},R);pn&&ce.push(pn)}return new ol(ce);default:throw new Error("Invalid GeoJSON object.")}}function Ta(T,R,W,te){return T?T(R,W):new St(W,te&&te.markersInheritOptions&&te)}function gu(T){return new rt(T[1],T[0],T[2])}function Rr(T,R,W){for(var Ne,te=[],ce=0,Ce=T.length;ce<Ce;ce++)Ne=R?Rr(T[ce],R-1,W):(W||gu)(T[ce]),te.push(Ne);return te}function Lc(T,R){return R="number"==typeof R?R:6,void 0!==T.alt?[Un(T.lng,R),Un(T.lat,R),Un(T.alt,R)]:[Un(T.lng,R),Un(T.lat,R)]}function fc(T,R,W,te){for(var ce=[],Ce=0,Ne=T.length;Ce<Ne;Ce++)ce.push(R?fc(T[Ce],R-1,W,te):Lc(T[Ce],te));return!R&&W&&ce.push(ce[0]),ce}function Xn(T,R){return T.feature?Ee({},T.feature,{geometry:R}):uh(R)}function uh(T){return"Feature"===T.type||"FeatureCollection"===T.type?T:{type:"Feature",properties:{},geometry:T}}var mu={toGeoJSON:function(T){return Xn(this,{type:"Point",coordinates:Lc(this.getLatLng(),T)})}};function qn(T,R){return new Sa(T,R)}St.include(mu),nd.include(mu),Bo.include(mu),Ko.include({toGeoJSON:function(T){var R=!la(this._latlngs);return Xn(this,{type:(R?"Multi":"")+"LineString",coordinates:fc(this._latlngs,R?1:0,!1,T)})}}),ri.include({toGeoJSON:function(T){var R=!la(this._latlngs),W=R&&!la(this._latlngs[0]),te=fc(this._latlngs,W?2:R?1:0,!0,T);return R||(te=[te]),Xn(this,{type:(W?"Multi":"")+"Polygon",coordinates:te})}}),ch.include({toMultiPoint:function(T){var R=[];return this.eachLayer(function(W){R.push(W.toGeoJSON(T).geometry.coordinates)}),Xn(this,{type:"MultiPoint",coordinates:R})},toGeoJSON:function(T){var R=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===R)return this.toMultiPoint(T);var W="GeometryCollection"===R,te=[];return this.eachLayer(function(ce){if(ce.toGeoJSON){var Ce=ce.toGeoJSON(T);if(W)te.push(Ce.geometry);else{var Ne=uh(Ce);"FeatureCollection"===Ne.type?te.push.apply(te,Ne.features):te.push(Ne)}}}),W?Xn(this,{geometries:te,type:"GeometryCollection"}):{type:"FeatureCollection",features:te}}});var Ep=qn,Co=rl.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(T,R,W){this._url=T,this._bounds=Gt(R),yo(this,W)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(It(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bo(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(T){return this.options.opacity=T,this._image&&this._updateOpacity(),this},setStyle:function(T){return T.opacity&&this.setOpacity(T.opacity),this},bringToFront:function(){return this._map&&ah(this._image),this},bringToBack:function(){return this._map&&Tp(this._image),this},setUrl:function(T){return this._url=T,this._image&&(this._image.src=T),this},setBounds:function(T){return this._bounds=Gt(T),this._map&&this._reset(),this},getEvents:function(){var T={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(T.zoomanim=this._animateZoom),T},setZIndex:function(T){return this.options.zIndex=T,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var T="IMG"===this._url.tagName,R=this._image=T?this._url:Sn("img");It(R,"leaflet-image-layer"),this._zoomAnimated&&It(R,"leaflet-zoom-animated"),this.options.className&&It(R,this.options.className),R.onselectstart=_t,R.onmousemove=_t,R.onload=bi(this.fire,this,"load"),R.onerror=bi(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(R.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),T?this._url=R.src:(R.src=this._url,R.alt=this.options.alt)},_animateZoom:function(T){var R=this._map.getZoomScale(T.zoom),W=this._map._latLngBoundsToNewLayerBounds(this._bounds,T.zoom,T.center).min;jn(this._image,W,R)},_reset:function(){var T=this._image,R=new nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),W=R.getSize();$n(T,R.min),T.style.width=W.x+"px",T.style.height=W.y+"px"},_updateOpacity:function(){tl(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var T=this.options.errorOverlayUrl;T&&this._url!==T&&(this._url=T,this._image.src=T)}}),Ra=Co.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var T="VIDEO"===this._url.tagName,R=this._image=T?this._url:Sn("video");if(It(R,"leaflet-image-layer"),this._zoomAnimated&&It(R,"leaflet-zoom-animated"),this.options.className&&It(R,this.options.className),R.onselectstart=_t,R.onmousemove=_t,R.onloadeddata=bi(this.fire,this,"load"),T){for(var W=R.getElementsByTagName("source"),te=[],ce=0;ce<W.length;ce++)te.push(W[ce].src);this._url=W.length>0?te:[R.src]}else{Xa(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(R.style,"objectFit")&&(R.style.objectFit="fill"),R.autoplay=!!this.options.autoplay,R.loop=!!this.options.loop,R.muted=!!this.options.muted;for(var Ce=0;Ce<this._url.length;Ce++){var Ne=Sn("source");Ne.src=this._url[Ce],R.appendChild(Ne)}}}});var hh=Co.extend({_initImage:function(){var T=this._image=this._url;It(T,"leaflet-image-layer"),this._zoomAnimated&&It(T,"leaflet-zoom-animated"),this.options.className&&It(T,this.options.className),T.onselectstart=_t,T.onmousemove=_t}});var ji=rl.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(T,R){yo(this,T),this._source=R},onAdd:function(T){this._zoomAnimated=T._zoomAnimated,this._container||this._initLayout(),T._fadeAnimated&&tl(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),T._fadeAnimated&&tl(this._container,1),this.bringToFront()},onRemove:function(T){T._fadeAnimated?(tl(this._container,0),this._removeTimeout=setTimeout(bi(bo,void 0,this._container),200)):bo(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(T){return this._latlng=Je(T),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(T){return this._content=T,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var T={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(T.zoomanim=this._animateZoom),T},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ah(this._container),this},bringToBack:function(){return this._map&&Tp(this._container),this},_prepareOpen:function(T,R,W){if(R instanceof rl||(W=R,R=T),R instanceof ol)for(var te in T._layers){R=T._layers[te];break}if(!W)if(R.getCenter)W=R.getCenter();else{if(!R.getLatLng)throw new Error("Unable to get source layer LatLng.");W=R.getLatLng()}return this._source=R,this.update(),W},_updateContent:function(){if(this._content){var T=this._contentNode,R="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof R)T.innerHTML=R;else{for(;T.hasChildNodes();)T.removeChild(T.firstChild);T.appendChild(R)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var T=this._map.latLngToLayerPoint(this._latlng),R=tt(this.options.offset),W=this._getAnchor();this._zoomAnimated?$n(this._container,T.add(W)):R=R.add(T).add(W);var te=this._containerBottom=-R.y,ce=this._containerLeft=-Math.round(this._containerWidth/2)+R.x;this._container.style.bottom=te+"px",this._container.style.left=ce+"px"}},_getAnchor:function(){return[0,0]}}),Jd=ji.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(T){return T.openPopup(this),this},onAdd:function(T){ji.prototype.onAdd.call(this,T),T.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qi||this._source.on("preclick",Xd))},onRemove:function(T){ji.prototype.onRemove.call(this,T),T.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qi||this._source.off("preclick",Xd))},getEvents:function(){var T=ji.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(T.preclick=this._close),this.options.keepInView&&(T.moveend=this._adjustPan),T},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var T="leaflet-popup",R=this._container=Sn("div",T+" "+(this.options.className||"")+" leaflet-zoom-animated"),W=this._wrapper=Sn("div",T+"-content-wrapper",R);if(this._contentNode=Sn("div",T+"-content",W),Pp(R),mt(this._contentNode),hi(R,"contextmenu",Xd),this._tipContainer=Sn("div",T+"-tip-container",R),this._tip=Sn("div",T+"-tip",this._tipContainer),this.options.closeButton){var te=this._closeButton=Sn("a",T+"-close-button",R);te.href="#close",te.innerHTML="&#215;",hi(te,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var T=this._contentNode,R=T.style;R.width="",R.whiteSpace="nowrap";var W=T.offsetWidth;W=Math.min(W,this.options.maxWidth),W=Math.max(W,this.options.minWidth),R.width=W+1+"px",R.whiteSpace="",R.height="";var ce=this.options.maxHeight,Ce="leaflet-popup-scrolled";ce&&T.offsetHeight>ce?(R.height=ce+"px",It(T,Ce)):Wr(T,Ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(T){var R=this._map._latLngToNewLayerPoint(this._latlng,T.zoom,T.center),W=this._getAnchor();$n(this._container,R.add(W))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var T=this._map,R=parseInt(el(this._container,"marginBottom"),10)||0,W=this._container.offsetHeight+R,te=this._containerWidth,ce=new Dn(this._containerLeft,-W-this._containerBottom);ce._add(sh(this._container));var Ce=T.layerPointToContainerPoint(ce),Ne=tt(this.options.autoPanPadding),Le=tt(this.options.autoPanPaddingTopLeft||Ne),lt=tt(this.options.autoPanPaddingBottomRight||Ne),Ct=T.getSize(),Zt=0,pn=0;Ce.x+te+lt.x>Ct.x&&(Zt=Ce.x+te-Ct.x+lt.x),Ce.x-Zt-Le.x<0&&(Zt=Ce.x-Le.x),Ce.y+W+lt.y>Ct.y&&(pn=Ce.y+W-Ct.y+lt.y),Ce.y-pn-Le.y<0&&(pn=Ce.y-Le.y),(Zt||pn)&&T.fire("autopanstart").panBy([Zt,pn])}},_onCloseButtonClick:function(T){this._close(),Jr(T)},_getAnchor:function(){return tt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Et.mergeOptions({closePopupOnClick:!0}),Et.include({openPopup:function(T,R,W){return T instanceof Jd||(T=new Jd(W).setContent(T)),R&&T.setLatLng(R),this.hasLayer(T)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=T,this.addLayer(T))},closePopup:function(T){return(!T||T===this._popup)&&(T=this._popup,this._popup=null),T&&this.removeLayer(T),this}}),rl.include({bindPopup:function(T,R){return T instanceof Jd?(yo(T,R),this._popup=T,T._source=this):((!this._popup||R)&&(this._popup=new Jd(R,this)),this._popup.setContent(T)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(T,R){return this._popup&&this._map&&(R=this._popup._prepareOpen(this,T,R),this._map.openPopup(this._popup,R)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(T){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(T)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(T){return this._popup&&this._popup.setContent(T),this},getPopup:function(){return this._popup},_openPopup:function(T){var R=T.layer||T.target;if(this._popup&&this._map){if(Jr(T),R instanceof qi)return void this.openPopup(T.layer||T.target,T.latlng);this._map.hasLayer(this._popup)&&this._popup._source===R?this.closePopup():this.openPopup(R,T.latlng)}},_movePopup:function(T){this._popup.setLatLng(T.latlng)},_onKeyPress:function(T){13===T.originalEvent.keyCode&&this._openPopup(T)}});var dh=ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(T){ji.prototype.onAdd.call(this,T),this.setOpacity(this.options.opacity),T.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(T){ji.prototype.onRemove.call(this,T),T.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var T=ji.prototype.getEvents.call(this);return Al&&!this.options.permanent&&(T.preclick=this._close),T},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Sn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(T){var R,W,te=this._map,ce=this._container,Ce=te.latLngToContainerPoint(te.getCenter()),Ne=te.layerPointToContainerPoint(T),Le=this.options.direction,lt=ce.offsetWidth,Ct=ce.offsetHeight,Zt=tt(this.options.offset),pn=this._getAnchor();"top"===Le?(R=lt/2,W=Ct):"bottom"===Le?(R=lt/2,W=0):"center"===Le?(R=lt/2,W=Ct/2):"right"===Le?(R=0,W=Ct/2):"left"===Le?(R=lt,W=Ct/2):Ne.x<Ce.x?(Le="right",R=0,W=Ct/2):(Le="left",R=lt+2*(Zt.x+pn.x),W=Ct/2),T=T.subtract(tt(R,W,!0)).add(Zt).add(pn),Wr(ce,"leaflet-tooltip-right"),Wr(ce,"leaflet-tooltip-left"),Wr(ce,"leaflet-tooltip-top"),Wr(ce,"leaflet-tooltip-bottom"),It(ce,"leaflet-tooltip-"+Le),$n(ce,T)},_updatePosition:function(){var T=this._map.latLngToLayerPoint(this._latlng);this._setPosition(T)},setOpacity:function(T){this.options.opacity=T,this._container&&tl(this._container,T)},_animateZoom:function(T){var R=this._map._latLngToNewLayerPoint(this._latlng,T.zoom,T.center);this._setPosition(R)},_getAnchor:function(){return tt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Et.include({openTooltip:function(T,R,W){return T instanceof dh||(T=new dh(W).setContent(T)),R&&T.setLatLng(R),this.hasLayer(T)?this:this.addLayer(T)},closeTooltip:function(T){return T&&this.removeLayer(T),this}}),rl.include({bindTooltip:function(T,R){return T instanceof dh?(yo(T,R),this._tooltip=T,T._source=this):((!this._tooltip||R)&&(this._tooltip=new dh(R,this)),this._tooltip.setContent(T)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(T){if(T||!this._tooltipHandlersAdded){var R=T?"off":"on",W={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?W.add=this._openTooltip:(W.mouseover=this._openTooltip,W.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(W.mousemove=this._moveTooltip),Al&&(W.click=this._openTooltip)),this[R](W),this._tooltipHandlersAdded=!T}},openTooltip:function(T,R){return this._tooltip&&this._map&&(R=this._tooltip._prepareOpen(this,T,R),this._map.openTooltip(this._tooltip,R),this._tooltip.options.interactive&&this._tooltip._container&&(It(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Wr(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(T){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(T)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(T){return this._tooltip&&this._tooltip.setContent(T),this},getTooltip:function(){return this._tooltip},_openTooltip:function(T){!this._tooltip||!this._map||this.openTooltip(T.layer||T.target,this._tooltip.options.sticky?T.latlng:void 0)},_moveTooltip:function(T){var W,te,R=T.latlng;this._tooltip.options.sticky&&T.originalEvent&&(W=this._map.mouseEventToContainerPoint(T.originalEvent),te=this._map.containerPointToLayerPoint(W),R=this._map.layerPointToLatLng(te)),this._tooltip.setLatLng(R)}});var Ip=kl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(T){var R=T&&"DIV"===T.tagName?T:document.createElement("div"),W=this.options;if(W.html instanceof Element?(Ir(R),R.appendChild(W.html)):R.innerHTML=!1!==W.html?W.html:"",W.bgPos){var te=tt(W.bgPos);R.style.backgroundPosition=-te.x+"px "+-te.y+"px"}return this._setIconStyles(R,"icon"),R},createShadow:function(){return null}});kl.Default=pu;var Oo=rl.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pl,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(T){yo(this,T)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(T){T._addZoomLimit(this)},onRemove:function(T){this._removeAllTiles(),bo(this._container),T._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ah(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tp(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(T){return this.options.opacity=T,this._updateOpacity(),this},setZIndex:function(T){return this.options.zIndex=T,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var T={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ur(this._onMoveEnd,this.options.updateInterval,this)),T.move=this._onMove),this._zoomAnimated&&(T.zoomanim=this._animateZoom),T},createTile:function(){return document.createElement("div")},getTileSize:function(){var T=this.options.tileSize;return T instanceof Dn?T:new Dn(T,T)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(T){for(var Ce,R=this.getPane().children,W=-T(-1/0,1/0),te=0,ce=R.length;te<ce;te++)Ce=R[te].style.zIndex,R[te]!==this._container&&Ce&&(W=T(W,+Ce));isFinite(W)&&(this.options.zIndex=W+T(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nh){tl(this._container,this.options.opacity);var T=+new Date,R=!1,W=!1;for(var te in this._tiles){var ce=this._tiles[te];if(ce.current&&ce.loaded){var Ce=Math.min(1,(T-ce.loaded)/200);tl(ce.el,Ce),Ce<1?R=!0:(ce.active?W=!0:this._onOpaqueTile(ce),ce.active=!0)}}W&&!this._noPrune&&this._pruneTiles(),R&&(it(this._fadeFrame),this._fadeFrame=Ea(this._updateOpacity,this))}},_onOpaqueTile:_t,_initContainer:function(){this._container||(this._container=Sn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var T=this._tileZoom,R=this.options.maxZoom;if(void 0!==T){for(var W in this._levels)W=Number(W),this._levels[W].el.children.length||W===T?(this._levels[W].el.style.zIndex=R-Math.abs(T-W),this._onUpdateLevel(W)):(bo(this._levels[W].el),this._removeTilesAtZoom(W),this._onRemoveLevel(W),delete this._levels[W]);var te=this._levels[T],ce=this._map;return te||((te=this._levels[T]={}).el=Sn("div","leaflet-tile-container leaflet-zoom-animated",this._container),te.el.style.zIndex=R,te.origin=ce.project(ce.unproject(ce.getPixelOrigin()),T).round(),te.zoom=T,this._setZoomTransform(te,ce.getCenter(),ce.getZoom()),this._onCreateLevel(te)),this._level=te,te}},_onUpdateLevel:_t,_onRemoveLevel:_t,_onCreateLevel:_t,_pruneTiles:function(){if(this._map){var T,R,W=this._map.getZoom();if(W>this.options.maxZoom||W<this.options.minZoom)return void this._removeAllTiles();for(T in this._tiles)(R=this._tiles[T]).retain=R.current;for(T in this._tiles)if((R=this._tiles[T]).current&&!R.active){var te=R.coords;this._retainParent(te.x,te.y,te.z,te.z-5)||this._retainChildren(te.x,te.y,te.z,te.z+2)}for(T in this._tiles)this._tiles[T].retain||this._removeTile(T)}},_removeTilesAtZoom:function(T){for(var R in this._tiles)this._tiles[R].coords.z===T&&this._removeTile(R)},_removeAllTiles:function(){for(var T in this._tiles)this._removeTile(T)},_invalidateAll:function(){for(var T in this._levels)bo(this._levels[T].el),this._onRemoveLevel(Number(T)),delete this._levels[T];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(T,R,W,te){var ce=Math.floor(T/2),Ce=Math.floor(R/2),Ne=W-1,Le=new Dn(+ce,+Ce);Le.z=+Ne;var lt=this._tileCoordsToKey(Le),Ct=this._tiles[lt];return Ct&&Ct.active?(Ct.retain=!0,!0):(Ct&&Ct.loaded&&(Ct.retain=!0),Ne>te&&this._retainParent(ce,Ce,Ne,te))},_retainChildren:function(T,R,W,te){for(var ce=2*T;ce<2*T+2;ce++)for(var Ce=2*R;Ce<2*R+2;Ce++){var Ne=new Dn(ce,Ce);Ne.z=W+1;var Le=this._tileCoordsToKey(Ne),lt=this._tiles[Le];lt&&lt.active?lt.retain=!0:(lt&&lt.loaded&&(lt.retain=!0),W+1<te&&this._retainChildren(ce,Ce,W+1,te))}},_resetView:function(T){var R=T&&(T.pinch||T.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),R,R)},_animateZoom:function(T){this._setView(T.center,T.zoom,!0,T.noUpdate)},_clampZoom:function(T){var R=this.options;return void 0!==R.minNativeZoom&&T<R.minNativeZoom?R.minNativeZoom:void 0!==R.maxNativeZoom&&R.maxNativeZoom<T?R.maxNativeZoom:T},_setView:function(T,R,W,te){var ce=Math.round(R);ce=void 0!==this.options.maxZoom&&ce>this.options.maxZoom||void 0!==this.options.minZoom&&ce<this.options.minZoom?void 0:this._clampZoom(ce),(!te||this.options.updateWhenZooming&&ce!==this._tileZoom)&&(this._tileZoom=ce,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==ce&&this._update(T),W||this._pruneTiles(),this._noPrune=!!W),this._setZoomTransforms(T,R)},_setZoomTransforms:function(T,R){for(var W in this._levels)this._setZoomTransform(this._levels[W],T,R)},_setZoomTransform:function(T,R,W){var te=this._map.getZoomScale(W,T.zoom),ce=T.origin.multiplyBy(te).subtract(this._map._getNewPixelOrigin(R,W)).round();cc?jn(T.el,ce,te):$n(T.el,ce)},_resetGrid:function(){var T=this._map,R=T.options.crs,W=this._tileSize=this.getTileSize(),te=this._tileZoom,ce=this._map.getPixelWorldBounds(this._tileZoom);ce&&(this._globalTileRange=this._pxBoundsToTileRange(ce)),this._wrapX=R.wrapLng&&!this.options.noWrap&&[Math.floor(T.project([0,R.wrapLng[0]],te).x/W.x),Math.ceil(T.project([0,R.wrapLng[1]],te).x/W.y)],this._wrapY=R.wrapLat&&!this.options.noWrap&&[Math.floor(T.project([R.wrapLat[0],0],te).y/W.x),Math.ceil(T.project([R.wrapLat[1],0],te).y/W.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(T){var R=this._map,W=R._animatingZoom?Math.max(R._animateToZoom,R.getZoom()):R.getZoom(),te=R.getZoomScale(W,this._tileZoom),ce=R.project(T,this._tileZoom).floor(),Ce=R.getSize().divideBy(2*te);return new nt(ce.subtract(Ce),ce.add(Ce))},_update:function(T){var R=this._map;if(R){var W=this._clampZoom(R.getZoom());if(void 0===T&&(T=R.getCenter()),void 0!==this._tileZoom){var te=this._getTiledPixelBounds(T),ce=this._pxBoundsToTileRange(te),Ce=ce.getCenter(),Ne=[],Le=this.options.keepBuffer,lt=new nt(ce.getBottomLeft().subtract([Le,-Le]),ce.getTopRight().add([Le,-Le]));if(!(isFinite(ce.min.x)&&isFinite(ce.min.y)&&isFinite(ce.max.x)&&isFinite(ce.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ct in this._tiles){var Zt=this._tiles[Ct].coords;(Zt.z!==this._tileZoom||!lt.contains(new Dn(Zt.x,Zt.y)))&&(this._tiles[Ct].current=!1)}if(Math.abs(W-this._tileZoom)>1)return void this._setView(T,W);for(var pn=ce.min.y;pn<=ce.max.y;pn++)for(var or=ce.min.x;or<=ce.max.x;or++){var fh=new Dn(or,pn);if(fh.z=this._tileZoom,this._isValidTile(fh)){var ph=this._tiles[this._tileCoordsToKey(fh)];ph?ph.current=!0:Ne.push(fh)}}if(Ne.sort(function(Qa,Ui){return Qa.distanceTo(Ce)-Ui.distanceTo(Ce)}),0!==Ne.length){this._loading||(this._loading=!0,this.fire("loading"));var t0=document.createDocumentFragment();for(or=0;or<Ne.length;or++)this._addTile(Ne[or],t0);this._level.el.appendChild(t0)}}}},_isValidTile:function(T){var R=this._map.options.crs;if(!R.infinite){var W=this._globalTileRange;if(!R.wrapLng&&(T.x<W.min.x||T.x>W.max.x)||!R.wrapLat&&(T.y<W.min.y||T.y>W.max.y))return!1}if(!this.options.bounds)return!0;var te=this._tileCoordsToBounds(T);return Gt(this.options.bounds).overlaps(te)},_keyToBounds:function(T){return this._tileCoordsToBounds(this._keyToTileCoords(T))},_tileCoordsToNwSe:function(T){var R=this._map,W=this.getTileSize(),te=T.scaleBy(W),ce=te.add(W);return[R.unproject(te,T.z),R.unproject(ce,T.z)]},_tileCoordsToBounds:function(T){var R=this._tileCoordsToNwSe(T),W=new Is(R[0],R[1]);return this.options.noWrap||(W=this._map.wrapLatLngBounds(W)),W},_tileCoordsToKey:function(T){return T.x+":"+T.y+":"+T.z},_keyToTileCoords:function(T){var R=T.split(":"),W=new Dn(+R[0],+R[1]);return W.z=+R[2],W},_removeTile:function(T){var R=this._tiles[T];R&&(bo(R.el),delete this._tiles[T],this.fire("tileunload",{tile:R.el,coords:this._keyToTileCoords(T)}))},_initTile:function(T){It(T,"leaflet-tile");var R=this.getTileSize();T.style.width=R.x+"px",T.style.height=R.y+"px",T.onselectstart=_t,T.onmousemove=_t,nh&&this.options.opacity<1&&tl(T,this.options.opacity),sc&&!Ml&&(T.style.WebkitBackfaceVisibility="hidden")},_addTile:function(T,R){var W=this._getTilePos(T),te=this._tileCoordsToKey(T),ce=this.createTile(this._wrapCoords(T),bi(this._tileReady,this,T));this._initTile(ce),this.createTile.length<2&&Ea(bi(this._tileReady,this,T,null,ce)),$n(ce,W),this._tiles[te]={el:ce,coords:T,current:!0},R.appendChild(ce),this.fire("tileloadstart",{tile:ce,coords:T})},_tileReady:function(T,R,W){R&&this.fire("tileerror",{error:R,tile:W,coords:T});var te=this._tileCoordsToKey(T);(W=this._tiles[te])&&(W.loaded=+new Date,this._map._fadeAnimated?(tl(W.el,0),it(this._fadeFrame),this._fadeFrame=Ea(this._updateOpacity,this)):(W.active=!0,this._pruneTiles()),R||(It(W.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:W.el,coords:T})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nh||!this._map._fadeAnimated?Ea(this._pruneTiles,this):setTimeout(bi(this._pruneTiles,this),250)))},_getTilePos:function(T){return T.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(T){var R=new Dn(this._wrapX?No(T.x,this._wrapX):T.x,this._wrapY?No(T.y,this._wrapY):T.y);return R.z=T.z,R},_pxBoundsToTileRange:function(T){var R=this.getTileSize();return new nt(T.min.unscaleBy(R).floor(),T.max.unscaleBy(R).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var T in this._tiles)if(!this._tiles[T].loaded)return!1;return!0}});var ca=Oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(T,R){this._url=T,(R=yo(this,R)).detectRetina&&Ud&&R.maxZoom>0&&(R.tileSize=Math.floor(R.tileSize/2),R.zoomReverse?(R.zoomOffset--,R.minZoom++):(R.zoomOffset++,R.maxZoom--),R.minZoom=Math.max(0,R.minZoom)),"string"==typeof R.subdomains&&(R.subdomains=R.subdomains.split("")),sc||this.on("tileunload",this._onTileRemove)},setUrl:function(T,R){return this._url===T&&void 0===R&&(R=!0),this._url=T,R||this.redraw(),this},createTile:function(T,R){var W=document.createElement("img");return hi(W,"load",bi(this._tileOnLoad,this,R,W)),hi(W,"error",bi(this._tileOnError,this,R,W)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(W.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),W.alt="",W.setAttribute("role","presentation"),W.src=this.getTileUrl(T),W},getTileUrl:function(T){var R={r:Ud?"@2x":"",s:this._getSubdomain(T),x:T.x,y:T.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var W=this._globalTileRange.max.y-T.y;this.options.tms&&(R.y=W),R["-y"]=W}return xp(this._url,Ee(R,this.options))},_tileOnLoad:function(T,R){nh?setTimeout(bi(T,this,null,R),0):T(null,R)},_tileOnError:function(T,R,W){var te=this.options.errorTileUrl;te&&R.getAttribute("src")!==te&&(R.src=te),T(W,R)},_onTileRemove:function(T){T.tile.onload=null},_getZoomForUrl:function(){var T=this._tileZoom;return this.options.zoomReverse&&(T=this.options.maxZoom-T),T+this.options.zoomOffset},_getSubdomain:function(T){var R=Math.abs(T.x+T.y)%this.options.subdomains.length;return this.options.subdomains[R]},_abortLoading:function(){var T,R;for(T in this._tiles)this._tiles[T].coords.z!==this._tileZoom&&((R=this._tiles[T].el).onload=_t,R.onerror=_t,R.complete||(R.src=Ym,bo(R),delete this._tiles[T]))},_removeTile:function(T){var R=this._tiles[T];if(R)return Dl||R.el.setAttribute("src",Ym),Oo.prototype._removeTile.call(this,T)},_tileReady:function(T,R,W){if(this._map&&(!W||W.getAttribute("src")!==Ym))return Oo.prototype._tileReady.call(this,T,R,W)}});function El(T,R){return new ca(T,R)}var m1=ca.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(T,R){this._url=T;var W=Ee({},this.defaultWmsParams);for(var te in R)te in this.options||(W[te]=R[te]);var ce=(R=yo(this,R)).detectRetina&&Ud?2:1,Ce=this.getTileSize();W.width=Ce.x*ce,W.height=Ce.y*ce,this.wmsParams=W},onAdd:function(T){this._crs=this.options.crs||T.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ca.prototype.onAdd.call(this,T)},getTileUrl:function(T){var R=this._tileCoordsToNwSe(T),W=this._crs,te=Ri(W.project(R[0]),W.project(R[1])),ce=te.min,Ce=te.max,Ne=(this._wmsVersion>=1.3&&this._crs===Qm?[ce.y,ce.x,Ce.y,Ce.x]:[ce.x,ce.y,Ce.x,Ce.y]).join(","),Le=ca.prototype.getTileUrl.call(this,T);return Le+n5(this.wmsParams,Le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ne},setParams:function(T,R){return Ee(this.wmsParams,T),R||this.redraw(),this}});ca.WMS=m1,El.wms=function e0(T,R){return new m1(T,R)};var Il=rl.extend({options:{padding:.1,tolerance:0},initialize:function(T){yo(this,T),Pt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&It(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var T={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(T.zoomanim=this._onAnimZoom),T},_onAnimZoom:function(T){this._updateTransform(T.center,T.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(T,R){var W=this._map.getZoomScale(R,this._zoom),te=sh(this._container),ce=this._map.getSize().multiplyBy(.5+this.options.padding),Ce=this._map.project(this._center,R),Le=this._map.project(T,R).subtract(Ce),lt=ce.multiplyBy(-W).add(te).add(ce).subtract(Le);cc?jn(this._container,lt,W):$n(this._container,lt)},_reset:function(){for(var T in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[T]._reset()},_onZoomEnd:function(){for(var T in this._layers)this._layers[T]._project()},_updatePaths:function(){for(var T in this._layers)this._layers[T]._update()},_update:function(){var T=this.options.padding,R=this._map.getSize(),W=this._map.containerPointToLayerPoint(R.multiplyBy(-T)).round();this._bounds=new nt(W,W.add(R.multiplyBy(1+2*T)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xt=Il.extend({getEvents:function(){var T=Il.prototype.getEvents.call(this);return T.viewprereset=this._onViewPreReset,T},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Il.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var T=this._container=document.createElement("canvas");hi(T,"mousemove",this._onMouseMove,this),hi(T,"click dblclick mousedown mouseup contextmenu",this._onClick,this),hi(T,"mouseout",this._handleMouseOut,this),this._ctx=T.getContext("2d")},_destroyContainer:function(){it(this._redrawRequest),delete this._ctx,bo(this._container),qo(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var R in this._redrawBounds=null,this._layers)this._layers[R]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Il.prototype._update.call(this);var T=this._bounds,R=this._container,W=T.getSize(),te=Ud?2:1;$n(R,T.min),R.width=te*W.x,R.height=te*W.y,R.style.width=W.x+"px",R.style.height=W.y+"px",Ud&&this._ctx.scale(2,2),this._ctx.translate(-T.min.x,-T.min.y),this.fire("update")}},_reset:function(){Il.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(T){this._updateDashArray(T),this._layers[Pt(T)]=T;var R=T._order={layer:T,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=R),this._drawLast=R,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(T){this._requestRedraw(T)},_removePath:function(T){var R=T._order,W=R.next,te=R.prev;W?W.prev=te:this._drawLast=te,te?te.next=W:this._drawFirst=W,delete T._order,delete this._layers[Pt(T)],this._requestRedraw(T)},_updatePath:function(T){this._extendRedrawBounds(T),T._project(),T._update(),this._requestRedraw(T)},_updateStyle:function(T){this._updateDashArray(T),this._requestRedraw(T)},_updateDashArray:function(T){if("string"==typeof T.options.dashArray){var te,ce,R=T.options.dashArray.split(/[, ]+/),W=[];for(ce=0;ce<R.length;ce++){if(te=Number(R[ce]),isNaN(te))return;W.push(te)}T.options._dashArray=W}else T.options._dashArray=T.options.dashArray},_requestRedraw:function(T){this._map&&(this._extendRedrawBounds(T),this._redrawRequest=this._redrawRequest||Ea(this._redraw,this))},_extendRedrawBounds:function(T){if(T._pxBounds){var R=(T.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new nt,this._redrawBounds.extend(T._pxBounds.min.subtract([R,R])),this._redrawBounds.extend(T._pxBounds.max.add([R,R]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var T=this._redrawBounds;if(T){var R=T.getSize();this._ctx.clearRect(T.min.x,T.min.y,R.x,R.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var T,R=this._redrawBounds;if(this._ctx.save(),R){var W=R.getSize();this._ctx.beginPath(),this._ctx.rect(R.min.x,R.min.y,W.x,W.y),this._ctx.clip()}this._drawing=!0;for(var te=this._drawFirst;te;te=te.next)T=te.layer,(!R||T._pxBounds&&T._pxBounds.intersects(R))&&T._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(T,R){if(this._drawing){var W,te,ce,Ce,Ne=T._parts,Le=Ne.length,lt=this._ctx;if(Le){for(lt.beginPath(),W=0;W<Le;W++){for(te=0,ce=Ne[W].length;te<ce;te++)lt[te?"lineTo":"moveTo"]((Ce=Ne[W][te]).x,Ce.y);R&&lt.closePath()}this._fillStroke(lt,T)}}},_updateCircle:function(T){if(this._drawing&&!T._empty()){var R=T._point,W=this._ctx,te=Math.max(Math.round(T._radius),1),ce=(Math.max(Math.round(T._radiusY),1)||te)/te;1!==ce&&(W.save(),W.scale(1,ce)),W.beginPath(),W.arc(R.x,R.y/ce,te,0,2*Math.PI,!1),1!==ce&&W.restore(),this._fillStroke(W,T)}},_fillStroke:function(T,R){var W=R.options;W.fill&&(T.globalAlpha=W.fillOpacity,T.fillStyle=W.fillColor||W.color,T.fill(W.fillRule||"evenodd")),W.stroke&&0!==W.weight&&(T.setLineDash&&T.setLineDash(R.options&&R.options._dashArray||[]),T.globalAlpha=W.opacity,T.lineWidth=W.weight,T.strokeStyle=W.color,T.lineCap=W.lineCap,T.lineJoin=W.lineJoin,T.stroke())},_onClick:function(T){for(var W,te,R=this._map.mouseEventToLayerPoint(T),ce=this._drawFirst;ce;ce=ce.next)(W=ce.layer).options.interactive&&W._containsPoint(R)&&("click"!==T.type&&"preclick"===T.type||!this._map._draggableMoved(W))&&(te=W);te&&(S2(T),this._fireEvent([te],T))},_onMouseMove:function(T){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var R=this._map.mouseEventToLayerPoint(T);this._handleMouseHover(T,R)}},_handleMouseOut:function(T){var R=this._hoveredLayer;R&&(Wr(this._container,"leaflet-interactive"),this._fireEvent([R],T,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(T,R){if(!this._mouseHoverThrottled){for(var W,te,ce=this._drawFirst;ce;ce=ce.next)(W=ce.layer).options.interactive&&W._containsPoint(R)&&(te=W);te!==this._hoveredLayer&&(this._handleMouseOut(T),te&&(It(this._container,"leaflet-interactive"),this._fireEvent([te],T,"mouseover"),this._hoveredLayer=te)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],T),this._mouseHoverThrottled=!0,setTimeout(bi(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(T,R,W){this._map._fireDOMEvent(R,W||R.type,T)},_bringToFront:function(T){var R=T._order;if(R){var W=R.next,te=R.prev;if(!W)return;W.prev=te,te?te.next=W:W&&(this._drawFirst=W),R.prev=this._drawLast,this._drawLast.next=R,R.next=null,this._drawLast=R,this._requestRedraw(T)}},_bringToBack:function(T){var R=T._order;if(R){var W=R.next,te=R.prev;if(!te)return;te.next=W,W?W.prev=te:te&&(this._drawLast=te),R.prev=null,R.next=this._drawFirst,this._drawFirst.prev=R,this._drawFirst=R,this._requestRedraw(T)}}});function h5(T){return a5?new Xt(T):null}var ef=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(T){return document.createElement("<lvml:"+T+' class="lvml">')}}catch{return function(R){return document.createElement("<"+R+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Lp={_initContainer:function(){this._container=Sn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Il.prototype._update.call(this),this.fire("update"))},_initPath:function(T){var R=T._container=ef("shape");It(R,"leaflet-vml-shape "+(this.options.className||"")),R.coordsize="1 1",T._path=ef("path"),R.appendChild(T._path),this._updateStyle(T),this._layers[Pt(T)]=T},_addPath:function(T){var R=T._container;this._container.appendChild(R),T.options.interactive&&T.addInteractiveTarget(R)},_removePath:function(T){var R=T._container;bo(R),T.removeInteractiveTarget(R),delete this._layers[Pt(T)]},_updateStyle:function(T){var R=T._stroke,W=T._fill,te=T.options,ce=T._container;ce.stroked=!!te.stroke,ce.filled=!!te.fill,te.stroke?(R||(R=T._stroke=ef("stroke")),ce.appendChild(R),R.weight=te.weight+"px",R.color=te.color,R.opacity=te.opacity,R.dashStyle=te.dashArray?Xa(te.dashArray)?te.dashArray.join(" "):te.dashArray.replace(/( *, *)/g," "):"",R.endcap=te.lineCap.replace("butt","flat"),R.joinstyle=te.lineJoin):R&&(ce.removeChild(R),T._stroke=null),te.fill?(W||(W=T._fill=ef("fill")),ce.appendChild(W),W.color=te.fillColor||te.color,W.opacity=te.fillOpacity):W&&(ce.removeChild(W),T._fill=null)},_updateCircle:function(T){var R=T._point.round(),W=Math.round(T._radius),te=Math.round(T._radiusY||W);this._setPath(T,T._empty()?"M0 0":"AL "+R.x+","+R.y+" "+W+","+te+" 0,23592600")},_setPath:function(T,R){T._path.v=R},_bringToFront:function(T){ah(T._container)},_bringToBack:function(T){Tp(T._container)}},z2=Qh?ef:t1,v1=Il.extend({getEvents:function(){var T=Il.prototype.getEvents.call(this);return T.zoomstart=this._onZoomStart,T},_initContainer:function(){this._container=z2("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=z2("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bo(this._container),qo(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Il.prototype._update.call(this);var T=this._bounds,R=T.getSize(),W=this._container;(!this._svgSize||!this._svgSize.equals(R))&&(this._svgSize=R,W.setAttribute("width",R.x),W.setAttribute("height",R.y)),$n(W,T.min),W.setAttribute("viewBox",[T.min.x,T.min.y,R.x,R.y].join(" ")),this.fire("update")}},_initPath:function(T){var R=T._path=z2("path");T.options.className&&It(R,T.options.className),T.options.interactive&&It(R,"leaflet-interactive"),this._updateStyle(T),this._layers[Pt(T)]=T},_addPath:function(T){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(T._path),T.addInteractiveTarget(T._path)},_removePath:function(T){bo(T._path),T.removeInteractiveTarget(T._path),delete this._layers[Pt(T)]},_updatePath:function(T){T._project(),T._update()},_updateStyle:function(T){var R=T._path,W=T.options;R&&(W.stroke?(R.setAttribute("stroke",W.color),R.setAttribute("stroke-opacity",W.opacity),R.setAttribute("stroke-width",W.weight),R.setAttribute("stroke-linecap",W.lineCap),R.setAttribute("stroke-linejoin",W.lineJoin),W.dashArray?R.setAttribute("stroke-dasharray",W.dashArray):R.removeAttribute("stroke-dasharray"),W.dashOffset?R.setAttribute("stroke-dashoffset",W.dashOffset):R.removeAttribute("stroke-dashoffset")):R.setAttribute("stroke","none"),W.fill?(R.setAttribute("fill",W.fillColor||W.color),R.setAttribute("fill-opacity",W.fillOpacity),R.setAttribute("fill-rule",W.fillRule||"evenodd")):R.setAttribute("fill","none"))},_updatePoly:function(T,R){this._setPath(T,p2(T._parts,R))},_updateCircle:function(T){var R=T._point,W=Math.max(Math.round(T._radius),1),ce="a"+W+","+(Math.max(Math.round(T._radiusY),1)||W)+" 0 1,0 ",Ce=T._empty()?"M0 0":"M"+(R.x-W)+","+R.y+ce+2*W+",0 "+ce+2*-W+",0 ";this._setPath(T,Ce)},_setPath:function(T,R){T._path.setAttribute("d",R)},_bringToFront:function(T){ah(T._path)},_bringToBack:function(T){Tp(T._path)}});function d5(T){return Wd||Qh?new v1(T):null}Qh&&v1.include(Lp),Et.include({getRenderer:function(T){var R=T.options.renderer||this._getPaneRenderer(T.options.pane)||this.options.renderer||this._renderer;return R||(R=this._renderer=this._createRenderer()),this.hasLayer(R)||this.addLayer(R),R},_getPaneRenderer:function(T){if("overlayPane"===T||void 0===T)return!1;var R=this._paneRenderers[T];return void 0===R&&(R=this._createRenderer({pane:T}),this._paneRenderers[T]=R),R},_createRenderer:function(T){return this.options.preferCanvas&&h5(T)||d5(T)}});var IT=ri.extend({initialize:function(T,R){ri.prototype.initialize.call(this,this._boundsToLatLngs(T),R)},setBounds:function(T){return this.setLatLngs(this._boundsToLatLngs(T))},_boundsToLatLngs:function(T){return[(T=Gt(T)).getSouthWest(),T.getNorthWest(),T.getNorthEast(),T.getSouthEast()]}});v1.create=z2,v1.pointsToPath=p2,Sa.geometryToLayer=_n,Sa.coordsToLatLng=gu,Sa.coordsToLatLngs=Rr,Sa.latLngToCoords=Lc,Sa.latLngsToCoords=fc,Sa.getFeature=Xn,Sa.asFeature=uh,Et.mergeOptions({boxZoom:!0});var rr=vs.extend({initialize:function(T){this._map=T,this._container=T._container,this._pane=T._panes.overlayPane,this._resetStateTimeout=0,T.on("unload",this._destroy,this)},addHooks:function(){hi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qo(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bo(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(T){if(!T.shiftKey||1!==T.which&&1!==T.button)return!1;this._clearDeferredResetState(),this._resetState(),y2(),M3(),this._startPoint=this._map.mouseEventToContainerPoint(T),hi(document,{contextmenu:Jr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(T){this._moved||(this._moved=!0,this._box=Sn("div","leaflet-zoom-box",this._container),It(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(T);var R=new nt(this._point,this._startPoint),W=R.getSize();$n(this._box,R.min),this._box.style.width=W.x+"px",this._box.style.height=W.y+"px"},_finish:function(){this._moved&&(bo(this._box),Wr(this._container,"leaflet-crosshair")),Mp(),D3(),qo(document,{contextmenu:Jr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(T){if((1===T.which||1===T.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(bi(this._resetState,this),0);var R=new Is(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(R).fire("boxzoomend",{boxZoomBounds:R})}},_onKeyDown:function(T){27===T.keyCode&&this._finish()}});Et.addInitHook("addHandler","boxZoom",rr),Et.mergeOptions({doubleClickZoom:!0});var At=vs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(T){var R=this._map,W=R.getZoom(),te=R.options.zoomDelta,ce=T.originalEvent.shiftKey?W-te:W+te;"center"===R.options.doubleClickZoom?R.setZoom(ce):R.setZoomAround(T.containerPoint,ce)}});Et.addInitHook("addHandler","doubleClickZoom",At),Et.mergeOptions({dragging:!0,inertia:!Ml,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ma=vs.extend({addHooks:function(){if(!this._draggable){var T=this._map;this._draggable=new hu(T._mapPane,T._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),T.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),T.on("zoomend",this._onZoomEnd,this),T.whenReady(this._onZoomEnd,this))}It(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wr(this._map._container,"leaflet-grab"),Wr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var T=this._map;if(T._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var R=Gt(this._map.options.maxBounds);this._offsetLimit=Ri(this._map.latLngToContainerPoint(R.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(R.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;T.fire("movestart").fire("dragstart"),T.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(T){if(this._map.options.inertia){var R=this._lastTime=+new Date,W=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(W),this._times.push(R),this._prunePositions(R)}this._map.fire("move",T).fire("drag",T)},_prunePositions:function(T){for(;this._positions.length>1&&T-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var T=this._map.getSize().divideBy(2),R=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=R.subtract(T).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(T,R){return T-(T-R)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var T=this._draggable._newPos.subtract(this._draggable._startPos),R=this._offsetLimit;T.x<R.min.x&&(T.x=this._viscousLimit(T.x,R.min.x)),T.y<R.min.y&&(T.y=this._viscousLimit(T.y,R.min.y)),T.x>R.max.x&&(T.x=this._viscousLimit(T.x,R.max.x)),T.y>R.max.y&&(T.y=this._viscousLimit(T.y,R.max.y)),this._draggable._newPos=this._draggable._startPos.add(T)}},_onPreDragWrap:function(){var T=this._worldWidth,R=Math.round(T/2),W=this._initialWorldOffset,te=this._draggable._newPos.x,ce=(te-R+W)%T+R-W,Ce=(te+R+W)%T-R-W,Ne=Math.abs(ce+W)<Math.abs(Ce+W)?ce:Ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ne},_onDragEnd:function(T){var R=this._map,W=R.options,te=!W.inertia||this._times.length<2;if(R.fire("dragend",T),te)R.fire("moveend");else{this._prunePositions(+new Date);var ce=this._lastPos.subtract(this._positions[0]),Ne=W.easeLinearity,Le=ce.multiplyBy(Ne/((this._lastTime-this._times[0])/1e3)),lt=Le.distanceTo([0,0]),Ct=Math.min(W.inertiaMaxSpeed,lt),Zt=Le.multiplyBy(Ct/lt),pn=Ct/(W.inertiaDeceleration*Ne),or=Zt.multiplyBy(-pn/2).round();or.x||or.y?(or=R._limitOffset(or,R.options.maxBounds),Ea(function(){R.panBy(or,{duration:pn,easeLinearity:Ne,noMoveStart:!0,animate:!0})})):R.fire("moveend")}}});Et.addInitHook("addHandler","dragging",Ma),Et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pc=vs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(T){this._map=T,this._setPanDelta(T.options.keyboardPanDelta),this._setZoomDelta(T.options.zoomDelta)},addHooks:function(){var T=this._map._container;T.tabIndex<=0&&(T.tabIndex="0"),hi(T,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qo(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var T=document.body,R=document.documentElement,W=T.scrollTop||R.scrollTop,te=T.scrollLeft||R.scrollLeft;this._map._container.focus(),window.scrollTo(te,W)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(T){var te,ce,R=this._panKeys={},W=this.keyCodes;for(te=0,ce=W.left.length;te<ce;te++)R[W.left[te]]=[-1*T,0];for(te=0,ce=W.right.length;te<ce;te++)R[W.right[te]]=[T,0];for(te=0,ce=W.down.length;te<ce;te++)R[W.down[te]]=[0,T];for(te=0,ce=W.up.length;te<ce;te++)R[W.up[te]]=[0,-1*T]},_setZoomDelta:function(T){var te,ce,R=this._zoomKeys={},W=this.keyCodes;for(te=0,ce=W.zoomIn.length;te<ce;te++)R[W.zoomIn[te]]=T;for(te=0,ce=W.zoomOut.length;te<ce;te++)R[W.zoomOut[te]]=-T},_addHooks:function(){hi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qo(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(T){if(!(T.altKey||T.ctrlKey||T.metaKey)){var te,R=T.keyCode,W=this._map;if(R in this._panKeys)(!W._panAnim||!W._panAnim._inProgress)&&(te=this._panKeys[R],T.shiftKey&&(te=tt(te).multiplyBy(3)),W.panBy(te),W.options.maxBounds&&W.panInsideBounds(W.options.maxBounds));else if(R in this._zoomKeys)W.setZoom(W.getZoom()+(T.shiftKey?3:1)*this._zoomKeys[R]);else{if(27!==R||!W._popup||!W._popup.options.closeOnEscapeKey)return;W.closePopup()}Jr(T)}}});Et.addInitHook("addHandler","keyboard",pc),Et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _u=vs.extend({addHooks:function(){hi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qo(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(T){var R=w2(T),W=this._map.options.wheelDebounceTime;this._delta+=R,this._lastMousePos=this._map.mouseEventToContainerPoint(T),this._startTime||(this._startTime=+new Date);var te=Math.max(W-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(bi(this._performZoom,this),te),Jr(T)},_performZoom:function(){var T=this._map,R=T.getZoom(),W=this._map.options.zoomSnap||0;T._stop();var ce=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,Ce=W?Math.ceil(ce/W)*W:ce,Ne=T._limitZoom(R+(this._delta>0?Ce:-Ce))-R;this._delta=0,this._startTime=null,Ne&&("center"===T.options.scrollWheelZoom?T.setZoom(R+Ne):T.setZoomAround(this._lastMousePos,R+Ne))}});Et.addInitHook("addHandler","scrollWheelZoom",_u),Et.mergeOptions({tap:!0,tapTolerance:15});var f5=vs.extend({addHooks:function(){hi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qo(this._map._container,"touchstart",this._onDown,this)},_onDown:function(T){if(T.touches){if(Ot(T),this._fireClick=!0,T.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var R=T.touches[0],W=R.target;this._startPos=this._newPos=new Dn(R.clientX,R.clientY),W.tagName&&"a"===W.tagName.toLowerCase()&&It(W,"leaflet-active"),this._holdTimeout=setTimeout(bi(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",R))},this),1e3),this._simulateEvent("mousedown",R),hi(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(T){if(clearTimeout(this._holdTimeout),qo(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&T&&T.changedTouches){var R=T.changedTouches[0],W=R.target;W&&W.tagName&&"a"===W.tagName.toLowerCase()&&Wr(W,"leaflet-active"),this._simulateEvent("mouseup",R),this._isTapValid()&&this._simulateEvent("click",R)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(T){var R=T.touches[0];this._newPos=new Dn(R.clientX,R.clientY),this._simulateEvent("mousemove",R)},_simulateEvent:function(T,R){var W=document.createEvent("MouseEvents");W._simulated=!0,R.target._simulatedClick=!0,W.initMouseEvent(T,!0,!0,window,1,R.screenX,R.screenY,R.clientX,R.clientY,!1,!1,!1,!1,0,null),R.target.dispatchEvent(W)}});Al&&(!uc||Yd)&&Et.addInitHook("addHandler","tap",f5),Et.mergeOptions({touchZoom:Al&&!Ml,bounceAtZoomLimits:!0});var z3=vs.extend({addHooks:function(){It(this._map._container,"leaflet-touch-zoom"),hi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wr(this._map._container,"leaflet-touch-zoom"),qo(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(T){var R=this._map;if(T.touches&&2===T.touches.length&&!R._animatingZoom&&!this._zooming){var W=R.mouseEventToContainerPoint(T.touches[0]),te=R.mouseEventToContainerPoint(T.touches[1]);this._centerPoint=R.getSize()._divideBy(2),this._startLatLng=R.containerPointToLatLng(this._centerPoint),"center"!==R.options.touchZoom&&(this._pinchStartLatLng=R.containerPointToLatLng(W.add(te)._divideBy(2))),this._startDist=W.distanceTo(te),this._startZoom=R.getZoom(),this._moved=!1,this._zooming=!0,R._stop(),hi(document,"touchmove",this._onTouchMove,this),hi(document,"touchend",this._onTouchEnd,this),Ot(T)}},_onTouchMove:function(T){if(T.touches&&2===T.touches.length&&this._zooming){var R=this._map,W=R.mouseEventToContainerPoint(T.touches[0]),te=R.mouseEventToContainerPoint(T.touches[1]),ce=W.distanceTo(te)/this._startDist;if(this._zoom=R.getScaleZoom(ce,this._startZoom),!R.options.bounceAtZoomLimits&&(this._zoom<R.getMinZoom()&&ce<1||this._zoom>R.getMaxZoom()&&ce>1)&&(this._zoom=R._limitZoom(this._zoom)),"center"===R.options.touchZoom){if(this._center=this._startLatLng,1===ce)return}else{var Ce=W._add(te)._divideBy(2)._subtract(this._centerPoint);if(1===ce&&0===Ce.x&&0===Ce.y)return;this._center=R.unproject(R.project(this._pinchStartLatLng,this._zoom).subtract(Ce),this._zoom)}this._moved||(R._moveStart(!0,!1),this._moved=!0),it(this._animRequest);var Ne=bi(R._move,R,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Ea(Ne,this,!0),Ot(T)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,it(this._animRequest),qo(document,"touchmove",this._onTouchMove,this),qo(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Et.addInitHook("addHandler","touchZoom",z3),Et.BoxZoom=rr,Et.DoubleClickZoom=At,Et.Drag=Ma,Et.Keyboard=pc,Et.ScrollWheelZoom=_u,Et.Tap=f5,Et.TouchZoom=z3,Qe.version="1.7.1",Qe.Control=uu,Qe.control=Za,Qe.Browser=ms,Qe.Evented=Gr,Qe.Mixin=Zm,Qe.Util=jt,Qe.Class=Js,Qe.Handler=vs,Qe.extend=Ee,Qe.bind=bi,Qe.stamp=Pt,Qe.setOptions=yo,Qe.DomEvent=zp,Qe.DomUtil=c5,Qe.PosAnimation=c1,Qe.Draggable=hu,Qe.LineUtil=ZE,Qe.PolyUtil=du,Qe.Point=Dn,Qe.point=tt,Qe.Bounds=nt,Qe.bounds=Ri,Qe.Transformation=zt,Qe.transformation=rn,Qe.Projection=P2,Qe.LatLng=rt,Qe.latLng=Je,Qe.LatLngBounds=Is,Qe.latLngBounds=Gt,Qe.CRS=at,Qe.GeoJSON=Sa,Qe.geoJSON=qn,Qe.geoJson=Ep,Qe.Layer=rl,Qe.LayerGroup=ch,Qe.layerGroup=function(T,R){return new ch(T,R)},Qe.FeatureGroup=ol,Qe.featureGroup=function(T,R){return new ol(T,R)},Qe.ImageOverlay=Co,Qe.imageOverlay=function(T,R,W){return new Co(T,R,W)},Qe.VideoOverlay=Ra,Qe.videoOverlay=function vu(T,R,W){return new Ra(T,R,W)},Qe.SVGOverlay=hh,Qe.svgOverlay=function f1(T,R,W){return new hh(T,R,W)},Qe.DivOverlay=ji,Qe.Popup=Jd,Qe.popup=function(T,R){return new Jd(T,R)},Qe.Tooltip=dh,Qe.tooltip=function(T,R){return new dh(T,R)},Qe.Icon=kl,Qe.icon=function Wt(T){return new kl(T)},Qe.DivIcon=Ip,Qe.divIcon=function g1(T){return new Ip(T)},Qe.Marker=St,Qe.marker=function Ns(T,R){return new St(T,R)},Qe.TileLayer=ca,Qe.tileLayer=El,Qe.GridLayer=Oo,Qe.gridLayer=function KE(T){return new Oo(T)},Qe.SVG=v1,Qe.svg=d5,Qe.Renderer=Il,Qe.Canvas=Xt,Qe.canvas=h5,Qe.Path=qi,Qe.CircleMarker=Bo,Qe.circleMarker=function Ka(T,R){return new Bo(T,R)},Qe.Circle=nd,Qe.circle=function La(T,R,W){return new nd(T,R,W)},Qe.Polyline=Ko,Qe.polyline=function on(T,R){return new Ko(T,R)},Qe.Polygon=ri,Qe.polygon=function Lr(T,R){return new ri(T,R)},Qe.Rectangle=IT,Qe.rectangle=function QE(T,R){return new IT(T,R)},Qe.Map=Et,Qe.map=function kp(T,R){return new Et(T,R)};var LT=window.L;Qe.noConflict=function(){return window.L=LT,this},window.L=Qe}(lu)},4315:(rc,lu,Qe)=>{"use strict";const Fn=Symbol.prototype.valueOf,Ee=Qe(2872);rc.exports=function aa(_t,Un){switch(Ee(_t)){case"array":return _t.slice();case"object":return Object.assign({},_t);case"date":return new _t.constructor(Number(_t));case"map":return new Map(_t);case"set":return new Set(_t);case"buffer":return function Ur(_t){const Un=_t.length,Oa=Buffer.allocUnsafe?Buffer.allocUnsafe(Un):Buffer.from(Un);return _t.copy(Oa),Oa}(_t);case"symbol":return function No(_t){return Fn?Object(Fn.call(_t)):{}}(_t);case"arraybuffer":return function Ci(_t){const Un=new _t.constructor(_t.byteLength);return new Uint8Array(Un).set(new Uint8Array(_t)),Un}(_t);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function Pt(_t,Un){return new _t.constructor(_t.buffer,_t.byteOffset,_t.length)}(_t);case"regexp":return function bi(_t){const Un=void 0!==_t.flags?_t.flags:/\w+$/.exec(_t)||void 0,Oa=new _t.constructor(_t.source,Un);return Oa.lastIndex=_t.lastIndex,Oa}(_t);case"error":return Object.create(_t);default:return _t}}}},rc=>{rc(rc.s=1306)}]);