{"ast":null,"code":"import { BasePageComponent } from '../base-page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/services/http/http.service\";\nimport * as i3 from \"src/app/ui/services/modal/modal.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ng-zorro-antd/table\";\nimport * as i7 from \"../../ui/directives/color/color.directive\";\nimport * as i8 from \"../../ui/directives/shape/shape.directive\";\nimport * as i9 from \"../../ui/components/button/button.component\";\nimport * as i10 from \"../../ui/components/card/card.component\";\nimport * as i11 from \"../../ui/components/alert/alert.component\";\nfunction SloteviewComponent_div_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_div_4_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const item_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.OpenSlote(item_r11.slote_no, item_r11.price));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r11 = i0.ɵɵnextContext().$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"outline\", ctx_r13.time_slote_id == item_r11.slote_no ? false : true)(\"view\", \"success\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r11.slote);\n  }\n}\nfunction SloteviewComponent_div_4_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"disabled\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r11.slote);\n  }\n}\nfunction SloteviewComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SloteviewComponent_div_4_button_1_Template, 2, 3, \"button\", 12);\n    i0.ɵɵtemplate(2, SloteviewComponent_div_4_button_2_Template, 2, 2, \"button\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r11.is_reserved == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r11.is_reserved != 0);\n  }\n}\nfunction SloteviewComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_div_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      const _r2 = i0.ɵɵreference(8);\n      const _r4 = i0.ɵɵreference(10);\n      return i0.ɵɵresetView(ctx_r20.ProceedPayment(_r2, \"Confirm Payment\", _r4));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"block\", true)(\"view\", \"success\")(\"tcShape\", 500)(\"afterIcon\", \"icofont-pixels\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Proceed Payment $\", ctx_r1.price, \" \");\n  }\n}\nfunction SloteviewComponent_ng_template_7_tc_alert_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tc-alert\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"removable\", true)(\"view\", ctx_r22.status)(\"view\", \"success\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r22.texttoshow, \" \");\n  }\n}\nfunction SloteviewComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, SloteviewComponent_ng_template_7_tc_alert_2_Template, 2, 4, \"tc-alert\", 18);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Are You Sure want to Proceed Payment $\", ctx_r3.price, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.is_ActveButton == 1);\n  }\n}\nfunction SloteviewComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_ng_template_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.closeModal());\n    });\n    i0.ɵɵtext(2, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_ng_template_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.proceed());\n    });\n    i0.ɵɵtext(4, \" Proceed Payment \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", \"button\")(\"view\", \"error\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"view\", \"info\")(\"disabled\", ctx_r5.is_ActveButton == 0 ? false : true);\n  }\n}\nfunction SloteviewComponent_ng_template_12_tc_alert_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tc-alert\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"removable\", true)(\"view\", ctx_r26.status)(\"view\", \"success\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r26.texttoshow, \" \");\n  }\n}\nfunction SloteviewComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 23);\n    i0.ɵɵtext(1, \"Are You Sure want to Cancel ? We will Deduct 50% \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, SloteviewComponent_ng_template_12_tc_alert_2_Template, 2, 4, \"tc-alert\", 24);\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.is_ActveButton == 1);\n  }\n}\nfunction SloteviewComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_ng_template_14_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.closeModal());\n    });\n    i0.ɵɵtext(2, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_ng_template_14_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.CancleSlote());\n    });\n    i0.ɵɵtext(4, \" Cancel Slote \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", \"button\")(\"view\", \"error\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"view\", \"info\")(\"disabled\", ctx_r9.is_ActveButton == 0 ? false : true);\n  }\n}\nfunction SloteviewComponent_tc_card_16_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementContainerStart(1);\n    i0.ɵɵelementStart(2, \"td\")(3, \"div\", 30)(4, \"strong\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\", 29)(23, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function SloteviewComponent_tc_card_16_tr_27_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r35);\n      const data_r32 = restoredCtx.$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      const _r6 = i0.ɵɵreference(13);\n      const _r8 = i0.ɵɵreference(15);\n      return i0.ɵɵresetView(ctx_r34.startEdit(data_r32.reservations_id, _r6, \"Cancel Slote\", _r8));\n    });\n    i0.ɵɵtext(24, \"Cancel Slote\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r32 = ctx.$implicit;\n    const i_r33 = ctx.index;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i_r33 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.reservations_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.slote_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.cust_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.slote_no);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.car_type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.my_slote);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.amount_received);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nzAlign\", \"right\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"size\", \"sm\")(\"view\", \"accent\");\n  }\n}\nfunction SloteviewComponent_tc_card_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tc-card\", 2)(1, \"div\", 26)(2, \"nz-table\", 27, 28)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Reservations Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Slote Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Cust Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Slote No\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"Car Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"My slote\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Amount Received\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 29);\n    i0.ɵɵtext(25, \"Cancel Slote\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"tbody\");\n    i0.ɵɵtemplate(27, SloteviewComponent_tc_card_16_tr_27_Template, 25, 12, \"tr\", 4);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r30 = i0.ɵɵreference(3);\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"title\", \"My Bookings\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nzData\", ctx_r10.Mybookings)(\"nzShowPagination\", false);\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"nzAlign\", \"right\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r30.data);\n  }\n}\nexport class SloteviewComponent extends BasePageComponent {\n  constructor(store, httpSv, modal, route, datePipe) {\n    super(store, httpSv);\n    this.modal = modal;\n    this.route = route;\n    this.datePipe = datePipe;\n    this.Mybookings = [];\n    this.editCache = {};\n    this.gender = [{\n      label: 'Male',\n      value: 'Male'\n    }, {\n      label: 'Female',\n      value: 'Female'\n    }];\n    this.slides = [{\n      img: '/assets/content/department-1.jpg',\n      title: 'Chronic Disease and Self-Help Program Lay Leader Training'\n    }, {\n      img: '/assets/content/department-2.jpg',\n      title: 'BLS Instructor Course'\n    }, {\n      img: '/assets/content/department-3.jpg',\n      title: 'New Diagnostic Approaches and Therapeutic Interventions”'\n    }];\n    this.slote_id = 0;\n    this.slotelist = [];\n    this.time_slote_id = 0;\n    this.price = 0;\n    this.is_ActveButton = 0;\n    this.currentdate = \"\";\n    this.date = \"\";\n    this.reservation_id_selected = 0;\n    this.pageData = {\n      title: 'Slote Details',\n      breadcrumbs: [{\n        title: 'Admin',\n        route: 'default-dashboard'\n      }, {\n        title: 'Reservation',\n        route: 'reservation'\n      }, {\n        title: 'Reserved slotes'\n      }]\n    };\n  }\n  OpenSlote(slote_id, price) {\n    this.price = price;\n    this.time_slote_id = slote_id;\n  }\n  proceed() {\n    this.is_ActveButton = 0;\n    this.status = '';\n    this.texttoshow = '';\n    let ar_obj = {\n      slote_id: this.slote_id,\n      date: this.date,\n      amount_recived: this.price,\n      slote_no: this.time_slote_id,\n      cust_id: localStorage.getItem('cust_id')\n    };\n    this.httpSv.postdata(ar_obj, 'book_slote').subscribe(respo => {\n      this.status = 'success';\n      this.texttoshow = respo.message;\n      let source = {\n        slote_id: this.slote_id,\n        date: this.date\n      };\n      this.is_ActveButton = 1;\n      this.postdata('generateslotes', 'slotelist', 'setLoaded', source);\n    }, err => {\n      console.log(err);\n      this.status = 'warning';\n      this.texttoshow = err.message;\n    }, () => {});\n  }\n  closeModal() {\n    this.is_ActveButton = 0;\n    this.modal.close();\n  }\n  ProceedPayment(body, header = null, footer = null, data = null) {\n    this.modal.open({\n      body: body,\n      header: header,\n      footer: footer\n    });\n  }\n  ngOnInit() {\n    this.user_type = localStorage.getItem('user_type');\n    super.ngOnInit();\n    this.route.params.subscribe(params => {\n      this.slote_id = params['value'];\n      this.date = this.datePipe.transform(params['date'], 'yyyy-MM-dd');\n      // Use the retrieved value as needed\n    });\n\n    this.currentdate = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\n    let source = {\n      slote_id: this.slote_id,\n      date: this.date\n    };\n    this.postdata('generateslotes', 'slotelist', 'setLoaded', source);\n    if (this.user_type == 'customer') {\n      let source2 = {\n        cust_id: localStorage.getItem('cust_id')\n      };\n      this.postdata('my_bookings', 'Mybookings', 'setLoaded', source2);\n    }\n  }\n  ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n  setDoctors() {\n    this.updateEditCache();\n    this.setLoaded();\n  }\n  startEdit(id, body, header = null, footer = null, data = null) {\n    this.reservation_id_selected = id;\n    this.modal.open({\n      body: body,\n      header: header,\n      footer: footer\n    });\n  }\n  findObjectByValue(array, searchValue) {\n    return array.find(obj => obj.reservations_id === searchValue);\n  }\n  CancleSlote() {\n    let ar_obj = \"reservations_id=\" + this.reservation_id_selected;\n    let foundObject = this.findObjectByValue(this.Mybookings, this.reservation_id_selected);\n    this.httpSv.DeleteData(ar_obj, 'delete_reservation').subscribe(respo => {\n      this.status = 'success';\n      this.texttoshow = respo.message;\n      let source = {\n        slote_id: this.slote_id,\n        date: this.date\n      };\n      this.is_ActveButton = 1;\n      this.Mybookings = this.Mybookings.filter(row => row !== foundObject);\n    }, err => {\n      console.log(err);\n      this.status = 'warning';\n      this.texttoshow = err.message;\n    }, () => {});\n  }\n  cancelEdit(id) {\n    const index = this.Mybookings.findIndex(item => item.id === id);\n    this.editCache[id] = {\n      data: {\n        ...this.Mybookings[index]\n      },\n      edit: false\n    };\n  }\n  updateEditCache() {\n    this.Mybookings.forEach(item => {\n      this.editCache[item.id] = {\n        edit: false,\n        data: {\n          ...item\n        }\n      };\n    });\n  }\n  saveEdit(id) {\n    const index = this.Mybookings.findIndex(item => item.id === id);\n    Object.assign(this.Mybookings[index], this.editCache[id].data);\n    this.editCache[id].edit = false;\n  }\n}\nSloteviewComponent.ɵfac = function SloteviewComponent_Factory(t) {\n  return new (t || SloteviewComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i3.TCModalService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.DatePipe));\n};\nSloteviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SloteviewComponent,\n  selectors: [[\"app-sloteview\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 17,\n  vars: 4,\n  consts: [[1, \"\"], [1, \"col-12\"], [1, \"mb-0\", 3, \"title\"], [1, \"buttons-list\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-12 col-md-3 mt-4 mb-4\", 4, \"ngIf\"], [\"class\", \"font-bold font-large\"], [\"modalBody\", \"\"], [\"modalFooter\", \"\"], [\"modalBody2\", \"\"], [\"modalFooter2\", \"\"], [\"class\", \"mb-0\", 3, \"title\", 4, \"ngIf\"], [\"tc-button\", \"\", \"tcColor\", \"#1047d1\", 3, \"outline\", \"view\", \"click\", 4, \"ngIf\"], [\"tc-button\", \"\", 3, \"disabled\", 4, \"ngIf\"], [\"tc-button\", \"\", \"tcColor\", \"#1047d1\", 3, \"outline\", \"view\", \"click\"], [\"tc-button\", \"\", 3, \"disabled\"], [1, \"col-12\", \"col-md-3\", \"mt-4\", \"mb-4\"], [\"tc-button\", \"\", 3, \"block\", \"view\", \"tcShape\", \"afterIcon\", \"click\"], [\"class\", \"mb-4\", 3, \"removable\", \"view\", 4, \"ngIf\"], [1, \"mb-4\", 3, \"removable\", \"view\"], [1, \"actions\", \"justify-content-between\"], [\"tc-button\", \"\", 3, \"type\", \"view\", \"click\"], [\"tc-button\", \"\", 3, \"view\", \"disabled\", \"click\"], [1, \"mb-2\"], [\"class\", \"mb-4 mt-4\", 3, \"removable\", \"view\", 4, \"ngIf\"], [1, \"mb-4\", \"mt-4\", 3, \"removable\", \"view\"], [1, \"table-wrap\"], [\"nzBordered\", \"\", 3, \"nzData\", \"nzShowPagination\"], [\"editRowTable\", \"\"], [3, \"nzAlign\"], [1, \"d-flex\", \"align-items-center\"], [1, \"text-nowrap\"], [\"tc-button\", \"\", 3, \"size\", \"view\", \"click\"]],\n  template: function SloteviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"tc-card\", 2)(3, \"div\", 3);\n      i0.ɵɵtemplate(4, SloteviewComponent_div_4_Template, 3, 2, \"div\", 4);\n      i0.ɵɵtemplate(5, SloteviewComponent_div_5_Template, 3, 5, \"div\", 5);\n      i0.ɵɵelementContainerStart(6);\n      i0.ɵɵtemplate(7, SloteviewComponent_ng_template_7_Template, 3, 2, \"ng-template\", 6, 7, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(9, SloteviewComponent_ng_template_9_Template, 5, 4, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementContainerStart(11);\n      i0.ɵɵtemplate(12, SloteviewComponent_ng_template_12_Template, 3, 1, \"ng-template\", 6, 9, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(14, SloteviewComponent_ng_template_14_Template, 5, 4, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(16, SloteviewComponent_tc_card_16_Template, 28, 5, \"tc-card\", 11);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"title\", \"Select Slote\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.slotelist);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == \"customer\");\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.Mybookings && ctx.Mybookings.length && ctx.user_type == \"customer\");\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.NzTableComponent, i6.NzTableCellDirective, i6.NzThMeasureDirective, i6.NzTheadComponent, i6.NzTbodyComponent, i6.NzTrDirective, i6.NzCellAlignDirective, i7.TCColorDirective, i8.TCShapeDirective, i9.TCButtonComponent, i10.TCCardComponent, i11.TCAlertComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["BasePageComponent","i0","SloteviewComponent","constructor","store","httpSv","modal","route","datePipe","label","value","img","title","pageData","breadcrumbs","OpenSlote","slote_id","price","time_slote_id","proceed","is_ActveButton","status","texttoshow","ar_obj","date","amount_recived","slote_no","cust_id","localStorage","getItem","postdata","subscribe","respo","message","source","err","console","log","closeModal","close","ProceedPayment","body","header","footer","data","open","ngOnInit","user_type","params","transform","currentdate","Date","source2","ngOnDestroy","setDoctors","updateEditCache","setLoaded","startEdit","id","reservation_id_selected","findObjectByValue","array","searchValue","find","obj","reservations_id","CancleSlote","foundObject","Mybookings","DeleteData","filter","row","cancelEdit","index","findIndex","item","editCache","edit","forEach","saveEdit","Object","assign","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\interview-task\\gitlab\\parking\\src\\app\\pages\\sloteview\\sloteview.component.ts","D:\\interview-task\\gitlab\\parking\\src\\app\\pages\\sloteview\\sloteview.component.html"],"sourcesContent":["import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { BasePageComponent } from '../base-page';\nimport { Store } from '@ngrx/store';\n\n\nimport { IAppState } from 'src/app/interfaces/app-state';\nimport { HttpService } from 'src/app/services/http/http.service';\n\nimport { IDepartmentDoctor, Mybookings } from 'src/app/interfaces/department';\nimport { IOption } from 'src/app/ui/interfaces/option';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { DatePipe } from '@angular/common';\nimport { TCModalService } from 'src/app/ui/services/modal/modal.service';\n@Component({\n  selector: 'app-sloteview',\n  templateUrl: './sloteview.component.html',\n  styleUrls: ['./sloteview.component.scss']\n})\nexport class SloteviewComponent extends  BasePageComponent implements OnInit, OnDestroy {\n  Mybookings: Mybookings[] = [];\n  editCache: { [key: string]: { edit: boolean; data: Mybookings } } = {};\n  gender: IOption[] = [\n    {\n      label: 'Male',\n      value: 'Male'\n    },\n    {\n      label: 'Female',\n      value: 'Female'\n    }\n  ];\n  slides: any[] = [\n    {\n      img: '/assets/content/department-1.jpg',\n      title: 'Chronic Disease and Self-Help Program Lay Leader Training'\n    },\n    {\n      img: '/assets/content/department-2.jpg',\n      title: 'BLS Instructor Course'\n    },\n    {\n      img: '/assets/content/department-3.jpg',\n      title: 'New Diagnostic Approaches and Therapeutic Interventions”'\n    }\n  ];\n\n  constructor(\n    store: Store<IAppState>,\n    httpSv: HttpService,\n    private modal: TCModalService,\n   private route:ActivatedRoute,private datePipe:DatePipe\n  ) {\n    super(store, httpSv);\n\n    this.pageData = {\n      title: 'Slote Details',\n      breadcrumbs: [\n        {\n          title: 'Admin',\n          route: 'default-dashboard'\n        },\n        {\n          title: 'Reservation',\n          route: 'reservation'\n        },\n        {\n          title: 'Reserved slotes'\n        }\n      ]\n    };\n  }\n  \n  slot_view\n\nslote_id=0;\nslotelist=[]\n\ntime_slote_id=0;\nprice=0;\nOpenSlote(slote_id,price){\nthis.price=price;\n  this.time_slote_id=slote_id;\n\n}\nis_ActveButton=0;\n\nproceed(){\n\nthis.is_ActveButton=0\n  this.status=''\n  this.texttoshow=''\n\n\n\n\n\n  let ar_obj={\n    slote_id:this.slote_id,\n    date:  this.date,\n    amount_recived:this.price,\n    slote_no:this.time_slote_id,\n    cust_id:localStorage.getItem('cust_id')\n    }\n\n\n    this.httpSv.postdata(ar_obj,'book_slote').subscribe(\n      respo => {\n        this.status='success'\n        this.texttoshow=respo.message\n        let source={\n          slote_id:this.slote_id,\n          date:  this.date\n        }\n        this.is_ActveButton=1\n        \n            this.postdata('generateslotes', 'slotelist', 'setLoaded',source);\n      },\n      err => {\n        console.log(err);\n\n        this.status='warning'\n        this.texttoshow=err.message\n      },\n      () => {\n      \n      }\n    );\n}\n\n closeModal() {\n  this.is_ActveButton=0;\n    this.modal.close();\n   \n  }\n  status\n  texttoshow\nProceedPayment(body: any, header: any = null, footer: any = null, data: any = null){\n\n  this.modal.open({\n    body: body,\n    header: header,\n    footer: footer\n  });\n\n}\n\n\nuser_type\n\ncurrentdate=\"\";\ndate=\"\";\n  ngOnInit() {\nthis.user_type=localStorage.getItem('user_type');\n\n    super.ngOnInit();\n\n    this.route.params.subscribe((params: Params) => {\n      this.slote_id = params['value'];\n      this.date=this.datePipe.transform(params['date'], 'yyyy-MM-dd');       \n      // Use the retrieved value as needed\n    });\n    this.currentdate=this.datePipe.transform(new Date(), 'yyyy-MM-dd');\n \nlet source={\n  slote_id:this.slote_id,\n  date:  this.date\n}\nthis.postdata('generateslotes', 'slotelist', 'setLoaded',source);\nif(this.user_type=='customer'){\n  let source2={\n    cust_id:localStorage.getItem('cust_id')\n  }\n      \n      this.postdata('my_bookings', 'Mybookings', 'setLoaded',source2);\n  \n}\n\n\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n\n  setDoctors(): void {\n    this.updateEditCache();\n    this.setLoaded();\n  }\nreservation_id_selected=0\n  startEdit(id,body: any, header: any = null, footer: any = null, data: any = null): void {\n    this.reservation_id_selected=id;\n    this.modal.open({\n      body: body,\n      header: header,\n      footer: footer\n    });\n  }\n\n\n   findObjectByValue(array: Mybookings[], searchValue): Mybookings | undefined {\n    return array.find(obj => obj.reservations_id === searchValue);\n  }\n  \n  CancleSlote(){\nlet ar_obj=\"reservations_id=\"+this.reservation_id_selected\n\nlet foundObject = this.findObjectByValue(this.Mybookings, this.reservation_id_selected);\n\n    this.httpSv.DeleteData(ar_obj,'delete_reservation').subscribe(\n      respo => {\n\n\n\n\n        this.status='success'\n        this.texttoshow=respo.message\n        let source={\n          slote_id:this.slote_id,\n          date:  this.date\n        }\n        this.is_ActveButton=1\n        \n        this.Mybookings = this.Mybookings.filter(row => row !== foundObject);\n          \n      },\n      err => {\n        console.log(err);\n\n        this.status='warning'\n        this.texttoshow=err.message\n      },\n      () => {\n      \n      }\n    );\n\n\n\n\n  }\n\n  cancelEdit(id: string): void {\n    const index = this.Mybookings.findIndex(item => item.id === id);\n\n    this.editCache[id] = {\n      data: { ...this.Mybookings[index] },\n      edit: false\n    };\n  }\n\n  updateEditCache(): void {\n    this.Mybookings.forEach(item => {\n      this.editCache[item.id] = {\n        edit: false,\n        data: { ...item }\n      };\n    });\n  }\n\n  saveEdit(id: string): void {\n    const index = this.Mybookings.findIndex(item => item.id === id);\n\n    Object.assign(this.Mybookings[index], this.editCache[id].data);\n    this.editCache[id].edit = false;\n  }\n}\n","<div class=\"\">\n    <div class=\"col-12\">\n        <tc-card [title]=\"'Select Slote'\" class=\"mb-0\">\n       \n\n\n          <div  class=\"buttons-list\">\n<div *ngFor=\"let item of slotelist;let i=index;\">\n    <button  *ngIf=\"item.is_reserved==0\"   (click)=\"OpenSlote(item.slote_no,item.price)\"  tc-button [outline]=\"time_slote_id==item.slote_no?false:true\" tcColor=\"#1047d1\" [view]=\"'success'\">{{item.slote}}</button>\n\n    <button  *ngIf=\"item.is_reserved!=0\"  tc-button [disabled]=\"true\">{{item.slote}}</button>\n\n</div>\n\n<div *ngIf=\"user_type=='customer'\" class=\"col-12 col-md-3 mt-4 mb-4\">\n    <button\n   \n    (click)=\" ProceedPayment(modalBody, 'Confirm Payment', modalFooter)\"\n      tc-button\n      [block]=\"true\"\n      \n      [view]=\"'success'\"\n      [tcShape]=\"500\"\n      [afterIcon]=\"'icofont-pixels'\"\n    >\n      Proceed Payment ${{price}}\n    </button>\n</div>\n\n\n\n<ng-container>\n    <ng-template class=\"font-bold font-large\" #modalBody>\n     \n  <strong>Are You Sure want to Proceed Payment ${{price}}</strong>\n      <tc-alert  *ngIf=\"this.is_ActveButton==1\" [removable]=\"true\" [view]=\"status\" [view]=\"'success'\" class=\"mb-4\">\n        {{texttoshow}}\n       </tc-alert>\n  \n  \n  \n  \n    </ng-template>\n  \n    <ng-template #modalFooter>\n      <div class=\"actions justify-content-between\">\n        <button tc-button [type]=\"'button'\" [view]=\"'error'\" (click)=\"closeModal()\">Cancel</button>\n        <button tc-button [view]=\"'info'\" [disabled]=\"is_ActveButton==0?false:true\" (click)=\"proceed()\">\n        Proceed Payment\n        </button>\n      </div>\n    </ng-template>\n  </ng-container>\n\n\n\n\n</div>\n\n\n\n\n        </tc-card>\n      </div>\n  \n \n  </div>\n\n\n\n\n\n\n\n\n  <ng-container>\n    <ng-template class=\"font-bold font-large\" #modalBody2>\n     \n  <strong class=\"mb-2\">Are You Sure want to Cancel  ? We will Deduct 50% </strong>\n      <tc-alert  *ngIf=\"this.is_ActveButton==1\" [removable]=\"true\" [view]=\"status\" [view]=\"'success'\" class=\"mb-4 mt-4\">\n        {{texttoshow}}\n       </tc-alert>\n    </ng-template>\n  \n    <ng-template #modalFooter2>\n      <div class=\"actions justify-content-between\">\n        <button tc-button [type]=\"'button'\" [view]=\"'error'\" (click)=\"closeModal()\">Cancel</button>\n        <button tc-button [view]=\"'info'\" [disabled]=\"is_ActveButton==0?false:true\" (click)=\"CancleSlote()\">\n      Cancel Slote\n        </button>\n      </div>\n    </ng-template>\n  </ng-container>\n\n\n\n  \n  <tc-card *ngIf=\"Mybookings && Mybookings.length && user_type=='customer'\" [title]=\"'My Bookings'\" class=\"mb-0\">\n    <div class=\"table-wrap\">\n      <nz-table #editRowTable nzBordered [nzData]=\"Mybookings\" [nzShowPagination]=\"false\">\n        <thead>\n        <tr>\n          <th>id</th>\n          <th>Reservations Id</th>\n          <th>Slote Id</th>\n          <th>Date</th>\n          <th>Cust Id</th>\n          <th>Slote No</th>\n          <th>Car Type</th>\n          <th>My slote</th>\n          <th>Amount Received</th>\n  \n          <th [nzAlign]=\"'right'\">Cancel Slote</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let data of editRowTable.data;let i=index\">\n          <ng-container >\n            <td>\n              <div class=\"d-flex align-items-center\">\n                <strong class=\"text-nowrap\">{{i+1 }}</strong>\n              </div>\n            </td>\n\n\n\n            <td>{{ data.reservations_id }}</td>\n            <td>{{ data.slote_id }}</td>\n            <td>{{ data.date }}</td>\n            <td>{{ data.cust_id }}</td>\n            <td>{{ data.slote_no }}</td>\n            <td>{{ data.car_type }}</td>\n            <td>{{ data.my_slote }}</td>\n            <td>{{ data.amount_received }}</td>\n            <td [nzAlign]=\"'right'\">\n              <button tc-button [size]=\"'sm'\" [view]=\"'accent'\" (click)=\"startEdit(data.reservations_id,modalBody2, 'Cancel Slote', modalFooter2)\">Cancel Slote</button>\n            </td>\n          </ng-container>\n          <!-- <ng-template #editTemplate>\n           \n          </ng-template> -->\n        </tr>\n        </tbody>\n      </nz-table>\n    </div>\n  </tc-card>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}